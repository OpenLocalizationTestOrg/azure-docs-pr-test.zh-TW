---
title: "Microsoft Azure 虛擬資料中心 | Microsoft Docs"
description: "了解如何在 Azure 中建置虛擬資料中心"
services: networking
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.service: virtual-network
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/26/2017
ms.author: jonor
ms.openlocfilehash: 487c2dc22acc5194ef103ebef01c62c887580335
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="microsoft-azure-virtual-data-center"></a><span data-ttu-id="30a2f-103">Microsoft Azure 虛擬資料中心</span><span class="sxs-lookup"><span data-stu-id="30a2f-103">Microsoft Azure Virtual Data Center</span></span>
<span data-ttu-id="30a2f-104">**Microsoft Azure**：移動更為快速、節省成本、在內部部署環境整合應用程式和資料</span><span class="sxs-lookup"><span data-stu-id="30a2f-104">**Microsoft Azure**: Move faster, Save money, Integrate on-premises apps and data</span></span>

## <a name="overview"></a><span data-ttu-id="30a2f-105">概觀</span><span class="sxs-lookup"><span data-stu-id="30a2f-105">Overview</span></span>
<span data-ttu-id="30a2f-106">將內部部署應用程式移轉至 Azure，甚至不需要任何大量變更 (稱為「隨即轉移」的方法)，即可將安全且具成本效益的基礎結構的優點提供給組織。</span><span class="sxs-lookup"><span data-stu-id="30a2f-106">Migrating on-premises applications to Azure, even without any significant changes (an approach known as “lift and shift”), provides organizations the benefits of a secured and cost-efficient infrastructure.</span></span> <span data-ttu-id="30a2f-107">不過，若要讓雲端運算具有最大靈活度，企業應該持續改進其架構，以充分利用 Azure 功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-107">However, to make the most of the agility possible with cloud computing, enterprises should evolve their architectures to take advantage of Azure capabilities.</span></span> <span data-ttu-id="30a2f-108">Microsoft Azure 提供超大規模的服務和基礎結構、企業級功能和可靠性，以及許多混合式連線選項。</span><span class="sxs-lookup"><span data-stu-id="30a2f-108">Microsoft Azure delivers hyper-scale services and infrastructure, enterprise-grade capabilities and reliability, and many choices for hybrid connectivity.</span></span> <span data-ttu-id="30a2f-109">客戶可以選擇透過網際網路或透過 Azure ExpressRoute (提供私人網路連線) 存取這些雲端服務。</span><span class="sxs-lookup"><span data-stu-id="30a2f-109">Customers can choose to access these cloud services either via the Internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="30a2f-110">Microsoft Azure 平台可讓客戶順暢地將基礎結構延伸至雲端並建置多層式架構。</span><span class="sxs-lookup"><span data-stu-id="30a2f-110">The Microsoft Azure platform allows customers to seamlessly extend their infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="30a2f-111">此外，Microsoft 夥伴提供增強的功能，方法是提供最適合在 Azure 中執行的安全性服務和虛擬設備。</span><span class="sxs-lookup"><span data-stu-id="30a2f-111">Additionally, Microsoft partners provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

<span data-ttu-id="30a2f-112">本文概述可用來解決許多客戶在考慮移至雲端時所面臨之架構規模、效能和安全性問題的模式和設計。</span><span class="sxs-lookup"><span data-stu-id="30a2f-112">This article provides an overview of patterns and designs that can be used to solve the architectural scale, performance, and security concerns many customers face when thinking about moving en masse to the cloud.</span></span> <span data-ttu-id="30a2f-113">討論如何將不同組織 IT 角色放入系統的管理和控管，並強調安全性需求和成本最佳化。</span><span class="sxs-lookup"><span data-stu-id="30a2f-113">An overview of how to fit different organizational IT roles into the management and governance of the system is also discussed, with emphasis to security requirements and cost optimization.</span></span>

## <a name="what-is-a-virtual-data-center"></a><span data-ttu-id="30a2f-114">什麼是虛擬資料中心？</span><span class="sxs-lookup"><span data-stu-id="30a2f-114">What is a Virtual Data Center?</span></span>
<span data-ttu-id="30a2f-115">在早期，雲端解決方案設計成在公用頻譜中裝載相對隔離的單一應用程式。</span><span class="sxs-lookup"><span data-stu-id="30a2f-115">In the early days, cloud solutions were designed to host single, relatively isolated, applications, in the public spectrum.</span></span> <span data-ttu-id="30a2f-116">這種方法已良好運作多年。</span><span class="sxs-lookup"><span data-stu-id="30a2f-116">This approach worked well for a few years.</span></span> <span data-ttu-id="30a2f-117">不過，雲端解決方案的優點變得明顯，並且雲端上裝載多個大規模工作負載，而在雲端服務的整個生命週期，處理一或多個區域中的安全性、可靠性、效能和部署成本考量變得十分重要。</span><span class="sxs-lookup"><span data-stu-id="30a2f-117">However, as the benefits of cloud solutions became apparent and multiple large-scale workloads were hosted on the cloud, addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout the life cycle of the cloud service.</span></span>

<span data-ttu-id="30a2f-118">下列雲端部署圖所說明的範例是有關安全性漏洞 (紅色方塊) 以及跨工作負載的最佳化網路虛擬設備的空間 (黃色方塊)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-118">The following cloud deployment diagram illustrates some examples of security gaps (red box) and room for optimization network virtual appliances across workloads (yellow box).</span></span>

<span data-ttu-id="30a2f-119">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="30a2f-119">[![0]][0]</span></span>

<span data-ttu-id="30a2f-120">虛擬資料中心 (vDC) 的產生是基於調整以支援企業工作負載的這項必要性，以及需要處理在公用雲端中支援大規模應用程式時所產生的問題。</span><span class="sxs-lookup"><span data-stu-id="30a2f-120">The Virtual Data Center (vDC) was born from this necessity for scaling to support enterprise workloads, and the need to deal with the problems introduced when supporting large-scale applications in the public cloud.</span></span>

<span data-ttu-id="30a2f-121">vDC 不只是雲端中的應用程式工作負載，也是網路、安全性、管理和基礎結構 (例如，DNS 和目錄服務)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-121">A vDC is not just the application workloads in the cloud, but also the network, security, management, and infrastructure (for example, DNS and Directory Services).</span></span> <span data-ttu-id="30a2f-122">它通常也會將私人連線提供回內部部署網路或資料中心。</span><span class="sxs-lookup"><span data-stu-id="30a2f-122">It usually also provides a private connection back to an on-premises network or data center.</span></span> <span data-ttu-id="30a2f-123">越來越多的工作負載移到 Azure 時，請務必考慮支援基礎結構以及這些工作負載所在的物件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-123">As more and more workloads move to Azure, it is important to think about the supporting infrastructure and objects that these workloads are placed in.</span></span> <span data-ttu-id="30a2f-124">謹慎考量資源建構方式可以避免激增數百個「工作負載島」，而工作負載島必須使用獨立資料流程、安全性模型和相容性挑戰進行分開管理。</span><span class="sxs-lookup"><span data-stu-id="30a2f-124">Thinking carefully about how resources are structured can avoid the proliferation of hundreds of "workload islands" that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="30a2f-125">虛擬資料中心本質上是不同但相關實體的集合，而實體具有一般支援功能和基礎結構。</span><span class="sxs-lookup"><span data-stu-id="30a2f-125">A Virtual Data Center is essentially a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="30a2f-126">透過將工作負載檢視為整合式 vDC，您可以了解規模經濟的成本降低、透過元件和資料流程集中化的最佳安全性，以及更容易操作、管理和相容性稽核。</span><span class="sxs-lookup"><span data-stu-id="30a2f-126">By viewing your workloads as an integrated vDC, you can realize reduced cost due to economies of scale, optimized security through component and data flow centralization, along with easier operations, management, and compliance audits.</span></span>

> [!NOTE]
> <span data-ttu-id="30a2f-127">請務必了解 vDC **不**是離散 Azure 產品，但各種功能的組合符合您的實際需求。</span><span class="sxs-lookup"><span data-stu-id="30a2f-127">It's important to understand that the vDC is **NOT** a discrete Azure product, but the combination of various features and capabilities to  meet your exact requirements.</span></span> <span data-ttu-id="30a2f-128">vDC 是考慮工作負載和 Azure 使用量以最佳化您雲端中資源和能力的方式。</span><span class="sxs-lookup"><span data-stu-id="30a2f-128">vDC is a way of thinking about your workloads and Azure usage to maximize your resources and abilities in the cloud.</span></span> <span data-ttu-id="30a2f-129">因此，虛擬 DC 是在考慮組織角色和責任的情況，如何在 Azure 中建置 IT 服務的模組化方法。</span><span class="sxs-lookup"><span data-stu-id="30a2f-129">The virtual DC is therefore a modular approach on how to build up IT services in the Azure, respecting organizational roles and responsibilities.</span></span>

<span data-ttu-id="30a2f-130">vDC 可協助企業在下列情況下，將工作負載和應用程式放入 Azure：</span><span class="sxs-lookup"><span data-stu-id="30a2f-130">The vDC can help enterprises get workloads and applications into Azure for the following scenarios:</span></span>

-   <span data-ttu-id="30a2f-131">裝載多個相關工作負載</span><span class="sxs-lookup"><span data-stu-id="30a2f-131">Hosting multiple related workloads</span></span>
-   <span data-ttu-id="30a2f-132">將工作負載從內部部署環境移轉至 Azure</span><span class="sxs-lookup"><span data-stu-id="30a2f-132">Migrating workloads from an on-premises environment to Azure</span></span>
-   <span data-ttu-id="30a2f-133">實作工作負載之間的共用或集中式安全性和存取需求</span><span class="sxs-lookup"><span data-stu-id="30a2f-133">Implementing shared or centralized security and access requirements across workloads</span></span>
-   <span data-ttu-id="30a2f-134">適當地針對大型企業混合使用 DevOps 和集中式 IT</span><span class="sxs-lookup"><span data-stu-id="30a2f-134">Mixing DevOps and Centralized IT appropriately for a large enterprise</span></span>

<span data-ttu-id="30a2f-135">解除鎖定 vDC 優點的重點是混合使用 Azure 功能的集中式拓撲 (中樞和支點)：[Azure VNet][VNet]、[NSG][NSG]、[VNet 對等][VNetPeering]、[使用者定義路由 (UDR)][UDR]，以及含[角色型存取控制 (RBAC)][RBAC] 的 Azure 身分識別。</span><span class="sxs-lookup"><span data-stu-id="30a2f-135">The key to unlock the advantages of vDC, is a centralized topology (hub and spokes) with a mix of Azure features: [Azure VNet][VNet], [NSGs][NSG], [VNet Peering][VNetPeering], [User-Defined Routes (UDR)][UDR], and Azure Identity with [Role Base Access Control (RBAC)][RBAC].</span></span>

## <a name="who-needs-a-virtual-data-center"></a><span data-ttu-id="30a2f-136">誰需要虛擬資料中心？</span><span class="sxs-lookup"><span data-stu-id="30a2f-136">Who Needs a Virtual Data Center?</span></span>
<span data-ttu-id="30a2f-137">任何需要將更多工作負載移至 Azure 的 Azure 客戶，都可以受益於考慮使用常用資源。</span><span class="sxs-lookup"><span data-stu-id="30a2f-137">Any Azure customer that needs to move more than a couple of workloads into Azure can benefit from thinking about using common resources.</span></span> <span data-ttu-id="30a2f-138">根據範圍，甚至單一應用程式也可以受益於使用用來建置 vDC 的模式和元件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-138">Depending on the magnitude, even single applications can benefit from using the patterns and components used to build a vDC.</span></span>

<span data-ttu-id="30a2f-139">如果您的組織具有集中式 IT、網路、安全性和 (或) 相容性小組/部門，則 vDC 有助於強制執行原則點、職責區隔，並確保基礎一般元件的一致性，同時讓應用程式小組適當地具有與您需求一樣多的自由和控制。</span><span class="sxs-lookup"><span data-stu-id="30a2f-139">If your organization has a centralized IT, Network, Security, and/or Compliance team/department, a vDC can help enforce policy points, segregation of duty, and ensure uniformity of the underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="30a2f-140">正在嘗試 DevOps 的組織可以利用 vDC 概念來提供數個授權部分的 Azure 資源，並確保它們擁有該群組內的整體控制 (一般訂用帳戶中的訂用帳戶或資源群組)，但網路和安全性界限會保持相容，如中樞 VNet 和資源群組中的集中式原則所定義。</span><span class="sxs-lookup"><span data-stu-id="30a2f-140">Organizations that are looking to DevOps can utilize the vDC concepts to provide authorized pockets of Azure resources and ensure they have total control within that group (either subscription or resource group in a common subscription), but the network and security boundaries stay compliant as defined by a centralized policy in a hub VNet and Resource Group.</span></span>

## <a name="considerations-on-implementing-a-virtual-data-center"></a><span data-ttu-id="30a2f-141">實作虛擬資料中心的考量</span><span class="sxs-lookup"><span data-stu-id="30a2f-141">Considerations on Implementing a Virtual Data Center</span></span>
<span data-ttu-id="30a2f-142">設計 vDC 時，有數個關鍵問題需要考量：</span><span class="sxs-lookup"><span data-stu-id="30a2f-142">When designing a vDC, there are several pivotal issues to consider:</span></span>

-   <span data-ttu-id="30a2f-143">身分識別和目錄服務</span><span class="sxs-lookup"><span data-stu-id="30a2f-143">Identity and Directory Services</span></span>
-   <span data-ttu-id="30a2f-144">安全性基礎結構</span><span class="sxs-lookup"><span data-stu-id="30a2f-144">Security infrastructure</span></span>
-   <span data-ttu-id="30a2f-145">雲端的連線</span><span class="sxs-lookup"><span data-stu-id="30a2f-145">Connectivity to the cloud</span></span>
-   <span data-ttu-id="30a2f-146">雲端內的連線</span><span class="sxs-lookup"><span data-stu-id="30a2f-146">Connectivity within the cloud</span></span>

##### <a name="identity-and-directory-service"></a><span data-ttu-id="30a2f-147">*身分識別和目錄服務*</span><span class="sxs-lookup"><span data-stu-id="30a2f-147">*Identity and Directory Service*</span></span>
<span data-ttu-id="30a2f-148">身分識別和目錄服務是內部部署和雲端中所有資料中心的一個關鍵層面。</span><span class="sxs-lookup"><span data-stu-id="30a2f-148">Identity and Directory services are a key aspect of all data centers, both on-premises and in the cloud.</span></span> <span data-ttu-id="30a2f-149">身分識別是與 vDC 內服務存取和授權的所有層面有關。</span><span class="sxs-lookup"><span data-stu-id="30a2f-149">Identity is related to all aspects of access and authorization to services within the vDC.</span></span> <span data-ttu-id="30a2f-150">為了協助確保只有授權使用者和處理序才能存取您的 Azure 帳戶和資源，Azure 會使用數種類型的認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="30a2f-150">To help ensure that only authorized users and processes access your Azure Account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="30a2f-151">其中包括密碼以存取 Azure 帳戶、密碼編譯金鑰、數位簽章和憑證。</span><span class="sxs-lookup"><span data-stu-id="30a2f-151">These include passwords (to access the Azure account), cryptographic keys, digital signatures, and certificates.</span></span> <span data-ttu-id="30a2f-152">[*Azure Multi-Factor Authentication* (MFA)][MFA] 是存取 Azure 服務的額外安全層。</span><span class="sxs-lookup"><span data-stu-id="30a2f-152">[*Azure Multi-Factor Authentication* (MFA)][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="30a2f-153">Azure MFA 透過多種簡易的驗證選項提供強大的驗證，包括電話、簡訊或行動應用程式通知，讓客戶選擇自己喜歡的方式。</span><span class="sxs-lookup"><span data-stu-id="30a2f-153">Azure MFA provides strong authentication with a range of easy verification options—phone call, text message, or mobile app notification—and allow customers to choose the method they prefer.</span></span>

<span data-ttu-id="30a2f-154">任何大型企業都需要定義身分識別管理程序，以描述 vDC 內或跨 vDC 之個別身分識別、其驗證、授權、角色和權限的管理。</span><span class="sxs-lookup"><span data-stu-id="30a2f-154">Any large enterprise needs to define an identity management process that describes the management of individual identities, their authentication, authorization, roles, and privileges within or across the vDC.</span></span> <span data-ttu-id="30a2f-155">此程序的目標應該是提高安全性與生產力，同時降低成本、停機時間和重複性手動工作。</span><span class="sxs-lookup"><span data-stu-id="30a2f-155">The goals of this process should be to increase security and productivity while decreasing cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="30a2f-156">企業/組織可能需要依需求混合使用不同企業營運 (LOB) 的服務，而且員工通常在涉及不同專案時會有不同角色。</span><span class="sxs-lookup"><span data-stu-id="30a2f-156">Enterprise/organizations can require a demanding mix of services for different Line-of-Businesses (LOBs), and employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="30a2f-157">vDC 需要不同小組之間的良好合作以取得在良好控管下執行的系統，而每個小組各具有特定角色定義。</span><span class="sxs-lookup"><span data-stu-id="30a2f-157">A vDC requires good cooperation between different teams, each with specific role definitions, to get systems running with good governance.</span></span> <span data-ttu-id="30a2f-158">責任、存取權和權限的矩陣可能會非常複雜。</span><span class="sxs-lookup"><span data-stu-id="30a2f-158">The matrix of responsibilities, access, and rights can be extremely complex.</span></span> <span data-ttu-id="30a2f-159">vDC 中的身分識別管理是透過 [*Azure Active Directory* (AAD)][AAD] 和角色型存取控制 (RBAC) 進行實作。</span><span class="sxs-lookup"><span data-stu-id="30a2f-159">Identity management in vDC is implemented through [*Azure Active Directory* (AAD)][AAD] and Role-Based Access Control (RBAC).</span></span>

<span data-ttu-id="30a2f-160">目錄服務是一種共用資訊基礎結構，用於尋找、管理和組織日常項目和網路資源。</span><span class="sxs-lookup"><span data-stu-id="30a2f-160">A Directory Service is a shared information infrastructure for locating, managing, administering, and organizing everyday items and network resources.</span></span> <span data-ttu-id="30a2f-161">這些資源可能包含磁碟區、資料夾、檔案、印表機、使用者、群組、裝置和其他物件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-161">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="30a2f-162">目錄伺服器會將網路上的每個資源都視為物件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-162">Each resource on the network is considered an object by the directory server.</span></span> <span data-ttu-id="30a2f-163">資源的相關資訊會儲存為與該資源或物件建立關聯的屬性集合。</span><span class="sxs-lookup"><span data-stu-id="30a2f-163">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="30a2f-164">所有 Microsoft 線上商務服務都依賴 Azure Active Directory (AAD) 來進行登入和其他身分識別需求。</span><span class="sxs-lookup"><span data-stu-id="30a2f-164">All Microsoft online business services rely on Azure Active Directory (AAD) for sign-in and other identity needs.</span></span> <span data-ttu-id="30a2f-165">Azure Active Directory 是全方位、高可用性的身分識別和存取管理的雲端解決方案，它結合了核心目錄服務、進階身分識別管制及應用程式存取管理。</span><span class="sxs-lookup"><span data-stu-id="30a2f-165">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="30a2f-166">AAD 可以與內部部署 Active Directory 整合，以啟用所有雲端式和本機託管 (內部部署) 應用程式的單一登入。</span><span class="sxs-lookup"><span data-stu-id="30a2f-166">AAD can be integrated with on-premises Active Directory to enable single sign-on for all cloud-based and locally hosted (on-premises) applications.</span></span> <span data-ttu-id="30a2f-167">內部部署 Active Directory 的使用者屬性可以自動同步至 AAD。</span><span class="sxs-lookup"><span data-stu-id="30a2f-167">The user attributes of on-premises Active Directory can be automatically synchronized to AAD.</span></span>

<span data-ttu-id="30a2f-168">不需要單一全域系統管理員，即可指派 vDC 中的所有權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-168">A single global administrator is not required to assign all permissions in a vDC.</span></span> <span data-ttu-id="30a2f-169">相反地，每個特定部門 (或目錄服務中的使用者或服務群組) 都可以有管理其在 vDC 內專屬資源所需的權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-169">Instead each specific department (or group of users or services in the Directory Service) can have the permissions required to manage their own resources within a vDC.</span></span> <span data-ttu-id="30a2f-170">建構權限需要平衡。</span><span class="sxs-lookup"><span data-stu-id="30a2f-170">Structuring permissions requires balancing.</span></span> <span data-ttu-id="30a2f-171">權限太多可能會阻礙效能效率，而權限太少或鬆散可能會增加安全性風險。</span><span class="sxs-lookup"><span data-stu-id="30a2f-171">Too many permissions can impede performance efficiency, and too few or loose permissions can increase security risks.</span></span> <span data-ttu-id="30a2f-172">Azure 角色型存取控制 (RBAC) 可以為 vDC 資源提供更細緻的存取管理來協助解決這個問題。</span><span class="sxs-lookup"><span data-stu-id="30a2f-172">Azure Role-Based Access Control (RBAC) helps to address this problem, by offering fine-grained access management for vDC resources.</span></span>

##### <a name="security-infrastructure"></a><span data-ttu-id="30a2f-173">*安全性基礎結構*</span><span class="sxs-lookup"><span data-stu-id="30a2f-173">*Security Infrastructure*</span></span>
<span data-ttu-id="30a2f-174">vDC 內容中的安全性基礎結構主要有關 vDC 特定虛擬網路區段中的流量區隔，以及如何控制整個 vDC 的輸入和輸出流程。</span><span class="sxs-lookup"><span data-stu-id="30a2f-174">Security infrastructure, in the context of a vDC, is mainly related to the segregation of traffic in the vDC's specific virtual network segment, and how to control ingress and egress flows throughout the vDC.</span></span> <span data-ttu-id="30a2f-175">Azure 是根據多租用戶架構，可使用虛擬網路 (VNet) 隔離、存取控制清單 (ACL)、負載平衡器和 IP 篩選以及流量流程原則來防止部署之間的未經授權和意外流量。</span><span class="sxs-lookup"><span data-stu-id="30a2f-175">Azure is based on multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments, using Virtual Network (VNet) isolation, access control lists (ACLs), load balancers, and IP filters, along with traffic flow policies.</span></span> <span data-ttu-id="30a2f-176">網路位址轉譯 (NAT) 會區隔內部網路流量與外部流量。</span><span class="sxs-lookup"><span data-stu-id="30a2f-176">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="30a2f-177">Azure 網狀架構會將基礎結構資源分配給租用戶工作負載，並管理與虛擬機器 (VM) 之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="30a2f-177">The Azure fabric allocates infrastructure resources to tenant workloads and manages communications to and from virtual machines (VMs).</span></span> <span data-ttu-id="30a2f-178">Azure Hypervisor 會強制執行 VM 之間的記憶體和處理序區隔，並安全地將網路流量路由傳送至客體 OS 租用戶。</span><span class="sxs-lookup"><span data-stu-id="30a2f-178">The Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic to guest OS tenants.</span></span>

##### <a name="connectivity-to-the-cloud"></a><span data-ttu-id="30a2f-179">*雲端的連線*</span><span class="sxs-lookup"><span data-stu-id="30a2f-179">*Connectivity to the cloud*</span></span>
<span data-ttu-id="30a2f-180">vDC 需要與外部網路的連線，才能將服務提供給客戶、合作夥伴和 (或) 內部使用者。</span><span class="sxs-lookup"><span data-stu-id="30a2f-180">The vDC needs connectivity with external networks to offer services to customers, partners and/or internal users.</span></span> <span data-ttu-id="30a2f-181">這通常表示不只連線到網際網路，也會連線至內部部署網路和資料中心。</span><span class="sxs-lookup"><span data-stu-id="30a2f-181">This usually means connectivity not only to the Internet, but also to on-premises networks and data centers.</span></span>

<span data-ttu-id="30a2f-182">客戶可以建置其安全性原則，來控制可以使用網路虛擬設備從網際網路存取哪些特定 vDC 託管服務和其存取方式 (使用篩選和流量檢查)，以及自訂路由原則和網路篩選 (使用者定義路由和網路安全性群組)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-182">Customers can build their security policies to control what and how specific vDC hosted services are accessible to/from the Internet using Network Virtual Appliances (with filtering and traffic inspection), and custom routing policies and network filtering (User Defined Routing and Network Security Groups).</span></span>

<span data-ttu-id="30a2f-183">企業通常需要將 vDC 連接至內部部署資料中心或其他資源。</span><span class="sxs-lookup"><span data-stu-id="30a2f-183">Enterprises often need to connect vDCs to on-premises data centers or other resources.</span></span> <span data-ttu-id="30a2f-184">因此，設計有效架構時，Azure 與內部部署網路之間的連線是重要層面。</span><span class="sxs-lookup"><span data-stu-id="30a2f-184">The connectivity between Azure and on-premises networks is therefore a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="30a2f-185">企業有兩種不同的方式可在 Azure 中建立 vDC 與內部部署之間的互相連線：透過網際網路和 (或) 私人直接連線的傳輸。</span><span class="sxs-lookup"><span data-stu-id="30a2f-185">Enterprises have two different ways to create an interconnection between vDC and on-premises in Azure: transit over the Internet and/or by private direct connections.</span></span>

<span data-ttu-id="30a2f-186">[**Azure 站對站 VPN**][VPN] 是內部部署網路與 vDC 之間透過網際網路的互相連線服務，並透過安全加密連線 (IPsec/IKE 通道) 所建立。</span><span class="sxs-lookup"><span data-stu-id="30a2f-186">An [**Azure Site-to-Site VPN**][VPN] is an interconnection service over the Internet between on-premises networks and the vDC, established through secure encrypted connections (IPsec/IKE tunnels).</span></span> <span data-ttu-id="30a2f-187">Azure 站對站連線具彈性且更快速建立，而且不需要任何進一步採購，因為所有連線都是透過網際網路連線。</span><span class="sxs-lookup"><span data-stu-id="30a2f-187">Azure Site-to-Site connection is flexible, quick to create, and does not require any further procurement, as all connections connect over the internet.</span></span>

<span data-ttu-id="30a2f-188">[**ExpressRoute**][ExR] 是一種 Azure 連線服務，可讓您在 vDC 與內部部署網路之間建立私人連線。</span><span class="sxs-lookup"><span data-stu-id="30a2f-188">[**ExpressRoute**][ExR] is an Azure connectivity service that lets you create private connections between vDC and the on-premises networks.</span></span> <span data-ttu-id="30a2f-189">ExpressRoute 連線不會經過公用網際網路，而且會提供更高的安全性、可靠性、速度 (最高 10 Gbps)，以及一致的延遲。</span><span class="sxs-lookup"><span data-stu-id="30a2f-189">ExpressRoute connections do not go over the public Internet, and offer higher security, reliability, and higher speeds (up to 10 Gbps) along with consistent latency.</span></span> <span data-ttu-id="30a2f-190">ExpressRoute 十分適合 vDC，因為 ExpressRoute 客戶可以獲得與私人連線建立關聯之相容性規則的優點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-190">ExpressRoute is very useful for vDCs, as ExpressRoute customers can get the benefits of compliance rules associated with private connections.</span></span>

<span data-ttu-id="30a2f-191">部署 ExpressRoute 連線包含加入 ExpressRoute 服務提供者。</span><span class="sxs-lookup"><span data-stu-id="30a2f-191">Deploying ExpressRoute connections involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="30a2f-192">針對需要快速啟動的客戶，一開始通常會使用站對站 VPN 建立 vDC 與內部部署資源之間的連線，然後移轉至 ExpressRoute 連線。</span><span class="sxs-lookup"><span data-stu-id="30a2f-192">For customers that need to start quickly, it is common to initially use Site-to-Site VPN to establish connectivity between the vDC and on-premises resources, and then migrate to ExpressRoute connection.</span></span>

##### <a name="connectivity-within-the-cloud"></a><span data-ttu-id="30a2f-193">*雲端內的連線*</span><span class="sxs-lookup"><span data-stu-id="30a2f-193">*Connectivity within the cloud*</span></span>
<span data-ttu-id="30a2f-194">[VNet][VNet] 和 [VNet 對等][VNetPeering]是 vDC 內的基本網路連線服務。</span><span class="sxs-lookup"><span data-stu-id="30a2f-194">[VNets][VNet] and [VNet Peering][VNetPeering] are the basic networking connectivity services inside a vDC.</span></span> <span data-ttu-id="30a2f-195">VNet 保證 vDC 資源的自然隔離界限，而且 VNet 對等允許相同 Azure 區域內不同 VNet 之間的互相連線。</span><span class="sxs-lookup"><span data-stu-id="30a2f-195">A VNet guarantees a natural boundary of isolation for vDC resources, and VNet peering allows intercommunication between different VNets within the same Azure region.</span></span> <span data-ttu-id="30a2f-196">VNet 內與 VNet 之間的流量控制需要符合透過存取控制清單 ([網路安全性群組][NSG])、[網路虛擬設備][NVA]和自訂路由表 ([UDR][UDR]) 指定的一組安全性規則。</span><span class="sxs-lookup"><span data-stu-id="30a2f-196">Traffic control inside a VNet and between VNets need to match a set of security rules specified through Access Control Lists ([Network Security Group][NSG]), [Network Virtual Appliances][NVA], and custom routing tables ([UDR][UDR]).</span></span>

## <a name="virtual-data-center-overview"></a><span data-ttu-id="30a2f-197">虛擬資料中心概觀</span><span class="sxs-lookup"><span data-stu-id="30a2f-197">Virtual Data Center Overview</span></span>

### <a name="topology"></a><span data-ttu-id="30a2f-198">拓撲</span><span class="sxs-lookup"><span data-stu-id="30a2f-198">Topology</span></span>
<span data-ttu-id="30a2f-199">中樞和支點模型已延伸單一 Azure 區域內的虛擬資料中心</span><span class="sxs-lookup"><span data-stu-id="30a2f-199">Hub and spokes model extended the Virtual Data Center within a single Azure region</span></span>

<span data-ttu-id="30a2f-200">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="30a2f-200">[![1]][1]</span></span>

<span data-ttu-id="30a2f-201">中樞是中央區域，可控制和檢查不同區域之間的輸入和 (或) 輸出流量：網際網路、內部部署和支點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-201">The hub is the central zone that controls and inspects ingress and/or egress traffic between different zones: Internet, on-premises, and the spokes.</span></span> <span data-ttu-id="30a2f-202">中樞和支點拓撲提供有效的方式可讓 IT 部門在中央位置強制執行安全性原則，同時減少設定錯誤和暴露的可能性。</span><span class="sxs-lookup"><span data-stu-id="30a2f-202">The hub and spoke topology gives the IT department an effective way to enforce security policies in a central location, while reducing the potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="30a2f-203">中樞包含支點所使用的一般服務元件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-203">The hub contains the common service components consumed by the spokes.</span></span> <span data-ttu-id="30a2f-204">以下是一些典型常用中央服務範例：</span><span class="sxs-lookup"><span data-stu-id="30a2f-204">Here are a few typical examples of common central services:</span></span>

-   <span data-ttu-id="30a2f-205">取得支點中工作負載的存取之前，不受信任網路中第三方存取的使用者驗證所需的 Windows Active Directory 基礎結構 (具有相關 ADFS 服務)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-205">The Windows Active Directory infrastructure (with the related ADFS service) required for user authentication of third parties accessing from untrusted networks before getting access to the workloads in the spoke</span></span>
-   <span data-ttu-id="30a2f-206">解決支點中工作負載命名的 DNS 服務，以存取內部部署和網際網路上的資源。</span><span class="sxs-lookup"><span data-stu-id="30a2f-206">A DNS service to resolve naming for the workload in the spokes, to access resources on-premises and on the Internet</span></span>
-   <span data-ttu-id="30a2f-207">PKI 基礎結構，可對工作負載實作單一登入</span><span class="sxs-lookup"><span data-stu-id="30a2f-207">A PKI infrastructure, to implement single sign-on on workloads</span></span>
-   <span data-ttu-id="30a2f-208">支點與網際網路之間的流量控制 (TCP/UDP)</span><span class="sxs-lookup"><span data-stu-id="30a2f-208">Flow control (TCP/UDP) between the spokes and Internet</span></span>
-   <span data-ttu-id="30a2f-209">支點與內部部署之間的流量控制</span><span class="sxs-lookup"><span data-stu-id="30a2f-209">Flow control between the spoke and on-premises</span></span>
-   <span data-ttu-id="30a2f-210">如有需要，為兩個支點之間的流量控制</span><span class="sxs-lookup"><span data-stu-id="30a2f-210">If desired, flow control between one spoke and another</span></span>

<span data-ttu-id="30a2f-211">vDC 透過在多個支點之間使用共用中樞基礎結構，以減少整體成本。</span><span class="sxs-lookup"><span data-stu-id="30a2f-211">The vDC reduces overall cost by using the shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="30a2f-212">每個支點的角色都可以裝載不同類型的工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-212">The role of each spoke can be to host different types of workloads.</span></span> <span data-ttu-id="30a2f-213">支點也可以提供相同工作負載之可重複部署的模組化方法 (例如，開發和測試、使用者驗收測試、進入生產階段前和生產)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-213">The spokes can also provide a modular approach for repeatable deployments (for example, dev and test, User Acceptance Testing, pre-production, and production) of the same workloads.</span></span> <span data-ttu-id="30a2f-214">支點也可以用來區隔並啟用組織 (例如，DevOps 群組) 內的不同群組。</span><span class="sxs-lookup"><span data-stu-id="30a2f-214">The spokes can also be used to segregate and enable different groups within your organization (for example, DevOps groups).</span></span> <span data-ttu-id="30a2f-215">在支點內部，可以使用各層之間的流量控制來部署基本工作負載或複雜多層工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-215">Inside a spoke, it is possible to deploy a basic workload or complex multi-tier workloads with traffic control between the tiers.</span></span>

##### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="30a2f-216">訂用帳戶限制和多個中樞</span><span class="sxs-lookup"><span data-stu-id="30a2f-216">Subscription limits and multiple hubs</span></span>
<span data-ttu-id="30a2f-217">在 Azure 中，每個任何類型的元件都會部署在 Azure 訂用帳戶中。</span><span class="sxs-lookup"><span data-stu-id="30a2f-217">In Azure, every component, whatever the type, is deployed in an Azure Subscription.</span></span> <span data-ttu-id="30a2f-218">不同 Azure 訂用帳戶中的 Azure 元件隔離可以滿足不同 LOB 的需求，例如設定不同層級的存取和授權。</span><span class="sxs-lookup"><span data-stu-id="30a2f-218">The isolation of Azure components in different Azure subscriptions can satisfy the requirements of different LOBs, such as setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="30a2f-219">單一 vDC 可以向上延展到大量支點；但是，與每個 IT 系統相同，會有平台限制。</span><span class="sxs-lookup"><span data-stu-id="30a2f-219">A single vDC can scale up to large number of spokes, although, as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="30a2f-220">中樞部署會繫結至具有限制的特定 Azure 訂用帳戶 (例如，VNet 對等數目上限 - 如需詳細資訊，請參閱 [Azure 訂用帳戶和服務限制、配額與限制][Limits])。</span><span class="sxs-lookup"><span data-stu-id="30a2f-220">The hub deployment is bound to a specific Azure subscription, which has restrictions and limits (for example, a max number of VNet peerings - see [Azure subscription and service limits, quotas, and constraints][Limits] for details).</span></span> <span data-ttu-id="30a2f-221">如果限制可能會產生問題，則將模型從單一中樞支點延伸到中樞和支點叢集，即可進一步向上延展架構。</span><span class="sxs-lookup"><span data-stu-id="30a2f-221">In cases where limits may be an issue, the architecture can scale up further by extending the model from a single hub-spokes to a cluster of hub and spokes.</span></span> <span data-ttu-id="30a2f-222">一或多個 Azure 區域中的多個中樞可以使用 Express Route 或站對站 VPN 互相連接。</span><span class="sxs-lookup"><span data-stu-id="30a2f-222">Multiple hubs in one or more Azure regions can be interconnected using Express Route or site-to-site VPN.</span></span>

<span data-ttu-id="30a2f-223">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="30a2f-223">[![2]][2]</span></span>

<span data-ttu-id="30a2f-224">引進多個中樞會增加系統的成本和管理工作，並且只會根據延展性進行調整 (範例：系統限制或備援) 和地區複寫 (範例：終端使用者效能或災害復原)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-224">The introduction of multiple hubs increases the cost and management effort of the system and would only be justified by scalability (examples: system limits or redundancy) and regional replication (examples: end-user performance or disaster recovery).</span></span> <span data-ttu-id="30a2f-225">在需要多個中樞的案例中，所有中樞都應該致力於提供一組相同的易操作服務。</span><span class="sxs-lookup"><span data-stu-id="30a2f-225">In scenarios requiring multiple hubs, all the hubs should strive to offer the same set of services for operational ease.</span></span>

##### <a name="interconnection-between-spokes"></a><span data-ttu-id="30a2f-226">支點之間的互相連線</span><span class="sxs-lookup"><span data-stu-id="30a2f-226">Interconnection between spokes</span></span>
<span data-ttu-id="30a2f-227">在單一支點內，可能會實作複雜多層工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-227">Inside a single spoke, it is possible to implement complex multi-tiers workloads.</span></span> <span data-ttu-id="30a2f-228">可以在相同的 VNet 中使用子網路 (一層一個) 實作多層設定，以及使用 NSG 篩選流程。</span><span class="sxs-lookup"><span data-stu-id="30a2f-228">Multi-tier configurations can be implemented using subnets (one for every tier) in the same VNet and filtering the flows using NSGs.</span></span>

<span data-ttu-id="30a2f-229">另一方面，架構設計人員可能想要跨多個 VNet 部署多層工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-229">On the other hand, an architect may want to deploy a multi-tier workload across multiple VNets.</span></span> <span data-ttu-id="30a2f-230">使用 VNet 對等，支點可以連接到相同中樞或不同中樞中的其他支點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-230">Using VNet peering, spokes can connect to other spokes in the same hub or different hubs.</span></span> <span data-ttu-id="30a2f-231">此案例的一般範例是應用程式處理伺服器位於一個支點 (VNet)，而資料庫部署於多個支點 (VNet).</span><span class="sxs-lookup"><span data-stu-id="30a2f-231">A typical example of this scenario is the case where application processing servers are in one spoke (VNet), while the database is deployed in a different spoke (VNet).</span></span> <span data-ttu-id="30a2f-232">在此情況下，很容易將支點與 VNet 對等互相連接，進而避免透過中樞傳送。</span><span class="sxs-lookup"><span data-stu-id="30a2f-232">In this case, it is easy to interconnect the spokes with VNet peering and thereby avoid transiting through the hub.</span></span> <span data-ttu-id="30a2f-233">應該仔細檢閱架構和安全性，確保略過中樞不會略過可能只存在於中樞中的重要安全性或稽核點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-233">A careful architecture and security review should be performed to ensure that bypassing the hub doesn’t bypass important security or auditing points that may only exist in the hub.</span></span>

<span data-ttu-id="30a2f-234">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="30a2f-234">[![3]][3]</span></span>

<span data-ttu-id="30a2f-235">支點也可以與作為中樞的支點互相連接。</span><span class="sxs-lookup"><span data-stu-id="30a2f-235">Spokes can also be interconnected to a spoke that acts as a hub.</span></span> <span data-ttu-id="30a2f-236">這種方法會建立雙層階層：較高層級的支點 (層級 0) 會變成階層中較低支點 (層級 1) 的中樞。</span><span class="sxs-lookup"><span data-stu-id="30a2f-236">This approach creates a two-level hierarchy: the spoke in the higher level (level 0) become the hub of lower spokes (level 1) of the hierarchy.</span></span> <span data-ttu-id="30a2f-237">VDC 的支點需要將流量轉送到中央中樞，以連接到內部部署網路或網際網路。</span><span class="sxs-lookup"><span data-stu-id="30a2f-237">The spokes of vDC need to forward the traffic to the central hub to reach out either to the on-premises network or internet.</span></span> <span data-ttu-id="30a2f-238">具有雙層中樞的架構引進複雜路由，以移除簡單中樞支點關聯性的優點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-238">An architecture with two levels of hub introduces complex routing that removes the benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="30a2f-239">雖然 Azure 允許複雜拓撲，但是 vDC 概念的其中一個核心準則是重複性和簡單性。</span><span class="sxs-lookup"><span data-stu-id="30a2f-239">Although Azure allows complex topologies, one of the core principles of the vDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="30a2f-240">若要將管理投入時間降到最低，簡單中樞點設計是建議的 vDC 參考架構。</span><span class="sxs-lookup"><span data-stu-id="30a2f-240">To minimize management effort, the simple hub-spoke design is the recommended vDC reference architecture.</span></span>

### <a name="components"></a><span data-ttu-id="30a2f-241">元件</span><span class="sxs-lookup"><span data-stu-id="30a2f-241">Components</span></span>
<span data-ttu-id="30a2f-242">虛擬資料中心是由四種基本元件類型所構成：[基礎結構]、[周邊網路]、[工作負載] 和 [監視]。</span><span class="sxs-lookup"><span data-stu-id="30a2f-242">A Virtual Data Center is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="30a2f-243">每種元件類型都是由各種 Azure 功能和資源所組成。</span><span class="sxs-lookup"><span data-stu-id="30a2f-243">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="30a2f-244">vDC 是由多種元件類型以及相同元件類型之多個變化的執行個體所構成。</span><span class="sxs-lookup"><span data-stu-id="30a2f-244">Your vDC is made up of instances of multiple components types and multiple variations of the same component type.</span></span> <span data-ttu-id="30a2f-245">例如，您可能有代表不同應用程式之許多不同邏輯分隔的工作負載執行個體。</span><span class="sxs-lookup"><span data-stu-id="30a2f-245">For instance, you may have many different, logically separated, workload instances that represent different applications.</span></span> <span data-ttu-id="30a2f-246">您可以使用這些不同的元件類型和執行個體來最後建置 vDC。</span><span class="sxs-lookup"><span data-stu-id="30a2f-246">You use these different component types and instances to ultimately build the vDC.</span></span>

<span data-ttu-id="30a2f-247">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="30a2f-247">[![4]][4]</span></span>

<span data-ttu-id="30a2f-248">VDC 的上述高階架構顯示中樞支點拓撲之不同區域中所使用的不同元件類型。</span><span class="sxs-lookup"><span data-stu-id="30a2f-248">The preceding high-level architecture of a vDC shows different component types used in different zones of the hub-spokes topology.</span></span> <span data-ttu-id="30a2f-249">此圖顯示架構各種組件中的基礎結構元件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-249">The diagram shows infrastructure components in various parts of the architecture.</span></span>

<span data-ttu-id="30a2f-250">不錯的做法 (適用於內部部署 DC 或 vDC) 是存取權利和權限應該是以群組為基礎。</span><span class="sxs-lookup"><span data-stu-id="30a2f-250">As a good practice (for an on-premises DC or vDC) access rights and privileges should be group-based.</span></span> <span data-ttu-id="30a2f-251">處理群組，而不是個別使用者協助一致地維護跨小組的存取原則，以及協助將設定錯誤降至最低。</span><span class="sxs-lookup"><span data-stu-id="30a2f-251">Dealing with groups, instead of individual users helps maintaining access policies consistently across teams and aids in minimizing configuration errors.</span></span> <span data-ttu-id="30a2f-252">在適當群組中指派和移除使用者有助於保持特定使用者權限的最新狀態。</span><span class="sxs-lookup"><span data-stu-id="30a2f-252">Assigning and removing users to and from appropriate groups helps keeping the privileges of a specific user up-to-date.</span></span>

<span data-ttu-id="30a2f-253">每個角色群組的名稱都應該有唯一的前置詞，才能輕鬆地識別哪個群組與哪個工作負載建立關聯。</span><span class="sxs-lookup"><span data-stu-id="30a2f-253">Each role group should have a unique prefix on their names making it easy to identify which group is associated with which workload.</span></span> <span data-ttu-id="30a2f-254">例如，裝載驗證服務的工作負載可能會名為 AuthServiceNetOps、AuthServiceSecOps、AuthServiceDevOps 和 AuthServiceInfraOps 的群組。</span><span class="sxs-lookup"><span data-stu-id="30a2f-254">For instance, a workload hosting an authentication service might have groups named *AuthServiceNetOps, AuthServiceSecOps, AuthServiceDevOps, and AuthServiceInfraOps.*</span></span> <span data-ttu-id="30a2f-255">與集中式角色或未與特定服務相關的角色類似，前面可能會加上 "Corp"，例如：*CorpNetOps*。</span><span class="sxs-lookup"><span data-stu-id="30a2f-255">Likewise for centralized roles, or roles not related to a specific service, could be prefaced with “Corp”, *CorpNetOps* for example.</span></span>

<span data-ttu-id="30a2f-256">許多組織都會使用下列群組的一種變化，以提供角色的主要分析：</span><span class="sxs-lookup"><span data-stu-id="30a2f-256">Many organizations use a variation of the following groups to provide a major breakdown of roles:</span></span>

-   <span data-ttu-id="30a2f-257">「中央 IT 群組 (Corp)」具有控制基礎結構 (例如網路和安全性) 元件的擁有權權限，因此必須要有訂用帳戶的參與者角色 (並具有中樞的控制權) 以及支點中的網路參與者權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-257">The *central IT group (Corp)* has the ownership rights to control infrastructure (such as networking and security) components, and therefore needs to have the role of contributor on the subscription (and have control of the hub) and network contributor rights in the spokes.</span></span> <span data-ttu-id="30a2f-258">大型組織經常會在多個小組之間分割這些責任，例如網路作業 (CorpNetOps) 群組 (具有網路的獨佔焦點) 和資料安全性作業 (CorpSecOps) 群組 (負責防火牆和安全性原則)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-258">Large organization frequently split up these management responsibilities between multiple teams such as; a Network Operations (CorpNetOps) group (with exclusive focus on networking) and a Security Operations (CorpSecOps) group (responsible for firewall and security policy).</span></span> <span data-ttu-id="30a2f-259">在這種特定情況下，需要建立兩個不同的群組，才能指派這些自訂角色。</span><span class="sxs-lookup"><span data-stu-id="30a2f-259">In this specific case, two different groups need to be created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="30a2f-260">「開發和測試 (AppDevOps) 群組」負責部署工作負載 (應用程式或服務)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-260">The *dev & test (AppDevOps) group* has the responsibility to deploy workloads (Apps or Services).</span></span> <span data-ttu-id="30a2f-261">此群組扮演虛擬機器參與者角色來進行 IaaS 部署，以及 (或) 一或多個 PaaS 參與者的角色 (請參閱 [ Azure 角色型存取控制的內建角色][Roles])。</span><span class="sxs-lookup"><span data-stu-id="30a2f-261">This group takes the role of Virtual Machine Contributor for IaaS deployments and/or one or more PaaS contributor’s roles (see [Built-in roles for Azure Role-Based Access Control][Roles]).</span></span> <span data-ttu-id="30a2f-262">(選擇性) 開發與測試小組可能需要有中樞或特定支點內安全性原則 (NSG) 和路由原則 (UDR) 的可見性。</span><span class="sxs-lookup"><span data-stu-id="30a2f-262">Optionally the dev & test team may need to have visibility on security policies (NSGs) and routing policies (UDR) inside the hub or a specific spoke.</span></span> <span data-ttu-id="30a2f-263">因此，除了工作負載參與者角色之外，此群組也需要網路讀取者角色。</span><span class="sxs-lookup"><span data-stu-id="30a2f-263">Therefore, in addition to the roles of contributor for workloads, this group would also need the role of Network Reader.</span></span>
-   <span data-ttu-id="30a2f-264">「作業和維護群組 (CorpInfraOps 或 AppInfraOps)」負責管理生產環境中的工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-264">The *operation and maintenance group (CorpInfraOps or AppInfraOps)* have the responsibility of managing workloads in production.</span></span> <span data-ttu-id="30a2f-265">此群組必須是任何生產訂用帳戶中工作負載的訂用帳戶參與者。</span><span class="sxs-lookup"><span data-stu-id="30a2f-265">This group needs to be a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="30a2f-266">某些組織可能也會評估它們是否需要具有生產環境和中央中樞訂用帳戶中訂用帳戶參與者角色的額外擴大支援小組群組，才能修正生產環境中的潛在設定問題。</span><span class="sxs-lookup"><span data-stu-id="30a2f-266">Some organizations might also evaluate if they need an additional escalation support team group with the role of subscription contributor in production and in the central hub subscription, in order to fix potential configuration issues in the production environment.</span></span>

<span data-ttu-id="30a2f-267">vDC 具結構性，因此，針對管理中樞的中央 IT 群組所建立的群組具有工作負載層級的對應群組。</span><span class="sxs-lookup"><span data-stu-id="30a2f-267">A vDC is structured so that groups created for the central IT groups managing the hub have corresponding groups at the workload level.</span></span> <span data-ttu-id="30a2f-268">除了管理中樞資源之外，只有中央 IT 群組才能夠控制外部存取，以及訂用帳戶的最上層權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-268">In addition to managing hub resources only the central IT groups would be able to control external access and top-level permissions on the subscription.</span></span> <span data-ttu-id="30a2f-269">不過，工作負載群組能夠單獨控制其在中央 IT 上之 VNet 的資源和權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-269">However, workload groups would be able to control resources and permissions of their VNet independently on Central IT.</span></span>

<span data-ttu-id="30a2f-270">需要分割 vDC，才能安全地裝載跨不同企業營運 (LOB) 的多個專案。</span><span class="sxs-lookup"><span data-stu-id="30a2f-270">The vDC needs to be partitioned to securely host multiple projects across different Line-of-Businesses (LOBs).</span></span> <span data-ttu-id="30a2f-271">所有專案則都需要不同的隔離環境 (開發、UAT、生產)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-271">All projects require different isolated environments (Dev, UAT, production).</span></span> <span data-ttu-id="30a2f-272">其中每個環境的不同 Azure 訂用帳戶都會提供自然隔離。</span><span class="sxs-lookup"><span data-stu-id="30a2f-272">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="30a2f-273">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="30a2f-273">[![5]][5]</span></span>

<span data-ttu-id="30a2f-274">上圖顯示組織的專案、使用者、群組與 Azure 元件部署所在環境之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="30a2f-274">The preceding diagram shows the relationship between an organization's projects, users, groups, and the environments where the Azure components are deployed.</span></span>

<span data-ttu-id="30a2f-275">通常，在 IT 中，環境 (或層) 是部署和執行多個應用程式的系統。</span><span class="sxs-lookup"><span data-stu-id="30a2f-275">Typically in IT, an environment (or tier) is a system in which multiple applications are deployed and executed.</span></span> <span data-ttu-id="30a2f-276">大型企業使用開發環境 (一開始進行和測試變更的位置) 和生產環境 (使用者所使用的環境)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-276">Large enterprises use a development environment (where changes originally made and tested) and a production environment (what end-users use).</span></span> <span data-ttu-id="30a2f-277">這些環境之間通常都會分隔成數個預備環境，以允許分階段部署 (推出)、測試以及在發生問題時復原。</span><span class="sxs-lookup"><span data-stu-id="30a2f-277">Those environments are separated, often with several staging environments in between them to allow phased deployment (rollout), testing, and rollback in case of problems.</span></span> <span data-ttu-id="30a2f-278">部署架構極大，但通常仍會遵循開始開發環境 (DEV) 和結束生產環境 (PROD) 的基本程序。</span><span class="sxs-lookup"><span data-stu-id="30a2f-278">Deployment architectures vary significantly, but usually the basic process of starting at development (DEV) and ending at production (PROD) is still followed.</span></span>

<span data-ttu-id="30a2f-279">這些多層環境類型的常見架構包含 DevOps (開發和測試)、UAT (預備) 和生產環境。</span><span class="sxs-lookup"><span data-stu-id="30a2f-279">A common architecture for these types of multi-tier environments consists of DevOps (development and testing), UAT (staging), and production environments.</span></span> <span data-ttu-id="30a2f-280">組織可以利用單一或多個 Azure AD 租用戶，來定義對這些環境的存取權和權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-280">Organizations can leverage single or multiple Azure AD tenants to define access and rights to these environments.</span></span> <span data-ttu-id="30a2f-281">上圖顯示使用兩個不同 Azure AD 租用戶的情況：一個適用於 DevOps 和 UAT，另一個則專用於生產環境。</span><span class="sxs-lookup"><span data-stu-id="30a2f-281">The previous diagram shows a case where two different Azure AD tenants are used: one for DevOps and UAT, and the other exclusively for production.</span></span>

<span data-ttu-id="30a2f-282">具有不同的 Azure AD 租用戶會強制執行環境之間的區隔。</span><span class="sxs-lookup"><span data-stu-id="30a2f-282">The presence of different Azure AD tenants enforces the separation between environments.</span></span> <span data-ttu-id="30a2f-283">相同的使用者群組 (例如，中央 IT) 需要使用不同的 URI 憑證存取不同的 AD 租用戶進行驗證，以修改專案之 DevOps 或生產環境的角色或權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-283">The same group of users (as an example, Central IT) needs to authenticate using a different URI to access a different AD tenant modify the roles or permissions of either the DevOps or production environments of a project.</span></span> <span data-ttu-id="30a2f-284">具有存取不同環境的不同使用者驗證可降低可能的中斷以及人為錯誤所導致的其他問題。</span><span class="sxs-lookup"><span data-stu-id="30a2f-284">The presence of different user authentication to access different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="30a2f-285">元件類型：基礎結構</span><span class="sxs-lookup"><span data-stu-id="30a2f-285">Component Type: Infrastructure</span></span>
<span data-ttu-id="30a2f-286">此元件類型是大部分支援基礎結構所在的位置。</span><span class="sxs-lookup"><span data-stu-id="30a2f-286">This component type is where most of the supporting infrastructure resides.</span></span> <span data-ttu-id="30a2f-287">它也是集中式 IT、安全性和 (或) 相容性小組花費最多時間的位置。</span><span class="sxs-lookup"><span data-stu-id="30a2f-287">It's also where your centralized IT, Security, and/or Compliance teams spend most of their time.</span></span>

<span data-ttu-id="30a2f-288">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="30a2f-288">[![6]][6]</span></span>

<span data-ttu-id="30a2f-289">基礎結構元件提供不同 vDC 元件之間的互相連線，並且存在於中樞和支點中。</span><span class="sxs-lookup"><span data-stu-id="30a2f-289">Infrastructure components provide an interconnection between the different components of a vDC, and are present in both the hub and the spokes.</span></span> <span data-ttu-id="30a2f-290">管理和維護基礎結構元件的責任通常會指派給中央 IT 和 (或) 安全性小組。</span><span class="sxs-lookup"><span data-stu-id="30a2f-290">The responsibility for managing and maintaining the infrastructure components is typically assigned to the central IT and/or security team.</span></span>

<span data-ttu-id="30a2f-291">IT 基礎結構小組的其中一個主要工作是確保整個企業的 IP 位址結構描述一致性。</span><span class="sxs-lookup"><span data-stu-id="30a2f-291">One of the primary tasks of the IT infrastructure team is to guarantee the consistency of IP address schemas across the enterprise.</span></span> <span data-ttu-id="30a2f-292">指派給 vDC 的私人 IP 位址空間需要一致，而且不會與內部部署網路上指派的私人 IP 位址重疊。</span><span class="sxs-lookup"><span data-stu-id="30a2f-292">The private IP address space assigned to the vDC needs to be consistent and NOT overlapping with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="30a2f-293">雖然內部部署邊際路由器或 Azure 環境中的 NAT 可以避免 IP 位址衝突，但是會增加基礎結構元件的複雜性。</span><span class="sxs-lookup"><span data-stu-id="30a2f-293">While NAT on the on-premises edge routers or in Azure environments can avoid IP address conflicts, it adds complications to your infrastructure components.</span></span> <span data-ttu-id="30a2f-294">管理簡化是 vDC 的其中一個關鍵目標，因此使用 NAT 處理 IP 考量不是建議的解決方案。</span><span class="sxs-lookup"><span data-stu-id="30a2f-294">Simplicity of management is one of the key goals of vDC, so using NAT to handle IP concerns is not a recommended solution.</span></span>

<span data-ttu-id="30a2f-295">基礎結構元件包含下列功能：</span><span class="sxs-lookup"><span data-stu-id="30a2f-295">Infrastructure components contain the following functionality:</span></span>

-   <span data-ttu-id="30a2f-296">[**身分識別和目錄服務**][AAD].</span><span class="sxs-lookup"><span data-stu-id="30a2f-296">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="30a2f-297">Azure 中每種資源類型的存取權都是受控於目錄服務中所儲存的身分識別。</span><span class="sxs-lookup"><span data-stu-id="30a2f-297">Access to every resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="30a2f-298">目錄服務不只會儲存使用者清單，也會儲存對特定 Azure 訂用帳戶中資源的存取權。</span><span class="sxs-lookup"><span data-stu-id="30a2f-298">The directory service stores not only the list of users, but also the access rights to resources in a specific Azure subscription.</span></span> <span data-ttu-id="30a2f-299">這些服務只能存在於雲端，或與 Active Directory 中所儲存的內部部署身分識別同步。</span><span class="sxs-lookup"><span data-stu-id="30a2f-299">These services can exist cloud-only, or they can be synchronized with on-premises identity stored in Active Directory.</span></span>
-   <span data-ttu-id="30a2f-300">[**虛擬網路**][VPN]。</span><span class="sxs-lookup"><span data-stu-id="30a2f-300">[**Virtual Network**][VPN].</span></span> <span data-ttu-id="30a2f-301">虛擬網路是 vDC 的其中一個主要元件，並可讓您定義 Azure 平台的流量隔離界限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-301">Virtual Networks are one of main components of a vDC, and enable you to create a traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="30a2f-302">虛擬網路是由單一或多個虛擬網路區段所組成，而每個區段都有特定 IP 網路前置詞 (子網路)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-302">A Virtual Network is composed of a single or multiple virtual network segments, each with a specific IP network prefix (a subnet).</span></span> <span data-ttu-id="30a2f-303">虛擬網路定義 IaaS 虛擬機器和 PaaS 服務可建立私人通訊的內部周邊區域。</span><span class="sxs-lookup"><span data-stu-id="30a2f-303">The Virtual Network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="30a2f-304">在相同的訂用帳戶下，一個虛擬網路中的 VM (和 PaaS 服務) 無法與不同虛擬網路中的 VM (和 PaaS 服務) 直接通訊，即使兩個虛擬網路都是由同一位客戶所建立也是一樣。</span><span class="sxs-lookup"><span data-stu-id="30a2f-304">VMs (and PaaS services) in one virtual network cannot communicate directly to VMs (and PaaS services) in a different virtual network, even if both virtual networks are created by the same customer, under the same subscription.</span></span> <span data-ttu-id="30a2f-305">隔離是很重要的屬性，可確保客戶 VM 和通訊仍然隱蔽於虛擬網路內。</span><span class="sxs-lookup"><span data-stu-id="30a2f-305">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>
-   <span data-ttu-id="30a2f-306">[**UDR**][UDR]。</span><span class="sxs-lookup"><span data-stu-id="30a2f-306">[**UDR**][UDR].</span></span> <span data-ttu-id="30a2f-307">預設會根據系統路由表來路由傳送虛擬網路中的流量。</span><span class="sxs-lookup"><span data-stu-id="30a2f-307">Traffic in a Virtual Network is routed by default based on the system routing table.</span></span> <span data-ttu-id="30a2f-308">使用者定義路由是網路系統管理員可建立與一或多個子網路關聯的自訂路由表，可覆寫系統路由表的行為，以及定義虛擬網路內的通訊路徑。</span><span class="sxs-lookup"><span data-stu-id="30a2f-308">A User Define Route is a custom routing table that network administrators can associate to one or more subnets to overwrite the behavior of the system routing table and define a communication path within a virtual network.</span></span> <span data-ttu-id="30a2f-309">UDR 的存在保證來自支點的輸出流量會傳輸到存在於中樞和支點中的特定自訂 VM 以及 (或) 網路虛擬設備和負載平衡器。</span><span class="sxs-lookup"><span data-stu-id="30a2f-309">The presence of UDRs guarantees that egress traffic from the spoke transit through specific custom VMs and/or Network Virtual Appliances and load balancers present in the hub and in the spokes.</span></span>
-   <span data-ttu-id="30a2f-310">[**NSG**][NSG].</span><span class="sxs-lookup"><span data-stu-id="30a2f-310">[**NSG**][NSG].</span></span> <span data-ttu-id="30a2f-311">網路安全性群組是安全性規則清單，而安全性規則是作為 IP 來源、IP 目的地、通訊協定、IP 來源連接埠和 IP 目的地連接埠的流量篩選。</span><span class="sxs-lookup"><span data-stu-id="30a2f-311">A Network Security Group is a list of security rules that act as traffic filtering on IP Sources, IP Destination, Protocols, IP Source Ports, and IP Destination ports.</span></span> <span data-ttu-id="30a2f-312">NSG 可以套用至子網路、與 Azure VM 建立關聯的虛擬 NIC 卡，或兩者。</span><span class="sxs-lookup"><span data-stu-id="30a2f-312">The NSG can be applied to a subnet, a Virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="30a2f-313">若要實作中樞和支點中的正確流量控制，NSG 不可或缺。</span><span class="sxs-lookup"><span data-stu-id="30a2f-313">The NSGs are essential to implement a correct flow control in the hub and in the spokes.</span></span> <span data-ttu-id="30a2f-314">NSG 所提供的安全性層級是您所開啟之連接埠和用途的功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-314">The level of security afforded by the NSG is a function of which ports you open, and for what purpose.</span></span> <span data-ttu-id="30a2f-315">客戶應該套用具有主機型防火牆 (例如 IPtables 或 Windows 防火牆) 的其他個別 VM 篩選。</span><span class="sxs-lookup"><span data-stu-id="30a2f-315">Customers should apply additional per-VM filters with host-based firewalls such as IPtables or the Windows Firewall.</span></span>
-   <span data-ttu-id="30a2f-316">**DNS**。</span><span class="sxs-lookup"><span data-stu-id="30a2f-316">**DNS**.</span></span> <span data-ttu-id="30a2f-317">vDC 之 VNet 中資源的名稱解析是透過 DNS 所提供。</span><span class="sxs-lookup"><span data-stu-id="30a2f-317">The name resolution of resources in the VNets of a vDC is provided through DNS.</span></span> <span data-ttu-id="30a2f-318">預設 DNS 的名稱解析範圍僅限於 VNet。</span><span class="sxs-lookup"><span data-stu-id="30a2f-318">The scope of name resolution of the default DNS is limited to the VNet.</span></span> <span data-ttu-id="30a2f-319">通常，自訂 DNS 服務需要在作為通用服務時部署在中樞中，但 DNS 服務的主要取用者位於支點中。</span><span class="sxs-lookup"><span data-stu-id="30a2f-319">Usually, a custom DNS service needs to be deployed in the hub as part of common services, but the main consumers of DNS services reside in the spoke.</span></span> <span data-ttu-id="30a2f-320">如有必要，客戶可以建立將 DNS 區域委派給支點的階層式 DNS 結構。</span><span class="sxs-lookup"><span data-stu-id="30a2f-320">If necessary, customers can create a hierarchical DNS structure with delegation of DNS zones to the spokes.</span></span>
-   <span data-ttu-id="30a2f-321">[**訂用帳戶][SubMgmt]和[資源群組管理][RGMgmt]**。</span><span class="sxs-lookup"><span data-stu-id="30a2f-321">[**Subscription][SubMgmt] and [Resource Group Management][RGMgmt]**.</span></span> <span data-ttu-id="30a2f-322">訂用帳戶定義自然界限，以在 Azure 中建立多個資源群組。</span><span class="sxs-lookup"><span data-stu-id="30a2f-322">A subscription defines a natural boundary to create multiple groups of resources in Azure.</span></span> <span data-ttu-id="30a2f-323">在名為「資源群組」的邏輯容器中，會將訂用帳戶中的資源組合在一起。</span><span class="sxs-lookup"><span data-stu-id="30a2f-323">Resources in a subscription are assembled together in logical containers named Resource Groups.</span></span> <span data-ttu-id="30a2f-324">資源群組代表可組織 vDC 資源的邏輯群組。</span><span class="sxs-lookup"><span data-stu-id="30a2f-324">The Resource Group represents a logical group to organize the resources of a vDC.</span></span>
-   <span data-ttu-id="30a2f-325">[**RBAC**][RBAC]。</span><span class="sxs-lookup"><span data-stu-id="30a2f-325">[**RBAC**][RBAC].</span></span> <span data-ttu-id="30a2f-326">透過 RBAC，可以對應組織角色以及存取特定 Azure 資源的權利，讓您限制使用者只能使用特定子集的動作。</span><span class="sxs-lookup"><span data-stu-id="30a2f-326">Through RBAC, it is possible to map organizational role along with rights to access specific Azure resources, allowing you to restrict users to only a certain subset of actions.</span></span> <span data-ttu-id="30a2f-327">使用 RBAC，您可以將適當的角色指派給相關範圍內的使用者、群組和應用程式，來授與存取權。</span><span class="sxs-lookup"><span data-stu-id="30a2f-327">With RBAC, you can grant access by assigning the appropriate role to users, groups, and applications within the relevant scope.</span></span> <span data-ttu-id="30a2f-328">角色指派的範圍可以是 Azure 訂用帳戶、資源群組或單一資源。</span><span class="sxs-lookup"><span data-stu-id="30a2f-328">The scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="30a2f-329">RBAC 允許繼承權限。</span><span class="sxs-lookup"><span data-stu-id="30a2f-329">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="30a2f-330">在父範圍指派的角色也會授與其內含子系的存取權。</span><span class="sxs-lookup"><span data-stu-id="30a2f-330">A role assigned at a parent scope also grants access to the children contained within it.</span></span> <span data-ttu-id="30a2f-331">RBAC 可讓您區隔職責，而僅授與使用者執行工作所需的存取權。</span><span class="sxs-lookup"><span data-stu-id="30a2f-331">Using RBAC, you can segregate duties and grant only the amount of access to users that they need to perform their jobs.</span></span> <span data-ttu-id="30a2f-332">例如，使用 RBAC 讓一位員工管理某個訂用帳戶中的虛擬機器，而讓另一位員工管理相同訂用帳戶內的 SQL DB。</span><span class="sxs-lookup"><span data-stu-id="30a2f-332">For example, use RBAC to let one employee manage virtual machines in a subscription, while another can manage SQL DBs within the same subscription.</span></span>
-   <span data-ttu-id="30a2f-333">[**VNet 對等**][VNetPeering]。</span><span class="sxs-lookup"><span data-stu-id="30a2f-333">[**VNet Peering**][VNetPeering].</span></span> <span data-ttu-id="30a2f-334">用來建立 vDC 基礎結構的基礎功能是 VNet 對等，而 VNet 對等是透過 Azure 資料中心網路連接相同區域中的兩個虛擬網路 (VNet) 的機制。</span><span class="sxs-lookup"><span data-stu-id="30a2f-334">The fundamental feature used to create the infrastructure of a vDC is VNet Peering, a mechanism that connects two virtual networks (VNets) in the same region through the network of the Azure data center.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="30a2f-335">元件類型：周邊網路</span><span class="sxs-lookup"><span data-stu-id="30a2f-335">Component Type: Perimeter Networks</span></span>
<span data-ttu-id="30a2f-336">[周邊網路][DMZ]元件 (也稱為 DMZ 網路) 可讓您提供與內部部署或實體資料中心網路的網路連線，以及與網際網路之間的任何連線。</span><span class="sxs-lookup"><span data-stu-id="30a2f-336">[Perimeter network][DMZ] components (also known as a DMZ network) allow you to provide network  connectivity with your on-premises or physical data center networks, along with any connectivity to and from the Internet.</span></span> <span data-ttu-id="30a2f-337">它也是您網路和安全性小組可能花費最多時間的位置。</span><span class="sxs-lookup"><span data-stu-id="30a2f-337">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="30a2f-338">連入封包應該先流經中樞內的安全性設備，如防火牆、IDS 和 IPS 等，才會到達支點中的後端伺服器。</span><span class="sxs-lookup"><span data-stu-id="30a2f-338">Incoming packets should flow through the security appliances in the hub, such as the firewall, IDS, and IPS, before reaching the back-end servers in the spokes.</span></span> <span data-ttu-id="30a2f-339">來自工作負載的網際網路繫結封包應該也會流經周邊網路中的安全性設備，經過原則強制執行、檢查和稽核之後，才會離開網路。</span><span class="sxs-lookup"><span data-stu-id="30a2f-339">Internet-bound packets from the workloads should also flow through the security appliances in the perimeter network for policy enforcement, inspection, and auditing purposes, before leaving the network.</span></span>

<span data-ttu-id="30a2f-340">周邊網路元件提供下列功能：</span><span class="sxs-lookup"><span data-stu-id="30a2f-340">Perimeter network components provide the following features:</span></span>

-   <span data-ttu-id="30a2f-341">[虛擬網路][VNet]、[UDR][UDR]、[NSG][NSG]</span><span class="sxs-lookup"><span data-stu-id="30a2f-341">[Virtual Networks][VNet], [UDR][UDR], [NSG][NSG]</span></span>
-   <span data-ttu-id="30a2f-342">[網路虛擬設備][NVA]</span><span class="sxs-lookup"><span data-stu-id="30a2f-342">[Network Virtual Appliance][NVA]</span></span>
-   <span data-ttu-id="30a2f-343">[負載平衡器][ALB]</span><span class="sxs-lookup"><span data-stu-id="30a2f-343">[Load Balancer][ALB]</span></span>
-   <span data-ttu-id="30a2f-344">[應用程式閘道][AppGW] / [WAF][WAF]</span><span class="sxs-lookup"><span data-stu-id="30a2f-344">[Application Gateway][AppGW] / [WAF][WAF]</span></span>
-   <span data-ttu-id="30a2f-345">[公用 IP][PIP]</span><span class="sxs-lookup"><span data-stu-id="30a2f-345">[Public IPs][PIP]</span></span>

<span data-ttu-id="30a2f-346">通常，中央 IT 和安全性小組會負責周邊網路的需求定義和作業。</span><span class="sxs-lookup"><span data-stu-id="30a2f-346">Usually, the central IT and security teams have responsibility for requirement definition and operations of the perimeter networks.</span></span>

<span data-ttu-id="30a2f-347">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="30a2f-347">[![7]][7]</span></span>

<span data-ttu-id="30a2f-348">上圖顯示如何強制執行兩個具有網際網路存取的周邊網路以及一個內部部署網路，而這些都位在中樞中。</span><span class="sxs-lookup"><span data-stu-id="30a2f-348">The preceding diagram shows the enforcement of two perimeters with access to the internet and an on-premises network, both resident in the hub.</span></span> <span data-ttu-id="30a2f-349">在單一中樞中，連線至網際網路的周邊網路可以使用 Web 應用程式防火牆 (WAF) 和 (或) 防火牆的多個伺服器陣列進行向上延展，以支援大量 LOB。</span><span class="sxs-lookup"><span data-stu-id="30a2f-349">In a single hub, the perimeter network to internet can scale up to support large numbers of LOBs, using multiple farms of Web Application Firewalls (WAFs) and/or firewalls.</span></span>

<span data-ttu-id="30a2f-350">[**虛擬網路**][VNet]：中樞一般是建置於具有多個子網路的 VNet，以裝載不同類型的服務，其透過 NVA、WAF 和 Azure 應用程式閘道篩選和檢查送至或來自網際網路的流量。</span><span class="sxs-lookup"><span data-stu-id="30a2f-350">[**Virtual Networks**][VNet] The hub is typically built on a VNet with multiple subnets to host the different type of services filtering and inspecting traffic to or from the internet via NVAs, WAFs, and Azure Application Gateways.</span></span>

<span data-ttu-id="30a2f-351">[**UDR**][UDR]：使用 UDR，客戶可以部署防火牆、IDS/IPS 和其他虛擬設備，並透過這些安全性設備來路由傳送網路流量，以強制執行安全性界限原則、稽核和檢查。</span><span class="sxs-lookup"><span data-stu-id="30a2f-351">[**UDR**][UDR] Using UDR, customers can deploy firewalls, IDS/IPS, and other virtual appliances, and route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="30a2f-352">UDR 可以建立於中樞和支點中，保證流量傳輸到 vDC 所使用的特定自訂 VM、網路虛擬設備和負載平衡器。</span><span class="sxs-lookup"><span data-stu-id="30a2f-352">UDRs can be created in both the hub and the spokes to guarantee that traffic transits through the specific custom VMs, Network Virtual Appliances and load balancers used by the vDC.</span></span> <span data-ttu-id="30a2f-353">若要保證支點所在 VM 產生的流量會傳輸到正確的虛擬設備，UDR 需要設定在支點的子網路中，方法是將內部負載平衡器的前端 IP 位址設定為下一個躍點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-353">To guarantee that traffic generated from VMs resident in the spoke transit to the correct virtual appliances, a UDR needs to be set in the subnets of the spoke by setting the front-end IP address of the internal load balancer as the next-hop.</span></span> <span data-ttu-id="30a2f-354">內部負載平衡器會將內部流量分散到虛擬設備 (負載平衡器後端集區)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-354">The internal load balancer distributes the internal traffic to the virtual appliances (load balancer back-end pool).</span></span>

<span data-ttu-id="30a2f-355">[![8]][8]</span><span class="sxs-lookup"><span data-stu-id="30a2f-355">[![8]][8]</span></span>

<span data-ttu-id="30a2f-356">[**網路虛擬設備**][NVA]：在中樞中，具有網際網路存取的周邊網路通常是透過防火牆和 (或) Web 應用程式防火牆 (WAF) 的伺服器陣列進行管理。</span><span class="sxs-lookup"><span data-stu-id="30a2f-356">[**Network Virtual Appliances**][NVA] In the hub, the perimeter network with access to the internet is normally managed through a farm of firewalls and/or Web Application Firewalls (WAFs).</span></span>

<span data-ttu-id="30a2f-357">不同的 LOB 通常會使用許多 Web 應用程式，而且這些應用程式通常很容易受到各種弱點和潛在攻擊的攻擊。</span><span class="sxs-lookup"><span data-stu-id="30a2f-357">Different LOBs commonly use many web applications, and these applications tend to suffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="30a2f-358">Web 應用程式防火牆是一種特殊類型的產品，用來偵測對 Web 應用程式的攻擊 (HTTP/HTTPS)，而其深入程度高於一般防火牆。</span><span class="sxs-lookup"><span data-stu-id="30a2f-358">Web Applications Firewalls are a special breed of product used to detect attacks against web applications (HTTP/HTTPS) in more depth than a generic firewall.</span></span> <span data-ttu-id="30a2f-359">相較於傳統防火牆技術，WAF 有一組特定功能可保護內部網頁伺服器不受威脅。</span><span class="sxs-lookup"><span data-stu-id="30a2f-359">Compared with tradition firewall technology, WAFs have a set of specific features to protect internal web servers from threats.</span></span>

<span data-ttu-id="30a2f-360">防火牆伺服器陣列是一組在相同一般管理下串聯運作的防火牆，並具有一組安全性規則來保護支點中所裝載的工作負載，以及控制對內部部署網路的存取。</span><span class="sxs-lookup"><span data-stu-id="30a2f-360">A firewall farm is group of firewalls working in tandem under the same common administration, with a set of security rules to protect the workloads hosted in the spokes, and control access to on-premises networks.</span></span> <span data-ttu-id="30a2f-361">防火牆伺服器陣列具有比 WAF 還不特殊的軟體，但具有廣泛應用程式範圍可篩選和檢查任何類型的輸出和輸入流量。</span><span class="sxs-lookup"><span data-stu-id="30a2f-361">A firewall farm has less specialized software compared with a WAF, but has a broad application scope to filter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="30a2f-362">防火牆伺服器陣列通常是透過可在 Azure 市集中取得的網路虛擬設備 (NVA) 在 Azure 中實作。</span><span class="sxs-lookup"><span data-stu-id="30a2f-362">Firewall farms are normally implemented in Azure through Network Virtual Appliances (NVAs), which are available in the Azure marketplace.</span></span>

<span data-ttu-id="30a2f-363">建議將一組 NVA 用於來自網際網路的流量，並將另一組用於來自內部部署的流量。</span><span class="sxs-lookup"><span data-stu-id="30a2f-363">It is recommended to use one set of NVAs for traffic originating on the Internet, and another for traffic originating on-premises.</span></span> <span data-ttu-id="30a2f-364">對兩者僅使用一組 NVA 會造成安全性風險，因為它未提供兩組網路流量之間的安全性範疇。</span><span class="sxs-lookup"><span data-stu-id="30a2f-364">Using only one set of NVAs for both is a security risk, as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="30a2f-365">使用個別 NVA 可降低檢查安全性規則的複雜度，並清楚哪些規則對應到哪個傳入網路要求。</span><span class="sxs-lookup"><span data-stu-id="30a2f-365">Using separate NVAs reduces the complexity of checking security rules, and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="30a2f-366">大部分大型企業都會管理多個網域。</span><span class="sxs-lookup"><span data-stu-id="30a2f-366">Most large enterprises manage multiple domains.</span></span> <span data-ttu-id="30a2f-367">Azure DNS 可以用來裝載特定網域的 DNS 記錄。</span><span class="sxs-lookup"><span data-stu-id="30a2f-367">Azure DNS can be used to host the DNS records for a particular domain.</span></span> <span data-ttu-id="30a2f-368">例如，Azure 外部負載平衡器 (或 WAF) 的虛擬 IP 位址 (VIP) 可以註冊於 Azure DNS 記錄的 A 記錄中。</span><span class="sxs-lookup"><span data-stu-id="30a2f-368">As example, the Virtual IP Address (VIP) of the Azure external load balancer (or the WAFs) can be registered in the A record of an Azure DNS record.</span></span>

<span data-ttu-id="30a2f-369">[**Azure Load Balancer**][ALB]：Azure Load Balancer 提供高可用性層級 4 (TCP、UDP) 服務，可將連入流量分散到負載平衡組中所定義的服務執行個體。</span><span class="sxs-lookup"><span data-stu-id="30a2f-369">[**Azure Load Balancer**][ALB] Azure load balancer offers a high availability Layer 4 (TCP, UDP) service, which can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="30a2f-370">不論有沒有位址轉譯，從前端端點 (公用 IP 端點或私用 IP 端點) 傳送給負載平衡器的流量都會重新分散到一組後端 IP 位址集區 (範例為網路虛擬設備或 VM)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-370">Traffic sent to the load balancer from front-end endpoints (public IP endpoints or private IP endpoints) can be redistributed with or without address translation to a set of back-end IP address pool (examples being; Network Virtual Appliances or VMs).</span></span>

<span data-ttu-id="30a2f-371">Azure Load Balancer 也可以探查各種伺服器執行個體的健康狀態，以及在探查無法回應負載平衡器時，停止將流量傳送至狀況不良的執行個體。</span><span class="sxs-lookup"><span data-stu-id="30a2f-371">Azure Load Balancer can probe the health of the various server instances as well, and when a probe fails to respond the load balancer stops sending traffic to the unhealthy instance.</span></span> <span data-ttu-id="30a2f-372">在 vDC 中，我們將外部負載平衡器放在中樞 (例如，將流量平衡到 NVA) 和支點 (執行工作，例如平衡多層應用程式的不同 VM 之間的流量) 中。</span><span class="sxs-lookup"><span data-stu-id="30a2f-372">In a vDC, we have the presence of an external load balancer in the hub (for instance, balance the traffic to NVAs), and in the spokes (to perform tasks like balancing traffic between different VMs of a multitier application).</span></span>

<span data-ttu-id="30a2f-373">[**應用程式閘道**][AppGW]：Microsoft Azure 應用程式閘道是專用的虛擬設備，會以服務形式提供應用程式傳遞控制器 (ADC)，為您的應用程式提供各種第 7 層負載平衡功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-373">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway is a dedicated virtual appliance providing application delivery controller (ADC) as a service, offering various layer 7 load balancing capabilities for your application.</span></span> <span data-ttu-id="30a2f-374">它會將 CPU 密集 SSL 終止卸載至應用程式閘道，讓您最佳化 Web 伺服器陣列的產能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-374">It allows you to optimize web farm productivity by offloading CPU intensive SSL termination to the application gateway.</span></span> <span data-ttu-id="30a2f-375">它也提供其他第 7 層路由功能，包括循環配置連入流量、以 Cookie 為基礎的工作階段同質、URL 路徑型路由，以及在單一應用程式閘道背後代管多個網站的能力。</span><span class="sxs-lookup"><span data-stu-id="30a2f-375">It also provides other layer 7 routing capabilities including round robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single Application Gateway.</span></span> <span data-ttu-id="30a2f-376">Web 應用程式防火牆 (WAF) 也是提供為應用程式閘道 WAF SKU 的一部分。</span><span class="sxs-lookup"><span data-stu-id="30a2f-376">A web application firewall (WAF) is also provided as part of the application gateway WAF SKU.</span></span> <span data-ttu-id="30a2f-377">此 SKU 會保護 Web 應用程式免於遭遇常見的 Web 弱點和攻擊。</span><span class="sxs-lookup"><span data-stu-id="30a2f-377">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="30a2f-378">應用程式閘道可以設定為面向網際網路的閘道、內部專用閘道或兩者混合。</span><span class="sxs-lookup"><span data-stu-id="30a2f-378">Application Gateway can be configured as internet facing gateway, internal only gateway, or a combination of both.</span></span> 

<span data-ttu-id="30a2f-379">[**公用 IP**][PIP]：某些 Azure 功能可讓您建立服務端點與公用 IP 位址的關聯，而公用 IP 位址允許從網際網路存取資源。</span><span class="sxs-lookup"><span data-stu-id="30a2f-379">[**Public IPs**][PIP] Some Azure features enable you to associate service endpoints to a public IP address that allows to your resource to be accessed from the internet.</span></span> <span data-ttu-id="30a2f-380">此端點使用網路位址轉譯 (NAT) 將流量路由傳送至 Azure 虛擬網路的內部位址和連接埠。</span><span class="sxs-lookup"><span data-stu-id="30a2f-380">This endpoint uses Network Address Translation (NAT) to route traffic to the internal address and port on the Azure virtual network.</span></span> <span data-ttu-id="30a2f-381">這個路徑是外部流量進入虛擬網路的主要方式。</span><span class="sxs-lookup"><span data-stu-id="30a2f-381">This path is the primary way for external traffic to pass into the virtual network.</span></span> <span data-ttu-id="30a2f-382">公用 IP 位址可以設定成判斷要傳入的流量，以及該流量在虛擬網路上如何轉譯及轉譯至何處。</span><span class="sxs-lookup"><span data-stu-id="30a2f-382">The Public IP addresses can be configured to determine which traffic is passed in, and how and where it's translated on to the virtual network.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="30a2f-383">元件類型：監視</span><span class="sxs-lookup"><span data-stu-id="30a2f-383">Component Type: Monitoring</span></span>
<span data-ttu-id="30a2f-384">監視元件提供來自所有其他元件類型的可見性和警示。</span><span class="sxs-lookup"><span data-stu-id="30a2f-384">Monitoring components provide visibility and alerting from all the other components types.</span></span> <span data-ttu-id="30a2f-385">所有小組應該都可以存取他們可存取之元件和服務的監視。</span><span class="sxs-lookup"><span data-stu-id="30a2f-385">All teams should have access to monitoring for the components and services they have access to.</span></span> <span data-ttu-id="30a2f-386">如果您有集中式支援人員或作業小組，則他們需要具有這些元件所提供資料的整合式存取權。</span><span class="sxs-lookup"><span data-stu-id="30a2f-386">If you have a centralized help desk or operations teams, they would need to have integrated access to the data provided by these components.</span></span>

<span data-ttu-id="30a2f-387">Azure 提供不同類型的記錄和監視服務，以追蹤 Azure 託管資源的行為。</span><span class="sxs-lookup"><span data-stu-id="30a2f-387">Azure offers different types of logging and monitoring services to track the behavior of Azure hosted resources.</span></span> <span data-ttu-id="30a2f-388">Azure 中的工作負載控管和控制不只根據收集記錄資料，也會根據依特定報告事件觸發動作的能力。</span><span class="sxs-lookup"><span data-stu-id="30a2f-388">Governance and control of workloads in Azure is based not just on collecting log data, but also the ability to trigger actions based on specific reported events.</span></span>

<span data-ttu-id="30a2f-389">Azure 中有兩種主要類型的記錄：</span><span class="sxs-lookup"><span data-stu-id="30a2f-389">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="30a2f-390">[**活動記錄**][ActLog] (也稱為「作業記錄」) 可讓您了解對 Azure 訂用帳戶中資源所執行的作業。</span><span class="sxs-lookup"><span data-stu-id="30a2f-390">[**Activity Logs**][ActLog] (referred also as "Operational Log") provide insight into the operations that were performed on resources in the Azure subscription.</span></span> <span data-ttu-id="30a2f-391">這些記錄會報告訂用帳戶的控制程度事件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-391">These logs report the control-plane events for your subscriptions.</span></span> <span data-ttu-id="30a2f-392">每個 Azure 資源都會產生稽核記錄。</span><span class="sxs-lookup"><span data-stu-id="30a2f-392">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="30a2f-393">[**Azure 診斷記錄**][DiagLog]是由資源所產生的記錄，提供有關該資源之作業的豐富經常性資料。</span><span class="sxs-lookup"><span data-stu-id="30a2f-393">[**Azure Diagnostic Logs**][DiagLog] are logs generated by a resource that provide rich, frequent data about the operation of that resource.</span></span> <span data-ttu-id="30a2f-394">這些記錄的內容會依資源類型而有所不同。</span><span class="sxs-lookup"><span data-stu-id="30a2f-394">The content of these logs varies by resource type.</span></span>

<span data-ttu-id="30a2f-395">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="30a2f-395">[![9]][9]</span></span>

<span data-ttu-id="30a2f-396">在 vDC 中，最為重要的是追蹤 NSGs 記錄，特別是下列資訊：</span><span class="sxs-lookup"><span data-stu-id="30a2f-396">In a vDC, it is extremely important to track the NSGs logs, particularly this information:</span></span>

-   <span data-ttu-id="30a2f-397">[**事件記錄檔**][NSGLog]︰提供哪些 NSG 規則套用到以 MAC 位址為基礎的 VM 和執行個體角色的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="30a2f-397">[**Event logs**][NSGLog]: provides information on what NSG rules are applied to VMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="30a2f-398">[**計數器記錄**][NSGLog]：追蹤執行每個 NSG 規則以拒絕或允許流量的次數。</span><span class="sxs-lookup"><span data-stu-id="30a2f-398">[**Counter logs**][NSGLog]: tracks how many times each NSG rule was executed to deny or allow traffic.</span></span>

<span data-ttu-id="30a2f-399">所有記錄都可以儲存在 Azure 儲存體帳戶中，以進行稽核、靜態分析或備份。</span><span class="sxs-lookup"><span data-stu-id="30a2f-399">All logs can be stored in Azure Storage Accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="30a2f-400">將記錄儲存在 Azure 儲存體帳戶中時，客戶就可以使用不同類型的架構來擷取、準備、分析並以視覺化方式檢視這項資料，以報告雲端資源的狀態和健康狀態。</span><span class="sxs-lookup"><span data-stu-id="30a2f-400">When the logs are stored in an Azure storage account, customers can use different types of frameworks to retrieve, prep, analyze, and visualize this data to report the status and health of cloud resources.</span></span>

<span data-ttu-id="30a2f-401">大型企業應該已取得用來監視內部部署系統的標準架構，以及可以延伸該架構以整合雲端部署所產生的記錄。</span><span class="sxs-lookup"><span data-stu-id="30a2f-401">Large enterprises should already have acquired a standard framework for monitoring on-premises systems and can extend that framework to integrate logs generated by cloud deployments.</span></span> <span data-ttu-id="30a2f-402">針對想要在雲端保留所有記錄的組織，[Microsoft Operations Management Suite (OMS)][OMS] 是不錯的選擇。</span><span class="sxs-lookup"><span data-stu-id="30a2f-402">For organizations that wish to keep all the logging in the cloud, [Microsoft Operations Management Suite (OMS)][OMS] is a great choice.</span></span> <span data-ttu-id="30a2f-403">因為 OMS 實作為雲端型服務，所以您對基礎結構服務進行最小的投資就可以快速啟動並執行它。</span><span class="sxs-lookup"><span data-stu-id="30a2f-403">Since OMS is implemented as a cloud-based service, you can have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="30a2f-404">OMS 也可以整合 System Center 元件 (例如 System Center Operations Manager)，以將現有管理投資擴充到雲端。</span><span class="sxs-lookup"><span data-stu-id="30a2f-404">OMS can also integrate with System Center components such as System Center Operations Manager to extend your existing management investments into the cloud.</span></span>

<span data-ttu-id="30a2f-405">OMS 記錄分析是 OMS 架構的元件，可協助收集、相互關聯、搜尋和處理作業系統、應用程式、基礎結構雲端元件所產生的記錄和效能資料。</span><span class="sxs-lookup"><span data-stu-id="30a2f-405">OMS Log analytics is a component of the OMS framework to help collect, correlate, search, and act on log and performance data generated by operating systems, applications, infrastructure cloud components.</span></span> <span data-ttu-id="30a2f-406">它可將使用整合式搜尋和自訂儀表板的即時操作深入資訊提供給客戶，以分析 vDC 中所有工作負載的所有記錄。</span><span class="sxs-lookup"><span data-stu-id="30a2f-406">It gives customers real-time operational insights using integrated search and custom dashboards to analyze all the records across all your workloads in a vDC.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="30a2f-407">元件類型：工作負載</span><span class="sxs-lookup"><span data-stu-id="30a2f-407">Component Type: Workloads</span></span>
<span data-ttu-id="30a2f-408">工作負載元件是實際應用程式和服務所在的位置。</span><span class="sxs-lookup"><span data-stu-id="30a2f-408">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="30a2f-409">它也是在應用程式開發小組花費最多時間的位置。</span><span class="sxs-lookup"><span data-stu-id="30a2f-409">It's also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="30a2f-410">工作負載可能性真的無止盡。</span><span class="sxs-lookup"><span data-stu-id="30a2f-410">The workload possibilities are truly endless.</span></span> <span data-ttu-id="30a2f-411">以下只是一些可能的工作負載類型：</span><span class="sxs-lookup"><span data-stu-id="30a2f-411">The following are just a few of the possible workload types:</span></span>

<span data-ttu-id="30a2f-412">**內部 LOB 應用程式**</span><span class="sxs-lookup"><span data-stu-id="30a2f-412">**Internal LOB Applications**</span></span>

<span data-ttu-id="30a2f-413">企業營運應用程式是對企業之進行中作業而言的重要電腦應用程式。</span><span class="sxs-lookup"><span data-stu-id="30a2f-413">Line-of-business applications are computer applications critical to the ongoing operation of an enterprise.</span></span> <span data-ttu-id="30a2f-414">LOB 應用程式具有一些共同特性：</span><span class="sxs-lookup"><span data-stu-id="30a2f-414">LOB applications have some common characteristics:</span></span>

-   <span data-ttu-id="30a2f-415">**互動式**。</span><span class="sxs-lookup"><span data-stu-id="30a2f-415">**Interactive**.</span></span> <span data-ttu-id="30a2f-416">LOB 應用程式皆為互動式本質：輸入資料，並傳回結果/報表。</span><span class="sxs-lookup"><span data-stu-id="30a2f-416">LOB applications are interactive by nature: data is entered, and result/reports are returned.</span></span>
-   <span data-ttu-id="30a2f-417">**資料驅動**。</span><span class="sxs-lookup"><span data-stu-id="30a2f-417">**Data driven**.</span></span> <span data-ttu-id="30a2f-418">LOB 應用程式具資料密集性，其會頻繁存取資料庫或其他儲存體。</span><span class="sxs-lookup"><span data-stu-id="30a2f-418">LOB applications are data intensive with frequent access to the databases or other storage.</span></span>
-   <span data-ttu-id="30a2f-419">**整合式**。</span><span class="sxs-lookup"><span data-stu-id="30a2f-419">**Integrated**.</span></span> <span data-ttu-id="30a2f-420">LOB 應用程式可與組織內部或外部的其他系統整合。</span><span class="sxs-lookup"><span data-stu-id="30a2f-420">LOB applications offer integration with other systems within or outside the organization.</span></span>

<span data-ttu-id="30a2f-421">**客戶對應網站 (網際網路對應或內部對應)**：與網際網路互動的大部分應用程式都是網站。</span><span class="sxs-lookup"><span data-stu-id="30a2f-421">**Customer facing web sites (Internet or Internal facing)** Most applications that interact with the Internet are web sites.</span></span> <span data-ttu-id="30a2f-422">Azure 提供在 IaaS VM 上或從 [Azure Web Apps][WebApps] 站台 (PaaS) 執行網站的功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-422">Azure offers the capability to run a web site on an IaaS VM or from an [Azure Web Apps][WebApps] site (PaaS).</span></span> <span data-ttu-id="30a2f-423">Azure Web Apps 支援整合允許將 Web Apps 部署在 vDC 支點中的 VNet。</span><span class="sxs-lookup"><span data-stu-id="30a2f-423">Azure Web Apps support integration with VNets that allow the deployment of the Web Apps in the spoke of a vDC.</span></span> <span data-ttu-id="30a2f-424">使用 VNET 整合，您不需要公開您應用程式的網際網路端點，但可以改用來自私人 VNet 的資源私人非網際網路可路由傳送位址。</span><span class="sxs-lookup"><span data-stu-id="30a2f-424">With the VNET integration, you don't need to expose an Internet endpoint for your applications but can use the resources private non-internet routable address from your private VNet instead.</span></span>

<span data-ttu-id="30a2f-425">**巨量資料/分析**：資料需要向上延展至極大型磁碟區時，資料庫可能無法適當地向上延展。</span><span class="sxs-lookup"><span data-stu-id="30a2f-425">**Big Data/Analytics** When data needs to scale up to a very large volume, databases may not scale up properly.</span></span> <span data-ttu-id="30a2f-426">Hadoop 技術可讓系統對大量節點平行執行分散式查詢。</span><span class="sxs-lookup"><span data-stu-id="30a2f-426">Hadoop technology offers a system to run distributed queries in parallel on large number of nodes.</span></span> <span data-ttu-id="30a2f-427">客戶可以選擇在 IaaS VM 或 PaaS ([HDInsight][HDI]) 中執行資料工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-427">Customers have the option to run data workloads in IaaS VMs or PaaS ([HDInsight][HDI]).</span></span> <span data-ttu-id="30a2f-428">HDInsight 支援部署到位置型 VNet、可以部署到 vDC 支點中的叢集。</span><span class="sxs-lookup"><span data-stu-id="30a2f-428">HDInsight supports deploying into a location-based VNet, can be deployed to a cluster in a spoke of the vDC.</span></span>

<span data-ttu-id="30a2f-429">**事件和傳訊**
[Azure 事件中樞][EventHubs]是大規模的遙測擷取服務，能夠收集、轉換和儲存數百萬個事件。</span><span class="sxs-lookup"><span data-stu-id="30a2f-429">**Events and Messaging**
[Azure Event Hubs][EventHubs] is a hyper-scale telemetry ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="30a2f-430">這個分散式串流平台提供低延遲和可設定的保留期，讓您能夠將大量遙測資料輸入 Azure，並從多個應用程式讀取該資料。</span><span class="sxs-lookup"><span data-stu-id="30a2f-430">As a distributed streaming platform, it offers low latency and configurable time retention, enabling you to ingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="30a2f-431">使用事件中樞，單一串流就可以同時支援即時和批次型管線。</span><span class="sxs-lookup"><span data-stu-id="30a2f-431">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="30a2f-432">應用程式與服務之間的高可靠雲端傳訊服務可以透過 [Azure 服務匯流排][ServiceBus]進行實作，而 Azure 服務匯流排提供用戶端與伺服器之間的非同步代理傳訊，以及結構化先進先出 (FIFO) 傳訊和發佈/訂閱功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-432">A highly reliable cloud messaging service between applications and services, can be implemented through [Azure Service Bus][ServiceBus] that offers asynchronous brokered messaging between client and server, along with structured first-in-first-out (FIFO) messaging and publish/subscribe capabilities.</span></span>

<span data-ttu-id="30a2f-433">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="30a2f-433">[![10]][10]</span></span>

### <a name="multiple-vdc"></a><span data-ttu-id="30a2f-434">多重 vDC</span><span class="sxs-lookup"><span data-stu-id="30a2f-434">Multiple vDC</span></span>
<span data-ttu-id="30a2f-435">目前為止，本文的重點在於單一 vDC，並描述構成復原 vDC 的基本元件和架構。</span><span class="sxs-lookup"><span data-stu-id="30a2f-435">So far, this article has focused on a single vDC, describing the basic components and architecture that contribute to a resilient vDC.</span></span> <span data-ttu-id="30a2f-436">Azure 負載平衡器這類 Azure 功能、NVA、可用性設定組、擴展集以及其他機制提供給可讓您將穩固的 SLA 層級建置到生產服務的系統。</span><span class="sxs-lookup"><span data-stu-id="30a2f-436">Azure features such as Azure load balancer, NVAs, availability sets, scale sets, along with other mechanisms contribute to a system that allow you to build solid SLA levels into your production services.</span></span>

<span data-ttu-id="30a2f-437">不過，單一 vDC 裝載於單一區域內，而且很容易發生可能影響該整個區域的主要服務中斷。</span><span class="sxs-lookup"><span data-stu-id="30a2f-437">However, a single vDC is hosted within a single region, and is vulnerable to major outage that might affect that entire region.</span></span> <span data-ttu-id="30a2f-438">想要達到高 SLA 的客戶必須透過在不同區域的兩個 (或以上) vDC 中部署相同專案來保護服務。</span><span class="sxs-lookup"><span data-stu-id="30a2f-438">Customers that want to achieve high SLAs need to protect the services through deployments of the same project in two (or more) vDCs, placed in different regions.</span></span>

<span data-ttu-id="30a2f-439">除了 SLA 考量，有數種部署多個 vDC 的有意義常見案例：</span><span class="sxs-lookup"><span data-stu-id="30a2f-439">In addition to SLA concerns, there are several common scenarios where deploying multiple vDCs makes sense:</span></span>

-   <span data-ttu-id="30a2f-440">地區/全球支援</span><span class="sxs-lookup"><span data-stu-id="30a2f-440">Regional/Global presence</span></span>
-   <span data-ttu-id="30a2f-441">災害復原</span><span class="sxs-lookup"><span data-stu-id="30a2f-441">Disaster Recovery</span></span>
-   <span data-ttu-id="30a2f-442">在 DC 之間轉向流量的機制</span><span class="sxs-lookup"><span data-stu-id="30a2f-442">Mechanism to divert traffic between DC</span></span>

#### <a name="regionalglobal-presence"></a><span data-ttu-id="30a2f-443">地區/全球支援</span><span class="sxs-lookup"><span data-stu-id="30a2f-443">Regional/Global presence</span></span>
<span data-ttu-id="30a2f-444">Azure 資料中心位在全球的許多區域。</span><span class="sxs-lookup"><span data-stu-id="30a2f-444">Azure data centers are present in numerous regions worldwide.</span></span> <span data-ttu-id="30a2f-445">選取多個 Azure 資料中心時，客戶需要考慮兩個相關因素：地理距離和延遲。</span><span class="sxs-lookup"><span data-stu-id="30a2f-445">When selecting multiple Azure data centers, customers need to consider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="30a2f-446">客戶必須評估 vDC 之間的地理距離，以及 vDC 與終端使用者之間的距離，以提供最佳使用者體驗。</span><span class="sxs-lookup"><span data-stu-id="30a2f-446">Customers need to evaluate the geographical distance between the vDCs and  the distance between the vDC and the end users, to offer the best user experience.</span></span>

<span data-ttu-id="30a2f-447">vDC 裝載所在的 Azure 區域也需要符合您組織運作所在之任何法律轄區所建立的法規需求。</span><span class="sxs-lookup"><span data-stu-id="30a2f-447">The Azure Region where vDCs are hosted also need to conform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="30a2f-448">災害復原</span><span class="sxs-lookup"><span data-stu-id="30a2f-448">Disaster Recovery</span></span>
<span data-ttu-id="30a2f-449">災害復原計劃的實作是與相關的工作負載類型強烈相關，以及同步不同 vDC 之間的工作負載狀態的功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-449">The implementation of a disaster recovery plan is strongly related to the type of workload concerned, and the ability to synchronize the workload state between different vDCs.</span></span> <span data-ttu-id="30a2f-450">在理想情況下，大部分客戶都想要同步兩個不同 vDC 中執行之部署間的應用程式資料，以實作快速容錯移轉機制。</span><span class="sxs-lookup"><span data-stu-id="30a2f-450">Ideally, most customers want to synchronize application data between deployments running in two different vDCs to implement a fast fail-over mechanism.</span></span> <span data-ttu-id="30a2f-451">大部分的應用程式都很容易延遲，因而導致潛在的資料同步逾時和延遲。</span><span class="sxs-lookup"><span data-stu-id="30a2f-451">Most applications are sensitive to latency, and that can cause potential timeout and delay in data synchronization.</span></span>

<span data-ttu-id="30a2f-452">不同 vDC 中應用程式的同步或活動訊號監視需要其間的通訊。</span><span class="sxs-lookup"><span data-stu-id="30a2f-452">Synchronization or heartbeat monitoring of applications in different vDCs requires communication between them.</span></span> <span data-ttu-id="30a2f-453">不同區域中的兩個 vDC 可以透過進行連線：</span><span class="sxs-lookup"><span data-stu-id="30a2f-453">Two vDCs in different regions can be connected through:</span></span>

-   <span data-ttu-id="30a2f-454">vDC 中樞連接到相同 ExpressRoute 電路時的 ExpressRoute 私人對等</span><span class="sxs-lookup"><span data-stu-id="30a2f-454">ExpressRoute private peering when the vDC hubs are connected to the same ExpressRoute circuit</span></span>
-   <span data-ttu-id="30a2f-455">透過公司骨幹所連線的多個 ExpressRoute 電路以及連線至 ExpressRoute 電路的 vDC 網格</span><span class="sxs-lookup"><span data-stu-id="30a2f-455">multiple ExpressRoute circuits connected via your corporate backbone and your vDC mesh connected to the ExpressRoute circuits</span></span>
-   <span data-ttu-id="30a2f-456">每個 Azure 區域中 vDC 中樞之間的站對站 VPN 連線</span><span class="sxs-lookup"><span data-stu-id="30a2f-456">Site-to-Site VPN connections between your vDC hubs in each Azure Region</span></span>

<span data-ttu-id="30a2f-457">通常，因為透過 Microsoft 骨幹傳輸時的較高頻寬和一致延遲，所以 ExpressRoute 連線是偏好的機制。</span><span class="sxs-lookup"><span data-stu-id="30a2f-457">Usually the ExpressRoute connection is the preferred mechanism due higher bandwidth and consistent latency when transiting through the Microsoft backbone.</span></span>

<span data-ttu-id="30a2f-458">沒有任何魔法可以驗證分散於不同區域中兩個 (以上) 不同 vDC 之間的應用程式。</span><span class="sxs-lookup"><span data-stu-id="30a2f-458">There is no magic recipe to validate an application distributed between two (or more) different vDCs located in different regions.</span></span> <span data-ttu-id="30a2f-459">客戶應該執行網路資格測試來驗證連線延遲和頻寬，並設定同步還是非同步資料複寫適合，以及您工作負載的最佳復原時間目標 (RTO)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-459">Customers should run network qualification tests to verify the latency and bandwidth of the connections and target whether synchronous or asynchronous data replication is appropriate and what the optimal recovery time objective (RTO) can be for your workloads.</span></span>

#### <a name="mechanism-to-divert-traffic-between-dc"></a><span data-ttu-id="30a2f-460">在 DC 之間轉向流量的機制</span><span class="sxs-lookup"><span data-stu-id="30a2f-460">Mechanism to divert traffic between DC</span></span>
<span data-ttu-id="30a2f-461">將來自某個 DC 的流量轉向到另一個 DC 的一個有效技術是以 DNS 為基礎。</span><span class="sxs-lookup"><span data-stu-id="30a2f-461">One effective technique to divert the traffic incoming in one DC to another is based on DNS.</span></span> <span data-ttu-id="30a2f-462">[Azure 流量管理員][TM]使用網域名稱系統 (DNS) 機制，以將終端使用者導向特定 vDC 中的最適合公用端點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-462">[Azure Traffic Manager][TM] uses the Domain Name System (DNS) mechanism to direct the end-user traffic to the most appropriate public endpoint in a specific vDC.</span></span> <span data-ttu-id="30a2f-463">透過探查，流量管理員會定期檢查不同 vDC 中公用端點的服務健康狀態，如果這些端點失敗，則會自動路由傳送至次要 vDC。</span><span class="sxs-lookup"><span data-stu-id="30a2f-463">Through probes, Traffic Manager periodically checks the service health of public endpoints in different vDCs and, in case of failure of those endpoints, it routes automatically to the secondary vDC.</span></span>

<span data-ttu-id="30a2f-464">流量管理員作用於 Azure 公用端點上，例如，可以用來控制流量/將流量轉向到適當 vDC 中的 Azure VM 和 Web Apps。</span><span class="sxs-lookup"><span data-stu-id="30a2f-464">Traffic Manager works on Azure public endpoints and can be used, for example, to control/divert traffic to Azure VMs and Web Apps in the appropriate vDC.</span></span> <span data-ttu-id="30a2f-465">流量管理員即使在整個 Azure 區域失敗還是可以恢復，而且可以根據數個準則來控制不同 vDC 中服務端點的使用者流量分配 (例如，特定 vDC 中服務的失敗，或選取具有用戶端最低網路延遲的 vDC)。</span><span class="sxs-lookup"><span data-stu-id="30a2f-465">Traffic Manager is resilient even in the face of an entire Azure region failing and can control the distribution of user traffic for service endpoints in different vDCs based on several criteria (for instance, failure of a service in a specific vDC, or selecting the vDC with the lowest network latency for the client).</span></span>

### <a name="conclusion"></a><span data-ttu-id="30a2f-466">結論</span><span class="sxs-lookup"><span data-stu-id="30a2f-466">Conclusion</span></span>
<span data-ttu-id="30a2f-467">虛擬資料中心是將資料中心移轉至雲端的方法，而此雲端合併使用在 Azure 中建立可擴充架構的特色和功能，以最大化雲端資源使用、降低成本，並簡化系統控管。</span><span class="sxs-lookup"><span data-stu-id="30a2f-467">The Virtual Data Center is an approach to data center migration into the cloud that uses a combination of features and capabilities to create a scalable architecture in Azure that maximizes cloud resource use, reducing costs, and simplifying system governance.</span></span> <span data-ttu-id="30a2f-468">vDC 概念是以中樞支點拓撲為基礎，並提供中樞中的一般共用服務，以及允許支點中的特定應用程式/工作負載。</span><span class="sxs-lookup"><span data-stu-id="30a2f-468">The vDC concept is based on a hub-spokes topology, providing common shared services in the hub and allowing specific applications/workloads in the spokes.</span></span> <span data-ttu-id="30a2f-469">vDC 符合公司角色的結構，其中，不同部門 (中央 IT、DevOps、作業和維護) 會一起工作，而且每個部門都會有特定角色和職責清單。</span><span class="sxs-lookup"><span data-stu-id="30a2f-469">A vDC matches the structure of company roles, where different departments (Central IT, DevOps, operation and maintenance) work together, each with a specific list of roles and duties.</span></span> <span data-ttu-id="30a2f-470">vDC 滿足「隨即轉移」移轉的需求，但也提供原生雲端部署的許多優點。</span><span class="sxs-lookup"><span data-stu-id="30a2f-470">A vDC satisfies the requirements for a "Lift and Shift" migration, but also provides many advantages to native cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="30a2f-471">參考</span><span class="sxs-lookup"><span data-stu-id="30a2f-471">References</span></span>
<span data-ttu-id="30a2f-472">本文件已討論下列功能。</span><span class="sxs-lookup"><span data-stu-id="30a2f-472">The following features were discussed in this document.</span></span> <span data-ttu-id="30a2f-473">請按一下連結以深入了解。</span><span class="sxs-lookup"><span data-stu-id="30a2f-473">Click the links to learn more.</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="30a2f-474">網路功能</span><span class="sxs-lookup"><span data-stu-id="30a2f-474">Network Features</span></span>|<span data-ttu-id="30a2f-475">負載平衡</span><span class="sxs-lookup"><span data-stu-id="30a2f-475">Load Balancing</span></span>|<span data-ttu-id="30a2f-476">連線能力</span><span class="sxs-lookup"><span data-stu-id="30a2f-476">Connectivity</span></span>|
|<span data-ttu-id="30a2f-477">[Azure 虛擬網路][VNet]</span><span class="sxs-lookup"><span data-stu-id="30a2f-477">[Azure Virtual Networks][VNet]</span></span></br><span data-ttu-id="30a2f-478">[網路安全性群組][NSG]</span><span class="sxs-lookup"><span data-stu-id="30a2f-478">[Network Security Groups][NSG]</span></span></br><span data-ttu-id="30a2f-479">[NSG 記錄][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="30a2f-479">[NSG Logs][NSGLog]</span></span></br><span data-ttu-id="30a2f-480">[使用者定義路由][UDR]</span><span class="sxs-lookup"><span data-stu-id="30a2f-480">[User Defined Routing][UDR]</span></span></br><span data-ttu-id="30a2f-481">[網路虛擬設備][NVA]</span><span class="sxs-lookup"><span data-stu-id="30a2f-481">[Network Virtual Appliances][NVA]</span></span></br><span data-ttu-id="30a2f-482">[公用 IP 位址][PIP]</span><span class="sxs-lookup"><span data-stu-id="30a2f-482">[Public IP Addresses][PIP]</span></span>|<span data-ttu-id="30a2f-483">[Azure Load Balancer (L3) ][ALB]</span><span class="sxs-lookup"><span data-stu-id="30a2f-483">[Azure Load Balancer (L3) ][ALB]</span></span></br><span data-ttu-id="30a2f-484">[應用程式閘道 (L7) ][AppGW]</span><span class="sxs-lookup"><span data-stu-id="30a2f-484">[Application Gateway (L7) ][AppGW]</span></span></br><span data-ttu-id="30a2f-485">[Web 應用程式防火牆][WAF]</span><span class="sxs-lookup"><span data-stu-id="30a2f-485">[Web Application Firewall][WAF]</span></span></br><span data-ttu-id="30a2f-486">[Azure 流量管理員][TM]</span><span class="sxs-lookup"><span data-stu-id="30a2f-486">[Azure Traffic Manager][TM]</span></span> |<span data-ttu-id="30a2f-487">[VNet 對等][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="30a2f-487">[VNet Peering][VNetPeering]</span></span></br><span data-ttu-id="30a2f-488">[虛擬私人網路][VPN]</span><span class="sxs-lookup"><span data-stu-id="30a2f-488">[Virtual Private Network][VPN]</span></span></br><span data-ttu-id="30a2f-489">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="30a2f-489">[ExpressRoute][ExR]</span></span>
|<span data-ttu-id="30a2f-490">身分識別</span><span class="sxs-lookup"><span data-stu-id="30a2f-490">Identity</span></span></br>|<span data-ttu-id="30a2f-491">監視</span><span class="sxs-lookup"><span data-stu-id="30a2f-491">Monitoring</span></span></br>|<span data-ttu-id="30a2f-492">最佳做法</span><span class="sxs-lookup"><span data-stu-id="30a2f-492">Best Practices</span></span></br>|
|<span data-ttu-id="30a2f-493">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="30a2f-493">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="30a2f-494">[Multi-Factor Authentication][MFA]</span><span class="sxs-lookup"><span data-stu-id="30a2f-494">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="30a2f-495">[角色型存取控制][RBAC]</span><span class="sxs-lookup"><span data-stu-id="30a2f-495">[Role Base Access Controls][RBAC]</span></span></br><span data-ttu-id="30a2f-496">[預設 AAD 角色][Roles]</span><span class="sxs-lookup"><span data-stu-id="30a2f-496">[Default AAD Roles][Roles]</span></span> |<span data-ttu-id="30a2f-497">[活動記錄][ActLog]</span><span class="sxs-lookup"><span data-stu-id="30a2f-497">[Activity Logs][ActLog]</span></span></br><span data-ttu-id="30a2f-498">[診斷記錄][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="30a2f-498">[Diagnostic Logs][DiagLog]</span></span></br><span data-ttu-id="30a2f-499">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="30a2f-499">[Microsoft Operations Management Suite][OMS]</span></span></br> |<span data-ttu-id="30a2f-500">[周邊網路最佳做法][DMZ]</span><span class="sxs-lookup"><span data-stu-id="30a2f-500">[Perimeter Networks Best Practices][DMZ]</span></span></br><span data-ttu-id="30a2f-501">[訂用帳戶管理][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="30a2f-501">[Subscription Management][SubMgmt]</span></span></br><span data-ttu-id="30a2f-502">[資源群組管理][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="30a2f-502">[Resource Group Management][RGMgmt]</span></span></br><span data-ttu-id="30a2f-503">[Azure 訂用帳戶限制][Limits]</span><span class="sxs-lookup"><span data-stu-id="30a2f-503">[Azure Subscription Limits][Limits]</span></span> |
|<span data-ttu-id="30a2f-504">其他 Azure 服務</span><span class="sxs-lookup"><span data-stu-id="30a2f-504">Other Azure Services</span></span>|
|<span data-ttu-id="30a2f-505">[Azure Web Apps][WebApps]</span><span class="sxs-lookup"><span data-stu-id="30a2f-505">[Azure Web Apps][WebApps]</span></span></br><span data-ttu-id="30a2f-506">[HDInsights (Hadoop) ][HDI]</span><span class="sxs-lookup"><span data-stu-id="30a2f-506">[HDInsights (Hadoop) ][HDI]</span></span></br><span data-ttu-id="30a2f-507">[事件中樞][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="30a2f-507">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="30a2f-508">[服務匯流排][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="30a2f-508">[Service Bus][ServiceBus]</span></span>|



## <a name="next-steps"></a><span data-ttu-id="30a2f-509">後續步驟</span><span class="sxs-lookup"><span data-stu-id="30a2f-509">Next Steps</span></span>
 - <span data-ttu-id="30a2f-510">探索 [VNet 對等][VNetPeering]，其為 vDC 中樞和支點設計的支持技術。</span><span class="sxs-lookup"><span data-stu-id="30a2f-510">Explore [VNet Peering][VNetPeering], the underpinning technology for vDC hub and spoke designs</span></span>
 - <span data-ttu-id="30a2f-511">實作 [AAD][AAD]，以開始使用 [RBAC][RBAC] 探索。</span><span class="sxs-lookup"><span data-stu-id="30a2f-511">Implement [AAD][AAD] to get started with [RBAC][RBAC] exploration</span></span>
 - <span data-ttu-id="30a2f-512">開發訂用帳戶和資源管理模型與 RBAC 模型，以符合組織的結構、需求和原則。</span><span class="sxs-lookup"><span data-stu-id="30a2f-512">Develop a Subscription and Resource management model and RBAC model to meet the structure, requirements, and polices of your organization.</span></span> <span data-ttu-id="30a2f-513">正在規劃最重要的活動。</span><span class="sxs-lookup"><span data-stu-id="30a2f-513">The most important activity is planning.</span></span> <span data-ttu-id="30a2f-514">請盡快規劃重組、合併、新的產品線等。</span><span class="sxs-lookup"><span data-stu-id="30a2f-514">As much as practical, plan for reorganizations, mergers, new product lines, etc.</span></span>

<!--Image References-->
<span data-ttu-id="30a2f-515">[0]: ./media/networking-virtual-datacenter/redundant-equipment.png "元件重疊範例" </span><span class="sxs-lookup"><span data-stu-id="30a2f-515">[0]: ./media/networking-virtual-datacenter/redundant-equipment.png "Examples of component overlap" </span></span>
<span data-ttu-id="30a2f-516">[1]: ./media/networking-virtual-datacenter/vdc-high-level.png "高階中樞和支點 vDC 範例"</span><span class="sxs-lookup"><span data-stu-id="30a2f-516">[1]: ./media/networking-virtual-datacenter/vdc-high-level.png "High-level example of hub and spoke vDC"</span></span>
<span data-ttu-id="30a2f-517">[2]: ./media/networking-virtual-datacenter/hub-spokes-cluster.png "中樞和支點叢集"</span><span class="sxs-lookup"><span data-stu-id="30a2f-517">[2]: ./media/networking-virtual-datacenter/hub-spokes-cluster.png "Cluster of hubs and spokes"</span></span>
<span data-ttu-id="30a2f-518">[3]: ./media/networking-virtual-datacenter/spoke-to-spoke.png "支點對支點"</span><span class="sxs-lookup"><span data-stu-id="30a2f-518">[3]: ./media/networking-virtual-datacenter/spoke-to-spoke.png "Spoke-to-spoke"</span></span>
<span data-ttu-id="30a2f-519">[4]: ./media/networking-virtual-datacenter/vdc-block-level-diagram.png "vDC 的區塊層級圖"</span><span class="sxs-lookup"><span data-stu-id="30a2f-519">[4]: ./media/networking-virtual-datacenter/vdc-block-level-diagram.png "Block level diagram of the vDC"</span></span>
<span data-ttu-id="30a2f-520">[5]: ./media/networking-virtual-datacenter/users-groups-subsciptions.png "使用者、群組、訂用帳戶和專案"</span><span class="sxs-lookup"><span data-stu-id="30a2f-520">[5]: ./media/networking-virtual-datacenter/users-groups-subsciptions.png "Users, groups, subscriptions, and projects"</span></span>
<span data-ttu-id="30a2f-521">[6]: ./media/networking-virtual-datacenter/infrastructure-high-level.png "高階基礎結構圖"</span><span class="sxs-lookup"><span data-stu-id="30a2f-521">[6]: ./media/networking-virtual-datacenter/infrastructure-high-level.png "High-level infrastructure diagram"</span></span>
<span data-ttu-id="30a2f-522">[7]: ./media/networking-virtual-datacenter/highlevel-perimeter-networks.png "高階基礎結構圖"</span><span class="sxs-lookup"><span data-stu-id="30a2f-522">[7]: ./media/networking-virtual-datacenter/highlevel-perimeter-networks.png "High-level infrastructure diagram"</span></span>
<span data-ttu-id="30a2f-523">[8]: ./media/networking-virtual-datacenter/vnet-peering-perimeter-neworks.png "VNet 對等和周邊網路"</span><span class="sxs-lookup"><span data-stu-id="30a2f-523">[8]: ./media/networking-virtual-datacenter/vnet-peering-perimeter-neworks.png "VNet Peering and perimeter networks"</span></span>
<span data-ttu-id="30a2f-524">[9]: ./media/networking-virtual-datacenter/high-level-diagram-monitoring.png "高階監視圖"</span><span class="sxs-lookup"><span data-stu-id="30a2f-524">[9]: ./media/networking-virtual-datacenter/high-level-diagram-monitoring.png "High-Level diagram for Monitoring"</span></span>
<span data-ttu-id="30a2f-525">[10]: ./media/networking-virtual-datacenter/high-level-workloads.png "高階工作負載圖"</span><span class="sxs-lookup"><span data-stu-id="30a2f-525">[10]: ./media/networking-virtual-datacenter/high-level-workloads.png "High-level diagram for Workload"</span></span>

<!--Link References-->
[Limits]: https://docs.microsoft.com/azure/azure-subscription-service-limits
[Roles]: https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles
[VNet]: https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview
[NSG]: https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg 
[VNetPeering]: https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview 
[UDR]: https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is
[MFA]: https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication
[AAD]: https://docs.microsoft.com/azure/active-directory/active-directory-whatis
[VPN]: https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: https://docs.microsoft.com/azure/expressroute/expressroute-introduction 
[NVA]: https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/nva-ha
[SubMgmt]: https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-subscription-governance 
[RGMgmt]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview
[DMZ]: https://docs.microsoft.com/azure/best-practices-network-security
[ALB]: https://docs.microsoft.com/azure/load-balancer/load-balancer-overview
[PIP]: https://docs.microsoft.com/azure/virtual-network/resource-groups-networking#public-ip-address
[AppGW]: https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction
[WAF]: https://docs.microsoft.com/azure/application-gateway/application-gateway-web-application-firewall-overview
[ActLog]: https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview
[WebApps]: https://docs.microsoft.com/azure/app-service-web/
[HDI]: https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview
[TM]: https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview
