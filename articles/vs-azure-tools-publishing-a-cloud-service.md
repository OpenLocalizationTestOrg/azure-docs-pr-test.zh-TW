---
title: "雲端服務使用 hello Azure Tools aaaPublishing |Microsoft 文件"
description: "深入了解 toopublish Azure 雲端服務專案所使用的 Visual Studio 的方式。"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1a07b6e4-3678-4cbf-b37e-4520b402a3d9
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/14/2017
ms.author: kraigb
ms.openlocfilehash: 31ede8308146de2bb128b768f23f64eb85bc7548
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="publishing-a-cloud-service-using-hello-azure-tools"></a><span data-ttu-id="4c96f-103">發行雲端服務使用 hello Azure Tools</span><span class="sxs-lookup"><span data-stu-id="4c96f-103">Publishing a Cloud Service using hello Azure Tools</span></span>
<span data-ttu-id="4c96f-104">使用 hello Azure Tools for Microsoft Visual Studio，您可以發行 Azure 應用程式直接從 Visual Studio。</span><span class="sxs-lookup"><span data-stu-id="4c96f-104">By using hello Azure Tools for Microsoft Visual Studio, you can publish your Azure application directly from Visual Studio.</span></span> <span data-ttu-id="4c96f-105">Visual Studio 支援整合發行 tooeither hello 臨時或 hello 的雲端服務的實際執行環境。</span><span class="sxs-lookup"><span data-stu-id="4c96f-105">Visual Studio supports integrated publishing tooeither hello Staging or hello Production environment of a cloud service.</span></span>

<span data-ttu-id="4c96f-106">您必須具有 Azure 訂用帳戶才可以發佈 Azure 應用程式。</span><span class="sxs-lookup"><span data-stu-id="4c96f-106">Before you can publish an Azure application, you must have an Azure subscription.</span></span> <span data-ttu-id="4c96f-107">您也必須設定雲端服務和儲存體帳戶 toobe 應用程式使用。</span><span class="sxs-lookup"><span data-stu-id="4c96f-107">You must also set up a cloud service and storage account toobe used by your application.</span></span> <span data-ttu-id="4c96f-108">您可以設定這些在 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-108">You can set these up at hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4c96f-109">當您發行時，您可以選取 hello 部署環境的雲端服務。</span><span class="sxs-lookup"><span data-stu-id="4c96f-109">When you publish, you can select hello deployment environment for your cloud service.</span></span> <span data-ttu-id="4c96f-110">您也必須選取是使用的 toostore hello 應用程式封裝部署的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="4c96f-110">You must also select a storage account that is used toostore hello application package for deployment.</span></span> <span data-ttu-id="4c96f-111">部署之後，hello 應用程式封裝會移除從 hello 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="4c96f-111">After deployment, hello application package is removed from hello storage account.</span></span>
> 
> 

<span data-ttu-id="4c96f-112">當您開發和測試 Azure 應用程式時，您可以為 web 角色以累加方式使用 Web Deploy toopublish 變更。</span><span class="sxs-lookup"><span data-stu-id="4c96f-112">When you are developing and testing an Azure application, you can use Web Deploy toopublish changes incrementally for your web roles.</span></span> <span data-ttu-id="4c96f-113">發行您的應用程式 tooa 部署環境之後，Web Deploy 可讓您直接 toohello 虛擬機器執行 hello web 角色部署的變更。</span><span class="sxs-lookup"><span data-stu-id="4c96f-113">After you publish your application tooa deployment environment, Web Deploy lets you deploy changes directly toohello virtual machine that is running hello web role.</span></span> <span data-ttu-id="4c96f-114">您沒有 toopackage，且發行整個 Azure 應用程式每次想 tooupdate hello 變更您 web 角色 tootest。</span><span class="sxs-lookup"><span data-stu-id="4c96f-114">You do not have toopackage and publish your entire Azure application each time you want tooupdate your web role tootest out hello changes.</span></span> <span data-ttu-id="4c96f-115">透過這種方式中的測試，而不等候 toohave 應用程式發行的 tooa 部署環境的 hello 雲端可以有您 web 角色的變更。</span><span class="sxs-lookup"><span data-stu-id="4c96f-115">With this approach you can have your web role changes available in hello cloud for testing without waiting toohave your application published tooa deployment environment.</span></span>

<span data-ttu-id="4c96f-116">使用下列程序 toopublish hello 您的 Azure 應用程式和 web 角色 tooupdate 利用 Web 部署：</span><span class="sxs-lookup"><span data-stu-id="4c96f-116">Use hello following procedures toopublish your Azure application and tooupdate a web role by using Web Deploy:</span></span>

* <span data-ttu-id="4c96f-117">從 Visual Studio 發佈或封裝 Azure 應用程式</span><span class="sxs-lookup"><span data-stu-id="4c96f-117">Publish or Package an Azure application from Visual Studio</span></span>
* <span data-ttu-id="4c96f-118">更新 web 角色一部分 hello 開發和測試週期</span><span class="sxs-lookup"><span data-stu-id="4c96f-118">Update a web role as part of hello development and testing cycle</span></span>

## <a name="publish-or-package-an-azure-application-from-visual-studio"></a><span data-ttu-id="4c96f-119">從 Visual Studio 發佈或封裝 Azure 應用程式</span><span class="sxs-lookup"><span data-stu-id="4c96f-119">Publish or Package an Azure Application from Visual Studio</span></span>
<span data-ttu-id="4c96f-120">當您發行 Azure 應用程式時，您可以執行下列工作的 hello 的其中一個：</span><span class="sxs-lookup"><span data-stu-id="4c96f-120">When you publish your Azure application, you can do one of hello following tasks:</span></span>

* <span data-ttu-id="4c96f-121">建立服務封裝： 您可以使用這個封裝和 hello 服務組態檔 toopublish 應用程式 tooa 部署環境的 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-121">Create a service package: You can use this package and hello service configuration file toopublish your application tooa deployment environment from hello [Azure Classic Portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
* <span data-ttu-id="4c96f-122">發行 Azure 專案從 Visual Studio: toopublish 您的應用程式直接使用 tooAzure，hello 發行精靈。</span><span class="sxs-lookup"><span data-stu-id="4c96f-122">Publish your Azure project from Visual Studio: toopublish your application directly tooAzure, you use hello Publish Wizard.</span></span> <span data-ttu-id="4c96f-123">如需相關資訊，請參閱 [發佈 Azure 應用程式精靈](vs-azure-tools-publish-azure-application-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-123">For information, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="toocreate-a-service-package-from-visual-studio"></a><span data-ttu-id="4c96f-124">toocreate 從 Visual Studio 服務套件</span><span class="sxs-lookup"><span data-stu-id="4c96f-124">toocreate a service package from Visual Studio</span></span>
1. <span data-ttu-id="4c96f-125">當您準備好 toopublish 應用程式時，就會開啟 方案總管 中，開啟 hello hello 包含您的角色的 Azure 專案的捷徑功能表，然後選擇 發行。</span><span class="sxs-lookup"><span data-stu-id="4c96f-125">When you are ready toopublish your application, open Solution Explorer, open hello shortcut menu for hello Azure project that contains your roles, and choose Publish.</span></span>
2. <span data-ttu-id="4c96f-126">toocreate 服務封裝，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="4c96f-126">toocreate a service package only, follow these steps:</span></span>  
   
   1. <span data-ttu-id="4c96f-127">Hello 快顯功能表上的 hello Azure 專案，選擇**封裝**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-127">On hello shortcut menu for hello Azure project, choose **Package**.</span></span>
   2. <span data-ttu-id="4c96f-128">在 hello**封裝 Azure 應用程式**對話方塊中，選擇要 toocreate hello 服務組態封裝，然後選擇 hello 組建組態。</span><span class="sxs-lookup"><span data-stu-id="4c96f-128">In hello **Package Azure Application** dialog box, choose hello service configuration for which you want toocreate a package, and then choose hello build configuration.</span></span>
   3. <span data-ttu-id="4c96f-129">（選擇性） tooturn 遠端桌面 hello 雲端服務在發行後，選取 hello**啟用所有角色的遠端桌面**核取方塊，然後再選取**設定**tooconfigure 遠端桌面。</span><span class="sxs-lookup"><span data-stu-id="4c96f-129">(optional) tooturn on Remote Desktop for hello cloud service after you publish it, select hello **Enable Remote Desktop for all Roles** check box, and then select **Settings** tooconfigure Remote Desktop.</span></span> <span data-ttu-id="4c96f-130">如果您想 toodebug 您的雲端服務在發行後，開啟遠端偵錯選取**啟用遠端偵錯工具的所有角色**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-130">If you want toodebug your cloud service after you publish it, turn on remote debugging by selecting **Enable Remote Debugger for all Roles**.</span></span>
      
      <span data-ttu-id="4c96f-131">如需詳細資訊，請參閱 [搭配使用遠端桌面與 Azure 角色](vs-azure-tools-remote-desktop-roles.md)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-131">For more information, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
   4. <span data-ttu-id="4c96f-132">toocreate hello 封裝中，選擇 hello**封裝**連結。</span><span class="sxs-lookup"><span data-stu-id="4c96f-132">toocreate hello package, choose hello **Package** link.</span></span>
      
      <span data-ttu-id="4c96f-133">檔案總管 中顯示新建立的套件 hello hello 檔案位置。</span><span class="sxs-lookup"><span data-stu-id="4c96f-133">File Explorer shows hello file location of hello newly created package.</span></span> <span data-ttu-id="4c96f-134">您可以複製此位置，好讓您可以使用它從 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-134">You can copy this location so that you can use it from hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   5. <span data-ttu-id="4c96f-135">toopublish 此封裝 tooa 部署環境中，您必須使用這個位置，因為當您建立雲端服務和部署此封裝 tooan 環境以 hello hello 封裝位置[Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-135">toopublish this package tooa deployment environment, you must use this location as hello Package location when you create a cloud service and deploy this package tooan environment with hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
3. <span data-ttu-id="4c96f-136">（選擇性） toocancel hello 部署程序，hello hello 活動記錄檔中的 hello 明細項目捷徑功能表上選擇**取消並移除**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-136">(Optional) toocancel hello deployment process, on hello shortcut menu for hello line item in hello activity log, choose **Cancel and remove**.</span></span> <span data-ttu-id="4c96f-137">這會停止 hello 部署程序，並從 Azure 刪除 hello 部署環境。</span><span class="sxs-lookup"><span data-stu-id="4c96f-137">This stops hello deployment process and deletes hello deployment environment from Azure.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="4c96f-138">tooremove 之後這個部署環境已部署，您必須使用 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-138">tooremove this deployment environment after it has been deployed, you must use hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   > 
   > 
4. <span data-ttu-id="4c96f-139">（選擇性）Visual Studio 啟動角色執行個體後，會自動顯示在 [hello hello 部署環境**雲端服務**在伺服器總管] 中的節點。</span><span class="sxs-lookup"><span data-stu-id="4c96f-139">(Optional) After your role instances have started, Visual Studio automatically shows hello deployment environment in hello **Cloud Services** node in Server Explorer.</span></span> <span data-ttu-id="4c96f-140">從這裡，您可以看到 hello hello 個別角色執行個體狀態。</span><span class="sxs-lookup"><span data-stu-id="4c96f-140">From here, you can see hello status of hello individual role instances.</span></span> <span data-ttu-id="4c96f-141">請參閱[Cloud Explorer 以管理 Azure 資源](vs-azure-tools-resources-managing-with-cloud-explorer.md).hello 下列圖例顯示 hello 角色執行個體，仍在 hello Initializing 狀態時：</span><span class="sxs-lookup"><span data-stu-id="4c96f-141">See [Managing Azure resources with Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).hello following illustration shows hello role instances while they are still in hello Initializing state:</span></span>
   
    ![VST_DeployComputeNode](./media/vs-azure-tools-publishing-a-cloud-service/IC744134.png)

## <a name="update-a-web-role-as-part-of-hello-development-and-testing-cycle"></a><span data-ttu-id="4c96f-143">更新 Web 角色一部分 hello 開發與測試週期</span><span class="sxs-lookup"><span data-stu-id="4c96f-143">Update a Web Role as Part of hello Development and Testing Cycle</span></span>
<span data-ttu-id="4c96f-144">如果您的應用程式後端基礎結構很穩定，但 hello web 角色需要更頻繁的更新，您可以使用 Web Deploy tooupdate web 角色專案中。</span><span class="sxs-lookup"><span data-stu-id="4c96f-144">If your app’s backend infrastructure is stable, but hello web roles need more frequent updating, you can use Web Deploy tooupdate only a web role in your project.</span></span> <span data-ttu-id="4c96f-145">當您不想 toorebuild 並重新部署 hello 後端背景工作角色，或如果您有多個 web 角色，而且您想 tooupdate hello web 角色的其中之一，這是很方便。</span><span class="sxs-lookup"><span data-stu-id="4c96f-145">This is handy when you don’t want toorebuild and redeploy hello backend worker roles, or if you have multiple web roles and you want tooupdate only one of hello web roles.</span></span>

### <a name="requirements"></a><span data-ttu-id="4c96f-146">需求</span><span class="sxs-lookup"><span data-stu-id="4c96f-146">Requirements</span></span>
<span data-ttu-id="4c96f-147">以下是 hello 需求 toouse Web Deploy tooupdate web 角色：</span><span class="sxs-lookup"><span data-stu-id="4c96f-147">Here are hello requirements toouse Web Deploy tooupdate your web role:</span></span>

* <span data-ttu-id="4c96f-148">**用於開發和測試之用：** hello 變更直接 toohello 虛擬機器正在 hello web 角色。</span><span class="sxs-lookup"><span data-stu-id="4c96f-148">**For development and testing purposes only:** hello changes are made directly toohello virtual machine where hello web role is running.</span></span> <span data-ttu-id="4c96f-149">如果此虛擬機器具有 toobe 回收，因為您已發行的 hello 原始封裝 hello 角色使用的 toorecreate hello 虛擬機器 hello 變更都會遺失。</span><span class="sxs-lookup"><span data-stu-id="4c96f-149">If this virtual machine has toobe recycled, hello changes are lost because hello original package that you published is used toorecreate hello virtual machine for hello role.</span></span> <span data-ttu-id="4c96f-150">您必須重新發行應用程式 tooget hello 最新變更 hello web 角色。</span><span class="sxs-lookup"><span data-stu-id="4c96f-150">You must republish your application tooget hello latest changes for hello web role.</span></span>
* <span data-ttu-id="4c96f-151">**只能更新 Web 角色：** 無法更新背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="4c96f-151">**Only web roles can be updated:** Worker roles can’t be updated.</span></span> <span data-ttu-id="4c96f-152">此外，您無法更新 web role.cs 中的 hello RoleEntryPoint。</span><span class="sxs-lookup"><span data-stu-id="4c96f-152">In addition, you can’t update hello RoleEntryPoint in web role.cs.</span></span>
* <span data-ttu-id="4c96f-153">**只能支援一個 Web 角色執行個體：** 所有 Web 角色在部署環境中都不能有多個執行個體。</span><span class="sxs-lookup"><span data-stu-id="4c96f-153">**Can only support a single instance of a web role:** You can’t have multiple instances of any web role in your deployment environment.</span></span> <span data-ttu-id="4c96f-154">不過，可支援多個各只有一個執行個體的 Web 角色。</span><span class="sxs-lookup"><span data-stu-id="4c96f-154">However, multiple web roles each with only one instance are supported.</span></span>
* <span data-ttu-id="4c96f-155">**您必須啟用遠端桌面連線：**這是必要的如此 hello 使用者和密碼 tooconnect toohello toodeploy hello 變更 toohello server 的虛擬機器執行網際網路資訊服務 (IIS) Web Deploy 才能使用。</span><span class="sxs-lookup"><span data-stu-id="4c96f-155">**You must enable remote desktop connections:** This is required so that Web Deploy can use hello user and password tooconnect toohello virtual machine toodeploy hello changes toohello server that’s running Internet Information Services (IIS).</span></span> <span data-ttu-id="4c96f-156">此外，您可能需要 tooconnect toohello 虛擬機器 tooadd 這部虛擬機器上的受信任的憑證 tooIIS。</span><span class="sxs-lookup"><span data-stu-id="4c96f-156">In addition, you might need tooconnect toohello virtual machine tooadd a trusted certificate tooIIS on this virtual machine.</span></span> <span data-ttu-id="4c96f-157">（這可確保 hello 使用 Web Deploy 的 iis 的遠端連線安全無虞。）</span><span class="sxs-lookup"><span data-stu-id="4c96f-157">(This ensures that hello remote connection for IIS that is used by Web Deploy is secure.)</span></span>

<span data-ttu-id="4c96f-158">hello 下列程序假設您使用 hello**發行 Azure 應用程式**精靈。</span><span class="sxs-lookup"><span data-stu-id="4c96f-158">hello following procedure assumes that you are using hello **Publish Azure Application** wizard.</span></span>

### <a name="tooenable-web-deploy-when-you-publish-your-application"></a><span data-ttu-id="4c96f-159">tooEnable Web 部署當您發行您的應用程式</span><span class="sxs-lookup"><span data-stu-id="4c96f-159">tooEnable Web Deploy When You Publish Your Application</span></span>
1. <span data-ttu-id="4c96f-160">tooenable hello**啟用 Web Deploy**針對所有 web 角色的核取方塊，您必須先設定遠端桌面連線。</span><span class="sxs-lookup"><span data-stu-id="4c96f-160">tooenable hello **Enable Web Deploy** for all web roles check box, you must first configure remote desktop connections.</span></span> <span data-ttu-id="4c96f-161">選取**啟用遠端桌面**所有角色和然後供應 hello 認證將會使用從遠端在 hello tooconnect**遠端桌面組態**出現方塊。</span><span class="sxs-lookup"><span data-stu-id="4c96f-161">Select **Enable Remote Desktop** for all roles and then supply hello credentials that will be used tooconnect remotely in hello **Remote Desktop Configuration** box that appears.</span></span> <span data-ttu-id="4c96f-162">如需詳細資訊，請參閱 [搭配使用遠端桌面與 Azure 角色](vs-azure-tools-remote-desktop-roles.md) 。</span><span class="sxs-lookup"><span data-stu-id="4c96f-162">See [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md) for more information.</span></span>
2. <span data-ttu-id="4c96f-163">Web Deploy tooenable 所有 hello 應用程式中的 web 角色選取**所有 web 角色啟用 Web 都 Deploy**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-163">tooenable Web Deploy for all hello web roles in your application, select **Enable Web Deploy for all web roles**.</span></span>
   
    <span data-ttu-id="4c96f-164">此時會出現黃色警告三角形。</span><span class="sxs-lookup"><span data-stu-id="4c96f-164">A yellow warning triangle appears.</span></span> <span data-ttu-id="4c96f-165">Web Deploy 預設會使用不受信任的自我簽署憑證，在上傳機密資料時不建議使用此憑證。</span><span class="sxs-lookup"><span data-stu-id="4c96f-165">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="4c96f-166">如果您需要 toosecure 此程序之機密資料，您可以加入的 Web Deploy 連線使用 SSL 憑證 toobe。</span><span class="sxs-lookup"><span data-stu-id="4c96f-166">If you need toosecure this process for sensitive data, you can add a SSL certificate toobe used for Web Deploy connections.</span></span> <span data-ttu-id="4c96f-167">此憑證需要 toobe 受信任的憑證。</span><span class="sxs-lookup"><span data-stu-id="4c96f-167">This certificate needs toobe a trusted certificate.</span></span> <span data-ttu-id="4c96f-168">如需有關資訊 toodo，請參閱 hello 節**tooMake Web 部署安全**本主題稍後。</span><span class="sxs-lookup"><span data-stu-id="4c96f-168">For information about how toodo this, see hello section **tooMake Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="4c96f-169">選擇**下一步**tooshow hello**摘要**畫面上，，然後選擇 **發行**toodeploy hello 雲端服務。</span><span class="sxs-lookup"><span data-stu-id="4c96f-169">Choose **Next** tooshow hello **Summary** screen, and then choose **Publish** toodeploy hello cloud service.</span></span>
   
    <span data-ttu-id="4c96f-170">hello 雲端服務會發行。</span><span class="sxs-lookup"><span data-stu-id="4c96f-170">hello cloud service is published.</span></span> <span data-ttu-id="4c96f-171">hello 虛擬機器建立具有以便 Web Deploy 可使用的 tooupdate，對 IIS 啟用遠端連線的 web 角色不重新發行。</span><span class="sxs-lookup"><span data-stu-id="4c96f-171">hello virtual machine that is created has remote connections enabled for IIS so that Web Deploy can be used tooupdate your web roles without republishing them.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="4c96f-172">如果您有多個 web 角色設定的執行個體時，會出現警告訊息，指出每個 web 角色將會限制的 tooone 只能在已建立您的應用程式 toopublish 的 hello 封裝中的執行個體。</span><span class="sxs-lookup"><span data-stu-id="4c96f-172">If you have more than one instance configured for a web role, a warning message appears, stating that each web role will be limited tooone instance only in hello package that’s created toopublish your application.</span></span> <span data-ttu-id="4c96f-173">選取**確定**toocontinue。</span><span class="sxs-lookup"><span data-stu-id="4c96f-173">Select **OK** toocontinue.</span></span> <span data-ttu-id="4c96f-174">Hello 需求 > 一節所述，您可以擁有超過一個 web 角色，但是每一個角色只有一個執行個體。</span><span class="sxs-lookup"><span data-stu-id="4c96f-174">As stated in hello Requirements section, you can have more than one web role but only one instance of each role.</span></span>
   > 
   > 

### <a name="tooupdate-your-web-role-by-using-web-deploy"></a><span data-ttu-id="4c96f-175">tooUpdate 您所使用的 Web Deploy 的 Web 角色</span><span class="sxs-lookup"><span data-stu-id="4c96f-175">tooUpdate Your Web Role by Using Web Deploy</span></span>
1. <span data-ttu-id="4c96f-176">toouse Web Deploy，請針對任何 web 角色的程式碼變更 toohello 專案在 Visual Studio 中，您想 toopublish，然後以滑鼠右鍵按一下方案中的此專案節點並點太**發行**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-176">toouse Web Deploy, make code changes toohello project for any of your web roles in Visual Studio that you want toopublish, and then right-click this project node in your solution and point too**Publish**.</span></span> <span data-ttu-id="4c96f-177">hello**發行 Web**  對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-177">hello **Publish Web** dialog box appears.</span></span>
2. <span data-ttu-id="4c96f-178">（選擇性）如果您新增受信任的 SSL 憑證 toouse 適用於 IIS 的遠端連線，您可以清除 hello**允許未受信任的憑證**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="4c96f-178">(Optional) If you added a trusted SSL certificate toouse for remote connections for IIS, you can clear hello **Allow untrusted certificate** check box.</span></span> <span data-ttu-id="4c96f-179">Tooadd Web Deploy 憑證 toomake 保護相關資訊，請參閱 hello 區段**tooMake Web 部署安全**本主題稍後。</span><span class="sxs-lookup"><span data-stu-id="4c96f-179">For information about how tooadd a certificate toomake Web Deploy secure, see hello section **tooMake Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="4c96f-180">Web Deploy toouse，hello 發行機制需要 hello 使用者名稱和您設定遠端桌面連線時您第一次發行 hello 封裝的密碼。</span><span class="sxs-lookup"><span data-stu-id="4c96f-180">toouse Web Deploy, hello publish mechanism needs hello user name and password that you set up for your remote desktop connection when you first published hello package.</span></span>
   
   1. <span data-ttu-id="4c96f-181">在**使用者名**，輸入 hello 使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="4c96f-181">In **User name**, enter hello user name.</span></span>
   2. <span data-ttu-id="4c96f-182">在**密碼**，輸入 hello 密碼。</span><span class="sxs-lookup"><span data-stu-id="4c96f-182">In **Password**, enter hello password.</span></span>
   3. <span data-ttu-id="4c96f-183">（選擇性）如果您想 toosave 這個密碼，此設定檔中的，選擇**儲存密碼**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-183">(Optional) If you want toosave this password in this profile, choose **Save password**.</span></span>
4. <span data-ttu-id="4c96f-184">toopublish hello 變更 tooyour web 角色中，選擇**發行**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-184">toopublish hello changes tooyour web role, choose **Publish**.</span></span>
   
    <span data-ttu-id="4c96f-185">hello 狀態列會顯示**發行啟動**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-185">hello status line displays **Publish started**.</span></span> <span data-ttu-id="4c96f-186">Hello 發行完成後，**發行成功**隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-186">When hello publishing has completed, **Publish succeeded** appears.</span></span> <span data-ttu-id="4c96f-187">hello 變更現在已經在虛擬機器上的部署的 toohello web 角色。</span><span class="sxs-lookup"><span data-stu-id="4c96f-187">hello changes have now been deployed toohello web role on your virtual machine.</span></span> <span data-ttu-id="4c96f-188">現在您可以啟動 Azure 應用程式，在 hello Azure 環境 tootest 您的變更。</span><span class="sxs-lookup"><span data-stu-id="4c96f-188">Now you can start your Azure application in hello Azure environment tootest your changes.</span></span>

### <a name="toomake-web-deploy-secure"></a><span data-ttu-id="4c96f-189">Web 部署安全的 tooMake</span><span class="sxs-lookup"><span data-stu-id="4c96f-189">tooMake Web Deploy Secure</span></span>
1. <span data-ttu-id="4c96f-190">Web Deploy 預設會使用不受信任的自我簽署憑證，在上傳機密資料時不建議使用此憑證。</span><span class="sxs-lookup"><span data-stu-id="4c96f-190">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="4c96f-191">如果您需要 toosecure 此程序之機密資料，您可以加入的 Web Deploy 連線使用 SSL 憑證 toobe。</span><span class="sxs-lookup"><span data-stu-id="4c96f-191">If you need toosecure this process for sensitive data, you can add a SSL certificate toobe used for Web Deploy connections.</span></span> <span data-ttu-id="4c96f-192">此憑證需要 toobe 受信任的憑證，您從憑證授權單位 (CA) 取得。</span><span class="sxs-lookup"><span data-stu-id="4c96f-192">This certificate needs toobe a trusted certificate, which you obtain from a certificate authority (CA).</span></span>
   
    <span data-ttu-id="4c96f-193">toomake Web Deploy 安全的每個 web 角色的每部虛擬機器，您必須上傳 hello 受信任的憑證，您的 web 部署 toohello 想 toouse [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-193">toomake Web Deploy secure for each virtual machine for each of your web roles, you must upload hello trusted certificate that you want toouse for web deploy toohello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="4c96f-194">這可確保該 hello 憑證加入 toohello 發行應用程式時，會將 hello web 角色建立的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="4c96f-194">This makes sure that hello certificate is added toohello virtual machine that is created for hello web role when you publish your application.</span></span>
2. <span data-ttu-id="4c96f-195">tooadd 信任 SSL 憑證 tooIIS toouse 遠端連接，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="4c96f-195">tooadd a trusted SSL certificate tooIIS toouse for remote connections, follow these steps:</span></span>
   
   1. <span data-ttu-id="4c96f-196">tooconnect toohello 虛擬機器執行 hello web 角色中，選取 hello 中的 hello web 角色執行個體**Cloud Explorer**或**伺服器總管**，然後選擇 hello**使用連線遠端桌面**命令。</span><span class="sxs-lookup"><span data-stu-id="4c96f-196">tooconnect toohello virtual machine that is running hello web role, select hello instance of hello web role in **Cloud Explorer** or **Server Explorer**, and then choose hello **Connect using Remote Desktop** command.</span></span> <span data-ttu-id="4c96f-197">如需詳細步驟 tooconnect toohello 虛擬機器，請參閱[透過 Azure 角色使用遠端桌面](vs-azure-tools-remote-desktop-roles.md)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-197">For detailed steps about how tooconnect toohello virtual machine, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
      
      <span data-ttu-id="4c96f-198">您的瀏覽器將會提示您 toodownload。RDP 檔案。</span><span class="sxs-lookup"><span data-stu-id="4c96f-198">Your browser will prompt you toodownload an .RDP file.</span></span>
   2. <span data-ttu-id="4c96f-199">tooadd SSL 憑證，開啟 hello 管理服務在 IIS 管理員中。</span><span class="sxs-lookup"><span data-stu-id="4c96f-199">tooadd an SSL certificate, open hello management service in IIS Manager.</span></span> <span data-ttu-id="4c96f-200">在 [IIS 管理員] 中，開啟 hello 啟用 SSL**繫結**hello 中的連結**動作**窗格。</span><span class="sxs-lookup"><span data-stu-id="4c96f-200">In IIS Manager, enable SSL by opening hello **Bindings** link in hello **Action** pane.</span></span> <span data-ttu-id="4c96f-201">hello**新增網站繫結** 對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-201">hello **Add Site Binding** dialog box appears.</span></span> <span data-ttu-id="4c96f-202">選擇**新增**，然後在 hello 中選擇 HTTPS**類型**下拉式清單中。</span><span class="sxs-lookup"><span data-stu-id="4c96f-202">Choose **Add**, and then choose HTTPS in hello **Type** dropdown list.</span></span> <span data-ttu-id="4c96f-203">在 hello **SSL 憑證**清單中，選擇 hello SSL 憑證已由 CA 簽署並上傳 toohello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-203">In hello **SSL certificate** list, choose hello SSL certificate that you had signed by a CA and that you uploaded toohello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="4c96f-204">如需詳細資訊，請參閱[hello 管理服務設定連線設定](http://go.microsoft.com/fwlink/?LinkId=215824)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-204">For more information, see [Configure Connection Settings for hello Management Service](http://go.microsoft.com/fwlink/?LinkId=215824).</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="4c96f-205">如果您新增受信任的 SSL 憑證，hello 黃色警告三角形不再出現在 hello**發行精靈**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-205">If you add a trusted SSL certificate, hello yellow warning triangle no longer appears in hello **Publish Wizard**.</span></span>
      > 
      > 

## <a name="include-files-in-hello-service-package"></a><span data-ttu-id="4c96f-206">在 hello 服務封裝中包含檔案</span><span class="sxs-lookup"><span data-stu-id="4c96f-206">Include Files in hello Service Package</span></span>
<span data-ttu-id="4c96f-207">您可能需要 tooinclude 特定的檔案服務封裝中，使其 hello 建立角色的虛擬機器上。</span><span class="sxs-lookup"><span data-stu-id="4c96f-207">You might need tooinclude specific files in your service package so that they are available on hello virtual machine that is created for a role.</span></span> <span data-ttu-id="4c96f-208">例如，您可能會想 tooadd.exe 或.msi 檔案所使用的啟動指令碼 tooyour 服務封裝。</span><span class="sxs-lookup"><span data-stu-id="4c96f-208">For example, you might want tooadd an .exe or an .msi file that is used by a startup script tooyour service package.</span></span> <span data-ttu-id="4c96f-209">或者，您可能需要 tooadd web 角色或背景工作角色專案所需的組件。</span><span class="sxs-lookup"><span data-stu-id="4c96f-209">Or you might need tooadd an assembly that a web role or worker role project requires.</span></span> <span data-ttu-id="4c96f-210">它們必須是 tooinclude 檔案加入 toohello Azure 應用程式的方案。</span><span class="sxs-lookup"><span data-stu-id="4c96f-210">tooinclude files they must be added toohello solution for your Azure application.</span></span>

### <a name="tooinclude-files-in-hello-service-package"></a><span data-ttu-id="4c96f-211">tooinclude hello 服務封裝中的檔案</span><span class="sxs-lookup"><span data-stu-id="4c96f-211">tooinclude files in hello service package</span></span>
1. <span data-ttu-id="4c96f-212">tooadd 組件 tooa 服務封裝，使用下列步驟的 hello:</span><span class="sxs-lookup"><span data-stu-id="4c96f-212">tooadd an assembly tooa service package, use hello following steps:</span></span>
   
   1. <span data-ttu-id="4c96f-213">在**方案總管 中**遺漏 hello 參考組件的 hello 專案開啟 hello 專案節點。</span><span class="sxs-lookup"><span data-stu-id="4c96f-213">In **Solution Explorer** open hello project node for hello project that is missing hello referenced assembly.</span></span>
   2. <span data-ttu-id="4c96f-214">tooadd hello 組件 toohello 專案，開啟 hello hello 的捷徑功能表**參考**資料夾，然後選擇 **加入參考**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-214">tooadd hello assembly toohello project, open hello shortcut menu for hello **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="4c96f-215">hello 加入參考 對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-215">hello Add Reference dialog appears.</span></span>
   3. <span data-ttu-id="4c96f-216">選擇您想 tooadd，，然後選擇 [hello hello 參考**確定**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="4c96f-216">Choose hello reference that you want tooadd and then choose hello **OK** button.</span></span>
      
      <span data-ttu-id="4c96f-217">hello 參考就會加入 toohello 清單下 hello**參考**資料夾。</span><span class="sxs-lookup"><span data-stu-id="4c96f-217">hello reference is added toohello list under hello **References** folder.</span></span>
   4. <span data-ttu-id="4c96f-218">開啟 hello hello 您加入的組件的捷徑功能表並選擇 **屬性**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-218">Open hello shortcut menu for hello assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="4c96f-219">hello**屬性** 視窗隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-219">hello **Properties** window appears.</span></span>
      
      <span data-ttu-id="4c96f-220">tooinclude hello 服務中的這個組件封裝，請在 hello**複製到本機清單**選擇**True**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-220">tooinclude this assembly in hello service package, in hello **Copy Local list** choose **True**.</span></span>
2. <span data-ttu-id="4c96f-221">在**方案總管 中**遺漏 hello 參考組件的 hello 專案開啟 hello 專案節點。</span><span class="sxs-lookup"><span data-stu-id="4c96f-221">In **Solution Explorer** open hello project node for hello project that is missing hello referenced assembly.</span></span>
3. <span data-ttu-id="4c96f-222">tooadd hello 組件 toohello 專案，開啟 hello hello 的捷徑功能表**參考**資料夾，然後選擇 **加入參考**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-222">tooadd hello assembly toohello project, open hello shortcut menu for hello **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="4c96f-223">hello**加入參考**對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-223">hello **Add Reference** dialog appears.</span></span>
4. <span data-ttu-id="4c96f-224">選擇您想 tooadd，，然後選擇 [hello hello 參考**確定**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="4c96f-224">Choose hello reference that you want tooadd and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="4c96f-225">hello 參考就會加入 toohello 清單下 hello**參考**資料夾。</span><span class="sxs-lookup"><span data-stu-id="4c96f-225">hello reference is added toohello list under hello **References** folder.</span></span>
5. <span data-ttu-id="4c96f-226">開啟 hello hello 您加入的組件的捷徑功能表並選擇 **屬性**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-226">Open hello shortcut menu for hello assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="4c96f-227">hello 屬性 視窗隨即出現。</span><span class="sxs-lookup"><span data-stu-id="4c96f-227">hello Properties window appears.</span></span>
6. <span data-ttu-id="4c96f-228">tooinclude hello 服務中的這個組件封裝，請在 hello**複製到本機**清單中，選擇**True**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-228">tooinclude this assembly in hello service package, in hello **Copy Local** list, choose **True**.</span></span>
7. <span data-ttu-id="4c96f-229">hello 服務封裝中的 tooinclude 檔案已加入 tooyour web 角色專案，開啟 hello hello 檔案的捷徑功能表，然後選擇**屬性**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-229">tooinclude files in hello service package that have been added tooyour web role project, open hello shortcut menu for hello file, and then choose **Properties**.</span></span> <span data-ttu-id="4c96f-230">從 hello**屬性**視窗中，選擇**內容**從 hello**建置動作**清單方塊。</span><span class="sxs-lookup"><span data-stu-id="4c96f-230">From hello **Properties** window, choose **Content** from hello **Build Action** list box.</span></span>
8. <span data-ttu-id="4c96f-231">hello 服務封裝中的 tooinclude 檔案已加入 tooyour 背景工作角色專案，開啟 hello hello 檔案的捷徑功能表，然後選擇**屬性**。</span><span class="sxs-lookup"><span data-stu-id="4c96f-231">tooinclude files in hello service package that have been added tooyour worker role project, open hello shortcut menu for hello file, and then choose **Properties**.</span></span> <span data-ttu-id="4c96f-232">從 hello**屬性**視窗中，選擇**更新時才複製**從 hello**複製 toooutput 目錄**清單方塊。</span><span class="sxs-lookup"><span data-stu-id="4c96f-232">From hello **Properties** window, choose **Copy if newer** from hello **Copy toooutput directory** list box.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4c96f-233">後續步驟</span><span class="sxs-lookup"><span data-stu-id="4c96f-233">Next steps</span></span>
<span data-ttu-id="4c96f-234">請參閱深入了解 Visual Studio 中，從發行 tooAzure toolearn[發行 Azure 應用程式精靈](vs-azure-tools-publish-azure-application-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="4c96f-234">toolearn more about publishing tooAzure from Visual Studio, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

