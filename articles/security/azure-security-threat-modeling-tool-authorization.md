---
title: "aaaAuthorization-Microsoft 威脅模型化工具-Azure |Microsoft 文件"
description: "hello 威脅模型化工具中公開的威脅防護功能"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 3ea7ae2b46baa8578e574e6006b98dfe172829e7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-authorization--mitigations"></a><span data-ttu-id="747df-103">安全框架︰授權 | 緩和措施</span><span class="sxs-lookup"><span data-stu-id="747df-103">Security Frame: Authorization | Mitigations</span></span> 
| <span data-ttu-id="747df-104">產品/服務</span><span class="sxs-lookup"><span data-stu-id="747df-104">Product/Service</span></span> | <span data-ttu-id="747df-105">文章</span><span class="sxs-lookup"><span data-stu-id="747df-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="747df-106">**電腦信任邊界**</span><span class="sxs-lookup"><span data-stu-id="747df-106">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="747df-107">請確定正確的 Acl 會設定的 toorestrict 未經授權存取 toodata hello 裝置上</span><span class="sxs-lookup"><span data-stu-id="747df-107">Ensure that proper ACLs are configured toorestrict unauthorized access toodata on hello device</span></span>](#acl-restricted-access)</li><li>[<span data-ttu-id="747df-108">確保敏感性使用者特有應用程式內容會儲存在使用者設定檔目錄中</span><span class="sxs-lookup"><span data-stu-id="747df-108">Ensure that sensitive user-specific application content is stored in user-profile directory</span></span>](#sensitive-directory)</li><li>[<span data-ttu-id="747df-109">確保使用最低權限，會執行部署的 hello 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-109">Ensure that hello deployed applications are run with least privileges</span></span>](#deployed-privileges)</li></ul> |
| <span data-ttu-id="747df-110">**Web 應用程式**</span><span class="sxs-lookup"><span data-stu-id="747df-110">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="747df-111">在處理商務邏輯流程時強制執行循序步驟順序</span><span class="sxs-lookup"><span data-stu-id="747df-111">Enforce sequential step order when processing business logic flows</span></span>](#sequential-logic)</li><li>[<span data-ttu-id="747df-112">實作速率限制機制 tooprevent 列舉</span><span class="sxs-lookup"><span data-stu-id="747df-112">Implement rate limiting mechanism tooprevent enumeration</span></span>](#rate-enumeration)</li><li>[<span data-ttu-id="747df-113">確保施行適當的授權並遵循最低權限的原則</span><span class="sxs-lookup"><span data-stu-id="747df-113">Ensure that proper authorization is in place and principle of least privileges is followed</span></span>](#principle-least-privilege)</li><li>[<span data-ttu-id="747df-114">商務邏輯和資源存取授權決策不應以傳入的要求參數為基礎</span><span class="sxs-lookup"><span data-stu-id="747df-114">Business logic and resource access authorization decisions should not be based on incoming request parameters</span></span>](#logic-request-parameters)</li><li>[<span data-ttu-id="747df-115">確保無法透過強迫瀏覽來列舉或存取內容和資源</span><span class="sxs-lookup"><span data-stu-id="747df-115">Ensure that content and resources are not enumerable or accessible via forceful browsing</span></span>](#enumerable-browsing)</li></ul> |
| <span data-ttu-id="747df-116">**資料庫**</span><span class="sxs-lookup"><span data-stu-id="747df-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="747df-117">確定最低權限的帳戶都使用的 tooconnect tooDatabase 伺服器</span><span class="sxs-lookup"><span data-stu-id="747df-117">Ensure that least-privileged accounts are used tooconnect tooDatabase server</span></span>](#privileged-server)</li><li>[<span data-ttu-id="747df-118">實作資料列層級安全性 RLS tooprevent 租用戶存取彼此的資料</span><span class="sxs-lookup"><span data-stu-id="747df-118">Implement Row Level Security RLS tooprevent tenants from accessing each other's data</span></span>](#rls-tenants)</li><li>[<span data-ttu-id="747df-119">系統管理員角色只能具備有效的必要使用者</span><span class="sxs-lookup"><span data-stu-id="747df-119">Sysadmin role should only have valid necessary users</span></span>](#sysadmin-users)</li></ul> |
| <span data-ttu-id="747df-120">**IoT 雲端閘道**</span><span class="sxs-lookup"><span data-stu-id="747df-120">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="747df-121">連接 tooCloud 閘道使用最低權限語彙基元</span><span class="sxs-lookup"><span data-stu-id="747df-121">Connect tooCloud Gateway using least-privileged tokens</span></span>](#cloud-least-privileged)</li></ul> |
| <span data-ttu-id="747df-122">**Azure 事件中樞**</span><span class="sxs-lookup"><span data-stu-id="747df-122">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="747df-123">使用僅限傳送權限 SAS 金鑰來產生裝置權杖</span><span class="sxs-lookup"><span data-stu-id="747df-123">Use a send-only permissions SAS Key for generating device tokens</span></span>](#sendonly-sas)</li><li>[<span data-ttu-id="747df-124">不使用存取權杖可直接存取 toohello 事件中樞</span><span class="sxs-lookup"><span data-stu-id="747df-124">Do not use access tokens that provide direct access toohello Event Hub</span></span>](#access-tokens-hub)</li><li>[<span data-ttu-id="747df-125">連接的 tooEvent 集線器使用 SAS 金鑰，擁有 hello 最低所需權限</span><span class="sxs-lookup"><span data-stu-id="747df-125">Connect tooEvent Hub using SAS keys that have hello minimum permissions required</span></span>](#sas-minimum-permissions)</li></ul> |
| <span data-ttu-id="747df-126">**Azure Document DB**</span><span class="sxs-lookup"><span data-stu-id="747df-126">**Azure Document DB**</span></span> | <ul><li>[<span data-ttu-id="747df-127">使用資源的語彙基元 tooconnect tooDocumentDB 盡可能</span><span class="sxs-lookup"><span data-stu-id="747df-127">Use resource tokens tooconnect tooDocumentDB whenever possible</span></span>](#resource-docdb)</li></ul> |
| <span data-ttu-id="747df-128">**Azure 信任邊界**</span><span class="sxs-lookup"><span data-stu-id="747df-128">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="747df-129">啟用更細緻的存取權管理 tooAzure 訂用帳戶使用 RBAC</span><span class="sxs-lookup"><span data-stu-id="747df-129">Enable fine-grained access management tooAzure Subscription using RBAC</span></span>](#grained-rbac)</li></ul> |
| <span data-ttu-id="747df-130">**Service Fabric 信任邊界**</span><span class="sxs-lookup"><span data-stu-id="747df-130">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="747df-131">限制用戶端存取 toocluster 作業使用 RBAC</span><span class="sxs-lookup"><span data-stu-id="747df-131">Restrict client's access toocluster operations using RBAC</span></span>](#cluster-rbac)</li></ul> |
| <span data-ttu-id="747df-132">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="747df-132">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="747df-133">執行安全性模型化並視需要使用欄位層級安全性</span><span class="sxs-lookup"><span data-stu-id="747df-133">Perform security modeling and use Field Level Security where required</span></span>](#modeling-field)</li></ul> |
| <span data-ttu-id="747df-134">**Dynamics CRM 入口網站**</span><span class="sxs-lookup"><span data-stu-id="747df-134">**Dynamics CRM Portal**</span></span> | <ul><li>[<span data-ttu-id="747df-135">執行 記住這個 hello 安全性模型中的 hello 入口網站與不同於 CRM hello 其餘部分的帳戶入口網站的安全性模型</span><span class="sxs-lookup"><span data-stu-id="747df-135">Perform security modeling of portal accounts keeping in mind that hello security model for hello portal differs from hello rest of CRM</span></span>](#portal-security)</li></ul> |
| <span data-ttu-id="747df-136">**Azure 儲存體**</span><span class="sxs-lookup"><span data-stu-id="747df-136">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="747df-137">在 Azure 表格儲存體中授與某個實體範圍的精細權限</span><span class="sxs-lookup"><span data-stu-id="747df-137">Grant fine-grained permission on a range of entities in Azure Table Storage</span></span>](#permission-entities)</li><li>[<span data-ttu-id="747df-138">啟用使用 Azure 資源管理員的角色型存取控制 (RBAC) tooAzure 儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="747df-138">Enable Role-Based Access Control (RBAC) tooAzure storage account using Azure Resource Manager</span></span>](#rbac-azure-manager)</li></ul> |
| <span data-ttu-id="747df-139">**行動用戶端**</span><span class="sxs-lookup"><span data-stu-id="747df-139">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="747df-140">實作隱含的越獄或 Root 權限入侵偵測</span><span class="sxs-lookup"><span data-stu-id="747df-140">Implement implicit jailbreak or rooting detection</span></span>](#rooting-detection)</li></ul> |
| <span data-ttu-id="747df-141">**WCF**</span><span class="sxs-lookup"><span data-stu-id="747df-141">**WCF**</span></span> | <ul><li>[<span data-ttu-id="747df-142">WCF 中的弱式類別參考</span><span class="sxs-lookup"><span data-stu-id="747df-142">Weak Class Reference in WCF</span></span>](#weak-class-wcf)</li><li>[<span data-ttu-id="747df-143">WCF 實作授權控制</span><span class="sxs-lookup"><span data-stu-id="747df-143">WCF-Implement Authorization control</span></span>](#wcf-authz)</li></ul> |
| <span data-ttu-id="747df-144">**Web API**</span><span class="sxs-lookup"><span data-stu-id="747df-144">**Web API**</span></span> | <ul><li>[<span data-ttu-id="747df-145">在 ASP.NET Web API 中實作適當的授權機制</span><span class="sxs-lookup"><span data-stu-id="747df-145">Implement proper authorization mechanism in ASP.NET Web API</span></span>](#authz-aspnet)</li></ul> |
| <span data-ttu-id="747df-146">**IoT 裝置**</span><span class="sxs-lookup"><span data-stu-id="747df-146">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="747df-147">在 hello 裝置執行授權檢查，如果支援需要不同的權限層級的各種動作</span><span class="sxs-lookup"><span data-stu-id="747df-147">Perform authorization checks in hello device if it supports various actions that require different permission levels</span></span>](#device-permission)</li></ul> |
| <span data-ttu-id="747df-148">**IoT 現場閘道**</span><span class="sxs-lookup"><span data-stu-id="747df-148">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="747df-149">執行授權檢查 hello 閘道欄位中，如果支援需要不同的權限層級的各種動作</span><span class="sxs-lookup"><span data-stu-id="747df-149">Perform authorization checks in hello Field Gateway if it supports various actions that require different permission levels</span></span>](#field-permission)</li></ul> |

## <span data-ttu-id="747df-150"><a id="acl-restricted-access"></a>請確定正確的 Acl 會設定的 toorestrict 未經授權存取 toodata hello 裝置上</span><span class="sxs-lookup"><span data-stu-id="747df-150"><a id="acl-restricted-access"></a>Ensure that proper ACLs are configured toorestrict unauthorized access toodata on hello device</span></span>

| <span data-ttu-id="747df-151">Title</span><span class="sxs-lookup"><span data-stu-id="747df-151">Title</span></span>                   | <span data-ttu-id="747df-152">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-152">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-153">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-153">**Component**</span></span>               | <span data-ttu-id="747df-154">電腦信任邊界</span><span class="sxs-lookup"><span data-stu-id="747df-154">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="747df-155">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-155">**SDL Phase**</span></span>               | <span data-ttu-id="747df-156">部署</span><span class="sxs-lookup"><span data-stu-id="747df-156">Deployment</span></span> |  
| <span data-ttu-id="747df-157">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-157">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-158">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-158">Generic</span></span> |
| <span data-ttu-id="747df-159">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-159">**Attributes**</span></span>              | <span data-ttu-id="747df-160">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-160">N/A</span></span>  |
| <span data-ttu-id="747df-161">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-161">**References**</span></span>              | <span data-ttu-id="747df-162">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-162">N/A</span></span>  |
| <span data-ttu-id="747df-163">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-163">**Steps**</span></span> | <span data-ttu-id="747df-164">請確定正確的 Acl 會設定的 toorestrict 未經授權存取 toodata hello 裝置上</span><span class="sxs-lookup"><span data-stu-id="747df-164">Ensure that proper ACLs are configured toorestrict unauthorized access toodata on hello device</span></span>|

## <span data-ttu-id="747df-165"><a id="sensitive-directory"></a>確保敏感性使用者特有應用程式內容會儲存在使用者設定檔目錄中</span><span class="sxs-lookup"><span data-stu-id="747df-165"><a id="sensitive-directory"></a>Ensure that sensitive user-specific application content is stored in user-profile directory</span></span>

| <span data-ttu-id="747df-166">Title</span><span class="sxs-lookup"><span data-stu-id="747df-166">Title</span></span>                   | <span data-ttu-id="747df-167">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-167">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-168">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-168">**Component**</span></span>               | <span data-ttu-id="747df-169">電腦信任邊界</span><span class="sxs-lookup"><span data-stu-id="747df-169">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="747df-170">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-170">**SDL Phase**</span></span>               | <span data-ttu-id="747df-171">部署</span><span class="sxs-lookup"><span data-stu-id="747df-171">Deployment</span></span> |  
| <span data-ttu-id="747df-172">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-172">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-173">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-173">Generic</span></span> |
| <span data-ttu-id="747df-174">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-174">**Attributes**</span></span>              | <span data-ttu-id="747df-175">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-175">N/A</span></span>  |
| <span data-ttu-id="747df-176">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-176">**References**</span></span>              | <span data-ttu-id="747df-177">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-177">N/A</span></span>  |
| <span data-ttu-id="747df-178">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-178">**Steps**</span></span> | <span data-ttu-id="747df-179">確保敏感性使用者特有應用程式內容會儲存在使用者設定檔目錄中。</span><span class="sxs-lookup"><span data-stu-id="747df-179">Ensure that sensitive user-specific application content is stored in user-profile directory.</span></span> <span data-ttu-id="747df-180">這是的 tooprevent hello 的多個使用者電腦存取彼此的資料。</span><span class="sxs-lookup"><span data-stu-id="747df-180">This is tooprevent multiple users of hello machine from accessing each other's data.</span></span>|

## <span data-ttu-id="747df-181"><a id="deployed-privileges"></a>確保使用最低權限，會執行部署的 hello 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-181"><a id="deployed-privileges"></a>Ensure that hello deployed applications are run with least privileges</span></span>

| <span data-ttu-id="747df-182">Title</span><span class="sxs-lookup"><span data-stu-id="747df-182">Title</span></span>                   | <span data-ttu-id="747df-183">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-183">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-184">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-184">**Component**</span></span>               | <span data-ttu-id="747df-185">電腦信任邊界</span><span class="sxs-lookup"><span data-stu-id="747df-185">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="747df-186">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-186">**SDL Phase**</span></span>               | <span data-ttu-id="747df-187">部署</span><span class="sxs-lookup"><span data-stu-id="747df-187">Deployment</span></span> |  
| <span data-ttu-id="747df-188">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-188">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-189">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-189">Generic</span></span> |
| <span data-ttu-id="747df-190">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-190">**Attributes**</span></span>              | <span data-ttu-id="747df-191">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-191">N/A</span></span>  |
| <span data-ttu-id="747df-192">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-192">**References**</span></span>              | <span data-ttu-id="747df-193">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-193">N/A</span></span>  |
| <span data-ttu-id="747df-194">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-194">**Steps**</span></span> | <span data-ttu-id="747df-195">確定部署的 hello 應用程式使用最低權限執行。</span><span class="sxs-lookup"><span data-stu-id="747df-195">Ensure that hello deployed application is run with least privileges.</span></span> |

## <span data-ttu-id="747df-196"><a id="sequential-logic"></a>在處理商務邏輯流程時強制執行循序步驟順序</span><span class="sxs-lookup"><span data-stu-id="747df-196"><a id="sequential-logic"></a>Enforce sequential step order when processing business logic flows</span></span>

| <span data-ttu-id="747df-197">Title</span><span class="sxs-lookup"><span data-stu-id="747df-197">Title</span></span>                   | <span data-ttu-id="747df-198">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-198">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-199">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-199">**Component**</span></span>               | <span data-ttu-id="747df-200">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-200">Web Application</span></span> | 
| <span data-ttu-id="747df-201">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-201">**SDL Phase**</span></span>               | <span data-ttu-id="747df-202">建置</span><span class="sxs-lookup"><span data-stu-id="747df-202">Build</span></span> |  
| <span data-ttu-id="747df-203">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-203">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-204">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-204">Generic</span></span> |
| <span data-ttu-id="747df-205">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-205">**Attributes**</span></span>              | <span data-ttu-id="747df-206">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-206">N/A</span></span>  |
| <span data-ttu-id="747df-207">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-207">**References**</span></span>              | <span data-ttu-id="747df-208">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-208">N/A</span></span>  |
| <span data-ttu-id="747df-209">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-209">**Steps**</span></span> | <span data-ttu-id="747df-210">順序中的這個階段的使用者執行的正版 tooenforce hello 應用程式 tooonly 程序商務邏輯流程順序循序步驟，在實際的人力時間，正在處理的所有步驟並不會處理順序，tooverify 略過步驟，或處理其他使用者時，從步驟太快提交交易。</span><span class="sxs-lookup"><span data-stu-id="747df-210">In order tooverify that this stage was run through by a genuine user you want tooenforce hello application tooonly process business logic flows in sequential step order, with all steps being processed in realistic human time, and not process out of order, skipped steps, processed steps from another user, or too quickly submitted transactions.</span></span>|

## <span data-ttu-id="747df-211"><a id="rate-enumeration"></a>實作速率限制機制 tooprevent 列舉</span><span class="sxs-lookup"><span data-stu-id="747df-211"><a id="rate-enumeration"></a>Implement rate limiting mechanism tooprevent enumeration</span></span>

| <span data-ttu-id="747df-212">Title</span><span class="sxs-lookup"><span data-stu-id="747df-212">Title</span></span>                   | <span data-ttu-id="747df-213">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-213">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-214">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-214">**Component**</span></span>               | <span data-ttu-id="747df-215">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-215">Web Application</span></span> | 
| <span data-ttu-id="747df-216">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-216">**SDL Phase**</span></span>               | <span data-ttu-id="747df-217">建置</span><span class="sxs-lookup"><span data-stu-id="747df-217">Build</span></span> |  
| <span data-ttu-id="747df-218">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-218">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-219">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-219">Generic</span></span> |
| <span data-ttu-id="747df-220">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-220">**Attributes**</span></span>              | <span data-ttu-id="747df-221">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-221">N/A</span></span>  |
| <span data-ttu-id="747df-222">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-222">**References**</span></span>              | <span data-ttu-id="747df-223">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-223">N/A</span></span>  |
| <span data-ttu-id="747df-224">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-224">**Steps**</span></span> | <span data-ttu-id="747df-225">確保敏感性識別碼是隨機的。</span><span class="sxs-lookup"><span data-stu-id="747df-225">Ensure that sensitive identifiers are random.</span></span> <span data-ttu-id="747df-226">在匿名頁面上實作 CAPTCHA 控制。</span><span class="sxs-lookup"><span data-stu-id="747df-226">Implement CAPTCHA control on anonymous pages.</span></span> <span data-ttu-id="747df-227">確保錯誤和例外狀況不得顯示特定資料</span><span class="sxs-lookup"><span data-stu-id="747df-227">Ensure that error and exception should not reveal specific data</span></span>|

## <span data-ttu-id="747df-228"><a id="principle-least-privilege"></a>確保施行適當的授權並遵循最低權限的原則</span><span class="sxs-lookup"><span data-stu-id="747df-228"><a id="principle-least-privilege"></a>Ensure that proper authorization is in place and principle of least privileges is followed</span></span>

| <span data-ttu-id="747df-229">Title</span><span class="sxs-lookup"><span data-stu-id="747df-229">Title</span></span>                   | <span data-ttu-id="747df-230">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-230">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-231">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-231">**Component**</span></span>               | <span data-ttu-id="747df-232">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-232">Web Application</span></span> | 
| <span data-ttu-id="747df-233">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-233">**SDL Phase**</span></span>               | <span data-ttu-id="747df-234">建置</span><span class="sxs-lookup"><span data-stu-id="747df-234">Build</span></span> |  
| <span data-ttu-id="747df-235">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-235">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-236">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-236">Generic</span></span> |
| <span data-ttu-id="747df-237">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-237">**Attributes**</span></span>              | <span data-ttu-id="747df-238">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-238">N/A</span></span>  |
| <span data-ttu-id="747df-239">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-239">**References**</span></span>              | <span data-ttu-id="747df-240">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-240">N/A</span></span>  |
| <span data-ttu-id="747df-241">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-241">**Steps**</span></span> | <p><span data-ttu-id="747df-242">hello 原則表示只有那些權限也就是不可或缺的 toothat 使用者工作中，提供使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="747df-242">hello principle means giving a user account only those privileges which are essential toothat users work.</span></span> <span data-ttu-id="747df-243">例如，備份的使用者不需要 tooinstall 軟體： hello 備份使用者因此，有權限只有 toorun 備份與備份相關應用程式。</span><span class="sxs-lookup"><span data-stu-id="747df-243">For example, a backup user does not need tooinstall software: hence, hello backup user has rights only toorun backup and backup-related applications.</span></span> <span data-ttu-id="747df-244">任何其他權限 (例如安裝新的軟體) 都會遭到封鎖。</span><span class="sxs-lookup"><span data-stu-id="747df-244">Any other privileges, such as installing new software, are blocked.</span></span> <span data-ttu-id="747df-245">hello 原則也適用於 tooa 個人電腦使用者通常運作的一般使用者帳戶，並開啟權限，受密碼保護帳戶 （也就是超級使用者） 只有當 hello 情況絕對需要它。</span><span class="sxs-lookup"><span data-stu-id="747df-245">hello principle applies also tooa personal computer user who usually does work in a normal user account, and opens a privileged, password protected account (that is, a superuser) only when hello situation absolutely demands it.</span></span> </p><p><span data-ttu-id="747df-246">此原則也可以套用的 tooyour web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="747df-246">This principle can also be applied tooyour web-applications.</span></span> <span data-ttu-id="747df-247">而非單獨取決於使用工作階段，以角色為基礎的驗證方法，我們而不是想 tooassign 權 toousers 透過資料庫為基礎的驗證系統。</span><span class="sxs-lookup"><span data-stu-id="747df-247">Instead of solely depending on role-based authentication methods using sessions, we rather want tooassign privileges toousers by means of a Database-Based Authentication system.</span></span> <span data-ttu-id="747df-248">我們仍然使用順序 tooidentify 中的工作階段，如果 hello 使用者已登入正確，只是現在，而是該使用者與特定角色，我們會將指派他與權限 tooverify 他是哪些動作特殊權限的 tooperform hello 系統上。</span><span class="sxs-lookup"><span data-stu-id="747df-248">We still use sessions in order tooidentify if hello user was logged in correctly, only now instead of assigning that user with a specific role we assign him with privileges tooverify which actions he is privileged tooperform on hello system.</span></span> <span data-ttu-id="747df-249">也大 pro 這個方法是，每當使用者具有 toobe 指派較少的權限將 hello 立即套用您的變更，因為 hello 指派不會依賴 hello 工作階段的其他方式 tooexpire 第一次。</span><span class="sxs-lookup"><span data-stu-id="747df-249">Also a big pro of this method is, whenever a user has toobe assigned fewer privileges your changes will be applied on hello fly since hello assigning does not depend on hello session which otherwise had tooexpire first.</span></span></p>|

## <span data-ttu-id="747df-250"><a id="logic-request-parameters"></a>商務邏輯和資源存取授權決策不應以傳入的要求參數為基礎</span><span class="sxs-lookup"><span data-stu-id="747df-250"><a id="logic-request-parameters"></a>Business logic and resource access authorization decisions should not be based on incoming request parameters</span></span>

| <span data-ttu-id="747df-251">Title</span><span class="sxs-lookup"><span data-stu-id="747df-251">Title</span></span>                   | <span data-ttu-id="747df-252">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-253">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-253">**Component**</span></span>               | <span data-ttu-id="747df-254">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-254">Web Application</span></span> | 
| <span data-ttu-id="747df-255">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-255">**SDL Phase**</span></span>               | <span data-ttu-id="747df-256">建置</span><span class="sxs-lookup"><span data-stu-id="747df-256">Build</span></span> |  
| <span data-ttu-id="747df-257">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-257">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-258">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-258">Generic</span></span> |
| <span data-ttu-id="747df-259">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-259">**Attributes**</span></span>              | <span data-ttu-id="747df-260">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-260">N/A</span></span>  |
| <span data-ttu-id="747df-261">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-261">**References**</span></span>              | <span data-ttu-id="747df-262">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-262">N/A</span></span>  |
| <span data-ttu-id="747df-263">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-263">**Steps**</span></span> | <span data-ttu-id="747df-264">每當您檢查使用者是否限制的 tooreview 特定資料，hello 存取應該限制處理伺服器端。</span><span class="sxs-lookup"><span data-stu-id="747df-264">Whenever you are checking whether a user is restricted tooreview certain data, hello access restrictions should be processed server-side.</span></span> <span data-ttu-id="747df-265">hello userID 應該儲存登入工作階段變數內，而且應該使用的 tooretrieve hello 資料庫的使用者資料</span><span class="sxs-lookup"><span data-stu-id="747df-265">hello userID should be stored inside of a session variable on login and should be used tooretrieve user data from hello database</span></span> |

### <a name="example"></a><span data-ttu-id="747df-266">範例</span><span class="sxs-lookup"><span data-stu-id="747df-266">Example</span></span>
```SQL
SELECT data 
FROM personaldata 
WHERE userID=:id < - session var 
```
<span data-ttu-id="747df-267">現在可能的攻擊者可以未損害，由於 hello 識別碼來擷取資料的 hello 處理伺服器端變更 hello 應用程式作業。</span><span class="sxs-lookup"><span data-stu-id="747df-267">Now an possible attacker can not tamper and change hello application operation since hello identifier for retrieving hello data is handled server-side.</span></span>

## <span data-ttu-id="747df-268"><a id="enumerable-browsing"></a>確保無法透過強迫瀏覽來列舉或存取內容和資源</span><span class="sxs-lookup"><span data-stu-id="747df-268"><a id="enumerable-browsing"></a>Ensure that content and resources are not enumerable or accessible via forceful browsing</span></span>

| <span data-ttu-id="747df-269">Title</span><span class="sxs-lookup"><span data-stu-id="747df-269">Title</span></span>                   | <span data-ttu-id="747df-270">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-270">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-271">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-271">**Component**</span></span>               | <span data-ttu-id="747df-272">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="747df-272">Web Application</span></span> | 
| <span data-ttu-id="747df-273">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-273">**SDL Phase**</span></span>               | <span data-ttu-id="747df-274">建置</span><span class="sxs-lookup"><span data-stu-id="747df-274">Build</span></span> |  
| <span data-ttu-id="747df-275">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-275">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-276">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-276">Generic</span></span> |
| <span data-ttu-id="747df-277">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-277">**Attributes**</span></span>              | <span data-ttu-id="747df-278">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-278">N/A</span></span>  |
| <span data-ttu-id="747df-279">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-279">**References**</span></span>              | <span data-ttu-id="747df-280">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-280">N/A</span></span>  |
| <span data-ttu-id="747df-281">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-281">**Steps**</span></span> | <p><span data-ttu-id="747df-282">Hello web 根目錄中，應該不會保留機密的靜態和組態檔案。</span><span class="sxs-lookup"><span data-stu-id="747df-282">Sensitive static and configuration files should not be kept in hello web-root.</span></span> <span data-ttu-id="747df-283">內容不需要 toobe 公用，控制項應該套用適當的存取權或移除 hello 內容本身。</span><span class="sxs-lookup"><span data-stu-id="747df-283">For content not required toobe public, either proper access controls should be applied or removal of hello content itself.</span></span></p><p><span data-ttu-id="747df-284">此外，強制瀏覽通常會結合暴力技術 toogather 資訊嘗試 tooaccess Url 可能 tooenumerate 目錄以及伺服器上的檔案數目。</span><span class="sxs-lookup"><span data-stu-id="747df-284">Also, forceful browsing is usually combined with Brute Force techniques toogather information by attempting tooaccess as many URLs as possible tooenumerate directories and files on a server.</span></span> <span data-ttu-id="747df-285">攻擊者可能會檢查常見現有檔案的所有變化。</span><span class="sxs-lookup"><span data-stu-id="747df-285">Attackers may check for all variations of commonly existing files.</span></span> <span data-ttu-id="747df-286">例如，密碼檔案搜尋會包含下列檔案：psswd.txt、password.htm、password.dat 和其他變化。</span><span class="sxs-lookup"><span data-stu-id="747df-286">For example, a password file search would encompass files including psswd.txt, password.htm, password.dat, and other variations.</span></span></p><p><span data-ttu-id="747df-287">此功能來偵測的暴力嘗試 toomitigate 都應該被包含。</span><span class="sxs-lookup"><span data-stu-id="747df-287">toomitigate this, capabilities for detection of brute force attempts should be included.</span></span></p>|

## <span data-ttu-id="747df-288"><a id="privileged-server"></a>確定最低權限的帳戶都使用的 tooconnect tooDatabase 伺服器</span><span class="sxs-lookup"><span data-stu-id="747df-288"><a id="privileged-server"></a>Ensure that least-privileged accounts are used tooconnect tooDatabase server</span></span>

| <span data-ttu-id="747df-289">Title</span><span class="sxs-lookup"><span data-stu-id="747df-289">Title</span></span>                   | <span data-ttu-id="747df-290">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-290">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-291">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-291">**Component**</span></span>               | <span data-ttu-id="747df-292">資料庫</span><span class="sxs-lookup"><span data-stu-id="747df-292">Database</span></span> | 
| <span data-ttu-id="747df-293">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-293">**SDL Phase**</span></span>               | <span data-ttu-id="747df-294">建置</span><span class="sxs-lookup"><span data-stu-id="747df-294">Build</span></span> |  
| <span data-ttu-id="747df-295">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-295">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-296">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-296">Generic</span></span> |
| <span data-ttu-id="747df-297">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-297">**Attributes**</span></span>              | <span data-ttu-id="747df-298">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-298">N/A</span></span>  |
| <span data-ttu-id="747df-299">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-299">**References**</span></span>              | <span data-ttu-id="747df-300">[SQL Database 權限階層](https://msdn.microsoft.com/library/ms191465)、[SQL Database 安全性實體](https://msdn.microsoft.com/library/ms190401)</span><span class="sxs-lookup"><span data-stu-id="747df-300">[SQL Database permissions hierarchy](https://msdn.microsoft.com/library/ms191465), [SQL database securables](https://msdn.microsoft.com/library/ms190401)</span></span> |
| <span data-ttu-id="747df-301">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-301">**Steps**</span></span> | <span data-ttu-id="747df-302">最低權限的帳戶應該是使用的 tooconnect toohello 資料庫。</span><span class="sxs-lookup"><span data-stu-id="747df-302">Least-privileged accounts should be used tooconnect toohello database.</span></span> <span data-ttu-id="747df-303">應用程式登入應該限制 hello 資料庫中，並只應執行所選的預存程序。</span><span class="sxs-lookup"><span data-stu-id="747df-303">Application login should be restricted in hello database and should only execute selected stored procedures.</span></span> <span data-ttu-id="747df-304">應用程式的登入應該沒有直接的資料表存取權。</span><span class="sxs-lookup"><span data-stu-id="747df-304">Application's login should have no direct table access.</span></span> |

## <span data-ttu-id="747df-305"><a id="rls-tenants"></a>實作資料列層級安全性 RLS tooprevent 租用戶存取彼此的資料</span><span class="sxs-lookup"><span data-stu-id="747df-305"><a id="rls-tenants"></a>Implement Row Level Security RLS tooprevent tenants from accessing each other's data</span></span>

| <span data-ttu-id="747df-306">Title</span><span class="sxs-lookup"><span data-stu-id="747df-306">Title</span></span>                   | <span data-ttu-id="747df-307">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-307">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-308">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-308">**Component**</span></span>               | <span data-ttu-id="747df-309">資料庫</span><span class="sxs-lookup"><span data-stu-id="747df-309">Database</span></span> | 
| <span data-ttu-id="747df-310">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-310">**SDL Phase**</span></span>               | <span data-ttu-id="747df-311">建置</span><span class="sxs-lookup"><span data-stu-id="747df-311">Build</span></span> |  
| <span data-ttu-id="747df-312">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-312">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-313">Sql Azure、OnPrem</span><span class="sxs-lookup"><span data-stu-id="747df-313">Sql Azure, OnPrem</span></span> |
| <span data-ttu-id="747df-314">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-314">**Attributes**</span></span>              | <span data-ttu-id="747df-315">SQL 版本 - V12、SQL 版本 - MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="747df-315">SQL Version - V12, SQL Version - MsSQL2016</span></span> |
| <span data-ttu-id="747df-316">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-316">**References**</span></span>              | [<span data-ttu-id="747df-317">SQL Server 資料列層級安全性 (RLS)</span><span class="sxs-lookup"><span data-stu-id="747df-317">SQL Server Row-Level Security (RLS)</span></span>](https://msdn.microsoft.com/library/azure/dn765131.aspx) |
| <span data-ttu-id="747df-318">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-318">**Steps**</span></span> | <p><span data-ttu-id="747df-319">資料列層級安全性可讓客戶 toocontrol 存取 toorows 根據 hello 特性 hello 使用者執行查詢 （例如，群組成員資格或執行內容） 的資料庫資料表中。</span><span class="sxs-lookup"><span data-stu-id="747df-319">Row-Level Security enables customers toocontrol access toorows in a database table based on hello characteristics of hello user executing a query (e.g., group membership or execution context).</span></span></p><p><span data-ttu-id="747df-320">資料列層級安全性 (RLS) 簡化 hello 設計和編碼您的應用程式中的安全性。</span><span class="sxs-lookup"><span data-stu-id="747df-320">Row-Level Security (RLS) simplifies hello design and coding of security in your application.</span></span> <span data-ttu-id="747df-321">RLS 可讓您在資料列存取 tooimplement 限制。</span><span class="sxs-lookup"><span data-stu-id="747df-321">RLS enables you tooimplement restrictions on data row access.</span></span> <span data-ttu-id="747df-322">例如，確保工作者只能存取相關 tootheir 部門的資料列，或限制客戶的資料存取 tooonly hello 資料相關的 tootheir 公司。</span><span class="sxs-lookup"><span data-stu-id="747df-322">For example ensuring that workers can access only those data rows that are pertinent tootheir department, or restricting a customer's data access tooonly hello data relevant tootheir company.</span></span></p><p><span data-ttu-id="747df-323">hello 存取限制邏輯是位於 hello 資料庫層，而不是離開 hello 資料，另一個應用程式層。</span><span class="sxs-lookup"><span data-stu-id="747df-323">hello access restriction logic is located in hello database tier rather than away from hello data in another application tier.</span></span> <span data-ttu-id="747df-324">hello 資料庫系統會在每次從任何層嘗試存取該資料套用 hello 存取限制。</span><span class="sxs-lookup"><span data-stu-id="747df-324">hello database system applies hello access restrictions every time that data access is attempted from any tier.</span></span> <span data-ttu-id="747df-325">這樣就可以 hello 安全性系統更可靠且健全減少 hello hello 安全性系統的介面區。</span><span class="sxs-lookup"><span data-stu-id="747df-325">This makes hello security system more reliable and robust by reducing hello surface area of hello security system.</span></span></p><p>|

<span data-ttu-id="747df-326">請注意該 RLS 做為之 跨資料庫的功能是適用於只有 tooSQL 從 2016年開始的伺服器和 Azure SQL database。</span><span class="sxs-lookup"><span data-stu-id="747df-326">Please note that RLS as an out-of-the-box database feature is applicable only tooSQL Server starting 2016 and Azure SQL database.</span></span> <span data-ttu-id="747df-327">如果未實作 hello 的方塊外 RLS 功能，則應該被確保資料存取是受限制使用檢視和程序</span><span class="sxs-lookup"><span data-stu-id="747df-327">If hello out-of-the-box RLS feature is not implemented, it should be ensured that data access is restricted Using Views and Procedures</span></span>

## <span data-ttu-id="747df-328"><a id="sysadmin-users"></a>系統管理員角色只能具備有效的必要使用者</span><span class="sxs-lookup"><span data-stu-id="747df-328"><a id="sysadmin-users"></a>Sysadmin role should only have valid necessary users</span></span>

| <span data-ttu-id="747df-329">Title</span><span class="sxs-lookup"><span data-stu-id="747df-329">Title</span></span>                   | <span data-ttu-id="747df-330">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-330">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-331">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-331">**Component**</span></span>               | <span data-ttu-id="747df-332">資料庫</span><span class="sxs-lookup"><span data-stu-id="747df-332">Database</span></span> | 
| <span data-ttu-id="747df-333">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-333">**SDL Phase**</span></span>               | <span data-ttu-id="747df-334">建置</span><span class="sxs-lookup"><span data-stu-id="747df-334">Build</span></span> |  
| <span data-ttu-id="747df-335">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-335">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-336">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-336">Generic</span></span> |
| <span data-ttu-id="747df-337">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-337">**Attributes**</span></span>              | <span data-ttu-id="747df-338">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-338">N/A</span></span>  |
| <span data-ttu-id="747df-339">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-339">**References**</span></span>              | <span data-ttu-id="747df-340">[SQL Database 權限階層](https://msdn.microsoft.com/library/ms191465)、[SQL Database 安全性實體](https://msdn.microsoft.com/library/ms190401)</span><span class="sxs-lookup"><span data-stu-id="747df-340">[SQL Database permissions hierarchy](https://msdn.microsoft.com/library/ms191465), [SQL database securables](https://msdn.microsoft.com/library/ms190401)</span></span> |
| <span data-ttu-id="747df-341">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-341">**Steps**</span></span> | <span data-ttu-id="747df-342">要非常有限的 hello SysAdmin 固定伺服器角色的成員，而且永遠不會包含應用程式所使用的帳戶。</span><span class="sxs-lookup"><span data-stu-id="747df-342">Members of hello SysAdmin fixed server role should be very limited and never contain accounts used by applications.</span></span>  <span data-ttu-id="747df-343">請檢閱 hello hello 角色中的使用者清單，並移除任何不必要的帳戶</span><span class="sxs-lookup"><span data-stu-id="747df-343">Please review hello list of users in hello role and remove any unnecessary accounts</span></span>|

## <span data-ttu-id="747df-344"><a id="cloud-least-privileged"></a>連接 tooCloud 閘道使用最低權限語彙基元</span><span class="sxs-lookup"><span data-stu-id="747df-344"><a id="cloud-least-privileged"></a>Connect tooCloud Gateway using least-privileged tokens</span></span>

| <span data-ttu-id="747df-345">Title</span><span class="sxs-lookup"><span data-stu-id="747df-345">Title</span></span>                   | <span data-ttu-id="747df-346">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-346">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-347">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-347">**Component**</span></span>               | <span data-ttu-id="747df-348">IoT 雲端閘道</span><span class="sxs-lookup"><span data-stu-id="747df-348">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="747df-349">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-349">**SDL Phase**</span></span>               | <span data-ttu-id="747df-350">部署</span><span class="sxs-lookup"><span data-stu-id="747df-350">Deployment</span></span> |  
| <span data-ttu-id="747df-351">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-351">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-352">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-352">Generic</span></span> |
| <span data-ttu-id="747df-353">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-353">**Attributes**</span></span>              | <span data-ttu-id="747df-354">閘道選擇 - Azure IoT 中樞</span><span class="sxs-lookup"><span data-stu-id="747df-354">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="747df-355">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-355">**References**</span></span>              | [<span data-ttu-id="747df-356">IoT 中樞存取控制</span><span class="sxs-lookup"><span data-stu-id="747df-356">Iot Hub Access Control</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-devguide/#Security) |
| <span data-ttu-id="747df-357">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-357">**Steps**</span></span> | <span data-ttu-id="747df-358">提供最低權限連接 tooCloud 閘道 （IoT 中樞） 的權限 toovarious 元件。</span><span class="sxs-lookup"><span data-stu-id="747df-358">Provide least privilege permissions toovarious components that connect tooCloud Gateway (IoT Hub).</span></span> <span data-ttu-id="747df-359">典型範例 – 裝置管理/佈建元件使用登錄讀取/寫入時、事件處理器 (ASA) 使用服務連線。</span><span class="sxs-lookup"><span data-stu-id="747df-359">Typical example is – Device management/provisioning component uses registryread/write, Event Processor (ASA) uses Service Connect.</span></span> <span data-ttu-id="747df-360">使用裝置認證的個別裝置連接</span><span class="sxs-lookup"><span data-stu-id="747df-360">Individual devices connect using Device credentials</span></span>|

## <span data-ttu-id="747df-361"><a id="sendonly-sas"></a>使用僅限傳送權限 SAS 金鑰來產生裝置權杖</span><span class="sxs-lookup"><span data-stu-id="747df-361"><a id="sendonly-sas"></a>Use a send-only permissions SAS Key for generating device tokens</span></span>

| <span data-ttu-id="747df-362">Title</span><span class="sxs-lookup"><span data-stu-id="747df-362">Title</span></span>                   | <span data-ttu-id="747df-363">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-363">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-364">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-364">**Component**</span></span>               | <span data-ttu-id="747df-365">Azure 事件中樞</span><span class="sxs-lookup"><span data-stu-id="747df-365">Azure Event Hub</span></span> | 
| <span data-ttu-id="747df-366">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-366">**SDL Phase**</span></span>               | <span data-ttu-id="747df-367">建置</span><span class="sxs-lookup"><span data-stu-id="747df-367">Build</span></span> |  
| <span data-ttu-id="747df-368">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-368">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-369">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-369">Generic</span></span> |
| <span data-ttu-id="747df-370">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-370">**Attributes**</span></span>              | <span data-ttu-id="747df-371">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-371">N/A</span></span>  |
| <span data-ttu-id="747df-372">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-372">**References**</span></span>              | [<span data-ttu-id="747df-373">事件中樞驗證和安全性模型概觀</span><span class="sxs-lookup"><span data-stu-id="747df-373">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="747df-374">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-374">**Steps**</span></span> | <span data-ttu-id="747df-375">SAS 金鑰是使用的 toogenerate 個別裝置權杖。</span><span class="sxs-lookup"><span data-stu-id="747df-375">A SAS key is used toogenerate individual device tokens.</span></span> <span data-ttu-id="747df-376">僅限傳送的權限的 SAS 金鑰產生 hello 裝置權杖時用於指定的發行者</span><span class="sxs-lookup"><span data-stu-id="747df-376">Use a send-only permissions SAS key while generating hello device token for a given publisher</span></span>|

## <span data-ttu-id="747df-377"><a id="access-tokens-hub"></a>不使用存取權杖可直接存取 toohello 事件中樞</span><span class="sxs-lookup"><span data-stu-id="747df-377"><a id="access-tokens-hub"></a>Do not use access tokens that provide direct access toohello Event Hub</span></span>

| <span data-ttu-id="747df-378">Title</span><span class="sxs-lookup"><span data-stu-id="747df-378">Title</span></span>                   | <span data-ttu-id="747df-379">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-380">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-380">**Component**</span></span>               | <span data-ttu-id="747df-381">Azure 事件中樞</span><span class="sxs-lookup"><span data-stu-id="747df-381">Azure Event Hub</span></span> | 
| <span data-ttu-id="747df-382">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-382">**SDL Phase**</span></span>               | <span data-ttu-id="747df-383">建置</span><span class="sxs-lookup"><span data-stu-id="747df-383">Build</span></span> |  
| <span data-ttu-id="747df-384">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-384">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-385">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-385">Generic</span></span> |
| <span data-ttu-id="747df-386">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-386">**Attributes**</span></span>              | <span data-ttu-id="747df-387">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-387">N/A</span></span>  |
| <span data-ttu-id="747df-388">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-388">**References**</span></span>              | [<span data-ttu-id="747df-389">事件中樞驗證和安全性模型概觀</span><span class="sxs-lookup"><span data-stu-id="747df-389">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="747df-390">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-390">**Steps**</span></span> | <span data-ttu-id="747df-391">授與直接存取 toohello 事件中心的語彙基元不應該授予 toohello 裝置。</span><span class="sxs-lookup"><span data-stu-id="747df-391">A token that grants direct access toohello event hub should not be given toohello device.</span></span> <span data-ttu-id="747df-392">Hello 裝置可存取只有 tooa 發行者可協助識別及列入它封鎖清單，如果使用的最小權限語彙基元 toobe 惡意或危害的裝置。</span><span class="sxs-lookup"><span data-stu-id="747df-392">Using a least privileged token for hello device that gives access only tooa publisher would help identify and blacklist it if found toobe a rogue or compromised device.</span></span>|

## <span data-ttu-id="747df-393"><a id="sas-minimum-permissions"></a>連接的 tooEvent 集線器使用 SAS 金鑰，擁有 hello 最低所需權限</span><span class="sxs-lookup"><span data-stu-id="747df-393"><a id="sas-minimum-permissions"></a>Connect tooEvent Hub using SAS keys that have hello minimum permissions required</span></span>

| <span data-ttu-id="747df-394">Title</span><span class="sxs-lookup"><span data-stu-id="747df-394">Title</span></span>                   | <span data-ttu-id="747df-395">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-396">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-396">**Component**</span></span>               | <span data-ttu-id="747df-397">Azure 事件中樞</span><span class="sxs-lookup"><span data-stu-id="747df-397">Azure Event Hub</span></span> | 
| <span data-ttu-id="747df-398">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-398">**SDL Phase**</span></span>               | <span data-ttu-id="747df-399">建置</span><span class="sxs-lookup"><span data-stu-id="747df-399">Build</span></span> |  
| <span data-ttu-id="747df-400">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-400">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-401">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-401">Generic</span></span> |
| <span data-ttu-id="747df-402">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-402">**Attributes**</span></span>              | <span data-ttu-id="747df-403">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-403">N/A</span></span>  |
| <span data-ttu-id="747df-404">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-404">**References**</span></span>              | [<span data-ttu-id="747df-405">事件中樞驗證和安全性模型概觀</span><span class="sxs-lookup"><span data-stu-id="747df-405">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="747df-406">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-406">**Steps**</span></span> | <span data-ttu-id="747df-407">最小權限的權限 toovarious 後端應用程式提供連接 toohello 事件中心。</span><span class="sxs-lookup"><span data-stu-id="747df-407">Provide least privilege permissions toovarious back-end applications that connect toohello Event Hub.</span></span> <span data-ttu-id="747df-408">產生個別的 SAS 金鑰，每個後端應用程式，並只提供傳送、 接收或管理 toothem hello 所需的權限。</span><span class="sxs-lookup"><span data-stu-id="747df-408">Generate separate SAS keys for each back-end application and only provide hello required permissions - Send, Receive or Manage toothem.</span></span>|

## <span data-ttu-id="747df-409"><a id="resource-docdb"></a>使用資源語彙基元 tooconnect tooCosmos DB 盡可能</span><span class="sxs-lookup"><span data-stu-id="747df-409"><a id="resource-docdb"></a>Use resource tokens tooconnect tooCosmos DB whenever possible</span></span>

| <span data-ttu-id="747df-410">Title</span><span class="sxs-lookup"><span data-stu-id="747df-410">Title</span></span>                   | <span data-ttu-id="747df-411">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-412">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-412">**Component**</span></span>               | <span data-ttu-id="747df-413">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="747df-413">Azure Document DB</span></span> | 
| <span data-ttu-id="747df-414">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-414">**SDL Phase**</span></span>               | <span data-ttu-id="747df-415">建置</span><span class="sxs-lookup"><span data-stu-id="747df-415">Build</span></span> |  
| <span data-ttu-id="747df-416">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-416">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-417">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-417">Generic</span></span> |
| <span data-ttu-id="747df-418">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-418">**Attributes**</span></span>              | <span data-ttu-id="747df-419">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-419">N/A</span></span>  |
| <span data-ttu-id="747df-420">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-420">**References**</span></span>              | <span data-ttu-id="747df-421">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-421">N/A</span></span>  |
| <span data-ttu-id="747df-422">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-422">**Steps**</span></span> | <span data-ttu-id="747df-423">為資源語彙基元與 DocumentDB 權限資源相關聯，且會擷取 hello 之間的關聯性的資料庫和 hello 的權限的 hello 使用者該使用者具有特定 DocumentDB 應用程式資源 （例如集合、 文件）。</span><span class="sxs-lookup"><span data-stu-id="747df-423">A resource token is associated with a DocumentDB permission resource and captures hello relationship between hello user of a database and hello permission that user has for a specific DocumentDB application resource (e.g. collection, document).</span></span> <span data-ttu-id="747df-424">如果無法信任處理主要或唯讀金鑰-就像一般使用者應用程式，類似行動或桌面用戶端 hello 用戶端，永遠使用 DocumentDB 資源語彙基元 tooaccess hello。使用主要金鑰或從後端應用程式可以安全地儲存這些金鑰的唯讀機碼。</span><span class="sxs-lookup"><span data-stu-id="747df-424">Always use a resource token tooaccess hello DocumentDB if hello client cannot be trusted with handling master or read-only keys - like an end user application like a mobile or desktop client.Use Master key or read-only keys from backend applications which can store these keys securely.</span></span>|

## <span data-ttu-id="747df-425"><a id="grained-rbac"></a>啟用更細緻的存取權管理 tooAzure 訂用帳戶使用 RBAC</span><span class="sxs-lookup"><span data-stu-id="747df-425"><a id="grained-rbac"></a>Enable fine-grained access management tooAzure Subscription using RBAC</span></span>

| <span data-ttu-id="747df-426">Title</span><span class="sxs-lookup"><span data-stu-id="747df-426">Title</span></span>                   | <span data-ttu-id="747df-427">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-427">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-428">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-428">**Component**</span></span>               | <span data-ttu-id="747df-429">Azure 信任邊界</span><span class="sxs-lookup"><span data-stu-id="747df-429">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="747df-430">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-430">**SDL Phase**</span></span>               | <span data-ttu-id="747df-431">建置</span><span class="sxs-lookup"><span data-stu-id="747df-431">Build</span></span> |  
| <span data-ttu-id="747df-432">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-432">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-433">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-433">Generic</span></span> |
| <span data-ttu-id="747df-434">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-434">**Attributes**</span></span>              | <span data-ttu-id="747df-435">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-435">N/A</span></span>  |
| <span data-ttu-id="747df-436">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-436">**References**</span></span>              | [<span data-ttu-id="747df-437">使用角色指派 toomanage 存取 tooyour Azure 訂用帳戶資源</span><span class="sxs-lookup"><span data-stu-id="747df-437">Use role assignments toomanage access tooyour Azure subscription resources</span></span>](https://azure.microsoft.com/documentation/articles/role-based-access-control-configure/)  |
| <span data-ttu-id="747df-438">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-438">**Steps**</span></span> | <span data-ttu-id="747df-439">Azure 角色型存取控制 (RBAC) 可以對 Azure 進行更細緻的存取權管理。</span><span class="sxs-lookup"><span data-stu-id="747df-439">Azure Role-Based Access Control (RBAC) enables fine-grained access management for Azure.</span></span> <span data-ttu-id="747df-440">使用 RBAC 時，您可以授與只 hello 少量的存取權，使用者需要 tooperform 他們的工作。</span><span class="sxs-lookup"><span data-stu-id="747df-440">Using RBAC, you can grant only hello amount of access that users need tooperform their jobs.</span></span>|

## <span data-ttu-id="747df-441"><a id="cluster-rbac"></a>限制用戶端存取 toocluster 作業使用 RBAC</span><span class="sxs-lookup"><span data-stu-id="747df-441"><a id="cluster-rbac"></a>Restrict client's access toocluster operations using RBAC</span></span>

| <span data-ttu-id="747df-442">Title</span><span class="sxs-lookup"><span data-stu-id="747df-442">Title</span></span>                   | <span data-ttu-id="747df-443">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-443">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-444">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-444">**Component**</span></span>               | <span data-ttu-id="747df-445">Service Fabric 信任邊界</span><span class="sxs-lookup"><span data-stu-id="747df-445">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="747df-446">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-446">**SDL Phase**</span></span>               | <span data-ttu-id="747df-447">部署</span><span class="sxs-lookup"><span data-stu-id="747df-447">Deployment</span></span> |  
| <span data-ttu-id="747df-448">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-448">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-449">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-449">Generic</span></span> |
| <span data-ttu-id="747df-450">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-450">**Attributes**</span></span>              | <span data-ttu-id="747df-451">環境 - Azure</span><span class="sxs-lookup"><span data-stu-id="747df-451">Environment - Azure</span></span> |
| <span data-ttu-id="747df-452">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-452">**References**</span></span>              | [<span data-ttu-id="747df-453">Service Fabric 用戶端的角色型存取控制</span><span class="sxs-lookup"><span data-stu-id="747df-453">Role-based access control for Service Fabric clients</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security-roles/) |
| <span data-ttu-id="747df-454">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-454">**Steps**</span></span> | <p><span data-ttu-id="747df-455">Azure Service Fabric 支援兩種不同的存取控制類型的用戶端的連線的 tooa Service Fabric 叢集： 系統管理員和使用者。</span><span class="sxs-lookup"><span data-stu-id="747df-455">Azure Service Fabric supports two different access control types for clients that are connected tooa Service Fabric cluster: administrator and user.</span></span> <span data-ttu-id="747df-456">存取控制可讓 hello 叢集系統管理員 toolimit 存取 toocertain 叢集作業會針對不同使用者群組，讓 hello 叢集更安全。</span><span class="sxs-lookup"><span data-stu-id="747df-456">Access control allows hello cluster administrator toolimit access toocertain cluster operations for different groups of users, making hello cluster more secure.</span></span></p><p><span data-ttu-id="747df-457">系統管理員具有完整存取 toomanagement 功能 （包括讀取/寫入功能）。</span><span class="sxs-lookup"><span data-stu-id="747df-457">Administrators have full access toomanagement capabilities (including read/write capabilities).</span></span> <span data-ttu-id="747df-458">使用者，根據預設，具有讀取權限 toomanagement 功能 （例如，查詢功能） 和 hello 能力 tooresolve 應用程式和服務。</span><span class="sxs-lookup"><span data-stu-id="747df-458">Users, by default, have only read access toomanagement capabilities (for example, query capabilities), and hello ability tooresolve applications and services.</span></span></p><p><span data-ttu-id="747df-459">您指定 hello 兩個用戶端角色 （系統管理員和用戶端），您可以在 hello 階段建立叢集的每個提供不同的憑證。</span><span class="sxs-lookup"><span data-stu-id="747df-459">You specify hello two client roles (administrator and client) at hello time of cluster creation by providing separate certificates for each.</span></span></p>|

## <span data-ttu-id="747df-460"><a id="modeling-field"></a>執行安全性模型化並視需要使用欄位層級安全性</span><span class="sxs-lookup"><span data-stu-id="747df-460"><a id="modeling-field"></a>Perform security modeling and use Field Level Security where required</span></span>

| <span data-ttu-id="747df-461">Title</span><span class="sxs-lookup"><span data-stu-id="747df-461">Title</span></span>                   | <span data-ttu-id="747df-462">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-462">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-463">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-463">**Component**</span></span>               | <span data-ttu-id="747df-464">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="747df-464">Dynamics CRM</span></span> | 
| <span data-ttu-id="747df-465">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-465">**SDL Phase**</span></span>               | <span data-ttu-id="747df-466">建置</span><span class="sxs-lookup"><span data-stu-id="747df-466">Build</span></span> |  
| <span data-ttu-id="747df-467">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-467">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-468">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-468">Generic</span></span> |
| <span data-ttu-id="747df-469">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-469">**Attributes**</span></span>              | <span data-ttu-id="747df-470">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-470">N/A</span></span>  |
| <span data-ttu-id="747df-471">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-471">**References**</span></span>              | <span data-ttu-id="747df-472">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-472">N/A</span></span>  |
| <span data-ttu-id="747df-473">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-473">**Steps**</span></span> | <span data-ttu-id="747df-474">執行安全性模型化並視需要使用欄位層級安全性</span><span class="sxs-lookup"><span data-stu-id="747df-474">Perform security modeling and use Field Level Security where required</span></span>|

## <span data-ttu-id="747df-475"><a id="portal-security"></a>執行 記住這個 hello 安全性模型中的 hello 入口網站與不同於 CRM hello 其餘部分的帳戶入口網站的安全性模型</span><span class="sxs-lookup"><span data-stu-id="747df-475"><a id="portal-security"></a>Perform security modeling of portal accounts keeping in mind that hello security model for hello portal differs from hello rest of CRM</span></span>

| <span data-ttu-id="747df-476">Title</span><span class="sxs-lookup"><span data-stu-id="747df-476">Title</span></span>                   | <span data-ttu-id="747df-477">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-477">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-478">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-478">**Component**</span></span>               | <span data-ttu-id="747df-479">Dynamics CRM 入口網站</span><span class="sxs-lookup"><span data-stu-id="747df-479">Dynamics CRM Portal</span></span> | 
| <span data-ttu-id="747df-480">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-480">**SDL Phase**</span></span>               | <span data-ttu-id="747df-481">建置</span><span class="sxs-lookup"><span data-stu-id="747df-481">Build</span></span> |  
| <span data-ttu-id="747df-482">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-482">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-483">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-483">Generic</span></span> |
| <span data-ttu-id="747df-484">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-484">**Attributes**</span></span>              | <span data-ttu-id="747df-485">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-485">N/A</span></span>  |
| <span data-ttu-id="747df-486">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-486">**References**</span></span>              | <span data-ttu-id="747df-487">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-487">N/A</span></span>  |
| <span data-ttu-id="747df-488">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-488">**Steps**</span></span> | <span data-ttu-id="747df-489">執行 記住這個 hello 安全性模型中的 hello 入口網站與不同於 CRM hello 其餘部分的帳戶入口網站的安全性模型</span><span class="sxs-lookup"><span data-stu-id="747df-489">Perform security modeling of portal accounts keeping in mind that hello security model for hello portal differs from hello rest of CRM</span></span>|

## <span data-ttu-id="747df-490"><a id="permission-entities"></a>在 Azure 表格儲存體中授與某個實體範圍的精細權限</span><span class="sxs-lookup"><span data-stu-id="747df-490"><a id="permission-entities"></a>Grant fine-grained permission on a range of entities in Azure Table Storage</span></span>

| <span data-ttu-id="747df-491">Title</span><span class="sxs-lookup"><span data-stu-id="747df-491">Title</span></span>                   | <span data-ttu-id="747df-492">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-492">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-493">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-493">**Component**</span></span>               | <span data-ttu-id="747df-494">Azure 儲存體</span><span class="sxs-lookup"><span data-stu-id="747df-494">Azure Storage</span></span> | 
| <span data-ttu-id="747df-495">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-495">**SDL Phase**</span></span>               | <span data-ttu-id="747df-496">建置</span><span class="sxs-lookup"><span data-stu-id="747df-496">Build</span></span> |  
| <span data-ttu-id="747df-497">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-497">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-498">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-498">Generic</span></span> |
| <span data-ttu-id="747df-499">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-499">**Attributes**</span></span>              | <span data-ttu-id="747df-500">StorageType - 資料表</span><span class="sxs-lookup"><span data-stu-id="747df-500">StorageType - Table</span></span> |
| <span data-ttu-id="747df-501">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-501">**References**</span></span>              | [<span data-ttu-id="747df-502">Toodelegate 存取 tooobjects 使用 SAS Azure 儲存體帳戶中的方式</span><span class="sxs-lookup"><span data-stu-id="747df-502">How toodelegate access tooobjects in your Azure storage account using SAS</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_data-plane-security) |
| <span data-ttu-id="747df-503">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-503">**Steps**</span></span> | <span data-ttu-id="747df-504">在特定商務案例中，Azure 資料表儲存體可能需要的 toostore 皆代表 toodifferent 合作對象的機密資料。</span><span class="sxs-lookup"><span data-stu-id="747df-504">In certain business scenarios, Azure Table Storage may be required toostore sensitive data that caters toodifferent parties.</span></span> <span data-ttu-id="747df-505">例如，敏感資料與有關 toodifferent 國家 （地區）。</span><span class="sxs-lookup"><span data-stu-id="747df-505">E.g., sensitive data pertaining toodifferent countries.</span></span> <span data-ttu-id="747df-506">在這種情況下，SAS 簽章可以建構藉由指定 hello 磁碟分割和資料列的索引鍵範圍，以便使用者可以存取資料特定 tooa 特定國家/地區。</span><span class="sxs-lookup"><span data-stu-id="747df-506">In such cases, SAS signatures can be constructed by specifying hello partition and row key ranges, such that a user can access data specific tooa particular country.</span></span>| 

## <span data-ttu-id="747df-507"><a id="rbac-azure-manager"></a>啟用使用 Azure 資源管理員的角色型存取控制 (RBAC) tooAzure 儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="747df-507"><a id="rbac-azure-manager"></a>Enable Role-Based Access Control (RBAC) tooAzure storage account using Azure Resource Manager</span></span>

| <span data-ttu-id="747df-508">Title</span><span class="sxs-lookup"><span data-stu-id="747df-508">Title</span></span>                   | <span data-ttu-id="747df-509">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-510">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-510">**Component**</span></span>               | <span data-ttu-id="747df-511">Azure 儲存體</span><span class="sxs-lookup"><span data-stu-id="747df-511">Azure Storage</span></span> | 
| <span data-ttu-id="747df-512">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-512">**SDL Phase**</span></span>               | <span data-ttu-id="747df-513">建置</span><span class="sxs-lookup"><span data-stu-id="747df-513">Build</span></span> |  
| <span data-ttu-id="747df-514">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-514">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-515">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-515">Generic</span></span> |
| <span data-ttu-id="747df-516">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-516">**Attributes**</span></span>              | <span data-ttu-id="747df-517">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-517">N/A</span></span>  |
| <span data-ttu-id="747df-518">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-518">**References**</span></span>              | [<span data-ttu-id="747df-519">如何 toosecure 您的儲存體帳戶使用角色型存取控制 (RBAC)</span><span class="sxs-lookup"><span data-stu-id="747df-519">How toosecure your storage account with Role-Based Access Control (RBAC)</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#management-plane-security) |
| <span data-ttu-id="747df-520">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-520">**Steps**</span></span> | <p><span data-ttu-id="747df-521">當您建立新的儲存體帳戶時，可以選取傳統或 Azure Resource Manager 的部署模型。</span><span class="sxs-lookup"><span data-stu-id="747df-521">When you create a new storage account, you select a deployment model of Classic or Azure Resource Manager.</span></span> <span data-ttu-id="747df-522">在 Azure 中建立資源的 hello 傳統模式只允許想到存取 toohello 訂用帳戶和依次 hello 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="747df-522">hello Classic model of creating resources in Azure only allows all-or-nothing access toohello subscription, and in turn, hello storage account.</span></span></p><p><span data-ttu-id="747df-523">使用 hello Azure Resource Manager 模型時，您可以將 hello 儲存體帳戶資源群組和控制存取 toohello 管理平面中的該特定的儲存體帳戶，使用 Azure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="747df-523">With hello Azure Resource Manager model, you put hello storage account in a resource group and control access toohello management plane of that specific storage account using Azure Active Directory.</span></span> <span data-ttu-id="747df-524">例如，您可以提供特定使用者 hello 能力 tooaccess hello 儲存體帳戶金鑰，而其他使用者可以檢視 hello 儲存體帳戶資訊，但無法存取 hello 儲存體帳戶金鑰。</span><span class="sxs-lookup"><span data-stu-id="747df-524">For example, you can give specific users hello ability tooaccess hello storage account keys, while other users can view information about hello storage account, but cannot access hello storage account keys.</span></span></p>|

## <span data-ttu-id="747df-525"><a id="rooting-detection"></a>實作隱含的越獄或 Root 權限入侵偵測</span><span class="sxs-lookup"><span data-stu-id="747df-525"><a id="rooting-detection"></a>Implement implicit jailbreak or rooting detection</span></span>

| <span data-ttu-id="747df-526">Title</span><span class="sxs-lookup"><span data-stu-id="747df-526">Title</span></span>                   | <span data-ttu-id="747df-527">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-527">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-528">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-528">**Component**</span></span>               | <span data-ttu-id="747df-529">行動用戶端</span><span class="sxs-lookup"><span data-stu-id="747df-529">Mobile Client</span></span> | 
| <span data-ttu-id="747df-530">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-530">**SDL Phase**</span></span>               | <span data-ttu-id="747df-531">建置</span><span class="sxs-lookup"><span data-stu-id="747df-531">Build</span></span> |  
| <span data-ttu-id="747df-532">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-532">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-533">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-533">Generic</span></span> |
| <span data-ttu-id="747df-534">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-534">**Attributes**</span></span>              | <span data-ttu-id="747df-535">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-535">N/A</span></span>  |
| <span data-ttu-id="747df-536">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-536">**References**</span></span>              | <span data-ttu-id="747df-537">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-537">N/A</span></span>  |
| <span data-ttu-id="747df-538">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-538">**Steps**</span></span> | <p><span data-ttu-id="747df-539">如果電話遭到 Root 權限或越獄入侵，應用程式應保護其本身的組態和使用者資料。</span><span class="sxs-lookup"><span data-stu-id="747df-539">Application should safeguard its own configuration and user data in case if phone is rooted or jail broken.</span></span> <span data-ttu-id="747df-540">Root 權限/越獄入侵意味著未經授權的存取，一般使用者不會在自己的電話上這麼做。</span><span class="sxs-lookup"><span data-stu-id="747df-540">Rooting/jail breaking implies unauthorized access, which normal users won't do on their own phones.</span></span> <span data-ttu-id="747df-541">因此應用程式應該在應用程式啟動時，如果已進行 root 破解 hello 電話 toodetect 具有隱含的偵測邏輯。</span><span class="sxs-lookup"><span data-stu-id="747df-541">Therefore application should have implicit detection logic on application startup, toodetect if hello phone has been rooted.</span></span></p><p><span data-ttu-id="747df-542">hello 偵測邏輯可以直接存取的檔案通常只有根使用者可以存取，例如：</span><span class="sxs-lookup"><span data-stu-id="747df-542">hello detection logic can be simply accessing files which normally only root user can access, for example:</span></span></p><ul><li><span data-ttu-id="747df-543">/system/app/Superuser.apk</span><span class="sxs-lookup"><span data-stu-id="747df-543">/system/app/Superuser.apk</span></span></li><li><span data-ttu-id="747df-544">/sbin/su</span><span class="sxs-lookup"><span data-stu-id="747df-544">/sbin/su</span></span></li><li><span data-ttu-id="747df-545">/system/bin/su</span><span class="sxs-lookup"><span data-stu-id="747df-545">/system/bin/su</span></span></li><li><span data-ttu-id="747df-546">/system/xbin/su</span><span class="sxs-lookup"><span data-stu-id="747df-546">/system/xbin/su</span></span></li><li><span data-ttu-id="747df-547">/data/local/xbin/su</span><span class="sxs-lookup"><span data-stu-id="747df-547">/data/local/xbin/su</span></span></li><li><span data-ttu-id="747df-548">/data/local/bin/su</span><span class="sxs-lookup"><span data-stu-id="747df-548">/data/local/bin/su</span></span></li><li><span data-ttu-id="747df-549">/system/sd/xbin/su</span><span class="sxs-lookup"><span data-stu-id="747df-549">/system/sd/xbin/su</span></span></li><li><span data-ttu-id="747df-550">/system/bin/failsafe/su</span><span class="sxs-lookup"><span data-stu-id="747df-550">/system/bin/failsafe/su</span></span></li><li><span data-ttu-id="747df-551">/data/local/su</span><span class="sxs-lookup"><span data-stu-id="747df-551">/data/local/su</span></span></li></ul><p><span data-ttu-id="747df-552">如果 hello 應用程式可以存取這些檔案，它代表 hello 應用程式以根使用者身分執行。</span><span class="sxs-lookup"><span data-stu-id="747df-552">If hello application can access any of these files, it denotes that hello application is running as root user.</span></span></p>|

## <span data-ttu-id="747df-553"><a id="weak-class-wcf"></a>WCF 中的弱式類別參考</span><span class="sxs-lookup"><span data-stu-id="747df-553"><a id="weak-class-wcf"></a>Weak Class Reference in WCF</span></span>

| <span data-ttu-id="747df-554">Title</span><span class="sxs-lookup"><span data-stu-id="747df-554">Title</span></span>                   | <span data-ttu-id="747df-555">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-555">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-556">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-556">**Component**</span></span>               | <span data-ttu-id="747df-557">WCF</span><span class="sxs-lookup"><span data-stu-id="747df-557">WCF</span></span> | 
| <span data-ttu-id="747df-558">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-558">**SDL Phase**</span></span>               | <span data-ttu-id="747df-559">建置</span><span class="sxs-lookup"><span data-stu-id="747df-559">Build</span></span> |  
| <span data-ttu-id="747df-560">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-560">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-561">泛型、NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="747df-561">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="747df-562">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-562">**Attributes**</span></span>              | <span data-ttu-id="747df-563">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-563">N/A</span></span>  |
| <span data-ttu-id="747df-564">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-564">**References**</span></span>              | <span data-ttu-id="747df-565">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx)、[Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="747df-565">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="747df-566">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-566">**Steps**</span></span> | <p><span data-ttu-id="747df-567">hello 系統會使用弱式的類別參考，可能會讓攻擊者 tooexecute 未經授權的程式碼。</span><span class="sxs-lookup"><span data-stu-id="747df-567">hello system uses a weak class reference, which might allow an attacker tooexecute unauthorized code.</span></span> <span data-ttu-id="747df-568">hello 程式會參考不唯一識別使用者定義的類別。</span><span class="sxs-lookup"><span data-stu-id="747df-568">hello program references a user-defined class that is not uniquely identified.</span></span> <span data-ttu-id="747df-569">當.NET 載入這個弱式識別的類別，在下列位置中 hello hello hello 類別 hello CLR 型別載入器搜尋指定順序：</span><span class="sxs-lookup"><span data-stu-id="747df-569">When .NET loads this weakly identified class, hello CLR type loader searches for hello class in hello following locations in hello specified order:</span></span></p><ol><li><span data-ttu-id="747df-570">如果已知 hello hello 類型組件，hello 載入器搜尋 hello 組態檔重新導向位置、 GAC、 hello 目前組件的組態資訊和 hello 應用程式基底目錄</span><span class="sxs-lookup"><span data-stu-id="747df-570">If hello assembly of hello type is known, hello loader searches hello configuration file's redirect locations, GAC, hello current assembly using configuration information, and hello application base directory</span></span></li><li><span data-ttu-id="747df-571">Hello 載入器搜尋的 hello hello 組件為未知，如果目前組件、 mscorlib 和 hello hello TypeResolve 事件處理常式所傳回的位置</span><span class="sxs-lookup"><span data-stu-id="747df-571">If hello assembly is unknown, hello loader searches hello current assembly, mscorlib, and hello location returned by hello TypeResolve event handler</span></span></li><li><span data-ttu-id="747df-572">這個 CLR 搜尋順序可以修改 hello 型別轉送機制等攔截程序與 hello AppDomain.TypeResolve 事件</span><span class="sxs-lookup"><span data-stu-id="747df-572">This CLR search order can be modified with hooks such as hello Type Forwarding mechanism and hello AppDomain.TypeResolve event</span></span></li></ol><p><span data-ttu-id="747df-573">如果攻擊者利用 hello CLR 搜尋順序，藉由建立具有的替代類別 hello 相同名稱，並將其置於其他位置 CLR 會先載入該 hello、 hello CLR 會不小心執行 hello 攻擊者提供的程式碼</span><span class="sxs-lookup"><span data-stu-id="747df-573">If an attacker exploits hello CLR search order by creating an alternative class with hello same name and placing it in an alternative location that hello CLR will load first, hello CLR will unintentionally execute hello attacker-supplied code</span></span></p>|

### <a name="example"></a><span data-ttu-id="747df-574">範例</span><span class="sxs-lookup"><span data-stu-id="747df-574">Example</span></span>
<span data-ttu-id="747df-575">hello `<behaviorExtensions/>` hello 底下的 WCF 組態檔項目會指示 WCF tooadd 自訂行為類別 tooa 特定 WCF 延伸模組。</span><span class="sxs-lookup"><span data-stu-id="747df-575">hello `<behaviorExtensions/>` element of hello WCF configuration file below instructs WCF tooadd a custom behavior class tooa particular WCF extension.</span></span>
```
<system.serviceModel>
    <extensions>
        <behaviorExtensions>
            <add name=""myBehavior"" type=""MyBehavior"" />
        </behaviorExtensions>
    </extensions>
</system.serviceModel>
```
<span data-ttu-id="747df-576">使用完整 (強式) 名稱來唯一識別類型，可進一步提高您系統的安全性。</span><span class="sxs-lookup"><span data-stu-id="747df-576">Using fully qualified (strong) names uniquely identifies a type and further increases security of your system.</span></span> <span data-ttu-id="747df-577">Hello machine.config 與 app.config 檔中註冊型別時，請使用完整組件名稱。</span><span class="sxs-lookup"><span data-stu-id="747df-577">Use fully qualified assembly names when registering types in hello machine.config and app.config files.</span></span>

### <a name="example"></a><span data-ttu-id="747df-578">範例</span><span class="sxs-lookup"><span data-stu-id="747df-578">Example</span></span>
<span data-ttu-id="747df-579">hello `<behaviorExtensions/>` hello 底下的 WCF 組態檔項目會指示 WCF tooadd 強式參考自訂行為類別 tooa 特定 WCF 延伸模組。</span><span class="sxs-lookup"><span data-stu-id="747df-579">hello `<behaviorExtensions/>` element of hello WCF configuration file below instructs WCF tooadd strongly-referenced custom behavior class tooa particular WCF extension.</span></span>
```
<system.serviceModel>
    <extensions>
        <behaviorExtensions>
            <add name=""myBehavior"" type=""Microsoft.ServiceModel.Samples.MyBehaviorSection, MyBehavior,
            Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"" />
        </behaviorExtensions>
    </extensions>
</system.serviceModel>
```

## <span data-ttu-id="747df-580"><a id="wcf-authz"></a>WCF 實作授權控制</span><span class="sxs-lookup"><span data-stu-id="747df-580"><a id="wcf-authz"></a>WCF-Implement Authorization control</span></span>

| <span data-ttu-id="747df-581">Title</span><span class="sxs-lookup"><span data-stu-id="747df-581">Title</span></span>                   | <span data-ttu-id="747df-582">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-582">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-583">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-583">**Component**</span></span>               | <span data-ttu-id="747df-584">WCF</span><span class="sxs-lookup"><span data-stu-id="747df-584">WCF</span></span> | 
| <span data-ttu-id="747df-585">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-585">**SDL Phase**</span></span>               | <span data-ttu-id="747df-586">建置</span><span class="sxs-lookup"><span data-stu-id="747df-586">Build</span></span> |  
| <span data-ttu-id="747df-587">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-587">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-588">泛型、NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="747df-588">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="747df-589">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-589">**Attributes**</span></span>              | <span data-ttu-id="747df-590">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-590">N/A</span></span>  |
| <span data-ttu-id="747df-591">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-591">**References**</span></span>              | <span data-ttu-id="747df-592">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx)、[Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="747df-592">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="747df-593">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-593">**Steps**</span></span> | <p><span data-ttu-id="747df-594">此服務並不會使用授權控制。</span><span class="sxs-lookup"><span data-stu-id="747df-594">This service does not use an authorization control.</span></span> <span data-ttu-id="747df-595">當用戶端會呼叫特定的 WCF 服務時，WCF 會提供各種授權配置來確認該 hello 呼叫端在 hello 伺服器上具有權限 tooexecute hello 服務方法。</span><span class="sxs-lookup"><span data-stu-id="747df-595">When a client calls a particular WCF service, WCF provides various authorization schemes that verify that hello caller has permission tooexecute hello service method on hello server.</span></span> <span data-ttu-id="747df-596">如果未針對 WCF 服務啟用授權控制，經過驗證的使用者可以獲得權限提升。</span><span class="sxs-lookup"><span data-stu-id="747df-596">If authorization controls are not enabled for WCF services, an authenticated user can achieve privilege escalation.</span></span></p>|

### <a name="example"></a><span data-ttu-id="747df-597">範例</span><span class="sxs-lookup"><span data-stu-id="747df-597">Example</span></span>
<span data-ttu-id="747df-598">下列組態的 hello 執行 hello 服務時，會指示 WCF toonot 核取 hello 授權層級的 hello 用戶端：</span><span class="sxs-lookup"><span data-stu-id="747df-598">hello following configuration instructs WCF toonot check hello authorization level of hello client when executing hello service:</span></span>
```
<behaviors>
    <serviceBehaviors>
        <behavior>
            ...
            <serviceAuthorization principalPermissionMode=""None"" />
        </behavior>
    </serviceBehaviors>
</behaviors>
```
<span data-ttu-id="747df-599">使用服務授權配置 tooverify hello hello 服務方法的呼叫端，因此是授權的 toodo。</span><span class="sxs-lookup"><span data-stu-id="747df-599">Use a service authorization scheme tooverify that hello caller of hello service method is authorized toodo so.</span></span> <span data-ttu-id="747df-600">WCF 提供兩種模式，並允許 hello 定義的自訂授權配置。</span><span class="sxs-lookup"><span data-stu-id="747df-600">WCF provides two modes and allows hello definition of a custom authorization scheme.</span></span> <span data-ttu-id="747df-601">hello UseWindowsGroups 模式會使用 Windows 角色和使用者和 hello UseAspNetRoles 模式會使用 ASP.NET 角色提供者，例如 SQL Server，tooauthenticate。</span><span class="sxs-lookup"><span data-stu-id="747df-601">hello UseWindowsGroups mode uses Windows roles and users and hello UseAspNetRoles mode uses an ASP.NET role provider, such as SQL Server, tooauthenticate.</span></span>

### <a name="example"></a><span data-ttu-id="747df-602">範例</span><span class="sxs-lookup"><span data-stu-id="747df-602">Example</span></span>
<span data-ttu-id="747df-603">hello 下列組態會指示 WCF toomake 確定該 hello 用戶端 hello Administrators 群組的一部分執行 hello 新增服務之前：</span><span class="sxs-lookup"><span data-stu-id="747df-603">hello following configuration instructs WCF toomake sure that hello client is part of hello Administrators group before executing hello Add service:</span></span>
```
<behaviors>
    <serviceBehaviors>
        <behavior>
            ...
            <serviceAuthorization principalPermissionMode=""UseWindowsGroups"" />
        </behavior>
    </serviceBehaviors>
</behaviors>
```
<span data-ttu-id="747df-604">hello 服務然後宣告為 hello 下列：</span><span class="sxs-lookup"><span data-stu-id="747df-604">hello service is then declared as hello following:</span></span>
```
[PrincipalPermission(SecurityAction.Demand,
Role = ""Builtin\\Administrators"")]
public double Add(double n1, double n2)
{
double result = n1 + n2;
return result;
}
```

## <span data-ttu-id="747df-605"><a id="authz-aspnet"></a>在 ASP.NET Web API 中實作適當的授權機制</span><span class="sxs-lookup"><span data-stu-id="747df-605"><a id="authz-aspnet"></a>Implement proper authorization mechanism in ASP.NET Web API</span></span>

| <span data-ttu-id="747df-606">Title</span><span class="sxs-lookup"><span data-stu-id="747df-606">Title</span></span>                   | <span data-ttu-id="747df-607">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-607">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-608">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-608">**Component**</span></span>               | <span data-ttu-id="747df-609">Web API</span><span class="sxs-lookup"><span data-stu-id="747df-609">Web API</span></span> | 
| <span data-ttu-id="747df-610">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-610">**SDL Phase**</span></span>               | <span data-ttu-id="747df-611">建置</span><span class="sxs-lookup"><span data-stu-id="747df-611">Build</span></span> |  
| <span data-ttu-id="747df-612">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-612">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-613">泛型、MVC5</span><span class="sxs-lookup"><span data-stu-id="747df-613">Generic, MVC5</span></span> |
| <span data-ttu-id="747df-614">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-614">**Attributes**</span></span>              | <span data-ttu-id="747df-615">N/A、識別提供者 - ADFS、識別提供者 - Azure AD</span><span class="sxs-lookup"><span data-stu-id="747df-615">N/A, Identity Provider - ADFS, Identity Provider - Azure AD</span></span> |
| <span data-ttu-id="747df-616">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-616">**References**</span></span>              | [<span data-ttu-id="747df-617">ASP.NET Web API 中的驗證與授權</span><span class="sxs-lookup"><span data-stu-id="747df-617">Authentication and Authorization in ASP.NET Web API</span></span>](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api) |
| <span data-ttu-id="747df-618">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-618">**Steps**</span></span> | <p><span data-ttu-id="747df-619">Hello 應用程式使用者的角色資訊可以從 Azure AD 或 ADFS 宣告如果 hello 應用程式身分識別提供者依賴它們或 hello 應用程式本身可能會提供它。</span><span class="sxs-lookup"><span data-stu-id="747df-619">Role information for hello application users can be derived from Azure AD or ADFS claims if hello application relies on them as Identity provider or hello application itself might provided it.</span></span> <span data-ttu-id="747df-620">在上述任一情況，hello 自訂授權實作應該驗證 hello 的使用者角色資訊。</span><span class="sxs-lookup"><span data-stu-id="747df-620">In any of these cases, hello custom authorization implementation should validate hello user role information.</span></span></p><p><span data-ttu-id="747df-621">Hello 應用程式使用者的角色資訊可以從 Azure AD 或 ADFS 宣告如果 hello 應用程式身分識別提供者依賴它們或 hello 應用程式本身可能會提供它。</span><span class="sxs-lookup"><span data-stu-id="747df-621">Role information for hello application users can be derived from Azure AD or ADFS claims if hello application relies on them as Identity provider or hello application itself might provided it.</span></span> <span data-ttu-id="747df-622">在上述任一情況，hello 自訂授權實作應該驗證 hello 的使用者角色資訊。</span><span class="sxs-lookup"><span data-stu-id="747df-622">In any of these cases, hello custom authorization implementation should validate hello user role information.</span></span></p>

### <a name="example"></a><span data-ttu-id="747df-623">範例</span><span class="sxs-lookup"><span data-stu-id="747df-623">Example</span></span>
```C#
[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited = true, AllowMultiple = true)]
public class ApiAuthorizeAttribute : System.Web.Http.AuthorizeAttribute
{
        public async override Task OnAuthorizationAsync(HttpActionContext actionContext, CancellationToken cancellationToken)
        {
            if (actionContext == null)
            {
                throw new Exception();
            }

            if (!string.IsNullOrEmpty(base.Roles))
            {
                bool isAuthorized = ValidateRoles(actionContext);
                if (!isAuthorized)
                {
                    HandleUnauthorizedRequest(actionContext);
                }
            }

            base.OnAuthorization(actionContext);
        }

public bool ValidateRoles(actionContext)
{
   //Authorization logic here; returns true or false
}

}
```
<span data-ttu-id="747df-624">所有 hello 控制器和動作方法需要 tooprotected 應該可以使用裝飾屬性上方。</span><span class="sxs-lookup"><span data-stu-id="747df-624">All hello controllers and action methods which needs tooprotected should be decorated with above attribute.</span></span>
```C#
[ApiAuthorize]
public class CustomController : ApiController
{
     //Application code goes here
}
```

## <span data-ttu-id="747df-625"><a id="device-permission"></a>在 hello 裝置執行授權檢查，如果支援需要不同的權限層級的各種動作</span><span class="sxs-lookup"><span data-stu-id="747df-625"><a id="device-permission"></a>Perform authorization checks in hello device if it supports various actions that require different permission levels</span></span>

| <span data-ttu-id="747df-626">Title</span><span class="sxs-lookup"><span data-stu-id="747df-626">Title</span></span>                   | <span data-ttu-id="747df-627">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-627">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-628">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-628">**Component**</span></span>               | <span data-ttu-id="747df-629">IoT 裝置</span><span class="sxs-lookup"><span data-stu-id="747df-629">IoT Device</span></span> | 
| <span data-ttu-id="747df-630">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-630">**SDL Phase**</span></span>               | <span data-ttu-id="747df-631">建置</span><span class="sxs-lookup"><span data-stu-id="747df-631">Build</span></span> |  
| <span data-ttu-id="747df-632">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-632">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-633">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-633">Generic</span></span> |
| <span data-ttu-id="747df-634">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-634">**Attributes**</span></span>              | <span data-ttu-id="747df-635">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-635">N/A</span></span>  |
| <span data-ttu-id="747df-636">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-636">**References**</span></span>              | <span data-ttu-id="747df-637">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-637">N/A</span></span>  |
| <span data-ttu-id="747df-638">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-638">**Steps**</span></span> | <p><span data-ttu-id="747df-639">裝置 hello 應該授權 hello 呼叫端 toocheck hello 呼叫端是否要求 hello 所需的權限 tooperform hello 動作。</span><span class="sxs-lookup"><span data-stu-id="747df-639">hello Device should authorize hello caller toocheck if hello caller has hello required permissions tooperform hello action requested.</span></span> <span data-ttu-id="747df-640">例如讓假設 hello 裝置是可從 hello 雲端監視 Smart 門 Lock 加上它提供功能，例如從遠端鎖定 hello 媒體櫃門。</span><span class="sxs-lookup"><span data-stu-id="747df-640">For e.g. Lets say hello device is a Smart Door Lock that can be monitored from hello cloud, plus it provides functionalities like Remotely locking hello door.</span></span></p><p><span data-ttu-id="747df-641">hello 智慧門鎖定在有人實際隨附附近 hello 門卡片時，才提供解除鎖定功能。</span><span class="sxs-lookup"><span data-stu-id="747df-641">hello Smart Door Lock provides unlocking functionality only when someone physically comes near hello door with a Card.</span></span> <span data-ttu-id="747df-642">在此情況下，hello hello 遠端命令和控制項的實作應該完成的方式，它不提供任何功能 toounlock hello 門因為 hello 雲端閘道無法授權的 toosend 命令 toounlock hello 媒體櫃門。</span><span class="sxs-lookup"><span data-stu-id="747df-642">In this case, hello implementation of hello remote command and control should be done in such a way that it does not provide any functionality toounlock hello door as hello cloud gateway is not authorized toosend a command toounlock hello door.</span></span></p>|

## <span data-ttu-id="747df-643"><a id="field-permission"></a>執行授權檢查 hello 閘道欄位中，如果支援需要不同的權限層級的各種動作</span><span class="sxs-lookup"><span data-stu-id="747df-643"><a id="field-permission"></a>Perform authorization checks in hello Field Gateway if it supports various actions that require different permission levels</span></span>

| <span data-ttu-id="747df-644">Title</span><span class="sxs-lookup"><span data-stu-id="747df-644">Title</span></span>                   | <span data-ttu-id="747df-645">詳細資料</span><span class="sxs-lookup"><span data-stu-id="747df-645">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="747df-646">**元件**</span><span class="sxs-lookup"><span data-stu-id="747df-646">**Component**</span></span>               | <span data-ttu-id="747df-647">IoT 現場閘道</span><span class="sxs-lookup"><span data-stu-id="747df-647">IoT Field Gateway</span></span> | 
| <span data-ttu-id="747df-648">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="747df-648">**SDL Phase**</span></span>               | <span data-ttu-id="747df-649">建置</span><span class="sxs-lookup"><span data-stu-id="747df-649">Build</span></span> |  
| <span data-ttu-id="747df-650">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="747df-650">**Applicable Technologies**</span></span> | <span data-ttu-id="747df-651">泛型</span><span class="sxs-lookup"><span data-stu-id="747df-651">Generic</span></span> |
| <span data-ttu-id="747df-652">**屬性**</span><span class="sxs-lookup"><span data-stu-id="747df-652">**Attributes**</span></span>              | <span data-ttu-id="747df-653">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-653">N/A</span></span>  |
| <span data-ttu-id="747df-654">**參考**</span><span class="sxs-lookup"><span data-stu-id="747df-654">**References**</span></span>              | <span data-ttu-id="747df-655">N/A</span><span class="sxs-lookup"><span data-stu-id="747df-655">N/A</span></span>  |
| <span data-ttu-id="747df-656">**步驟**</span><span class="sxs-lookup"><span data-stu-id="747df-656">**Steps**</span></span> | <span data-ttu-id="747df-657">hello 欄位閘道應該授權 hello 呼叫端 toocheck hello 呼叫端是否要求 hello 所需的權限 tooperform hello 動作。</span><span class="sxs-lookup"><span data-stu-id="747df-657">hello Field Gateway should authorize hello caller toocheck if hello caller has hello required permissions tooperform hello action requested.</span></span> <span data-ttu-id="747df-658">例如有應該是不同的權限的系統管理員使用者介面/API 使用 tooconfigure 連接 tooit 欄位閘道 v/s 的裝置。</span><span class="sxs-lookup"><span data-stu-id="747df-658">For e.g. there should be different permissions for an admin user interface/API used tooconfigure a field gateway v/s devices that connect tooit.</span></span>|
