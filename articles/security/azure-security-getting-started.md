---
title: "開始使用 Microsoft Azure 安全性 | Microsoft Docs"
description: "本文提供 Microsoft Azure 安全性功能的概觀，和將資產移轉至雲端提供者的組織所需的一般考量。"
services: security
documentationcenter: na
author: YuriDio
manager: swadhwa
editor: TomSh
ms.assetid: 8d8a0088-c85a-48e7-bd04-2bc7b78b0691
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 01/09/2017
ms.author: yurid
ms.openlocfilehash: eb53ed852b6175fbc7faea44a243e8c7d5ce1753
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="getting-started-with-microsoft-azure-security"></a><span data-ttu-id="30cfe-103">開始使用 Microsoft Azure 安全性</span><span class="sxs-lookup"><span data-stu-id="30cfe-103">Getting started with Microsoft Azure security</span></span>
<span data-ttu-id="30cfe-104">當您建置 IT 資產或將其移轉至雲端提供者時，您可以依賴該組織的能力來保護您的應用程式和資料，並利用他們所提供的安全性控制來管理您雲端架構資產的安全性。</span><span class="sxs-lookup"><span data-stu-id="30cfe-104">When you build or migrate IT assets to a cloud provider, you are relying on that organization’s abilities to protect your applications and data with the services and the controls they provide to manage the security of your cloud-based assets.</span></span>

<span data-ttu-id="30cfe-105">Azure 的基礎結構設計涵蓋設備與應用程式，可同時裝載數以百萬計的客戶，並提供可靠的基礎供企業符合其安全性需求。</span><span class="sxs-lookup"><span data-stu-id="30cfe-105">Azure’s infrastructure is designed from the facility to applications for hosting millions of customers simultaneously, and it provides a trustworthy foundation upon which businesses can meet their security needs.</span></span> <span data-ttu-id="30cfe-106">此外，Azure 也為您提供各式各樣可設定的安全性選項及加以控制的功能，讓您可以自訂安全性以符合部署的特殊需求。</span><span class="sxs-lookup"><span data-stu-id="30cfe-106">In addition, Azure provides you with a wide array of configurable security options and the ability to control them so that you can customize security to meet the unique requirements of your deployments.</span></span>

<span data-ttu-id="30cfe-107">在這篇 Azure 安全性概觀文章中，我們將探討：</span><span class="sxs-lookup"><span data-stu-id="30cfe-107">In this overview article on Azure security, we’ll look at:</span></span>

* <span data-ttu-id="30cfe-108">您可以用來保護 Azure 中的服務和資料的 Azure 服務與功能。</span><span class="sxs-lookup"><span data-stu-id="30cfe-108">Azure services and features you can use to help secure your services and data within Azure.</span></span>
* <span data-ttu-id="30cfe-109">Microsoft 如何保護 Azure 基礎結構以保護您的資料和應用程式。</span><span class="sxs-lookup"><span data-stu-id="30cfe-109">How Microsoft secures the Azure infrastructure to help protect your data and applications.</span></span>

## <a name="identity-and-access-management"></a><span data-ttu-id="30cfe-110">身分識別和存取管理</span><span class="sxs-lookup"><span data-stu-id="30cfe-110">Identity and access management</span></span>
<span data-ttu-id="30cfe-111">控制對 IT 基礎結構、資料和應用程式的存取，是很重要的。</span><span class="sxs-lookup"><span data-stu-id="30cfe-111">Controlling access to IT infrastructure, data, and applications is critical.</span></span> <span data-ttu-id="30cfe-112">Microsoft Azure 提供這些功能，例如 Azure Active Directory (Azure AD)、Azure 儲存體等服務，並且支援多項標準和 API。</span><span class="sxs-lookup"><span data-stu-id="30cfe-112">Microsoft Azure delivers these capabilities by services such as Azure Active Directory (Azure AD), Azure Storage, and support for numerous standards and APIs.</span></span>

<span data-ttu-id="30cfe-113">[Azure AD](../active-directory/active-directory-whatis.md) 是一種身分識別儲存機制和引擎，可提供組織的使用者、群組和物件的驗證、授權和存取控制功能。</span><span class="sxs-lookup"><span data-stu-id="30cfe-113">[Azure AD](../active-directory/active-directory-whatis.md) is an identity repository and engine that provides authentication, authorization, and access control for an organization's users, groups, and objects.</span></span> <span data-ttu-id="30cfe-114">Azure AD 也為開發人員提供了有效方式，可在其應用程式中整合身分識別管理。</span><span class="sxs-lookup"><span data-stu-id="30cfe-114">Azure AD also offers developers an effective way to integrate identity management in their applications.</span></span> <span data-ttu-id="30cfe-115">業界標準通訊協定如 [SAML 2.0](https://en.wikipedia.org/wiki/SAML_2.0)、[WS-Federation](https://msdn.microsoft.com/library/bb498017.aspx) 和 [OpenID Connect](http://openid.net/connect/) 讓您得以憑藉 .NET、Java、Node.js 和 PHP 的平台實作登入功能。</span><span class="sxs-lookup"><span data-stu-id="30cfe-115">Industry-standard protocols such as [SAML 2.0](https://en.wikipedia.org/wiki/SAML_2.0), [WS-Federation](https://msdn.microsoft.com/library/bb498017.aspx), and [OpenID Connect](http://openid.net/connect/) make sign-in possible on platforms such as .NET, Java, Node.js, and PHP.</span></span>

<span data-ttu-id="30cfe-116">REST 型圖形 API 可讓開發人員從任何平台讀取及寫入目錄。</span><span class="sxs-lookup"><span data-stu-id="30cfe-116">The REST-based Graph API enables developers to read and write to the directory from any platform.</span></span> <span data-ttu-id="30cfe-117">透過所提供的 [OAuth 2.0](http://oauth.net/2/) 支援，開發人員不僅可以建置整合了 Microsoft 與第三方 Web API 的行動應用程式及 Web 應用程式，還可建置自己的安全 Web API。</span><span class="sxs-lookup"><span data-stu-id="30cfe-117">Through support for [OAuth 2.0](http://oauth.net/2/), developers can build mobile and web applications that integrate with Microsoft and third-party web APIs, and build their own secure web APIs.</span></span> <span data-ttu-id="30cfe-118">現已提供各種適用於 .Net、Windows 市集、iOS 和 Android 的開放原始碼用戶端程式庫，而且另有更多的程式庫仍在開發當中。</span><span class="sxs-lookup"><span data-stu-id="30cfe-118">Open-source client libraries are available for .Net, Windows Store, iOS, and Android, with additional libraries under development.</span></span>

### <a name="how-azure-enables-identity-and-access-management"></a><span data-ttu-id="30cfe-119">Azure 如何啟用身分識別與存取管理</span><span class="sxs-lookup"><span data-stu-id="30cfe-119">How Azure enables identity and access management</span></span>
<span data-ttu-id="30cfe-120">Azure AD 可以作為組織的獨立式雲端目錄，或在您現有的內部部署 Active Directory 中作為整合式解決方案。</span><span class="sxs-lookup"><span data-stu-id="30cfe-120">Azure AD can be used as a standalone cloud directory for your organization or as an integrated solution with your existing on-premises Active Directory.</span></span> <span data-ttu-id="30cfe-121">整合功能包括目錄同步和單一登入 (SSO)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-121">Some integration features include directory sync and single sign-on (SSO).</span></span> <span data-ttu-id="30cfe-122">這些功能使您現有的內部部署身分識別得以延伸至雲端，並改善了系統管理員和使用者經驗。</span><span class="sxs-lookup"><span data-stu-id="30cfe-122">These extend the reach of your existing on-premises identities into the cloud and improve the admin and user experience.</span></span>

<span data-ttu-id="30cfe-123">身分識別與存取管理的一些其他功能包括：</span><span class="sxs-lookup"><span data-stu-id="30cfe-123">Some other capabilities for identity and access management include:</span></span>

* <span data-ttu-id="30cfe-124">Azure AD 可啟用 SaaS 應用程式的 [SSO](https://azure.microsoft.com/documentation/videos/overview-of-single-sign-on/)，無論應用程式裝載於何處。</span><span class="sxs-lookup"><span data-stu-id="30cfe-124">Azure AD enables [SSO](https://azure.microsoft.com/documentation/videos/overview-of-single-sign-on/) to SaaS applications, regardless of where they are hosted.</span></span> <span data-ttu-id="30cfe-125">有些應用程式會與 Azure AD 同盟，有些則使用密碼 SSO。</span><span class="sxs-lookup"><span data-stu-id="30cfe-125">Some applications are federated with Azure AD, and others use password SSO.</span></span> <span data-ttu-id="30cfe-126">同盟應用程式也支援使用者佈建和密碼儲存庫存。</span><span class="sxs-lookup"><span data-stu-id="30cfe-126">Federated applications can also support user provisioning and password vaulting.</span></span>
* <span data-ttu-id="30cfe-127">對 [Azure 儲存體](https://azure.microsoft.com/services/storage/)的資料存取可透過驗證來控制。</span><span class="sxs-lookup"><span data-stu-id="30cfe-127">Access to data in [Azure Storage](https://azure.microsoft.com/services/storage/) is controlled via authentication.</span></span> <span data-ttu-id="30cfe-128">每個儲存體帳戶都有主要金鑰 ([儲存體帳戶金鑰](https://msdn.microsoft.com/library/azure/ee460785.aspx)，或稱 SAK) 和次要金鑰 (共用存取簽章，或稱 SAS)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-128">Each storage account has a primary key ([storage account key](https://msdn.microsoft.com/library/azure/ee460785.aspx), or SAK) and a secondary secret key (the shared access signature, or SAS).</span></span>
* <span data-ttu-id="30cfe-129">Azure AD 可透過與內部部署目錄的同盟、同步和複寫提供「身分識別即服務」(使用 [Active Directory Federation Services](../active-directory/fundamentals-identity.md))。</span><span class="sxs-lookup"><span data-stu-id="30cfe-129">Azure AD provides Identity as a Service through federation by using [Active Directory Federation Services](../active-directory/fundamentals-identity.md), synchronization, and replication with on-premises directories.</span></span>
* <span data-ttu-id="30cfe-130">[Azure Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication.md) 是一種多因素驗證服務，需要使用者同時使用行動裝置應用程式、通話或簡訊來驗證登入。</span><span class="sxs-lookup"><span data-stu-id="30cfe-130">[Azure Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication.md) is the multi-factor authentication service that requires users to verify sign-ins by using a mobile app, phone call, or text message.</span></span> <span data-ttu-id="30cfe-131">它可與 Azure Active Directory 搭配使用，來協助保護內部部署資源和 Azure Multi-Factor Authentication Server 的安全，它還可以使用 SDK 來與自訂應用程式和目錄搭配使用。</span><span class="sxs-lookup"><span data-stu-id="30cfe-131">It can be used with Azure AD to help secure on-premises resources with the Azure Multi-Factor Authentication server, and also with custom applications and directories using the SDK.</span></span>
* <span data-ttu-id="30cfe-132">[Azure AD 網域服務](https://azure.microsoft.com/services/active-directory-ds/)可讓您將 Azure 虛擬機器加入網域，而不需要部署網域控制站。</span><span class="sxs-lookup"><span data-stu-id="30cfe-132">[Azure AD Domain Services](https://azure.microsoft.com/services/active-directory-ds/) lets you join Azure virtual machines to a domain without deploying domain controllers.</span></span> <span data-ttu-id="30cfe-133">您可以登入使用公司的 Active Directory 認證登入這些虛擬機器，並使用群組原則管理加入網域的虛擬機器，以對您所有的 Azure 虛擬機器強制執行安全性基準。</span><span class="sxs-lookup"><span data-stu-id="30cfe-133">You can sign in to these virtual machines with your corporate Active Directory credentials and administer domain-joined virtual machines by using Group Policy to enforce security baselines on all your Azure virtual machines.</span></span>
* <span data-ttu-id="30cfe-134">[Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) 所提供的高可用性全域身分識別管理服務，可用於處理數億個身分識別的消費者端應用程式。</span><span class="sxs-lookup"><span data-stu-id="30cfe-134">[Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) provides a highly available global-identity management service for consumer-facing applications that scales to hundreds of millions of identities.</span></span> <span data-ttu-id="30cfe-135">此服務可跨行動及 Web 平台進行整合。</span><span class="sxs-lookup"><span data-stu-id="30cfe-135">It can be integrated across mobile and web platforms.</span></span> <span data-ttu-id="30cfe-136">可自訂的使用經驗讓您的消費者可以使用其現有的社交帳戶，或是建立新的認證來登入您所有的應用程式。</span><span class="sxs-lookup"><span data-stu-id="30cfe-136">Your consumers can sign in to all your applications through customizable experiences by using their existing social accounts or by creating new credentials.</span></span>

## <a name="data-access-control-and-encryption"></a><span data-ttu-id="30cfe-137">資料存取控制與加密</span><span class="sxs-lookup"><span data-stu-id="30cfe-137">Data access control and encryption</span></span>
<span data-ttu-id="30cfe-138">Microsoft 對於 Azure 作業採取「責任區分」原則和[最小權限](https://en.wikipedia.org/wiki/Principle_of_least_privilege)原則。</span><span class="sxs-lookup"><span data-stu-id="30cfe-138">Microsoft employs the principles of Separation of Duties and [Least Privilege](https://en.wikipedia.org/wiki/Principle_of_least_privilege) throughout Azure operations.</span></span> <span data-ttu-id="30cfe-139">Azure 支援人員的資料存取需要您明確的授權，且授權以具有記錄和稽核的「當下」為基礎，在工作處理完成後即撤銷。</span><span class="sxs-lookup"><span data-stu-id="30cfe-139">Access to data by Azure support personnel requires your explicit permission and is granted on a “just-in-time” basis that is logged and audited, then revoked after completion of the engagement.</span></span>

<span data-ttu-id="30cfe-140">Azure 也提供多個功能，在資料傳輸和待用時保護資料。</span><span class="sxs-lookup"><span data-stu-id="30cfe-140">Azure also provides multiple capabilities for protecting data in transit and at rest.</span></span> <span data-ttu-id="30cfe-141">這包括資料、檔案、應用程式、服務、通訊和磁碟機的加密。</span><span class="sxs-lookup"><span data-stu-id="30cfe-141">This includes encryption for data, files, applications, services, communications, and drives.</span></span> <span data-ttu-id="30cfe-142">您可以先將資訊加密再將其放入 Azure 中，並將金鑰存放在內部部署資料中心內。</span><span class="sxs-lookup"><span data-stu-id="30cfe-142">You can encrypt information before placing it in Azure, and also store keys in your on-premises datacenters.</span></span>

![Azure 中的 Microsoft Antimalware](./media/azure-security-getting-started/sec-azgsfig1.PNG)

### <a name="azure-encryption-technologies"></a><span data-ttu-id="30cfe-144">Azure 加密技術</span><span class="sxs-lookup"><span data-stu-id="30cfe-144">Azure encryption technologies</span></span>
<span data-ttu-id="30cfe-145">您可以使用 [Azure AD 報告](../active-directory/active-directory-reporting-audit-events.md)，收集訂用帳戶環境的系統管理存取權詳細資料。</span><span class="sxs-lookup"><span data-stu-id="30cfe-145">You can gather details on administrative access to your subscription environment by using [Azure AD Reporting](../active-directory/active-directory-reporting-audit-events.md).</span></span> <span data-ttu-id="30cfe-146">您可以在包含 Azure 敏感資訊的 VHD 上設定 [BitLocker 磁碟機加密](https://technet.microsoft.com/library/cc732774.aspx)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-146">You can configure [BitLocker Drive Encryption](https://technet.microsoft.com/library/cc732774.aspx) on VHDs containing sensitive information in Azure.</span></span>

<span data-ttu-id="30cfe-147">Azure 中其他可協助您保護資料的功能包括：</span><span class="sxs-lookup"><span data-stu-id="30cfe-147">Other capabilities in Azure that will assist you to keep your data secure include:</span></span>

* <span data-ttu-id="30cfe-148">應用程式開發人員可以使用 Windows [CryptoAPI](https://msdn.microsoft.com/library/ms867086.aspx) 和 .NET Framework，在他們部署於 Azure 內的應用程式中內建加密功能。</span><span class="sxs-lookup"><span data-stu-id="30cfe-148">Application developers can build encryption into the applications they deploy in Azure by using the Windows [CryptoAPI](https://msdn.microsoft.com/library/ms867086.aspx) and .NET Framework.</span></span>
* <span data-ttu-id="30cfe-149">使用 Azure Blob 儲存體用戶端加密完全控制金鑰。</span><span class="sxs-lookup"><span data-stu-id="30cfe-149">Completely control the keys with client-side encryption for Azure Blob storage.</span></span> <span data-ttu-id="30cfe-150">儲存體服務永遠不會看見金鑰，且無法解密資料。</span><span class="sxs-lookup"><span data-stu-id="30cfe-150">The storage service never sees the keys and is incapable of decrypting the data.</span></span>
* <span data-ttu-id="30cfe-151">[Azure Rights Management (Azure RMS)](https://technet.microsoft.com/library/jj585026.aspx) (具有 [RMS SDK](https://msdn.microsoft.com/library/dn758244.aspx)) 可透過原則型存取管理，提供檔案和資料層級加密與防止資料外洩功能。</span><span class="sxs-lookup"><span data-stu-id="30cfe-151">[Azure Rights Management (Azure RMS)](https://technet.microsoft.com/library/jj585026.aspx) (with the [RMS SDK](https://msdn.microsoft.com/library/dn758244.aspx)) provides file and data-level encryption and data-leak prevention through policy-based access management.</span></span>
* <span data-ttu-id="30cfe-152">Azure 支援 SQL Server 虛擬機器中的[資料表層級和資料行層級加密 (TDE/CLE)](http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/12/recommendations-for-using-cell-level-encryption-in-azure-sql-database.aspx)，並支援資料中心裡的第三方內部部署金鑰管理伺服器。</span><span class="sxs-lookup"><span data-stu-id="30cfe-152">Azure supports [table-level and column-level encryption (TDE/CLE)](http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/12/recommendations-for-using-cell-level-encryption-in-azure-sql-database.aspx) in SQL Server virtual machines, and it supports third-party on-premises key management servers in datacenters.</span></span>
* <span data-ttu-id="30cfe-153">每個 Azure 租用戶的儲存體帳戶金鑰、共用存取簽章、管理憑證和其他金鑰都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="30cfe-153">Storage Account Keys, Shared Access Signatures, management certificates, and other keys are unique to each Azure tenant.</span></span>
* <span data-ttu-id="30cfe-154">Azure [StorSimple](http://www.microsoft.com/server-cloud/products/storsimple/overview.aspx) 混合式儲存體會先透過 128 位元的公開/私密金鑰組將資料加密，再將其上傳至 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="30cfe-154">Azure [StorSimple](http://www.microsoft.com/server-cloud/products/storsimple/overview.aspx) hybrid storage encrypts data via a 128-bit public/private key pair before uploading it to Azure Storage.</span></span>
* <span data-ttu-id="30cfe-155">Azure 支援和使用多種加密機制，包括 SSL/TLS、IPsec 和 AES，視資料類型與容器和傳輸而定。</span><span class="sxs-lookup"><span data-stu-id="30cfe-155">Azure supports and uses numerous encryption mechanisms, including SSL/TLS, IPsec, and AES, depending on the data types, containers, and transports.</span></span>

## <a name="virtualization"></a><span data-ttu-id="30cfe-156">虛擬化</span><span class="sxs-lookup"><span data-stu-id="30cfe-156">Virtualization</span></span>
<span data-ttu-id="30cfe-157">Azure 平台使用虛擬化環境。</span><span class="sxs-lookup"><span data-stu-id="30cfe-157">The Azure platform uses a virtualized environment.</span></span> <span data-ttu-id="30cfe-158">使用者執行個體以未存取實體主機伺服器的獨立虛擬機器形式運作，而此隔離會使用實體[處理器 (ring-0/ring-3) 權限層級](https://en.wikipedia.org/wiki/Protection_ring)來強制執行。</span><span class="sxs-lookup"><span data-stu-id="30cfe-158">User instances operate as standalone virtual machines that do not have access to a physical host server, and this isolation is enforced by using physical [processor (ring-0/ring-3) privilege levels](https://en.wikipedia.org/wiki/Protection_ring).</span></span>

<span data-ttu-id="30cfe-159">Ring 0 是最高權限，3 是最低。</span><span class="sxs-lookup"><span data-stu-id="30cfe-159">Ring 0 is the most privileged and 3 is the least.</span></span> <span data-ttu-id="30cfe-160">客體 OS 會在權限較低的 Ring 1 中執行，應用程式則在權限最低的 Ring 3 中執行。</span><span class="sxs-lookup"><span data-stu-id="30cfe-160">The guest OS runs in a lesser-privileged Ring 1, and applications run in the least privileged Ring 3.</span></span> <span data-ttu-id="30cfe-161">實體資源的這種虛擬化可讓客體 OS 與 Hypervisor 之間明確區隔，進而使兩者之間的安全性有進一步的區隔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-161">This virtualization of physical resources leads to a clear separation between guest OS and hypervisor, resulting in additional security separation between the two.</span></span>

<span data-ttu-id="30cfe-162">Azure Hypervisor 作用相當於微核心，可將來自客體虛擬機器的所有硬體存取要求傳遞至主機，以使用名為 VMBus 的共用記憶體介面進行處理。</span><span class="sxs-lookup"><span data-stu-id="30cfe-162">The Azure hypervisor acts like a micro-kernel and passes all hardware access requests from guest virtual machines to the host for processing by using a shared-memory interface called VMBus.</span></span> <span data-ttu-id="30cfe-163">這可以防止使用者取得系統的原始讀取/寫入/執行存取權，並降低共用系統資源的風險。</span><span class="sxs-lookup"><span data-stu-id="30cfe-163">This prevents users from obtaining raw read/write/execute access to the system and mitigates the risk of sharing system resources.</span></span>

![Azure 中的 Microsoft Antimalware](./media/azure-security-getting-started/sec-azgsfig2.PNG)

### <a name="how-azure-implements-virtualization"></a><span data-ttu-id="30cfe-165">Azure 如何實作虛擬化</span><span class="sxs-lookup"><span data-stu-id="30cfe-165">How Azure implements virtualization</span></span>
<span data-ttu-id="30cfe-166">Azure 會使用 Hypervisor 防火牆 (封包篩選器)；此防火牆會在 Hypervisor 中實作，並由網狀架構控制器代理程式設定。</span><span class="sxs-lookup"><span data-stu-id="30cfe-166">Azure uses a hypervisor firewall (packet filter) that is implemented in the hypervisor and configured by a fabric controller agent.</span></span> <span data-ttu-id="30cfe-167">這有助於防止租用戶受到未經授權的存取。</span><span class="sxs-lookup"><span data-stu-id="30cfe-167">This helps protect tenants from unauthorized access.</span></span> <span data-ttu-id="30cfe-168">根據預設，虛擬機器建立時會封鎖所有流量，隨後，網狀架構控制器代理程式會設定封包篩選器，以新增*規則和例外狀況*來允許授權的流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-168">By default, all traffic is blocked when a virtual machine is created, and then the fabric controller agent configures the packet filter to add *rules and exceptions* to allow authorized traffic.</span></span>

<span data-ttu-id="30cfe-169">在此介紹兩種規則：</span><span class="sxs-lookup"><span data-stu-id="30cfe-169">There are two categories of rules that are programmed here:</span></span>

* <span data-ttu-id="30cfe-170">**機器組態或基礎結構規則**：依預設會封鎖所有通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-170">**Machine configuration or infrastructure rules**: By default, all communication is blocked.</span></span> <span data-ttu-id="30cfe-171">有部分例外狀況可允許虛擬機器傳送與接收 DHCP 和 DNS 流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-171">There are exceptions to allow a virtual machine to send and receive DHCP and DNS traffic.</span></span> <span data-ttu-id="30cfe-172">虛擬機器也可以將流量傳送至「公用」網際網路，以及將流量傳送至叢集和 OS 啟用伺服器內的其他虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="30cfe-172">Virtual machines can also send traffic to the “public” internet and send traffic to other virtual machines within the cluster and the OS activation server.</span></span> <span data-ttu-id="30cfe-173">虛擬機器的連出目的地允許清單不包含 Azure 路由器子網路、Azure 管理後端和其他 Microsoft 屬性。</span><span class="sxs-lookup"><span data-stu-id="30cfe-173">The virtual machines’ list of allowed outgoing destinations does not include Azure router subnets, Azure management back end, and other Microsoft properties.</span></span>
* <span data-ttu-id="30cfe-174">**角色組態檔**：這會根據租用戶的服務模型定義輸入存取控制清單 (ACL)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-174">**Role configuration file**: This defines the inbound Access Control Lists (ACLs) based on the tenant's service model.</span></span> <span data-ttu-id="30cfe-175">例如，如果租用戶在特定虛擬機器的連接埠 80 上有 Web 前端，當您在 [Azure 傳統部署模型](../azure-resource-manager/resource-manager-deployment-model.md)中設定端點時，Azure 會將 TCP 連接埠 80 開放給所有 IP。</span><span class="sxs-lookup"><span data-stu-id="30cfe-175">For example, if a tenant has a Web front end on port 80 on a certain virtual machine, then Azure opens TCP port 80 to all IPs if you’re configuring an endpoint in the [Azure classic deployment model](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="30cfe-176">如果虛擬機器上執行後端或背景工作角色，則它只會對相同租用戶中的虛擬機器開啟背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="30cfe-176">If the virtual machine has a back end or worker role running, then it opens the worker role only to the virtual machine within the same tenant.</span></span>

## <a name="isolation"></a><span data-ttu-id="30cfe-177">隔離</span><span class="sxs-lookup"><span data-stu-id="30cfe-177">Isolation</span></span>
<span data-ttu-id="30cfe-178">另一個重要的雲端安全性需求是區隔性，以防止部署與共用的多租用戶架構之間未經授權和非預期的資訊傳輸。</span><span class="sxs-lookup"><span data-stu-id="30cfe-178">Another important cloud security requirement is separation to prevent unauthorized and unintentional transfer of information between deployments in a shared multi-tenant architecture.</span></span>

<span data-ttu-id="30cfe-179">Azure 會透過 VLAN 隔離、ACL、負載平衡器和 IP 篩選器，實作[網路存取控制](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/)和隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-179">Azure implements [network access control](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/) and segregation through VLAN isolation, ACLs, load balancers, and IP filters.</span></span> <span data-ttu-id="30cfe-180">它會限制外部流量輸入您定義的虛擬機器上的連接埠和通訊協定。</span><span class="sxs-lookup"><span data-stu-id="30cfe-180">It restricts external traffic inbound to ports and protocols on your virtual machines that you define.</span></span> <span data-ttu-id="30cfe-181">Azure 會實作網路篩選以防止假冒流量，並將傳入和傳出的流量限定於信任的平台元件。</span><span class="sxs-lookup"><span data-stu-id="30cfe-181">Azure implements network filtering to prevent spoofed traffic and restrict incoming and outgoing traffic to trusted platform components.</span></span> <span data-ttu-id="30cfe-182">對於依預設拒絕流量的界限保護裝置，會實作流量原則。</span><span class="sxs-lookup"><span data-stu-id="30cfe-182">Traffic flow policies are implemented on boundary protection devices that deny traffic by default.</span></span>

![Azure 中的 Microsoft Antimalware](./media/azure-security-getting-started/sec-azgsfig3.PNG)

<span data-ttu-id="30cfe-184">網路位址轉譯 (NAT) 會用來區隔外部網路流量與內部流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-184">Network Address Translation (NAT) is used to separate internal network traffic from external traffic.</span></span> <span data-ttu-id="30cfe-185">內部流量不可在外部路由傳送。</span><span class="sxs-lookup"><span data-stu-id="30cfe-185">Internal traffic is not externally routable.</span></span> <span data-ttu-id="30cfe-186">可在外部路由傳送的[虛擬 IP 位址](http://blogs.msdn.com/b/cloud_solution_architect/archive/2014/11/08/vips-dips-and-pips-in-microsoft-azure.aspx)，會轉譯成只能在 Azure 內路由傳送的[內部動態 IP](http://blogs.msdn.com/b/cloud_solution_architect/archive/2014/11/08/vips-dips-and-pips-in-microsoft-azure.aspx) 位址。</span><span class="sxs-lookup"><span data-stu-id="30cfe-186">[Virtual IP addresses](http://blogs.msdn.com/b/cloud_solution_architect/archive/2014/11/08/vips-dips-and-pips-in-microsoft-azure.aspx) that are externally routable are translated into [internal Dynamic IP](http://blogs.msdn.com/b/cloud_solution_architect/archive/2014/11/08/vips-dips-and-pips-in-microsoft-azure.aspx) addresses that are only routable within Azure.</span></span>

<span data-ttu-id="30cfe-187">對 Azure 虛擬機器的外部流量會在路由器、負載平衡器和第 3 層交換器上透過 ACL 進行防火牆處理。</span><span class="sxs-lookup"><span data-stu-id="30cfe-187">External traffic to Azure virtual machines is firewalled via ACLs on routers, load balancers, and Layer 3 switches.</span></span> <span data-ttu-id="30cfe-188">只有特定的已知通訊協定可被允許。</span><span class="sxs-lookup"><span data-stu-id="30cfe-188">Only specific known protocols are permitted.</span></span> <span data-ttu-id="30cfe-189">設定的 ACL 會限制從客體虛擬機器到用於管理的其他 VLAN 的流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-189">ACLs are in place to limit traffic originating from guest virtual machines to other VLANs used for management.</span></span> <span data-ttu-id="30cfe-190">此外也會透過主機 OS 上的 IP 篩選器來篩選流量，進一步限制資料連結與網路層級上的流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-190">In addition, traffic filtered via IP filters on the host OS further limits the traffic on both data link and network layers.</span></span>

### <a name="how-azure-implements-isolation"></a><span data-ttu-id="30cfe-191">Azure 如何實作隔離</span><span class="sxs-lookup"><span data-stu-id="30cfe-191">How Azure implements isolation</span></span>
<span data-ttu-id="30cfe-192">Azure 網狀架構控制器會負責配置基礎結構資源給租用戶工作負載，以及管理從主機到虛擬機器的單向通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-192">The Azure Fabric Controller is responsible for allocating infrastructure resources to tenant workloads, and it manages unidirectional communications from the host to virtual machines.</span></span> <span data-ttu-id="30cfe-193">Azure hypervisor 會強制執行虛擬機器之間的記憶體和程序區隔，並安全地將網路流量路由傳送至客體 OS 租用戶。</span><span class="sxs-lookup"><span data-stu-id="30cfe-193">The Azure hypervisor enforces memory and process separation between virtual machines, and it securely routes network traffic to guest OS tenants.</span></span> <span data-ttu-id="30cfe-194">Azure 也會實作租用戶、儲存體和虛擬網路的隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-194">Azure also implements isolation for tenants, storage, and virtual networks.</span></span>

* <span data-ttu-id="30cfe-195">各個 Azure AD 租用戶在邏輯上會以安全性界限進行隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-195">Each Azure AD tenant is logically isolated by using security boundaries.</span></span>
* <span data-ttu-id="30cfe-196">每個訂用帳戶的 Azure 儲存體帳戶都是獨一無二，且必須使用儲存體帳戶金鑰進行驗證才能存取。</span><span class="sxs-lookup"><span data-stu-id="30cfe-196">Azure storage accounts are unique to each subscription, and access must be authenticated by using a storage account key.</span></span>
* <span data-ttu-id="30cfe-197">虛擬網路會以邏輯方式透過唯一的私人 IP 位址、防火牆和 IP ACL 的組合進行隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-197">Virtual networks are logically isolated through a combination of unique private IP addresses, firewalls, and IP ACLs.</span></span> <span data-ttu-id="30cfe-198">負載平衡器會根據端點定義，將流量路由傳送至適當的租用戶。</span><span class="sxs-lookup"><span data-stu-id="30cfe-198">Load balancers route traffic to the appropriate tenants based on endpoint definitions.</span></span>

## <a name="virtual-networks-and-firewalls"></a><span data-ttu-id="30cfe-199">虛擬網路和防火牆</span><span class="sxs-lookup"><span data-stu-id="30cfe-199">Virtual networks and firewalls</span></span>
<span data-ttu-id="30cfe-200">Azure 說明中的[分散式和虛擬網路](http://download.microsoft.com/download/4/3/9/43902EC9-410E-4875-8800-0788BE146A3D/Windows%20Azure%20Network%20Security%20Whitepaper%20-%20FINAL.docx)可確保您的私人網路流量會以邏輯方式與其他 Azure 虛擬網路上的流量隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-200">The [distributed and virtual networks](http://download.microsoft.com/download/4/3/9/43902EC9-410E-4875-8800-0788BE146A3D/Windows%20Azure%20Network%20Security%20Whitepaper%20-%20FINAL.docx) in Azure help ensure that your private network traffic is logically isolated from traffic on other Azure virtual networks.</span></span>

![Azure 中的 Microsoft Antimalware](./media/azure-security-getting-started/sec-azgsfig4.PNG)

<span data-ttu-id="30cfe-202">您的訂用帳戶可以包含多個隔離的私人網路 (也包括防火牆、負載平衡，以及網路位址轉譯)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-202">Your subscription can contain multiple isolated private networks (and include firewall, load balancing, and network address translation).</span></span>

<span data-ttu-id="30cfe-203">Azure 在每個 Azure 叢集中提供了三個以邏輯方式隔離流量的主要網路隔離層級。</span><span class="sxs-lookup"><span data-stu-id="30cfe-203">Azure provides three primary levels of network segregation in each Azure cluster to logically segregate traffic.</span></span> <span data-ttu-id="30cfe-204">[虛擬區域網路](https://azure.microsoft.com/services/virtual-network/) (VLAN) 會用來區隔客戶流量與其餘的 Azure 網路。</span><span class="sxs-lookup"><span data-stu-id="30cfe-204">[Virtual local area networks](https://azure.microsoft.com/services/virtual-network/) (VLANs) are used to separate customer traffic from the rest of the Azure network.</span></span> <span data-ttu-id="30cfe-205">從叢集外對 Azure 網路的存取，會受到負載平衡器的限制。</span><span class="sxs-lookup"><span data-stu-id="30cfe-205">Access to the Azure network from outside the cluster is restricted through load balancers.</span></span>

<span data-ttu-id="30cfe-206">進入和來自於虛擬機器的網路流量，必須通過 Hypervisor 虛擬交換器。</span><span class="sxs-lookup"><span data-stu-id="30cfe-206">Network traffic to and from virtual machines must pass through the hypervisor virtual switch.</span></span> <span data-ttu-id="30cfe-207">根 OS 中的 IP 篩選器元件會隔離根虛擬機器與客體虛擬機器，並且各個客體虛擬機器互相隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-207">The IP filter component in the root OS isolates the root virtual machine from the guest virtual machines and the guest virtual machines from one another.</span></span> <span data-ttu-id="30cfe-208">它會執行流量篩選，以限制租用戶的節點與公用網際網路 (根據客戶的服務組態) 之間的通訊，使其與其他租用戶隔離。</span><span class="sxs-lookup"><span data-stu-id="30cfe-208">It performs filtering of traffic to restrict communication between a tenant's nodes and the public Internet (based on the customer's service configuration), segregating them from other tenants.</span></span>

<span data-ttu-id="30cfe-209">IP 篩選器有助於防止客體虛擬機器：</span><span class="sxs-lookup"><span data-stu-id="30cfe-209">The IP filter helps prevent guest virtual machines from:</span></span>

* <span data-ttu-id="30cfe-210">產生假冒流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-210">Generating spoofed traffic.</span></span>
* <span data-ttu-id="30cfe-211">接收不是傳送給它們的流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-211">Receiving traffic not addressed to them.</span></span>
* <span data-ttu-id="30cfe-212">將流量導向至受保護的基礎結構端點。</span><span class="sxs-lookup"><span data-stu-id="30cfe-212">Directing traffic to protected infrastructure endpoints.</span></span>
* <span data-ttu-id="30cfe-213">傳送或接收不當的廣播流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-213">Sending or receiving inappropriate broadcast traffic.</span></span>

<span data-ttu-id="30cfe-214">您可以將虛擬機器放在 [Azure 虛擬網路](https://azure.microsoft.com/documentation/services/virtual-network/)上。</span><span class="sxs-lookup"><span data-stu-id="30cfe-214">You can place your virtual machines onto [Azure virtual networks](https://azure.microsoft.com/documentation/services/virtual-network/).</span></span> <span data-ttu-id="30cfe-215">這些虛擬網路類似於您在內部部署環境中設定的網路，在此處它們通常會與虛擬交換器相關聯。</span><span class="sxs-lookup"><span data-stu-id="30cfe-215">These virtual networks are similar to the networks you configure in on-premises environments, where they are typically associated with a virtual switch.</span></span> <span data-ttu-id="30cfe-216">連接到相同虛擬網路的虛擬機器不需額外設定即可彼此通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-216">Virtual machines connected to the same virtual network can communicate with one another without additional configuration.</span></span> <span data-ttu-id="30cfe-217">您也可以在您的虛擬網路中設定不同的子網路。</span><span class="sxs-lookup"><span data-stu-id="30cfe-217">You can also configure different subnets within your virtual network.</span></span>

<span data-ttu-id="30cfe-218">您可以利用下列 Azure 虛擬網路技術來保護虛擬網路上的通訊安全：</span><span class="sxs-lookup"><span data-stu-id="30cfe-218">You can use the following Azure Virtual Network technologies to help secure communications on your virtual network:</span></span>

* <span data-ttu-id="30cfe-219">[網路安全性群組 (NSG)](../virtual-network/virtual-networks-nsg.md)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-219">[**Network Security Groups (NSGs)**](../virtual-network/virtual-networks-nsg.md).</span></span> <span data-ttu-id="30cfe-220">您可以在虛擬網路中，使用 NSG 控制傳輸至一個或多個虛擬機器執行個體的流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-220">You can use an NSG to control traffic to one or more virtual machine instances in your virtual network.</span></span> <span data-ttu-id="30cfe-221">NSG 包含存取控制規則，可根據流量方向、通訊協定、來源位址和連接埠與目的地位址和連接埠，允許或拒絕流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-221">An NSG contains access control rules that allow or deny traffic based on traffic direction, protocol, source address and port, and destination address and port.</span></span>
* <span data-ttu-id="30cfe-222">[使用者定義的路由](../virtual-network/virtual-networks-udr-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-222">[**User-defined routing**](../virtual-network/virtual-networks-udr-overview.md).</span></span> <span data-ttu-id="30cfe-223">您可以透過虛擬應用裝置來控制封包的路由，方法是建立使用者定義的路由，為流向指定子網路的封包指定流向虛擬網路安全性應用裝置的下一個躍點。</span><span class="sxs-lookup"><span data-stu-id="30cfe-223">You can control the routing of packets through a virtual appliance by creating user-defined routes that specify the next hop for packets flowing to a specific subnet to go to a virtual network security appliance.</span></span>
* <span data-ttu-id="30cfe-224">[**IP 轉送**](../virtual-network/virtual-networks-udr-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-224">[**IP forwarding**](../virtual-network/virtual-networks-udr-overview.md).</span></span> <span data-ttu-id="30cfe-225">虛擬網路安全性應用裝置必須能夠接收未定址到其本身的傳入流量。</span><span class="sxs-lookup"><span data-stu-id="30cfe-225">A virtual network security appliance must be able to receive incoming traffic that is not addressed to itself.</span></span> <span data-ttu-id="30cfe-226">若要讓虛擬機器接收定址到其他目的地的流量，您必須針對虛擬機器啟用 IP 轉送。</span><span class="sxs-lookup"><span data-stu-id="30cfe-226">To allow a virtual machine to receive traffic addressed to other destinations, you enable IP forwarding for the virtual machine.</span></span>
* <span data-ttu-id="30cfe-227">[**強制通道**](../vpn-gateway/vpn-gateway-about-forced-tunneling.md)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-227">[**Forced tunneling**](../vpn-gateway/vpn-gateway-about-forced-tunneling.md).</span></span> <span data-ttu-id="30cfe-228">強制通道可讓您透過站對站 VPN 通道，重新導向或「強制」您在虛擬網路中的虛擬機器所產生的所有網際網路繫結流量傳回內部部署位置，以便進行檢查和稽核。</span><span class="sxs-lookup"><span data-stu-id="30cfe-228">Forced tunneling lets you redirect or "force" all Internet-bound traffic generated by your virtual machines in a virtual network back to your on-premises location via a site-to-site VPN tunnel for inspection and auditing</span></span>
* <span data-ttu-id="30cfe-229">[**端點** ACL](../virtual-machines/windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-229">[**Endpoint ACLs**](../virtual-machines/windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="30cfe-230">您可以定義端點 ACL，以控制哪些機器可以從網際網路對您虛擬網路上的虛擬機器進行輸入連線。</span><span class="sxs-lookup"><span data-stu-id="30cfe-230">You can control which machines are allowed inbound connections from the Internet to a virtual machine on your virtual network by defining endpoint ACLs.</span></span>
* <span data-ttu-id="30cfe-231">[**合作夥伴網路安全性解決方案**](https://azure.microsoft.com/marketplace/)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-231">[**Partner network security solutions**](https://azure.microsoft.com/marketplace/).</span></span> <span data-ttu-id="30cfe-232">您可以從 Azure Marketplace 存取許多合作夥伴網路安全性解決方案。</span><span class="sxs-lookup"><span data-stu-id="30cfe-232">There are a number of partner network security solutions that you can access from the Azure Marketplace.</span></span>

### <a name="how-azure-implements-virtual-networks-and-firewalls"></a><span data-ttu-id="30cfe-233">Azure 如何實作虛擬網路和防火牆</span><span class="sxs-lookup"><span data-stu-id="30cfe-233">How Azure implements virtual networks and firewalls</span></span>
<span data-ttu-id="30cfe-234">根據預設，Azure 會在所有主機和客體虛擬機器上實作封包篩選防火牆。</span><span class="sxs-lookup"><span data-stu-id="30cfe-234">Azure implements packet-filtering firewalls on all host and guest virtual machines by default.</span></span> <span data-ttu-id="30cfe-235">Azure Marketplace 中的 Windows OS 映像依預設也會啟用 Windows 防火牆。</span><span class="sxs-lookup"><span data-stu-id="30cfe-235">Windows OS images from the Azure Marketplace also have Windows Firewall enabled by default.</span></span> <span data-ttu-id="30cfe-236">位於 Azure 公開網路周邊的負載平衡器會根據客戶的系統管理員所管理的 IP ACL 來控制通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-236">Load balancers at the perimeter of Azure public-facing networks control communications based on IP ACLs managed by customer administrators.</span></span>

<span data-ttu-id="30cfe-237">當 Azure 在正常作業中或嚴重損壞期間移動客戶的資料時，它會使用私人、加密的通訊通道來進行。</span><span class="sxs-lookup"><span data-stu-id="30cfe-237">If Azure moves a customer’s data as part of normal operations or during a disaster, it does so over private, encrypted communications channels.</span></span> <span data-ttu-id="30cfe-238">Azure 運用在虛擬網路和防火牆中的其他功能包括：</span><span class="sxs-lookup"><span data-stu-id="30cfe-238">Other capabilities employed by Azure to use in virtual networks and firewalls are:</span></span>

* <span data-ttu-id="30cfe-239">**原生主機防火牆**︰在原生 OS 上執行，沒有 Hypervisor 的 Azure Service Fabric 和 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="30cfe-239">**Native host firewall**: Azure Service Fabric and Azure Storage run on a native OS that has no hypervisor.</span></span> <span data-ttu-id="30cfe-240">因此 Windows 防火牆已使用先前的兩組規則進行設定。</span><span class="sxs-lookup"><span data-stu-id="30cfe-240">Hence the windows firewall is configured with the previous two sets of rules.</span></span> <span data-ttu-id="30cfe-241">儲存體以原生方式執行，以達到效能最佳化。</span><span class="sxs-lookup"><span data-stu-id="30cfe-241">Storage runs native to optimize performance.</span></span>
* <span data-ttu-id="30cfe-242">**主機防火牆**：主機防火牆是為了保護執行 Hypervisor 的主機作業系統。</span><span class="sxs-lookup"><span data-stu-id="30cfe-242">**Host firewall**: The host firewall is to protect the host operating system that runs the hypervisor.</span></span> <span data-ttu-id="30cfe-243">規則設計成僅允許 Service Fabric 控制器，並以跳躍方式在特定的連接埠上與主機 OS 通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-243">The rules are programmed to allow only the Service Fabric controller and jump boxes to talk to the host OS on a specific port.</span></span> <span data-ttu-id="30cfe-244">其他例外狀況包括允許 DHCP 回應與 DNS 回覆。</span><span class="sxs-lookup"><span data-stu-id="30cfe-244">The other exceptions are to allow DHCP response and DNS Replies.</span></span> <span data-ttu-id="30cfe-245">Azure 會使用具有其主機 OS 之防火牆規則範本的機器組態檔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-245">Azure uses a machine configuration file that has the template of firewall rules for the host OS.</span></span> <span data-ttu-id="30cfe-246">主機本身會由 Windows 防火牆來抵禦外部攻擊，而防火牆會設定成只允許已驗證的已知來源所進行的通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-246">The host itself is protected from external attack by a Windows firewall configured to permit communication only from known, authenticated sources.</span></span>
* <span data-ttu-id="30cfe-247">**客體防火牆**：複寫虛擬機器交換器封包篩選器中的規則，但設計在不同的軟體中 (例如客體 OS 的 Windows 防火牆)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-247">**Guest firewall**: Replicates the rules in the virtual machine Switch packet filter but programmed in different software (such as the Windows Firewall piece of the guest OS).</span></span> <span data-ttu-id="30cfe-248">客體虛擬機器防火牆可以設定成限制往來於客體虛擬機器的通訊，即使主機 IP 篩選器的組態允許通訊亦然。</span><span class="sxs-lookup"><span data-stu-id="30cfe-248">The guest virtual machine firewall can be configured to restrict communications to or from the guest virtual machine, even if the communication is permitted by configurations at the host IP Filter.</span></span> <span data-ttu-id="30cfe-249">例如，您可以選擇使用客體虛擬機器防火牆，限制兩個已設定為彼此連接的 VNet 之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-249">For example, you may choose to use the guest virtual machine firewall to restrict communication between two of your VNets that have been configured to connect to one another.</span></span>
* <span data-ttu-id="30cfe-250">**儲存體防火牆 (FW)**：儲存體前端的防火牆會篩選流量，使其限定於連接埠 80/443 和其他必要公用程式連接埠。</span><span class="sxs-lookup"><span data-stu-id="30cfe-250">**Storage firewall (FW)**: The firewall on the storage front end filters traffic to be only on ports 80/443 and other necessary utility ports.</span></span> <span data-ttu-id="30cfe-251">儲存體後端的防火牆會將通訊限定為來自儲存體前端伺服器的通訊。</span><span class="sxs-lookup"><span data-stu-id="30cfe-251">The firewall on the storage back end restricts communications to come only from storage front-end servers.</span></span>
* <span data-ttu-id="30cfe-252">**虛擬網路閘道**：[Azure 虛擬網路閘道](../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md)可作為將您在 Azure 虛擬網路中的工作負載連接到內部部署網站的跨單位閘道。</span><span class="sxs-lookup"><span data-stu-id="30cfe-252">**Virtual Network Gateway**: The [Azure Virtual Network Gateway](../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md) serves as the cross-premises gateway connecting your workloads in Azure Virtual Network to your on-premises sites.</span></span> <span data-ttu-id="30cfe-253">它必須透過 [IPsec 站對站 VPN 通道](../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md)或透過 [ExpressRoute](../expressroute/expressroute-introduction.md) 線路連接到內部部署網站。</span><span class="sxs-lookup"><span data-stu-id="30cfe-253">It is required to connect to on-premises sites through [IPsec site-to-site VPN tunnels](../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md), or through [ExpressRoute](../expressroute/expressroute-introduction.md) circuits.</span></span> <span data-ttu-id="30cfe-254">就 IPsec/IKE VPN 通道而言，這些閘道會執行 IKE 交握，並建立虛擬網路和內部部署網站之間的 IPsec S2S VPN 通道。</span><span class="sxs-lookup"><span data-stu-id="30cfe-254">For IPsec/IKE VPN tunnels, the gateways perform IKE handshakes and establish the IPsec S2S VPN tunnels between the virtual networks and on-premises sites.</span></span> <span data-ttu-id="30cfe-255">虛擬網路閘道也會終止[點對站 VPN](../vpn-gateway/vpn-gateway-point-to-site-create.md)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-255">Virtual network gateways also terminate [point-to-site VPNs](../vpn-gateway/vpn-gateway-point-to-site-create.md).</span></span>

## <a name="secure-remote-access"></a><span data-ttu-id="30cfe-256">安全的遠端存取</span><span class="sxs-lookup"><span data-stu-id="30cfe-256">Secure remote access</span></span>
<span data-ttu-id="30cfe-257">儲存在雲端中的資料必須啟用足夠的保護措施，以防止入侵和維護傳輸時的機密性與完整性。</span><span class="sxs-lookup"><span data-stu-id="30cfe-257">Data stored in the cloud must have sufficient safeguards enabled to prevent exploits and maintain confidentiality and integrity while in-transit.</span></span> <span data-ttu-id="30cfe-258">這包括與組織的原則型、可稽核的身分識別和存取管理機制相連結的網路控制。</span><span class="sxs-lookup"><span data-stu-id="30cfe-258">This includes network controls that tie in with an organization’s policy-based, auditable identity and access management mechanisms.</span></span>

<span data-ttu-id="30cfe-259">內建的密碼編譯技術可讓您對部署內部與各部署間的通訊、Azure 區域之間的通訊，以及 Azure 對內部部署資料中心的通訊進行加密。</span><span class="sxs-lookup"><span data-stu-id="30cfe-259">Built-in cryptographic technology enables you to encrypt communications within and between deployments, between Azure regions, and from Azure to on-premises datacenters.</span></span> <span data-ttu-id="30cfe-260">系統管理員可透過[遠端桌面工作階段](../virtual-machines/windows/classic/connect-logon.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json)、[遠端 Windows PowerShell](http://blogs.technet.com/b/heyscriptingguy/archive/2013/09/07/weekend-scripter-remoting-the-cloud-with-windows-azure-and-powershell.aspx) 來存取虛擬機器，且 Azure 入口網站一律會加密。</span><span class="sxs-lookup"><span data-stu-id="30cfe-260">Administrator access to virtual machines through [remote desktop sessions](../virtual-machines/windows/classic/connect-logon.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json), [remote Windows PowerShell](http://blogs.technet.com/b/heyscriptingguy/archive/2013/09/07/weekend-scripter-remoting-the-cloud-with-windows-azure-and-powershell.aspx), and the Azure portal is always encrypted.</span></span>

<span data-ttu-id="30cfe-261">為了讓您安全地將內部部署資料中心擴充到雲端，Azure 提供了[站對站 VPN](../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md) 和[點對站 VPN](../vpn-gateway/vpn-gateway-point-to-site-create.md)，以及具有 [ExpressRoute](../expressroute/expressroute-introduction.md) 的專用連結 (透過 VPN 的 Azure 虛擬網路連線會進行加密)。</span><span class="sxs-lookup"><span data-stu-id="30cfe-261">To securely extend your on-premises datacenter to the cloud, Azure provides both [site-to-site VPN](../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md) and [point-to-site VPN](../vpn-gateway/vpn-gateway-point-to-site-create.md), plus dedicated links with [ExpressRoute](../expressroute/expressroute-introduction.md) (connections to Azure Virtual Networks over VPN are encrypted).</span></span>

### <a name="how-azure-implements-secure-remote-access"></a><span data-ttu-id="30cfe-262">Azure 如何實作安全的遠端存取</span><span class="sxs-lookup"><span data-stu-id="30cfe-262">How Azure implements secure remote access</span></span>
<span data-ttu-id="30cfe-263">對 Azure 入口網站的連線一律必須經過驗證，且需要 SSL/TLS。</span><span class="sxs-lookup"><span data-stu-id="30cfe-263">Connections to the Azure portal must always be authenticated, and they require SSL/TLS.</span></span> <span data-ttu-id="30cfe-264">您可以設定管理憑證來啟用安全管理。</span><span class="sxs-lookup"><span data-stu-id="30cfe-264">You can configure management certificates to enable secure management.</span></span> <span data-ttu-id="30cfe-265">如 [SSTP](https://technet.microsoft.com/magazine/2007.06.cableguy.aspx) 和 [IPsec](https://en.wikipedia.org/wiki/IPsec) 的業界標準安全性通訊協定會受到完整支援。</span><span class="sxs-lookup"><span data-stu-id="30cfe-265">Industry-standard security protocols such as [SSTP](https://technet.microsoft.com/magazine/2007.06.cableguy.aspx) and [IPsec](https://en.wikipedia.org/wiki/IPsec) are fully supported.</span></span>

<span data-ttu-id="30cfe-266">[Azure ExpressRoute](../expressroute/expressroute-introduction.md) 可讓您在 Azure 資料中心和內部部署或共置環境中的基礎結構之間建立私人連線。</span><span class="sxs-lookup"><span data-stu-id="30cfe-266">[Azure ExpressRoute](../expressroute/expressroute-introduction.md) lets you create private connections between Azure datacenters and infrastructure that’s on your premises or in a co-location environment.</span></span> <span data-ttu-id="30cfe-267">ExpressRoute 連線不會經過公用網際網路。</span><span class="sxs-lookup"><span data-stu-id="30cfe-267">ExpressRoute connections do not go over the public Internet.</span></span> <span data-ttu-id="30cfe-268">相較於一般網際網路連結，這可以提供更可靠、更快速、延遲更短和更安全的連接。</span><span class="sxs-lookup"><span data-stu-id="30cfe-268">They offer more reliability, faster speeds, lower latencies, and higher security than typical Internet-based links.</span></span> <span data-ttu-id="30cfe-269">在某些情況下，使用 ExpressRoute 連線在內部部署裝置和 Azure 之間傳輸資料，也可以產生重大的成本效益。</span><span class="sxs-lookup"><span data-stu-id="30cfe-269">In some cases, transferring data between on-premises locations and Azure by using ExpressRoute connections can also yield significant cost benefits.</span></span>

## <a name="logging-and-monitoring"></a><span data-ttu-id="30cfe-270">記錄和監視</span><span class="sxs-lookup"><span data-stu-id="30cfe-270">Logging and monitoring</span></span>
<span data-ttu-id="30cfe-271">Azure 針對會產生稽核追蹤的安全性相關事件提供已驗證的記錄，並設計為能防止竄改。</span><span class="sxs-lookup"><span data-stu-id="30cfe-271">Azure provides authenticated logging of security-relevant events that generate an audit trail, and it is engineered to be resistant to tampering.</span></span> <span data-ttu-id="30cfe-272">這包括系統資訊，例如 Azure 基礎結構虛擬機器與 Azure AD 中的安全性事件記錄檔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-272">This includes system information, such as security event logs in Azure infrastructure virtual machines and Azure AD.</span></span> <span data-ttu-id="30cfe-273">安全性事件監視包含對於如下事件的收集：變更 DHCP 或 DNS 伺服器 IP 位址、嘗試存取依設計封鎖的連接埠、通訊協定或 IP 位址、變更安全性原則或防火牆設定、建立帳戶或群組、非預期的程序或驅動程式安裝等。</span><span class="sxs-lookup"><span data-stu-id="30cfe-273">Security event monitoring includes collecting events such as changes in DHCP or DNS server IP addresses; attempted access to ports, protocols, or IP addresses that are blocked by design; changes in security policy or firewall settings; account or group creation; and unexpected processes or driver installation.</span></span>

![Azure 中的 Microsoft Antimalware](./media/azure-security-getting-started/sec-azgsfig5.PNG)

<span data-ttu-id="30cfe-275">記錄特殊權限使用者存取和活動的稽核記錄檔、授權和未授權的存取嘗試、系統例外狀況和資訊安全性事件會保留一段時間。</span><span class="sxs-lookup"><span data-stu-id="30cfe-275">Audit logs recording privileged user access and activities, authorized and unauthorized access attempts, system exceptions, and information security events are retained for a set period of time.</span></span> <span data-ttu-id="30cfe-276">記錄檔的保留由您自行斟酌，因為您可以根據自己的需求設定記錄檔收集和保留。</span><span class="sxs-lookup"><span data-stu-id="30cfe-276">The retention of your logs is at your discretion because you configure log collection and retention to your own requirements.</span></span>

### <a name="how-azure-implements-logging-and-monitoring"></a><span data-ttu-id="30cfe-277">Azure 如何實作記錄和監視</span><span class="sxs-lookup"><span data-stu-id="30cfe-277">How Azure implements logging and monitoring</span></span>
<span data-ttu-id="30cfe-278">Azure 會將管理代理程式 (MA) 和 Azure 安全性監視器 (ASM) 代理程式部署至每個受到管理的計算、儲存或網狀架構節點，無論是原生或虛擬。</span><span class="sxs-lookup"><span data-stu-id="30cfe-278">Azure deploys Management Agents (MA) and Azure Security Monitor (ASM) agents to each compute, storage, or fabric node under management whether they are native or virtual.</span></span> <span data-ttu-id="30cfe-279">每個管理代理程式都會設定為必須使用從 Azure 憑證存放區取得的憑證向服務小組儲存體帳戶進行驗證，並將預先設定的診斷和事件資料轉送至儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="30cfe-279">Each Management Agent is configured to authenticate to a service team storage account with a certificate obtained from the Azure certificate store and forward pre-configured diagnostic and event data to the storage account.</span></span> <span data-ttu-id="30cfe-280">這些代理程式不會部署到客戶的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="30cfe-280">These agents are not deployed to customers’ virtual machines.</span></span>

<span data-ttu-id="30cfe-281">Azure 系統管理員會透過對於記錄檔的存取經過驗證且受到控制的 Web 入口網站，來存取記錄檔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-281">Azure administrators access logs through a web portal for authenticated and controlled access to the logs.</span></span> <span data-ttu-id="30cfe-282">系統管理員可以剖析、篩選、相互關聯及分析記錄檔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-282">An administrator can parse, filter, correlate, and analyze logs.</span></span> <span data-ttu-id="30cfe-283">Azure 在記錄檔方面的服務小組儲存體帳戶會受到保護而無法由系統管理員直接存取，以防止記錄遭到竄改。</span><span class="sxs-lookup"><span data-stu-id="30cfe-283">The Azure service team storage accounts for logs are protected from direct administrator access to help prevent against log tampering.</span></span>

<span data-ttu-id="30cfe-284">Microsoft 會使用 Syslog 通訊協定從網路裝置收集記錄檔，並使用 Microsoft 稽核收集服務 (ACS) 從主機伺服器收集記錄檔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-284">Microsoft collects logs from network devices using the Syslog protocol, and from host servers using Microsoft Audit Collection Services (ACS).</span></span> <span data-ttu-id="30cfe-285">這些記錄檔會放入記錄資料庫中，並且在可疑事件發生時產生警示。</span><span class="sxs-lookup"><span data-stu-id="30cfe-285">These logs are placed into a log database from which alerts for suspicious events are generated.</span></span> <span data-ttu-id="30cfe-286">系統管理員可以存取並分析這些記錄檔。</span><span class="sxs-lookup"><span data-stu-id="30cfe-286">The administrator can access and analyze these logs.</span></span>

<span data-ttu-id="30cfe-287">[Azure 診斷](https://msdn.microsoft.com/library/azure/gg433048.aspx)是一項 Azure 功能，可讓您收集來自在 Azure 中執行之應用程式的診斷資料。</span><span class="sxs-lookup"><span data-stu-id="30cfe-287">[Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) is a feature of Azure that enables you to collect diagnostic data from an application running in Azure.</span></span> <span data-ttu-id="30cfe-288">這項診斷資料可用來進行偵錯和疑難排解、測量效能、監視資源使用量、流量分析和容量規劃以及稽核。</span><span class="sxs-lookup"><span data-stu-id="30cfe-288">This is diagnostic data for debugging and troubleshooting, measuring performance, monitoring resource usage, traffic analysis, capacity planning, and auditing.</span></span> <span data-ttu-id="30cfe-289">收集到的診斷資料可以傳輸到 Azure 儲存體帳戶，以進行保存。</span><span class="sxs-lookup"><span data-stu-id="30cfe-289">After the diagnostic data is collected, it can be transferred to an Azure storage account for persistence.</span></span> <span data-ttu-id="30cfe-290">傳輸可以是排程或隨選的。</span><span class="sxs-lookup"><span data-stu-id="30cfe-290">Transfers can either be scheduled or on demand.</span></span>

## <a name="threat-mitigation"></a><span data-ttu-id="30cfe-291">威脅防護</span><span class="sxs-lookup"><span data-stu-id="30cfe-291">Threat mitigation</span></span>
<span data-ttu-id="30cfe-292">除了隔離、加密和篩選以外，Azure 也採用多種威脅防護機制和程序來保護基礎結構和服務。</span><span class="sxs-lookup"><span data-stu-id="30cfe-292">In addition to isolation, encryption, and filtering, Azure employs a number of threat mitigation mechanisms and processes to protect infrastructure and services.</span></span> <span data-ttu-id="30cfe-293">其中包括用來偵測及補救進階威脅 (如 DDoS、權限提升和 [OWASP Top-10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project)) 的內部控制和技術。</span><span class="sxs-lookup"><span data-stu-id="30cfe-293">These include internal controls and technologies used to detect and remediate advanced threats such as DDoS, privilege escalation, and the [OWASP Top-10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project).</span></span>

<span data-ttu-id="30cfe-294">Microsoft 用來保護其雲端基礎結構的安全性控制和風險管理程序，可降低安全性事件的風險。</span><span class="sxs-lookup"><span data-stu-id="30cfe-294">The security controls and risk management processes Microsoft has in place to secure its cloud infrastructure reduce the risk of security incidents.</span></span> <span data-ttu-id="30cfe-295">在事件發生時，Microsoft 線上安全性服務和符合性 (OSSC) 小組內的安全性事件管理 (SIM) 小組可隨時加以因應。</span><span class="sxs-lookup"><span data-stu-id="30cfe-295">In the event an incident occurs, the Security Incident Management (SIM) team within the Microsoft Online Security Services and Compliance (OSSC) team is ready to respond at any time.</span></span>

### <a name="how-azure-implements-threat-mitigation"></a><span data-ttu-id="30cfe-296">Azure 如何實作威脅防護</span><span class="sxs-lookup"><span data-stu-id="30cfe-296">How Azure implements threat mitigation</span></span>
<span data-ttu-id="30cfe-297">Azure 有安全性控制可實作威脅防護功能，並協助客戶降低其環境中的潛在威脅。</span><span class="sxs-lookup"><span data-stu-id="30cfe-297">Azure has security controls in place to implement threat mitigation and also to help customers mitigate potential threats in their environments.</span></span> <span data-ttu-id="30cfe-298">下列清單摘要說明 Azure 所提供的威脅防護功能：</span><span class="sxs-lookup"><span data-stu-id="30cfe-298">The following list summarizes the threat mitigation capabilities offered by Azure:</span></span>

* <span data-ttu-id="30cfe-299">[Azure Antimalware](azure-security-antimalware.md) 依預設會在所有基礎結構伺服器上啟用。</span><span class="sxs-lookup"><span data-stu-id="30cfe-299">[Azure Antimalware](azure-security-antimalware.md) is enabled by default on all infrastructure servers.</span></span> <span data-ttu-id="30cfe-300">您可以選擇性地在自己的虛擬機器內加以啟用。</span><span class="sxs-lookup"><span data-stu-id="30cfe-300">You can optionally enable it within your own virtual machines.</span></span>
* <span data-ttu-id="30cfe-301">Microsoft 會持續監控伺服器、網路和應用程式，以偵測威脅並防止入侵。</span><span class="sxs-lookup"><span data-stu-id="30cfe-301">Microsoft maintains continuous monitoring across servers, networks, and applications to detect threats and prevent exploits.</span></span> <span data-ttu-id="30cfe-302">自動化警示會在異常行為出現時通知系統管理員，讓他們能夠對內部和外部威脅採取更正動作。</span><span class="sxs-lookup"><span data-stu-id="30cfe-302">Automated alerts notify administrators of anomalous behaviors, allowing them to take corrective action on both internal and external threats.</span></span>
* <span data-ttu-id="30cfe-303">您可以在訂用帳戶內部署第 3 方安全性解決方案，例如使用 [Barracuda](https://techlib.barracuda.com/ng54/deployonazure) 的 Web 應用程式防火牆。</span><span class="sxs-lookup"><span data-stu-id="30cfe-303">You can deploy third-party security solutions within your subscriptions, such as web application firewalls from [Barracuda](https://techlib.barracuda.com/ng54/deployonazure).</span></span>
* <span data-ttu-id="30cfe-304">Microsoft 的入侵測試方法包括「[假想敵團體](http://download.microsoft.com/download/C/1/9/C1990DBA-502F-4C2A-848D-392B93D9B9C3/Microsoft_Enterprise_Cloud_Red_Teaming.pdf)」，在其中，Microsoft 安全性專業人員會攻擊 Azure 中的 (非客戶) 實際生產系統，以測試對於實際、進階持續性威脅的防禦能力。</span><span class="sxs-lookup"><span data-stu-id="30cfe-304">Microsoft’s approach to penetration testing includes “[Red-Teaming](http://download.microsoft.com/download/C/1/9/C1990DBA-502F-4C2A-848D-392B93D9B9C3/Microsoft_Enterprise_Cloud_Red_Teaming.pdf),” which involves Microsoft security professionals attacking (non-customer) live production systems in Azure to test defenses against real-world, advanced, persistent threats.</span></span>
* <span data-ttu-id="30cfe-305">整合的部署系統會管理整個 Azure 平台的安全性修補程式的散發與安裝。</span><span class="sxs-lookup"><span data-stu-id="30cfe-305">Integrated deployment systems manage the distribution and installation of security patches across the Azure platform.</span></span>

## <a name="next-steps"></a><span data-ttu-id="30cfe-306">後續步驟</span><span class="sxs-lookup"><span data-stu-id="30cfe-306">Next steps</span></span>
[<span data-ttu-id="30cfe-307">Azure 信任中心</span><span class="sxs-lookup"><span data-stu-id="30cfe-307">Azure Trust Center</span></span>](https://azure.microsoft.com/support/trust-center/)

[<span data-ttu-id="30cfe-308">Azure 安全性小組部落格</span><span class="sxs-lookup"><span data-stu-id="30cfe-308">Azure Security Team Blog</span></span>](http://blogs.msdn.com/b/azuresecurity/)

[<span data-ttu-id="30cfe-309">Microsoft 安全性回應中心</span><span class="sxs-lookup"><span data-stu-id="30cfe-309">Microsoft Security Response Center</span></span>](https://technet.microsoft.com/library/dn440717.aspx)

[<span data-ttu-id="30cfe-310">Active Directory 部落格</span><span class="sxs-lookup"><span data-stu-id="30cfe-310">Active Directory Blog</span></span>](http://blogs.technet.com/b/ad/)
