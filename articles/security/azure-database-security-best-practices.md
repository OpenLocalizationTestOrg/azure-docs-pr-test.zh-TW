---
title: "aaaAzure 資料庫安全性最佳作法 |Microsoft 文件"
description: "本文章提供一組 Azure 資料庫安全性的最佳做法。"
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/21/2017
ms.author: tomsh
ms.openlocfilehash: 78984291e8f74879c7f738e2ce3176c4be18d154
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-security-best-practices"></a><span data-ttu-id="b253e-103">Azure 資料庫安全性最佳做法</span><span class="sxs-lookup"><span data-stu-id="b253e-103">Azure database security best practices</span></span>

<span data-ttu-id="b253e-104">安全性是管理資料庫時的最重要考量，而且向來一直是 Azure SQL Database 的優先考量。</span><span class="sxs-lookup"><span data-stu-id="b253e-104">Security is a top concern when managing databases, and it has always been a priority for Azure SQL Database.</span></span> <span data-ttu-id="b253e-105">您的資料庫可以是緊密安全的 toohelp 滿足最法規或安全性需求，包括 HIPAA、 ISO 27001/27002 和 PCI DSS 層級 1、 和其他項目。</span><span class="sxs-lookup"><span data-stu-id="b253e-105">Your databases can be tightly secured toohelp satisfy most regulatory or security requirements, including HIPAA, ISO 27001/27002, and PCI DSS Level 1, among others.</span></span> <span data-ttu-id="b253e-106">目前的安全性相容性認證清單位於 hello [Microsoft 信任中心網站](http://azure.microsoft.com/support/trust-center/services/)。</span><span class="sxs-lookup"><span data-stu-id="b253e-106">A current list of security compliance certifications is available at hello [Microsoft Trust Center site](http://azure.microsoft.com/support/trust-center/services/).</span></span> <span data-ttu-id="b253e-107">您也可以選擇您的資料庫中特定的 Azure 資料中心根據法規 tooplace。</span><span class="sxs-lookup"><span data-stu-id="b253e-107">You also can choose tooplace your databases in specific Azure datacenters based on regulatory requirements.</span></span>

<span data-ttu-id="b253e-108">本文將討論 Azure 資料庫安全性最佳做法的集合。</span><span class="sxs-lookup"><span data-stu-id="b253e-108">In this article, we will discuss a collection of Azure database security best practices.</span></span> <span data-ttu-id="b253e-109">這些最佳作法與 Azure 的資料庫安全性衍生自我們的經驗，hello 經驗的客戶想自己。</span><span class="sxs-lookup"><span data-stu-id="b253e-109">These best practices are derived from our experience with Azure database security and hello experiences of customers like yourself.</span></span>

<span data-ttu-id="b253e-110">針對每個最佳做法，我們會說明︰</span><span class="sxs-lookup"><span data-stu-id="b253e-110">For each best practice, we explain:</span></span>

-   <span data-ttu-id="b253e-111">哪些 hello 最佳作法是</span><span class="sxs-lookup"><span data-stu-id="b253e-111">What hello best practice is</span></span>
-   <span data-ttu-id="b253e-112">為什麼要 tooenable 該最佳作法</span><span class="sxs-lookup"><span data-stu-id="b253e-112">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="b253e-113">如果您無法 tooenable hello 最佳作法，可能 hello 結果</span><span class="sxs-lookup"><span data-stu-id="b253e-113">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="b253e-114">如何了解 tooenable hello 最佳作法</span><span class="sxs-lookup"><span data-stu-id="b253e-114">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="b253e-115">本文的 Azure 資料庫的安全性最佳作法根據共識意見和 Azure 平台功能與功能設定存在於 hello 撰寫本文時的時間。</span><span class="sxs-lookup"><span data-stu-id="b253e-115">This Azure Database Security Best Practices article is based on a consensus opinion and Azure platform capabilities and feature sets as they exist at hello time this article was written.</span></span> <span data-ttu-id="b253e-116">隨時間變更的意見和技術，且這篇文章會定期 tooreflect 上更新這些變更。</span><span class="sxs-lookup"><span data-stu-id="b253e-116">Opinions and technologies change over time and this article will be updated on a regular basis tooreflect those changes.</span></span>

<span data-ttu-id="b253e-117">本文討論的 Azure 資料庫安全性最佳做法包括︰</span><span class="sxs-lookup"><span data-stu-id="b253e-117">Azure database security best practices discussed in this article include:</span></span>

-   <span data-ttu-id="b253e-118">使用防火牆規則 toorestrict 資料庫存取權</span><span class="sxs-lookup"><span data-stu-id="b253e-118">Use firewall rules toorestrict database access</span></span>
-   <span data-ttu-id="b253e-119">啟用資料庫驗證</span><span class="sxs-lookup"><span data-stu-id="b253e-119">Enable database authentication</span></span>
-   <span data-ttu-id="b253e-120">使用加密來保護您的資料</span><span class="sxs-lookup"><span data-stu-id="b253e-120">Protect your data using encryption</span></span>
-   <span data-ttu-id="b253e-121">保護傳輸中的資料</span><span class="sxs-lookup"><span data-stu-id="b253e-121">Protect data in transit</span></span>
-   <span data-ttu-id="b253e-122">啟用資料庫稽核</span><span class="sxs-lookup"><span data-stu-id="b253e-122">Enable database auditing</span></span>
-   <span data-ttu-id="b253e-123">啟用資料庫威脅偵測</span><span class="sxs-lookup"><span data-stu-id="b253e-123">Enable database threat detection</span></span>


## <a name="use-firewall-rules-toorestrict-database-access"></a><span data-ttu-id="b253e-124">使用防火牆規則 toorestrict 資料庫存取權</span><span class="sxs-lookup"><span data-stu-id="b253e-124">Use firewall rules toorestrict database access</span></span>

<span data-ttu-id="b253e-125">Microsoft Azure SQL Database 為 Azure 和其他網際網路式應用程式提供關聯式資料庫服務。</span><span class="sxs-lookup"><span data-stu-id="b253e-125">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="b253e-126">tooprovide 存取安全性，SQL Database 與防火牆規則，以限制連線 IP 位址驗證機制需要使用者 tooprove 控制存取他們的身分識別和授權機制限制使用者 toospecific 動作和資料。</span><span class="sxs-lookup"><span data-stu-id="b253e-126">tooprovide access security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> <span data-ttu-id="b253e-127">防火牆會阻止所有存取 tooyour 資料庫伺服器，直到您指定哪些電腦有權限。</span><span class="sxs-lookup"><span data-stu-id="b253e-127">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="b253e-128">hello 防火牆會授與存取 toodatabases hello 來自每個要求的 IP 位址為基礎。</span><span class="sxs-lookup"><span data-stu-id="b253e-128">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

![防火牆規則](./media/azure-database-security-best-practices/azure-database-security-best-practices-Fig1.png)

<span data-ttu-id="b253e-130">hello Azure SQL Database 服務僅透過 TCP 通訊埠 1433年提供。</span><span class="sxs-lookup"><span data-stu-id="b253e-130">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="b253e-131">tooaccess SQL 資料庫，從您的電腦，請確定您的用戶端電腦防火牆允許 TCP 通訊埠 1433年上的傳出 TCP 通訊。</span><span class="sxs-lookup"><span data-stu-id="b253e-131">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="b253e-132">如果其他應用程式不需要，請使用防火牆規則來封鎖 TCP 通訊埠 1433 的傳入連線。</span><span class="sxs-lookup"><span data-stu-id="b253e-132">If not needed for other applications, block inbound connections on TCP port 1433 using firewall rules.</span></span>

<span data-ttu-id="b253e-133">Hello 連線程序的一部分，從 Azure 虛擬機器的連線會重新導向的 tooa 不同的 IP 位址和連接埠，唯一的每個工作者角色。</span><span class="sxs-lookup"><span data-stu-id="b253e-133">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="b253e-134">hello 連接埠號碼是在 11000 too11999 hello 範圍。</span><span class="sxs-lookup"><span data-stu-id="b253e-134">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="b253e-135">如需 TCP 連接埠的詳細資訊，請參閱[適用於 ADO.NET 4.5 及 SQL Database 的 1433 以外的連接埠](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12)。</span><span class="sxs-lookup"><span data-stu-id="b253e-135">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span></span>

> [!Note]
> <span data-ttu-id="b253e-136">如需 SQL Database 中防火牆規則的詳細資訊，請參閱 [SQL Database 防火牆規則](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure)。</span><span class="sxs-lookup"><span data-stu-id="b253e-136">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>

## <a name="enable-database-authentication"></a><span data-ttu-id="b253e-137">啟用資料庫驗證</span><span class="sxs-lookup"><span data-stu-id="b253e-137">Enable database authentication</span></span>
<span data-ttu-id="b253e-138">SQL Database 支援兩種類型的驗證，SQL 驗證和 Azure Active Directory 驗證 (Azure AD 驗證)。</span><span class="sxs-lookup"><span data-stu-id="b253e-138">SQL Database supports two types of authentication, SQL Authentication and Azure Active Directory Authentication (Azure AD Authentication).</span></span>

<span data-ttu-id="b253e-139">下列情況下，建議使用 **SQL 驗證**：</span><span class="sxs-lookup"><span data-stu-id="b253e-139">**SQL Authentication** is recommended in following cases:</span></span>

-   <span data-ttu-id="b253e-140">它可讓 SQL Azure toosupport 環境具有混合作業系統，其中所有使用者無法都驗證 Windows 網域。</span><span class="sxs-lookup"><span data-stu-id="b253e-140">It allows SQL Azure toosupport environments with mixed operating systems, where all users are not authenticated by a Windows domain.</span></span>
-   <span data-ttu-id="b253e-141">允許 SQL Azure toosupport 舊版應用程式和應用程式需要 SQL Server 驗證的協力廠商所提供。</span><span class="sxs-lookup"><span data-stu-id="b253e-141">Allows SQL Azure toosupport older applications and applications provided by third parties that require SQL Server Authentication.</span></span>
-   <span data-ttu-id="b253e-142">可讓使用者從未知或不受信任網域的 tooconnect。</span><span class="sxs-lookup"><span data-stu-id="b253e-142">Allows users tooconnect from unknown or untrusted domains.</span></span> <span data-ttu-id="b253e-143">例如，既有客戶連接與應用程式指定 SQL Server 登入 tooreceive hello 訂單狀態。</span><span class="sxs-lookup"><span data-stu-id="b253e-143">For instance, an application where established customers connect with assigned SQL Server logins tooreceive hello status of their orders.</span></span>
-   <span data-ttu-id="b253e-144">可讓 SQL Azure toosupport Web 應用程式讓使用者建立自己的識別。</span><span class="sxs-lookup"><span data-stu-id="b253e-144">Allows SQL Azure toosupport Web-based applications where users create their own identities.</span></span>
-   <span data-ttu-id="b253e-145">可讓軟體開發人員 toodistribute 使用複雜的權限階層其應用程式根據已知，預設 SQL Server 登入。</span><span class="sxs-lookup"><span data-stu-id="b253e-145">Allows software developers toodistribute their applications by using a complex permission hierarchy based on known, preset SQL Server logins.</span></span>

> [!Note]
> <span data-ttu-id="b253e-146">不過，SQL Server 驗證無法使用 Kerberos 安全性通訊協定。</span><span class="sxs-lookup"><span data-stu-id="b253e-146">However, SQL Server Authentication cannot use Kerberos security protocol.</span></span>

<span data-ttu-id="b253e-147">如果您是使用 **SQL 驗證**，就必須：</span><span class="sxs-lookup"><span data-stu-id="b253e-147">If you use **SQL Authentication** you must:</span></span>

-   <span data-ttu-id="b253e-148">自行管理 hello 強式認證。</span><span class="sxs-lookup"><span data-stu-id="b253e-148">Manage hello strong credentials yourself.</span></span>
-   <span data-ttu-id="b253e-149">保護 hello hello 連接字串中的憑證。</span><span class="sxs-lookup"><span data-stu-id="b253e-149">Protect hello credentials in hello connection string.</span></span>
-   <span data-ttu-id="b253e-150">（可能） 來保護從 hello Web server toohello 資料庫 hello 網路上傳送的 hello 認證。</span><span class="sxs-lookup"><span data-stu-id="b253e-150">(Potentially) protect hello credentials passed over hello network from hello Web server toohello database.</span></span> <span data-ttu-id="b253e-151">如需詳細資訊，請參閱[如何： 連接 tooSQL Server ASP.NET 2.0 中，使用 SQL 驗證](https://msdn.microsoft.com/library/ms998300.aspx)。</span><span class="sxs-lookup"><span data-stu-id="b253e-151">For more information see [how to: Connect tooSQL Server Using SQL Authentication in ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span></span>

<span data-ttu-id="b253e-152">**Azure Active Directory 驗證**是一項機制的連接 tooMicrosoft Azure SQL Database 和[SQL 資料倉儲](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is)使用 Azure Active Directory (Azure AD) 中的身分識別。</span><span class="sxs-lookup"><span data-stu-id="b253e-152">**Azure Active Directory authentication** is a mechanism of connecting tooMicrosoft Azure SQL Database and [SQL Data Warehouse](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="b253e-153">使用 Azure AD 驗證時，您可以集中管理 hello 的資料庫使用者的身分識別和其他 Microsoft 服務在單一中央位置。</span><span class="sxs-lookup"><span data-stu-id="b253e-153">With Azure AD authentication, you can centrally manage hello identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="b253e-154">中央識別碼管理 toomanage 資料庫使用者提供單一位置，並簡化權限管理。</span><span class="sxs-lookup"><span data-stu-id="b253e-154">Central ID management provides a single place toomanage database users and simplifies permission management.</span></span> <span data-ttu-id="b253e-155">優點 hello 如下：</span><span class="sxs-lookup"><span data-stu-id="b253e-155">Benefits include hello following:</span></span>

-   <span data-ttu-id="b253e-156">它提供替代 tooSQL 伺服器驗證。</span><span class="sxs-lookup"><span data-stu-id="b253e-156">It provides an alternative tooSQL Server authentication.</span></span>
-   <span data-ttu-id="b253e-157">可協助停止使用者身分識別的 hello 的擴散到資料庫伺服器。</span><span class="sxs-lookup"><span data-stu-id="b253e-157">Helps stop hello proliferation of user identities across database servers.</span></span>
-   <span data-ttu-id="b253e-158">允許在單一位置變換密碼。</span><span class="sxs-lookup"><span data-stu-id="b253e-158">Allows password rotation in a single place.</span></span>
-   <span data-ttu-id="b253e-159">客戶可以管理使用外部 (AAD) 群組的資料庫權限。</span><span class="sxs-lookup"><span data-stu-id="b253e-159">Customers can manage database permissions using external (AAD) groups.</span></span>
-   <span data-ttu-id="b253e-160">它可以藉由啟用整合式 Windows 驗證和 Azure Active Directory 支援的其他形式驗證來避免儲存密碼。</span><span class="sxs-lookup"><span data-stu-id="b253e-160">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
-   <span data-ttu-id="b253e-161">Azure AD 驗證在 hello 資料庫層級，使用自主的資料庫使用者 tooauthenticate 身分識別。</span><span class="sxs-lookup"><span data-stu-id="b253e-161">Azure AD authentication uses contained database users tooauthenticate identities at hello database level.</span></span>
-   <span data-ttu-id="b253e-162">Azure AD 支援連接 tooSQL 資料庫應用程式的權杖為基礎的驗證。</span><span class="sxs-lookup"><span data-stu-id="b253e-162">Azure AD supports token-based authentication for applications connecting tooSQL Database.</span></span>
-   <span data-ttu-id="b253e-163">Azure AD 驗證本機 Azure Active Directory 的 ADFS (網域同盟) 或原生使用者/密碼驗證，而不需進行網域同步處理。</span><span class="sxs-lookup"><span data-stu-id="b253e-163">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>
-   <span data-ttu-id="b253e-164">Azure AD 支援來自 SQL Server Management Studio 的連線，其中使用包含 Multi-Factor Authentication (MFA) 的 Active Directory 通用驗證。</span><span class="sxs-lookup"><span data-stu-id="b253e-164">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span> <span data-ttu-id="b253e-165">MFA 包含增強式驗證功能，其中提供一系列簡易的驗證選項，例如電話、簡訊、含有 PIN 的智慧卡或行動應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="b253e-165">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="b253e-166">如需詳細資訊，請參閱 [適用於與 SQL Database 和 SQL 資料倉儲搭配使用之 Azure AD MFA 的 SSMS 支援](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication)。</span><span class="sxs-lookup"><span data-stu-id="b253e-166">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span></span>

<span data-ttu-id="b253e-167">hello 組態步驟包含下列程序 tooconfigure hello，並使用 Azure Active Directory 驗證。</span><span class="sxs-lookup"><span data-stu-id="b253e-167">hello configuration steps include hello following procedures tooconfigure and use Azure Active Directory authentication.</span></span>

-   <span data-ttu-id="b253e-168">建立和填入 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="b253e-168">Create and populate Azure AD.</span></span>
-   <span data-ttu-id="b253e-169">選擇性： 產生關聯，或變更 hello 目前與 Azure 訂用帳戶相關聯的 active directory。</span><span class="sxs-lookup"><span data-stu-id="b253e-169">Optional: Associate or change hello active directory that is currently associated with your    Azure Subscription.</span></span>
-   <span data-ttu-id="b253e-170">建立 Azure SQL 伺服器或 [Azure SQL 資料倉儲](https://azure.microsoft.com/services/sql-data-warehouse/)的 Azure Active Directory 系統管理員。</span><span class="sxs-lookup"><span data-stu-id="b253e-170">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
- <span data-ttu-id="b253e-171">設定用戶端電腦。</span><span class="sxs-lookup"><span data-stu-id="b253e-171">Configure your client computers.</span></span>
-   <span data-ttu-id="b253e-172">在對應資料庫 tooAzure AD 身分識別建立自主的資料庫使用者。</span><span class="sxs-lookup"><span data-stu-id="b253e-172">Create contained database users in your database mapped tooAzure AD identities.</span></span>
-   <span data-ttu-id="b253e-173">使用 Azure AD 識別身分，連接 tooyour 資料庫。</span><span class="sxs-lookup"><span data-stu-id="b253e-173">Connect tooyour database by using Azure AD identities.</span></span>

<span data-ttu-id="b253e-174">您可以在[這裡](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication)找到詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="b253e-174">You can find details information [here](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span></span>

## <a name="protect-your-data-using-encryption"></a><span data-ttu-id="b253e-175">使用加密來保護您的資料</span><span class="sxs-lookup"><span data-stu-id="b253e-175">Protect your data using encryption</span></span>

<span data-ttu-id="b253e-176">[Azure SQL Database 透明資料加密 (TDE)](https://msdn.microsoft.com/library/dn948096.aspx)有助於保護 hello 威脅惡意活動所執行的即時加密與解密的 hello 資料庫相關聯的備份和交易記錄檔不含靜止需要變更 toohello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="b253e-176">[Azure SQL Database transparent data encryption (TDE)](https://msdn.microsoft.com/library/dn948096.aspx) helps protect against hello threat of malicious activity by performing real-time encryption and decryption of hello database, associated backups, and transaction log files at rest without requiring changes toohello application.</span></span> <span data-ttu-id="b253e-177">TDE 會使用對稱金鑰的呼叫的 hello 資料庫加密金鑰將整個資料庫的 hello 儲存體。</span><span class="sxs-lookup"><span data-stu-id="b253e-177">TDE encrypts hello storage of an entire database by using a symmetric key called hello database encryption key.</span></span>

<span data-ttu-id="b253e-178">Hello 整個儲存已加密，即使它是非常重要 tooalso 加密資料庫本身。</span><span class="sxs-lookup"><span data-stu-id="b253e-178">Even when hello entire storage is encrypted, it is very important tooalso encrypt your database itself.</span></span> <span data-ttu-id="b253e-179">這是 hello 防禦保護資料的深度方法的實作。</span><span class="sxs-lookup"><span data-stu-id="b253e-179">This is an implementation of hello defense in depth approach for data protection.</span></span> <span data-ttu-id="b253e-180">如果您使用 Azure SQL Database，並想 tooprotect 敏感性資料，例如信用卡或身分證號碼，您可以加密的資料庫與 FIPS 140-2 驗證 256 位元 AES 加密符合許多業界標準 (例如，HIPAA 的 hello 要求PCI）)。</span><span class="sxs-lookup"><span data-stu-id="b253e-180">If you are using Azure SQL Database and wish tooprotect sensitive data such as credit card or social security numbers, you can encrypt databases with FIPS 140-2 validated 256 bit AES encryption which meets hello requirements of many industry standards (e.g., HIPAA, PCI).</span></span>

<span data-ttu-id="b253e-181">很重要檔案的 toounderstand 太相關[緩衝集區擴充 (BPE)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension)使用 TDE 加密資料庫時，不會加密。</span><span class="sxs-lookup"><span data-stu-id="b253e-181">It’s important toounderstand that files related too[buffer pool extension (BPE)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) are not encrypted when a database is encrypted using TDE.</span></span> <span data-ttu-id="b253e-182">您必須使用檔案系統層級加密工具[BitLocker](https://technet.microsoft.com/library/cc732774)或 hello[加密檔案系統 (EFS)](https://technet.microsoft.com/library/cc700811.aspx)針對 BPE 相關檔案。</span><span class="sxs-lookup"><span data-stu-id="b253e-182">You must use file system level encryption tools like [BitLocker](https://technet.microsoft.com/library/cc732774) or hello [Encrypting File System (EFS)](https://technet.microsoft.com/library/cc700811.aspx) for BPE related files.</span></span>

<span data-ttu-id="b253e-183">因為授權的使用者等安全性系統管理員或資料庫管理員可以存取 hello 資料即使 hello 資料庫經過加密與 TDE，您也應該遵循下列的 hello 建議：</span><span class="sxs-lookup"><span data-stu-id="b253e-183">Since an authorized user such as a security administrator or a database administrator can access hello data even if hello database is encrypted with TDE, you should also follow hello recommendations below:</span></span>

-   <span data-ttu-id="b253e-184">啟用 hello 資料庫層級 SQL 驗證。</span><span class="sxs-lookup"><span data-stu-id="b253e-184">Enable SQL authentication at hello database level.</span></span>
-   <span data-ttu-id="b253e-185">使用 [RBAC 角色](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is)的 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="b253e-185">Use Azure AD authentication using [RBAC roles](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span></span>
-   <span data-ttu-id="b253e-186">使用者和應用程式應該使用不同的帳戶 tooauthenticate。</span><span class="sxs-lookup"><span data-stu-id="b253e-186">Users and applications should use separate accounts tooauthenticate.</span></span> <span data-ttu-id="b253e-187">如此一來您可以限制 hello toousers 和應用程式授與的權限，並降低 hello 風險的惡意活動。</span><span class="sxs-lookup"><span data-stu-id="b253e-187">This way you can limit hello permissions granted toousers and applications and reduce hello risks of malicious activity.</span></span>
-   <span data-ttu-id="b253e-188">實作資料庫層級安全性使用固定的資料庫角色 （例如 db_datareader 或 db_datawriter），或者您可以建立自訂角色的應用程式 toogrant 明確權限 tooselected 資料庫物件。</span><span class="sxs-lookup"><span data-stu-id="b253e-188">Implement database-level security by using fixed database roles (such as db_datareader or db_datawriter), or you can create custom roles for your application toogrant explicit permissions tooselected database objects.</span></span>

<span data-ttu-id="b253e-189">其他方式 tooencrypt 您的資料，請考慮：</span><span class="sxs-lookup"><span data-stu-id="b253e-189">For other ways tooencrypt your data, consider:</span></span>

-   <span data-ttu-id="b253e-190">[資料格層級加密](https://msdn.microsoft.com/library/ms179331.aspx)tooencrypt 特定資料行或甚至是資料格具有不同的加密金鑰的資料。</span><span class="sxs-lookup"><span data-stu-id="b253e-190">[Cell-level encryption](https://msdn.microsoft.com/library/ms179331.aspx) tooencrypt specific columns or even cells of data with different encryption keys.</span></span>
-   <span data-ttu-id="b253e-191">使用 永遠加密的使用中的加密：[永遠加密](https://msdn.microsoft.com/library/mt163865.aspx)可讓用戶端 tooencrypt 敏感性資料用戶端應用程式內，但絕不會顯示 hello 加密金鑰 toohello Database Engine （SQL Database 或 SQL Server）。</span><span class="sxs-lookup"><span data-stu-id="b253e-191">Encryption in use using Always Encrypted: [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx) allows clients tooencrypt sensitive data inside client applications and never reveal hello encryption keys toohello Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="b253e-192">如此一來，「 永遠加密 」 的區隔擁有者 hello 資料 （且可以檢視） 和管理者 hello 資料 （但應該不具備存取權）。</span><span class="sxs-lookup"><span data-stu-id="b253e-192">As a result, Always Encrypted provides a separation between those who own hello data (and can view it) and those who manage hello data (but should have no access).</span></span>
-   <span data-ttu-id="b253e-193">使用資料列層級安全性： 資料列層級安全性可讓客戶 toocontrol 存取 toorows 根據 hello 特性 hello 使用者執行查詢 （例如，群組成員資格或執行內容） 的資料庫資料表中。</span><span class="sxs-lookup"><span data-stu-id="b253e-193">Using Row-level security: Row-Level Security enables customers toocontrol access toorows in a database table based on hello characteristics of hello user executing a query (e.g., group membership or execution context).</span></span> <span data-ttu-id="b253e-194">如需詳細資訊，請參閱[資料列層級安全性](https://msdn.microsoft.com/library/dn765131)。</span><span class="sxs-lookup"><span data-stu-id="b253e-194">For more information, see [Row-Level security](https://msdn.microsoft.com/library/dn765131).</span></span>

## <a name="protect-data-in-transit"></a><span data-ttu-id="b253e-195">保護傳輸中的資料</span><span class="sxs-lookup"><span data-stu-id="b253e-195">Protect data in transit</span></span>
<span data-ttu-id="b253e-196">保護傳輸中的資料應該是您的資料保護策略中不可或缺的部分。</span><span class="sxs-lookup"><span data-stu-id="b253e-196">Protecting data in transit should be essential part of your data protection strategy.</span></span> <span data-ttu-id="b253e-197">因為資料會從許多位置來回移動，hello 一般建議您一律使用 SSL/TLS 通訊協定 tooexchange 資料分散在不同的位置。</span><span class="sxs-lookup"><span data-stu-id="b253e-197">Since data will be moving back and forth from many locations, hello general recommendation is that you always use SSL/TLS protocols tooexchange data across different locations.</span></span> <span data-ttu-id="b253e-198">在某些情況下，您可能想 tooisolate hello 整個通訊通道，您的內部部署與雲端之間使用虛擬私人網路 (VPN) 的基礎結構。</span><span class="sxs-lookup"><span data-stu-id="b253e-198">In some circumstances, you may want tooisolate hello entire communication channel between your on-premises and cloud infrastructure by using a virtual private network (VPN).</span></span>

<span data-ttu-id="b253e-199">對於在內部部署基礎結構與 Azure 之間移動的資料，您應該考慮適當的防護措施，例如 HTTPS 或 VPN。</span><span class="sxs-lookup"><span data-stu-id="b253e-199">For data moving between your on-premises infrastructure and Azure, you should consider appropriate safeguards such as HTTPS or VPN.</span></span>

<span data-ttu-id="b253e-200">針對需要從多個工作站位在內部 tooAzure toosecure 存取的組織，使用[Azure 站台對站 VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create)。</span><span class="sxs-lookup"><span data-stu-id="b253e-200">For organizations that need toosecure access from multiple workstations located on-premises tooAzure, use [Azure site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span></span>

<span data-ttu-id="b253e-201">需要 toosecure 的組織從位於個別的工作站存取內部或外部部署 tooAzure，請考慮使用[點對站 VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create)。</span><span class="sxs-lookup"><span data-stu-id="b253e-201">For organizations that need toosecure access from individual workstations located on-premises or off-premises tooAzure, consider using [Point-to-Site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span></span>

<span data-ttu-id="b253e-202">較大的資料集可以透過專用的高速 WAN 連結 (例如 [ExpressRoute](https://azure.microsoft.com/services/expressroute/)) 移動。</span><span class="sxs-lookup"><span data-stu-id="b253e-202">Larger data sets can be moved over a dedicated high-speed WAN link such as [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span></span> <span data-ttu-id="b253e-203">如果您選擇 toouse ExpressRoute，您也可以加密 hello 資料在 hello 應用程式層級使用[SSL/TLS](https://support.microsoft.com/kb/257591)或為了提高保護其他通訊協定。</span><span class="sxs-lookup"><span data-stu-id="b253e-203">If you choose toouse ExpressRoute, you can also encrypt hello data at hello application-level using [SSL/TLS](https://support.microsoft.com/kb/257591) or other protocols for added protection.</span></span>

<span data-ttu-id="b253e-204">如果透過 hello Azure 網站互動與 Azure 儲存體，所有交易將會透過 HTTPS 都發生。</span><span class="sxs-lookup"><span data-stu-id="b253e-204">If you are interacting with Azure Storage through hello Azure Portal, all transactions occur via HTTPS.</span></span> <span data-ttu-id="b253e-205">[儲存體 REST API](https://msdn.microsoft.com/library/azure/dd179355.aspx)透過 HTTPS 也可以與使用的 toointeract [Azure 儲存體](https://azure.microsoft.com/services/storage/)和[Azure SQL Database](https://azure.microsoft.com/services/sql-database/)。</span><span class="sxs-lookup"><span data-stu-id="b253e-205">[Storage REST API](https://msdn.microsoft.com/library/azure/dd179355.aspx) over HTTPS can also be used toointeract with [Azure Storage](https://azure.microsoft.com/services/storage/) and [Azure SQL Database](https://azure.microsoft.com/services/sql-database/).</span></span>

<span data-ttu-id="b253e-206">失敗 tooprotect 資料在傳輸過程中的組織就更容易受到如[攔截攻擊](https://technet.microsoft.com/library/gg195821.aspx)，[竊聽](https://technet.microsoft.com/library/gg195641.aspx)和工作階段攔截。</span><span class="sxs-lookup"><span data-stu-id="b253e-206">Organizations that fail tooprotect data in transit are more susceptible for [man-in-the-middle attacks](https://technet.microsoft.com/library/gg195821.aspx), [eavesdropping](https://technet.microsoft.com/library/gg195641.aspx) and session hijacking.</span></span> <span data-ttu-id="b253e-207">Hello 第一個步驟中獲得存取 tooconfidential 資料時，可以是這些攻擊。</span><span class="sxs-lookup"><span data-stu-id="b253e-207">These attacks can be hello first step in gaining access tooconfidential data.</span></span>

<span data-ttu-id="b253e-208">深入了解 Azure VPN 選項，藉由讀取 hello 文章 toolearn[規劃和設計 VPN 閘道](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design)。</span><span class="sxs-lookup"><span data-stu-id="b253e-208">toolearn more about Azure VPN option by reading hello article [Planning and design for VPN Gateway](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span></span>

## <a name="enable-database-auditing"></a><span data-ttu-id="b253e-209">啟用資料庫稽核</span><span class="sxs-lookup"><span data-stu-id="b253e-209">Enable database auditing</span></span>
<span data-ttu-id="b253e-210">稽核 SQL Server Database Engine hello 或個別資料庫的執行個體牽涉到追蹤和記錄 hello 資料庫引擎發生的事件。</span><span class="sxs-lookup"><span data-stu-id="b253e-210">Auditing an instance of hello SQL Server Database Engine or an individual database involves tracking and logging events that occur on hello Database Engine.</span></span> <span data-ttu-id="b253e-211">SQL Server 稽核可讓您建立伺服器稽核，其中可能包含伺服器等級事件的伺服器稽核規格，以及資料庫等級事件的資料庫稽核規格。</span><span class="sxs-lookup"><span data-stu-id="b253e-211">SQL Server audit lets you create server audits, which can contain server audit specifications for server level events, and database audit specifications for database level events.</span></span> <span data-ttu-id="b253e-212">可以稽核的事件寫入 toohello 事件記錄檔或 tooaudit 檔案。</span><span class="sxs-lookup"><span data-stu-id="b253e-212">Audited events can be written toohello event logs or tooaudit files.</span></span>

<span data-ttu-id="b253e-213">根據管制或安裝的標準需求而定，會有數個 SQL Server 的稽核等級。</span><span class="sxs-lookup"><span data-stu-id="b253e-213">There are several levels of auditing for SQL Server, depending on government or standards requirements for your installation.</span></span> <span data-ttu-id="b253e-214">SQL Server Audit 提供 hello 工具和程序，您必須擁有 tooenable、 市集和稽核檢視各種伺服器和資料庫物件。</span><span class="sxs-lookup"><span data-stu-id="b253e-214">SQL Server Audit provides hello tools and processes you must have tooenable, store, and view audits on various server and database objects.</span></span>

<span data-ttu-id="b253e-215">[Azure SQL Database 稽核](https://docs.microsoft.com/azure/sql-database/sql-database-auditing)追蹤資料庫事件並將事件寫入 Azure 儲存體帳戶中 tooan 稽核記錄檔。</span><span class="sxs-lookup"><span data-stu-id="b253e-215">[Azure SQL Database Auditing](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) tracks database events and writes them tooan audit log in your Azure Storage account.</span></span>

<span data-ttu-id="b253e-216">稽核可協助您保持法規遵循、了解資料庫活動，以及深入了解可指出商務考量或疑似安全違規的不一致和異常。</span><span class="sxs-lookup"><span data-stu-id="b253e-216">Auditing can help you maintain regulatory compliance, understand database activity, and gain insight into discrepancies and anomalies that could indicate business concerns or suspected security violations.</span></span>

<span data-ttu-id="b253e-217">稽核可讓和有助於遵循 toocompliance 標準但並不保證相容性。</span><span class="sxs-lookup"><span data-stu-id="b253e-217">Auditing enables and facilitates adherence toocompliance standards but doesn't guarantee compliance.</span></span>

<span data-ttu-id="b253e-218">深入了解資料庫稽核 toolearn 和如何 tooenable，請閱讀 hello 文章[啟用 Azure 資訊安全中心中的 SQL 伺服器上的稽核和威脅偵測](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers)。</span><span class="sxs-lookup"><span data-stu-id="b253e-218">toolearn more about database auditing and how tooenable it, please read hello article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="enable-database-threat-detection"></a><span data-ttu-id="b253e-219">啟用資料庫威脅偵測</span><span class="sxs-lookup"><span data-stu-id="b253e-219">Enable database threat detection</span></span>
<span data-ttu-id="b253e-220">SQL 威脅偵測可讓您 toodetect，以及藉由提供異常活動的安全性警示發生時，回應 toopotential 威脅。</span><span class="sxs-lookup"><span data-stu-id="b253e-220">SQL Threat Detection enables you toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span> <span data-ttu-id="b253e-221">一旦有可疑活動、潛在弱點、SQL 插入式攻擊和異常資料庫存取模式發生時，您將會收到警示。</span><span class="sxs-lookup"><span data-stu-id="b253e-221">You will receive an alert upon suspicious database activities, potential vulnerabilities, and SQL injection attacks, as well as anomalous database access patterns.</span></span> <span data-ttu-id="b253e-222">SQL 威脅偵測警示提供可疑活動的詳細資訊和建議動作如何 tooinvestigate 和降低 hello 威脅。</span><span class="sxs-lookup"><span data-stu-id="b253e-222">SQL Threat Detection alerts provide details of suspicious activity and recommend action on how tooinvestigate and mitigate hello threat.</span></span>

<span data-ttu-id="b253e-223">例如，SQL 資料隱碼是 hello 一般 Web 應用程式安全性問題 hello 網際網路，使用的 tooattack 資料導向應用程式上的其中一個。</span><span class="sxs-lookup"><span data-stu-id="b253e-223">For example, SQL injection is one of hello common Web application security issues on hello Internet, used tooattack data-driven applications.</span></span> <span data-ttu-id="b253e-224">攻擊者利用的應用程式的弱點可能會 tooinject 惡意的 SQL 陳述式到應用程式項目欄位中，違反或修改 hello 資料庫中的資料。</span><span class="sxs-lookup"><span data-stu-id="b253e-224">Attackers take advantage of application vulnerabilities tooinject malicious SQL statements into application entry fields, breaching or modifying data in hello database.</span></span>

<span data-ttu-id="b253e-225">有關如何 toolearn 威脅偵測功能為您的資料庫，在 Azure 入口網站，請參閱 hello tooset [SQL Database 威脅偵測](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection)。</span><span class="sxs-lookup"><span data-stu-id="b253e-225">toolearn about how tooset up threat detection for your database in hello Azure portal see, [SQL Database Threat Detection](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span></span>

<span data-ttu-id="b253e-226">此外，SQL 威脅偵測將自有的警示與 [Azure 資訊安全中心](https://azure.microsoft.com/services/security-center/)整合。</span><span class="sxs-lookup"><span data-stu-id="b253e-226">In addition, SQL Threat Detection integrates alerts with [Azure Security Center](https://azure.microsoft.com/services/security-center/).</span></span> <span data-ttu-id="b253e-227">我們邀請您 tootry 它 60 天的免費。</span><span class="sxs-lookup"><span data-stu-id="b253e-227">We invite you tootry it out for 60 days for free.</span></span>

<span data-ttu-id="b253e-228">深入了解 Database 威脅偵測 toolearn 和如何 tooenable，請閱讀 hello 文章[啟用 Azure 資訊安全中心中的 SQL 伺服器上的稽核和威脅偵測](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers)。</span><span class="sxs-lookup"><span data-stu-id="b253e-228">toolearn more about Database Threat Detection and how tooenable it, please read hello article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="conclusion"></a><span data-ttu-id="b253e-229">結論</span><span class="sxs-lookup"><span data-stu-id="b253e-229">Conclusion</span></span>
<span data-ttu-id="b253e-230">Azure 資料庫是強固的資料庫平台，具有完整的安全性功能，能符合許多組織及法務相容性需求。</span><span class="sxs-lookup"><span data-stu-id="b253e-230">Azure Database is a robust database platform, with a full range of security features that meet many organizational and regulatory compliance requirements.</span></span> <span data-ttu-id="b253e-231">您可以協助控制 tooyour hello 實體存取的資料，及使用各種不同的選項，提供在 hello 檔案-資料行，或使用透明資料加密、 資料格層級加密或資料列層級安全性的資料列層級的資料安全性來保護資料。</span><span class="sxs-lookup"><span data-stu-id="b253e-231">You can help protect data by controlling hello physical access tooyour data, and using a variety of options for data security at hello file-, column-, or row level with Transparent Data Encryption, Cell-Level Encryption, or Row-Level Security.</span></span> <span data-ttu-id="b253e-232">永遠加密也可讓您操作對加密資料，簡化的應用程式更新的 hello 程序。</span><span class="sxs-lookup"><span data-stu-id="b253e-232">Always Encrypted also enables operations against encrypted data, simplifying hello process of application updates.</span></span> <span data-ttu-id="b253e-233">接著，存取 tooauditing 活動會提供您的需要可讓您存取資料的方式和時機的 tooknow hello 資訊的 SQL 資料庫記錄。</span><span class="sxs-lookup"><span data-stu-id="b253e-233">In turn, access tooauditing logs of SQL Database activity provides you with hello information you need, allowing you tooknow how and when data is accessed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b253e-234">後續步驟</span><span class="sxs-lookup"><span data-stu-id="b253e-234">Next steps</span></span>
- <span data-ttu-id="b253e-235">toolearn 進一步了解防火牆規則，請參閱[防火牆規則](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure)。</span><span class="sxs-lookup"><span data-stu-id="b253e-235">toolearn more about firewall rules, see [Firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>
- <span data-ttu-id="b253e-236">toolearn 有關使用者和登入，請參閱[管理登入](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins)。</span><span class="sxs-lookup"><span data-stu-id="b253e-236">toolearn about users and logins, see [Manage logins](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span></span>
- <span data-ttu-id="b253e-237">如需教學課程，請參閱[保護 Azure SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial)。</span><span class="sxs-lookup"><span data-stu-id="b253e-237">For a tutorial, see [Secure your Azure SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span></span>
