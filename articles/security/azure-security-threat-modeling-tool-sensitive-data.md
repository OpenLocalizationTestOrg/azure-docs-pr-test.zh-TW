---
title: "aaaSensitive 資料-Microsoft 威脅模型化工具-Azure |Microsoft 文件"
description: "hello 威脅模型化工具中公開的威脅防護功能"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 8a18f43af439241ba193ccf668971ddc4655355f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-sensitive-data--mitigations"></a><span data-ttu-id="698a8-103">安全性架構︰敏感性資料 | 風險降低</span><span class="sxs-lookup"><span data-stu-id="698a8-103">Security Frame: Sensitive Data | Mitigations</span></span> 
| <span data-ttu-id="698a8-104">產品/服務</span><span class="sxs-lookup"><span data-stu-id="698a8-104">Product/Service</span></span> | <span data-ttu-id="698a8-105">文章</span><span class="sxs-lookup"><span data-stu-id="698a8-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="698a8-106">**電腦信任邊界**</span><span class="sxs-lookup"><span data-stu-id="698a8-106">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="698a8-107">確定包含敏感性資訊的二進位檔已經過模糊處理</span><span class="sxs-lookup"><span data-stu-id="698a8-107">Ensure that binaries are obfuscated if they contain sensitive information</span></span>](#binaries-info)</li><li>[<span data-ttu-id="698a8-108">請考慮使用加密檔案系統 (EFS) 是使用的 tooprotect 機密使用者特定的資料</span><span class="sxs-lookup"><span data-stu-id="698a8-108">Consider using Encrypted File System (EFS) is used tooprotect confidential user-specific data</span></span>](#efs-user)</li><li>[<span data-ttu-id="698a8-109">請確定 hello hello 檔案系統上的應用程式所儲存的敏感性資料已加密</span><span class="sxs-lookup"><span data-stu-id="698a8-109">Ensure that sensitive data stored by hello application on hello file system is encrypted</span></span>](#filesystem)</li></ul> | 
| <span data-ttu-id="698a8-110">**Web 應用程式**</span><span class="sxs-lookup"><span data-stu-id="698a8-110">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="698a8-111">確保機密內容不會在 hello 瀏覽器上快取</span><span class="sxs-lookup"><span data-stu-id="698a8-111">Ensure that sensitive content is not cached on hello browser</span></span>](#cache-browser)</li><li>[<span data-ttu-id="698a8-112">加密包含敏感性資料的 Web 應用程式組態檔區段</span><span class="sxs-lookup"><span data-stu-id="698a8-112">Encrypt sections of Web App's configuration files that contain sensitive data</span></span>](#encrypt-data)</li><li>[<span data-ttu-id="698a8-113">明確停用機密的表單和輸入中的 hello 自動完成 HTML 屬性</span><span class="sxs-lookup"><span data-stu-id="698a8-113">Explicitly disable hello autocomplete HTML attribute in sensitive forms and inputs</span></span>](#autocomplete-input)</li><li>[<span data-ttu-id="698a8-114">請確定 hello 使用者螢幕上顯示的敏感性資料加上遮罩</span><span class="sxs-lookup"><span data-stu-id="698a8-114">Ensure that sensitive data displayed on hello user screen is masked</span></span>](#data-mask)</li></ul> | 
| <span data-ttu-id="698a8-115">**資料庫**</span><span class="sxs-lookup"><span data-stu-id="698a8-115">**Database**</span></span> | <ul><li>[<span data-ttu-id="698a8-116">實作動態資料遮罩 toolimit 機密資料暴露非特殊權限的使用者</span><span class="sxs-lookup"><span data-stu-id="698a8-116">Implement dynamic data masking toolimit sensitive data exposure non privileged users</span></span>](#dynamic-users)</li><li>[<span data-ttu-id="698a8-117">確定密碼是以 salted 雜湊格式儲存</span><span class="sxs-lookup"><span data-stu-id="698a8-117">Ensure that passwords are stored in salted hash format</span></span>](#salted-hash)</li><li>[<span data-ttu-id="698a8-118">確定資料庫資料行中的敏感性資料已加密</span><span class="sxs-lookup"><span data-stu-id="698a8-118"> Ensure that sensitive data in database columns is encrypted</span></span>](#db-encrypted)</li><li>[<span data-ttu-id="698a8-119">確定已啟用資料庫層級加密 (TDE)</span><span class="sxs-lookup"><span data-stu-id="698a8-119">Ensure that database-level encryption (TDE) is enabled</span></span>](#tde-enabled)</li><li>[<span data-ttu-id="698a8-120">確定資料庫備份已加密</span><span class="sxs-lookup"><span data-stu-id="698a8-120">Ensure that database backups are encrypted</span></span>](#backup)</li></ul> | 
| <span data-ttu-id="698a8-121">**Web API**</span><span class="sxs-lookup"><span data-stu-id="698a8-121">**Web API**</span></span> | <ul><li>[<span data-ttu-id="698a8-122">請確定該應用程式開發介面不會在瀏覽器的儲存體中儲存的敏感性資料相關 tooWeb</span><span class="sxs-lookup"><span data-stu-id="698a8-122">Ensure that sensitive data relevant tooWeb API is not stored in browser's storage</span></span>](#api-browser)</li></ul> | 
| <span data-ttu-id="698a8-123">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="698a8-123">Azure Document DB</span></span> | <ul><li>[<span data-ttu-id="698a8-124">將儲存在 DocumentDB 中的敏感性資料加密</span><span class="sxs-lookup"><span data-stu-id="698a8-124">Encrypt sensitive data stored in DocumentDB</span></span>](#encrypt-docdb)</li></ul> | 
| <span data-ttu-id="698a8-125">**Azure IaaS VM 信任邊界**</span><span class="sxs-lookup"><span data-stu-id="698a8-125">**Azure IaaS VM Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="698a8-126">使用 Azure 磁碟加密 tooencrypt 磁碟的虛擬機器使用</span><span class="sxs-lookup"><span data-stu-id="698a8-126">Use Azure Disk Encryption tooencrypt disks used by Virtual Machines</span></span>](#disk-vm)</li></ul> | 
| <span data-ttu-id="698a8-127">**Service Fabric 信任邊界**</span><span class="sxs-lookup"><span data-stu-id="698a8-127">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="698a8-128">將 Service Fabric 應用程式中的密碼加密</span><span class="sxs-lookup"><span data-stu-id="698a8-128">Encrypt secrets in Service Fabric applications</span></span>](#fabric-apps)</li></ul> | 
| <span data-ttu-id="698a8-129">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="698a8-129">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="698a8-130">執行安全性模型化並視需要使用業務單位/團隊</span><span class="sxs-lookup"><span data-stu-id="698a8-130">Perform security modeling and use Business Units/Teams where required</span></span>](#modeling-teams)</li><li>[<span data-ttu-id="698a8-131">最小化在重要的實體存取 tooshare 功能</span><span class="sxs-lookup"><span data-stu-id="698a8-131">Minimize access tooshare feature on critical entities</span></span>](#entities)</li><li>[<span data-ttu-id="698a8-132">定型使用者 hello hello Dynamics CRM 共用功能及良好的安全性做法的相關的風險</span><span class="sxs-lookup"><span data-stu-id="698a8-132">Train users on hello risks associated with hello Dynamics CRM Share feature and good security practices</span></span>](#good-practices)</li><li>[<span data-ttu-id="698a8-133">包含開發標準規則來禁止在例外狀況管理中顯示組態詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-133">Include a development standards rule proscribing showing config details in exception management</span></span>](#exception-mgmt)</li></ul> | 
| <span data-ttu-id="698a8-134">**Azure 儲存體**</span><span class="sxs-lookup"><span data-stu-id="698a8-134">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="698a8-135">針對待用資料使用 Azure 儲存體服務加密 (SSE) (預覽)</span><span class="sxs-lookup"><span data-stu-id="698a8-135">Use Azure Storage Service Encryption (SSE) for Data at Rest (Preview)</span></span>](#sse-preview)</li><li>[<span data-ttu-id="698a8-136">使用 Azure 儲存體中的用戶端加密 toostore 機密資料</span><span class="sxs-lookup"><span data-stu-id="698a8-136">Use Client-Side Encryption toostore sensitive data in Azure Storage</span></span>](#client-storage)</li></ul> | 
| <span data-ttu-id="698a8-137">**行動用戶端**</span><span class="sxs-lookup"><span data-stu-id="698a8-137">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="698a8-138">加密敏感或 PII 資料寫入 toophones 本機儲存體</span><span class="sxs-lookup"><span data-stu-id="698a8-138">Encrypt sensitive or PII data written toophones local storage</span></span>](#pii-phones)</li><li>[<span data-ttu-id="698a8-139">模糊化散發 tooend 使用者之前產生的二進位檔</span><span class="sxs-lookup"><span data-stu-id="698a8-139">Obfuscate generated binaries before distributing tooend users</span></span>](#binaries-end)</li></ul> | 
| <span data-ttu-id="698a8-140">**WCF**</span><span class="sxs-lookup"><span data-stu-id="698a8-140">**WCF**</span></span> | <ul><li>[<span data-ttu-id="698a8-141">設定 clientCredentialType tooCertificate 或視窗</span><span class="sxs-lookup"><span data-stu-id="698a8-141"> Set clientCredentialType tooCertificate or Windows</span></span>](#cert)</li><li>[<span data-ttu-id="698a8-142">未啟用 WCF 安全性模式</span><span class="sxs-lookup"><span data-stu-id="698a8-142">WCF-Security Mode is not enabled</span></span>](#security)</li></ul> | 

## <span data-ttu-id="698a8-143"><a id="binaries-info"></a>確定包含敏感性資訊的二進位檔已經過模糊處理</span><span class="sxs-lookup"><span data-stu-id="698a8-143"><a id="binaries-info"></a>Ensure that binaries are obfuscated if they contain sensitive information</span></span>

| <span data-ttu-id="698a8-144">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-144">Title</span></span>                   | <span data-ttu-id="698a8-145">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-145">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-146">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-146">**Component**</span></span>               | <span data-ttu-id="698a8-147">電腦信任邊界</span><span class="sxs-lookup"><span data-stu-id="698a8-147">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="698a8-148">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-148">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-149">部署</span><span class="sxs-lookup"><span data-stu-id="698a8-149">Deployment</span></span> |  
| <span data-ttu-id="698a8-150">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-150">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-151">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-151">Generic</span></span> |
| <span data-ttu-id="698a8-152">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-152">**Attributes**</span></span>              | <span data-ttu-id="698a8-153">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-153">N/A</span></span>  |
| <span data-ttu-id="698a8-154">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-154">**References**</span></span>              | <span data-ttu-id="698a8-155">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-155">N/A</span></span>  |
| <span data-ttu-id="698a8-156">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-156">**Steps**</span></span> | <span data-ttu-id="698a8-157">確定包含敏感性資訊的二進位檔已經過模糊處理，例如不應反轉的商業機密、敏感性商業邏輯。</span><span class="sxs-lookup"><span data-stu-id="698a8-157">Ensure that binaries are obfuscated if they contain sensitive information such as trade secrets, sensitive business logic that should not reversed.</span></span> <span data-ttu-id="698a8-158">這是 toostop 反向工程的組件。</span><span class="sxs-lookup"><span data-stu-id="698a8-158">This is toostop reverse engineering of assemblies.</span></span> <span data-ttu-id="698a8-159">`CryptoObfuscator` 之類的工具可用於此用途。</span><span class="sxs-lookup"><span data-stu-id="698a8-159">Tools like `CryptoObfuscator` may be used for this purpose.</span></span> |

## <span data-ttu-id="698a8-160"><a id="efs-user"></a>請考慮使用加密檔案系統 (EFS) 是使用的 tooprotect 機密使用者特定的資料</span><span class="sxs-lookup"><span data-stu-id="698a8-160"><a id="efs-user"></a>Consider using Encrypted File System (EFS) is used tooprotect confidential user-specific data</span></span>

| <span data-ttu-id="698a8-161">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-161">Title</span></span>                   | <span data-ttu-id="698a8-162">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-162">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-163">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-163">**Component**</span></span>               | <span data-ttu-id="698a8-164">電腦信任邊界</span><span class="sxs-lookup"><span data-stu-id="698a8-164">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="698a8-165">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-165">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-166">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-166">Build</span></span> |  
| <span data-ttu-id="698a8-167">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-167">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-168">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-168">Generic</span></span> |
| <span data-ttu-id="698a8-169">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-169">**Attributes**</span></span>              | <span data-ttu-id="698a8-170">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-170">N/A</span></span>  |
| <span data-ttu-id="698a8-171">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-171">**References**</span></span>              | <span data-ttu-id="698a8-172">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-172">N/A</span></span>  |
| <span data-ttu-id="698a8-173">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-173">**Steps**</span></span> | <span data-ttu-id="698a8-174">請考慮使用加密檔案系統 (EFS) 是從與實體存取 toohello 電腦對手使用的 tooprotect 機密使用者專屬資料。</span><span class="sxs-lookup"><span data-stu-id="698a8-174">Consider using Encrypted File System (EFS) is used tooprotect confidential user-specific data from adversaries with physical access toohello computer.</span></span> |

## <span data-ttu-id="698a8-175"><a id="filesystem"></a>請確定 hello hello 檔案系統上的應用程式所儲存的敏感性資料已加密</span><span class="sxs-lookup"><span data-stu-id="698a8-175"><a id="filesystem"></a>Ensure that sensitive data stored by hello application on hello file system is encrypted</span></span>

| <span data-ttu-id="698a8-176">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-176">Title</span></span>                   | <span data-ttu-id="698a8-177">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-177">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-178">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-178">**Component**</span></span>               | <span data-ttu-id="698a8-179">電腦信任邊界</span><span class="sxs-lookup"><span data-stu-id="698a8-179">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="698a8-180">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-180">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-181">部署</span><span class="sxs-lookup"><span data-stu-id="698a8-181">Deployment</span></span> |  
| <span data-ttu-id="698a8-182">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-182">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-183">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-183">Generic</span></span> |
| <span data-ttu-id="698a8-184">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-184">**Attributes**</span></span>              | <span data-ttu-id="698a8-185">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-185">N/A</span></span>  |
| <span data-ttu-id="698a8-186">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-186">**References**</span></span>              | <span data-ttu-id="698a8-187">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-187">N/A</span></span>  |
| <span data-ttu-id="698a8-188">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-188">**Steps**</span></span> | <span data-ttu-id="698a8-189">請確定已加密 hello hello 檔案系統上的應用程式所儲存的敏感性資料 （例如，使用 DPAPI），如果無法強制執行 EFS</span><span class="sxs-lookup"><span data-stu-id="698a8-189">Ensure that sensitive data stored by hello application on hello file system is encrypted (e.g., using DPAPI), if EFS cannot be enforced</span></span> |

## <span data-ttu-id="698a8-190"><a id="cache-browser"></a>確保機密內容不會在 hello 瀏覽器上快取</span><span class="sxs-lookup"><span data-stu-id="698a8-190"><a id="cache-browser"></a>Ensure that sensitive content is not cached on hello browser</span></span>

| <span data-ttu-id="698a8-191">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-191">Title</span></span>                   | <span data-ttu-id="698a8-192">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-192">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-193">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-193">**Component**</span></span>               | <span data-ttu-id="698a8-194">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="698a8-194">Web Application</span></span> | 
| <span data-ttu-id="698a8-195">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-195">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-196">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-196">Build</span></span> |  
| <span data-ttu-id="698a8-197">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-197">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-198">泛型、Web Form、MVC5、MVC6</span><span class="sxs-lookup"><span data-stu-id="698a8-198">Generic, Web Forms, MVC5, MVC6</span></span> |
| <span data-ttu-id="698a8-199">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-199">**Attributes**</span></span>              | <span data-ttu-id="698a8-200">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-200">N/A</span></span>  |
| <span data-ttu-id="698a8-201">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-201">**References**</span></span>              | <span data-ttu-id="698a8-202">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-202">N/A</span></span>  |
| <span data-ttu-id="698a8-203">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-203">**Steps**</span></span> | <span data-ttu-id="698a8-204">瀏覽器可以儲存資訊以便進行快取和記錄歷程。</span><span class="sxs-lookup"><span data-stu-id="698a8-204">Browsers can store information for purposes of caching and history.</span></span> <span data-ttu-id="698a8-205">這些快取的檔案儲存在資料夾中，像是在 Internet Explorer 的 hello 案例中的 hello Temporary Internet Files 資料夾。</span><span class="sxs-lookup"><span data-stu-id="698a8-205">These cached files are stored in a folder, like hello Temporary Internet Files folder in hello case of Internet Explorer.</span></span> <span data-ttu-id="698a8-206">這些頁面會再次參考，當 hello 瀏覽器會顯示它們從其快取。</span><span class="sxs-lookup"><span data-stu-id="698a8-206">When these pages are referred again, hello browser displays them from its cache.</span></span> <span data-ttu-id="698a8-207">如果機密資訊會顯示的 toohello 使用者 （例如其地址、 信用卡詳細資料、 身分證號碼或使用者名稱），則這項資訊可能是儲存在瀏覽器的快取，以及透過檢查 hello 瀏覽器的快取，因此可擷取或只要按下 hello 瀏覽器的 [上一頁] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="698a8-207">If sensitive information is displayed toohello user (such as their address, credit card details, Social Security Number, or username), then this information could be stored in browser’s cache, and therefore retrievable through examining hello browser's cache or by simply pressing hello browser's "Back" button.</span></span> <span data-ttu-id="698a8-208">設定快取控制回應標頭值太 「 否-存放區 」 的所有頁面。</span><span class="sxs-lookup"><span data-stu-id="698a8-208">Set cache-control response header value too“no-store” for all pages.</span></span> |

### <a name="example"></a><span data-ttu-id="698a8-209">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-209">Example</span></span>
```XML
<configuration>
  <system.webServer>
   <httpProtocol>
    <customHeaders>
        <add name="Cache-Control" value="no-cache" />
        <add name="Pragma" value="no-cache" />
        <add name="Expires" value="-1" />
    </customHeaders>
  </httpProtocol>
 </system.webServer>
</configuration>
```

### <a name="example"></a><span data-ttu-id="698a8-210">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-210">Example</span></span>
<span data-ttu-id="698a8-211">這可透過篩選來實作。</span><span class="sxs-lookup"><span data-stu-id="698a8-211">This may be implemented through a filter.</span></span> <span data-ttu-id="698a8-212">可使用的範例如下︰</span><span class="sxs-lookup"><span data-stu-id="698a8-212">Following example may be used:</span></span> 
```C#
public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
            if (filterContext == null || (filterContext.HttpContext != null && filterContext.HttpContext.Response != null && filterContext.HttpContext.Response.IsRequestBeingRedirected))
            {
                //// Since this is MVC pipeline, this should never be null.
                return;
            }

            var attributes = filterContext.ActionDescriptor.GetCustomAttributes(typeof(System.Web.Mvc.OutputCacheAttribute), false);
            if (attributes == null || **Attributes**.Count() == 0)
            {
                filterContext.HttpContext.Response.Cache.SetNoStore();
                filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
                filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddHours(-1));
                if (!filterContext.IsChildAction)
                {
                    filterContext.HttpContext.Response.AppendHeader("Pragma", "no-cache");
                }
            }

            base.OnActionExecuting(filterContext);
        }
``` 

## <span data-ttu-id="698a8-213"><a id="encrypt-data"></a>加密包含敏感性資料的 Web 應用程式組態檔區段</span><span class="sxs-lookup"><span data-stu-id="698a8-213"><a id="encrypt-data"></a>Encrypt sections of Web App's configuration files that contain sensitive data</span></span>

| <span data-ttu-id="698a8-214">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-214">Title</span></span>                   | <span data-ttu-id="698a8-215">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-215">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-216">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-216">**Component**</span></span>               | <span data-ttu-id="698a8-217">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="698a8-217">Web Application</span></span> | 
| <span data-ttu-id="698a8-218">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-218">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-219">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-219">Build</span></span> |  
| <span data-ttu-id="698a8-220">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-220">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-221">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-221">Generic</span></span> |
| <span data-ttu-id="698a8-222">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-222">**Attributes**</span></span>              | <span data-ttu-id="698a8-223">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-223">N/A</span></span>  |
| <span data-ttu-id="698a8-224">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-224">**References**</span></span>              | <span data-ttu-id="698a8-225">[如何： 加密組態區段，在 ASP.NET 2.0 使用 DPAPI](https://msdn.microsoft.com/library/ff647398.aspx)，[指定受保護的組態提供者](https://msdn.microsoft.com/library/68ze1hb2.aspx)，[使用 Azure 金鑰保存庫 tooprotect 應用程式密碼](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span><span class="sxs-lookup"><span data-stu-id="698a8-225">[How To: Encrypt Configuration Sections in ASP.NET 2.0 Using DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [Specifying a Protected Configuration Provider](https://msdn.microsoft.com/library/68ze1hb2.aspx), [Using Azure Key Vault tooprotect application secrets](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span></span> |
| <span data-ttu-id="698a8-226">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-226">**Steps**</span></span> | <span data-ttu-id="698a8-227">例如 hello Web.config 組態檔，appsettings.json 通常會使用 toohold 機密資訊，包括使用者名稱、 密碼、 資料庫連接字串，以及加密金鑰。</span><span class="sxs-lookup"><span data-stu-id="698a8-227">Configuration files such as hello Web.config, appsettings.json are often used toohold sensitive information, including user names, passwords, database connection strings, and encryption keys.</span></span> <span data-ttu-id="698a8-228">如果不保護這項資訊，您的應用程式是很容易遭受 tooattackers 或惡意使用者取得敏感性資訊，例如帳戶使用者名稱和密碼、 資料庫名稱和伺服器名稱。</span><span class="sxs-lookup"><span data-stu-id="698a8-228">If you do not protect this information, your application is vulnerable tooattackers or malicious users obtaining sensitive information such as account user names and passwords, database names and server names.</span></span> <span data-ttu-id="698a8-229">根據 hello 部署類型 （azure/內部），加密 hello 機密使用 DPAPI 或服務，例如 Azure 金鑰保存庫的組態檔區段。</span><span class="sxs-lookup"><span data-stu-id="698a8-229">Based on hello deployment type (azure/on-prem), encrypt hello sensitive sections of config files using DPAPI or services like Azure Key Vault.</span></span> |

## <span data-ttu-id="698a8-230"><a id="autocomplete-input"></a>明確停用機密的表單和輸入中的 hello 自動完成 HTML 屬性</span><span class="sxs-lookup"><span data-stu-id="698a8-230"><a id="autocomplete-input"></a>Explicitly disable hello autocomplete HTML attribute in sensitive forms and inputs</span></span>

| <span data-ttu-id="698a8-231">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-231">Title</span></span>                   | <span data-ttu-id="698a8-232">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-233">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-233">**Component**</span></span>               | <span data-ttu-id="698a8-234">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="698a8-234">Web Application</span></span> | 
| <span data-ttu-id="698a8-235">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-235">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-236">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-236">Build</span></span> |  
| <span data-ttu-id="698a8-237">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-237">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-238">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-238">Generic</span></span> |
| <span data-ttu-id="698a8-239">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-239">**Attributes**</span></span>              | <span data-ttu-id="698a8-240">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-240">N/A</span></span>  |
| <span data-ttu-id="698a8-241">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-241">**References**</span></span>              | <span data-ttu-id="698a8-242">[MSDN︰自動完成屬性](http://msdn.microsoft.com/library/ms533486(VS.85).aspx)、[在 HTML 中使用自動完成](http://msdn.microsoft.com/library/ms533032.aspx)[HTML 清理弱點](http://technet.microsoft.com/security/bulletin/MS10-071)、[再次自動完成？！](http://blog.mindedsecurity.com/2011/10/autocompleteagain.html)</span><span class="sxs-lookup"><span data-stu-id="698a8-242">[MSDN: autocomplete attribute](http://msdn.microsoft.com/library/ms533486(VS.85).aspx), [Using AutoComplete in HTML](http://msdn.microsoft.com/library/ms533032.aspx), [HTML Sanitization Vulnerability](http://technet.microsoft.com/security/bulletin/MS10-071), [Autocomplete.,again?!](http://blog.mindedsecurity.com/2011/10/autocompleteagain.html)</span></span> |
| <span data-ttu-id="698a8-243">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-243">**Steps**</span></span> | <span data-ttu-id="698a8-244">hello 自動完成屬性會指定表單是否應該在開啟或關閉具有 「 自動完成 」。</span><span class="sxs-lookup"><span data-stu-id="698a8-244">hello autocomplete attribute specifies whether a form should have autocomplete on or off.</span></span> <span data-ttu-id="698a8-245">開啟 「 自動完成 」 時，根據值的 hello 瀏覽器會自動完成值該 hello 使用者輸入之前。</span><span class="sxs-lookup"><span data-stu-id="698a8-245">When autocomplete is on, hello browser automatically complete values based on values that hello user has entered before.</span></span> <span data-ttu-id="698a8-246">比方說，當表單中輸入新名稱和密碼，hello 表單送出 hello 瀏覽器會要求是否應該儲存 hello 密碼。此後 hello 表單顯示時，hello 名稱和密碼會自動填入，或輸入 hello 名稱已完成。</span><span class="sxs-lookup"><span data-stu-id="698a8-246">For example, when a new name and password is entered in a form and hello form is submitted, hello browser asks if hello password should be saved.Thereafter when hello form is displayed, hello name and password are filled in automatically or are completed as hello name is entered.</span></span> <span data-ttu-id="698a8-247">本機存取的攻擊者無法從 hello 瀏覽器快取取得 hello 純文字密碼。</span><span class="sxs-lookup"><span data-stu-id="698a8-247">An attacker with local access could obtain hello clear text password from hello browser cache.</span></span> <span data-ttu-id="698a8-248">預設會啟用自動完成，但您必須明確地加以停用。</span><span class="sxs-lookup"><span data-stu-id="698a8-248">By default autocomplete is enabled, and it must explicitly be disabled.</span></span> |

### <a name="example"></a><span data-ttu-id="698a8-249">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-249">Example</span></span>
```C#
<form action="Login.aspx" method="post " autocomplete="off" >
      Social Security Number: <input type="text" name="ssn" />
      <input type="submit" value="Submit" />    
</form>
```

## <span data-ttu-id="698a8-250"><a id="data-mask"></a>請確定 hello 使用者螢幕上顯示的敏感性資料加上遮罩</span><span class="sxs-lookup"><span data-stu-id="698a8-250"><a id="data-mask"></a>Ensure that sensitive data displayed on hello user screen is masked</span></span>

| <span data-ttu-id="698a8-251">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-251">Title</span></span>                   | <span data-ttu-id="698a8-252">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-253">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-253">**Component**</span></span>               | <span data-ttu-id="698a8-254">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="698a8-254">Web Application</span></span> | 
| <span data-ttu-id="698a8-255">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-255">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-256">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-256">Build</span></span> |  
| <span data-ttu-id="698a8-257">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-257">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-258">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-258">Generic</span></span> |
| <span data-ttu-id="698a8-259">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-259">**Attributes**</span></span>              | <span data-ttu-id="698a8-260">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-260">N/A</span></span>  |
| <span data-ttu-id="698a8-261">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-261">**References**</span></span>              | <span data-ttu-id="698a8-262">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-262">N/A</span></span>  |
| <span data-ttu-id="698a8-263">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-263">**Steps**</span></span> | <span data-ttu-id="698a8-264">Hello 螢幕上顯示時，應該遮罩機密資料，例如密碼、 信用卡號碼，SSN 等。</span><span class="sxs-lookup"><span data-stu-id="698a8-264">Sensitive data such as passwords, credit card numbers, SSN etc. should be masked when displayed on hello screen.</span></span> <span data-ttu-id="698a8-265">這是 tooprevent 未經授權的人員存取 hello 資料 （例如 shoulder 瀏覽密碼，檢視 SSN 使用者數目的支援人員）。</span><span class="sxs-lookup"><span data-stu-id="698a8-265">This is tooprevent unauthorized personnel from accessing hello data (e.g., shoulder-surfing passwords, support personnel viewing SSN numbers of users) .</span></span> <span data-ttu-id="698a8-266">請確定這些資料元素不會以純文字顯示，並會適當地加上遮罩。</span><span class="sxs-lookup"><span data-stu-id="698a8-266">Ensure that these data elements are not visible in plain text and are appropriately masked.</span></span> <span data-ttu-id="698a8-267">這會有 toobe 處理同時接受做為輸入 （例如，。</span><span class="sxs-lookup"><span data-stu-id="698a8-267">This has toobe taken care while accepting them as input (e.g,.</span></span> <span data-ttu-id="698a8-268">輸入類型 = 「 密碼 」) 以及回 hello 螢幕上顯示 (例如，顯示只 hello hello 信用卡號碼的末 4 位數字)。</span><span class="sxs-lookup"><span data-stu-id="698a8-268">input type="password") as well as displaying back on hello screen (e.g., display only hello last 4 digits of hello credit card number).</span></span> |

## <span data-ttu-id="698a8-269"><a id="dynamic-users"></a>實作動態資料遮罩 toolimit 機密資料暴露非特殊權限的使用者</span><span class="sxs-lookup"><span data-stu-id="698a8-269"><a id="dynamic-users"></a>Implement dynamic data masking toolimit sensitive data exposure non privileged users</span></span>

| <span data-ttu-id="698a8-270">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-270">Title</span></span>                   | <span data-ttu-id="698a8-271">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-271">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-272">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-272">**Component**</span></span>               | <span data-ttu-id="698a8-273">資料庫</span><span class="sxs-lookup"><span data-stu-id="698a8-273">Database</span></span> | 
| <span data-ttu-id="698a8-274">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-274">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-275">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-275">Build</span></span> |  
| <span data-ttu-id="698a8-276">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-276">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-277">Sql Azure、OnPrem</span><span class="sxs-lookup"><span data-stu-id="698a8-277">Sql Azure, OnPrem</span></span> |
| <span data-ttu-id="698a8-278">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-278">**Attributes**</span></span>              | <span data-ttu-id="698a8-279">SQL 版本 - V12、SQL 版本 - MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="698a8-279">SQL Version - V12, SQL Version - MsSQL2016</span></span> |
| <span data-ttu-id="698a8-280">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-280">**References**</span></span>              | [<span data-ttu-id="698a8-281">動態資料遮罩</span><span class="sxs-lookup"><span data-stu-id="698a8-281">Dynamic Data Masking</span></span>](https://msdn.microsoft.com/library/mt130841) |
| <span data-ttu-id="698a8-282">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-282">**Steps**</span></span> | <span data-ttu-id="698a8-283">hello 動態資料遮罩的目的是 toolimit 公開機密資料，防止不應該存取 toohello 資料檢視該使用者。</span><span class="sxs-lookup"><span data-stu-id="698a8-283">hello purpose of dynamic data masking is toolimit exposure of sensitive data, preventing users who should not have access toohello data from viewing it.</span></span> <span data-ttu-id="698a8-284">動態資料遮罩並不是用 tooprevent 資料庫使用者直接連接 toohello 資料庫以及執行公開 hello 機密資料片段的全面查詢。</span><span class="sxs-lookup"><span data-stu-id="698a8-284">Dynamic data masking does not aim tooprevent database users from connecting directly toohello database and running exhaustive queries that expose pieces of hello sensitive data.</span></span> <span data-ttu-id="698a8-285">動態資料遮罩旨在互補 tooother 的 SQL Server 安全性功能 （稽核、 加密、 資料列層級安全性 …），並強烈建議 toouse 額外搭配這些這項功能此外在順序 toobetter 保護 hello hello 中的機密資料資料庫。</span><span class="sxs-lookup"><span data-stu-id="698a8-285">Dynamic data masking is complementary tooother SQL Server security features (auditing, encryption, row level security…) and it is highly recommended toouse this feature in conjunction with them in addition in order toobetter protect hello sensitive data in hello database.</span></span> <span data-ttu-id="698a8-286">請注意，SQL Server 2016 (含) 以上版本和 Azure SQL Database 才支援此功能。</span><span class="sxs-lookup"><span data-stu-id="698a8-286">Please note that this feature is supported only by SQL Server starting with 2016 and Azure SQL Database.</span></span> |

## <span data-ttu-id="698a8-287"><a id="salted-hash"></a>確定密碼是以 salted 雜湊格式儲存</span><span class="sxs-lookup"><span data-stu-id="698a8-287"><a id="salted-hash"></a>Ensure that passwords are stored in salted hash format</span></span>

| <span data-ttu-id="698a8-288">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-288">Title</span></span>                   | <span data-ttu-id="698a8-289">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-289">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-290">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-290">**Component**</span></span>               | <span data-ttu-id="698a8-291">資料庫</span><span class="sxs-lookup"><span data-stu-id="698a8-291">Database</span></span> | 
| <span data-ttu-id="698a8-292">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-292">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-293">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-293">Build</span></span> |  
| <span data-ttu-id="698a8-294">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-294">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-295">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-295">Generic</span></span> |
| <span data-ttu-id="698a8-296">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-296">**Attributes**</span></span>              | <span data-ttu-id="698a8-297">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-297">N/A</span></span>  |
| <span data-ttu-id="698a8-298">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-298">**References**</span></span>              | [<span data-ttu-id="698a8-299">使用 .NET Crypto API 的密碼雜湊</span><span class="sxs-lookup"><span data-stu-id="698a8-299">Password Hashing using .NET Crypto APIs</span></span>](http://docs.asp.net/en/latest/security/data-protection/consumer-apis/password-hashing.html) |
| <span data-ttu-id="698a8-300">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-300">**Steps**</span></span> | <span data-ttu-id="698a8-301">密碼不應該儲存在自訂的使用者存放區資料庫中。</span><span class="sxs-lookup"><span data-stu-id="698a8-301">Passwords should not be stored in custom user store databases.</span></span> <span data-ttu-id="698a8-302">應改為使用 salt 值來儲存密碼雜湊。</span><span class="sxs-lookup"><span data-stu-id="698a8-302">Password hashes should be stored with salt values instead.</span></span> <span data-ttu-id="698a8-303">請確定 hello salt hello 使用者一定是唯一且前儲存 hello 密碼，以最少工作因素反覆項目計數 150,000 迴圈 tooeliminate hello 可能性破解強制套用 b crypt、 s crypt 或 PBKDF2。</span><span class="sxs-lookup"><span data-stu-id="698a8-303">Make sure hello salt for hello user is always unique and you apply b-crypt, s-crypt or PBKDF2 before storing hello password, with a minimum work factor iteration count of 150,000 loops tooeliminate hello possibility of brute forcing.</span></span>| 

## <span data-ttu-id="698a8-304"><a id="db-encrypted"></a>確定資料庫資料行中的敏感性資料已加密</span><span class="sxs-lookup"><span data-stu-id="698a8-304"><a id="db-encrypted"></a>Ensure that sensitive data in database columns is encrypted</span></span>

| <span data-ttu-id="698a8-305">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-305">Title</span></span>                   | <span data-ttu-id="698a8-306">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-306">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-307">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-307">**Component**</span></span>               | <span data-ttu-id="698a8-308">資料庫</span><span class="sxs-lookup"><span data-stu-id="698a8-308">Database</span></span> | 
| <span data-ttu-id="698a8-309">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-309">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-310">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-310">Build</span></span> |  
| <span data-ttu-id="698a8-311">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-311">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-312">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-312">Generic</span></span> |
| <span data-ttu-id="698a8-313">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-313">**Attributes**</span></span>              | <span data-ttu-id="698a8-314">SQL 版本 - 全部</span><span class="sxs-lookup"><span data-stu-id="698a8-314">SQL Version - All</span></span> |
| <span data-ttu-id="698a8-315">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-315">**References**</span></span>              | <span data-ttu-id="698a8-316">[加密 SQL Server 中的敏感性資料](https://technet.microsoft.com/library/ff848751(v=sql.105).aspx)、[加密 SQL Server 中的一欄資料](https://msdn.microsoft.com/library/ms179331)、[以憑證加密](https://msdn.microsoft.com/library/ms188061)</span><span class="sxs-lookup"><span data-stu-id="698a8-316">[Encrypting sensitive data in SQL server](https://technet.microsoft.com/library/ff848751(v=sql.105).aspx), [How to: Encrypt a Column of Data in SQL Server](https://msdn.microsoft.com/library/ms179331), [Encrypt by Certificate](https://msdn.microsoft.com/library/ms188061)</span></span> |
| <span data-ttu-id="698a8-317">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-317">**Steps**</span></span> | <span data-ttu-id="698a8-318">機密資料，例如信用卡號碼有 toobe hello 資料庫中加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-318">Sensitive data such as credit card numbers has toobe encrypted in hello database.</span></span> <span data-ttu-id="698a8-319">資料可以使用資料行層級加密進行加密，或使用 hello 的加密功能的應用程式函式。</span><span class="sxs-lookup"><span data-stu-id="698a8-319">Data can be encrypted using column-level encryption or by an application function using hello encryption functions.</span></span> |

## <span data-ttu-id="698a8-320"><a id="tde-enabled"></a>確定已啟用資料庫層級加密 (TDE)</span><span class="sxs-lookup"><span data-stu-id="698a8-320"><a id="tde-enabled"></a>Ensure that database-level encryption (TDE) is enabled</span></span>

| <span data-ttu-id="698a8-321">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-321">Title</span></span>                   | <span data-ttu-id="698a8-322">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-322">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-323">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-323">**Component**</span></span>               | <span data-ttu-id="698a8-324">資料庫</span><span class="sxs-lookup"><span data-stu-id="698a8-324">Database</span></span> | 
| <span data-ttu-id="698a8-325">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-325">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-326">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-326">Build</span></span> |  
| <span data-ttu-id="698a8-327">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-327">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-328">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-328">Generic</span></span> |
| <span data-ttu-id="698a8-329">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-329">**Attributes**</span></span>              | <span data-ttu-id="698a8-330">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-330">N/A</span></span>  |
| <span data-ttu-id="698a8-331">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-331">**References**</span></span>              | <span data-ttu-id="698a8-332">[了解 SQL Server 的透明資料加密 (TDE)](https://technet.microsoft.com/library/bb934049(v=sql.105).aspx)</span><span class="sxs-lookup"><span data-stu-id="698a8-332">[Understanding SQL Server Transparent Data Encryption (TDE)](https://technet.microsoft.com/library/bb934049(v=sql.105).aspx)</span></span> |
| <span data-ttu-id="698a8-333">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-333">**Steps**</span></span> | <span data-ttu-id="698a8-334">透明資料加密 (TDE) 功能的 SQL server 可以協助在資料庫中加密機密資料，並保護 hello 索引鍵，則使用的 tooencrypt hello 資料使用的憑證。</span><span class="sxs-lookup"><span data-stu-id="698a8-334">Transparent Data Encryption (TDE) feature in SQL server helps in encrypting sensitive data in a database and protect hello keys that are used tooencrypt hello data with a certificate.</span></span> <span data-ttu-id="698a8-335">這會防止 hello 索引鍵沒有任何人使用 hello 資料。</span><span class="sxs-lookup"><span data-stu-id="698a8-335">This prevents anyone without hello keys from using hello data.</span></span> <span data-ttu-id="698a8-336">TDE 保護的資料 」 在其餘部分 」，這表示 hello 資料和記錄檔。</span><span class="sxs-lookup"><span data-stu-id="698a8-336">TDE protects data "at rest", meaning hello data and log files.</span></span> <span data-ttu-id="698a8-337">它提供許多的法律、 規定與方針各種產業中建立 hello 能力 toocomply。</span><span class="sxs-lookup"><span data-stu-id="698a8-337">It provides hello ability toocomply with many laws, regulations, and guidelines established in various industries.</span></span> |

## <span data-ttu-id="698a8-338"><a id="backup"></a>確定資料庫備份已加密</span><span class="sxs-lookup"><span data-stu-id="698a8-338"><a id="backup"></a>Ensure that database backups are encrypted</span></span>

| <span data-ttu-id="698a8-339">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-339">Title</span></span>                   | <span data-ttu-id="698a8-340">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-340">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-341">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-341">**Component**</span></span>               | <span data-ttu-id="698a8-342">資料庫</span><span class="sxs-lookup"><span data-stu-id="698a8-342">Database</span></span> | 
| <span data-ttu-id="698a8-343">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-343">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-344">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-344">Build</span></span> |  
| <span data-ttu-id="698a8-345">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-345">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-346">SQL Azure、OnPrem</span><span class="sxs-lookup"><span data-stu-id="698a8-346">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="698a8-347">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-347">**Attributes**</span></span>              | <span data-ttu-id="698a8-348">SQL 版本 - V12、SQL 版本 - MsSQL2014</span><span class="sxs-lookup"><span data-stu-id="698a8-348">SQL Version - V12, SQL Version - MsSQL2014</span></span> |
| <span data-ttu-id="698a8-349">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-349">**References**</span></span>              | [<span data-ttu-id="698a8-350">SQL Database 備份加密</span><span class="sxs-lookup"><span data-stu-id="698a8-350">SQL database backup encryption</span></span>](https://msdn.microsoft.com/library/dn449489) |
| <span data-ttu-id="698a8-351">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-351">**Steps**</span></span> | <span data-ttu-id="698a8-352">SQL Server 建立備份時有 hello 能力 tooencrypt hello 資料。</span><span class="sxs-lookup"><span data-stu-id="698a8-352">SQL Server has hello ability tooencrypt hello data while creating a backup.</span></span> <span data-ttu-id="698a8-353">藉由指定 hello 加密演算法與 hello 加密程式 （憑證或非對稱金鑰） 時建立的備份，其中可以建立加密的備份檔案。</span><span class="sxs-lookup"><span data-stu-id="698a8-353">By specifying hello encryption algorithm and hello encryptor (a Certificate or Asymmetric Key) when creating a backup, one can create an encrypted backup file.</span></span> |

## <span data-ttu-id="698a8-354"><a id="api-browser"></a>請確定該應用程式開發介面不會在瀏覽器的儲存體中儲存的敏感性資料相關 tooWeb</span><span class="sxs-lookup"><span data-stu-id="698a8-354"><a id="api-browser"></a>Ensure that sensitive data relevant tooWeb API is not stored in browser's storage</span></span>

| <span data-ttu-id="698a8-355">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-355">Title</span></span>                   | <span data-ttu-id="698a8-356">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-356">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-357">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-357">**Component**</span></span>               | <span data-ttu-id="698a8-358">Web API</span><span class="sxs-lookup"><span data-stu-id="698a8-358">Web API</span></span> | 
| <span data-ttu-id="698a8-359">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-359">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-360">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-360">Build</span></span> |  
| <span data-ttu-id="698a8-361">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-361">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-362">MVC 5、MVC 6</span><span class="sxs-lookup"><span data-stu-id="698a8-362">MVC 5, MVC 6</span></span> |
| <span data-ttu-id="698a8-363">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-363">**Attributes**</span></span>              | <span data-ttu-id="698a8-364">識別提供者 - ADFS、識別提供者 - Azure AD</span><span class="sxs-lookup"><span data-stu-id="698a8-364">Identity Provider - ADFS, Identity Provider - Azure AD</span></span> |
| <span data-ttu-id="698a8-365">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-365">**References**</span></span>              | <span data-ttu-id="698a8-366">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-366">N/A</span></span>  |
| <span data-ttu-id="698a8-367">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-367">**Steps**</span></span> | <p><span data-ttu-id="698a8-368">在某些實作中，瀏覽器的本機儲存體中儲存機密成品相關 tooWeb API 的驗證。</span><span class="sxs-lookup"><span data-stu-id="698a8-368">In certain implementations, sensitive artifacts relevant tooWeb API's authentication are stored in browser's local storage.</span></span> <span data-ttu-id="698a8-369">例如，Azure AD 驗證構件，像是 adal.idtoken、adal.nonce.idtoken、adal.access.token.key、adal.token.keys、adal.state.login、adal.session.state、adal.expiration.key 等。</span><span class="sxs-lookup"><span data-stu-id="698a8-369">E.g., Azure AD authentication artifacts like adal.idtoken, adal.nonce.idtoken, adal.access.token.key, adal.token.keys, adal.state.login, adal.session.state, adal.expiration.key etc.</span></span></p><p><span data-ttu-id="698a8-370">即使在登出或瀏覽器關閉之後，仍可使用這些構件。</span><span class="sxs-lookup"><span data-stu-id="698a8-370">All these artifacts are available even after sign out or browser is closed.</span></span> <span data-ttu-id="698a8-371">如果敵人取得 toothese 成品，他可以重複使用它們 tooaccess hello 受保護資源 (Api)。</span><span class="sxs-lookup"><span data-stu-id="698a8-371">If an adversary gets access toothese artifacts, he/she can reuse them tooaccess hello protected resources (APIs).</span></span> <span data-ttu-id="698a8-372">請確定所有機密成品相關的 tooWeb 應用程式開發介面不會儲存在瀏覽器的儲存體。</span><span class="sxs-lookup"><span data-stu-id="698a8-372">Ensure that all sensitive artifacts related tooWeb API is not stored in browser's storage.</span></span> <span data-ttu-id="698a8-373">在用戶端的儲存體無法避免的案例 （例如，單一頁面應用程式 (SPA) 運用隱含的 OpenIdConnect OAuth 流程需要在本機 toostore 存取語彙基元），與使用的儲存選項並沒有持續性。</span><span class="sxs-lookup"><span data-stu-id="698a8-373">In cases where client-side storage is unavoidable (e.g., Single Page Applications (SPA) that leverage Implicit OpenIdConnect/OAuth flows need toostore access tokens locally), use storage choices with do not have persistence.</span></span> <span data-ttu-id="698a8-374">例如，喜歡 SessionStorage tooLocalStorage。</span><span class="sxs-lookup"><span data-stu-id="698a8-374">e.g., prefer SessionStorage tooLocalStorage.</span></span></p>| 

### <a name="example"></a><span data-ttu-id="698a8-375">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-375">Example</span></span>
<span data-ttu-id="698a8-376">hello 以下 JavaScript 程式碼片段是從本機儲存體中儲存驗證成品的自訂驗證程式庫。</span><span class="sxs-lookup"><span data-stu-id="698a8-376">hello below JavaScript snippet is from a custom authentication library which stores authentication artifacts in local storage.</span></span> <span data-ttu-id="698a8-377">請避免這類實作。</span><span class="sxs-lookup"><span data-stu-id="698a8-377">Such implementations should be avoided.</span></span> 
```javascript
ns.AuthHelper.Authenticate = function () {
window.config = {
instance: 'https://login.microsoftonline.com/',
tenant: ns.Configurations.Tenant,
clientId: ns.Configurations.AADApplicationClientID,
postLogoutRedirectUri: window.location.origin,
cacheLocation: 'localStorage', // enable this for IE, as sessionStorage does not work for localhost.
};
```

## <span data-ttu-id="698a8-378"><a id="encrypt-docdb"></a>將儲存在 Cosmos DB 中的敏感性資料加密</span><span class="sxs-lookup"><span data-stu-id="698a8-378"><a id="encrypt-docdb"></a>Encrypt sensitive data stored in Cosmos DB</span></span>

| <span data-ttu-id="698a8-379">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-379">Title</span></span>                   | <span data-ttu-id="698a8-380">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-380">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-381">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-381">**Component**</span></span>               | <span data-ttu-id="698a8-382">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="698a8-382">Azure Document DB</span></span> | 
| <span data-ttu-id="698a8-383">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-383">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-384">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-384">Build</span></span> |  
| <span data-ttu-id="698a8-385">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-385">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-386">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-386">Generic</span></span> |
| <span data-ttu-id="698a8-387">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-387">**Attributes**</span></span>              | <span data-ttu-id="698a8-388">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-388">N/A</span></span>  |
| <span data-ttu-id="698a8-389">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-389">**References**</span></span>              | <span data-ttu-id="698a8-390">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-390">N/A</span></span>  |
| <span data-ttu-id="698a8-391">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-391">**Steps**</span></span> | <span data-ttu-id="698a8-392">請先在應用程式層級加密敏感性資料再儲存於 DocumentDB，或將敏感性資料儲存在其他儲存體解決方案，例如 Azure 儲存體或 Azure SQL</span><span class="sxs-lookup"><span data-stu-id="698a8-392">Encrypt sensitive data at application level before storing in document DB or store any sensitive data in other storage solutions like Azure Storage or Azure SQL</span></span>| 

## <span data-ttu-id="698a8-393"><a id="disk-vm"></a>使用 Azure 磁碟加密 tooencrypt 磁碟的虛擬機器使用</span><span class="sxs-lookup"><span data-stu-id="698a8-393"><a id="disk-vm"></a>Use Azure Disk Encryption tooencrypt disks used by Virtual Machines</span></span>

| <span data-ttu-id="698a8-394">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-394">Title</span></span>                   | <span data-ttu-id="698a8-395">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-396">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-396">**Component**</span></span>               | <span data-ttu-id="698a8-397">Azure IaaS VM 信任邊界</span><span class="sxs-lookup"><span data-stu-id="698a8-397">Azure IaaS VM Trust Boundary</span></span> | 
| <span data-ttu-id="698a8-398">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-398">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-399">部署</span><span class="sxs-lookup"><span data-stu-id="698a8-399">Deployment</span></span> |  
| <span data-ttu-id="698a8-400">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-400">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-401">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-401">Generic</span></span> |
| <span data-ttu-id="698a8-402">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-402">**Attributes**</span></span>              | <span data-ttu-id="698a8-403">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-403">N/A</span></span>  |
| <span data-ttu-id="698a8-404">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-404">**References**</span></span>              | [<span data-ttu-id="698a8-405">使用 Azure 磁碟加密 tooencrypt 磁碟供您的虛擬機器</span><span class="sxs-lookup"><span data-stu-id="698a8-405">Using Azure Disk Encryption tooencrypt disks used by your virtual machines</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_using-azure-disk-encryption-to-encrypt-disks-used-by-your-virtual-machines) |
| <span data-ttu-id="698a8-406">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-406">**Steps**</span></span> | <p><span data-ttu-id="698a8-407">Azure 磁碟加密是目前預覽版中的新功能。</span><span class="sxs-lookup"><span data-stu-id="698a8-407">Azure Disk Encryption is a new feature that is currently in preview.</span></span> <span data-ttu-id="698a8-408">這項功能可讓您 tooencrypt hello OS 磁碟和 IaaS 虛擬機器使用的資料磁碟。</span><span class="sxs-lookup"><span data-stu-id="698a8-408">This feature allows you tooencrypt hello OS disks and Data disks used by an IaaS Virtual Machine.</span></span> <span data-ttu-id="698a8-409">適用於 Windows、 hello 磁碟會使用業界標準的 BitLocker 加密技術來加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-409">For Windows, hello drives are encrypted using industry-standard BitLocker encryption technology.</span></span> <span data-ttu-id="698a8-410">適用於 Linux，hello 磁碟會使用 hello DM Crypt 技術來加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-410">For Linux, hello disks are encrypted using hello DM-Crypt technology.</span></span> <span data-ttu-id="698a8-411">這是與整合 Azure 金鑰保存庫 tooallow 您 toocontrol 和管理 hello 磁碟加密金鑰。</span><span class="sxs-lookup"><span data-stu-id="698a8-411">This is integrated with Azure Key Vault tooallow you toocontrol and manage hello disk encryption keys.</span></span> <span data-ttu-id="698a8-412">hello Azure 磁碟加密解決方案支援下列三個客戶加密案例的 hello:</span><span class="sxs-lookup"><span data-stu-id="698a8-412">hello Azure Disk Encryption solution supports hello following three customer encryption scenarios:</span></span></p><ul><li><span data-ttu-id="698a8-413">在透過客戶加密的 VHD 檔案和客戶提供的加密金鑰 (儲存於 Azure 金鑰保存庫中) 建立的新 IaaS VM 上啟用加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-413">Enable encryption on new IaaS VMs created from customer-encrypted VHD files and customer-provided encryption keys, which are stored in Azure Key Vault.</span></span></li><li><span data-ttu-id="698a8-414">啟用新建立的 hello Azure Marketplace 的 IaaS Vm 上的加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-414">Enable encryption on new IaaS VMs created from hello Azure Marketplace.</span></span></li><li><span data-ttu-id="698a8-415">在 Azure 中已執行的現有 IaaS VM 上啟用加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-415">Enable encryption on existing IaaS VMs already running in Azure.</span></span></li></ul>| 

## <span data-ttu-id="698a8-416"><a id="fabric-apps"></a>將 Service Fabric 應用程式中的密碼加密</span><span class="sxs-lookup"><span data-stu-id="698a8-416"><a id="fabric-apps"></a>Encrypt secrets in Service Fabric applications</span></span>

| <span data-ttu-id="698a8-417">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-417">Title</span></span>                   | <span data-ttu-id="698a8-418">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-418">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-419">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-419">**Component**</span></span>               | <span data-ttu-id="698a8-420">Service Fabric 信任邊界</span><span class="sxs-lookup"><span data-stu-id="698a8-420">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="698a8-421">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-421">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-422">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-422">Build</span></span> |  
| <span data-ttu-id="698a8-423">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-423">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-424">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-424">Generic</span></span> |
| <span data-ttu-id="698a8-425">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-425">**Attributes**</span></span>              | <span data-ttu-id="698a8-426">環境 - Azure</span><span class="sxs-lookup"><span data-stu-id="698a8-426">Environment - Azure</span></span> |
| <span data-ttu-id="698a8-427">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-427">**References**</span></span>              | [<span data-ttu-id="698a8-428">管理 Service Fabric 應用程式中的密碼</span><span class="sxs-lookup"><span data-stu-id="698a8-428">Managing secrets in Service Fabric applications</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-application-secret-management/) |
| <span data-ttu-id="698a8-429">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-429">**Steps**</span></span> | <span data-ttu-id="698a8-430">密碼可以是任何機密資訊，例如儲存體連接字串、密碼或其他不會以純文字處理的值。</span><span class="sxs-lookup"><span data-stu-id="698a8-430">Secrets can be any sensitive information, such as storage connection strings, passwords, or other values that should not be handled in plain text.</span></span> <span data-ttu-id="698a8-431">服務網狀架構應用程式中使用 Azure 金鑰保存庫 toomanage 金鑰和密碼。</span><span class="sxs-lookup"><span data-stu-id="698a8-431">Use Azure Key Vault toomanage keys and secrets in service fabric applications.</span></span> |

## <span data-ttu-id="698a8-432"><a id="modeling-teams"></a>執行安全性模型化並視需要使用業務單位/團隊</span><span class="sxs-lookup"><span data-stu-id="698a8-432"><a id="modeling-teams"></a>Perform security modeling and use Business Units/Teams where required</span></span>

| <span data-ttu-id="698a8-433">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-433">Title</span></span>                   | <span data-ttu-id="698a8-434">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-434">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-435">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-435">**Component**</span></span>               | <span data-ttu-id="698a8-436">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="698a8-436">Dynamics CRM</span></span> | 
| <span data-ttu-id="698a8-437">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-437">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-438">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-438">Build</span></span> |  
| <span data-ttu-id="698a8-439">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-439">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-440">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-440">Generic</span></span> |
| <span data-ttu-id="698a8-441">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-441">**Attributes**</span></span>              | <span data-ttu-id="698a8-442">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-442">N/A</span></span>  |
| <span data-ttu-id="698a8-443">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-443">**References**</span></span>              | <span data-ttu-id="698a8-444">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-444">N/A</span></span>  |
| <span data-ttu-id="698a8-445">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-445">**Steps**</span></span> | <span data-ttu-id="698a8-446">執行安全性模型化並視需要使用業務單位/團隊</span><span class="sxs-lookup"><span data-stu-id="698a8-446">Perform security modeling and use Business Units/Teams where required</span></span> |

## <span data-ttu-id="698a8-447"><a id="entities"></a>最小化在重要的實體存取 tooshare 功能</span><span class="sxs-lookup"><span data-stu-id="698a8-447"><a id="entities"></a>Minimize access tooshare feature on critical entities</span></span>

| <span data-ttu-id="698a8-448">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-448">Title</span></span>                   | <span data-ttu-id="698a8-449">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-449">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-450">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-450">**Component**</span></span>               | <span data-ttu-id="698a8-451">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="698a8-451">Dynamics CRM</span></span> | 
| <span data-ttu-id="698a8-452">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-452">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-453">部署</span><span class="sxs-lookup"><span data-stu-id="698a8-453">Deployment</span></span> |  
| <span data-ttu-id="698a8-454">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-454">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-455">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-455">Generic</span></span> |
| <span data-ttu-id="698a8-456">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-456">**Attributes**</span></span>              | <span data-ttu-id="698a8-457">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-457">N/A</span></span>  |
| <span data-ttu-id="698a8-458">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-458">**References**</span></span>              | <span data-ttu-id="698a8-459">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-459">N/A</span></span>  |
| <span data-ttu-id="698a8-460">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-460">**Steps**</span></span> | <span data-ttu-id="698a8-461">最小化在重要的實體存取 tooshare 功能</span><span class="sxs-lookup"><span data-stu-id="698a8-461">Minimize access tooshare feature on critical entities</span></span> |

## <span data-ttu-id="698a8-462"><a id="good-practices"></a>定型使用者 hello hello Dynamics CRM 共用功能及良好的安全性做法的相關的風險</span><span class="sxs-lookup"><span data-stu-id="698a8-462"><a id="good-practices"></a>Train users on hello risks associated with hello Dynamics CRM Share feature and good security practices</span></span>

| <span data-ttu-id="698a8-463">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-463">Title</span></span>                   | <span data-ttu-id="698a8-464">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-464">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-465">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-465">**Component**</span></span>               | <span data-ttu-id="698a8-466">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="698a8-466">Dynamics CRM</span></span> | 
| <span data-ttu-id="698a8-467">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-467">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-468">部署</span><span class="sxs-lookup"><span data-stu-id="698a8-468">Deployment</span></span> |  
| <span data-ttu-id="698a8-469">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-469">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-470">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-470">Generic</span></span> |
| <span data-ttu-id="698a8-471">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-471">**Attributes**</span></span>              | <span data-ttu-id="698a8-472">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-472">N/A</span></span>  |
| <span data-ttu-id="698a8-473">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-473">**References**</span></span>              | <span data-ttu-id="698a8-474">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-474">N/A</span></span>  |
| <span data-ttu-id="698a8-475">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-475">**Steps**</span></span> | <span data-ttu-id="698a8-476">定型使用者 hello hello Dynamics CRM 共用功能及良好的安全性做法的相關的風險</span><span class="sxs-lookup"><span data-stu-id="698a8-476">Train users on hello risks associated with hello Dynamics CRM Share feature and good security practices</span></span> |

## <span data-ttu-id="698a8-477"><a id="exception-mgmt"></a>包含開發標準規則來禁止在例外狀況管理中顯示組態詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-477"><a id="exception-mgmt"></a>Include a development standards rule proscribing showing config details in exception management</span></span>

| <span data-ttu-id="698a8-478">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-478">Title</span></span>                   | <span data-ttu-id="698a8-479">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-479">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-480">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-480">**Component**</span></span>               | <span data-ttu-id="698a8-481">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="698a8-481">Dynamics CRM</span></span> | 
| <span data-ttu-id="698a8-482">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-482">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-483">部署</span><span class="sxs-lookup"><span data-stu-id="698a8-483">Deployment</span></span> |  
| <span data-ttu-id="698a8-484">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-484">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-485">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-485">Generic</span></span> |
| <span data-ttu-id="698a8-486">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-486">**Attributes**</span></span>              | <span data-ttu-id="698a8-487">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-487">N/A</span></span>  |
| <span data-ttu-id="698a8-488">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-488">**References**</span></span>              | <span data-ttu-id="698a8-489">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-489">N/A</span></span>  |
| <span data-ttu-id="698a8-490">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-490">**Steps**</span></span> | <span data-ttu-id="698a8-491">包含開發標準規則來禁止在開發外的例外狀況管理中顯示組態詳細資料。</span><span class="sxs-lookup"><span data-stu-id="698a8-491">Include a development standards rule proscribing showing config details in exception management outside development.</span></span> <span data-ttu-id="698a8-492">請在檢閱程式碼或定期檢查時對此進行測試。</span><span class="sxs-lookup"><span data-stu-id="698a8-492">Test for this as part of code reviews or periodic inspection.</span></span>|

## <span data-ttu-id="698a8-493"><a id="sse-preview"></a>針對待用資料使用 Azure 儲存體服務加密 (SSE) (預覽)</span><span class="sxs-lookup"><span data-stu-id="698a8-493"><a id="sse-preview"></a>Use Azure Storage Service Encryption (SSE) for Data at Rest (Preview)</span></span>

| <span data-ttu-id="698a8-494">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-494">Title</span></span>                   | <span data-ttu-id="698a8-495">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-495">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-496">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-496">**Component**</span></span>               | <span data-ttu-id="698a8-497">Azure 儲存體</span><span class="sxs-lookup"><span data-stu-id="698a8-497">Azure Storage</span></span> | 
| <span data-ttu-id="698a8-498">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-498">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-499">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-499">Build</span></span> |  
| <span data-ttu-id="698a8-500">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-500">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-501">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-501">Generic</span></span> |
| <span data-ttu-id="698a8-502">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-502">**Attributes**</span></span>              | <span data-ttu-id="698a8-503">StorageType - Blob</span><span class="sxs-lookup"><span data-stu-id="698a8-503">StorageType - Blob</span></span> |
| <span data-ttu-id="698a8-504">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-504">**References**</span></span>              | [<span data-ttu-id="698a8-505">待用資料的 Azure 儲存體服務加密 (預覽)</span><span class="sxs-lookup"><span data-stu-id="698a8-505">Azure Storage Service Encryption for Data at Rest (Preview)</span></span>](https://azure.microsoft.com/documentation/articles/storage-service-encryption/) |
| <span data-ttu-id="698a8-506">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-506">**Steps**</span></span> | <p><span data-ttu-id="698a8-507">Azure 儲存體服務加密 (SSE) 中的靜止資料可協助您保護與防衛資料 toomeet 您組織的安全性和相容性的承諾。</span><span class="sxs-lookup"><span data-stu-id="698a8-507">Azure Storage Service Encryption (SSE) for Data at Rest helps you protect and safeguard your data toomeet your organizational security and compliance commitments.</span></span> <span data-ttu-id="698a8-508">利用此功能，Azure 儲存體，自動將加密您的資料之前 toopersisting toostorage，並解密先前 tooretrieval。</span><span class="sxs-lookup"><span data-stu-id="698a8-508">With this feature, Azure Storage automatically encrypts your data prior toopersisting toostorage and decrypts prior tooretrieval.</span></span> <span data-ttu-id="698a8-509">hello 加密、 解密和金鑰管理是完全透明 toousers。</span><span class="sxs-lookup"><span data-stu-id="698a8-509">hello encryption, decryption and key management is totally transparent toousers.</span></span> <span data-ttu-id="698a8-510">SSE 適用於僅 tooblock blob 時，分頁 blob，並附加 blob。</span><span class="sxs-lookup"><span data-stu-id="698a8-510">SSE applies only tooblock blobs, page blobs, and append blobs.</span></span> <span data-ttu-id="698a8-511">hello 其他類型的資料，包括資料表、 佇列和檔案，將不會加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-511">hello other types of data, including tables, queues, and files, will not be encrypted.</span></span></p><p><span data-ttu-id="698a8-512">加密和解密工作流程：</span><span class="sxs-lookup"><span data-stu-id="698a8-512">Encryption and Decryption Workflow:</span></span></p><ul><li><span data-ttu-id="698a8-513">hello 客戶上啟用加密 hello 儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="698a8-513">hello customer enables encryption on hello storage account</span></span></li><li><span data-ttu-id="698a8-514">Hello 客戶時寫入新的資料 （PUT Blob，將區塊、 PUT Page 等） tooBlob 存放裝置。使用 256 位元 AES 加密，其中一個 hello 最強區塊密碼可用來加密每次寫入</span><span class="sxs-lookup"><span data-stu-id="698a8-514">When hello customer writes new data (PUT Blob, PUT Block, PUT Page, etc.) tooBlob storage; every write is encrypted using 256-bit AES encryption, one of hello strongest block ciphers available</span></span></li><li><span data-ttu-id="698a8-515">當 hello 客戶需要 tooaccess 資料 （取得 Blob 等） 時，資料會自動解密後再傳回 toohello 使用者</span><span class="sxs-lookup"><span data-stu-id="698a8-515">When hello customer needs tooaccess data (GET Blob, etc.), data is automatically decrypted before returning toohello user</span></span></li><li><span data-ttu-id="698a8-516">如果已停用加密，已不再加密新的寫入，直到 hello 使用者來重新撰寫現有加密的資料仍會維持加密。</span><span class="sxs-lookup"><span data-stu-id="698a8-516">If encryption is disabled, new writes are no longer encrypted and existing encrypted data remains encrypted until rewritten by hello user.</span></span> <span data-ttu-id="698a8-517">雖然加密啟用狀態，將會加密寫入 tooBlob 儲存體。</span><span class="sxs-lookup"><span data-stu-id="698a8-517">While encryption is enabled, writes tooBlob storage will be encrypted.</span></span> <span data-ttu-id="698a8-518">hello 狀態的資料不會變更與 hello 切換 啟用/停用加密 hello 儲存體帳戶的使用者</span><span class="sxs-lookup"><span data-stu-id="698a8-518">hello state of data does not change with hello user toggling between enabling/disabling encryption for hello storage account</span></span></li><li><span data-ttu-id="698a8-519">所有加密金鑰會由 Microsoft 儲存、加密及管理</span><span class="sxs-lookup"><span data-stu-id="698a8-519">All encryption keys are stored, encrypted, and managed by Microsoft</span></span></li></ul><p><span data-ttu-id="698a8-520">請注意，此時，hello hello 加密所使用的索引鍵由 Microsoft 管理。</span><span class="sxs-lookup"><span data-stu-id="698a8-520">Please note that at this time, hello keys used for hello encryption are managed by Microsoft.</span></span> <span data-ttu-id="698a8-521">Microsoft 一開始會產生 hello 金鑰，並管理內部 Microsoft 原則所定義的 hello 索引鍵為 hello 規則旋轉 hello 安全的儲存體。</span><span class="sxs-lookup"><span data-stu-id="698a8-521">Microsoft generates hello keys originally, and manage hello secure storage of hello keys as well as hello regular rotation as defined by internal Microsoft policy.</span></span> <span data-ttu-id="698a8-522">在未來的 hello，客戶會收到 hello 能力 toomanage 自己 > 加密金鑰，並提供 Microsoft 管理的金鑰的移轉路徑 toocustomer 管理的金鑰。</span><span class="sxs-lookup"><span data-stu-id="698a8-522">In hello future, customers will get hello ability toomanage their own >encryption keys, and provide a migration path from Microsoft-managed keys toocustomer-managed keys.</span></span></p>| 

## <span data-ttu-id="698a8-523"><a id="client-storage"></a>使用 Azure 儲存體中的用戶端加密 toostore 機密資料</span><span class="sxs-lookup"><span data-stu-id="698a8-523"><a id="client-storage"></a>Use Client-Side Encryption toostore sensitive data in Azure Storage</span></span>

| <span data-ttu-id="698a8-524">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-524">Title</span></span>                   | <span data-ttu-id="698a8-525">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-525">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-526">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-526">**Component**</span></span>               | <span data-ttu-id="698a8-527">Azure 儲存體</span><span class="sxs-lookup"><span data-stu-id="698a8-527">Azure Storage</span></span> | 
| <span data-ttu-id="698a8-528">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-528">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-529">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-529">Build</span></span> |  
| <span data-ttu-id="698a8-530">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-530">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-531">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-531">Generic</span></span> |
| <span data-ttu-id="698a8-532">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-532">**Attributes**</span></span>              | <span data-ttu-id="698a8-533">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-533">N/A</span></span>  |
| <span data-ttu-id="698a8-534">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-534">**References**</span></span>              | <span data-ttu-id="698a8-535">[Microsoft Azure 儲存體的用戶端加密和 Azure Key Vault 金鑰保存庫](https://azure.microsoft.com/documentation/articles/storage-client-side-encryption/)、[教學課程：在 Microsoft Azure 儲存體中使用 Azure 金鑰保存庫加密和解密 Blob](https://azure.microsoft.com/documentation/articles/storage-encrypt-decrypt-blobs-key-vault/)、[在 Azure Blob 儲存體中使用 Azure 加密擴充功能安全地存放資料](https://blogs.msdn.microsoft.com/partnercatalystteam/2015/06/17/storing-data-securely-in-azure-blob-storage-with-azure-encryption-extensions/)</span><span class="sxs-lookup"><span data-stu-id="698a8-535">[Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage](https://azure.microsoft.com/documentation/articles/storage-client-side-encryption/), [Tutorial: Encrypt and decrypt blobs in Microsoft Azure Storage using Azure Key Vault](https://azure.microsoft.com/documentation/articles/storage-encrypt-decrypt-blobs-key-vault/), [Storing Data Securely in Azure Blob Storage with Azure Encryption Extensions](https://blogs.msdn.microsoft.com/partnercatalystteam/2015/06/17/storing-data-securely-in-azure-blob-storage-with-azure-encryption-extensions/)</span></span> |
| <span data-ttu-id="698a8-536">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-536">**Steps**</span></span> | <p><span data-ttu-id="698a8-537">hello Azure 儲存體用戶端程式庫.NET Nuget 套件的支援上傳 tooAzure 存放裝置，並下載 toohello 用戶端時解密資料之前加密用戶端應用程式內的資料。</span><span class="sxs-lookup"><span data-stu-id="698a8-537">hello Azure Storage Client Library for .NET Nuget package supports encrypting data within client applications before uploading tooAzure Storage, and decrypting data while downloading toohello client.</span></span> <span data-ttu-id="698a8-538">hello 程式庫也支援儲存體帳戶金鑰管理與 Azure 金鑰保存庫的整合。</span><span class="sxs-lookup"><span data-stu-id="698a8-538">hello library also supports integration with Azure Key Vault for storage account key management.</span></span> <span data-ttu-id="698a8-539">以下是用戶端加密運作方式的簡短描述：</span><span class="sxs-lookup"><span data-stu-id="698a8-539">Here is a brief description of how client side encryption works:</span></span></p><ul><li><span data-ttu-id="698a8-540">hello Azure 儲存體用戶端 SDK 產生的內容加密金鑰 (CEK)，這是一次性單次使用對稱金鑰</span><span class="sxs-lookup"><span data-stu-id="698a8-540">hello Azure Storage client SDK generates a content encryption key (CEK), which is a one-time-use symmetric key</span></span></li><li><span data-ttu-id="698a8-541">客戶資料是使用此 CEK 加密</span><span class="sxs-lookup"><span data-stu-id="698a8-541">Customer data is encrypted using this CEK</span></span></li><li><span data-ttu-id="698a8-542">hello CEK 然後再包裝 （加密） 使用 hello 金鑰的加密金鑰 (KEK)。</span><span class="sxs-lookup"><span data-stu-id="698a8-542">hello CEK is then wrapped (encrypted) using hello key encryption key (KEK).</span></span> <span data-ttu-id="698a8-543">hello KEK 索引鍵的識別項所識別，可非對稱金鑰組或對稱金鑰，可以是本機管理或儲存在 Azure 金鑰保存庫中。</span><span class="sxs-lookup"><span data-stu-id="698a8-543">hello KEK is identified by a key identifier and can be an asymmetric key pair or a symmetric key and can be managed locally or stored in Azure Key Vault.</span></span> <span data-ttu-id="698a8-544">hello 儲存體用戶端本身完全不需要存取 toohello KEK。</span><span class="sxs-lookup"><span data-stu-id="698a8-544">hello Storage client itself never has access toohello KEK.</span></span> <span data-ttu-id="698a8-545">它只叫用所提供的金鑰保存庫 hello 金鑰包裝演算法。</span><span class="sxs-lookup"><span data-stu-id="698a8-545">It just invokes hello key wrapping algorithm that is provided by Key Vault.</span></span> <span data-ttu-id="698a8-546">客戶可以選擇 toouse 包裝/解除包裝如果他們想要的索引鍵的自訂提供者</span><span class="sxs-lookup"><span data-stu-id="698a8-546">Customers can choose toouse custom providers for key wrapping/unwrapping if they want</span></span></li><li><span data-ttu-id="698a8-547">hello 加密的資料是然後上傳 toohello Azure 儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="698a8-547">hello encrypted data is then uploaded toohello Azure Storage service.</span></span> <span data-ttu-id="698a8-548">檢查在低層級的實作詳細資料的 hello references 區段中的 hello 連結。</span><span class="sxs-lookup"><span data-stu-id="698a8-548">Check hello links in hello references section for low-level implementation details.</span></span></li></ul>|

## <span data-ttu-id="698a8-549"><a id="pii-phones"></a>加密敏感或 PII 資料寫入 toophones 本機儲存體</span><span class="sxs-lookup"><span data-stu-id="698a8-549"><a id="pii-phones"></a>Encrypt sensitive or PII data written toophones local storage</span></span>

| <span data-ttu-id="698a8-550">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-550">Title</span></span>                   | <span data-ttu-id="698a8-551">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-551">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-552">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-552">**Component**</span></span>               | <span data-ttu-id="698a8-553">行動用戶端</span><span class="sxs-lookup"><span data-stu-id="698a8-553">Mobile Client</span></span> | 
| <span data-ttu-id="698a8-554">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-554">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-555">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-555">Build</span></span> |  
| <span data-ttu-id="698a8-556">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-556">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-557">泛型、Xamarin</span><span class="sxs-lookup"><span data-stu-id="698a8-557">Generic, Xamarin</span></span>  |
| <span data-ttu-id="698a8-558">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-558">**Attributes**</span></span>              | <span data-ttu-id="698a8-559">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-559">N/A</span></span>  |
| <span data-ttu-id="698a8-560">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-560">**References**</span></span>              | <span data-ttu-id="698a8-561">[使用 Microsoft Intune 原則管理裝置上的設定和功能](https://docs.microsoft.com/intune/deploy-use/manage-settings-and-features-on-your-devices-with-microsoft-intune-policies#create-a-configuration-policy)、[金鑰鏈貼身](https://components.xamarin.com/view/square.valet)</span><span class="sxs-lookup"><span data-stu-id="698a8-561">[Manage settings and features on your devices with Microsoft Intune policies](https://docs.microsoft.com/intune/deploy-use/manage-settings-and-features-on-your-devices-with-microsoft-intune-policies#create-a-configuration-policy), [Keychain Valet](https://components.xamarin.com/view/square.valet)</span></span> |
| <span data-ttu-id="698a8-562">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-562">**Steps**</span></span> | <p><span data-ttu-id="698a8-563">如果 hello 應用程式寫入 （電子郵件、 電話號碼、 名字、 姓氏、 喜好設定等） 的使用者的 PII 等機密資訊-行動裝置版的檔案系統上，然後它應該加密之前寫入 toohello 本機檔案系統。</span><span class="sxs-lookup"><span data-stu-id="698a8-563">If hello application writes sensitive information like user's PII (email, phone number, first name, last name, preferences etc.)- on mobile's file system, then it should be encrypted before writing toohello local file system.</span></span> <span data-ttu-id="698a8-564">如果 hello 應用程式是企業應用程式，然後瀏覽 hello 可能會使用 Windows Intune 發行應用程式。</span><span class="sxs-lookup"><span data-stu-id="698a8-564">If hello application is an enterprise application, then explore hello possibility of publishing application using Windows Intune.</span></span></p>|

### <a name="example"></a><span data-ttu-id="698a8-565">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-565">Example</span></span>
<span data-ttu-id="698a8-566">Intune 可以設定下列安全性原則 toosafeguard 的機密資料：</span><span class="sxs-lookup"><span data-stu-id="698a8-566">Intune can be configured with following security policies toosafeguard sensitive data:</span></span> 
```C#
Require encryption on mobile device    
Require encryption on storage cards
Allow screen capture
```

### <a name="example"></a><span data-ttu-id="698a8-567">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-567">Example</span></span>
<span data-ttu-id="698a8-568">如果 hello 應用程式不是企業應用程式，則使用平台提供的金鑰存放區，可能會在 hello 檔案系統上執行鏈 toostore 加密金鑰，使用的密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="698a8-568">If hello application is not an enterprise application, then use platform provided keystore, keychains toostore encryption keys, using which cryptographic operation may be performed on hello file system.</span></span> <span data-ttu-id="698a8-569">下列程式碼片段會示範 tooaccess 從使用 xamarin 的金鑰鏈的機碼：</span><span class="sxs-lookup"><span data-stu-id="698a8-569">Following code snippet shows how tooaccess key from keychain using xamarin:</span></span> 
```C#
        protected static string EncryptionKey
        {
            get
            {
                if (String.IsNullOrEmpty(_Key))
                {
                    var query = new SecRecord(SecKind.GenericPassword);
                    query.Service = NSBundle.MainBundle.BundleIdentifier;
                    query.Account = "UniqueID";

                    NSData uniqueId = SecKeyChain.QueryAsData(query);
                    if (uniqueId == null)
                    {
                        query.ValueData = NSData.FromString(System.Guid.NewGuid().ToString());
                        var err = SecKeyChain.Add(query);
                        _Key = query.ValueData.ToString();
                    }
                    else
                    {
                        _Key = uniqueId.ToString();
                    }
                }

                return _Key;
            }
        }
```

## <span data-ttu-id="698a8-570"><a id="binaries-end"></a>模糊化散發 tooend 使用者之前產生的二進位檔</span><span class="sxs-lookup"><span data-stu-id="698a8-570"><a id="binaries-end"></a>Obfuscate generated binaries before distributing tooend users</span></span>

| <span data-ttu-id="698a8-571">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-571">Title</span></span>                   | <span data-ttu-id="698a8-572">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-572">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-573">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-573">**Component**</span></span>               | <span data-ttu-id="698a8-574">行動用戶端</span><span class="sxs-lookup"><span data-stu-id="698a8-574">Mobile Client</span></span> | 
| <span data-ttu-id="698a8-575">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-575">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-576">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-576">Build</span></span> |  
| <span data-ttu-id="698a8-577">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-577">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-578">泛型</span><span class="sxs-lookup"><span data-stu-id="698a8-578">Generic</span></span> |
| <span data-ttu-id="698a8-579">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-579">**Attributes**</span></span>              | <span data-ttu-id="698a8-580">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-580">N/A</span></span>  |
| <span data-ttu-id="698a8-581">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-581">**References**</span></span>              | [<span data-ttu-id="698a8-582">適用於 .Net 的 CryptoObfuscator</span><span class="sxs-lookup"><span data-stu-id="698a8-582">Crypto Obfuscation For .Net</span></span>](http://www.ssware.com/cryptoobfuscator/obfuscator-net.htm) |
| <span data-ttu-id="698a8-583">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-583">**Steps**</span></span> | <span data-ttu-id="698a8-584">產生的二進位檔 （組件內 apk） 應該是模糊化的 toostop 反向工程的組件。工具喜歡`CryptoObfuscator`可能用於此目的。</span><span class="sxs-lookup"><span data-stu-id="698a8-584">Generated binaries (assemblies within apk) should be obfuscated toostop reverse engineering of assemblies.Tools like `CryptoObfuscator` may be used for this purpose.</span></span> |

## <span data-ttu-id="698a8-585"><a id="cert"></a>設定 clientCredentialType tooCertificate 或視窗</span><span class="sxs-lookup"><span data-stu-id="698a8-585"><a id="cert"></a>Set clientCredentialType tooCertificate or Windows</span></span>

| <span data-ttu-id="698a8-586">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-586">Title</span></span>                   | <span data-ttu-id="698a8-587">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-587">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-588">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-588">**Component**</span></span>               | <span data-ttu-id="698a8-589">WCF</span><span class="sxs-lookup"><span data-stu-id="698a8-589">WCF</span></span> | 
| <span data-ttu-id="698a8-590">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-590">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-591">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-591">Build</span></span> |  
| <span data-ttu-id="698a8-592">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-592">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-593">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="698a8-593">.NET Framework 3</span></span> |
| <span data-ttu-id="698a8-594">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-594">**Attributes**</span></span>              | <span data-ttu-id="698a8-595">N/A</span><span class="sxs-lookup"><span data-stu-id="698a8-595">N/A</span></span>  |
| <span data-ttu-id="698a8-596">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-596">**References**</span></span>              | [<span data-ttu-id="698a8-597">Fortify</span><span class="sxs-lookup"><span data-stu-id="698a8-597">Fortify</span></span>](https://vulncat.fortify.com/en/vulncat/index.html) |
| <span data-ttu-id="698a8-598">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-598">**Steps**</span></span> | <span data-ttu-id="698a8-599">透過未加密的通道使用純文字密碼的使用者名稱權杖公開 hello 密碼 tooattackers 者竊聽 hello SOAP 訊息。</span><span class="sxs-lookup"><span data-stu-id="698a8-599">Using a UsernameToken with a plaintext password over an unencrypted channel exposes hello password tooattackers who can sniff hello SOAP messages.</span></span> <span data-ttu-id="698a8-600">使用 hello UsernameToken 的服務提供者可能會接受以純文字傳送密碼。</span><span class="sxs-lookup"><span data-stu-id="698a8-600">Service Providers that use hello UsernameToken might accept passwords sent in plaintext.</span></span> <span data-ttu-id="698a8-601">透過未加密的通道傳送純文字密碼，可以公開 hello 認證 tooattackers 者竊聽 hello SOAP 訊息。</span><span class="sxs-lookup"><span data-stu-id="698a8-601">Sending plaintext passwords over an unencrypted channel can expose hello credential tooattackers who can sniff hello SOAP message.</span></span> | 

### <a name="example"></a><span data-ttu-id="698a8-602">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-602">Example</span></span>
<span data-ttu-id="698a8-603">hello 下列 WCF 服務提供者組態會使用 hello UsernameToken:</span><span class="sxs-lookup"><span data-stu-id="698a8-603">hello following WCF service provider configuration uses hello UsernameToken:</span></span> 
```
<security mode="Message"> 
<message clientCredentialType="UserName" />
``` 
<span data-ttu-id="698a8-604">設定 clientCredentialType tooCertificate 或視窗。</span><span class="sxs-lookup"><span data-stu-id="698a8-604">Set clientCredentialType tooCertificate or Windows.</span></span> 

## <span data-ttu-id="698a8-605"><a id="security"></a>未啟用 WCF 安全性模式</span><span class="sxs-lookup"><span data-stu-id="698a8-605"><a id="security"></a>WCF-Security Mode is not enabled</span></span>

| <span data-ttu-id="698a8-606">Title</span><span class="sxs-lookup"><span data-stu-id="698a8-606">Title</span></span>                   | <span data-ttu-id="698a8-607">詳細資料</span><span class="sxs-lookup"><span data-stu-id="698a8-607">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="698a8-608">**元件**</span><span class="sxs-lookup"><span data-stu-id="698a8-608">**Component**</span></span>               | <span data-ttu-id="698a8-609">WCF</span><span class="sxs-lookup"><span data-stu-id="698a8-609">WCF</span></span> | 
| <span data-ttu-id="698a8-610">**SDL 階段**</span><span class="sxs-lookup"><span data-stu-id="698a8-610">**SDL Phase**</span></span>               | <span data-ttu-id="698a8-611">建置</span><span class="sxs-lookup"><span data-stu-id="698a8-611">Build</span></span> |  
| <span data-ttu-id="698a8-612">**適用的技術**</span><span class="sxs-lookup"><span data-stu-id="698a8-612">**Applicable Technologies**</span></span> | <span data-ttu-id="698a8-613">泛型、.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="698a8-613">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="698a8-614">**屬性**</span><span class="sxs-lookup"><span data-stu-id="698a8-614">**Attributes**</span></span>              | <span data-ttu-id="698a8-615">安全性模式 - 傳輸、安全性模式 - 訊息</span><span class="sxs-lookup"><span data-stu-id="698a8-615">Security Mode - Transport, Security Mode - Message</span></span> |
| <span data-ttu-id="698a8-616">**參考**</span><span class="sxs-lookup"><span data-stu-id="698a8-616">**References**</span></span>              | <span data-ttu-id="698a8-617">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx)、[Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)、[WCF 安全性基礎概念 CoDe Magazine](http://www.codemag.com/article/0611051)</span><span class="sxs-lookup"><span data-stu-id="698a8-617">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html), [Fundamentals of WCF Security CoDe Magazine](http://www.codemag.com/article/0611051)</span></span> |
| <span data-ttu-id="698a8-618">**步驟**</span><span class="sxs-lookup"><span data-stu-id="698a8-618">**Steps**</span></span> | <span data-ttu-id="698a8-619">尚未定義任何傳輸或訊息安全性。</span><span class="sxs-lookup"><span data-stu-id="698a8-619">No transport or message security has been defined.</span></span> <span data-ttu-id="698a8-620">不具傳輸的訊息或安全性 hello 完整性或 hello 訊息的機密性，無法保證的訊息傳輸的應用程式。</span><span class="sxs-lookup"><span data-stu-id="698a8-620">Applications that transmit messages without transport or message security cannot guarantee hello integrity or confidentiality of hello messages.</span></span> <span data-ttu-id="698a8-621">當 WCF 安全性繫結設定 tooNone 時，會停用傳輸和訊息安全性。</span><span class="sxs-lookup"><span data-stu-id="698a8-621">When a WCF security binding is set tooNone, both transport and message security are disabled.</span></span> |

### <a name="example"></a><span data-ttu-id="698a8-622">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-622">Example</span></span>
<span data-ttu-id="698a8-623">hello 下列組態設定 hello 安全性模式 tooNone。</span><span class="sxs-lookup"><span data-stu-id="698a8-623">hello following configuration sets hello security mode tooNone.</span></span> 
```
<system.serviceModel> 
  <bindings> 
    <wsHttpBinding> 
      <binding name=""MyBinding""> 
        <security mode=""None""/> 
      </binding> 
  </bindings> 
</system.serviceModel> 
```

### <a name="example"></a><span data-ttu-id="698a8-624">範例</span><span class="sxs-lookup"><span data-stu-id="698a8-624">Example</span></span>
<span data-ttu-id="698a8-625">所有服務繫結的安全性模式有五個可能選項︰</span><span class="sxs-lookup"><span data-stu-id="698a8-625">Security Mode Across all service bindings there are five possible security modes:</span></span> 
* <span data-ttu-id="698a8-626">無。</span><span class="sxs-lookup"><span data-stu-id="698a8-626">None.</span></span> <span data-ttu-id="698a8-627">關閉安全性。</span><span class="sxs-lookup"><span data-stu-id="698a8-627">Turns security off.</span></span> 
* <span data-ttu-id="698a8-628">傳輸。</span><span class="sxs-lookup"><span data-stu-id="698a8-628">Transport.</span></span> <span data-ttu-id="698a8-629">使用傳輸安全性來互相保護驗證和訊息。</span><span class="sxs-lookup"><span data-stu-id="698a8-629">Uses transport security for mutual authentication and message protection.</span></span> 
* <span data-ttu-id="698a8-630">Message.</span><span class="sxs-lookup"><span data-stu-id="698a8-630">Message.</span></span> <span data-ttu-id="698a8-631">使用訊息安全性來互相保護驗證和訊息。</span><span class="sxs-lookup"><span data-stu-id="698a8-631">Uses message security for mutual authentication and message protection.</span></span> 
* <span data-ttu-id="698a8-632">兩者。</span><span class="sxs-lookup"><span data-stu-id="698a8-632">Both.</span></span> <span data-ttu-id="698a8-633">可讓您 toosupply 設定傳輸與訊息層級安全性 （只有 MSMQ 支援此）。</span><span class="sxs-lookup"><span data-stu-id="698a8-633">Allows you toosupply settings for transport and message-level security (only MSMQ supports this).</span></span> 
* <span data-ttu-id="698a8-634">TransportWithMessageCredential。</span><span class="sxs-lookup"><span data-stu-id="698a8-634">TransportWithMessageCredential.</span></span> <span data-ttu-id="698a8-635">認證會隨 hello 訊息和訊息保護和伺服器驗證都提供 hello 傳輸層級。</span><span class="sxs-lookup"><span data-stu-id="698a8-635">Credentials are passed with hello message and message protection and server authentication are provided by hello transport layer.</span></span> 
* <span data-ttu-id="698a8-636">TransportCredentialOnly。</span><span class="sxs-lookup"><span data-stu-id="698a8-636">TransportCredentialOnly.</span></span> <span data-ttu-id="698a8-637">用戶端的認證會與 hello 傳輸層，並且沒有訊息保護。</span><span class="sxs-lookup"><span data-stu-id="698a8-637">Client credentials are passed with hello transport layer and no message protection is applied.</span></span> <span data-ttu-id="698a8-638">使用訊息的傳輸與訊息安全性 tooprotect hello 完整性與機密性。</span><span class="sxs-lookup"><span data-stu-id="698a8-638">Use transport and message security tooprotect hello integrity and confidentiality of messages.</span></span> <span data-ttu-id="698a8-639">下列的 hello 組態會告知 hello service toouse 搭配訊息認證的傳輸安全性。</span><span class="sxs-lookup"><span data-stu-id="698a8-639">hello configuration below tells hello service toouse transport security with message credentials.</span></span>
```
<system.serviceModel>
  <bindings>
    <wsHttpBinding>
    <binding name=""MyBinding""> 
    <security mode=""TransportWithMessageCredential""/> 
    <message clientCredentialType=""Windows""/> 
    </binding> 
  </bindings> 
</system.serviceModel> 
```
