---
title: "使用適用於 Azure Data Lake Analytics 作業的作業瀏覽器和作業檢視 | Microsoft Docs"
description: "了解如何使用適用於 Azure Data Lake Analytics 作業的作業瀏覽器和作業檢視。 "
services: data-lake-analytics
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: bdf27b4d-6f58-4093-ab83-4fa3a99b5650
ms.service: data-lake-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/02/2017
ms.author: jgao
ms.openlocfilehash: 8f1729f84a4fde2a56427a41b356d6263818519e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/18/2017
---
# <a name="use-job-browser-and-job-view-for-azure-data-lake-analytics-jobs"></a><span data-ttu-id="c4292-103">使用適用於 Azure Data Lake Analytics 作業的作業瀏覽器和作業檢視</span><span class="sxs-lookup"><span data-stu-id="c4292-103">Use Job Browser and Job View for Azure Data lake Analytics jobs</span></span>
<span data-ttu-id="c4292-104">Azure Data Lake Analytics 服務會將提交的作業封存在[查詢存放區](#query-store)中。</span><span class="sxs-lookup"><span data-stu-id="c4292-104">The Azure Data Lake Analytics service archives submitted jobs in a [query store](#query-store).</span></span> <span data-ttu-id="c4292-105">在本文中，您會了解如何在適用於 Visual Studio 的 Azure Data Lake 工具中使用作業瀏覽器和作業檢視，來尋找作業歷程記錄資訊。</span><span class="sxs-lookup"><span data-stu-id="c4292-105">In this article, you learn how to use Job Browser and Job View in Azure Data Lake Tools for Visual Studio to find the historical job information.</span></span> 

<span data-ttu-id="c4292-106">依預設，Azure Data Lake Analytics 服務會封存作業 30 天。</span><span class="sxs-lookup"><span data-stu-id="c4292-106">By default, the Data Lake Analytics service archives the jobs for 30 days.</span></span> <span data-ttu-id="c4292-107">您可以藉由設定自訂的到期原則，從 Azure 入口網站設定有效期限。</span><span class="sxs-lookup"><span data-stu-id="c4292-107">The expiration period can be configured from the Azure portal by configuring the customized expiration policy.</span></span> <span data-ttu-id="c4292-108">期限到期後，您將無法存取作業資訊。</span><span class="sxs-lookup"><span data-stu-id="c4292-108">You will not be able to access the job information after expiration.</span></span> 

## <a name="prerequisites"></a><span data-ttu-id="c4292-109">必要條件</span><span class="sxs-lookup"><span data-stu-id="c4292-109">Prerequisites</span></span>
<span data-ttu-id="c4292-110">請參閱[適用於 Visual Studio 的 Azure Data Lake 工具](data-lake-analytics-data-lake-tools-get-started.md#prerequisites)。</span><span class="sxs-lookup"><span data-stu-id="c4292-110">See [Data Lake Tools for Visual Studio prerequisites](data-lake-analytics-data-lake-tools-get-started.md#prerequisites).</span></span>

## <a name="open-the-job-browser"></a><span data-ttu-id="c4292-111">開啟作業瀏覽器</span><span class="sxs-lookup"><span data-stu-id="c4292-111">Open the Job Browser</span></span>
<span data-ttu-id="c4292-112">透過 Visual Studio 中的**伺服器總管 > Azure > Data Lake Analytics > 作業**來存取作業瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="c4292-112">Access the Job Browser via **Server Explorer>Azure>Data Lake Analytics>Jobs** in Visual Studio.</span></span>  <span data-ttu-id="c4292-113">您可以使用作業瀏覽器來存取 Data Lake Analytics 帳戶的查詢存放區。</span><span class="sxs-lookup"><span data-stu-id="c4292-113">Using the Job Browser, you can access the query store of a Data Lake Analytics account.</span></span> <span data-ttu-id="c4292-114">作業瀏覽器的左側會顯示查詢資料存放區 (顯示基本的作業資訊)，右側會顯示作業檢視 (顯示詳細的作業資訊)。</span><span class="sxs-lookup"><span data-stu-id="c4292-114">Job Browser displays Query Store on the left, showing basic job information, and Job View on the right showing detailed job information.</span></span>

## <a name="job-view"></a><span data-ttu-id="c4292-115">作業檢視</span><span class="sxs-lookup"><span data-stu-id="c4292-115">Job View</span></span>
<span data-ttu-id="c4292-116">作業檢視會顯示作業的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="c4292-116">Job View shows the detailed information of a job.</span></span> <span data-ttu-id="c4292-117">若要開啟作業，您可以在作業瀏覽器中按兩下作業，或按一下作業檢視從 Data Lake 功能表將其開啟。</span><span class="sxs-lookup"><span data-stu-id="c4292-117">To open a job, you can double-click a job in the Job Browser, or open it from the Data Lake menu by clicking Job View.</span></span> <span data-ttu-id="c4292-118">您應該會看到一個填入作業 URL 的對話方塊。</span><span class="sxs-lookup"><span data-stu-id="c4292-118">You should see a dialog populated with the job URL.</span></span>

![Data Lake 工具 Visual Studio 作業瀏覽器](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view.png)

<span data-ttu-id="c4292-120">作業檢視包含︰</span><span class="sxs-lookup"><span data-stu-id="c4292-120">Job View contains:</span></span>

* <span data-ttu-id="c4292-121">工作摘要</span><span class="sxs-lookup"><span data-stu-id="c4292-121">Job Summary</span></span>
  
    <span data-ttu-id="c4292-122">重新整理作業檢視，以查看執行中作業的最新資訊。</span><span class="sxs-lookup"><span data-stu-id="c4292-122">Refresh the Job View to see the more recent information of running jobs.</span></span>
  
  * <span data-ttu-id="c4292-123">作業狀態 (圖形)：</span><span class="sxs-lookup"><span data-stu-id="c4292-123">Job Status (graph):</span></span>
    
      <span data-ttu-id="c4292-124">作業狀態說明作業階段︰</span><span class="sxs-lookup"><span data-stu-id="c4292-124">Job Status outlines the job phases:</span></span>
    
      ![Azure Data Lake Analytics 作業階段狀態](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-phases.png)
    
    * <span data-ttu-id="c4292-126">準備中︰將您的指令碼上傳到雲端，使用編譯服務以編譯和最佳化指令碼。</span><span class="sxs-lookup"><span data-stu-id="c4292-126">Preparing: Upload your script to the cloud, compiling and optimizing the script using the compile service.</span></span>
    * <span data-ttu-id="c4292-127">已排入佇列︰當作業等待到足夠的資源，或是作業超過每個帳戶限制的並行作業數上限時，便會排入佇列。</span><span class="sxs-lookup"><span data-stu-id="c4292-127">Queued: Jobs are queued whey they are waiting for enough resources, or the jobs exceed the max concurrent jobs per account limitation.</span></span> <span data-ttu-id="c4292-128">優先順序設定會決定排入佇列的作業順序，數字越低表示優先順序愈高。</span><span class="sxs-lookup"><span data-stu-id="c4292-128">The priority setting determines the sequence of queued jobs - the lower the number, the higher the priority.</span></span>
    * <span data-ttu-id="c4292-129">執行中︰作業正在 Data Lake Analytics 帳戶中實際執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-129">Running: The job is actually running in your Data Lake Analytics account.</span></span>
    * <span data-ttu-id="c4292-130">完成中︰作業正在完成 (例如，正在完成檔案)。</span><span class="sxs-lookup"><span data-stu-id="c4292-130">Finalizing: The job is completing (for example, finalizing the file).</span></span>
      
      <span data-ttu-id="c4292-131">作業在每個階段都可能會失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-131">The job can fail in every phase.</span></span> <span data-ttu-id="c4292-132">例如，在準備階段的編譯錯誤，在排入佇列階段的逾時錯誤，以及在執行階段的執行錯誤等等。</span><span class="sxs-lookup"><span data-stu-id="c4292-132">For example, compilation errors in the Preparing phase, timeout errors in the Queued phase, and execution errors in the Running phase, etc.</span></span>
  * <span data-ttu-id="c4292-133">基本資訊</span><span class="sxs-lookup"><span data-stu-id="c4292-133">Basic Information</span></span>
    
      <span data-ttu-id="c4292-134">基本作業資訊會在作業摘要面板的下半部顯示。</span><span class="sxs-lookup"><span data-stu-id="c4292-134">The basic job information shows in the lower part of the Job Summary panel.</span></span>
    
      ![Azure Data Lake Analytics 作業階段狀態](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-info.png)
    
    * <span data-ttu-id="c4292-136">作業的結果︰成功或失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-136">Job Result: Succeeded or failed.</span></span> <span data-ttu-id="c4292-137">作業在每個階段都可能會失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-137">The job may fail in every phase.</span></span>
    * <span data-ttu-id="c4292-138">總持續時間︰提交時間和結束時間之間的時鐘時間 (持續時間)。</span><span class="sxs-lookup"><span data-stu-id="c4292-138">Total Duration: Wall clock time (duration) between submitting time and ending time.</span></span>
    * <span data-ttu-id="c4292-139">總計算時間︰每個頂點執行時間的總和，您可以將其視為只有在一個頂點中執行作業的時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-139">Total Compute Time: The sum of every vertex execution time, you can consider it as the time that the job is executed in only one vertex.</span></span> <span data-ttu-id="c4292-140">如需頂點的詳細資訊，請參閱頂點總計。</span><span class="sxs-lookup"><span data-stu-id="c4292-140">Refer to Total Vertices to find more information about vertex.</span></span>
    * <span data-ttu-id="c4292-141">提交/開始/結束時間︰Data Lake Analytics 服務接收作業提交/開始執行作業/成功與否結束作業的時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-141">Submit/Start/End Time: The time when the Data Lake Analytics service receives job submission/starts to run the job/ends the job successfully or not.</span></span>
    * <span data-ttu-id="c4292-142">編譯/已排入佇列/執行中︰花費在準備中/已排入佇列/執行中階段的時鐘時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-142">Compilation/Queued/Running: Wall clock time spent during the Preparing/Queued/Running phase.</span></span>
    * <span data-ttu-id="c4292-143">帳戶︰用於執行作業的 Data Lake Analytics 帳戶。</span><span class="sxs-lookup"><span data-stu-id="c4292-143">Account: The Data Lake Analytics account used for running the job.</span></span>
    * <span data-ttu-id="c4292-144">作者︰提交作業的使用者，可以是實際人員的帳戶或系統帳戶。</span><span class="sxs-lookup"><span data-stu-id="c4292-144">Author: The user who submitted the job, it can be a real person’s account or a system account.</span></span>
    * <span data-ttu-id="c4292-145">優先順序：作業的優先順序。</span><span class="sxs-lookup"><span data-stu-id="c4292-145">Priority: The priority of the job.</span></span> <span data-ttu-id="c4292-146">編號愈低，優先順序愈高。</span><span class="sxs-lookup"><span data-stu-id="c4292-146">The lower the number, the higher the priority.</span></span> <span data-ttu-id="c4292-147">它只會影響作業在佇列中的順序。</span><span class="sxs-lookup"><span data-stu-id="c4292-147">It only affects the sequence of the jobs in the queue.</span></span> <span data-ttu-id="c4292-148">設定較高的優先順序，不會優先於執行中的作業。</span><span class="sxs-lookup"><span data-stu-id="c4292-148">Setting a higher priority does not preempt running jobs.</span></span>
    * <span data-ttu-id="c4292-149">平行處理原則︰並行 Azure Data Lake Analytics 單位 (ADLAU) (也稱為頂點) 的要求數目上限。</span><span class="sxs-lookup"><span data-stu-id="c4292-149">Parallelism: The requested maximum number of concurrent Azure Data Lake Analytics Units (ADLAUs), aka vertices.</span></span> <span data-ttu-id="c4292-150">目前，一個頂點等於一個雙虛擬核心和 6 GB RAM 的 VM，但這在未來的 Data Lake Analytics 更新中可能會升級。</span><span class="sxs-lookup"><span data-stu-id="c4292-150">Currently, one vertex is equal to one VM with two virtual core and six GB RAM, though this could be upgraded in future Data Lake Analytics updates.</span></span>
    * <span data-ttu-id="c4292-151">剩餘的位元組︰作業完成之前需要處理的位元組。</span><span class="sxs-lookup"><span data-stu-id="c4292-151">Bytes Left: Bytes that need to be processed until the job completes.</span></span>
    * <span data-ttu-id="c4292-152">已讀取/寫入的位元組︰作業開始執行後已讀取/寫入的位元組。</span><span class="sxs-lookup"><span data-stu-id="c4292-152">Bytes read/written: Bytes that have been read/written since the job started running.</span></span>
    * <span data-ttu-id="c4292-153">總頂點︰作業作會分成許多的作業作片段，每份作業片段就稱為頂點。</span><span class="sxs-lookup"><span data-stu-id="c4292-153">Total vertices: The job is broken up into many pieces of work, each piece of work is called a vertex.</span></span> <span data-ttu-id="c4292-154">這個值描述作業是由多少工作片段所組成。</span><span class="sxs-lookup"><span data-stu-id="c4292-154">This value describes how many pieces of work the job consists of.</span></span> <span data-ttu-id="c4292-155">您可以將頂點視為基本處理單位，也就是 Azure Data Lake Analytics 單位 (ADLAU)，且頂點可以在平行處理原則中執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-155">You can consider a vertex as a basic process unit, aka Azure Data Lake Analytics Unit (ADLAU), and vertices can be run in parallelism.</span></span> 
    * <span data-ttu-id="c4292-156">完成/執行中/失敗︰完成/執行中/失敗的頂點計數。</span><span class="sxs-lookup"><span data-stu-id="c4292-156">Completed/Running/Failed: The count of completed/running/failed vertices.</span></span> <span data-ttu-id="c4292-157">頂點會因為使用者程式碼和系統失敗而失敗，但系統會自動重試幾次失敗的頂點。</span><span class="sxs-lookup"><span data-stu-id="c4292-157">Vertices can fail due to both user code and system failures, but the system retries failed vertices automatically a few times.</span></span> <span data-ttu-id="c4292-158">如果頂點在重試後仍然失敗，則整個作業將會失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-158">If the vertex is still failed after retrying, the whole job will fail.</span></span>
* <span data-ttu-id="c4292-159">作業圖形</span><span class="sxs-lookup"><span data-stu-id="c4292-159">Job Graph</span></span>
  
    <span data-ttu-id="c4292-160">U-SQL 指令碼代表將輸入資料轉換為輸出資料的邏輯。</span><span class="sxs-lookup"><span data-stu-id="c4292-160">A U-SQL script represents the logic of transforming input data to output data.</span></span> <span data-ttu-id="c4292-161">指令碼會在準備中階段進行編譯並最佳化至實體的執行計畫。</span><span class="sxs-lookup"><span data-stu-id="c4292-161">The script is compiled and optimized to a physical execution plan at the Preparing phase.</span></span> <span data-ttu-id="c4292-162">作業圖形可顯示實體的執行計畫。</span><span class="sxs-lookup"><span data-stu-id="c4292-162">Job Graph is to show the physical execution plan.</span></span>  <span data-ttu-id="c4292-163">下圖說明此程序：</span><span class="sxs-lookup"><span data-stu-id="c4292-163">The following diagram illustrates the process:</span></span>
  
    ![Azure Data Lake Analytics 作業階段狀態](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-logical-to-physical-plan.png)
  
    <span data-ttu-id="c4292-165">作業分成許多的工作片段。</span><span class="sxs-lookup"><span data-stu-id="c4292-165">A job is broken up into many pieces of work.</span></span> <span data-ttu-id="c4292-166">每份工作片段稱為頂點。</span><span class="sxs-lookup"><span data-stu-id="c4292-166">Each piece of work is called a Vertex.</span></span> <span data-ttu-id="c4292-167">頂點分組為超級頂點 (也稱為階段)，並以作業圖形視覺化呈現。</span><span class="sxs-lookup"><span data-stu-id="c4292-167">The vertices are grouped as Super Vertex (aka stage), and visualized as Job Graph.</span></span> <span data-ttu-id="c4292-168">作業圖形中的綠色階段牌子顯示階段。</span><span class="sxs-lookup"><span data-stu-id="c4292-168">The green stage placards in the job graph show the stages.</span></span>
  
    <span data-ttu-id="c4292-169">階段中每的一個頂點都在進行同樣的工作，只是對象為相同資料的不同片段。</span><span class="sxs-lookup"><span data-stu-id="c4292-169">Every vertex in a stage is doing the same kind of work with different pieces of the same data.</span></span> <span data-ttu-id="c4292-170">例如，如果您有一個 TB 資料的檔案，而且有數百個頂點在讀取它，則每個頂點都會讀取其中一個區塊。</span><span class="sxs-lookup"><span data-stu-id="c4292-170">For example, if you have a file with one TB data, and there are hundreds of vertices reading from it, each of them is reading a chunk.</span></span> <span data-ttu-id="c4292-171">這些頂點會在相同階段進行分組，並針對輸入檔的不同片段執行相同的工作。</span><span class="sxs-lookup"><span data-stu-id="c4292-171">Those vertices are grouped in the same stage and doing same work on different pieces of same input file.</span></span>
  
  * <span data-ttu-id="c4292-172"><a name="state-information"></a>階段資訊</span><span class="sxs-lookup"><span data-stu-id="c4292-172"><a name="state-information"></a>Stage information</span></span>
    
      <span data-ttu-id="c4292-173">在特定階段中，牌子會顯示一些數字。</span><span class="sxs-lookup"><span data-stu-id="c4292-173">In a particular stage, some numbers are shown in the placard.</span></span>
    
      ![Azure Data Lake Analytics 作業圖形階段](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-stage.png)
    
    * <span data-ttu-id="c4292-175">SV1 擷取︰階段的名稱，由數字和作業方法所命名。</span><span class="sxs-lookup"><span data-stu-id="c4292-175">SV1 Extract: The name of a stage, named by a number and the operation method.</span></span>
    * <span data-ttu-id="c4292-176">84 個頂點︰這個階段的頂點總計數。</span><span class="sxs-lookup"><span data-stu-id="c4292-176">84 vertices: The total count of vertices in this stage.</span></span> <span data-ttu-id="c4292-177">此圖指示在這個階段有多少工作區分為片段。</span><span class="sxs-lookup"><span data-stu-id="c4292-177">The figure indicates how many pieces of work is divided in this stage.</span></span>
    * <span data-ttu-id="c4292-178">12.90 秒/頂點︰這個階段頂點的平均執行時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-178">12.90 s/vertex: The average vertex execution time for this stage.</span></span> <span data-ttu-id="c4292-179">此圖中的計算方式是加總 (每個頂點執行時間) / (頂點總計數)。</span><span class="sxs-lookup"><span data-stu-id="c4292-179">This figure is calculated by SUM (every vertex execution time) / (total Vertex count).</span></span> <span data-ttu-id="c4292-180">這表示如果您可以指派平行處理原則中執行的所有頂點，整個階段會在 12.90 秒內完成。</span><span class="sxs-lookup"><span data-stu-id="c4292-180">Which means if you could assign all the vertices executed in parallelism, the whole stage is completed in 12.90 s.</span></span> <span data-ttu-id="c4292-181">這也表示如果在這個階段中的所有工作都是循序完成，成本會是頂點數量乘以平均回應時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-181">It also means if all the work in this stage is done serially, the cost would be #vertices * AVG time.</span></span>
    * <span data-ttu-id="c4292-182">已寫入 850,895 個資料列︰在這個階段中寫入的資料列總計數。</span><span class="sxs-lookup"><span data-stu-id="c4292-182">850,895 rows written: Total row count written in this stage.</span></span>
    * <span data-ttu-id="c4292-183">R/W︰在這個階段中讀取/寫入的資料量 (位元組)。</span><span class="sxs-lookup"><span data-stu-id="c4292-183">R/W: Amount of data read/Written in this stage in bytes.</span></span>
    * <span data-ttu-id="c4292-184">色彩︰階段會使用色彩以表示不同的頂點狀態。</span><span class="sxs-lookup"><span data-stu-id="c4292-184">Colors: Colors are used in the stage to indicate different vertex status.</span></span>
      
      * <span data-ttu-id="c4292-185">綠色表示頂點已成功。</span><span class="sxs-lookup"><span data-stu-id="c4292-185">Green indicates the vertex is succeeded.</span></span>
      * <span data-ttu-id="c4292-186">橙色表示頂點已重試。</span><span class="sxs-lookup"><span data-stu-id="c4292-186">Orange indicates the vertex is retried.</span></span> <span data-ttu-id="c4292-187">重試的頂點失敗後，系統會自動重試一次並且如果成功，則整體階段便成功完成。</span><span class="sxs-lookup"><span data-stu-id="c4292-187">The retried vertex was failed but is retried automatically and successfully by the system, and the overall stage is completed successfully.</span></span> <span data-ttu-id="c4292-188">如果頂點重試但仍失敗，色彩會變成紅色，整個作業也跟著失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-188">If the vertex retried but still failed, the color turns red and the whole job failed.</span></span>
      * <span data-ttu-id="c4292-189">紅色代表失敗，這表示系統已重試幾次特定頂點，但仍失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-189">Red indicates failed, which means a certain vertex had been retried a few times by the system but still failed.</span></span> <span data-ttu-id="c4292-190">這個情況會造成整個作業失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-190">This scenario causes the whole job to fail.</span></span>
      * <span data-ttu-id="c4292-191">藍色表示特定頂點正在執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-191">Blue means a certain vertex is running.</span></span>
      * <span data-ttu-id="c4292-192">白色表示頂點正在等待。</span><span class="sxs-lookup"><span data-stu-id="c4292-192">White indicates the vertex is Waiting.</span></span> <span data-ttu-id="c4292-193">頂點可能會等待當 ADLAU 變成可用時進行排程，或者可能會等待輸入，因為其輸入資料可能還未就緒。</span><span class="sxs-lookup"><span data-stu-id="c4292-193">The vertex may be waiting to be scheduled once an ADLAU becomes available, or it may be waiting for input since its input data might not be ready.</span></span>
      
      <span data-ttu-id="c4292-194">您可以將滑鼠游標停留在狀態上，找到階段的更多詳細資料︰</span><span class="sxs-lookup"><span data-stu-id="c4292-194">You can find more details for the stage by hovering your mouse cursor by one state:</span></span>
      
      ![Azure Data Lake Analytics 作業圖形階段詳細資料](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-stage-details.png)
  * <span data-ttu-id="c4292-196">頂點︰描述頂點的詳細資料，例如頂點總數是多少，已完成多少頂點，頂點失敗或仍在執行/等待等。</span><span class="sxs-lookup"><span data-stu-id="c4292-196">Vertices: Describes the vertices details, for example, how many vertices in total, how many vertices have been completed, are they failed or still running/waiting, etc.</span></span>
  * <span data-ttu-id="c4292-197">跨/內部組合讀取的資料︰檔案和資料會儲存在分散式檔案系統的多個組合中。</span><span class="sxs-lookup"><span data-stu-id="c4292-197">Data read cross/intra pod: Files and data are stored in multiple pods in distributed file system.</span></span> <span data-ttu-id="c4292-198">這裡的值描述在相同組合或跨組合中，已讀取的資料量。</span><span class="sxs-lookup"><span data-stu-id="c4292-198">The value here describes how much data has been read in the same pod or cross pod.</span></span>
  * <span data-ttu-id="c4292-199">總計算時間︰在階段中每個頂點執行時間的總和，您可以將其視為階段中所有工作只有在一個頂點中執行的時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-199">Total compute time: The sum of every vertex execution time in the stage, you can consider it as the time it would take if all work in the stage is executed in only one vertex.</span></span>
  * <span data-ttu-id="c4292-200">寫入/讀取的資料和資料列︰指出多少資料或資料列已讀取/寫入，或需要讀取。</span><span class="sxs-lookup"><span data-stu-id="c4292-200">Data and rows written/read: Indicates how much data or rows have been read/written, or need to be read.</span></span>
  * <span data-ttu-id="c4292-201">頂點讀取失敗︰描述多少頂點在讀取資料時失敗。</span><span class="sxs-lookup"><span data-stu-id="c4292-201">Vertex read failures: Describes how many vertices are failed while read data.</span></span>
  * <span data-ttu-id="c4292-202">頂點重複捨棄︰如果頂點的執行速度太慢，系統可能會排程多個頂點來執行相同的工作片段。</span><span class="sxs-lookup"><span data-stu-id="c4292-202">Vertex duplicate discards: If a vertex runs too slow, the system may schedule multiple vertices to run the same piece of work.</span></span> <span data-ttu-id="c4292-203">其中一個頂點順利完成之後，將會捨棄其餘的頂點。</span><span class="sxs-lookup"><span data-stu-id="c4292-203">Reductant vertices will be discarded once one of the vertices complete successfully.</span></span> <span data-ttu-id="c4292-204">頂點重複捨棄會記錄階段中視為重複項目而捨棄的頂點數目。</span><span class="sxs-lookup"><span data-stu-id="c4292-204">Vertex duplicate discards records the number of vertices that are discarded as duplications in the stage.</span></span>
  * <span data-ttu-id="c4292-205">頂點撤銷︰頂點已順利完成，但因為某些原因而在稍後重新執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-205">Vertex revocations: The vertex was succeeded, but get rerun later due to some reasons.</span></span> <span data-ttu-id="c4292-206">例如，如果下游頂點失去中繼輸入資料，它會要求上游頂點重新執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-206">For example, if downstream vertex loses intermediate input data, it will ask the upstream vertex to rerun.</span></span>
  * <span data-ttu-id="c4292-207">頂點排程執行︰已排程頂點的總時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-207">Vertex schedule executions: The total time that the vertices have been scheduled.</span></span>
  * <span data-ttu-id="c4292-208">讀取的最小/平均/最大頂點資料︰最小/平均/最大的每一個頂點讀取資料。</span><span class="sxs-lookup"><span data-stu-id="c4292-208">Min/Average/Max Vertex data read: The minimum/average/maximum of every vertex read data.</span></span>
  * <span data-ttu-id="c4292-209">持續時間︰階段花費的時鐘時間，您需要載入設定檔以查看此值。</span><span class="sxs-lookup"><span data-stu-id="c4292-209">Duration: The wall clock time a stage takes, you need to load profile to see this value.</span></span>
  * <span data-ttu-id="c4292-210">工作播放</span><span class="sxs-lookup"><span data-stu-id="c4292-210">Job Playback</span></span>
    
      <span data-ttu-id="c4292-211">Data Lake Analytics 執行作業，並封存執行作業資訊的頂點，例如頂點啟動、停止和失敗的時間，以及重試的方式等。所有的資訊會自動記錄於查詢存放區中，並儲存在其作業設定檔。</span><span class="sxs-lookup"><span data-stu-id="c4292-211">Data Lake Analytics runs jobs and archives the vertices running information of the jobs, such as when the vertices are started, stopped, failed and how they are retried, etc. All of the information is automatically logged in the query store and stored in its Job Profile.</span></span> <span data-ttu-id="c4292-212">您可以透過作業檢視中的「載入設定檔」來下載作業設定檔，並在下載作業設定檔之後檢視作業播放。</span><span class="sxs-lookup"><span data-stu-id="c4292-212">You can download the Job Profile through “Load Profile” in Job View, and you can view the Job Playback after downloading the Job Profile.</span></span>
    
      <span data-ttu-id="c4292-213">作業播放是叢集中所進行作業的概括視覺效果。</span><span class="sxs-lookup"><span data-stu-id="c4292-213">Job Playback is an epitome visualization of what happened in the cluster.</span></span> <span data-ttu-id="c4292-214">作業播放可讓您觀看作業執行進度，並在很短的時間內 (通常少於 30 秒) 以視覺化方式偵測出效能異常和瓶頸。</span><span class="sxs-lookup"><span data-stu-id="c4292-214">It helps you watch job execution progress and visually detect out performance anomalies and bottlenecks in a very short time (less than 30s usually).</span></span>
  * <span data-ttu-id="c4292-215">作業熱度圖顯示</span><span class="sxs-lookup"><span data-stu-id="c4292-215">Job Heat Map Display</span></span> 
    
      <span data-ttu-id="c4292-216">您可以透過作業圖形中的 [顯示] 下拉式清單選取作業熱度圖。</span><span class="sxs-lookup"><span data-stu-id="c4292-216">Job Heat Map can be selected through the Display dropdown in Job Graph.</span></span> 
    
      ![Azure Data Lake Analytics 作業圖形熱度圖顯示](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-heat-map-display.png)
    
      <span data-ttu-id="c4292-218">它會顯示作業的 I/O、時間和輸送量，讓您可以發現作業花費最多時間在哪些地方，或您的作業是否為 I/O 界限作業等等。</span><span class="sxs-lookup"><span data-stu-id="c4292-218">It shows the I/O, time and throughput heat map of a job, through which you can find where the job spends most of the time, or whether your job is an I/O boundary job, and so on.</span></span>
    
      ![Azure Data Lake Analytics 作業圖形熱度圖範例](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-heat-map-example.png)
    
    * <span data-ttu-id="c4292-220">進度︰作業執行進度，請參閱[階段資訊](#stage-information)中的資訊。</span><span class="sxs-lookup"><span data-stu-id="c4292-220">Progress: The job execution progress, see Information in [stage information](#stage-information).</span></span>
    * <span data-ttu-id="c4292-221">讀取/寫入的資料︰每個階段中，讀取/寫入總資料的熱度圖。</span><span class="sxs-lookup"><span data-stu-id="c4292-221">Data read/written: The heat map of total data read/written in each stage.</span></span>
    * <span data-ttu-id="c4292-222">計算時間︰總和 (每個頂點執行時間) 的熱度圖，您可以將其視為階段中所有工作只有在一個頂點中執行的時間。</span><span class="sxs-lookup"><span data-stu-id="c4292-222">Compute time: The heat map of SUM (every vertex execution time), you can consider this as how long it would take if all work in the stage is executed with only 1 vertex.</span></span>
    * <span data-ttu-id="c4292-223">每個節點的平均執行時間︰總和 (每個頂點執行時間) 的熱度圖 / (頂點數量)。</span><span class="sxs-lookup"><span data-stu-id="c4292-223">Average execution time per node: The heat map of SUM (every vertex execution time) / (Vertex Number).</span></span> <span data-ttu-id="c4292-224">這表示如果您可以指派平行處理原則中執行的所有頂點，整個階段會在這個時間範圍內完成。</span><span class="sxs-lookup"><span data-stu-id="c4292-224">Which means if you could assign all the vertices executed in parallelism, the whole stage will be done in this time frame.</span></span>
    * <span data-ttu-id="c4292-225">輸入/輸出輸送量︰每個階段輸入/輸出輸送量的熱度圖，您可以藉此確認您的作業是否為 I/O 界限作業。</span><span class="sxs-lookup"><span data-stu-id="c4292-225">Input/Output throughput: The heat map of input/output throughput of each stage, you can confirm if your job is an I/O bound job through this.</span></span>
* <span data-ttu-id="c4292-226">中繼資料作業</span><span class="sxs-lookup"><span data-stu-id="c4292-226">Metadata Operations</span></span>
  
    <span data-ttu-id="c4292-227">您可以在 U-SQL 指令碼中執行某些中繼資料作業，例如建立資料庫、捨棄資料表等。這些作業會在編譯之後顯示於中繼資料作業。</span><span class="sxs-lookup"><span data-stu-id="c4292-227">You can perform some metadata operations in your U-SQL script, such as create a database, drop a table, etc. These operations are shown in Metadata Operation after compilation.</span></span> <span data-ttu-id="c4292-228">您可以在這裡找到判斷提示、建立實體並捨棄實體。</span><span class="sxs-lookup"><span data-stu-id="c4292-228">You may find assertions, create entities, drop entities here.</span></span>
  
    ![Azure Data Lake Analytics 作業檢視中繼資料作業](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view-metadata-operations.png)
* <span data-ttu-id="c4292-230">狀態記錄</span><span class="sxs-lookup"><span data-stu-id="c4292-230">State History</span></span>
  
    <span data-ttu-id="c4292-231">狀態記錄為也會以視覺化方式呈現在作業摘要中，但您可以在此取得更多詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c4292-231">The State History is also visualized in Job Summary, but you can get more details here.</span></span> <span data-ttu-id="c4292-232">您可以找到詳細的資訊，例如作業何時已進行準備、排入佇列、開始執行以及結束。</span><span class="sxs-lookup"><span data-stu-id="c4292-232">You can find the detailed information such as when the job is prepared, queued, started running, ended.</span></span> <span data-ttu-id="c4292-233">此外您也可以找到作業已編譯的次數 (CcsAttempts: 1)，作業實際分派到叢集中的時間 (詳細資料︰將作業分派到叢集) 等等。</span><span class="sxs-lookup"><span data-stu-id="c4292-233">Also you can find how many times the job has been compiled (the CcsAttempts: 1), when is the job dispatched to the cluster actually (the Detail: Dispatching job to cluster), etc.</span></span>
  
    ![Azure Data Lake Analytics 作業檢視狀態記錄](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view-state-history.png)
* <span data-ttu-id="c4292-235">診斷</span><span class="sxs-lookup"><span data-stu-id="c4292-235">Diagnostics</span></span>
  
    <span data-ttu-id="c4292-236">此工具會自動診斷作業執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-236">The tool diagnoses job execution automatically.</span></span> <span data-ttu-id="c4292-237">當作業中有一些錯誤或效能問題時您會收到警示。</span><span class="sxs-lookup"><span data-stu-id="c4292-237">You will receive alerts when there are some errors or performance issues in your jobs.</span></span> <span data-ttu-id="c4292-238">請注意，您必須下載設定檔以取得完整的資訊。</span><span class="sxs-lookup"><span data-stu-id="c4292-238">Please note that you need to download Profile to get full information here.</span></span> 
  
    ![Azure Data Lake Analytics 作業檢視診斷](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view-diagnostics.png)
  
  * <span data-ttu-id="c4292-240">警告︰警示會在此處顯示編譯器警告。</span><span class="sxs-lookup"><span data-stu-id="c4292-240">Warnings: An alert shows up here with compiler warning.</span></span> <span data-ttu-id="c4292-241">警示出現後，您可以按一下「x 問題」連結以查看更多詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c4292-241">You can click “x issue(s)” link to have more details once the alert appears.</span></span>
  * <span data-ttu-id="c4292-242">頂點執行時間過長︰如果任一個頂點用盡時間 (例如 5 小時)，問題就會顯示在這裡。</span><span class="sxs-lookup"><span data-stu-id="c4292-242">Vertex run too long: If any vertex runs out of time (say 5 hours), issues will be found here.</span></span>
  * <span data-ttu-id="c4292-243">資源使用狀況︰如果您配置過多或不足所需的平行處理原則，問題就會顯示在這裡。</span><span class="sxs-lookup"><span data-stu-id="c4292-243">Resource usage: If you allocated more or not enough Parallelism than need, issues will be found here.</span></span> <span data-ttu-id="c4292-244">您也可以按一下 [資源使用狀況] 以查看更多詳細資料並執行假設案例，以尋找更好的資源配置 (如需詳細資料，請參閱本指南)。</span><span class="sxs-lookup"><span data-stu-id="c4292-244">Also you can click Resource usage to see more details and perform what-if scenarios to find a better resource allocation (for more details, see this guide).</span></span>
  * <span data-ttu-id="c4292-245">記憶體檢查︰如果任一個頂點使用超過 5 GB 的記憶體，問題就會顯示在這裡。</span><span class="sxs-lookup"><span data-stu-id="c4292-245">Memory check: If any vertex uses more than 5 GB of memory, issues will be found here.</span></span> <span data-ttu-id="c4292-246">如果作業執行使用的記憶體超過系統限制，則系統可能會終止作業執行。</span><span class="sxs-lookup"><span data-stu-id="c4292-246">Job execution may get killed by system if it uses more memory than system limitation.</span></span>

## <a name="job-detail"></a><span data-ttu-id="c4292-247">作業詳細資料</span><span class="sxs-lookup"><span data-stu-id="c4292-247">Job Detail</span></span>
<span data-ttu-id="c4292-248">作業詳細資料顯示作業的詳細資訊，包括指令碼、資源和頂點執行檢視。</span><span class="sxs-lookup"><span data-stu-id="c4292-248">Job Detail shows the detailed information of the job, including Script, Resources and Vertex Execution View.</span></span>

![Azure Data Lake Analytics 作業詳細資料](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-details.png)

* <span data-ttu-id="c4292-250">指令碼</span><span class="sxs-lookup"><span data-stu-id="c4292-250">Script</span></span>
  
    <span data-ttu-id="c4292-251">作業的 U-SQL 指令碼會儲存於查詢存放區中。</span><span class="sxs-lookup"><span data-stu-id="c4292-251">The U-SQL script of the job is stored in the query store.</span></span> <span data-ttu-id="c4292-252">您可以檢視原始 U-SQL 指令碼，並視需要重新提交。</span><span class="sxs-lookup"><span data-stu-id="c4292-252">You can view the original U-SQL script and re-submit it if needed.</span></span>
* <span data-ttu-id="c4292-253">資源</span><span class="sxs-lookup"><span data-stu-id="c4292-253">Resources</span></span>
  
    <span data-ttu-id="c4292-254">您可以透過資源找到儲存於查詢存放區中的作業編譯輸出。</span><span class="sxs-lookup"><span data-stu-id="c4292-254">You can find the job compilation outputs stored in the query store through Resources.</span></span> <span data-ttu-id="c4292-255">比方說，您可以在這裡找到用來顯示作業圖形的 “algebra.xml”、您已註冊的組件等。</span><span class="sxs-lookup"><span data-stu-id="c4292-255">For instance, you can find “algebra.xml” which is used to show the Job Graph, the assemblies you registered, etc. here.</span></span>
* <span data-ttu-id="c4292-256">頂點執行檢視</span><span class="sxs-lookup"><span data-stu-id="c4292-256">Vertex execution view</span></span>
  
    <span data-ttu-id="c4292-257">它會顯示頂點執行詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c4292-257">It shows vertices execution details.</span></span> <span data-ttu-id="c4292-258">作業設定檔會封存每個頂點執行記錄檔，例如讀取/寫入的總資料、執行階段、狀態等。透過這個檢視，您可以取得作業如何執行的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="c4292-258">The Job Profile archives every vertex execution log, such as total data read/written, runtime, state, etc. Through this view, you can get more details on how a job ran.</span></span> <span data-ttu-id="c4292-259">如需詳細資訊，請參閱[在適用於 Visual Studio 的 Data Lake 工具中使用頂點執行檢視](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md)。</span><span class="sxs-lookup"><span data-stu-id="c4292-259">For more information, see [Use the Vertex Execution View in Data Lake Tools for Visual Studio](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c4292-260">後續步驟</span><span class="sxs-lookup"><span data-stu-id="c4292-260">Next Steps</span></span>
* <span data-ttu-id="c4292-261">若要記錄診斷資訊，請參閱 [為 Azure Data Lake Analytics 存取診斷記錄檔](data-lake-analytics-diagnostic-logs.md)</span><span class="sxs-lookup"><span data-stu-id="c4292-261">To log diagnostics information, see [Accessing diagnostics logs for Azure Data Lake Analytics](data-lake-analytics-diagnostic-logs.md)</span></span>
* <span data-ttu-id="c4292-262">若要了解更複雜的查詢，請參閱 [使用 Azure 資料湖分析來分析網站記錄檔](data-lake-analytics-analyze-weblogs.md)。</span><span class="sxs-lookup"><span data-stu-id="c4292-262">To see a more complex query, see [Analyze Website logs using Azure Data Lake Analytics](data-lake-analytics-analyze-weblogs.md).</span></span>
* <span data-ttu-id="c4292-263">若要使用頂點執行檢視，請參閱[在 Data Lake Tools for Visual Studio 中使用頂點執行檢視](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md)</span><span class="sxs-lookup"><span data-stu-id="c4292-263">To use vertex execution view, see [Use the Vertex Execution View in Data Lake Tools for Visual Studio](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md)</span></span>

