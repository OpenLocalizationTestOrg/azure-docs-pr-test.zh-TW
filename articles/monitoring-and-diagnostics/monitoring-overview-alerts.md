---
title: "Microsoft Azure 和 Azure 監視器中的警示概觀 | Microsoft Docs"
description: "警示可讓您監視 Azure 資源度量、事件或記錄檔，並在您所指定條件符合時收到通知。"
author: rboucher
manager: carmonm
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: a6dea224-57bf-43d8-a292-06523037d70b
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/02/2017
ms.author: robb
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3d30ce72a3be298eba1f4e8f8d33b769971c96cb
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/18/2017
---
# <a name="what-are-alerts-in-microsoft-azure"></a><span data-ttu-id="24cab-103">Microsoft Azure 中的警示是什麼？</span><span class="sxs-lookup"><span data-stu-id="24cab-103">What are alerts in Microsoft Azure?</span></span>
<span data-ttu-id="24cab-104">本文說明 Microsoft Azure 中的各種警示來源、這些警示的目的和優點，以及如何開始使用這些警示。</span><span class="sxs-lookup"><span data-stu-id="24cab-104">This article describes the various sources of alerts in Microsoft Azure, what are the purposes for those alerts, their benefits, and how to get started with using them.</span></span> <span data-ttu-id="24cab-105">此內容特別適用於 Azure 監視器，但也會提供其他警示服務的指示。</span><span class="sxs-lookup"><span data-stu-id="24cab-105">It specifically applies to Azure Monitor, but provides pointers to other services with alerts as well.</span></span> <span data-ttu-id="24cab-106">警示是在 Azure 中進行監視的一種方法，可讓您對資料設定條件，並在最近的監視資料符合條件時收到通知。</span><span class="sxs-lookup"><span data-stu-id="24cab-106">Alerts offer a method of monitoring in Azure that allow you to configure conditions over data and become notified when the conditions match the latest monitoring data.</span></span>

## <a name="taxonomy-of-azure-alerts"></a><span data-ttu-id="24cab-107">Azure 警示的分類</span><span class="sxs-lookup"><span data-stu-id="24cab-107">Taxonomy of Azure Alerts</span></span>
<span data-ttu-id="24cab-108">Azure 使用下列詞彙來描述警示及其功能：</span><span class="sxs-lookup"><span data-stu-id="24cab-108">Azure uses the following terms to describe alerts and their functions:</span></span>
* <span data-ttu-id="24cab-109">**警示** - 符合時會啟動之準則 (一或多個規則或條件) 的定義。</span><span class="sxs-lookup"><span data-stu-id="24cab-109">**Alert** - a definition of criteria (one or more rules or conditions) that becomes activated when met.</span></span>
* <span data-ttu-id="24cab-110">**作用中** - 警示所定義的準則符合時的狀態。</span><span class="sxs-lookup"><span data-stu-id="24cab-110">**Active** - the state when the criteria defined by an alert is met.</span></span>
* <span data-ttu-id="24cab-111">**已解決** - 警示所定義的準則之前符合但已不再符合時的狀態。</span><span class="sxs-lookup"><span data-stu-id="24cab-111">**Resolved** - the state when the criteria defined by an alert is no longer met after previously having been met.</span></span>
* <span data-ttu-id="24cab-112">**通知** - 警示成為作用中時所採取的動作。</span><span class="sxs-lookup"><span data-stu-id="24cab-112">**Notification** - the action taken based off of an alert becoming active.</span></span>
* <span data-ttu-id="24cab-113">**動作** - 傳送給通知接收者的特定呼叫 (例如以電子郵件傳送位址或張貼到 Webhook URL)。</span><span class="sxs-lookup"><span data-stu-id="24cab-113">**Action** - a specific call sent to a receiver of a notification (for example, emailing an address or posting to a webhook URL).</span></span> <span data-ttu-id="24cab-114">通知通常可觸發多個動作。</span><span class="sxs-lookup"><span data-stu-id="24cab-114">Notifications can usually trigger multiple actions.</span></span>

## <a name="alerts-in-different-azure-services"></a><span data-ttu-id="24cab-115">不同 Azure 服務中的警示</span><span class="sxs-lookup"><span data-stu-id="24cab-115">Alerts in different Azure services</span></span>
<span data-ttu-id="24cab-116">警示可跨數個 Azure 監視服務使用。</span><span class="sxs-lookup"><span data-stu-id="24cab-116">Alerts are available across several Azure monitoring services.</span></span> <span data-ttu-id="24cab-117">如需如何及何時使用這些服務的資訊，[請參閱這篇文章](./monitoring-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="24cab-117">For information on how and when to use these services, [see this article](./monitoring-overview.md).</span></span> <span data-ttu-id="24cab-118">以下是可跨 Azure 使用之警示類型的細分：</span><span class="sxs-lookup"><span data-stu-id="24cab-118">Here is a breakdown of the alert types available across Azure:</span></span>

| <span data-ttu-id="24cab-119">服務</span><span class="sxs-lookup"><span data-stu-id="24cab-119">Service</span></span> | <span data-ttu-id="24cab-120">警示類型</span><span class="sxs-lookup"><span data-stu-id="24cab-120">Alert type</span></span> | <span data-ttu-id="24cab-121">支援的服務</span><span class="sxs-lookup"><span data-stu-id="24cab-121">Supported services</span></span> | <span data-ttu-id="24cab-122">說明</span><span class="sxs-lookup"><span data-stu-id="24cab-122">Description</span></span> |
|---|---|---|---|
| <span data-ttu-id="24cab-123">Azure 監視器</span><span class="sxs-lookup"><span data-stu-id="24cab-123">Azure Monitor</span></span> | [<span data-ttu-id="24cab-124">度量警示</span><span class="sxs-lookup"><span data-stu-id="24cab-124">Metric alerts</span></span>](./insights-alerts-portal.md) | [<span data-ttu-id="24cab-125">Azure 監視器支援的度量</span><span class="sxs-lookup"><span data-stu-id="24cab-125">Supported metrics from Azure Monitor</span></span>](./monitoring-supported-metrics.md) | <span data-ttu-id="24cab-126">當任何平台層級度量符合特定條件時收到通知 (例如 VM 上的 CPU % 在過去 5 分鐘大於 90)。</span><span class="sxs-lookup"><span data-stu-id="24cab-126">Receive a notification when any platform-level metric meets a specific condition (for example, CPU % on a VM is greater than 90 for the past 5 minutes).</span></span> |
| <span data-ttu-id="24cab-127">Azure 監視器</span><span class="sxs-lookup"><span data-stu-id="24cab-127">Azure Monitor</span></span> | [<span data-ttu-id="24cab-128">活動記錄警示</span><span class="sxs-lookup"><span data-stu-id="24cab-128">Activity Log alerts</span></span>](./monitoring-activity-log-alerts.md) | <span data-ttu-id="24cab-129">Azure Resource Manager 中可用的所有資源類型</span><span class="sxs-lookup"><span data-stu-id="24cab-129">All resource types available in Azure Resource Manager</span></span> | <span data-ttu-id="24cab-130">當 [Azure 活動記錄](./monitoring-overview-activity-logs.md)中有任何新事件符合特定條件時收到通知 (例如當 myProductionResourceGroup 中發生「刪除 VM」作業時，或當新服務健康狀態事件的狀態顯示為「作用中」時)。</span><span class="sxs-lookup"><span data-stu-id="24cab-130">Receive a notification when any new event in the [Azure Activity Log](./monitoring-overview-activity-logs.md) matches specific conditions (for example, when a "Delete VM" operation occurs in myProductionResourceGroup or when a new Service Health event with "Active" as the status appears).</span></span> |
| <span data-ttu-id="24cab-131">Application Insights</span><span class="sxs-lookup"><span data-stu-id="24cab-131">Application Insights</span></span> | [<span data-ttu-id="24cab-132">度量警示</span><span class="sxs-lookup"><span data-stu-id="24cab-132">Metric alerts</span></span>](../application-insights/app-insights-alerts.md) | <span data-ttu-id="24cab-133">經檢測可傳送資料至 Application Insights 的任何應用程式</span><span class="sxs-lookup"><span data-stu-id="24cab-133">Any application instrumented to send data to Application Insights</span></span> | <span data-ttu-id="24cab-134">當任何應用程式層級度量符合特定條件時收到通知 (例如伺服器回應時間大於 2 秒)。</span><span class="sxs-lookup"><span data-stu-id="24cab-134">Receive a notification when any application-level metric meets a specific condition (for example, server response time is greater than 2 seconds).</span></span> |
| <span data-ttu-id="24cab-135">Application Insights</span><span class="sxs-lookup"><span data-stu-id="24cab-135">Application Insights</span></span> | [<span data-ttu-id="24cab-136">Web 測試警示</span><span class="sxs-lookup"><span data-stu-id="24cab-136">Web test alerts</span></span>](../application-insights/app-insights-monitor-web-app-availability.md) | <span data-ttu-id="24cab-137">經檢測可傳送資料至 Application Insights 的任何網站</span><span class="sxs-lookup"><span data-stu-id="24cab-137">Any website instrumented to send data to Application Insights</span></span> | <span data-ttu-id="24cab-138">當網站的可用性或回應能力低於預期時收到通知。</span><span class="sxs-lookup"><span data-stu-id="24cab-138">Receive a notification when availability or responsiveness of a website is below expectations.</span></span> |
| <span data-ttu-id="24cab-139">Log Analytics</span><span class="sxs-lookup"><span data-stu-id="24cab-139">Log Analytics</span></span> | [<span data-ttu-id="24cab-140">Log Analytics 警示</span><span class="sxs-lookup"><span data-stu-id="24cab-140">Log Analytics alerts</span></span>](../log-analytics/log-analytics-alerts.md) | <span data-ttu-id="24cab-141">設定為傳送資料至 Log Analytics 的任何服務</span><span class="sxs-lookup"><span data-stu-id="24cab-141">Any service configured to send data into Log Analytics</span></span> | <span data-ttu-id="24cab-142">當 Log Analytics 搜尋查詢高於度量及/或事件資料符合特定準則時收到通知。</span><span class="sxs-lookup"><span data-stu-id="24cab-142">Receive a notification when a Log Analytics search query over metric and/or event data meets certain criteria.</span></span> |

## <a name="alerts-on-azure-monitor-data"></a><span data-ttu-id="24cab-143">Azure 監視器資料的相關警示</span><span class="sxs-lookup"><span data-stu-id="24cab-143">Alerts on Azure Monitor data</span></span>
<span data-ttu-id="24cab-144">Azure 監視器中可用資料的警示類型有兩種：度量警示和活動記錄警示。</span><span class="sxs-lookup"><span data-stu-id="24cab-144">There are two types of alerts off of data available from Azure Monitor -- metric alerts and Activity Log alerts.</span></span>

* <span data-ttu-id="24cab-145">**度量警示**：當指定的度量值超出您指派的閾值時會觸發這個警示。</span><span class="sxs-lookup"><span data-stu-id="24cab-145">**Metric alerts** - This alert triggers when the value of a specified metric crosses a threshold that you assign.</span></span> <span data-ttu-id="24cab-146">當警示為「已啟動」時 (超出閾值且符合警示條件時)，以及當警示為「已解決」時 (再次超出閾值且不再符合條件時)，警示會產生通知。</span><span class="sxs-lookup"><span data-stu-id="24cab-146">The alert generates a notification when the alert is "Activated" (when the threshold is crossed and the alert condition is met) as well as when it is "Resolved" (when the threshold is crossed again and the condition is no longer met).</span></span> <span data-ttu-id="24cab-147">Azure 監視器所支援的可用度量清單會不斷成長，如需此清單，請參閱 [Azure 監視器上支援的度量清單](monitoring-supported-metrics.md)。</span><span class="sxs-lookup"><span data-stu-id="24cab-147">For a growing list of available metrics supported by Azure monitor, see [List of metrics supported on Azure Monitor](monitoring-supported-metrics.md).</span></span>
* <span data-ttu-id="24cab-148">**活動記錄警示** - 當產生符合您已指派之篩選準則的活動記錄事件時會觸發資料流記錄警示。</span><span class="sxs-lookup"><span data-stu-id="24cab-148">**Activity log alerts** - A streaming log alert that triggers when an Activity Log event is generated that matches filter criteria that you have assigned.</span></span> <span data-ttu-id="24cab-149">這些警示只有「已啟動」這個狀態，因為警示引擎只會將篩選準則套用至任何新的事件。</span><span class="sxs-lookup"><span data-stu-id="24cab-149">These alerts have only one state, "Activated," since the alert engine simply applies the filter criteria to any new event.</span></span> <span data-ttu-id="24cab-150">您可以使用這些警示，在發生新的服務健康狀態事件時，或是在使用者或應用程式於您的訂用帳戶中執行作業時 (例如「刪除虛擬機器」)，收到通知。</span><span class="sxs-lookup"><span data-stu-id="24cab-150">These alerts can be used to become notified when a new Service Health incident occurs or when a user or application performs an operation in your subscription, for example, "Delete virtual machine."</span></span>

<span data-ttu-id="24cab-151">針對透過 Azure 監視器提供的診斷記錄資料，建議將資料路由傳送至 Log Analytics 並使用 Log Analytics 警示。</span><span class="sxs-lookup"><span data-stu-id="24cab-151">For Diagnostic Log data available through Azure Monitor, we suggest routing the data into Log Analytics and using a Log Analytics alert.</span></span> <span data-ttu-id="24cab-152">下圖摘要說明 Azure 監視器中的資料來源，以及就概念而言如何發出該資料的警示。</span><span class="sxs-lookup"><span data-stu-id="24cab-152">The following diagram summarizes sources of data in Azure Monitor and, conceptually, how you can alert off of that data.</span></span>

![警示的說明](./media/monitoring-overview-alerts/Alerts_Overview_Resource_v4.png)

## <a name="how-do-i-receive-a-notification-on-an-azure-monitor-alert"></a><span data-ttu-id="24cab-154">如何收到 Azure 監視器警示的通知？</span><span class="sxs-lookup"><span data-stu-id="24cab-154">How do I receive a notification on an Azure Monitor alert?</span></span>
<span data-ttu-id="24cab-155">在過去，Azure 的警示來自不同的服務，各自使用其專屬的內建通知方法。</span><span class="sxs-lookup"><span data-stu-id="24cab-155">Historically, Azure alerts from different services used their own built-in notification methods.</span></span> <span data-ttu-id="24cab-156">從現在開始，Azure 監視器提供可重複使用的通知群組，稱為動作群組。</span><span class="sxs-lookup"><span data-stu-id="24cab-156">Going forward, Azure Monitor offers a reusable notification grouping called Action Groups.</span></span> <span data-ttu-id="24cab-157">動作群組會指定一組通知接收者 (任何數目的電子郵件地址、電話號碼 (簡訊) 或 Webhook URL)，每當啟動參考此動作群組的警示時，所有接收者都會收到該通知。</span><span class="sxs-lookup"><span data-stu-id="24cab-157">Action Groups specify a set of receivers for a notification -- any number of email addresses, phone numbers (for SMS), or webhook URLs -- and any time an alert is activated that references the Action Group, all receivers receive that notification.</span></span> <span data-ttu-id="24cab-158">這可讓您在許多警示物件之間重複使用一組接收者 (例如您隨時待命的工程師清單)。</span><span class="sxs-lookup"><span data-stu-id="24cab-158">This allows you to reuse a grouping of receivers (for example, your on call engineer list) across many alert objects.</span></span> <span data-ttu-id="24cab-159">目前，只有活動記錄警示可以使用動作群組，但未來將有數個其他 Azure 警示類型也可以使用動作群組。</span><span class="sxs-lookup"><span data-stu-id="24cab-159">Currently, only Activity Log alerts make use of Action Groups, but several other Azure alert types are working on using Action Groups as well.</span></span>

<span data-ttu-id="24cab-160">除了電子郵件地址和簡訊號碼，動作群組的通知支援還包括張貼到 Webhook URL。</span><span class="sxs-lookup"><span data-stu-id="24cab-160">Action Groups support notification by posting to a webhook URL in addition to email addresses and SMS numbers.</span></span> <span data-ttu-id="24cab-161">如此即可啟用自動化和修復，例如使用：</span><span class="sxs-lookup"><span data-stu-id="24cab-161">This enables automation and remediation, for example, using:</span></span>
    - <span data-ttu-id="24cab-162">Azure 自動化 Runbook</span><span class="sxs-lookup"><span data-stu-id="24cab-162">Azure Automation Runbook</span></span>
    - <span data-ttu-id="24cab-163">Azure Function</span><span class="sxs-lookup"><span data-stu-id="24cab-163">Azure Function</span></span>
    - <span data-ttu-id="24cab-164">Azure 邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="24cab-164">Azure Logic App</span></span>
    - <span data-ttu-id="24cab-165">第三方服務</span><span class="sxs-lookup"><span data-stu-id="24cab-165">a third-party service</span></span>

<span data-ttu-id="24cab-166">度量警示尚無法使用動作群組。</span><span class="sxs-lookup"><span data-stu-id="24cab-166">Metric alerts do not yet use Action Groups.</span></span> <span data-ttu-id="24cab-167">在個別度量警示上，您可以設定通知：</span><span class="sxs-lookup"><span data-stu-id="24cab-167">On an individual metric alert you can configure notifications to:</span></span>
* <span data-ttu-id="24cab-168">將電子郵件通知傳送至服務管理員、共同管理員或您指定的其他電子郵件。</span><span class="sxs-lookup"><span data-stu-id="24cab-168">Send email notifications to the service administrator, to co-administrators, or to additional email addresses that you specify.</span></span>
* <span data-ttu-id="24cab-169">呼叫 webhook，可讓您啟動其他自動化動作。</span><span class="sxs-lookup"><span data-stu-id="24cab-169">Call a webhook, which enables you to launch additional automation actions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="24cab-170">後續步驟</span><span class="sxs-lookup"><span data-stu-id="24cab-170">Next steps</span></span>
<span data-ttu-id="24cab-171">使用下列項目取得有關警示規則和設定這些規則的資訊：</span><span class="sxs-lookup"><span data-stu-id="24cab-171">Get information about alert rules and configuring them by using:</span></span>

* <span data-ttu-id="24cab-172">深入了解[計量](monitoring-overview-metrics.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-172">Learn more about [Metrics](monitoring-overview-metrics.md)</span></span>
* <span data-ttu-id="24cab-173">[透過 Azure 入口網站設定計量警示](insights-alerts-portal.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-173">Configure [Metric Alerts via Azure portal](insights-alerts-portal.md)</span></span>
* <span data-ttu-id="24cab-174">[透過 PowerShell 設定計量警示](insights-alerts-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-174">Configure [Metric Alerts PowerShell](insights-alerts-powershell.md)</span></span>
* <span data-ttu-id="24cab-175">[透過命令列介面 (CLI) 設定計量警示](insights-alerts-command-line-interface.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-175">Configure [Metric Alerts Command-line interface (CLI)](insights-alerts-command-line-interface.md)</span></span>
* <span data-ttu-id="24cab-176">[透過 Azure 監視器 REST API 設定計量警示](https://msdn.microsoft.com/library/azure/dn931945.aspx)</span><span class="sxs-lookup"><span data-stu-id="24cab-176">Configure [Metric Alerts Azure Monitor REST API](https://msdn.microsoft.com/library/azure/dn931945.aspx)</span></span>
* <span data-ttu-id="24cab-177">深入了解[活動記錄](monitoring-overview-activity-logs.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-177">Learn more about [Activity Log](monitoring-overview-activity-logs.md)</span></span>
* <span data-ttu-id="24cab-178">[透過 Azure 入口網站設定活動記錄警示](monitoring-activity-log-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-178">Configure [Activity Log Alerts via Azure portal](monitoring-activity-log-alerts.md)</span></span>
* <span data-ttu-id="24cab-179">[透過 Resource Manager 設定活動記錄警示](monitoring-create-activity-log-alerts-with-resource-manager-template.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-179">Configure [Activity Log Alerts via Resource Manager](monitoring-create-activity-log-alerts-with-resource-manager-template.md)</span></span>
* <span data-ttu-id="24cab-180">檢閱[活動記錄警示 webhook 結構描述](monitoring-activity-log-alerts-webhook.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-180">Review the [activity log alert webhook schema](monitoring-activity-log-alerts-webhook.md)</span></span>
* <span data-ttu-id="24cab-181">深入了解[服務通知](monitoring-service-notifications.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-181">Learn more about [Service Notifications](monitoring-service-notifications.md)</span></span>
* <span data-ttu-id="24cab-182">深入了解[動作群組](monitoring-action-groups.md)</span><span class="sxs-lookup"><span data-stu-id="24cab-182">Learn more about [Action Groups](monitoring-action-groups.md)</span></span>
