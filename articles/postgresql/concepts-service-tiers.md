---
title: "適用於 PostgreSQL 的 Azure 資料庫中的定價層"
description: "適用於 PostgreSQL 的 Azure 資料庫中的定價層"
services: postgresql
author: kamathsun
ms.author: sukamat
manager: jhubbard
editor: jasonwhowell
ms.custom: mvc
ms.service: postgresql
ms.topic: article
ms.date: 05/31/2017
ms.openlocfilehash: 59ac187e50527517c402a5cc2aa871717dde5650
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="azure-database-for-postgresql-options-and-performance-understand-whats-available-in-each-pricing-tier"></a><span data-ttu-id="91f2d-103">適用於 PostgreSQL 的 Azure 資料庫選項和效能：了解每個定價層中可用的項目</span><span class="sxs-lookup"><span data-stu-id="91f2d-103">Azure Database for PostgreSQL options and performance: Understand what’s available in each pricing tier</span></span>
<span data-ttu-id="91f2d-104">當您建立適用於 PostgreSQL 伺服器的 Azure 資料庫時，有三個主要選項可供您決定如何設定配置給該伺服器的資源。</span><span class="sxs-lookup"><span data-stu-id="91f2d-104">When you create an Azure Database for PostgreSQL server, you decide upon three main choices to configure the resources allocated for that server.</span></span> <span data-ttu-id="91f2d-105">這些選項會影響伺服器的效能和規模。</span><span class="sxs-lookup"><span data-stu-id="91f2d-105">These choices impact the performance and scale of the server.</span></span>
- <span data-ttu-id="91f2d-106">定價層 </span><span class="sxs-lookup"><span data-stu-id="91f2d-106">Pricing tier</span></span>
- <span data-ttu-id="91f2d-107">計算單位</span><span class="sxs-lookup"><span data-stu-id="91f2d-107">Compute Units</span></span>
- <span data-ttu-id="91f2d-108">儲存體 (GB)</span><span class="sxs-lookup"><span data-stu-id="91f2d-108">Storage (GB)</span></span>

<span data-ttu-id="91f2d-109">每個定價層有各種不同的效能等級 (計算單位)，您可以根據工作負載需求從中選擇。</span><span class="sxs-lookup"><span data-stu-id="91f2d-109">Each pricing tier has a range of performance levels (Compute Units) to choose from, depending on your workloads requirements.</span></span> <span data-ttu-id="91f2d-110">較高的效能等級會為設計成提供較高輸送量的伺服器提供額外的資源。</span><span class="sxs-lookup"><span data-stu-id="91f2d-110">Higher performance levels provide additional resources for your server designed to deliver higher throughput.</span></span> <span data-ttu-id="91f2d-111">您可以在定價層內變更伺服器的效能等級，而且幾乎不會產生任何應用程式停機時間。</span><span class="sxs-lookup"><span data-stu-id="91f2d-111">You can change the server's performance level within a pricing tier with virtually no application downtime.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="91f2d-112">當服務處於公開預覽狀態時，並沒有保證的服務等級協定 (SLA)。</span><span class="sxs-lookup"><span data-stu-id="91f2d-112">While the service is in public preview, there is not a guaranteed Service Level Agreement (SLA).</span></span>

<span data-ttu-id="91f2d-113">在適用於 PostgreSQL 的 Azure 資料庫內，您可以擁有一個或多個資料庫。</span><span class="sxs-lookup"><span data-stu-id="91f2d-113">Within an Azure Database for PostgreSQL server, you can have one or multiple databases.</span></span> <span data-ttu-id="91f2d-114">您可以選擇在每個伺服器建立單一資料庫以利用所有資源，或建立多個資料庫來共用資源。</span><span class="sxs-lookup"><span data-stu-id="91f2d-114">You can opt to create a single database per server to utilize all the resources, or create multiple databases to share the resources.</span></span> 

## <a name="choose-a-pricing-tier"></a><span data-ttu-id="91f2d-115">選擇定價層</span><span class="sxs-lookup"><span data-stu-id="91f2d-115">Choose a pricing tier</span></span>
<span data-ttu-id="91f2d-116">在預覽版中，適用於 PostgreSQL 的 Azure 資料庫提供兩個定價層︰基本和標準。</span><span class="sxs-lookup"><span data-stu-id="91f2d-116">While in preview, Azure Database for PostgreSQL offers two pricing tiers: Basic and Standard.</span></span> <span data-ttu-id="91f2d-117">進階層目前尚無法使用，但即將推出。</span><span class="sxs-lookup"><span data-stu-id="91f2d-117">Premium tier is not yet available, but is coming soon.</span></span> 

<span data-ttu-id="91f2d-118">下表提供最適用於不同應用程式工作負載的定價層範例。</span><span class="sxs-lookup"><span data-stu-id="91f2d-118">The following table provides examples of the pricing tiers best suited for different application workloads.</span></span>

| <span data-ttu-id="91f2d-119">定價層 </span><span class="sxs-lookup"><span data-stu-id="91f2d-119">Pricing tier</span></span> | <span data-ttu-id="91f2d-120">目標工作負載</span><span class="sxs-lookup"><span data-stu-id="91f2d-120">Target workloads</span></span> |
| :----------- | :----------------|
| <span data-ttu-id="91f2d-121">基本</span><span class="sxs-lookup"><span data-stu-id="91f2d-121">Basic</span></span> | <span data-ttu-id="91f2d-122">最適合需要可調整計算和儲存體而不需 IOPS 保證的小型工作負載。</span><span class="sxs-lookup"><span data-stu-id="91f2d-122">Best suited for small workloads that require scalable compute and storage without IOPS guarantee.</span></span> <span data-ttu-id="91f2d-123">範例包括用於開發或測試的伺服器，或者不常使用的小規模應用程式。</span><span class="sxs-lookup"><span data-stu-id="91f2d-123">Examples include servers used for development or testing, or small-scale infrequently used applications.</span></span> |
| <span data-ttu-id="91f2d-124">標準</span><span class="sxs-lookup"><span data-stu-id="91f2d-124">Standard</span></span> | <span data-ttu-id="91f2d-125">雲端應用程式的這個進階選項需要高輸送量的 IOPS 保證。</span><span class="sxs-lookup"><span data-stu-id="91f2d-125">The go-to option for cloud applications that need IOPS guarantee with high throughput.</span></span> <span data-ttu-id="91f2d-126">範例包括 Web 或分析應用程式。</span><span class="sxs-lookup"><span data-stu-id="91f2d-126">Examples include web or analytical applications.</span></span> |
| <span data-ttu-id="91f2d-127">進階</span><span class="sxs-lookup"><span data-stu-id="91f2d-127">Premium</span></span> | <span data-ttu-id="91f2d-128">最適合需要為交易和 IO 提供低延遲的工作負載。</span><span class="sxs-lookup"><span data-stu-id="91f2d-128">Best suited for workloads that need low latency for transactions and IO.</span></span> <span data-ttu-id="91f2d-129">可為許多並行使用者提供最佳支援。</span><span class="sxs-lookup"><span data-stu-id="91f2d-129">Provides the best support for many concurrent users.</span></span> <span data-ttu-id="91f2d-130">適用於支援任務關鍵性應用程式的資料庫。</span><span class="sxs-lookup"><span data-stu-id="91f2d-130">Applicable to databases that support mission critical applications.</span></span><br /><span data-ttu-id="91f2d-131">預覽版中並未提供進階定價層。</span><span class="sxs-lookup"><span data-stu-id="91f2d-131">The Premium pricing tier is not available in preview.</span></span> |

<span data-ttu-id="91f2d-132">若要決定定價層，請先從判斷您的工作負載是否需要 IOPS 保證開始。</span><span class="sxs-lookup"><span data-stu-id="91f2d-132">To decide on a pricing tier, first start by determining if your workload needs an IOPS guarantee.</span></span> <span data-ttu-id="91f2d-133">如果需要，請使用標準定價層。</span><span class="sxs-lookup"><span data-stu-id="91f2d-133">If so, use Standard pricing tier.</span></span>

| <span data-ttu-id="91f2d-134">**定價層功能**</span><span class="sxs-lookup"><span data-stu-id="91f2d-134">**Pricing tier features**</span></span> | <span data-ttu-id="91f2d-135">**基本**</span><span class="sxs-lookup"><span data-stu-id="91f2d-135">**Basic**</span></span> | <span data-ttu-id="91f2d-136">**標準**</span><span class="sxs-lookup"><span data-stu-id="91f2d-136">**Standard**</span></span> |
| :------------------------ | :-------- | :----------- |
| <span data-ttu-id="91f2d-137">計算單位數目上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-137">Maximum Compute Units</span></span> | <span data-ttu-id="91f2d-138">100</span><span class="sxs-lookup"><span data-stu-id="91f2d-138">100</span></span> | <span data-ttu-id="91f2d-139">800</span><span class="sxs-lookup"><span data-stu-id="91f2d-139">800</span></span> | 
| <span data-ttu-id="91f2d-140">總儲存體上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-140">Maximum total storage</span></span> | <span data-ttu-id="91f2d-141">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-141">1 TB</span></span> | <span data-ttu-id="91f2d-142">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-142">1 TB</span></span> | 
| <span data-ttu-id="91f2d-143">儲存體 IOPS 保證</span><span class="sxs-lookup"><span data-stu-id="91f2d-143">Storage IOPS guarantee</span></span> | <span data-ttu-id="91f2d-144">N/A</span><span class="sxs-lookup"><span data-stu-id="91f2d-144">N/A</span></span> | <span data-ttu-id="91f2d-145">是</span><span class="sxs-lookup"><span data-stu-id="91f2d-145">Yes</span></span> | 
| <span data-ttu-id="91f2d-146">儲存體 IOPS 上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-146">Maximum storage IOPS</span></span> | <span data-ttu-id="91f2d-147">N/A</span><span class="sxs-lookup"><span data-stu-id="91f2d-147">N/A</span></span> | <span data-ttu-id="91f2d-148">3,000</span><span class="sxs-lookup"><span data-stu-id="91f2d-148">3,000</span></span> | 
| <span data-ttu-id="91f2d-149">資料庫備份的保留期限</span><span class="sxs-lookup"><span data-stu-id="91f2d-149">Database backup retention period</span></span> | <span data-ttu-id="91f2d-150">7 天</span><span class="sxs-lookup"><span data-stu-id="91f2d-150">7 days</span></span> | <span data-ttu-id="91f2d-151">35 天</span><span class="sxs-lookup"><span data-stu-id="91f2d-151">35 days</span></span> | 

<span data-ttu-id="91f2d-152">在預覽時間範圍內，一旦建立伺服器，就無法變更定價層。</span><span class="sxs-lookup"><span data-stu-id="91f2d-152">During the preview timeframe, you cannot change pricing tier once the server is created.</span></span> <span data-ttu-id="91f2d-153">未來能將伺服器從某個定價層升級或降級至另一個定價層。</span><span class="sxs-lookup"><span data-stu-id="91f2d-153">In the future, it will be possible to upgrade or downgrade a server from one pricing tier to another tier.</span></span>

## <a name="understand-the-price"></a><span data-ttu-id="91f2d-154">了解價格</span><span class="sxs-lookup"><span data-stu-id="91f2d-154">Understand the price</span></span>
<span data-ttu-id="91f2d-155">在 [Azure 入口網站](https://portal.azure.com/#create/Microsoft.PostgreSQLServer)內部建立適用於 PostgreSQL 的新 Azure 資料庫時，請按一下 [定價層] 刀鋒視窗，便會根據您選取的選項顯示每月成本。</span><span class="sxs-lookup"><span data-stu-id="91f2d-155">When you create a new Azure Database for PostgreSQL inside the [Azure Portal](https://portal.azure.com/#create/Microsoft.PostgreSQLServer), click the **Pricing tier** blade, and the monthly cost will be shown based on the options you have selected.</span></span> <span data-ttu-id="91f2d-156">如果您沒有 Azure 訂用帳戶，請使用 Azure 價格計算機取得估計的價格。</span><span class="sxs-lookup"><span data-stu-id="91f2d-156">If you do not have an Azure subscription, use the Azure pricing calculator to get an estimated price.</span></span> <span data-ttu-id="91f2d-157">請瀏覽 [Azure 價格計算機](https://azure.microsoft.com/pricing/calculator/)網站，然後按一下 [新增項目]，展開 [資料庫] 類別，並選擇 [適用於 PostgreSQL 的 Azure 資料庫] 以自訂選項。</span><span class="sxs-lookup"><span data-stu-id="91f2d-157">Visit the [Azure pricing calculator](https://azure.microsoft.com/pricing/calculator/) website, then click **Add items**, expand the **Databases** category, and choose **Azure Database for PostgreSQL** to customize the options.</span></span>

## <a name="choose-a-performance-level-compute-units"></a><span data-ttu-id="91f2d-158">選擇效能等級 (計算單位)</span><span class="sxs-lookup"><span data-stu-id="91f2d-158">Choose a performance level (Compute Units)</span></span>
<span data-ttu-id="91f2d-159">在您決定適用於 PostgreSQL 伺服器的 Azure 資料庫的定價層之後，您就可以選取所需的計算單位數來決定效能等級。</span><span class="sxs-lookup"><span data-stu-id="91f2d-159">Once you have determined the pricing tier for your Azure Database for PostgreSQL server, you are ready to determine the performance level by selecting the number of Compute Units needed.</span></span> <span data-ttu-id="91f2d-160">對於其 Web 或分析工作負載需要更高使用者並行處理的應用程式而言，200 或 400 個計算單位會是很好的起點。</span><span class="sxs-lookup"><span data-stu-id="91f2d-160">A good starting point is 200 or 400 Compute Units for applications that require higher user concurrency for their web or analytical workloads, and adjust incrementally as needed.</span></span> 

<span data-ttu-id="91f2d-161">計算單位是 CPU 處理輸送量的量值，保證可供單一適用於 PostgreSQL 的 Azure 資料庫伺服器使用。</span><span class="sxs-lookup"><span data-stu-id="91f2d-161">Compute Units are a measure of CPU processing throughput that is guaranteed to be available to a single Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="91f2d-162">計算單位是 CPU 和記憶體資源的混合量值。</span><span class="sxs-lookup"><span data-stu-id="91f2d-162">A Compute Unit is a blended measure of CPU and memory resources.</span></span>  <span data-ttu-id="91f2d-163">如需詳細資訊，請參閱[說明計算單位](concepts-compute-unit-and-storage.md)</span><span class="sxs-lookup"><span data-stu-id="91f2d-163">For more information, see [Explaining Compute Units](concepts-compute-unit-and-storage.md)</span></span>

### <a name="basic-pricing-tier-performance-levels"></a><span data-ttu-id="91f2d-164">基本定價層效能等級：</span><span class="sxs-lookup"><span data-stu-id="91f2d-164">Basic pricing tier performance levels:</span></span>

| <span data-ttu-id="91f2d-165">**效能等級**</span><span class="sxs-lookup"><span data-stu-id="91f2d-165">**Performance level**</span></span> | <span data-ttu-id="91f2d-166">**50**</span><span class="sxs-lookup"><span data-stu-id="91f2d-166">**50**</span></span> | <span data-ttu-id="91f2d-167">**100**</span><span class="sxs-lookup"><span data-stu-id="91f2d-167">**100**</span></span> |
| :-------------------- | :----- | :------ |
| <span data-ttu-id="91f2d-168">計算單位數目上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-168">Max Compute Units</span></span> | <span data-ttu-id="91f2d-169">50</span><span class="sxs-lookup"><span data-stu-id="91f2d-169">50</span></span> | <span data-ttu-id="91f2d-170">100</span><span class="sxs-lookup"><span data-stu-id="91f2d-170">100</span></span> |
| <span data-ttu-id="91f2d-171">內含的儲存體大小</span><span class="sxs-lookup"><span data-stu-id="91f2d-171">Included storage size</span></span> | <span data-ttu-id="91f2d-172">50 GB</span><span class="sxs-lookup"><span data-stu-id="91f2d-172">50 GB</span></span> | <span data-ttu-id="91f2d-173">50 GB</span><span class="sxs-lookup"><span data-stu-id="91f2d-173">50 GB</span></span> |
| <span data-ttu-id="91f2d-174">伺服器儲存體大小上限\*</span><span class="sxs-lookup"><span data-stu-id="91f2d-174">Max server storage size\*</span></span> | <span data-ttu-id="91f2d-175">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-175">1 TB</span></span> | <span data-ttu-id="91f2d-176">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-176">1 TB</span></span> |

### <a name="standard-pricing-tier-performance-levels"></a><span data-ttu-id="91f2d-177">標準定價層效能等級：</span><span class="sxs-lookup"><span data-stu-id="91f2d-177">Standard pricing tier performance levels:</span></span>

| <span data-ttu-id="91f2d-178">**效能等級**</span><span class="sxs-lookup"><span data-stu-id="91f2d-178">**Performance level**</span></span> | <span data-ttu-id="91f2d-179">**100**</span><span class="sxs-lookup"><span data-stu-id="91f2d-179">**100**</span></span> | <span data-ttu-id="91f2d-180">**200**</span><span class="sxs-lookup"><span data-stu-id="91f2d-180">**200**</span></span> | <span data-ttu-id="91f2d-181">**400**</span><span class="sxs-lookup"><span data-stu-id="91f2d-181">**400**</span></span> | <span data-ttu-id="91f2d-182">**800**</span><span class="sxs-lookup"><span data-stu-id="91f2d-182">**800**</span></span> |
| :-------------------- | :------ | :------ | :------ | :------ |
| <span data-ttu-id="91f2d-183">計算單位數目上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-183">Max Compute Units</span></span> | <span data-ttu-id="91f2d-184">100</span><span class="sxs-lookup"><span data-stu-id="91f2d-184">100</span></span> | <span data-ttu-id="91f2d-185">200</span><span class="sxs-lookup"><span data-stu-id="91f2d-185">200</span></span> | <span data-ttu-id="91f2d-186">400</span><span class="sxs-lookup"><span data-stu-id="91f2d-186">400</span></span> | <span data-ttu-id="91f2d-187">800</span><span class="sxs-lookup"><span data-stu-id="91f2d-187">800</span></span> |
| <span data-ttu-id="91f2d-188">內含的儲存體大小和已佈建的 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-188">Included storage size and provisioned IOPS</span></span> | <span data-ttu-id="91f2d-189">125 GB、</span><span class="sxs-lookup"><span data-stu-id="91f2d-189">125 GB,</span></span><br/> <span data-ttu-id="91f2d-190">375 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-190">375 IOPS</span></span> | <span data-ttu-id="91f2d-191">125 GB、</span><span class="sxs-lookup"><span data-stu-id="91f2d-191">125 GB,</span></span><br/> <span data-ttu-id="91f2d-192">375 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-192">375 IOPS</span></span> | <span data-ttu-id="91f2d-193">125 GB、</span><span class="sxs-lookup"><span data-stu-id="91f2d-193">125 GB,</span></span><br/> <span data-ttu-id="91f2d-194">375 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-194">375 IOPS</span></span> | <span data-ttu-id="91f2d-195">125 GB、</span><span class="sxs-lookup"><span data-stu-id="91f2d-195">125 GB,</span></span><br/> <span data-ttu-id="91f2d-196">375 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-196">375 IOPS</span></span> |
| <span data-ttu-id="91f2d-197">伺服器儲存體大小上限\*</span><span class="sxs-lookup"><span data-stu-id="91f2d-197">Max server storage size\*</span></span> | <span data-ttu-id="91f2d-198">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-198">1 TB</span></span> | <span data-ttu-id="91f2d-199">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-199">1 TB</span></span> | <span data-ttu-id="91f2d-200">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-200">1 TB</span></span> | <span data-ttu-id="91f2d-201">1 TB</span><span class="sxs-lookup"><span data-stu-id="91f2d-201">1 TB</span></span> |
| <span data-ttu-id="91f2d-202">伺服器佈建的 IOPS 上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-202">Max server provisioned IOPS</span></span> | <span data-ttu-id="91f2d-203">3,000 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-203">3,000 IOPS</span></span> | <span data-ttu-id="91f2d-204">3,000 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-204">3,000 IOPS</span></span> | <span data-ttu-id="91f2d-205">3,000 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-205">3,000 IOPS</span></span> | <span data-ttu-id="91f2d-206">3,000 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-206">3,000 IOPS</span></span> |
| <span data-ttu-id="91f2d-207">每個 GB 中伺服器佈建的 IOPS 上限</span><span class="sxs-lookup"><span data-stu-id="91f2d-207">Max server provisioned IOPS per GB</span></span> | <span data-ttu-id="91f2d-208">每個 GB 中固定 3 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-208">Fixed 3 IOPS per GB</span></span> | <span data-ttu-id="91f2d-209">每個 GB 中固定 3 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-209">Fixed 3 IOPS per GB</span></span> | <span data-ttu-id="91f2d-210">每個 GB 中固定 3 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-210">Fixed 3 IOPS per GB</span></span> | <span data-ttu-id="91f2d-211">每個 GB 中固定 3 IOPS</span><span class="sxs-lookup"><span data-stu-id="91f2d-211">Fixed 3 IOPS per GB</span></span> |

<span data-ttu-id="91f2d-212">\* 伺服器儲存體大小上限是指針對您伺服器佈建的儲存體大小上限。</span><span class="sxs-lookup"><span data-stu-id="91f2d-212">\* Max server storage size refers to the maximum provisioned storage size for your server.</span></span>

## <a name="storage"></a><span data-ttu-id="91f2d-213">儲存體</span><span class="sxs-lookup"><span data-stu-id="91f2d-213">Storage</span></span> 
<span data-ttu-id="91f2d-214">儲存體設定會定義適用於 PostgreSQL 伺服器的 Azure 資料庫可用的儲存體容量。</span><span class="sxs-lookup"><span data-stu-id="91f2d-214">The storage configuration defines the amount of storage capacity available to an Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="91f2d-215">此服務所使用的儲存體包括資料庫檔案、交易記錄和 PostgreSQL 伺服器記錄。</span><span class="sxs-lookup"><span data-stu-id="91f2d-215">The storage used by the service includes the database files, transaction logs, and the PostgreSQL server logs.</span></span> <span data-ttu-id="91f2d-216">選取儲存體設定時，請考慮裝載資料庫和效能需求 (IOPS) 所需的儲存體大小。</span><span class="sxs-lookup"><span data-stu-id="91f2d-216">Consider the size of storage needed to host your databases and the performance requirements (IOPS) when selecting the storage configuration.</span></span>

<span data-ttu-id="91f2d-217">每個定價層至少會內含一些儲存體容量，也就是上表中註明的「內含的儲存體大小」。</span><span class="sxs-lookup"><span data-stu-id="91f2d-217">Some storage capacity is included at a minimum with each pricing tier, noted in the preceding table as "Included storage size."</span></span> <span data-ttu-id="91f2d-218">您可以在建立伺服器時，以 125GB 為增量來增加額外的儲存體容量，最高可達允許的儲存體上限。</span><span class="sxs-lookup"><span data-stu-id="91f2d-218">Additional storage capacity can be added when the server is created, in increments of 125 GB, up to the maximum allowed storage.</span></span> <span data-ttu-id="91f2d-219">您可以在計算單位設定之外，獨立設定此額外的儲存體容量。</span><span class="sxs-lookup"><span data-stu-id="91f2d-219">The additional storage capacity can be configured independently of the Compute Units configuration.</span></span> <span data-ttu-id="91f2d-220">價格會根據選取的儲存體數量而變更。</span><span class="sxs-lookup"><span data-stu-id="91f2d-220">The price changes based on the amount of storage selected.</span></span>

<span data-ttu-id="91f2d-221">每個效能等級中的 IOPS 設定與定價層和選擇的儲存體大小相關。</span><span class="sxs-lookup"><span data-stu-id="91f2d-221">The IOPS configuration in each performance level relates to the pricing tier and the storage size chosen.</span></span> <span data-ttu-id="91f2d-222">基本層不提供 IOPS 保證。</span><span class="sxs-lookup"><span data-stu-id="91f2d-222">Basic tier does not provide an IOPS guarantee.</span></span> <span data-ttu-id="91f2d-223">在標準定價層內，IOPS 會以固定 3:1 比例，按比例調整至儲存體大小上限。</span><span class="sxs-lookup"><span data-stu-id="91f2d-223">Within the Standard pricing tier, the IOPS scale proportionally to maximum storage size in a fixed 3:1 ratio.</span></span> <span data-ttu-id="91f2d-224">125 GB 的內含儲存體可為 375 已佈建的 IOPS 提供保證，每個的 IO 大小可高達 256 KB。</span><span class="sxs-lookup"><span data-stu-id="91f2d-224">The included storage of 125 GB guarantees for 375 provisioned IOPS, each with an IO size of up to 256 KB.</span></span> <span data-ttu-id="91f2d-225">您最多可以選擇 1TB 的額外儲存體，以保證有 3,000 個已佈建的 IOPS。</span><span class="sxs-lookup"><span data-stu-id="91f2d-225">You can choose additional storage up to 1 TB maximum, to guarantee 3,000 provisioned IOPS.</span></span>

<span data-ttu-id="91f2d-226">在 Azure 入口網站中監視計量圖表，或是撰寫 Azure CLI 命令來測量儲存體和 IOPS 的使用情況。</span><span class="sxs-lookup"><span data-stu-id="91f2d-226">Monitor the Metrics graph in the Azure portal or write Azure CLI commands to measure the consumption of storage and IOPS.</span></span> <span data-ttu-id="91f2d-227">要監視的相關計量包括儲存體限制、儲存體百分比、使用的儲存體和 IO 百分比。</span><span class="sxs-lookup"><span data-stu-id="91f2d-227">Relevant metrics to monitor are Storage limit, Storage percentage, Storage used, and IO percent.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="91f2d-228">在預覽版中，請在建立伺服器時選擇儲存體數量。</span><span class="sxs-lookup"><span data-stu-id="91f2d-228">While in preview, choose the amount of storage at the time when the server is created.</span></span> <span data-ttu-id="91f2d-229">目前尚未支援變更現有伺服器上的儲存體大小。</span><span class="sxs-lookup"><span data-stu-id="91f2d-229">Changing the storage size on an existing server is not yet supported.</span></span> 

## <a name="scaling-a-server-up-or-down"></a><span data-ttu-id="91f2d-230">相應增加或減少伺服器</span><span class="sxs-lookup"><span data-stu-id="91f2d-230">Scaling a server up or down</span></span>
<span data-ttu-id="91f2d-231">您會在建立適用於 PostgreSQL 的 Azure 資料庫的一開始，選擇定價層和效能等級。</span><span class="sxs-lookup"><span data-stu-id="91f2d-231">You initially choose the pricing tier and performance level when you create your Azure Database for PostgreSQL.</span></span> <span data-ttu-id="91f2d-232">稍後，您可以在相同的定價層範圍內，動態相應增加或減少計算單位。</span><span class="sxs-lookup"><span data-stu-id="91f2d-232">Later, you can scale the Compute Units up or down dynamically, within the range of the same pricing tier.</span></span> <span data-ttu-id="91f2d-233">在 Azure 入口網站中，滑動伺服器 [定價層] 刀鋒視窗上的 [計算單位]，或遵循下列範例進行指令碼處理：[使用 Azure CLI 監視和調整單一 PostgreSQL 伺服器](scripts/sample-scale-server-up-or-down.md)</span><span class="sxs-lookup"><span data-stu-id="91f2d-233">In the Azure portal, slide the Compute Units on the server's Pricing tier blade, or script it by following this example: [Monitor and scale a single PostgreSQL server using Azure CLI](scripts/sample-scale-server-up-or-down.md)</span></span>

<span data-ttu-id="91f2d-234">計算單位的調整會與所選擇的儲存體大小上限分開進行。</span><span class="sxs-lookup"><span data-stu-id="91f2d-234">Scaling the Compute Units is done independently of the maximum storage size you have chosen.</span></span>

<span data-ttu-id="91f2d-235">變更資料庫的效能等級會在幕後於新的效能等級建立原始資料庫的複本，然後將連線切換到複本。</span><span class="sxs-lookup"><span data-stu-id="91f2d-235">Behind the scenes, changing the performance level of a database creates a replica of the original database at the new performance level, and then switches connections over to the replica.</span></span> <span data-ttu-id="91f2d-236">此程序期間不會遺失任何資料。</span><span class="sxs-lookup"><span data-stu-id="91f2d-236">No data is lost during this process.</span></span> <span data-ttu-id="91f2d-237">在我們切換到複本的短暫期間，資料庫的連線會停用，因此執行中的某些交易可能會回復。</span><span class="sxs-lookup"><span data-stu-id="91f2d-237">During the brief moment when we switch over to the replica, connections to the database are disabled, so some transactions in flight may be rolled back.</span></span> <span data-ttu-id="91f2d-238">這個時間範圍會有不同，但平均在 4 秒下，而且超過 99% 的案例少於 30 秒。</span><span class="sxs-lookup"><span data-stu-id="91f2d-238">This window varies, but is on average under 4 seconds, and in more than 99% of cases is less than 30 seconds.</span></span> <span data-ttu-id="91f2d-239">如果在連接停用時有大型交易執行中，則此時間範圍可能會更長。</span><span class="sxs-lookup"><span data-stu-id="91f2d-239">If there are large numbers of transactions in flight at the moment connections are disabled, this window may be longer.</span></span>

<span data-ttu-id="91f2d-240">整個調整程序的期間取決於伺服器變更前後的大小和定價層。</span><span class="sxs-lookup"><span data-stu-id="91f2d-240">The duration of the entire scale process depends on both the size and pricing tier of the server before and after the change.</span></span> <span data-ttu-id="91f2d-241">例如，在標準定價層內變更計算單位的伺服器應在幾分鐘內完成。</span><span class="sxs-lookup"><span data-stu-id="91f2d-241">For example, a server that is changing Compute Units within the Standard pricing tier, should complete within few minutes.</span></span> <span data-ttu-id="91f2d-242">完成變更之前，不會將新屬性套用至伺服器。</span><span class="sxs-lookup"><span data-stu-id="91f2d-242">The new properties for the server are not applied until the changes are complete.</span></span>

## <a name="next-steps"></a><span data-ttu-id="91f2d-243">後續步驟</span><span class="sxs-lookup"><span data-stu-id="91f2d-243">Next steps</span></span>
- <span data-ttu-id="91f2d-244">如需計算單位的詳細資訊，請參閱[說明計算單位](concepts-compute-unit-and-storage.md)</span><span class="sxs-lookup"><span data-stu-id="91f2d-244">For more on Compute Units, see [Explaining Compute Units](concepts-compute-unit-and-storage.md)</span></span>
- <span data-ttu-id="91f2d-245">了解如何[使用 Azure CLI 監視和調整單一 PostgreSQL 伺服器](scripts/sample-scale-server-up-or-down.md)</span><span class="sxs-lookup"><span data-stu-id="91f2d-245">Learn how to [Monitor and scale a single PostgreSQL server using Azure CLI](scripts/sample-scale-server-up-or-down.md)</span></span>
