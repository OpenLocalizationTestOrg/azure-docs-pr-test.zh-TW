---
title: "Service Fabric 和容器 aaaOverview |Microsoft 文件"
description: "容器 toodeploy 微服務應用程式使用 Service Fabric 和 hello 的概觀。 本文章提供容器可以使用的方式，並 hello Service Fabric 中的可用功能的概觀。"
services: service-fabric
documentationcenter: .net
author: msfussell
manager: timlt
editor: 
ms.assetid: c98b3fcb-c992-4dd9-b67d-2598a9bf8aab
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 5/16/2017
ms.author: msfussell
ms.openlocfilehash: fce94c4b476351c90f23f706aab8bc17319cce22
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-and-containers"></a><span data-ttu-id="2be5a-104">Service Fabric 和容器</span><span class="sxs-lookup"><span data-stu-id="2be5a-104">Service Fabric and containers</span></span>
> [!NOTE]
> <span data-ttu-id="2be5a-105">Linux 的這項功能處於預覽狀態。</span><span class="sxs-lookup"><span data-stu-id="2be5a-105">This feature is in preview for Linux.</span></span>  <span data-ttu-id="2be5a-106">部署 Windows 10 中的 tooa Service Fabric 叢集不支援的容器，但 （即將推出）。</span><span class="sxs-lookup"><span data-stu-id="2be5a-106">Deploying containers tooa Service Fabric cluster in Windows 10 isn't supported yet (coming soon).</span></span> 
>   

## <a name="introduction"></a><span data-ttu-id="2be5a-107">簡介</span><span class="sxs-lookup"><span data-stu-id="2be5a-107">Introduction</span></span>
<span data-ttu-id="2be5a-108">Azure Service Fabric 是跨機器叢集的服務的 [Orchestrator](service-fabric-cluster-resource-manager-introduction.md)，在 Microsoft 的大規模服務中已使用多年且經過最佳化。</span><span class="sxs-lookup"><span data-stu-id="2be5a-108">Azure Service Fabric is an [orchestrator](service-fabric-cluster-resource-manager-introduction.md) of services across a cluster of machines, with years of usage and optimization in massive scale services at Microsoft.</span></span> <span data-ttu-id="2be5a-109">服務可以部署在許多方面，從使用 hello[程式設計模型的 Service Fabric](service-fabric-choose-framework.md) toodeploying[客體可執行檔](service-fabric-deploy-existing-app.md)。</span><span class="sxs-lookup"><span data-stu-id="2be5a-109">Services can be developed in many ways, from using hello [Service Fabric programming models](service-fabric-choose-framework.md) toodeploying [guest executables](service-fabric-deploy-existing-app.md).</span></span> <span data-ttu-id="2be5a-110">根據預設，Service Fabric 會以處理序形式部署和啟動這些服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-110">By default, Service Fabric deploys and activates these services as processes.</span></span> <span data-ttu-id="2be5a-111">處理程序提供 hello 最快速的啟動和密度使用量最高的 hello 叢集中的資源。</span><span class="sxs-lookup"><span data-stu-id="2be5a-111">Processes provide hello fastest activation and highest density usage of hello resources in a cluster.</span></span> <span data-ttu-id="2be5a-112">Service Fabric 也可以在容器映像中部署服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-112">Service Fabric can also deploy services in container images.</span></span> <span data-ttu-id="2be5a-113">重要的是，您可以混合在 hello 容器中處理序中的服務和服務相同的應用程式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-113">Importantly, you can mix services in processes and services in containers in hello same application.</span></span> 

## <a name="containers-and-service-fabric-roadmap"></a><span data-ttu-id="2be5a-114">容器和 Service Fabric 藍圖</span><span class="sxs-lookup"><span data-stu-id="2be5a-114">Containers and Service Fabric roadmap</span></span>
<span data-ttu-id="2be5a-115">在未來推出的版本中，針對容器協調流程和 Service Fabric 有許多改進計劃。</span><span class="sxs-lookup"><span data-stu-id="2be5a-115">In forthcoming releases, many improvements are planned for container orchestration with Service Fabric.</span></span> <span data-ttu-id="2be5a-116">包含增強的網路功能以支援應用程式內的虛擬網路、安全性功能、改良的診斷功能和工具支援。</span><span class="sxs-lookup"><span data-stu-id="2be5a-116">Improvements include features for enhanced networking with support for virtual networks within an application, security features, improved diagnostics, and tooling support.</span></span> <span data-ttu-id="2be5a-117">服務網狀架構可讓您混用的服務使用 hello Service Fabric 程式設計模型開發的封裝與現有的程式碼 （例如，IIS MVC 應用程式） 的容器 toocreate 應用程式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-117">Service Fabric allows you toocreate applications mixing containers packaged with existing code (for example, IIS MVC apps) with services developed using hello Service Fabric programming models.</span></span>  <span data-ttu-id="2be5a-118">您可以在單一叢集上執行數個這類應用程式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-118">You can run several such applications on a single cluster.</span></span> 

## <a name="what-are-containers"></a><span data-ttu-id="2be5a-119">什麼是容器？</span><span class="sxs-lookup"><span data-stu-id="2be5a-119">What are containers?</span></span>
<span data-ttu-id="2be5a-120">容器封裝，以隔離的執行個體的個別部署元件 hello 作業系統提供的虛擬化相同核心 tootake 優點。</span><span class="sxs-lookup"><span data-stu-id="2be5a-120">Containers are encapsulated, individually deployable components that run as isolated instances on hello same kernel tootake advantage of virtualization that an operating system provides.</span></span> <span data-ttu-id="2be5a-121">因此，每個應用程式和其執行階段、 相依性，以及系統程式庫執行容器內的作業系統建構完整的私用存取 toohello 容器自己隔離的檢視。</span><span class="sxs-lookup"><span data-stu-id="2be5a-121">Thus, each application and its runtime, dependencies, and system libraries run inside a container with full, private access toohello container's own isolated view of operating system constructs.</span></span> <span data-ttu-id="2be5a-122">可攜性，此安全性和資源隔離程度會 hello 主要權益，適用於使用以 Service Fabric，這是其他處理序中執行服務的容器。</span><span class="sxs-lookup"><span data-stu-id="2be5a-122">Along with portability, this degree of security and resource isolation is hello main benefit for using containers with Service Fabric, which otherwise runs services in processes.</span></span>

<span data-ttu-id="2be5a-123">容器是虛擬化 hello 基礎作業系統與應用程式的虛擬化技術。</span><span class="sxs-lookup"><span data-stu-id="2be5a-123">Containers are a virtualization technology that virtualizes hello underlying operating system from applications.</span></span> <span data-ttu-id="2be5a-124">容器會提供有不同程度的隔離的應用程式 toorun 是不可變的環境。</span><span class="sxs-lookup"><span data-stu-id="2be5a-124">Containers provide an immutable environment for applications toorun with varying degrees of isolation.</span></span> <span data-ttu-id="2be5a-125">容器會直接在 hello 核心之上執行，而且 hello 檔案系統的個別的檢視和其他資源。</span><span class="sxs-lookup"><span data-stu-id="2be5a-125">Containers run directly on top of hello kernel and have an isolated view of hello file system and other resources.</span></span> <span data-ttu-id="2be5a-126">比較的 toovirtual 機器容器具有下列優點 hello:</span><span class="sxs-lookup"><span data-stu-id="2be5a-126">Compared toovirtual machines, containers have hello following advantages:</span></span>

* <span data-ttu-id="2be5a-127">**小型**： 容器會使用單一儲存體空間和圖層版本和更新 tooincrease 效率。</span><span class="sxs-lookup"><span data-stu-id="2be5a-127">**Small**: Containers use a single storage space and layer versions and updates tooincrease efficiency.</span></span>
* <span data-ttu-id="2be5a-128">**快速**： 容器沒有 tooboot 整個作業系統，因此他們可以啟動快得多，通常以秒為單位。</span><span class="sxs-lookup"><span data-stu-id="2be5a-128">**Fast**: Containers don’t have tooboot an entire operating system, so they can start much faster, typically in seconds.</span></span>
* <span data-ttu-id="2be5a-129">**可攜性**： 進行容器化應用程式映像可以是移植的 toorun hello 雲端，在內部部署虛擬機器內，或直接在實體電腦上。</span><span class="sxs-lookup"><span data-stu-id="2be5a-129">**Portability**: A containerized application image can be ported toorun in hello cloud, on premises, inside virtual machines, or directly on physical machines.</span></span>
* <span data-ttu-id="2be5a-130">**資源監管**： 容器可以限制 hello 可取其主機的實體資源。</span><span class="sxs-lookup"><span data-stu-id="2be5a-130">**Resource governance**: A container can limit hello physical resources that it can consume on its host.</span></span>

## <a name="container-types"></a><span data-ttu-id="2be5a-131">容器類型</span><span class="sxs-lookup"><span data-stu-id="2be5a-131">Container types</span></span>
<span data-ttu-id="2be5a-132">Service Fabric 支援 Linux 和 Windows 上的容器，也支援 hello 後者中的 HYPER-V 隔離模式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-132">Service Fabric supports containers on both Linux and Windows, and also supports Hyper-V isolation mode on hello latter.</span></span> 

### <a name="docker-containers-on-linux"></a><span data-ttu-id="2be5a-133">Linux 上的 Docker 容器</span><span class="sxs-lookup"><span data-stu-id="2be5a-133">Docker containers on Linux</span></span>
<span data-ttu-id="2be5a-134">Docker 提供高層級的應用程式開發介面 toocreate 和管理 Linux 核心容器頂端的容器。</span><span class="sxs-lookup"><span data-stu-id="2be5a-134">Docker provides high-level APIs toocreate and manage containers on top of Linux kernel containers.</span></span> <span data-ttu-id="2be5a-135">Docker Hub 是中央儲存機制 toostore，和擷取容器映像。</span><span class="sxs-lookup"><span data-stu-id="2be5a-135">Docker Hub is a central repository toostore and retrieve container images.</span></span>
<span data-ttu-id="2be5a-136">如需教學課程，請參閱[部署 Docker 容器 tooService 網狀架構](service-fabric-get-started-containers-linux.md)。</span><span class="sxs-lookup"><span data-stu-id="2be5a-136">For a tutorial, see [Deploy a Docker container tooService Fabric](service-fabric-get-started-containers-linux.md).</span></span>

### <a name="windows-server-containers"></a><span data-ttu-id="2be5a-137">Windows Server 容器</span><span class="sxs-lookup"><span data-stu-id="2be5a-137">Windows Server containers</span></span>
<span data-ttu-id="2be5a-138">Windows Server 2016 提供兩種不同的 hello 提供隔離層級中不同的容器。</span><span class="sxs-lookup"><span data-stu-id="2be5a-138">Windows Server 2016 provides two different types of containers that differ in hello level of provided isolation.</span></span> <span data-ttu-id="2be5a-139">Windows Server 容器和 Docker 容器是類似，因為兩者都有命名空間和檔案系統的隔離，但共用 hello 核心與 hello 主機執行。</span><span class="sxs-lookup"><span data-stu-id="2be5a-139">Windows Server containers and Docker containers are similar because both have namespace and file system isolation but share hello kernel with hello host they are running on.</span></span> <span data-ttu-id="2be5a-140">在 Linux 上，一向是由 `cgroups` 和 `namespaces` 提供這種隔離，而 Windows Server 容器具有類似的行為。</span><span class="sxs-lookup"><span data-stu-id="2be5a-140">On Linux, this isolation has traditionally been provided by `cgroups` and `namespaces`, and Windows Server containers behave similarly.</span></span>

<span data-ttu-id="2be5a-141">Windows HYPER-V 容器會提供更多隔離和安全性，因為每個容器不會與其他容器或 hello 主機共用 hello 作業系統核心。</span><span class="sxs-lookup"><span data-stu-id="2be5a-141">Windows Hyper-V containers provide more isolation and security because each container does not share hello operating system kernel with other containers or with hello host.</span></span> <span data-ttu-id="2be5a-142">由於有如此高程度的安全性隔離，Hyper-V 容器在惡意多租用戶的情況下是重點部分。</span><span class="sxs-lookup"><span data-stu-id="2be5a-142">With this higher level of security isolation, Hyper-V containers are targeted at hostile, multitenant scenarios.</span></span>
<span data-ttu-id="2be5a-143">如需教學課程，請參閱[部署 Windows 容器 tooService 網狀架構](service-fabric-get-started-containers.md)。</span><span class="sxs-lookup"><span data-stu-id="2be5a-143">For a tutorial, see [Deploy a Windows container tooService Fabric](service-fabric-get-started-containers.md).</span></span>

<span data-ttu-id="2be5a-144">hello 下圖顯示 hello 不同類型的 hello 作業系統中可用的虛擬化及隔離等級。</span><span class="sxs-lookup"><span data-stu-id="2be5a-144">hello following figure shows hello different types of virtualization and isolation levels available in hello operating system.</span></span>
<span data-ttu-id="2be5a-145">![Service Fabric 平台][Image1]</span><span class="sxs-lookup"><span data-stu-id="2be5a-145">![Service Fabric platform][Image1]</span></span>

## <a name="scenarios-for-using-containers"></a><span data-ttu-id="2be5a-146">容器使用案例</span><span class="sxs-lookup"><span data-stu-id="2be5a-146">Scenarios for using containers</span></span>
<span data-ttu-id="2be5a-147">以下是典型範例，容器是很好的選擇︰</span><span class="sxs-lookup"><span data-stu-id="2be5a-147">Here are typical examples where a container is a good choice:</span></span>

* <span data-ttu-id="2be5a-148">**IIS 提起和移位**： 如果您有現有的[ASP.NET MVC](https://www.asp.net/mvc)您希望 toocontinue toouse 應用程式將它們放在容器，而不是移轉它們 tooASP.NET 核心。</span><span class="sxs-lookup"><span data-stu-id="2be5a-148">**IIS lift and shift**: If you have existing [ASP.NET MVC](https://www.asp.net/mvc) apps that you want toocontinue toouse, put them in a container instead of migrating them tooASP.NET Core.</span></span> <span data-ttu-id="2be5a-149">這些 ASP.NET MVC 應用程式相依於網際網路資訊服務 (IIS)。</span><span class="sxs-lookup"><span data-stu-id="2be5a-149">These ASP.NET MVC apps depend on Internet Information Services (IIS).</span></span> <span data-ttu-id="2be5a-150">您可以封裝到容器映像從預先建立 IIS 映像的 hello 這些應用程式，並將其部署以 Service Fabric。</span><span class="sxs-lookup"><span data-stu-id="2be5a-150">You can package these applications into container images from hello precreated IIS image and deploy them with Service Fabric.</span></span> <span data-ttu-id="2be5a-151">請參閱[Windows Server 上的容器映像](https://msdn.microsoft.com/virtualization/windowscontainers/quick_start/quick_start_images)如需有關資訊 toocreate IIS 映像。</span><span class="sxs-lookup"><span data-stu-id="2be5a-151">See [Container Images on Windows Server](https://msdn.microsoft.com/virtualization/windowscontainers/quick_start/quick_start_images) for information about how toocreate IIS images.</span></span>
* <span data-ttu-id="2be5a-152">**混合容器和 Service Fabric 微服務**︰針對您的應用程式的一部分使用現有的容器映像。</span><span class="sxs-lookup"><span data-stu-id="2be5a-152">**Mix containers and Service Fabric microservices**: Use an existing container image for part of your application.</span></span> <span data-ttu-id="2be5a-153">例如，您可能會使用 hello [NGINX 容器](https://hub.docker.com/_/nginx/)hello web 前端的應用程式和可設定狀態服務的 hello 更大量的後端計算。</span><span class="sxs-lookup"><span data-stu-id="2be5a-153">For example, you might use hello [NGINX container](https://hub.docker.com/_/nginx/) for hello web front end of your application and stateful services for hello more intensive back-end computation.</span></span>
* <span data-ttu-id="2be5a-154">**減少 「 雜訊的鄰近項目 」 服務的影響**： 您可以使用的服務使用的主機的容器 toorestrict hello 資源 hello 資源控管能力。</span><span class="sxs-lookup"><span data-stu-id="2be5a-154">**Reduce impact of "noisy neighbors" services**: You can use hello resource governance ability of containers toorestrict hello resources that a service uses on a host.</span></span> <span data-ttu-id="2be5a-155">如果服務可能會耗用許多資源，並會影響其他人 （例如長時間執行的查詢類似的作業） 的 hello 效能，請考慮將這些服務放入容器資源管理。</span><span class="sxs-lookup"><span data-stu-id="2be5a-155">If services might consume many resources and affect hello performance of others (such as a long-running, query-like operation), consider putting these services into containers that have resource governance.</span></span>

## <a name="service-fabric-support-for-containers"></a><span data-ttu-id="2be5a-156">Service Fabric 的容器支援</span><span class="sxs-lookup"><span data-stu-id="2be5a-156">Service Fabric support for containers</span></span>
<span data-ttu-id="2be5a-157">目前，Service Fabric 支援將 Docker 容器部署在 Linux，也支援將 Windows Server 容器部署在 Windows Server 2016 以及支援 Hyper-V 隔離模式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-157">Service Fabric currently supports deployment of Docker containers on Linux and Windows Server containers on Windows Server 2016, along with support for Hyper-V isolation mode.</span></span> 

<span data-ttu-id="2be5a-158">在 hello Service Fabric[應用程式模型](service-fabric-application-model.md)，容器代表複本會放在哪一種多個服務應用程式主機。</span><span class="sxs-lookup"><span data-stu-id="2be5a-158">In hello Service Fabric [application model](service-fabric-application-model.md), a container represents an application host in which multiple service replicas are placed.</span></span> <span data-ttu-id="2be5a-159">Service Fabric 可以執行任何容器，而 hello 案例是類似 toohello[客體可執行檔案例](service-fabric-deploy-existing-app.md)、 您用來封裝位在容器內現有的應用程式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-159">Service Fabric can run any containers, and hello scenario is similar toohello [guest executable scenario](service-fabric-deploy-existing-app.md), where you package an existing application inside a container.</span></span> <span data-ttu-id="2be5a-160">此案例中是 hello 常見使用案例的容器，並執行使用任何語言或架構，但不使用 hello 內建 Service Fabric 程式設計模型撰寫的應用程式的範例包括。</span><span class="sxs-lookup"><span data-stu-id="2be5a-160">This scenario is hello common use-case for containers, and examples include running an application written using any language or frameworks, but not using hello built-in Service Fabric programming models.</span></span>

<span data-ttu-id="2be5a-161">此外，您也可以執行容器內的 Service Fabric 服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-161">In addition, you can run Service Fabric services inside containers as well.</span></span> <span data-ttu-id="2be5a-162">目前，但 toobe 增強推出的版本中受到支援，在容器內執行的 Service Fabric 服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-162">Support for running Service Fabric services inside containers is limited currently, but toobe enhanced in forthcoming releases.</span></span>

* <span data-ttu-id="2be5a-163">**可靠的無狀態服務，在容器內**： 可靠無狀態服務使用的程式設計模型才支援在 Linux hello 可靠的服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-163">**Reliable Stateless services inside containers**: Reliable Stateless services using hello Reliable Services programming models are only supported on Linux.</span></span> <span data-ttu-id="2be5a-164">未來版本計劃將增加支援 Windows 容器中的無狀態可靠服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-164">Support for Reliable Stateless services in Windows containers is planned for a future release.</span></span>
* <span data-ttu-id="2be5a-165">**在容器內的可設定狀態服務**： 這些服務使用 hello Reliable Actors 或可靠的服務程式設計模型。</span><span class="sxs-lookup"><span data-stu-id="2be5a-165">**Stateful services inside containers**: These services use hello Reliable Actors or Reliable Services programming model.</span></span> <span data-ttu-id="2be5a-166">未來版本中將增加支援容器中執行的具狀態服務。</span><span class="sxs-lookup"><span data-stu-id="2be5a-166">Support for running stateful services in containers will be added in future release.</span></span>

<span data-ttu-id="2be5a-167">Service Fabric 有數個容器功能可協助您建置由容器化微服務組成的應用程式。</span><span class="sxs-lookup"><span data-stu-id="2be5a-167">Service Fabric has several container capabilities that help you build applications that are composed of microservices that are containerized.</span></span> <span data-ttu-id="2be5a-168">Service Fabric 提供下列功能的容器化服務的 hello:</span><span class="sxs-lookup"><span data-stu-id="2be5a-168">Service Fabric offers hello following capabilities for containerized services:</span></span>

* <span data-ttu-id="2be5a-169">容器映像部署和啟用。</span><span class="sxs-lookup"><span data-stu-id="2be5a-169">Container image deployment and activation.</span></span>
* <span data-ttu-id="2be5a-170">資源管理。</span><span class="sxs-lookup"><span data-stu-id="2be5a-170">Resource governance.</span></span>
* <span data-ttu-id="2be5a-171">儲存機制驗證。</span><span class="sxs-lookup"><span data-stu-id="2be5a-171">Repository authentication.</span></span>
* <span data-ttu-id="2be5a-172">容器連接埠 toohost 連接埠對應。</span><span class="sxs-lookup"><span data-stu-id="2be5a-172">Container port toohost port mapping.</span></span>
* <span data-ttu-id="2be5a-173">容器至容器的探索及通訊。</span><span class="sxs-lookup"><span data-stu-id="2be5a-173">Container-to-container discovery and communication.</span></span>
* <span data-ttu-id="2be5a-174">能力 tooconfigure 並設定環境變數。</span><span class="sxs-lookup"><span data-stu-id="2be5a-174">Ability tooconfigure and set environment variables.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2be5a-175">後續步驟</span><span class="sxs-lookup"><span data-stu-id="2be5a-175">Next steps</span></span>
<span data-ttu-id="2be5a-176">在本文中，您已了解容器、Service Fabric 是容器協調者，以及 Service Fabric 具有支援容器的功能。</span><span class="sxs-lookup"><span data-stu-id="2be5a-176">In this article, you learned about containers, that Service Fabric is a container orchestrator, and that Service Fabric has features that support containers.</span></span> <span data-ttu-id="2be5a-177">在下一個步驟中，我們將介紹每個的 hello 功能 tooshow 範例您如何 toouse 它們。</span><span class="sxs-lookup"><span data-stu-id="2be5a-177">As a next step, we will go over examples of each of hello features tooshow you how toouse them.</span></span>

[<span data-ttu-id="2be5a-178">部署 Windows 容器 tooService 網狀架構上 Windows Server 2016</span><span class="sxs-lookup"><span data-stu-id="2be5a-178">Deploy a Windows container tooService Fabric on Windows Server 2016</span></span>](service-fabric-get-started-containers.md)

[<span data-ttu-id="2be5a-179">部署 Docker 容器 tooService Linux 上的網狀架構</span><span class="sxs-lookup"><span data-stu-id="2be5a-179">Deploy a Docker container tooService Fabric on Linux</span></span>](service-fabric-get-started-containers-linux.md)

[Image1]: media/service-fabric-containers/Service-Fabric-Types-of-Isolation.png
