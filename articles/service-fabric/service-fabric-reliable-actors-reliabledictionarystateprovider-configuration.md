---
title: "在 Azure microservices aaaChange ReliableDictionaryActorStateProvider 設定 |Microsoft 文件"
description: "了解設定 ReliableDictionaryActorStateProvider 類型的 Azure Service Fabric 可設定狀態的動作項目。"
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: 79b48ffa-2474-4f1c-a857-3471f9590ded
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: 44c85a41c90a17669ba874401d7921c94e7be9ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--reliabledictionaryactorstateprovider"></a><span data-ttu-id="eb438-103">設定 Reliable Actors - ReliableDictionaryActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="eb438-103">Configuring Reliable Actors--ReliableDictionaryActorStateProvider</span></span>
<span data-ttu-id="eb438-104">您可以藉由變更產生 hello Visual Studio 封裝根目錄下 hello 指定執行者的 hello Config 資料夾中的 hello settings.xml 檔修改 ReliableDictionaryActorStateProvider hello 預設組態。</span><span class="sxs-lookup"><span data-stu-id="eb438-104">You can modify hello default configuration of ReliableDictionaryActorStateProvider by changing hello settings.xml file generated in hello Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="eb438-105">hello Azure Service Fabric 執行階段會尋找 hello settings.xml 檔案中的預先定義的區段名稱，並時都會佔用掉 hello 組態值建立 hello 基礎執行階段元件。</span><span class="sxs-lookup"><span data-stu-id="eb438-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="eb438-106">請勿**不**刪除或修改的設定產生 hello Visual Studio 方案中的 hello settings.xml 檔案中的 hello hello 的區段名稱。</span><span class="sxs-lookup"><span data-stu-id="eb438-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

<span data-ttu-id="eb438-107">也有一些會影響 ReliableDictionaryActorStateProvider hello 組態的全域設定。</span><span class="sxs-lookup"><span data-stu-id="eb438-107">There are also global settings that affect hello configuration of ReliableDictionaryActorStateProvider.</span></span>

## <a name="global-configuration"></a><span data-ttu-id="eb438-108">全域組態</span><span class="sxs-lookup"><span data-stu-id="eb438-108">Global Configuration</span></span>
<span data-ttu-id="eb438-109">hello hello KtlLogger 區段下的 hello 叢集的叢集資訊清單中指定 hello 全域組態。</span><span class="sxs-lookup"><span data-stu-id="eb438-109">hello global configuration is specified in hello cluster manifest for hello cluster under hello KtlLogger section.</span></span> <span data-ttu-id="eb438-110">它可讓 hello 共用記錄檔位置和大小加上 hello 全域記憶體限制 hello 記錄器所使用的設定。</span><span class="sxs-lookup"><span data-stu-id="eb438-110">It allows configuration of hello shared log location and size plus hello global memory limits used by hello logger.</span></span> <span data-ttu-id="eb438-111">請注意，hello 叢集資訊清單中的變更會影響所有的服務，使用 ReliableDictionaryActorStateProvider 和可靠的可設定狀態服務。</span><span class="sxs-lookup"><span data-stu-id="eb438-111">Note that changes in hello cluster manifest affect all services that use ReliableDictionaryActorStateProvider and reliable stateful services.</span></span>

<span data-ttu-id="eb438-112">hello 叢集資訊清單是單一的 XML 檔案包含設定及套用 tooall 節點和 hello 叢集中的服務組態。</span><span class="sxs-lookup"><span data-stu-id="eb438-112">hello cluster manifest is a single XML file that holds settings and configurations that apply tooall nodes and services in hello cluster.</span></span> <span data-ttu-id="eb438-113">hello 檔案通常稱為 ClusterManifest.xml。</span><span class="sxs-lookup"><span data-stu-id="eb438-113">hello file is typically called ClusterManifest.xml.</span></span> <span data-ttu-id="eb438-114">您可以看到您的叢集使用 hello Get ServiceFabricClusterManifest powershell 命令的 hello 叢集資訊清單。</span><span class="sxs-lookup"><span data-stu-id="eb438-114">You can see hello cluster manifest for your cluster using hello Get-ServiceFabricClusterManifest powershell command.</span></span>

### <a name="configuration-names"></a><span data-ttu-id="eb438-115">組態名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-115">Configuration names</span></span>
| <span data-ttu-id="eb438-116">名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-116">Name</span></span> | <span data-ttu-id="eb438-117">單位</span><span class="sxs-lookup"><span data-stu-id="eb438-117">Unit</span></span> | <span data-ttu-id="eb438-118">預設值</span><span class="sxs-lookup"><span data-stu-id="eb438-118">Default value</span></span> | <span data-ttu-id="eb438-119">備註</span><span class="sxs-lookup"><span data-stu-id="eb438-119">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb438-120">WriteBufferMemoryPoolMinimumInKB</span><span class="sxs-lookup"><span data-stu-id="eb438-120">WriteBufferMemoryPoolMinimumInKB</span></span> |<span data-ttu-id="eb438-121">KB</span><span class="sxs-lookup"><span data-stu-id="eb438-121">Kilobytes</span></span> |<span data-ttu-id="eb438-122">8388608</span><span class="sxs-lookup"><span data-stu-id="eb438-122">8388608</span></span> |<span data-ttu-id="eb438-123">最小數目為 hello 登入程式的核心模式中的 KB tooallocate 寫入緩衝區的記憶體集區。</span><span class="sxs-lookup"><span data-stu-id="eb438-123">Minimum number of KB tooallocate in kernel mode for hello logger write buffer memory pool.</span></span> <span data-ttu-id="eb438-124">此記憶體集區用來快取寫入 toodisk 之前的狀態資訊。</span><span class="sxs-lookup"><span data-stu-id="eb438-124">This memory pool is used for caching state information before writing toodisk.</span></span> |
| <span data-ttu-id="eb438-125">WriteBufferMemoryPoolMaximumInKB</span><span class="sxs-lookup"><span data-stu-id="eb438-125">WriteBufferMemoryPoolMaximumInKB</span></span> |<span data-ttu-id="eb438-126">KB</span><span class="sxs-lookup"><span data-stu-id="eb438-126">Kilobytes</span></span> |<span data-ttu-id="eb438-127">沒有限制</span><span class="sxs-lookup"><span data-stu-id="eb438-127">No Limit</span></span> |<span data-ttu-id="eb438-128">大小上限 toowhich hello 登入程式寫入緩衝區的記憶體集區可以成長。</span><span class="sxs-lookup"><span data-stu-id="eb438-128">Maximum size toowhich hello logger write buffer memory pool can grow.</span></span> |
| <span data-ttu-id="eb438-129">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="eb438-129">SharedLogId</span></span> |<span data-ttu-id="eb438-130">GUID</span><span class="sxs-lookup"><span data-stu-id="eb438-130">GUID</span></span> |<span data-ttu-id="eb438-131">""</span><span class="sxs-lookup"><span data-stu-id="eb438-131">""</span></span> |<span data-ttu-id="eb438-132">指定唯一的 GUID toouse 識別 hello 預設共用使用記錄檔及其服務的特定組態中未指定 hello SharedLogId hello 叢集中所有節點上所有可靠的服務。</span><span class="sxs-lookup"><span data-stu-id="eb438-132">Specifies a unique GUID toouse for identifying hello default shared log file used by all reliable services on all nodes in hello cluster that do not specify hello SharedLogId in their service specific configuration.</span></span> <span data-ttu-id="eb438-133">如果有指定 SharedLogId，則也必須指定 SharedLogPath。</span><span class="sxs-lookup"><span data-stu-id="eb438-133">If SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="eb438-134">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="eb438-134">SharedLogPath</span></span> |<span data-ttu-id="eb438-135">完整路徑名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-135">Fully qualified path name</span></span> |<span data-ttu-id="eb438-136">""</span><span class="sxs-lookup"><span data-stu-id="eb438-136">""</span></span> |<span data-ttu-id="eb438-137">指定 hello hello 共用其服務的特定組態中未指定 hello SharedLogPath hello 叢集中所有節點上所有可靠的服務所使用的記錄檔所在的完整的路徑。</span><span class="sxs-lookup"><span data-stu-id="eb438-137">Specifies hello fully qualified path where hello shared log file used by all reliable services on all nodes in hello cluster that do not specify hello SharedLogPath in their service specific configuration.</span></span> <span data-ttu-id="eb438-138">不過，如果有指定 SharedLogPath，則也必須指定 SharedLogId。</span><span class="sxs-lookup"><span data-stu-id="eb438-138">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |
| <span data-ttu-id="eb438-139">SharedLogSizeInMB</span><span class="sxs-lookup"><span data-stu-id="eb438-139">SharedLogSizeInMB</span></span> |<span data-ttu-id="eb438-140">MB</span><span class="sxs-lookup"><span data-stu-id="eb438-140">Megabytes</span></span> |<span data-ttu-id="eb438-141">8192</span><span class="sxs-lookup"><span data-stu-id="eb438-141">8192</span></span> |<span data-ttu-id="eb438-142">指定 hello 數 mb 的磁碟空間 toostatically 配置 hello 共用記錄。</span><span class="sxs-lookup"><span data-stu-id="eb438-142">Specifies hello number of MB of disk space toostatically allocate for hello shared log.</span></span> <span data-ttu-id="eb438-143">hello 值必須是 2048年或更大。</span><span class="sxs-lookup"><span data-stu-id="eb438-143">hello value must be 2048 or larger.</span></span> |

### <a name="sample-cluster-manifest-section"></a><span data-ttu-id="eb438-144">範例叢集資訊清單一節</span><span class="sxs-lookup"><span data-stu-id="eb438-144">Sample cluster manifest section</span></span>
```xml
   <Section Name="KtlLogger">
     <Parameter Name="WriteBufferMemoryPoolMinimumInKB" Value="8192" />
     <Parameter Name="WriteBufferMemoryPoolMaximumInKB" Value="8192" />
     <Parameter Name="SharedLogId" Value="{7668BB54-FE9C-48ed-81AC-FF89E60ED2EF}"/>
     <Parameter Name="SharedLogPath" Value="f:\SharedLog.Log"/>
     <Parameter Name="SharedLogSizeInMB" Value="16383"/>
   </Section>
```

### <a name="remarks"></a><span data-ttu-id="eb438-145">備註</span><span class="sxs-lookup"><span data-stu-id="eb438-145">Remarks</span></span>
<span data-ttu-id="eb438-146">hello 記錄器已全域的集區，從可用 tooall 可靠的服務節點上的快取在寫入 toohello 專用的 hello 可靠的服務複本相關聯的記錄之前的狀態資料的未分頁的核心記憶體配置的記憶體。</span><span class="sxs-lookup"><span data-stu-id="eb438-146">hello logger has a global pool of memory allocated from non paged kernel memory that is available tooall reliable services on a node for caching state data before being written toohello dedicated log associated with hello reliable service replica.</span></span> <span data-ttu-id="eb438-147">hello 集區大小是由 hello WriteBufferMemoryPoolMinimumInKB 和 WriteBufferMemoryPoolMaximumInKB 設定控制。</span><span class="sxs-lookup"><span data-stu-id="eb438-147">hello pool size is controlled by hello WriteBufferMemoryPoolMinimumInKB and WriteBufferMemoryPoolMaximumInKB settings.</span></span> <span data-ttu-id="eb438-148">WriteBufferMemoryPoolMinimumInKB 指定同時 hello 這個記憶體集區的初始大小和 hello 最低大小 toowhich hello 記憶體集區可能會縮小。</span><span class="sxs-lookup"><span data-stu-id="eb438-148">WriteBufferMemoryPoolMinimumInKB specifies both hello initial size of this memory pool and hello lowest size toowhich hello memory pool may shrink.</span></span> <span data-ttu-id="eb438-149">WriteBufferMemoryPoolMaximumInKB 是 hello 最大大小 toowhich hello 記憶體集區可能會成長。</span><span class="sxs-lookup"><span data-stu-id="eb438-149">WriteBufferMemoryPoolMaximumInKB is hello highest size toowhich hello memory pool may grow.</span></span> <span data-ttu-id="eb438-150">開啟每個可靠的服務複本可能會依總 tooWriteBufferMemoryPoolMaximumInKB 系統決定量增加 hello hello 記憶體集區的大小。</span><span class="sxs-lookup"><span data-stu-id="eb438-150">Each reliable service replica that is opened may increase hello size of hello memory pool by a system determined amount up tooWriteBufferMemoryPoolMaximumInKB.</span></span> <span data-ttu-id="eb438-151">如果沒有從 hello 記憶體集區超出可用的記憶體需求，有可用的記憶體為止，將會延遲記憶體的要求。</span><span class="sxs-lookup"><span data-stu-id="eb438-151">If there is more demand for memory from hello memory pool than is available, requests for memory will be delayed until memory is available.</span></span> <span data-ttu-id="eb438-152">因此如果 hello 寫入緩衝區的記憶體集區太小的特定組態，然後可能會犧牲效能。</span><span class="sxs-lookup"><span data-stu-id="eb438-152">Therefore if hello write buffer memory pool is too small for a particular configuration then performance may suffer.</span></span>

<span data-ttu-id="eb438-153">hello SharedLogId 和 SharedLogPath 設定為一律使用一起 toodefine hello GUID 和 hello 預設位置共用記錄檔中的 hello 叢集中所有節點。</span><span class="sxs-lookup"><span data-stu-id="eb438-153">hello SharedLogId and SharedLogPath settings are always used together toodefine hello GUID and location for hello default shared log for all nodes in hello cluster.</span></span> <span data-ttu-id="eb438-154">hello 共用記錄檔用於可靠 hello 特定服務的 hello settings.xml 中未指定 hello 設定的所有服務。</span><span class="sxs-lookup"><span data-stu-id="eb438-154">hello default shared log is used for all reliable services that do not specify hello settings in hello settings.xml for hello specific service.</span></span> <span data-ttu-id="eb438-155">為了達到最佳效能，共用的記錄檔應該置於只適用於共用 hello 記錄檔案 tooreduce 競爭的磁碟。</span><span class="sxs-lookup"><span data-stu-id="eb438-155">For best performance, shared log files should be placed on disks that are used solely for hello shared log file tooreduce contention.</span></span>

<span data-ttu-id="eb438-156">SharedLogSizeInMB 指定 hello 的磁碟空間 toopreallocate hello 共用記錄檔的所有節點上。</span><span class="sxs-lookup"><span data-stu-id="eb438-156">SharedLogSizeInMB specifies hello amount of disk space toopreallocate for hello default shared log on all nodes.</span></span>  <span data-ttu-id="eb438-157">SharedLogId 和 SharedLogPath 不需要 toobe SharedLogSizeInMB toobe 指定的順序指定。</span><span class="sxs-lookup"><span data-stu-id="eb438-157">SharedLogId and SharedLogPath do not need toobe specified in order for SharedLogSizeInMB toobe specified.</span></span>

## <a name="replicator-security-configuration"></a><span data-ttu-id="eb438-158">複寫器安全性組態</span><span class="sxs-lookup"><span data-stu-id="eb438-158">Replicator security configuration</span></span>
<span data-ttu-id="eb438-159">複寫器的安全性設定是在複寫期間所使用的 toosecure hello 通訊通道。</span><span class="sxs-lookup"><span data-stu-id="eb438-159">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="eb438-160">這表示服務無法看到彼此的複寫流量，確保 hello 資料，則高可用性也是安全。</span><span class="sxs-lookup"><span data-stu-id="eb438-160">This means that services cannot see each other's replication traffic, ensuring hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="eb438-161">依預設，空白的安全性組態區段會妨礙複寫安全性。</span><span class="sxs-lookup"><span data-stu-id="eb438-161">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="eb438-162">區段名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-162">Section name</span></span>
<span data-ttu-id="eb438-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="eb438-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="eb438-164">複寫器組態</span><span class="sxs-lookup"><span data-stu-id="eb438-164">Replicator configuration</span></span>
<span data-ttu-id="eb438-165">複寫器設定是使用的 tooconfigure hello 複寫器，其負責針對建立複寫，並將保存 hello 狀態儲存在本機高可靠 hello 動作項目狀態提供者狀態。</span><span class="sxs-lookup"><span data-stu-id="eb438-165">Replicator configurations are used tooconfigure hello replicator that is responsible for making hello Actor State Provider state highly reliable by replicating and persisting hello state locally.</span></span>
<span data-ttu-id="eb438-166">hello 預設設定由 hello Visual Studio 範本所產生，並應已足夠。</span><span class="sxs-lookup"><span data-stu-id="eb438-166">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="eb438-167">本節討論有關可用 tootune hello 複寫器的其他組態。</span><span class="sxs-lookup"><span data-stu-id="eb438-167">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="eb438-168">區段名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-168">Section name</span></span>
<span data-ttu-id="eb438-169">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="eb438-169">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="eb438-170">組態名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-170">Configuration names</span></span>
| <span data-ttu-id="eb438-171">名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-171">Name</span></span> | <span data-ttu-id="eb438-172">單位</span><span class="sxs-lookup"><span data-stu-id="eb438-172">Unit</span></span> | <span data-ttu-id="eb438-173">預設值</span><span class="sxs-lookup"><span data-stu-id="eb438-173">Default value</span></span> | <span data-ttu-id="eb438-174">備註</span><span class="sxs-lookup"><span data-stu-id="eb438-174">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb438-175">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="eb438-175">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="eb438-176">秒</span><span class="sxs-lookup"><span data-stu-id="eb438-176">Seconds</span></span> |<span data-ttu-id="eb438-177">0.015</span><span class="sxs-lookup"><span data-stu-id="eb438-177">0.015</span></span> |<span data-ttu-id="eb438-178">一段時間的哪些 hello 複寫器在 hello 次要等候接收之前傳送回認可 toohello 主要的作業之後。</span><span class="sxs-lookup"><span data-stu-id="eb438-178">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="eb438-179">傳送作業在此時間間隔內處理的任何其他通知 toobe 會以一個回應傳送。</span><span class="sxs-lookup"><span data-stu-id="eb438-179">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="eb438-180">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="eb438-180">ReplicatorEndpoint</span></span> |<span data-ttu-id="eb438-181">N/A</span><span class="sxs-lookup"><span data-stu-id="eb438-181">N/A</span></span> |<span data-ttu-id="eb438-182">無預設值--必要的參數</span><span class="sxs-lookup"><span data-stu-id="eb438-182">No default--required parameter</span></span> |<span data-ttu-id="eb438-183">IP 位址和連接埠 hello 主要/次要複寫器都會使用 toocommunicate，而其他購 hello 複本集中。</span><span class="sxs-lookup"><span data-stu-id="eb438-183">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="eb438-184">這應該參考 hello 服務資訊清單中的 TCP 資源端點。</span><span class="sxs-lookup"><span data-stu-id="eb438-184">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="eb438-185">請參閱太[服務資訊清單資源](service-fabric-service-manifest-resources.md)tooread 深入了解服務資訊清單中定義端點資源。</span><span class="sxs-lookup"><span data-stu-id="eb438-185">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in service manifest.</span></span> |
| <span data-ttu-id="eb438-186">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="eb438-186">MaxReplicationMessageSize</span></span> |<span data-ttu-id="eb438-187">位元組</span><span class="sxs-lookup"><span data-stu-id="eb438-187">Bytes</span></span> |<span data-ttu-id="eb438-188">50 MB</span><span class="sxs-lookup"><span data-stu-id="eb438-188">50 MB</span></span> |<span data-ttu-id="eb438-189">單一訊息可傳輸的複寫資料大小上限。</span><span class="sxs-lookup"><span data-stu-id="eb438-189">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="eb438-190">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="eb438-190">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="eb438-191">作業數目</span><span class="sxs-lookup"><span data-stu-id="eb438-191">Number of operations</span></span> |<span data-ttu-id="eb438-192">8192</span><span class="sxs-lookup"><span data-stu-id="eb438-192">8192</span></span> |<span data-ttu-id="eb438-193">Hello 主要佇列中的作業數目上限。</span><span class="sxs-lookup"><span data-stu-id="eb438-193">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="eb438-194">作業釋放 hello 主要複寫器接收到所有的 hello 次要購自之後。</span><span class="sxs-lookup"><span data-stu-id="eb438-194">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="eb438-195">此值必須大於 64 且為 2 的乘冪。</span><span class="sxs-lookup"><span data-stu-id="eb438-195">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="eb438-196">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="eb438-196">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="eb438-197">作業數目</span><span class="sxs-lookup"><span data-stu-id="eb438-197">Number of operations</span></span> |<span data-ttu-id="eb438-198">16384</span><span class="sxs-lookup"><span data-stu-id="eb438-198">16384</span></span> |<span data-ttu-id="eb438-199">Hello 次要佇列中的作業數目上限。</span><span class="sxs-lookup"><span data-stu-id="eb438-199">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="eb438-200">透過持續性讓狀態成為高可用性後，系統便會釋放作業。</span><span class="sxs-lookup"><span data-stu-id="eb438-200">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="eb438-201">此值必須大於 64 且為 2 的乘冪。</span><span class="sxs-lookup"><span data-stu-id="eb438-201">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="eb438-202">CheckpointThresholdInMB</span><span class="sxs-lookup"><span data-stu-id="eb438-202">CheckpointThresholdInMB</span></span> |<span data-ttu-id="eb438-203">MB</span><span class="sxs-lookup"><span data-stu-id="eb438-203">MB</span></span> |<span data-ttu-id="eb438-204">200</span><span class="sxs-lookup"><span data-stu-id="eb438-204">200</span></span> |<span data-ttu-id="eb438-205">之後，便檢查點 hello 狀態的記錄檔空間量。</span><span class="sxs-lookup"><span data-stu-id="eb438-205">Amount of log file space after which hello state is checkpointed.</span></span> |
| <span data-ttu-id="eb438-206">MaxRecordSizeInKB</span><span class="sxs-lookup"><span data-stu-id="eb438-206">MaxRecordSizeInKB</span></span> |<span data-ttu-id="eb438-207">KB</span><span class="sxs-lookup"><span data-stu-id="eb438-207">KB</span></span> |<span data-ttu-id="eb438-208">1024</span><span class="sxs-lookup"><span data-stu-id="eb438-208">1024</span></span> |<span data-ttu-id="eb438-209">Hello 複寫器的最大記錄大小可能會撰寫 hello 記錄檔中。</span><span class="sxs-lookup"><span data-stu-id="eb438-209">Largest record size that hello replicator may write in hello log.</span></span> <span data-ttu-id="eb438-210">此值必須是 4 的倍數且大於 16。</span><span class="sxs-lookup"><span data-stu-id="eb438-210">This value must be a multiple of 4 and greater than 16.</span></span> |
| <span data-ttu-id="eb438-211">OptimizeLogForLowerDiskUsage</span><span class="sxs-lookup"><span data-stu-id="eb438-211">OptimizeLogForLowerDiskUsage</span></span> |<span data-ttu-id="eb438-212">Boolean</span><span class="sxs-lookup"><span data-stu-id="eb438-212">Boolean</span></span> |<span data-ttu-id="eb438-213">true</span><span class="sxs-lookup"><span data-stu-id="eb438-213">true</span></span> |<span data-ttu-id="eb438-214">若為 true，hello 記錄設定，這樣 hello 複本的專用的記錄檔由使用 NTFS 疏鬆檔案。</span><span class="sxs-lookup"><span data-stu-id="eb438-214">When true, hello log is configured so that hello replica's dedicated log file is created by using an NTFS sparse file.</span></span> <span data-ttu-id="eb438-215">這可減少 hello 實際的磁碟空間使用量的 hello 檔案。</span><span class="sxs-lookup"><span data-stu-id="eb438-215">This lowers hello actual disk space usage for hello file.</span></span> <span data-ttu-id="eb438-216">若為 false，會建立 hello 檔案具有固定配置，並提供 hello 最佳的寫入效能。</span><span class="sxs-lookup"><span data-stu-id="eb438-216">When false, hello file is created with fixed allocations, which provide hello best write performance.</span></span> |
| <span data-ttu-id="eb438-217">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="eb438-217">SharedLogId</span></span> |<span data-ttu-id="eb438-218">GUID</span><span class="sxs-lookup"><span data-stu-id="eb438-218">guid</span></span> |<span data-ttu-id="eb438-219">""</span><span class="sxs-lookup"><span data-stu-id="eb438-219">""</span></span> |<span data-ttu-id="eb438-220">指定識別 hello 與這個複本中使用共用的記錄檔的唯一 guid toouse。</span><span class="sxs-lookup"><span data-stu-id="eb438-220">Specifies a unique guid toouse for identifying hello shared log file used with this replica.</span></span> <span data-ttu-id="eb438-221">服務通常不應使用此設定。</span><span class="sxs-lookup"><span data-stu-id="eb438-221">Typically, services should not use this setting.</span></span> <span data-ttu-id="eb438-222">不過，如果有指定 SharedLogId，則也必須指定 SharedLogPath。</span><span class="sxs-lookup"><span data-stu-id="eb438-222">However, if SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="eb438-223">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="eb438-223">SharedLogPath</span></span> |<span data-ttu-id="eb438-224">完整路徑名稱</span><span class="sxs-lookup"><span data-stu-id="eb438-224">Fully qualified path name</span></span> |<span data-ttu-id="eb438-225">""</span><span class="sxs-lookup"><span data-stu-id="eb438-225">""</span></span> |<span data-ttu-id="eb438-226">指定 hello 將在其中建立此複本 hello 共用的記錄檔的完整的路徑。</span><span class="sxs-lookup"><span data-stu-id="eb438-226">Specifies hello fully qualified path where hello shared log file for this replica will be created.</span></span> <span data-ttu-id="eb438-227">服務通常不應使用此設定。</span><span class="sxs-lookup"><span data-stu-id="eb438-227">Typically, services should not use this setting.</span></span> <span data-ttu-id="eb438-228">不過，如果有指定 SharedLogPath，則也必須指定 SharedLogId。</span><span class="sxs-lookup"><span data-stu-id="eb438-228">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="eb438-229">範例組態檔</span><span class="sxs-lookup"><span data-stu-id="eb438-229">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
      <Parameter Name="CheckpointThresholdInMB" Value="180" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```

## <a name="remarks"></a><span data-ttu-id="eb438-230">備註</span><span class="sxs-lookup"><span data-stu-id="eb438-230">Remarks</span></span>
<span data-ttu-id="eb438-231">hello BatchAcknowledgementInterval 參數控制複寫延遲。</span><span class="sxs-lookup"><span data-stu-id="eb438-231">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="eb438-232">值 '0' 會導致 hello 最低可能延遲，輸送量的 hello 成本 （如需收條訊息必須傳送和處理，每個包含較少的通知）。</span><span class="sxs-lookup"><span data-stu-id="eb438-232">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="eb438-233">hello BatchAcknowledgementInterval，hello 值越大 hello 較高的 hello 整體複寫輸送量，在 hello 成本較高的作業延遲。</span><span class="sxs-lookup"><span data-stu-id="eb438-233">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="eb438-234">這會直接轉譯 toohello 延遲的交易認可。</span><span class="sxs-lookup"><span data-stu-id="eb438-234">This directly translates toohello latency of transaction commits.</span></span>

<span data-ttu-id="eb438-235">hello CheckpointThresholdInMB 參數控制項 hello 的磁碟空間量的 hello 複寫器可以在 hello 複本專用的記錄檔中使用 toostore 狀態資訊。</span><span class="sxs-lookup"><span data-stu-id="eb438-235">hello CheckpointThresholdInMB parameter controls hello amount of disk space that hello replicator can use toostore state information in hello replica's dedicated log file.</span></span> <span data-ttu-id="eb438-236">增加 hello 預設可能會導致新的複本加入 toohello 組時更快速的重新組態時間比此 tooa 較高值。</span><span class="sxs-lookup"><span data-stu-id="eb438-236">Increasing this tooa higher value than hello default could result in faster reconfiguration times when a new replica is added toohello set.</span></span> <span data-ttu-id="eb438-237">這是因為 toohello 部分狀態傳輸就會發生因為 toohello 可用性的 hello 記錄檔中的作業的詳細歷程記錄。</span><span class="sxs-lookup"><span data-stu-id="eb438-237">This is due toohello partial state transfer that takes place due toohello availability of more history of operations in hello log.</span></span> <span data-ttu-id="eb438-238">這可能會當機之後增加複本的 hello 復原時間。</span><span class="sxs-lookup"><span data-stu-id="eb438-238">This can potentially increase hello recovery time of a replica after a crash.</span></span>

<span data-ttu-id="eb438-239">如果您設定 OptimizeForLowerDiskUsage tootrue，記錄檔空間會過度佈建，讓作用中複本可以儲存詳細狀態資訊在其記錄檔，而非作用中複本則會使用較少的磁碟空間。</span><span class="sxs-lookup"><span data-stu-id="eb438-239">If you set OptimizeForLowerDiskUsage tootrue, log file space will be over-provisioned so that active replicas can store more state information in their log files, while inactive replicas will use less disk space.</span></span> <span data-ttu-id="eb438-240">這使得可能 toohost 節點上的多個複本。</span><span class="sxs-lookup"><span data-stu-id="eb438-240">This makes it possible toohost more replicas on a node.</span></span> <span data-ttu-id="eb438-241">如果您設定 OptimizeForLowerDiskUsage toofalse，hello 狀態資訊就會更快速地寫入 toohello 記錄檔。</span><span class="sxs-lookup"><span data-stu-id="eb438-241">If you set OptimizeForLowerDiskUsage toofalse, hello state information is written toohello log files more quickly.</span></span>

<span data-ttu-id="eb438-242">hello MaxRecordSizeInKB 設定可定義 hello hello 複寫器可以寫入 hello 記錄檔中記錄的大小上限。</span><span class="sxs-lookup"><span data-stu-id="eb438-242">hello MaxRecordSizeInKB setting defines hello maximum size of a record that can be written by hello replicator into hello log file.</span></span> <span data-ttu-id="eb438-243">在大部分情況下，hello 預設 1024 KB 記錄大小是最佳的。</span><span class="sxs-lookup"><span data-stu-id="eb438-243">In most cases, hello default 1024-KB record size is optimal.</span></span> <span data-ttu-id="eb438-244">不過，如果 hello 服務會造成較大資料的項目 toobe hello 狀態資訊的一部分，則此值可能需要增加 toobe。</span><span class="sxs-lookup"><span data-stu-id="eb438-244">However, if hello service is causing larger data items toobe part of hello state information, then this value might need toobe increased.</span></span> <span data-ttu-id="eb438-245">沒有為較小的記錄使用只會 hello hello 較小的記錄所需的空間微乎其微 MaxRecordSizeInKB 小於 1024年的好處。</span><span class="sxs-lookup"><span data-stu-id="eb438-245">There is little benefit in making MaxRecordSizeInKB smaller than 1024, as smaller records use only hello space needed for hello smaller record.</span></span> <span data-ttu-id="eb438-246">我們預期此值會需要 toobe 只在少數情況下變更。</span><span class="sxs-lookup"><span data-stu-id="eb438-246">We expect that this value would need toobe changed only in rare cases.</span></span>

<span data-ttu-id="eb438-247">hello SharedLogId 和 SharedLogPath 設定為一律使用一起 toomake hello 節點的服務使用個別的共用記錄從 hello 共用記錄檔。</span><span class="sxs-lookup"><span data-stu-id="eb438-247">hello SharedLogId and SharedLogPath settings are always used together toomake a service use a separate shared log from hello default shared log for hello node.</span></span> <span data-ttu-id="eb438-248">為了最佳的效率，請儘可能與許多服務應該指定 hello 共用相同記錄檔。</span><span class="sxs-lookup"><span data-stu-id="eb438-248">For best efficiency, as many services as possible should specify hello same shared log.</span></span> <span data-ttu-id="eb438-249">共用的記錄檔應該放 hello 的共用記錄檔，而 tooreduce 頭移動量比較競爭只適用於在磁碟上。</span><span class="sxs-lookup"><span data-stu-id="eb438-249">Shared log files should be placed on disks that are used solely for hello shared log file, tooreduce head movement contention.</span></span> <span data-ttu-id="eb438-250">我們預期會需要 toobe 只在少數情況下變更這些值。</span><span class="sxs-lookup"><span data-stu-id="eb438-250">We expect that these values would need toobe changed only in rare cases.</span></span>

