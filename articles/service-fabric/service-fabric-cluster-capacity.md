---
title: "aaaPlanning hello Service Fabric 叢集容量 |Microsoft 文件"
description: "Service Fabric 叢集容量規劃考量。 Nodetypes、持久性和可靠性層級"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 83272ce7fefe698eef755cf66493c2874cc3b120
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="3536c-104">Service Fabric 叢集容量規劃考量</span><span class="sxs-lookup"><span data-stu-id="3536c-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="3536c-105">對於任何生產部署而言，容量規劃都是一個很重要的步驟。</span><span class="sxs-lookup"><span data-stu-id="3536c-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="3536c-106">以下是一些您在該程序的一部分有 tooconsider hello 項目。</span><span class="sxs-lookup"><span data-stu-id="3536c-106">Here are some of hello items that you have tooconsider as a part of that process.</span></span>

* <span data-ttu-id="3536c-107">hello 數目節點類型出與您叢集的需求 toostart</span><span class="sxs-lookup"><span data-stu-id="3536c-107">hello number of node types your cluster needs toostart out with</span></span>
* <span data-ttu-id="3536c-108">每個節點型別 （大小、 主要伺服器上，網際網路對向 Vm 等） 的 hello 內容</span><span class="sxs-lookup"><span data-stu-id="3536c-108">hello properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="3536c-109">hello 可靠性和持久性 hello 叢集特性</span><span class="sxs-lookup"><span data-stu-id="3536c-109">hello reliability and durability characteristics of hello cluster</span></span>

<span data-ttu-id="3536c-110">讓我們簡短地檢閱各個項目。</span><span class="sxs-lookup"><span data-stu-id="3536c-110">Let us briefly review each of these items.</span></span>

## <a name="hello-number-of-node-types-your-cluster-needs-toostart-out-with"></a><span data-ttu-id="3536c-111">hello 數目節點類型出與您叢集的需求 toostart</span><span class="sxs-lookup"><span data-stu-id="3536c-111">hello number of node types your cluster needs toostart out with</span></span>
<span data-ttu-id="3536c-112">首先，您需要出您要建立何種 hello 叢集即將用於 toobe 和規劃的應用程式種類 toofigure toodeploy 到此叢集中。</span><span class="sxs-lookup"><span data-stu-id="3536c-112">First, you need toofigure out what hello cluster you are creating is going toobe used for and what kinds of applications you are planning toodeploy into this cluster.</span></span> <span data-ttu-id="3536c-113">如果您不是 hello 目的 hello 叢集上的 清除，您最有可能尚未就緒 tooenter hello 容量規劃程序。</span><span class="sxs-lookup"><span data-stu-id="3536c-113">If you are not clear on hello purpose of hello cluster, you are most likely not yet ready tooenter hello capacity planning process.</span></span>

<span data-ttu-id="3536c-114">建立您的叢集需要與 out toostart 的節點類型的 hello 數目。</span><span class="sxs-lookup"><span data-stu-id="3536c-114">Establish hello number of node types your cluster needs toostart out with.</span></span>  <span data-ttu-id="3536c-115">每個節點類型會對應的 tooa 虛擬機器擴展集。</span><span class="sxs-lookup"><span data-stu-id="3536c-115">Each node type is mapped tooa Virtual Machine Scale Set.</span></span> <span data-ttu-id="3536c-116">然後每個節點類型可以獨立相應增加或相應減少，可以開啟不同組的連接埠，並可以有不同的容量度量。</span><span class="sxs-lookup"><span data-stu-id="3536c-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="3536c-117">因此 hello 決策 hello 數種節點類型的基本上這時候您就要 toohello 下列考量：</span><span class="sxs-lookup"><span data-stu-id="3536c-117">So hello decision of hello number of node types essentially comes down toohello following considerations:</span></span>

* <span data-ttu-id="3536c-118">您的應用程式是否有多個服務，而且其中任何需要 toobe 公用或網際網路？</span><span class="sxs-lookup"><span data-stu-id="3536c-118">Does your application have multiple services, and do any of them need toobe public or internet facing?</span></span> <span data-ttu-id="3536c-119">應用程式通常會包含從用戶端，接收輸入前端的閘道服務與一或多個後端服務通訊的 hello 前端服務。</span><span class="sxs-lookup"><span data-stu-id="3536c-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with hello front-end services.</span></span> <span data-ttu-id="3536c-120">因此，在此情況下，您最終會有至少兩個節點類型。</span><span class="sxs-lookup"><span data-stu-id="3536c-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="3536c-121">您 (構成應用程式) 的服務是否有不同的基礎結構需求，例如，更多的 RAM 或更高的 CPU 週期？</span><span class="sxs-lookup"><span data-stu-id="3536c-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="3536c-122">例如，讓我們假設您想 toodeploy 包含前端服務和後端服務的 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3536c-122">For example, let us assume that hello application that you want toodeploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="3536c-123">hello 前端服務可以執行具有開啟 toohello 連接埠的較小 Vm （例如 D2 的 VM 大小） 上網際網路。</span><span class="sxs-lookup"><span data-stu-id="3536c-123">hello front-end service can run on smaller VMs (VM sizes like D2) that have ports open toohello internet.</span></span>  <span data-ttu-id="3536c-124">hello 後端服務，不過，較大的 Vm (例如 D4，D6，D15 VM 大小） 不是網際網路上的計算需要大量和需求 toorun 遇到。</span><span class="sxs-lookup"><span data-stu-id="3536c-124">hello back-end service, however, is computation intensive and needs toorun on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="3536c-125">在此範例中，雖然您可以決定 tooput 所有 hello 一個節點類型上的服務，我們建議您將它們在叢集中有兩種節點類型。</span><span class="sxs-lookup"><span data-stu-id="3536c-125">In this example, although you can decide tooput all hello services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="3536c-126">這可讓每個節點型別 toohave 相異屬性，例如網際網路連線或 VM 大小。</span><span class="sxs-lookup"><span data-stu-id="3536c-126">This allows for each node type toohave distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="3536c-127">獨立，也可以調整 Vm 的 hello 數目。</span><span class="sxs-lookup"><span data-stu-id="3536c-127">hello number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="3536c-128">因為您無法預測未來 hello，請與您知道的事項，並決定節點型別，應用程式需要與 toostart 的 hello 數目。</span><span class="sxs-lookup"><span data-stu-id="3536c-128">Since you cannot predict hello future, go with facts you know of and decide on hello number of node types that your applications need toostart with.</span></span> <span data-ttu-id="3536c-129">您之後都可以新增或移除節點類型。</span><span class="sxs-lookup"><span data-stu-id="3536c-129">You can always add or remove node types later.</span></span> <span data-ttu-id="3536c-130">Service Fabric 叢集必須至少有一個節點類型。</span><span class="sxs-lookup"><span data-stu-id="3536c-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="hello-properties-of-each-node-type"></a><span data-ttu-id="3536c-131">類型的每個節點的 hello 屬性</span><span class="sxs-lookup"><span data-stu-id="3536c-131">hello properties of each node type</span></span>
<span data-ttu-id="3536c-132">hello**節點型別**可視為相等 tooroles 雲端服務中。</span><span class="sxs-lookup"><span data-stu-id="3536c-132">hello **node type** can be seen as equivalent tooroles in Cloud Services.</span></span> <span data-ttu-id="3536c-133">節點型別定義 hello VM 大小、 hello 的 Vm，以及它們的屬性。</span><span class="sxs-lookup"><span data-stu-id="3536c-133">Node types define hello VM sizes, hello number of VMs, and their properties.</span></span> <span data-ttu-id="3536c-134">在 Service Fabric 叢集中定義的每個節點類型都會安裝為不同的虛擬機器擴展集。</span><span class="sxs-lookup"><span data-stu-id="3536c-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="3536c-135">虛擬機器規模集是 Azure 計算資源，您可以使用 toodeploy 和管理的虛擬機器作為一組的集合。</span><span class="sxs-lookup"><span data-stu-id="3536c-135">Virtual machine scale set is an Azure compute resource you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="3536c-136">如果定義為不同的虛擬機器擴展集，則每個節點類型都可以獨立相應增加或相應減少、可以開放不同組的連接埠，而且可以有不同的容量度量。</span><span class="sxs-lookup"><span data-stu-id="3536c-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="3536c-137">讀取[這份文件](service-fabric-cluster-nodetypes.md)Nodetypes toovirtual 機器規模集的 hello 關聯性的詳細資料，如何 tooRDP 合而為一的 hello 執行個體，開啟新連接埠等。</span><span class="sxs-lookup"><span data-stu-id="3536c-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on hello relationship of Nodetypes toovirtual machine scale set, how tooRDP into one of hello instances, open new ports etc.</span></span>

<span data-ttu-id="3536c-138">您的叢集可以有一個以上的節點類型，但 hello 主要節點類型 (hello hello 入口網站上定義的第一個) 必須至少五個叢集用於實際執行工作負載的 Vm （或至少三個測試叢集的 Vm）。</span><span class="sxs-lookup"><span data-stu-id="3536c-138">Your cluster can have more than one node type, but hello primary node type (hello first one that you define on hello portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="3536c-139">如果您要建立 hello 叢集使用的資源管理員範本，然後尋找**是主要**下 hello 節點型別定義的屬性。</span><span class="sxs-lookup"><span data-stu-id="3536c-139">If you are creating hello cluster using a Resource Manager template, then look for **is Primary** attribute under hello node type definition.</span></span> <span data-ttu-id="3536c-140">hello 主要節點類型為 hello 節點型別放置 Service Fabric 系統服務。</span><span class="sxs-lookup"><span data-stu-id="3536c-140">hello primary node type is hello node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="3536c-141">主要節點類型</span><span class="sxs-lookup"><span data-stu-id="3536c-141">Primary node type</span></span>
<span data-ttu-id="3536c-142">針對多個節點類型的叢集，您需要其中一個 toochoose toobe 主要。</span><span class="sxs-lookup"><span data-stu-id="3536c-142">For a cluster with multiple node types, you need toochoose one of them toobe primary.</span></span> <span data-ttu-id="3536c-143">以下是 hello 的主要節點類型的特性：</span><span class="sxs-lookup"><span data-stu-id="3536c-143">Here are hello characteristics of a primary node type:</span></span>

* <span data-ttu-id="3536c-144">hello **Vm 的大小下限**hello 主要節點類型會判定 hello**持久性層**您選擇。</span><span class="sxs-lookup"><span data-stu-id="3536c-144">hello **minimum size of VMs** for hello primary node type is determined by hello **durability tier** you choose.</span></span> <span data-ttu-id="3536c-145">hello 持久性層的 hello 預設值是青銅卡。</span><span class="sxs-lookup"><span data-stu-id="3536c-145">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="3536c-146">如需詳細資訊是何種 hello 持久性層，以及 hello 的值可能需要向下捲動。</span><span class="sxs-lookup"><span data-stu-id="3536c-146">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="3536c-147">hello **Vm 的最小數目**hello 主要節點類型會判定 hello**可靠性層**您選擇。</span><span class="sxs-lookup"><span data-stu-id="3536c-147">hello **minimum number of VMs** for hello primary node type is determined by hello **reliability tier** you choose.</span></span> <span data-ttu-id="3536c-148">hello 可靠性層的 hello 預設值為銀級。</span><span class="sxs-lookup"><span data-stu-id="3536c-148">hello default for hello reliability tier is Silver.</span></span> <span data-ttu-id="3536c-149">如需詳細資訊是何種 hello 可靠性層，以及 hello 的值可能需要向下捲動。</span><span class="sxs-lookup"><span data-stu-id="3536c-149">Scroll down for details on what hello reliability tier is and hello values it can take.</span></span> 


* <span data-ttu-id="3536c-150">hello Service Fabric 系統服務 （例如，hello 叢集管理員服務或映像存放區服務） 會放在 hello 主要節點類型，因此 hello 可靠性和持久性的 hello 叢集由 hello 可靠性層的值與持久性層您選取 hello 主要節點類型的值。</span><span class="sxs-lookup"><span data-stu-id="3536c-150">hello Service Fabric system services (for example, hello Cluster Manager service or Image Store service) are placed on hello primary node type and so hello reliability and durability of hello cluster is determined by hello reliability tier value and durability tier value you select for hello primary node type.</span></span>

![<span data-ttu-id="3536c-151">有兩個節點類型的叢集螢幕擷取畫面</span><span class="sxs-lookup"><span data-stu-id="3536c-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="3536c-152">非主要節點類型</span><span class="sxs-lookup"><span data-stu-id="3536c-152">Non-primary node type</span></span>
<span data-ttu-id="3536c-153">針對多個節點類型的叢集，一個主要節點類型，而 hello 其餘的非主要。</span><span class="sxs-lookup"><span data-stu-id="3536c-153">For a cluster with multiple node types, there is one primary node type and hello rest of them are non-primary.</span></span> <span data-ttu-id="3536c-154">以下是 hello 特性的非主要節點類型：</span><span class="sxs-lookup"><span data-stu-id="3536c-154">Here are hello characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="3536c-155">hello 最小的 Vm 給這個節點類型取決於您選擇的 hello 持久性層。</span><span class="sxs-lookup"><span data-stu-id="3536c-155">hello minimum size of VMs for this node type is determined by hello durability tier you choose.</span></span> <span data-ttu-id="3536c-156">hello 持久性層的 hello 預設值是青銅卡。</span><span class="sxs-lookup"><span data-stu-id="3536c-156">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="3536c-157">如需詳細資訊是何種 hello 持久性層，以及 hello 的值可能需要向下捲動。</span><span class="sxs-lookup"><span data-stu-id="3536c-157">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="3536c-158">hello 最小的 Vm 數目給這個節點類型可以是下列其中一個。</span><span class="sxs-lookup"><span data-stu-id="3536c-158">hello minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="3536c-159">不過，您應該選擇這個數字，根據 hello hello 應用程式/服務希望 toorun 中這個節點類型的複本數目。</span><span class="sxs-lookup"><span data-stu-id="3536c-159">However you should choose this number based on hello number of replicas of hello application/services that you would like toorun in this node type.</span></span> <span data-ttu-id="3536c-160">部署 hello 叢集之後，可以增加節點型別中的 Vm hello 數目。</span><span class="sxs-lookup"><span data-stu-id="3536c-160">hello number of VMs in a node type can be increased after you have deployed hello cluster.</span></span>

## <a name="hello-durability-characteristics-of-hello-cluster"></a><span data-ttu-id="3536c-161">hello 持久性 hello 叢集特性</span><span class="sxs-lookup"><span data-stu-id="3536c-161">hello durability characteristics of hello cluster</span></span>
<span data-ttu-id="3536c-162">hello 持久性層是使用的 tooindicate toohello 系統 hello Vm 具有的權限與 hello 基本 Azure 基礎結構。</span><span class="sxs-lookup"><span data-stu-id="3536c-162">hello durability tier is used tooindicate toohello system hello privileges that your VMs have with hello underlying Azure infrastructure.</span></span> <span data-ttu-id="3536c-163">在 hello 主要節點類型這個權限會讓 Service Fabric toopause hello 系統服務和可設定狀態服務的 hello 仲裁需求會影響任何 VM 層級的基礎結構要求 （例如 VM 重新開機，VM 重新安裝映像或移轉 VM）。</span><span class="sxs-lookup"><span data-stu-id="3536c-163">In hello primary node type, this privilege allows Service Fabric toopause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact hello quorum requirements for hello system services and your stateful services.</span></span> <span data-ttu-id="3536c-164">在 hello 非主要節點類型中，此權限可讓您可設定狀態的服務執行中的 hello 仲裁需求會影響任何 VM 層級的基礎結構要求像 VM 重新開機、 VM 重新安裝映像、 移轉 VM 等，Service Fabric toopause。</span><span class="sxs-lookup"><span data-stu-id="3536c-164">In hello non-primary node types, this privilege allows Service Fabric toopause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact hello quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="3536c-165">此權限是在 hello 下列值來表示：</span><span class="sxs-lookup"><span data-stu-id="3536c-165">This privilege is expressed in hello following values:</span></span>

* <span data-ttu-id="3536c-166">金級-hello UD 每兩小時期間可以暫停工作的基礎結構。</span><span class="sxs-lookup"><span data-stu-id="3536c-166">Gold - hello infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="3536c-167">Gold 持久性只能在完整節點 VM SKU (例如 D15_V2、G5 等) 上啟用。</span><span class="sxs-lookup"><span data-stu-id="3536c-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="3536c-168">銀級-hello 基礎結構工作可暫停一段 UD 每 10 分鐘，可在單一核心的和更新版本的所有標準 Vm 上。</span><span class="sxs-lookup"><span data-stu-id="3536c-168">Silver - hello infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="3536c-169">Bronze - 無權限。</span><span class="sxs-lookup"><span data-stu-id="3536c-169">Bronze - No privileges.</span></span> <span data-ttu-id="3536c-170">這是 hello 預設值。</span><span class="sxs-lookup"><span data-stu-id="3536c-170">This is hello default.</span></span> <span data-ttu-id="3536c-171">針對_僅_執行無狀態工作負載的節點類型，只能使用這個持久性等級。</span><span class="sxs-lookup"><span data-stu-id="3536c-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="3536c-172">執行 Bronze 持久性的節點類型_沒有權限_。</span><span class="sxs-lookup"><span data-stu-id="3536c-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="3536c-173">這表示不會停止或延遲對您的無狀態工作負載造成影響的基礎結構作業。</span><span class="sxs-lookup"><span data-stu-id="3536c-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="3536c-174">這類作業很可能仍會影響您的工作負載，導致停機時間或其他問題。</span><span class="sxs-lookup"><span data-stu-id="3536c-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="3536c-175">對於任何種類的生產工作負載，建議至少以 Silver 執行。</span><span class="sxs-lookup"><span data-stu-id="3536c-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="3536c-176">您可以取得 toochoose 持久性層級的每個節點類型。您可以選擇一個節點型別 toohave 金級持久性層級或銀級和其他 hello hello 中都有青銅卡相同的叢集。**必須維護 durability 金級 」 或 「 銀級的任何節點類型 5 個節點的最小計數**。</span><span class="sxs-lookup"><span data-stu-id="3536c-176">You get toochoose durability level for each of your node-types.You can choose one node-type toohave a durability level of Gold or silver and hello other have Bronze in hello same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="3536c-177">**使用 Silver 或 Gold 持久性層級的優點**</span><span class="sxs-lookup"><span data-stu-id="3536c-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="3536c-178">會減少所需的步驟，在標尺在作業中的 hello 數目 （亦即，節點停用和移除 ServiceFabricNodeState 會自動呼叫）</span><span class="sxs-lookup"><span data-stu-id="3536c-178">Reduces hello number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="3536c-179">可降低 hello 到期 tooa 客戶起始就地 VM SKU 變更作業或 Azure 基礎結構作業的資料遺失風險。</span><span class="sxs-lookup"><span data-stu-id="3536c-179">Reduces hello risk of data loss due tooa customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="3536c-180">**使用 Silver 或 Gold 持久性層級的缺點**</span><span class="sxs-lookup"><span data-stu-id="3536c-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="3536c-181">虛擬機器擴展集的部署 tooyour 和其他相關的 Azure 資源） 可能會因為延遲、 可以逾時，或完全由您的叢集或 hello 基礎結構層級的問題，可能會封鎖。</span><span class="sxs-lookup"><span data-stu-id="3536c-181">Deployments tooyour Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at hello infrastructure level.</span></span> 
2. <span data-ttu-id="3536c-182">增加 hello 數目[複本生命週期事件](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle )（例如，主要交換） 因為 tooautomated 節點和停用 Azure 基礎結構作業期間。</span><span class="sxs-lookup"><span data-stu-id="3536c-182">Increases hello number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due tooautomated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-toouse-silver-or-gold-durability-levels"></a><span data-ttu-id="3536c-183">建議何時 toouse 銀級或金級持久性層級</span><span class="sxs-lookup"><span data-stu-id="3536c-183">Recommendations on when toouse Silver or Gold durability levels</span></span>

<span data-ttu-id="3536c-184">使用銀級或金級持久性的所有節點都類型都會該主機可設定狀態服務預期 tooscale 中 （降低 VM 執行個體計數） 通常，您希望部署作業會因為延遲，以利於簡化這些小數位數的作業。</span><span class="sxs-lookup"><span data-stu-id="3536c-184">Use Silver or Gold durability for all node types that host stateful services you expect tooscale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="3536c-185">（將 Vm 執行個體） 的 hello 向外延展案例不會播放到您所選擇的 hello 持久性層，唯一的小數位數中。</span><span class="sxs-lookup"><span data-stu-id="3536c-185">hello scale-out scenarios (adding VMs instances) do not play into your choice of hello durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-hello-node-type-that-you-have-set-toosilver-or-gold-durability-level"></a><span data-ttu-id="3536c-186">操作建議 hello 節點輸入您已設定 toosilver 或金級持久性層級。</span><span class="sxs-lookup"><span data-stu-id="3536c-186">Operational Recommendations for hello node type that you have set toosilver or gold durability level.</span></span>

1. <span data-ttu-id="3536c-187">讓叢集和應用程式狀況良好在任何時候，並確定應用程式回應 tooall[服務複本生命週期事件](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle)（例如在組建中的複本是否陷入停滯） 能夠及時。</span><span class="sxs-lookup"><span data-stu-id="3536c-187">Keep your cluster and applications healthy at all times, and make sure that applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="3536c-188">採用更安全方式 toomake VM SKU 變更 （小數位數向上/向下）： 變更的 hello 的虛擬機器擴展集 VM SKU 原本就不安全的作業，因此應該儘可能避免。</span><span class="sxs-lookup"><span data-stu-id="3536c-188">Adopt safer ways toomake a VM SKU change (Scale up/down): Changing hello VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="3536c-189">以下是您可以依照 tooavoid 常見問題的 hello 程序。</span><span class="sxs-lookup"><span data-stu-id="3536c-189">Here is hello process you can follow tooavoid common issues.</span></span>
    - <span data-ttu-id="3536c-190">**針對非主要 nodetypes:**建議您建立新虛擬機器擴展集、 修改 hello 服務位置限制式 tooinclude hello 新虛擬機器擴展集/節點類型及接著減少 hello 舊虛擬機器擴展集（這是確定移除 hello 節點不會影響 hello 叢集的 hello 可靠性 toomake） 一次一個節點執行個體計數 too0。</span><span class="sxs-lookup"><span data-stu-id="3536c-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify hello service placement constraint tooinclude hello new Virtual Machine Scale Set/node type and then reduce hello old Virtual Machine Scale Set instance count too0, one node at a time (this is toomake sure that removal of hello nodes do not impact hello reliability of hello cluster).</span></span>
    - <span data-ttu-id="3536c-191">**如 hello 主要 nodetype:**我們建議您不要變更 VM SKU 的 hello 主要節點類型。</span><span class="sxs-lookup"><span data-stu-id="3536c-191">**For hello primary nodetype:** Our recommendation is that you do not change VM SKU of hello primary node type.</span></span> <span data-ttu-id="3536c-192">如果 hello 原因為 hello 新 SKU 容量，我們建議將加入多個執行個體，或可能的話，請建立新的叢集。</span><span class="sxs-lookup"><span data-stu-id="3536c-192">If hello reason for hello new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="3536c-193">如果您沒有任何選擇，請修改 toohello 虛擬機器擴充集模型定義 tooreflect hello 新 SKU。</span><span class="sxs-lookup"><span data-stu-id="3536c-193">If you have no choice, then make modifications toohello Virtual Machine Scale Set Model definition tooreflect hello new SKU.</span></span> <span data-ttu-id="3536c-194">如果您的叢集有只有一個節點類型，請確認所有可設定狀態之應用程式回應 tooall[服務複本生命週期事件](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle)（例如在組建中的複本是否陷入停滯） 能夠及時以及服務複本重建持續時間是五分鐘內 （適用於銀級持久性層級）。</span><span class="sxs-lookup"><span data-stu-id="3536c-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="3536c-195">不建議變更 hello VM 未執行至少銀級耐久性的 VM 規模集 SKU 大小。</span><span class="sxs-lookup"><span data-stu-id="3536c-195">Changing hello VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="3536c-196">變更 VM SKU 大小是資料破壞性就地基礎結構作業。</span><span class="sxs-lookup"><span data-stu-id="3536c-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="3536c-197">沒有至少部分能力 toodelay 或監視這項變更，就可能 hello 作業可能會導致 dataloss 可設定狀態的服務，或導致其他未預期操作問題，甚至針對無狀態工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-197">Without at least some ability toodelay or monitor this change, it is possible that hello operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="3536c-198">針對所有啟用 MR 的虛擬機器擴展集維持至少五個節點</span><span class="sxs-lookup"><span data-stu-id="3536c-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="3536c-199">請勿隨機刪除 VM 執行個體，而一律使用虛擬機器擴展集的相應減少功能。</span><span class="sxs-lookup"><span data-stu-id="3536c-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="3536c-200">hello 刪除隨機 VM 執行個體都有可能會在分佈於 UD 和 FD hello VM 執行個體中建立失衡。</span><span class="sxs-lookup"><span data-stu-id="3536c-200">hello deletion of random VM instances has a potential of creating imbalances in hello VM instance spread across UD and FD.</span></span> <span data-ttu-id="3536c-201">此不平衡嚴重地影響 hello 系統能力 tooproperly 負載平衡堆 hello 服務/服務執行個體的複本。</span><span class="sxs-lookup"><span data-stu-id="3536c-201">This imbalance could adversely affect hello systems ability tooproperly load balance amongst hello service instances/Service replicas.</span></span>
6. <span data-ttu-id="3536c-202">如果使用自動調整規模，然後設定 hello 規則 （移除的 VM 執行個體） 中的小數位數由一次只有一個節點。</span><span class="sxs-lookup"><span data-stu-id="3536c-202">If using Autoscale, then set hello rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="3536c-203">一次相應減少超過一個執行個體並不安全。</span><span class="sxs-lookup"><span data-stu-id="3536c-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="3536c-204">如果向下主要節點類型的擴充，您應該永遠不會它向下調整超過哪些 hello 可靠性層允許。</span><span class="sxs-lookup"><span data-stu-id="3536c-204">If Scaling down a primary node type, you should never scale it down more than what hello reliability tier allows.</span></span>


## <a name="hello-reliability-characteristics-of-hello-cluster"></a><span data-ttu-id="3536c-205">hello 可靠性 hello 叢集特性</span><span class="sxs-lookup"><span data-stu-id="3536c-205">hello reliability characteristics of hello cluster</span></span>
<span data-ttu-id="3536c-206">hello 可靠性層會使用 tooset hello 數目 hello 系統服務，您想 toorun hello 主要節點類型這個叢集中的複本。</span><span class="sxs-lookup"><span data-stu-id="3536c-206">hello reliability tier is used tooset hello number of replicas of hello system services that you want toorun in this cluster on hello primary node type.</span></span> <span data-ttu-id="3536c-207">hello 複本的多個 hello 數目、 hello 更可靠的 hello 系統服務會在您的叢集。</span><span class="sxs-lookup"><span data-stu-id="3536c-207">hello more hello number of replicas, hello more reliable hello system services are in your cluster.</span></span>  

<span data-ttu-id="3536c-208">hello 可靠性層可以採用下列值的 hello:</span><span class="sxs-lookup"><span data-stu-id="3536c-208">hello reliability tier can take hello following values:</span></span>

* <span data-ttu-id="3536c-209">白金級-9 的目標複本集計數執行 hello 系統服務</span><span class="sxs-lookup"><span data-stu-id="3536c-209">Platinum - Run hello System services with a target replica set count of 9</span></span>
* <span data-ttu-id="3536c-210">金級-執行 hello 系統服務與目標複本設定為 7 的計數</span><span class="sxs-lookup"><span data-stu-id="3536c-210">Gold - Run hello System services with a target replica set count of 7</span></span>
* <span data-ttu-id="3536c-211">銀級-5 的目標複本集計數執行 hello 系統服務</span><span class="sxs-lookup"><span data-stu-id="3536c-211">Silver - Run hello System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="3536c-212">青銅卡-執行 hello 系統服務 3 的目標複本集計數</span><span class="sxs-lookup"><span data-stu-id="3536c-212">Bronze - Run hello System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="3536c-213">您選擇的 hello 可靠性層會決定 hello 主要節點類型必須有的節點數目下限。</span><span class="sxs-lookup"><span data-stu-id="3536c-213">hello reliability tier you choose determines hello minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-hello-reliability-tier"></a><span data-ttu-id="3536c-214">Hello 可靠性層的建議。</span><span class="sxs-lookup"><span data-stu-id="3536c-214">Recommendations for hello reliability tier.</span></span>

 <span data-ttu-id="3536c-215">當您增加或減少叢集 (所有節點型別中的 VM 執行個體的 hello sum) hello 大小時，您必須更新您的叢集，從某一層 tooanother hello 可靠性。</span><span class="sxs-lookup"><span data-stu-id="3536c-215">When you increase or decrease hello size of your cluster (hello sum of VM instances in all node types), you must update hello reliability of your cluster from one tier tooanother.</span></span> <span data-ttu-id="3536c-216">執行此動作會觸發 hello 叢集升級所需的 toochange hello 系統服務複本集計數。</span><span class="sxs-lookup"><span data-stu-id="3536c-216">Doing this triggers hello cluster upgrades needed toochange hello system services replica set count.</span></span> <span data-ttu-id="3536c-217">等候 hello 升級進度 toocomplete 中進行任何其他變更 toohello 叢集中，例如新增節點之前。</span><span class="sxs-lookup"><span data-stu-id="3536c-217">Wait for hello upgrade in progress toocomplete before making any other changes toohello cluster, like adding nodes.</span></span>  <span data-ttu-id="3536c-218">您可以監視的 hello 升級 Service Fabric 總管或藉由執行 hello 進度[Get ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="3536c-218">You can monitor hello progress of hello upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="3536c-219">以下是選擇 hello 可靠性層 hello 建議。</span><span class="sxs-lookup"><span data-stu-id="3536c-219">Here is hello recommendation on choosing hello reliability tier.</span></span>

| <span data-ttu-id="3536c-220">**叢集大小**</span><span class="sxs-lookup"><span data-stu-id="3536c-220">**Cluster Size**</span></span> | <span data-ttu-id="3536c-221">**可靠性層級**</span><span class="sxs-lookup"><span data-stu-id="3536c-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="3536c-222">1</span><span class="sxs-lookup"><span data-stu-id="3536c-222">1</span></span> |<span data-ttu-id="3536c-223">未指定 hello 可靠性層參數，hello 系統會計算它</span><span class="sxs-lookup"><span data-stu-id="3536c-223">Do not specify hello Reliability Tier parameter, hello system calculates it</span></span> |
| <span data-ttu-id="3536c-224">3</span><span class="sxs-lookup"><span data-stu-id="3536c-224">3</span></span> |<span data-ttu-id="3536c-225">Bronze</span><span class="sxs-lookup"><span data-stu-id="3536c-225">Bronze</span></span> |
| <span data-ttu-id="3536c-226">5 或 6</span><span class="sxs-lookup"><span data-stu-id="3536c-226">5 or 6</span></span>|<span data-ttu-id="3536c-227">Silver</span><span class="sxs-lookup"><span data-stu-id="3536c-227">Silver</span></span> |
| <span data-ttu-id="3536c-228">7 或 8</span><span class="sxs-lookup"><span data-stu-id="3536c-228">7 or 8</span></span> |<span data-ttu-id="3536c-229">Gold</span><span class="sxs-lookup"><span data-stu-id="3536c-229">Gold</span></span> |
| <span data-ttu-id="3536c-230">9 以上</span><span class="sxs-lookup"><span data-stu-id="3536c-230">9 and up</span></span> |<span data-ttu-id="3536c-231">Platinum</span><span class="sxs-lookup"><span data-stu-id="3536c-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="3536c-232">主要節點類型 - 容量指引</span><span class="sxs-lookup"><span data-stu-id="3536c-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="3536c-233">以下是規劃 hello 主要節點類型容量 hello 指引</span><span class="sxs-lookup"><span data-stu-id="3536c-233">Here is hello guidance for planning hello primary node type capacity</span></span>

1. <span data-ttu-id="3536c-234">**VM 執行個體數目 toorun 在 Azure 中的任何生產工作負載：**您必須指定主要節點類型大小下限為 5。</span><span class="sxs-lookup"><span data-stu-id="3536c-234">**Number of VM instances toorun any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="3536c-235">**VM 執行個體數目 toorun 在 Azure 中的測試工作負載**您可以指定最小的主要節點類型大小為 1 或 3。</span><span class="sxs-lookup"><span data-stu-id="3536c-235">**Number of VM instances toorun test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="3536c-236">hello 一個節點的叢集，執行具有特殊的設定，因此，不支援從該叢集移除的標尺。</span><span class="sxs-lookup"><span data-stu-id="3536c-236">hello one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="3536c-237">hello 一個節點的叢集，有沒有可靠性且因此在資源管理員範本中，您必須指定該組態的 tooremove/not （如果未將 hello 組態值不是足夠）。</span><span class="sxs-lookup"><span data-stu-id="3536c-237">hello one node cluster, has no reliability and so in your Resource Manager template, you have tooremove/not specify that configuration (not setting hello configuration value is not enough).</span></span> <span data-ttu-id="3536c-238">如果您設定 hello 一個節點的叢集設定透過入口網站，然後 hello 組態會自動處理。</span><span class="sxs-lookup"><span data-stu-id="3536c-238">If you set up hello one node cluster set up via portal, then hello configuration is automatically taken care of.</span></span> <span data-ttu-id="3536c-239">1 和 3 個節點叢集不支援執行生產工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="3536c-240">**VM SKU:**主要節點類型會是 hello 系統服務執行的位置，讓您選擇，必須採取到帳戶 hello 整體尖峰載入您的 VM SKU hello 規劃 tooplace 到 hello 叢集中。</span><span class="sxs-lookup"><span data-stu-id="3536c-240">**VM SKU:** Primary node type is where hello system services run, so hello VM SKU you choose for it, must take into account hello overall peak load you plan tooplace into hello cluster.</span></span> <span data-ttu-id="3536c-241">以下是什麼我是說這裡將 hello 主要節點類型視為您"Lungs"，它是什麼提供氧氣 tooyour 大腦，比喻 tooillustrate，因此如果 hello 大腦未得到足夠氧氣，您主體遇到問題。</span><span class="sxs-lookup"><span data-stu-id="3536c-241">Here is an analogy tooillustrate what I mean here - Think of hello primary node type as your "Lungs", it is what provides oxygen tooyour brain, and so if hello brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="3536c-242">由於叢集的 hello 容量需求取決於工作負載您計劃 toorun hello 叢集中，我們目前無法提供您與您特定的工作負載的質化指導，不過此處為 hello 廣泛指導 toohelp 快速入門</span><span class="sxs-lookup"><span data-stu-id="3536c-242">Since hello capacity needs of a cluster is determined by workload you plan toorun in hello cluster, we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="3536c-243">生產工作負載</span><span class="sxs-lookup"><span data-stu-id="3536c-243">For production workloads</span></span> 


- <span data-ttu-id="3536c-244">hello 建議 VM SKU 是標準 D3 或標準 D3_V2 或對等項目，並至少加裝 14 GB 的本機 SSD。</span><span class="sxs-lookup"><span data-stu-id="3536c-244">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="3536c-245">標準 D1 或標準 D1_V2 或對等項目，並至少加裝 14 GB 的本機 SSD hello 最小支援使用 VM SKU。</span><span class="sxs-lookup"><span data-stu-id="3536c-245">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="3536c-246">局部核心 VM SKU 不支援生產工作負載，例如標準 A0。</span><span class="sxs-lookup"><span data-stu-id="3536c-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="3536c-247">基於效能理由，標準 A1 SKU 不支援生產工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="3536c-248">非主要節點類型 - 具狀態工作負載的容量指引</span><span class="sxs-lookup"><span data-stu-id="3536c-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="3536c-249">本指南是針對使用 Service fabric 的可設定狀態工作負載[可靠的集合或 reliable Actors](service-fabric-choose-framework.md)您正在執行中 hello 非主要節點類型。</span><span class="sxs-lookup"><span data-stu-id="3536c-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in hello non-primary node type.</span></span>


<span data-ttu-id="3536c-250">**VM 執行個體數目︰**對於具狀態生產工作負載，建議使用目標複本計數至少為 5 來執行工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="3536c-251">這表示在穩定狀態下，最後每個容錯網域和升級網域中會有一個複本 (來自複本集)。</span><span class="sxs-lookup"><span data-stu-id="3536c-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="3536c-252">hello 主要節點類型的 hello 整個可靠性層概念是方式 toospecify 系統服務的設定。</span><span class="sxs-lookup"><span data-stu-id="3536c-252">hello whole reliability tier concept for hello primary node type is a way toospecify this setting for system services.</span></span> <span data-ttu-id="3536c-253">因此 hello 相同考量適用於以及 tooyour 可設定狀態的服務。</span><span class="sxs-lookup"><span data-stu-id="3536c-253">So hello same consideration applies tooyour stateful services as well.</span></span>

<span data-ttu-id="3536c-254">因此對於生產工作負載，hello 最小建議非主要節點類型的大小是 5，如果您在其中執行可設定狀態工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-254">So for production workloads, hello minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="3536c-255">**VM SKU:**這 hello 節點型別其中應用程式服務正在執行，所以 hello VM SKU 您選擇，必須考慮到帳戶 hello 尖峰負載您規劃 tooplace 到每個節點。</span><span class="sxs-lookup"><span data-stu-id="3536c-255">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="3536c-256">hello hello nodetype 的容量需求，取決於工作負載您計劃 toorun hello 叢集中，因此我們目前無法提供您的特定的工作負載，不過以下是您開始的 hello 廣泛指導 toohelp 質化指南</span><span class="sxs-lookup"><span data-stu-id="3536c-256">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="3536c-257">生產工作負載</span><span class="sxs-lookup"><span data-stu-id="3536c-257">For production workloads</span></span> 

- <span data-ttu-id="3536c-258">hello 建議 VM SKU 是標準 D3 或標準 D3_V2 或對等項目，並至少加裝 14 GB 的本機 SSD。</span><span class="sxs-lookup"><span data-stu-id="3536c-258">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="3536c-259">標準 D1 或標準 D1_V2 或對等項目，並至少加裝 14 GB 的本機 SSD hello 最小支援使用 VM SKU。</span><span class="sxs-lookup"><span data-stu-id="3536c-259">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="3536c-260">局部核心 VM SKU 不支援生產工作負載，例如標準 A0。</span><span class="sxs-lookup"><span data-stu-id="3536c-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="3536c-261">基於效能理由，標準 A1 SKU 確定不支援生產工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="3536c-262">非主要節點類型 - 無狀態工作負載的容量指引</span><span class="sxs-lookup"><span data-stu-id="3536c-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="3536c-263">本指南的 hello 非主要節點類型執行的無狀態工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-263">This guidance of stateless Workloads that you are running on hello non-primary nodetype.</span></span>

<span data-ttu-id="3536c-264">**VM 執行個體數目：**是無狀態的實際執行工作負載，hello 最小支援非主要節點類型的大小是 2。</span><span class="sxs-lookup"><span data-stu-id="3536c-264">**Number of VM instances:** For production workloads that are stateless, hello minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="3536c-265">這可讓您 toorun 您兩個無狀態執行個體的應用程式並允許服務 toosurvive hello 喪失 VM 執行個體。</span><span class="sxs-lookup"><span data-stu-id="3536c-265">This allows you toorun you two stateless instances of your application and allowing your service toosurvive hello loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="3536c-266">如果您的叢集服務網狀架構版本早於 5.6 上執行，因為 hello tooa 異常執行階段 （5.6 中修正此問題），而縮小非主要節點類型 tooless 大於 5，導致開啟狀況不良，直到您呼叫的叢集健全狀況[移除 ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) hello 適當的節點名稱。</span><span class="sxs-lookup"><span data-stu-id="3536c-266">If your cluster is running on a service fabric version less than 5.6, due tooa defect in hello runtime (this issue is fixed in 5.6), scaling down a non-primary node type tooless than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with hello appropriate node name.</span></span> <span data-ttu-id="3536c-267">如需詳細資訊，請參閱[放大或縮小執行 Service Fabric 叢集](service-fabric-cluster-scale-up-down.md)</span><span class="sxs-lookup"><span data-stu-id="3536c-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="3536c-268">**VM SKU:**這 hello 節點型別其中應用程式服務正在執行，所以 hello VM SKU 您選擇，必須考慮到帳戶 hello 尖峰負載您規劃 tooplace 到每個節點。</span><span class="sxs-lookup"><span data-stu-id="3536c-268">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="3536c-269">hello hello nodetype 的容量需求，取決於工作負載您計劃 toorun hello 叢集中，因此我們目前無法提供您的特定的工作負載，不過以下是您開始的 hello 廣泛指導 toohelp 質化指南</span><span class="sxs-lookup"><span data-stu-id="3536c-269">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="3536c-270">生產工作負載</span><span class="sxs-lookup"><span data-stu-id="3536c-270">For production workloads</span></span> 


- <span data-ttu-id="3536c-271">hello 建議 VM SKU 是標準 D3 或標準 D3_V2 或同等權限。</span><span class="sxs-lookup"><span data-stu-id="3536c-271">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="3536c-272">hello 最小支援使用 VM SKU 是標準在 D1 或標準 D1_V2 或對等項目。</span><span class="sxs-lookup"><span data-stu-id="3536c-272">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="3536c-273">局部核心 VM SKU 不支援生產工作負載，例如標準 A0。</span><span class="sxs-lookup"><span data-stu-id="3536c-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="3536c-274">基於效能理由，標準 A1 SKU 不支援生產工作負載。</span><span class="sxs-lookup"><span data-stu-id="3536c-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links toohello next logical set of content tookeep hello customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="3536c-275">後續步驟</span><span class="sxs-lookup"><span data-stu-id="3536c-275">Next steps</span></span>
<span data-ttu-id="3536c-276">一旦您完成容量規劃，並設定叢集，請閱讀 hello 下列：</span><span class="sxs-lookup"><span data-stu-id="3536c-276">Once you finish your capacity planning and set up a cluster, read hello following:</span></span>

* [<span data-ttu-id="3536c-277">Service Fabric 叢集安全性</span><span class="sxs-lookup"><span data-stu-id="3536c-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="3536c-278">Service Fabric 健康情況模型簡介</span><span class="sxs-lookup"><span data-stu-id="3536c-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="3536c-279">Nodetypes tooVirtual 機器標尺的關聯性設定</span><span class="sxs-lookup"><span data-stu-id="3536c-279">Relationship of Nodetypes tooVirtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
