---
title: "服務網狀架構的平台層級監視 aaaAzure |Microsoft 文件"
description: "深入了解平台層級的事件和記錄檔使用 toomonitor 和診斷 Azure Service Fabric 叢集。"
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/24/2017
ms.author: dekapur
ms.openlocfilehash: f8fb1c8b546e05c517ae12c91906acc04cd6eaa6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="platform-level-event-and-log-generation"></a><span data-ttu-id="3faea-103">平台層級事件和記錄產生</span><span class="sxs-lookup"><span data-stu-id="3faea-103">Platform level event and log generation</span></span>

## <a name="monitoring-hello-cluster"></a><span data-ttu-id="3faea-104">監視 hello 叢集</span><span class="sxs-lookup"><span data-stu-id="3faea-104">Monitoring hello cluster</span></span>

<span data-ttu-id="3faea-105">它是重要 toomonitor 在 hello 平台層級 toodetermine 不論您的硬體與叢集會如預期般運作。</span><span class="sxs-lookup"><span data-stu-id="3faea-105">It is important toomonitor at hello platform level toodetermine whether or not your hardware and cluster are behaving as expected.</span></span> <span data-ttu-id="3faea-106">雖然 Service Fabric 可以保留在硬體故障期間執行的應用程式，但是您仍然需要 toodiagnose 是否發生錯誤的應用程式中或是 hello 基礎結構。</span><span class="sxs-lookup"><span data-stu-id="3faea-106">Though Service Fabric can keep applications running during a hardware failure, but you still need toodiagnose whether an error is occurring in an application or in hello underlying infrastructure.</span></span> <span data-ttu-id="3faea-107">您也應該監視您的叢集 toobetter 規劃容量，協助中新增或移除硬體相關的決策。</span><span class="sxs-lookup"><span data-stu-id="3faea-107">You also should monitor your clusters toobetter plan for capacity, helping in decisions about adding or removing hardware.</span></span>

<span data-ttu-id="3faea-108">Service Fabric 提供五個不同的記錄通道--蜪鎏產生 hello 下列事件：</span><span class="sxs-lookup"><span data-stu-id="3faea-108">Service Fabric provides five different log channels out-of-the-box that generate hello following events:</span></span>

* <span data-ttu-id="3faea-109">操作通道： 高階 Service Fabric 和 hello 叢集，包括事件節點後面的課程中，新的應用程式部署，所執行的作業或 SF 升級復原等。</span><span class="sxs-lookup"><span data-stu-id="3faea-109">Operational channel: high-level operations performed by Service Fabric and hello cluster, including events for a node coming up, a new application being deployed, or a SF upgrade rollback, etc.</span></span>
* <span data-ttu-id="3faea-110">作業通道 - 詳細：健康情況報告與負載平衡決策</span><span class="sxs-lookup"><span data-stu-id="3faea-110">Operational channel - detailed: health reports and load balancing decisions</span></span>
* <span data-ttu-id="3faea-111">資料和通訊通道： 重要的記錄檔和傳訊 (目前僅 hello ReverseProxy) 以及資料路徑 （可靠的服務模型） 所產生的事件</span><span class="sxs-lookup"><span data-stu-id="3faea-111">Data & Messaging channel: critical logs and events generated in our messaging (currently only hello ReverseProxy) and data path (reliable services models)</span></span>
* <span data-ttu-id="3faea-112">資料 （& s） 傳訊通道-詳細： 詳細資訊，其中包含記錄資料和傳訊 （此通道會有極大量的事件） 的 hello 叢集中所有 hello 非關鍵的通道</span><span class="sxs-lookup"><span data-stu-id="3faea-112">Data & Messaging channel - detailed: verbose channel that contains all hello non-critical logs from data and messaging in hello cluster (this channel has a very high volume of events)</span></span>   
* <span data-ttu-id="3faea-113">[Reliable Services 事件](service-fabric-reliable-services-diagnostics.md)：程式設計模型特定的事件</span><span class="sxs-lookup"><span data-stu-id="3faea-113">[Reliable Services events](service-fabric-reliable-services-diagnostics.md): programming model specific events</span></span>
* <span data-ttu-id="3faea-114">[Reliable Actors 事件](service-fabric-reliable-actors-diagnostics.md)︰程式設計模型特定的事件和效能計數器</span><span class="sxs-lookup"><span data-stu-id="3faea-114">[Reliable Actors events](service-fabric-reliable-actors-diagnostics.md): programming model specific events and performance counters</span></span>
* <span data-ttu-id="3faea-115">支援記錄檔： 產生的 Service Fabric 只 toobe 時提供支援，我們所使用的系統記錄檔</span><span class="sxs-lookup"><span data-stu-id="3faea-115">Support logs: system logs generated by Service Fabric only toobe used by us when providing support</span></span>

<span data-ttu-id="3faea-116">這些不同的通道涵蓋大部分 hello 平台層級記錄所建議。</span><span class="sxs-lookup"><span data-stu-id="3faea-116">These various channels cover most of hello platform level logging that is recommended.</span></span> <span data-ttu-id="3faea-117">tooimprove 平台層級記錄，請考慮投資更佳了解 hello 健全狀況模型並加入自訂的健康情況報告，以及加入自訂**效能計數器**toobuild 即時的了解 hello 的影響您的服務及 hello 叢集上的應用程式。</span><span class="sxs-lookup"><span data-stu-id="3faea-117">tooimprove platform level logging, consider investing in better understanding hello health model and adding custom health reports, and adding custom **Performance Counters** toobuild a real-time understanding of hello impact of your services and applications on hello cluster.</span></span>

### <a name="azure-service-fabric-health-and-load-reporting"></a><span data-ttu-id="3faea-118">Azure Service Fabric 健全狀況和負載報告</span><span class="sxs-lookup"><span data-stu-id="3faea-118">Azure Service Fabric health and load reporting</span></span>

<span data-ttu-id="3faea-119">Service Fabric 有自己的健全狀況模型，詳述於下列文件：</span><span class="sxs-lookup"><span data-stu-id="3faea-119">Service Fabric has its own health model, which is described in detail in these articles:</span></span>
- [<span data-ttu-id="3faea-120">簡介 tooService 網狀架構健全狀況監視</span><span class="sxs-lookup"><span data-stu-id="3faea-120">Introduction tooService Fabric health monitoring</span></span>](service-fabric-health-introduction.md)
- [<span data-ttu-id="3faea-121">回報和檢查服務健全狀況</span><span class="sxs-lookup"><span data-stu-id="3faea-121">Report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)
- [<span data-ttu-id="3faea-122">新增自訂 Service Fabric 健康狀態報告</span><span class="sxs-lookup"><span data-stu-id="3faea-122">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)
- [<span data-ttu-id="3faea-123">檢視 Service Fabric 健康狀態報告</span><span class="sxs-lookup"><span data-stu-id="3faea-123">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

<span data-ttu-id="3faea-124">監視健全狀況是重大 toomultiple 層面服務的運作。</span><span class="sxs-lookup"><span data-stu-id="3faea-124">Health monitoring is critical toomultiple aspects of operating a service.</span></span> <span data-ttu-id="3faea-125">當 Service Fabric 執行具名的應用程式升級時，健全狀況監視尤其重要。</span><span class="sxs-lookup"><span data-stu-id="3faea-125">Health monitoring is especially important when Service Fabric performs a named application upgrade.</span></span> <span data-ttu-id="3faea-126">Hello 服務的每個升級網域會升級，而是使用 tooyour 客戶之後，hello 升級網域必須通過健全狀況檢查，之後再 hello 部署移 toohello 下一個升級網域。</span><span class="sxs-lookup"><span data-stu-id="3faea-126">After each upgrade domain of hello service is upgraded and is available tooyour customers, hello upgrade domain must pass health checks before hello deployment moves toohello next upgrade domain.</span></span> <span data-ttu-id="3faea-127">如果無法達到良好健全狀況狀態，hello 部署會回復，以便 hello 應用程式是在已知的良好狀態。</span><span class="sxs-lookup"><span data-stu-id="3faea-127">If good health status cannot be achieved, hello deployment is rolled back, so that hello application is in a known, good state.</span></span> <span data-ttu-id="3faea-128">雖然 hello 服務復原之前，有些客戶可能會受到影響，但大部分的客戶不會發生問題。</span><span class="sxs-lookup"><span data-stu-id="3faea-128">Although some customers might be affected before hello services are rolled back, most customers won't experience an issue.</span></span> <span data-ttu-id="3faea-129">此外，較快，而不需要動作從人力運算子 toowait 進行解析。</span><span class="sxs-lookup"><span data-stu-id="3faea-129">Also, a resolution occurs relatively quickly, and without having toowait for action from a human operator.</span></span> <span data-ttu-id="3faea-130">hello 併入您的程式碼 hello 更有彈性您的服務是 toodeployment 問題的詳細健全狀況檢查。</span><span class="sxs-lookup"><span data-stu-id="3faea-130">hello more health checks that are incorporated into your code, hello more resilient your service is toodeployment issues.</span></span>

<span data-ttu-id="3faea-131">服務健全狀況的另一個層面會報告從 hello 服務的度量資訊。</span><span class="sxs-lookup"><span data-stu-id="3faea-131">Another aspect of service health is reporting metrics from hello service.</span></span> <span data-ttu-id="3faea-132">度量是在 Service Fabric 中重要的因為它們是使用的 toobalance 資源使用狀況。</span><span class="sxs-lookup"><span data-stu-id="3faea-132">Metrics are important in Service Fabric because they are used toobalance resource usage.</span></span> <span data-ttu-id="3faea-133">計量也可以當做系統健全狀況的指標。</span><span class="sxs-lookup"><span data-stu-id="3faea-133">Metrics also can be an indicator of system health.</span></span> <span data-ttu-id="3faea-134">例如，您的應用程式可能有許多服務，而每個執行個體會報告每秒要求數 (RPS) 計量。</span><span class="sxs-lookup"><span data-stu-id="3faea-134">For example, you might have an application that has many services, and each instance reports a requests per second (RPS) metric.</span></span> <span data-ttu-id="3faea-135">如果一項服務使用比另一個服務更多資源，Service Fabric 移動 hello 叢集的服務執行個體 tootry toomaintain 甚至資源使用率。</span><span class="sxs-lookup"><span data-stu-id="3faea-135">If one service is using more resources than another service, Service Fabric moves service instances around hello cluster, tootry toomaintain even resource utilization.</span></span> <span data-ttu-id="3faea-136">如需資源耗用量運作方式的詳細說明，請參閱[在 Service Fabric 中使用計量管理資源耗用量和負載](service-fabric-cluster-resource-manager-metrics.md)。</span><span class="sxs-lookup"><span data-stu-id="3faea-136">For a more detailed explanation of how resource utilization works, see [Manage resource consumption and load in Service Fabric with metrics](service-fabric-cluster-resource-manager-metrics.md).</span></span>

<span data-ttu-id="3faea-137">計量也可協助您深入探索服務的運作方式。</span><span class="sxs-lookup"><span data-stu-id="3faea-137">Metrics also can help give you insight into how your service is performing.</span></span> <span data-ttu-id="3faea-138">經過一段時間，您可以使用標準 toocheck hello 服務作業內預期的參數。</span><span class="sxs-lookup"><span data-stu-id="3faea-138">Over time, you can use metrics toocheck that hello service is operating within expected parameters.</span></span> <span data-ttu-id="3faea-139">例如，如果趨勢會顯示在上星期一早上 hello 上午 9 點平均 RPS 1000，則您可能設定健康情況報告，提醒您，如果 hello RPS 500 低於或高於 1500。</span><span class="sxs-lookup"><span data-stu-id="3faea-139">For example, if trends show that at 9 AM on Monday morning hello average RPS is 1,000, then you might set up a health report that alerts you if hello RPS is below 500 or above 1,500.</span></span> <span data-ttu-id="3faea-140">所有項目可能是最適合的但是可能值得外觀 toobe 確定客戶擁有絕佳的體驗。</span><span class="sxs-lookup"><span data-stu-id="3faea-140">Everything might be perfectly fine, but it might be worth a look toobe sure that your customers are having a great experience.</span></span> <span data-ttu-id="3faea-141">您的服務可以定義一組度量，可報告基於健全狀況檢查，但不會影響 hello hello 叢集的資源平衡。</span><span class="sxs-lookup"><span data-stu-id="3faea-141">Your service can define a set of metrics that can be reported for health check purposes, but that don't affect hello resource balancing of hello cluster.</span></span> <span data-ttu-id="3faea-142">toodo 如此，組 hello 衡量標準權數 toozero。</span><span class="sxs-lookup"><span data-stu-id="3faea-142">toodo this, set hello metric weight toozero.</span></span> <span data-ttu-id="3faea-143">我們建議您啟動的所有標準的權數各為零，並不增加 hello 加權，直到確定您了解加權 hello 度量資訊會如何影響的叢集資源平衡。</span><span class="sxs-lookup"><span data-stu-id="3faea-143">We recommend that you start all metrics with a weight of zero, and not increase hello weight  until you are sure that you understand how weighting hello metrics affects resource balancing for your cluster.</span></span>

> [!TIP]
> <span data-ttu-id="3faea-144">請勿使用太多的加權計量。</span><span class="sxs-lookup"><span data-stu-id="3faea-144">Don't use too many weighted metrics.</span></span> <span data-ttu-id="3faea-145">可能很難 toounderstand 為什麼服務執行個體正在移動的平衡。</span><span class="sxs-lookup"><span data-stu-id="3faea-145">It can be difficult toounderstand why service instances are being moved around for balancing.</span></span> <span data-ttu-id="3faea-146">少數幾個計量就很夠用！</span><span class="sxs-lookup"><span data-stu-id="3faea-146">A few metrics can go a long way!</span></span>

<span data-ttu-id="3faea-147">任何資訊指出 hello 健全狀況和應用程式的效能是候選項目的度量和健全狀況報表。</span><span class="sxs-lookup"><span data-stu-id="3faea-147">Any information that can indicate hello health and performance of your application is a candidate for metrics and health reports.</span></span> <span data-ttu-id="3faea-148">CPU 效能計數器可以告訴您節點的使用情況，但無法讓您知道某個特定服務是否健康，因為可能有多項服務在單一節點上執行。</span><span class="sxs-lookup"><span data-stu-id="3faea-148">A CPU performance counter can tell you how your node is utilized, but it doesn't tell you whether a particular service is healthy, because multiple services might be running on a single node.</span></span> <span data-ttu-id="3faea-149">但是，度量 RPS，處理的項目等所有要求延遲可以都表示特定服務的 hello 健全狀況。</span><span class="sxs-lookup"><span data-stu-id="3faea-149">But, metrics like RPS, items processed, and request latency all can indicate hello health of a specific service.</span></span>

<span data-ttu-id="3faea-150">使用程式碼類似 toothis 的 tooreport 健康狀態：</span><span class="sxs-lookup"><span data-stu-id="3faea-150">tooreport health, use code similar toothis:</span></span>

  ```csharp
    if (!result.HasValue)
    {
        HealthInformation healthInformation = new HealthInformation("ServiceCode", "StateDictionary", HealthState.Error);
        this.Partition.ReportInstanceHealth(healthInformation);
    }
  ```

<span data-ttu-id="3faea-151">tooreport 度量資訊，請使用程式碼類似 toothis:</span><span class="sxs-lookup"><span data-stu-id="3faea-151">tooreport a metric, use code similar toothis:</span></span>

  ```csharp
    this.Partition.ReportLoad(new List<LoadMetric> { new LoadMetric("MemoryInMb", 1234), new LoadMetric("metric1", 42) });
  ```

### <a name="service-fabric-support-logs"></a><span data-ttu-id="3faea-152">Service Fabric 支援記錄</span><span class="sxs-lookup"><span data-stu-id="3faea-152">Service Fabric support logs</span></span>

<span data-ttu-id="3faea-153">如果 toocontact Microsoft 技術支援說明需要與 Azure Service Fabric 叢集，則幾乎都需要支援記錄檔。</span><span class="sxs-lookup"><span data-stu-id="3faea-153">If you need toocontact Microsoft support for help with your Azure Service Fabric cluster, support logs are almost always required.</span></span> <span data-ttu-id="3faea-154">如果您的叢集裝載於 Azure，建立叢集時會自動設定和收集支援記錄。</span><span class="sxs-lookup"><span data-stu-id="3faea-154">If your cluster is hosted in Azure, support logs are automatically configured and collected as part of creating a cluster.</span></span> <span data-ttu-id="3faea-155">hello 記錄會儲存於專用的儲存體帳戶，在您的叢集資源群組中。</span><span class="sxs-lookup"><span data-stu-id="3faea-155">hello logs are stored in a dedicated storage account in your cluster's resource group.</span></span> <span data-ttu-id="3faea-156">hello 儲存體帳戶沒有固定的名稱，但在 hello 帳戶，您會看到 blob 容器和資料表名稱的開頭使用*網狀架構*。</span><span class="sxs-lookup"><span data-stu-id="3faea-156">hello storage account doesn't have a fixed name, but in hello account, you see blob containers and tables with names that start with *fabric*.</span></span> <span data-ttu-id="3faea-157">如需有關為獨立叢集設定記錄收集的資訊，請參閱[建立和管理獨立 Azure Service Fabric 叢集](service-fabric-cluster-creation-for-windows-server.md)和[獨立 Windows 叢集的組態設定](service-fabric-cluster-manifest.md)。</span><span class="sxs-lookup"><span data-stu-id="3faea-157">For information about setting up log collections for a standalone cluster, see [Create and manage a standalone Azure Service Fabric cluster](service-fabric-cluster-creation-for-windows-server.md) and [Configuration settings for a standalone Windows cluster](service-fabric-cluster-manifest.md).</span></span> <span data-ttu-id="3faea-158">獨立 Service Fabric 執行個體，hello 記錄檔應該傳送 tooa 本機檔案共用。</span><span class="sxs-lookup"><span data-stu-id="3faea-158">For standalone Service Fabric instances, hello logs should be sent tooa local file share.</span></span> <span data-ttu-id="3faea-159">您是**必要**toohave 這些記錄檔中的支援，但是它們不是預期的 toobe 可用 hello Microsoft 客戶支援小組以外的任何人。</span><span class="sxs-lookup"><span data-stu-id="3faea-159">You are **required** toohave these logs for support, but they are not intended toobe usable by anyone outside of hello Microsoft customer support team.</span></span>

## <a name="enabling-diagnostics-for-a-cluster"></a><span data-ttu-id="3faea-160">啟用叢集的診斷</span><span class="sxs-lookup"><span data-stu-id="3faea-160">Enabling Diagnostics for a cluster</span></span>

<span data-ttu-id="3faea-161">中的這些記錄檔的順序 tootake 優點，強烈建議在叢集建立期間已啟用 「 診斷 」。</span><span class="sxs-lookup"><span data-stu-id="3faea-161">In order tootake advantage of these logs, it is highly recommended that during cluster creation, "Diagnostics" is enabled.</span></span> <span data-ttu-id="3faea-162">藉由開啟診斷]、 [hello 叢集部署時，Windows Azure 診斷無法 tooacknowledge hello 操作、 可靠的服務和 Reliable actors 通道，且儲存 hello 資料將會有說明進一步[彙總的事件Azure 診斷](service-fabric-diagnostics-event-aggregation-wad.md)。</span><span class="sxs-lookup"><span data-stu-id="3faea-162">By turning on diagnostics, when hello cluster is deployed, Windows Azure Diagnostics is able tooacknowledge hello Operational, Reliable Services, and Reliable actors channels, and store hello data as explained further in [Aggregate events with Azure Diagnostics](service-fabric-diagnostics-event-aggregation-wad.md).</span></span>

<span data-ttu-id="3faea-163">如以上所示，也會選擇性欄位 tooadd 應用程式 Insights (AI) 的檢測金鑰。</span><span class="sxs-lookup"><span data-stu-id="3faea-163">As seen above, there is also an optional field tooadd an Application Insights (AI) instrumentation key.</span></span> <span data-ttu-id="3faea-164">如果您選擇的任何事件分析 toouse AI (深入了解相關內容位於[Application Insights 事件分析](service-fabric-diagnostics-event-analysis-appinsights.md))，此處包含 hello AppInsights 資源 instrumentationKey (GUID)。</span><span class="sxs-lookup"><span data-stu-id="3faea-164">If you choose toouse AI for any event analysis (read more about this in [Event Analysis with Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), include hello AppInsights resource instrumentationKey (GUID) here.</span></span>


<span data-ttu-id="3faea-165">如果您正在 toodeploy 容器 tooyour 叢集，請加入這個 tooyour"WadCfg > DiagnosticMonitorConfiguration"啟用 WAD toopick 向上 docker 統計資料：</span><span class="sxs-lookup"><span data-stu-id="3faea-165">If you are going toodeploy containers tooyour cluster, enable WAD toopick up docker stats by adding this tooyour "WadCfg > DiagnosticMonitorConfiguration":</span></span>

```json
"DockerSources": {
    "Stats": {
        "enabled": true,
        "sampleRate": "PT1M"
    }
},

```

## <a name="measuring-performance"></a><span data-ttu-id="3faea-166">測量效能</span><span class="sxs-lookup"><span data-stu-id="3faea-166">Measuring performance</span></span>

<span data-ttu-id="3faea-167">叢集的測量效能將協助您了解如何調整您的叢集可以 toohandle 負載和磁碟機決策 (查看更多有關調整叢集[在 Azure 上](service-fabric-cluster-scale-up-down.md)，或[內部](service-fabric-cluster-windows-server-add-remove-nodes.md))。</span><span class="sxs-lookup"><span data-stu-id="3faea-167">Measure performance of your cluster will help you understand how it is able toohandle load and drive decisions around scaling your cluster (see more about scaling a cluster [on Azure](service-fabric-cluster-scale-up-down.md), or [on-premises](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span></span> <span data-ttu-id="3faea-168">效能資料也是很有用時，會比較 tooactions 您或您的應用程式和服務可能已執行，當時分析記錄檔中 hello 未來。</span><span class="sxs-lookup"><span data-stu-id="3faea-168">Performance data is also useful when compared tooactions you or your applications and services may have taken, when analyzing logs in hello future.</span></span> 

<span data-ttu-id="3faea-169">如需使用 Service Fabric 時的效能計數器 toocollect 的清單，請參閱[Service Fabric 中的效能計數器](service-fabric-diagnostics-event-generation-perf.md)</span><span class="sxs-lookup"><span data-stu-id="3faea-169">For a list of performance counters toocollect when using Service Fabric, see [Performance Counters in Service Fabric](service-fabric-diagnostics-event-generation-perf.md)</span></span>

<span data-ttu-id="3faea-170">以下是您可以設定收集叢集效能資料的兩個常用方式：</span><span class="sxs-lookup"><span data-stu-id="3faea-170">Here are two common ways in which you can set up collecting performance data for your cluster:</span></span>

* <span data-ttu-id="3faea-171">使用代理程式： 這是慣用的 hello 方式從電腦收集的效能，因為代理程式通常具有可收集的效能度量的清單，而且它是相當容易的程序 toochoose hello 度量想 toocollect 或加以變更.</span><span class="sxs-lookup"><span data-stu-id="3faea-171">Using an agent: this is hello preferred way of collecting performance from a machine, since agents usually have a list of possible performance metrics that can be collected, and it is a relatively easy process toochoose hello metrics you want toocollect or change them.</span></span> <span data-ttu-id="3faea-172">閱讀有關[tooconfigure 如何適用於 Service Fabric hello OMS](service-fabric-diagnostics-event-analysis-oms.md)和[hello OMS Windows 代理程式設定](../log-analytics/log-analytics-windows-agents.md)文章 toolearn 更多關於 hello OMS 代理程式，也就是一個可以 toopick 已啟動這類監視代理程式叢集 Vm 和已部署的容器的效能資料。</span><span class="sxs-lookup"><span data-stu-id="3faea-172">Read about [how tooconfigure hello OMS for Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) and [Setting up hello OMS Windows Agent](../log-analytics/log-analytics-windows-agents.md) articles toolearn more about hello OMS agent, which is one such monitoring agent that is able toopick up performance data for cluster VMs and deployed containers.</span></span>

* <span data-ttu-id="3faea-173">設定診斷 toowrite 效能計數器 tooa 資料表： 在 Azure 上的叢集，這表示從 hello Vm 在叢集中，變更 hello Azure 診斷組態 toopick 向上 hello 適當的效能計數器，並讓它 toopick 向上如果您將會部署任何容器 docker 統計資料。</span><span class="sxs-lookup"><span data-stu-id="3faea-173">Configuring diagnostics toowrite performance counters tooa table: for clusters on Azure, this means changing hello Azure Diagnostics configuration toopick up hello appropriate performance counters from hello VMs in your cluster, and enabling it toopick up docker stats if you will be deploying any containers.</span></span> <span data-ttu-id="3faea-174">了解設定[中 WAD 效能計數器](service-fabric-diagnostics-event-aggregation-wad.md)Service Fabric tooset 效能計數器集合中。</span><span class="sxs-lookup"><span data-stu-id="3faea-174">Read about configuring [Performance Counters in WAD](service-fabric-diagnostics-event-aggregation-wad.md) in Service Fabric tooset up performance counter collection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3faea-175">後續步驟</span><span class="sxs-lookup"><span data-stu-id="3faea-175">Next steps</span></span>

<span data-ttu-id="3faea-176">將記錄檔和事件需要 toobe 之前它們可以傳送 tooany 分析平台的彙總資料。</span><span class="sxs-lookup"><span data-stu-id="3faea-176">Your logs and events need toobe aggregated before they can be sent tooany analysis platform.</span></span> <span data-ttu-id="3faea-177">閱讀有關[EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md)和[WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter 了解一些 hello 建議的選項。</span><span class="sxs-lookup"><span data-stu-id="3faea-177">Read about [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) and [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter understand some of hello recommended options.</span></span>
