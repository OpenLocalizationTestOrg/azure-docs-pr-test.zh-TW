---
title: "<span data-ttu-id=\"e5a13-101\">Mobile Engagement 匯出 API 概觀</span><span class=\"sxs-lookup\"><span data-stu-id=\"e5a13-101\">Mobile Engagement Export API Overview</span></span>"
description: "<span data-ttu-id=\"e5a13-102\">了解匯出使用者裝置所產生之原始資料，以運用在自己工具中的基本概念。</span><span class=\"sxs-lookup\"><span data-stu-id=\"e5a13-102\">Learn the basics about exporting your raw data generated by your user's devices to leverage it in your own tools</span></span>"
services: mobile-engagement
documentationcenter: mobile
author: kpiteira
manager: erikre
editor: 
ms.assetid: 9380d47b-d7fa-4d4c-888f-97e6482196bb
ms.service: mobile-engagement
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: mobile-multiple
ms.workload: mobile
ms.date: 04/26/2016
ms.author: kapiteir
ms.openlocfilehash: 346e0e480ff84ee849f135a7605d27df9e32f966
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="mobile-engagement-export-api-overview"></a><span data-ttu-id="e5a13-103">Mobile Engagement 匯出 API 概觀</span><span class="sxs-lookup"><span data-stu-id="e5a13-103">Mobile Engagement Export API Overview</span></span>
## <a name="introduction"></a><span data-ttu-id="e5a13-104">簡介</span><span class="sxs-lookup"><span data-stu-id="e5a13-104">Introduction</span></span>
<span data-ttu-id="e5a13-105">在本文件中，您將了解匯出使用者裝置所產生之原始資料，以運用在自己工具中的基本概念。</span><span class="sxs-lookup"><span data-stu-id="e5a13-105">In this document, you will learn the basics about exporting your raw data generated by your user's devices to leverage it in your own tools.</span></span>

## <a name="pre-requisites"></a><span data-ttu-id="e5a13-106">必要條件</span><span class="sxs-lookup"><span data-stu-id="e5a13-106">Pre-requisites</span></span>
<span data-ttu-id="e5a13-107">從 Mobile Engagement 匯出原始資料需要︰</span><span class="sxs-lookup"><span data-stu-id="e5a13-107">Exporting the raw data from Mobile Engagement requires:</span></span>

* <span data-ttu-id="e5a13-108">設定 API 驗證，以便能夠使用 API (請參閱 [驗證手動設定](mobile-engagement-api-authentication-manual.md))、</span><span class="sxs-lookup"><span data-stu-id="e5a13-108">API authentication setup to be able to use the APIs (see [authentication manual setup](mobile-engagement-api-authentication-manual.md)),</span></span>
* <span data-ttu-id="e5a13-109">使用 REST API 或 [.net SDK](mobile-engagement-dotnet-sdk-service-api.md)、</span><span class="sxs-lookup"><span data-stu-id="e5a13-109">Use either the REST APIs or the [.net SDK](mobile-engagement-dotnet-sdk-service-api.md),</span></span>
* <span data-ttu-id="e5a13-110">Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="e5a13-110">An Azure Storage account.</span></span>

> [!NOTE]
> <span data-ttu-id="e5a13-111">我們也建議您使用絕佳的 [Microsoft Azure 儲存體總管](http://storageexplorer.com/)，至少在開發階段使用，因為它提供簡單易用的 UI，可以與 Azure 儲存體互動。</span><span class="sxs-lookup"><span data-stu-id="e5a13-111">We also advise the excellent [Microsoft Azure Storage Explorer](http://storageexplorer.com/), at least during the development phase as it provides an easy to use UI for interacting with Azure Storage.</span></span>
> 
> 

## <a name="what-can-be-exported"></a><span data-ttu-id="e5a13-112">您可以匯出什麼？</span><span class="sxs-lookup"><span data-stu-id="e5a13-112">What can be exported?</span></span>
<span data-ttu-id="e5a13-113">Mobile Engagement 可讓其使用者收集許多類型的資料，因此有幾種類型的匯出適合這些不同的資料類型。</span><span class="sxs-lookup"><span data-stu-id="e5a13-113">Mobile Engagement allows its users to collect many types of data and therefore has several types of export suited to these different data types.</span></span>
<span data-ttu-id="e5a13-114">有 2 種基本類型的匯出︰</span><span class="sxs-lookup"><span data-stu-id="e5a13-114">There are 2 essential types of export:</span></span>

* <span data-ttu-id="e5a13-115">快照集︰通常用來匯出代表狀態且 Mobile Engagement 沒有其歷程記錄的資料。</span><span class="sxs-lookup"><span data-stu-id="e5a13-115">Snapshot: used typically to export data that represents a state and for which Mobile Engagement does not have a history.</span></span> <span data-ttu-id="e5a13-116">比方說，這包括標籤 (應用程式資訊)、權杖或推播宣傳活動的意見反應。</span><span class="sxs-lookup"><span data-stu-id="e5a13-116">This includes Tags (app-info), tokens or push campaign feedbacks for example.</span></span> <span data-ttu-id="e5a13-117">因此，這些類型的匯出與日期無關。</span><span class="sxs-lookup"><span data-stu-id="e5a13-117">As a consequence these types of export are not related to a date.</span></span>
* <span data-ttu-id="e5a13-118">歷程記錄︰此匯出類型用於會隨一段時間累積的資料，例如事件或活動。</span><span class="sxs-lookup"><span data-stu-id="e5a13-118">historical: this export type is used for data that accumulates over time such as Events or Activities for example.</span></span>

<span data-ttu-id="e5a13-119">下表完整地描述所有可能的匯出︰</span><span class="sxs-lookup"><span data-stu-id="e5a13-119">The table below describes exhaustively all the possible exports:</span></span>

| <span data-ttu-id="e5a13-120">匯出類型</span><span class="sxs-lookup"><span data-stu-id="e5a13-120">Export Type</span></span> | <span data-ttu-id="e5a13-121">資料類型</span><span class="sxs-lookup"><span data-stu-id="e5a13-121">Data Type</span></span> | <span data-ttu-id="e5a13-122">說明</span><span class="sxs-lookup"><span data-stu-id="e5a13-122">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e5a13-123">快照</span><span class="sxs-lookup"><span data-stu-id="e5a13-123">Snapshot</span></span> |<span data-ttu-id="e5a13-124">推播</span><span class="sxs-lookup"><span data-stu-id="e5a13-124">Push</span></span> |<span data-ttu-id="e5a13-125">針對每個裝置識別碼/使用者識別碼，產生推播宣傳活動意見反應的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-125">Generates an export of Push Campaigns feedbacks on a per deviceid/userid basis</span></span> |
| <span data-ttu-id="e5a13-126">快照</span><span class="sxs-lookup"><span data-stu-id="e5a13-126">Snapshot</span></span> |<span data-ttu-id="e5a13-127">標記</span><span class="sxs-lookup"><span data-stu-id="e5a13-127">Tag</span></span> |<span data-ttu-id="e5a13-128">產生與每個裝置相關聯的標籤 (應用程式資訊) 的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-128">Generates an export of the tags (app-info) associated to each devices</span></span> |
| <span data-ttu-id="e5a13-129">快照</span><span class="sxs-lookup"><span data-stu-id="e5a13-129">Snapshot</span></span> |<span data-ttu-id="e5a13-130">裝置</span><span class="sxs-lookup"><span data-stu-id="e5a13-130">Device</span></span> |<span data-ttu-id="e5a13-131">產生大部分裝置相關資料的匯出，例如技術資料 (機型、地區設定、時區...)、標籤、第一次看到的時間...</span><span class="sxs-lookup"><span data-stu-id="e5a13-131">Generates an export of most of the data about devices such as the technicals (model, locale, timezone, ...), the tags, first seen time, ...</span></span> |
| <span data-ttu-id="e5a13-132">快照</span><span class="sxs-lookup"><span data-stu-id="e5a13-132">Snapshot</span></span> |<span data-ttu-id="e5a13-133">權杖</span><span class="sxs-lookup"><span data-stu-id="e5a13-133">Token</span></span> |<span data-ttu-id="e5a13-134">產生所有有效權杖的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-134">Generates an export of all the valid tokens</span></span> |
| <span data-ttu-id="e5a13-135">歷程記錄</span><span class="sxs-lookup"><span data-stu-id="e5a13-135">Historical</span></span> |<span data-ttu-id="e5a13-136">活動</span><span class="sxs-lookup"><span data-stu-id="e5a13-136">Activity</span></span> |<span data-ttu-id="e5a13-137">產生在指定的時間內，每個裝置的所有活動的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-137">Generates an export of all the activities for each devices on a given time period</span></span> |
| <span data-ttu-id="e5a13-138">歷程記錄</span><span class="sxs-lookup"><span data-stu-id="e5a13-138">Historical</span></span> |<span data-ttu-id="e5a13-139">Event</span><span class="sxs-lookup"><span data-stu-id="e5a13-139">Event</span></span> |<span data-ttu-id="e5a13-140">產生在指定的時間內，每個裝置的所有活動的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-140">Generates an export of all the activities for each devices on a given time period</span></span> |
| <span data-ttu-id="e5a13-141">歷程記錄</span><span class="sxs-lookup"><span data-stu-id="e5a13-141">Historical</span></span> |<span data-ttu-id="e5a13-142">Job</span><span class="sxs-lookup"><span data-stu-id="e5a13-142">Job</span></span> |<span data-ttu-id="e5a13-143">產生在指定的時間內，每個裝置之所有工作的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-143">Generates an export of all the jobs for each devices on a given time period</span></span> |
| <span data-ttu-id="e5a13-144">歷程記錄</span><span class="sxs-lookup"><span data-stu-id="e5a13-144">Historical</span></span> |<span data-ttu-id="e5a13-145">錯誤</span><span class="sxs-lookup"><span data-stu-id="e5a13-145">Error</span></span> |<span data-ttu-id="e5a13-146">產生在指定的時間內，每個裝置的所有錯誤的匯出</span><span class="sxs-lookup"><span data-stu-id="e5a13-146">Generates an export of all the errors for each devices on a given time period</span></span> |

## <a name="how-does-it-work"></a><span data-ttu-id="e5a13-147">運作方式</span><span class="sxs-lookup"><span data-stu-id="e5a13-147">How does it work?</span></span>
<span data-ttu-id="e5a13-148">匯出是長時間執行的工作，可能會產生大型資料檔案。</span><span class="sxs-lookup"><span data-stu-id="e5a13-148">Exports are long running tasks that may produce large data files.</span></span> <span data-ttu-id="e5a13-149">因此，無法叫用它們來立即傳回要下載的檔案。</span><span class="sxs-lookup"><span data-stu-id="e5a13-149">For that reason, they cannot be invoked to return immediately a file to download.</span></span>
<span data-ttu-id="e5a13-150">若要從 Mobile Engagement 匯出資料，您必須透過 API 建立 **匯出工作** ，在 API 中您一般會指定：</span><span class="sxs-lookup"><span data-stu-id="e5a13-150">In order to export data from Mobile Engagement, you will have to create an **Export Job** via API where you specify generally:</span></span>

* <span data-ttu-id="e5a13-151">匯出的類型 (快照或歷程記錄)、</span><span class="sxs-lookup"><span data-stu-id="e5a13-151">The type of export (snapshot or historical),</span></span>
* <span data-ttu-id="e5a13-152">資料類型、</span><span class="sxs-lookup"><span data-stu-id="e5a13-152">The data type,</span></span>
* <span data-ttu-id="e5a13-153">匯出結果寫入位置所在的 **Azure 儲存體容器** (包括具有寫入存取權的有效 SAS)。</span><span class="sxs-lookup"><span data-stu-id="e5a13-153">The **Azure Storage Container** (including a valid SAS with write access) where the result of the export will be written.</span></span>
* <span data-ttu-id="e5a13-154">例如︰範例容器 URL 參數會是 https://[StorageAccountName].blob.core.windows.net/[ContainerName]?[SASWritePermissionsToken]</span><span class="sxs-lookup"><span data-stu-id="e5a13-154">e.g. Example Container URL parameter would be  https://[StorageAccountName].blob.core.windows.net/[ContainerName]?[SASWritePermissionsToken]</span></span>  

<span data-ttu-id="e5a13-155">以下是真實範例。</span><span class="sxs-lookup"><span data-stu-id="e5a13-155">Here is a real world example.</span></span> <span data-ttu-id="e5a13-156">https://testazmeexport.blob.core.windows.net/test1234azme?sv=2015-12-11&ss=b&srt=sco&sp=rwdlac&se=2016-12-17T04:59:26Z&st=2016-12-16T20:59:26Z&spr=https&sig=KRF3aVWjp2NEJDzjlmoplmu0M9HHlLdkBWRPAFmw90Q%3D</span><span class="sxs-lookup"><span data-stu-id="e5a13-156">https://testazmeexport.blob.core.windows.net/test1234azme?sv=2015-12-11&ss=b&srt=sco&sp=rwdlac&se=2016-12-17T04:59:26Z&st=2016-12-16T20:59:26Z&spr=https&sig=KRF3aVWjp2NEJDzjlmoplmu0M9HHlLdkBWRPAFmw90Q%3D</span></span>

<span data-ttu-id="e5a13-157">請注意，可能需要幾分鐘，您的工作才會啟動，然後若是小型應用程式，它可能會執行幾秒鐘，若是有許多使用者或活動的應用程式則可能執行數小時。</span><span class="sxs-lookup"><span data-stu-id="e5a13-157">Please note that it may take a few minutes for your job to be started, and then it may run from a few seconds for tiny apps to several hours for apps with a lot of users or activity.</span></span>

<span data-ttu-id="e5a13-158">一旦建立工作之後，就可以檢查其狀態，查看它是否仍在執行，或是否已完成。</span><span class="sxs-lookup"><span data-stu-id="e5a13-158">Once the job is created, it is possible to check its status to see if it is still running or if it has completed.</span></span>

<span data-ttu-id="e5a13-159">工作成功之後，產生的資料檔案會在提供的儲存體容器上。</span><span class="sxs-lookup"><span data-stu-id="e5a13-159">Once the job is SUCCEEDED, the resulting data file is available on the provided storage container.</span></span>

