---
title: "Azure RemoteApp 使用 Azure aaaSQL |Microsoft 文件"
description: "深入了解如何 toouse SQL Azure 與 Azure RemoteApp。"
services: remoteapp
documentationcenter: 
author: ericorman
manager: mbaldwin
editor: 
ms.assetid: 35f81d75-bfd7-4980-807e-00339f2cb2a4
ms.service: remoteapp
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: compute
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: fec4cb1f1ab3cde03b6ff613650e01bae3552824
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="sql-azure-with-azure-remoteapp"></a><span data-ttu-id="ca3a4-103">SQL Azure 搭配 Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="ca3a4-103">SQL Azure with Azure RemoteApp</span></span>
> [!IMPORTANT]
> <span data-ttu-id="ca3a4-104">Azure RemoteApp 即將於 2017 年 8 月 31 日停止服務。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-104">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="ca3a4-105">讀取 hello[公告](https://go.microsoft.com/fwlink/?linkid=821148)如需詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-105">Read hello [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="ca3a4-106">當客戶選擇 toohost 其 Windows 應用程式與 Azure RemoteApp 一起 hello 雲端中時，通常也會想要其資料到 hello 的 SQL server 等雲端的 toomigrate 整個雲端部署。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-106">Often when customers choose toohost their Windows applications in hello cloud with Azure RemoteApp they also want toomigrate their data such as SQL servers into hello cloud for an entire cloud deployment.</span></span> <span data-ttu-id="ca3a4-107">如此一來，任何使用 Azure RemoteApp 的裝置即可隨時存取整個雲端託管解決方案。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-107">This allows for entire cloud hosted solution that can be accessed anytime by any device anywhere using Azure RemoteApp.</span></span> <span data-ttu-id="ca3a4-108">以下是連結和參考指南 toohelp 以及您使用此程序。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-108">Below are links and references along with guidance toohelp you with this process.</span></span>  

## <a name="migrate-your-sql-data"></a><span data-ttu-id="ca3a4-109">移轉 SQL 資料</span><span class="sxs-lookup"><span data-stu-id="ca3a4-109">Migrate your SQL data</span></span>
<span data-ttu-id="ca3a4-110">開頭[移轉 SQL 資料庫的 SQL Server 資料庫 tooAzure](../sql-database/sql-database-cloud-migrate.md)。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-110">Start with [Migrating a SQL Server database tooAzure SQL Database](../sql-database/sql-database-cloud-migrate.md).</span></span> 

## <a name="configure-azure-remoteapp"></a><span data-ttu-id="ca3a4-111">設定 Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="ca3a4-111">Configure Azure RemoteApp</span></span>
<span data-ttu-id="ca3a4-112">在 Azure RemoteApp 中裝載 Windows 應用程式。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-112">Host your Windows application in Azure RemoteApp.</span></span> <span data-ttu-id="ca3a4-113">以下是非常高階的逐步說明：</span><span class="sxs-lookup"><span data-stu-id="ca3a4-113">Below is a very high level step-by-step:</span></span>

1. <span data-ttu-id="ca3a4-114">建立 hello [Azure RemoteApp 範本 VM](remoteapp-imageoptions.md)。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-114">Create hello [Azure RemoteApp template VM](remoteapp-imageoptions.md).</span></span> 
2. <span data-ttu-id="ca3a4-115">Hello VM 上安裝所需的 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-115">Install hello required application on hello VM.</span></span>
3. <span data-ttu-id="ca3a4-116">設定 hello 應用程式，讓它連接 toohello SQL 資料庫並確認它運作。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-116">Configure hello application so it connects toohello SQL DB and confirm that it works.</span></span>
4. <span data-ttu-id="ca3a4-117">Sysprep 和關機 hello VM。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-117">Sysprep and shutdown hello VM.</span></span> <span data-ttu-id="ca3a4-118">擷取 VM 作為映像以便用於 Azure。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-118">Capture this as an image for use with Azure.</span></span> <span data-ttu-id="ca3a4-119">**注意：**您將需要 tooensure hello 應用程式是透過 hello sysprep 程序可以 tooretain hello DB 連線資訊。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-119">**Note:** You will need tooensure that hello application is able tooretain hello DB connectivity information through hello sysprep process.</span></span> <span data-ttu-id="ca3a4-120">如果 hello 應用程式無法 tooretain hello DB 連接資訊，您可能會想 hello 應用程式 toocheck tooengage hello 廠商我們要如何指定 hello 連接字串。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-120">If hello application is unable tooretain hello DB connection information, you might want tooengage hello vendor of hello application toocheck how we can specify hello connection string.</span></span>
5. <span data-ttu-id="ca3a4-121">Hello 自訂映像匯入您的 Azure RemoteApp 程式庫選取 hello 適當地理位置位於您 SQL Azure 的部署。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-121">Import hello custom image into your Azure RemoteApp library selecting hello proper geographical location that your SQL Azure deployment resides.</span></span> 
6. <span data-ttu-id="ca3a4-122">部署在相同的資料中心做為 SQL Azure 部署使用上述範本 hello 和發行 hello 應用程式的 hello RemoteApp 集合。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-122">Deploy a RemoteApp collection in hello same data center as your SQL Azure deployment using hello above template and publish hello application.</span></span> <span data-ttu-id="ca3a4-123">部署 Azure RemoteApp 在 hello 與 SQL Azure 部署的相同資料中心可協助確保 hello 最快的連線速度和降低延遲。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-123">Deploying Azure RemoteApp in hello same data center as your SQL Azure deployment helps ensure hello fastest connection speeds and reduce latency.</span></span> 

## <a name="app-and-sql-configuration-considerations"></a><span data-ttu-id="ca3a4-124">應用程式和 SQL 組態考量：</span><span class="sxs-lookup"><span data-stu-id="ca3a4-124">App and SQL configuration considerations:</span></span>
<span data-ttu-id="ca3a4-125">RemoteApp 搭配使用 SQL Azure 時，有幾個點 tooconsider:</span><span class="sxs-lookup"><span data-stu-id="ca3a4-125">There are a few points tooconsider when using Azure SQL with RemoteApp:</span></span>

<span data-ttu-id="ca3a4-126">深入了解[tooconfigure Azure SQL 資料庫防火牆](../sql-database/sql-database-firewall-configure.md)。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-126">Learn [how tooconfigure an Azure SQL database firewall](../sql-database/sql-database-firewall-configure.md).</span></span> <span data-ttu-id="ca3a4-127">摘錄 hello 發行項狀態從 「 一開始，所有存取 tooyour Azure SQL Database 伺服器 hello 防火牆封鎖。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-127">An excerpt from hello article states, "Initially, all access tooyour Azure SQL Database server is blocked by hello firewall.</span></span> <span data-ttu-id="ca3a4-128">在使用 Azure SQL Database 伺服器的順序 toobegin，您必須移 toohello 傳統入口網站，並指定一個或多個伺服器層級防火牆規則，讓存取 tooyour Azure SQL Database 伺服器。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-128">In order toobegin using your Azure SQL Database server, you must go toohello Classic Portal and specify one or more server-level firewall rules that enable access tooyour Azure SQL Database server.</span></span> <span data-ttu-id="ca3a4-129">使用 hello 防火牆規則 toospecify 的 IP 位址範圍從 hello 允許網際網路，而且 Azure 應用程式可以嘗試 tooconnect tooyour Azure SQL Database 伺服器 」。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-129">Use hello firewall rules toospecify which IP address ranges from hello Internet are allowed, and whether or not Azure applications can attempt tooconnect tooyour Azure SQL Database server."</span></span>

<span data-ttu-id="ca3a4-130">此外，當電腦嘗試從網際網路 hello tooconnect tooyour 資料庫伺服器，hello 防火牆會檢查 hello 源自對 hello 整組伺服器層級的 hello 要求的 IP 位址 （如有必要） 和資料庫層級防火牆規則。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-130">Also, when a computer attempts tooconnect tooyour database server from hello Internet, hello firewall checks hello originating IP address of hello request against hello full set of server-level and (if required) database-level firewall rules.</span></span> <span data-ttu-id="ca3a4-131">"Hello 要求 hello IP 位址是其中一個 hello hello 伺服器層級防火牆規則中指定的範圍內，如果 hello 連接授與 tooyour Azure SQL Database 伺服器。 」</span><span class="sxs-lookup"><span data-stu-id="ca3a4-131">"If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted tooyour Azure SQL Database server."</span></span> <span data-ttu-id="ca3a4-132">」 因此，我們可以使用 IP 範圍，而不只是個別的來源 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-132">Hence, we can make use of IP Ranges and not just individual source IP addresses.</span></span>

<span data-ttu-id="ca3a4-133">請依照下列中的 hello 逐步解說指示[How to： 使用 hello Azure 入口網站的 SQL 資料庫上設定防火牆設定](../sql-database/sql-database-configure-firewall-settings.md)toospecify hello IP 範圍。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-133">Follow hello step by step instructions in [How to: Configure firewall settings on SQL Database using hello Azure Portal](../sql-database/sql-database-configure-firewall-settings.md) toospecify hello IP range.</span></span> <span data-ttu-id="ca3a4-134">當您設定 hello SQL 防火牆規則時，請提供 hello hello 子網路指定 IP 範圍 hello Azure RemoteApp 集合。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-134">When you are configuring hello SQL Firewall rules, please provide hello IP range of hello subnet that is specified for hello Azure RemoteApp collection.</span></span> <span data-ttu-id="ca3a4-135">這應該 hello ARA 伺服器 tooconnect toohello SQL DB 即使仍可讓它們將會有動態指派 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-135">This should allow hello ARA servers tooconnect toohello SQL DB even though they will have dynamically-assigned IP Addresses.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ca3a4-136">疑難排解</span><span class="sxs-lookup"><span data-stu-id="ca3a4-136">Troubleshooting</span></span>
<span data-ttu-id="ca3a4-137">如果遇到 hello 使用裝載於 Azure RemoteApp 連接 tooa SQL 用戶端應用程式的資料庫其中裝載於 Azure 或內部部署速度過慢可能有幾個原因為何。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-137">If hello experience of using a client application hosted in Azure RemoteApp that connects tooa SQL database where hosted on Azure or on-premises is slow there could be a few reasons why.</span></span>  

* <span data-ttu-id="ca3a4-138">從裝置 tooAzure 的網路延遲性很高。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-138">Network latency from your device tooAzure is high.</span></span> <span data-ttu-id="ca3a4-139">移動 toohello 最佳且最快的網路連線，您可以為達最佳效能。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-139">Move toohello best and fastest network connection you can for best performance.</span></span> <span data-ttu-id="ca3a4-140">使用[azurespeed.com](http://azurespeed.com/)一般工具 tootest 為您的裝置延遲 tooAzure 資料中心。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-140">Use [azurespeed.com](http://azurespeed.com/) as a general tool tootest your devices latency tooAzure data center.</span></span>  
* <span data-ttu-id="ca3a4-141">在 Azure RemoteApp 中裝載的用戶端應用程式承受壓力。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-141">Client app hosted in Azure RemoteApp is under stress.</span></span> <span data-ttu-id="ca3a4-142">選取不同的計費方案 (例如 Premium 計費) 會改善效能。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-142">Selecting a different billing plan such as Premium billing will improve performance.</span></span> <span data-ttu-id="ca3a4-143">另一個訣竅是 toomonitor hello 資源正在使用您的應用程式： 在使用中的工作階段期間執行 ctrl alt 端點索引鍵序列將會啟動的 hello SAS 畫面上，選取 [工作管理員]，觀察您的應用程式的資源使用率。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-143">Another trick is toomonitor hello resources your application is consuming: during an active session perform a ctrl-alt-end key sequence which will launch hello SAS screen, select Task Manager and observe resource utilization for your app.</span></span>
* <span data-ttu-id="ca3a4-144">SQL Server 承受壓力或未最佳化。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-144">SQL server is under stress or not optimized.</span></span> <span data-ttu-id="ca3a4-145">遵循 SQL 疑難排解指引。</span><span class="sxs-lookup"><span data-stu-id="ca3a4-145">Follow SQL guidance for troubleshooting.</span></span> 

