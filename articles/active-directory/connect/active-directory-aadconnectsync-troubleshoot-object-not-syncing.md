---
title: "針對未同步至 Azure AD 的物件進行疑難排解 | Microsoft Docs"
description: "針對物件未同步至 Azure AD 的原因進行疑難排解。"
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 491a920ceeaac62dd37b1def3f02234056aebfb0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshoot-an-object-that-is-not-synchronizing-to-azure-ad"></a><span data-ttu-id="6dcdd-103">針對未同步至 Azure AD 的物件進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="6dcdd-103">Troubleshoot an object that is not synchronizing to Azure AD</span></span>

<span data-ttu-id="6dcdd-104">如果物件未如預期般同步至 Azure AD，則可能是數個原因所造成。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-104">If an object is not synchronizing as expected to Azure AD, then it can be because of several reasons.</span></span> <span data-ttu-id="6dcdd-105">如果您從 Azure AD 收到錯誤電子郵件，或是在 Azure AD Connect Health 中看到錯誤，則請改為閱讀[針對匯出錯誤進行疑難排解](active-directory-aadconnect-troubleshoot-sync-errors.md)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-105">If you have received an error email from Azure AD or you see the error in Azure AD Connect Health, then read [troubleshoot export errors](active-directory-aadconnect-troubleshoot-sync-errors.md) instead.</span></span> <span data-ttu-id="6dcdd-106">但如果您要針對物件不在 Azure AD 中的問題進行疑難排解，則本主題正適合您。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-106">But if you are troubleshooting a problem where the object is not in Azure AD, then this topic is for you.</span></span> <span data-ttu-id="6dcdd-107">它說明如何尋找內部部署元件 Azure AD Connect 同步中的錯誤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-107">It describes how to find errors in the on-premises component Azure AD Connect sync.</span></span>

<span data-ttu-id="6dcdd-108">為了尋找錯誤，您將依下列順序查看幾個不同的地方：</span><span class="sxs-lookup"><span data-stu-id="6dcdd-108">To find the errors, you are going to look at a few different places in the following order:</span></span>

1. <span data-ttu-id="6dcdd-109">[作業記錄](#operations) - 可供尋找同步引擎在匯入和同步處理時所識別的錯誤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-109">The [operation logs](#operations) for finding errors identified by the sync engine during import and synchronization.</span></span>
2. <span data-ttu-id="6dcdd-110">[連接器空間](#connector-space-object-properties) - 可供尋找遺失的物件和同步處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-110">The [connector space](#connector-space-object-properties) for finding missing objects and synchronization errors.</span></span>
3. <span data-ttu-id="6dcdd-111">[Metaverse](#metaverse-object-properties) - 可供尋找資料相關問題。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-111">The [metaverse](#metaverse-object-properties) for finding data-related problems.</span></span>

<span data-ttu-id="6dcdd-112">請先啟動 [Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui.md)，再開始進行這些步驟。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-112">Start [Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui.md) before you begin these steps.</span></span>

## <a name="operations"></a><span data-ttu-id="6dcdd-113">作業</span><span class="sxs-lookup"><span data-stu-id="6dcdd-113">Operations</span></span>
<span data-ttu-id="6dcdd-114">Synchronization Service Manager 中的 [作業] 索引標籤是您應該開始進行疑難排解的地方。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-114">The operations tab in the Synchronization Service Manager is where you should start your troubleshooting.</span></span> <span data-ttu-id="6dcdd-115">[作業] 索引標籤顯示最新作業的結果。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-115">The operations tab shows the results from the most recent operations.</span></span>  
![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/operations.png)  

<span data-ttu-id="6dcdd-117">上半部會以紀事輯順序來顯示所有執行。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-117">The top half shows all runs in chronic order.</span></span> <span data-ttu-id="6dcdd-118">根據預設，作業記錄會保留最後 7 天的相關資訊，但是您可以利用 [排程器](active-directory-aadconnectsync-feature-scheduler.md)來變更此設定。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-118">By default, the operations log keeps information about the last seven days, but this setting can be changed with the [scheduler](active-directory-aadconnectsync-feature-scheduler.md).</span></span> <span data-ttu-id="6dcdd-119">若您想要尋找任何未顯示成功狀態的執行。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-119">You want to look for any run that does not show a success status.</span></span> <span data-ttu-id="6dcdd-120">您可以按一下標頭來變更排序。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-120">You can change the sorting by clicking the headers.</span></span>

<span data-ttu-id="6dcdd-121">[狀態]  欄位是最重要的資訊，並顯示最嚴重的執行問題。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-121">The **Status** column is the most important information and shows the most severe problem for a run.</span></span> <span data-ttu-id="6dcdd-122">以下快速摘要依照優先順序來調查的最常見狀態 (其中 * 表示數個可能的錯誤字串)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-122">Here is a quick summary of the most common statuses in order of priority to investigate (where * indicate several possible error strings).</span></span>

| <span data-ttu-id="6dcdd-123">狀態</span><span class="sxs-lookup"><span data-stu-id="6dcdd-123">Status</span></span> | <span data-ttu-id="6dcdd-124">註解</span><span class="sxs-lookup"><span data-stu-id="6dcdd-124">Comment</span></span> |
| --- | --- |
| <span data-ttu-id="6dcdd-125">stopped-*</span><span class="sxs-lookup"><span data-stu-id="6dcdd-125">stopped-*</span></span> |<span data-ttu-id="6dcdd-126">執行無法完成。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-126">The run could not complete.</span></span> <span data-ttu-id="6dcdd-127">例如，如果遠端系統已關閉且無法聯繫。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-127">For example, if the remote system is down and cannot be contacted.</span></span> |
| <span data-ttu-id="6dcdd-128">stopped-error-limit</span><span class="sxs-lookup"><span data-stu-id="6dcdd-128">stopped-error-limit</span></span> |<span data-ttu-id="6dcdd-129">有 5,000 個以上的錯誤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-129">There are more than 5,000 errors.</span></span> <span data-ttu-id="6dcdd-130">執行因錯誤數量過多而自動停止。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-130">The run was automatically stopped due to the large number of errors.</span></span> |
| <span data-ttu-id="6dcdd-131">completed-\*-errors</span><span class="sxs-lookup"><span data-stu-id="6dcdd-131">completed-\*-errors</span></span> |<span data-ttu-id="6dcdd-132">執行已完成，但發生應調查的錯誤 (數量少於 5,000 個)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-132">The run completed, but there are errors (fewer than 5,000) that should be investigated.</span></span> |
| <span data-ttu-id="6dcdd-133">completed-\*-warnings</span><span class="sxs-lookup"><span data-stu-id="6dcdd-133">completed-\*-warnings</span></span> |<span data-ttu-id="6dcdd-134">執行完成，但某些資料並未處於預期的狀態。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-134">The run completed, but some data is not in the expected state.</span></span> <span data-ttu-id="6dcdd-135">如果您遇到錯誤，則此訊息通常只是一個徵狀。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-135">If you have errors, then this message is usually only a symptom.</span></span> <span data-ttu-id="6dcdd-136">在您解決錯誤之前，不應該調查警告。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-136">Until you have addressed errors, you should not investigate warnings.</span></span> |
| <span data-ttu-id="6dcdd-137">成功</span><span class="sxs-lookup"><span data-stu-id="6dcdd-137">success</span></span> |<span data-ttu-id="6dcdd-138">沒有問題。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-138">No issues.</span></span> |

<span data-ttu-id="6dcdd-139">當您選取某個資料列時，底部會更新以顯示該執行的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-139">When you select a row, the bottom updates to show the details of that run.</span></span> <span data-ttu-id="6dcdd-140">在底部的最左邊，可能會有一份顯示 [步驟 #] 的清單。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-140">To the far left of the bottom, you might have a list saying **Step #**.</span></span> <span data-ttu-id="6dcdd-141">如果您的樹系中有多個網域，而每個網域都以一個步驟來代表，則只會顯示此清單。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-141">This list only appears if you have multiple domains in your forest where each domain is represented by a step.</span></span> <span data-ttu-id="6dcdd-142">您可以在 [分割區] 標題下方找到網域名稱。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-142">The domain name can be found under the heading **Partition**.</span></span> <span data-ttu-id="6dcdd-143">在 [同步處理統計資料] 下方，您可以找到關於已處理的變更次數詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-143">Under **Synchronization Statistics**, you can find more information about the number of changes that were processed.</span></span> <span data-ttu-id="6dcdd-144">您可以按一下連結，以取得變更的物件清單。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-144">You can click the links to get a list of the changed objects.</span></span> <span data-ttu-id="6dcdd-145">如果您有物件發生錯誤，這些會顯示於 [同步處理錯誤] 下方。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-145">If you have objects with errors, those errors show up under **Synchronization Errors**.</span></span>

### <a name="troubleshoot-errors-in-operations-tab"></a><span data-ttu-id="6dcdd-146">疑難排解 [作業] 索引標籤中的錯誤</span><span class="sxs-lookup"><span data-stu-id="6dcdd-146">Troubleshoot errors in operations tab</span></span>
![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/errorsync.png)  
<span data-ttu-id="6dcdd-148">當您遇到錯誤時，發生錯誤的物件及錯誤本身都會是連結，可提供更多資訊。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-148">When you have errors, both the object in error and the error itself are links that provide more information.</span></span>

<span data-ttu-id="6dcdd-149">首先按一下錯誤字串 (圖片中的**sync-rule-error-function-triggered** )。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-149">Start by clicking the error string (**sync-rule-error-function-triggered** in the picture).</span></span> <span data-ttu-id="6dcdd-150">您會先看到物件的概觀。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-150">You are first presented with an overview of the object.</span></span> <span data-ttu-id="6dcdd-151">若要查看實際的錯誤，可按一下 [堆疊追蹤] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-151">To see the actual error, click the button **Stack Trace**.</span></span> <span data-ttu-id="6dcdd-152">此追蹤會提供錯誤的偵錯層級資訊。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-152">This trace provides debug level information for the error.</span></span>

<span data-ttu-id="6dcdd-153">您可以在 [呼叫堆疊資訊] 方塊上按一下滑鼠右鍵、選擇 [全選]，然後按一下 [複製]。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-153">You can right-click in the **call stack information** box, choose **select all**, and **copy**.</span></span> <span data-ttu-id="6dcdd-154">您接著可以複製堆疊，並在您喜好的編輯器 (例如 [記事本]) 中查看此錯誤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-154">You can then copy the stack and look at the error in your favorite editor, such as Notepad.</span></span>

* <span data-ttu-id="6dcdd-155">如果錯誤來自 **SyncRulesEngine**，則呼叫堆疊資訊首先具備物件上所有屬性的清單。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-155">If the error is from **SyncRulesEngine**, then the call stack information first has a list of all attributes on the object.</span></span> <span data-ttu-id="6dcdd-156">向下捲動，直到您看到 **InnerException =>** 標題為止。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-156">Scroll down until you see the heading **InnerException =>**.</span></span>  
  <span data-ttu-id="6dcdd-157">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/errorinnerexception.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-157">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/errorinnerexception.png)</span></span>  
  <span data-ttu-id="6dcdd-158">下一行會顯示錯誤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-158">The line after shows the error.</span></span> <span data-ttu-id="6dcdd-159">在上圖中，錯誤是來自所建立的自訂同步處理規則 Fabrikam。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-159">In the picture above, the error is from a custom Sync Rule Fabrikam created.</span></span>

<span data-ttu-id="6dcdd-160">如果錯誤本身未提供足夠的資訊，則請查看資料本身。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-160">If the error itself does not give enough information, then it is time to look at the data itself.</span></span> <span data-ttu-id="6dcdd-161">您可以按一下帶有物件識別碼的連結，然後繼續針對[連接器空間匯入的物件](#cs-import)進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-161">You can click the link with the object identifier and continue troubleshooting the [connector space imported object](#cs-import).</span></span>

## <a name="connector-space-object-properties"></a><span data-ttu-id="6dcdd-162">連接器空間物件屬性</span><span class="sxs-lookup"><span data-stu-id="6dcdd-162">Connector space object properties</span></span>
<span data-ttu-id="6dcdd-163">如果您在 [[作業]](#operations) 索引標籤中沒有任何找到的錯誤，則下一個步驟是依循連接器空間物件從 Active Directory 到 Metaverse，再到 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-163">If you do not have any errors found in the [operations](#operations) tab, then the next step is to follow the connector space object from Active Directory, to the metaverse, and to Azure AD.</span></span> <span data-ttu-id="6dcdd-164">在此路徑中，您應該會找到問題的所在。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-164">In this path, you should find where the problem is.</span></span>

### <a name="search-for-an-object-in-the-cs"></a><span data-ttu-id="6dcdd-165">在 CS 中搜尋物件</span><span class="sxs-lookup"><span data-stu-id="6dcdd-165">Search for an object in the CS</span></span>

<span data-ttu-id="6dcdd-166">在 [Synchronization Service Manager] 中，按一下 [連接器]、選取 [Active Directory 連接器]，然後選取 [搜尋連接器空間]。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-166">In **Synchronization Service Manager**, click **Connectors**, select the Active Directory Connector, and **Search Connector Space**.</span></span>

<span data-ttu-id="6dcdd-167">在 [範圍] 中，選取 [RDN] \(當您想要依據 CN 屬性進行搜尋時) 或 [DN 或錨點] \(當您想要依據 distinguishedName 屬性進行搜尋時)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-167">In **Scope**, select **RDN** (when you want to search on the CN attribute) or **DN or anchor** (when you want to search on the distinguishedName attribute).</span></span> <span data-ttu-id="6dcdd-168">輸入值，然後按一下 [搜尋]。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-168">Enter a value and click **Search**.</span></span>  
<span data-ttu-id="6dcdd-169">![連接器空間搜尋](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearch.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-169">![Connector Space search](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearch.png)</span></span>  

<span data-ttu-id="6dcdd-170">如果您找不到所要尋找的物件，則它可能是已被[網域型篩選](active-directory-aadconnectsync-configure-filtering.md#domain-based-filtering)或 [OU 型篩選](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering)所篩選掉。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-170">If you do not find the object you are looking for, then it might have been filtered with [domain-based filtering](active-directory-aadconnectsync-configure-filtering.md#domain-based-filtering) or [OU-based filtering](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering).</span></span> <span data-ttu-id="6dcdd-171">請閱讀[設定篩選](active-directory-aadconnectsync-configure-filtering.md)主題，以確認篩選是按照預期方式設定。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-171">Read the [configure filtering](active-directory-aadconnectsync-configure-filtering.md) topic to verify that the filtering is configured as expected.</span></span>

<span data-ttu-id="6dcdd-172">另一個實用的搜尋是選取 [Azure AD 連接器]，然後在 [範圍] 中選取 [擱置匯入]，接著選取 [新增] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-172">Another useful search is to select the Azure AD Connector, in **Scope** select **Pending Import**, and select the **Add** checkbox.</span></span> <span data-ttu-id="6dcdd-173">此搜尋會提供您 Azure AD 中無法與內部部署物件建立關聯的所有已同步處理物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-173">This search gives you all synchronized objects in Azure AD that cannot be associated with an on-premises object.</span></span>  
<span data-ttu-id="6dcdd-174">![連接器空間搜尋孤立物件](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearchorphan.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-174">![Connector Space search orphan](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearchorphan.png)</span></span>  
<span data-ttu-id="6dcdd-175">這些物件是由另一個同步引擎所建立，或是由具有不同篩選組態的同步引擎所建立。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-175">Those objects have been created by another sync engine or a sync engine with a different filtering configuration.</span></span> <span data-ttu-id="6dcdd-176">此檢視是一個由不再受管理的「孤立」物件所組成的清單。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-176">This view is a list of **orphan** objects no longer managed.</span></span> <span data-ttu-id="6dcdd-177">您應該檢閱此清單，然後考慮使用 [Azure AD PowerShell](http://aka.ms/aadposh) Cmdlet 來移除這些物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-177">You should review this list and consider removing these objects using the [Azure AD PowerShell](http://aka.ms/aadposh) cmdlets.</span></span>

### <a name="cs-import"></a><span data-ttu-id="6dcdd-178">CS 匯入</span><span class="sxs-lookup"><span data-stu-id="6dcdd-178">CS Import</span></span>
<span data-ttu-id="6dcdd-179">當您開啟 cs 物件時，頂端會出現數個索引標籤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-179">When you open a cs object, there are several tabs at the top.</span></span> <span data-ttu-id="6dcdd-180">[匯入]  索引標籤會顯示匯入後暫存的資料。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-180">The **Import** tab shows the data that is staged after an import.</span></span>  
<span data-ttu-id="6dcdd-181">![CS 物件](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/csobject.png)  </span><span class="sxs-lookup"><span data-stu-id="6dcdd-181">![CS object](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/csobject.png)  </span></span>  
<span data-ttu-id="6dcdd-182">[舊值] 顯示目前儲存在 Connect 中的值，而 [新值] 則顯示從來源系統收到但尚未套用的值。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-182">The **Old Value** shows what currently is stored in Connect and the **New Value** what has been received from the source system and has not been applied yet.</span></span> <span data-ttu-id="6dcdd-183">如果物件上發生錯誤，系統便不會處理變更。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-183">If there is an error on the object, then changes are not processed.</span></span>

<span data-ttu-id="6dcdd-184">**Error**</span><span class="sxs-lookup"><span data-stu-id="6dcdd-184">**Error**</span></span>  
<span data-ttu-id="6dcdd-185">![CS 物件](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssyncerror.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-185">![CS object](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssyncerror.png)</span></span>  
<span data-ttu-id="6dcdd-186">只有當物件發生問題時，才會顯示 [同步處理錯誤] 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-186">The **Synchronization Error** tab is only visible if there is a problem with the object.</span></span> <span data-ttu-id="6dcdd-187">如需詳細資訊，請參閱[針對同步處理錯誤進行疑難排解 (英文)](#troubleshoot-errors-in-operations-tab)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-187">For more information, see [troubleshoot synchronization errors](#troubleshoot-errors-in-operations-tab).</span></span>

### <a name="cs-lineage"></a><span data-ttu-id="6dcdd-188">CS 歷程</span><span class="sxs-lookup"><span data-stu-id="6dcdd-188">CS Lineage</span></span>
<span data-ttu-id="6dcdd-189">[歷程] 索引標籤會顯示連接器空間物件與 Metaverse 物件關聯的方式。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-189">The lineage tab shows how the connector space object is related to the metaverse object.</span></span> <span data-ttu-id="6dcdd-190">您可以看到連接器上次從連接的系統匯入變更的時間，以及套用哪些規則以便在 metaverse 中填入資料。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-190">You can see when the Connector last imported a change from the connected system and which rules applied to populate data in the metaverse.</span></span>  
<span data-ttu-id="6dcdd-191">![CS 歷程](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineage.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-191">![CS lineage](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineage.png)</span></span>  
<span data-ttu-id="6dcdd-192">在 [動作] 欄中，您可以看到有一個動作為 [佈建] 的 [輸入] 同步處理規則。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-192">In the **Action** column, you can see there is one **Inbound** sync rule with the action **Provision**.</span></span> <span data-ttu-id="6dcdd-193">這表示，只要此連接器空間物件存在，就會保留 metaverse 物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-193">That indicates that as long as this connector space object is present, the metaverse object remains.</span></span> <span data-ttu-id="6dcdd-194">如果同步處理規則清單顯示的同步處理規則方向為 [輸出] 和 [佈建]，這表示刪除 Metaverse 物件時會刪除此物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-194">If the list of sync rules instead shows a sync rule with direction **Outbound** and **Provision**, it indicates that this object is deleted when the metaverse object is deleted.</span></span>  
<span data-ttu-id="6dcdd-195">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineageout.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-195">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineageout.png)</span></span>  
<span data-ttu-id="6dcdd-196">在 [PasswordSync] 欄中，您也可以看到輸入連接器空間可對密碼進行變更，因為有一個同步處理規則的值為 **True**。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-196">You can also see in the **PasswordSync** column that the inbound connector space can contribute changes to the password since one sync rule has the value **True**.</span></span> <span data-ttu-id="6dcdd-197">此密碼接著會透過輸出規則傳送至 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-197">This password is then sent to Azure AD through the outbound rule.</span></span>

<span data-ttu-id="6dcdd-198">從 [歷程] 索引標籤，您可以按一下 [Metaverse 物件屬性](#mv-attributes)，以移至 Metaverse。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-198">From the lineage tab, you can get to the metaverse by clicking [Metaverse Object Properties](#mv-attributes).</span></span>

<span data-ttu-id="6dcdd-199">所有索引標籤的底部都有兩個按鈕︰[預覽] 和 [記錄]。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-199">At the bottom of all tabs are two buttons: **Preview** and **Log**.</span></span>

### <a name="preview"></a><span data-ttu-id="6dcdd-200">預覽</span><span class="sxs-lookup"><span data-stu-id="6dcdd-200">Preview</span></span>
<span data-ttu-id="6dcdd-201">[預覽] 頁面可用來同步處理某一個單一物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-201">The preview page is used to synchronize one single object.</span></span> <span data-ttu-id="6dcdd-202">如果您正在針對某些自訂的同步規則進行疑難排解，而想要查看變更對單一物件的影響，則此頁面會相當有用。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-202">It is useful if you are troubleshooting some custom sync rules and want to see the effect of a change on a single object.</span></span> <span data-ttu-id="6dcdd-203">您可以在 [完整同步處理] 和 [差異同步處理] 之間做選擇。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-203">You can select between **Full sync** and **Delta sync**.</span></span> <span data-ttu-id="6dcdd-204">您也可以在 [產生預覽] \(這只會在記憶體中保留變更) 和 [認可預覽] \(這會更新 Mataverse 並暫存對目標連接器空間所做的一切變更) 之間做選擇。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-204">You can also select between **Generate Preview**, which only keeps the change in memory, and **Commit Preview**, which updated the metaverse and stages all changes to target connector spaces.</span></span>  
<span data-ttu-id="6dcdd-205">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/preview.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-205">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/preview.png)</span></span>  
<span data-ttu-id="6dcdd-206">您可以檢查物件，以及哪一個規則適用於特定的屬性流程。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-206">You can inspect the object and which rule applied for a particular attribute flow.</span></span>  
<span data-ttu-id="6dcdd-207">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/previewresult.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-207">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/previewresult.png)</span></span>

### <a name="log"></a><span data-ttu-id="6dcdd-208">記錄檔</span><span class="sxs-lookup"><span data-stu-id="6dcdd-208">Log</span></span>
<span data-ttu-id="6dcdd-209">[記錄] 頁面可用來查看密碼同步狀態和歷程記錄。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-209">The Log page is used to see the password sync status and history.</span></span> <span data-ttu-id="6dcdd-210">如需詳細資訊，請參閱[針對密碼同步處理進行疑難排解 (英文)](active-directory-aadconnectsync-troubleshoot-password-synchronization.md)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-210">For more information, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="metaverse-object-properties"></a><span data-ttu-id="6dcdd-211">Metaverse 物件屬性</span><span class="sxs-lookup"><span data-stu-id="6dcdd-211">Metaverse object properties</span></span>
<span data-ttu-id="6dcdd-212">通常最好是從來源 Active Directory [連接器空間](#connector-space)開始搜尋。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-212">It is usually better to start searching from the source Active Directory [connector space](#connector-space).</span></span> <span data-ttu-id="6dcdd-213">但是您也可以從 Metaverse 開始搜尋。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-213">But you can also start searching from the metaverse.</span></span>

### <a name="search-for-an-object-in-the-mv"></a><span data-ttu-id="6dcdd-214">在 MV 中搜尋物件</span><span class="sxs-lookup"><span data-stu-id="6dcdd-214">Search for an object in the MV</span></span>
<span data-ttu-id="6dcdd-215">在 [Synchronization Service Manager] 中，按一下 [Metaverse 搜尋]。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-215">In **Synchronization Service Manager**, click **Metaverse Search**.</span></span> <span data-ttu-id="6dcdd-216">建立一個您知道可以找到使用者的查詢。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-216">Create a query you know finds the user.</span></span> <span data-ttu-id="6dcdd-217">您可以搜尋通用的屬性，例如 accountName (sAMAccountName) 和 userPrincipalName。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-217">You can search for common attributes, such as accountName (sAMAccountName) and userPrincipalName.</span></span> <span data-ttu-id="6dcdd-218">如需詳細資訊，請參閱 [Metaverse 搜尋](active-directory-aadconnectsync-service-manager-ui-mvsearch.md)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-218">For more information, see [Metaverse search](active-directory-aadconnectsync-service-manager-ui-mvsearch.md).</span></span>
<span data-ttu-id="6dcdd-219">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvsearch.png)</span><span class="sxs-lookup"><span data-stu-id="6dcdd-219">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvsearch.png)</span></span>  

<span data-ttu-id="6dcdd-220">在 [搜尋結果] 視窗中，按一下該物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-220">In the **Search Results** window, click the object.</span></span>

<span data-ttu-id="6dcdd-221">如果您沒有找到該物件，表示它尚未抵達 Metaverse。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-221">If you did not find the object, then it has not yet reached the metaverse.</span></span> <span data-ttu-id="6dcdd-222">請繼續在 Active Directory [連接器空間](#connector-space-object-properties)中搜尋該物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-222">Continue to search for the object in the Active Directory [connector space](#connector-space-object-properties).</span></span> <span data-ttu-id="6dcdd-223">可能有來自同步處理的錯誤導致物件無法到達 Metaverse，或是可能套用了某個篩選。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-223">There could be an error from synchronization that is blocking the object from coming to the metaverse or there might be a filter applied.</span></span>

### <a name="mv-attributes"></a><span data-ttu-id="6dcdd-224">MV 屬性</span><span class="sxs-lookup"><span data-stu-id="6dcdd-224">MV Attributes</span></span>
<span data-ttu-id="6dcdd-225">在 [屬性] 索引標籤上，您可以看到值，以及是由哪一個連接器提供它。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-225">On the attributes tab, you can see the values and which Connector contributed it.</span></span>  
![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvobject.png)  

<span data-ttu-id="6dcdd-227">如果物件並未進行同步處理，則請查看 Metaverse 中的下列屬性：</span><span class="sxs-lookup"><span data-stu-id="6dcdd-227">If an object is not synchronizing, then look at the following attributes in the metaverse:</span></span>
- <span data-ttu-id="6dcdd-228">**cloudFiltered** 屬性是否存在且設定為 **true**？</span><span class="sxs-lookup"><span data-stu-id="6dcdd-228">Is the attribute **cloudFiltered** present and set to **true**?</span></span> <span data-ttu-id="6dcdd-229">如果是，則表示已根據[屬性型篩選](active-directory-aadconnectsync-configure-filtering.md#attribute-based-filtering)中的步驟將它篩除。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-229">If it is, then it has been filtered according to the steps in [attribute based filtering](active-directory-aadconnectsync-configure-filtering.md#attribute-based-filtering).</span></span>
- <span data-ttu-id="6dcdd-230">**sourceAnchor** 屬性是否存在？</span><span class="sxs-lookup"><span data-stu-id="6dcdd-230">Is the attribute **sourceAnchor** present?</span></span> <span data-ttu-id="6dcdd-231">如果不存在，您是否擁有帳戶資源樹系拓撲？</span><span class="sxs-lookup"><span data-stu-id="6dcdd-231">If not, do you have an account-resource forest topology?</span></span> <span data-ttu-id="6dcdd-232">如果物件被識別為已連結的信箱 (**msExchRecipientTypeDetails** 屬性的值為 2)，則會由具有已啟用 Active Directory 帳戶的樹系提供 sourceAnchor。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-232">If an object is identified as a linked mailbox (the attribute **msExchRecipientTypeDetails** has the value 2), then the sourceAnchor is contributed by the forest with an enabled Active Directory account.</span></span> <span data-ttu-id="6dcdd-233">請確定已正確匯入並同步處理主要帳戶。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-233">Make sure the master account has been imported and synchronized correctly.</span></span> <span data-ttu-id="6dcdd-234">主要帳戶必須列在物件的[連接器](#mv-connectors)清單中。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-234">The master account must be listed in the [connectors](#mv-connectors) for the object.</span></span>

### <a name="mv-connectors"></a><span data-ttu-id="6dcdd-235">MV 連接器</span><span class="sxs-lookup"><span data-stu-id="6dcdd-235">MV Connectors</span></span>
<span data-ttu-id="6dcdd-236">[連接器] 索引標籤會顯示所有具有物件表示法的連接器空間。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-236">The Connectors tab shows all connector spaces that have a representation of the object.</span></span>  
![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvconnectors.png)  
<span data-ttu-id="6dcdd-238">您應該要有連至下列各項的連接器：</span><span class="sxs-lookup"><span data-stu-id="6dcdd-238">You should have a connector to:</span></span>

- <span data-ttu-id="6dcdd-239">每個呈現出使用者的 Active Directory 樹系。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-239">Each Active Directory forest the user is represented in.</span></span> <span data-ttu-id="6dcdd-240">這項呈現可以包括 foreignSecurityPrincipals 和 Contact 物件。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-240">This representation can include foreignSecurityPrincipals and Contact objects.</span></span>
- <span data-ttu-id="6dcdd-241">Azure AD 中的連接器。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-241">A connector in Azure AD.</span></span>

<span data-ttu-id="6dcdd-242">如果您沒有連至 Azure AD 的連接器，則請閱讀 [MV 屬性](#MV-attributes)，以確認佈建到 Azure AD 所需符合的準則。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-242">If you are missing the connector to Azure AD, then read [MV attributes](#MV-attributes) to verify the criteria for being provisioned to Azure AD.</span></span>

<span data-ttu-id="6dcdd-243">此索引標籤也可讓您瀏覽至[連接器空間物件](#connector-space-object-properties)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-243">This tab also allows you to navigate to the [connector space object](#connector-space-object-properties).</span></span> <span data-ttu-id="6dcdd-244">請選取一個資料列，然後按一下 [屬性]。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-244">Select a row and click **Properties**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6dcdd-245">後續步驟</span><span class="sxs-lookup"><span data-stu-id="6dcdd-245">Next steps</span></span>
<span data-ttu-id="6dcdd-246">深入了解 [Azure AD Connect 同步](active-directory-aadconnectsync-whatis.md) 組態。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-246">Learn more about the [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>

<span data-ttu-id="6dcdd-247">深入了解 [整合內部部署身分識別與 Azure Active Directory](active-directory-aadconnect.md)。</span><span class="sxs-lookup"><span data-stu-id="6dcdd-247">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
