---
title: "Azure AD Connect：針對同步處理期間的錯誤進行疑難排解 | Microsoft Docs"
description: "說明如何使用 Azure AD Connect 同步處理期間發生 tootroubleshoot 錯誤。"
services: active-directory
documentationcenter: 
author: karavar
manager: samueld
editor: curtand
ms.assetid: 2209d5ce-0a64-447b-be3a-6f06d47995f8
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: af262dfe95d686e34697454c0dfe8b4a6d8693c0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-errors-during-synchronization"></a><span data-ttu-id="fb0fe-103">針對同步處理期間的錯誤進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="fb0fe-103">Troubleshooting Errors during synchronization</span></span>
<span data-ttu-id="fb0fe-104">識別資料同步處理從 Windows Server Active Directory (AD DS) tooAzure Active Directory (Azure AD) 時，就可能發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-104">Errors could occur when identity data is synchronized from Windows Server Active Directory (AD DS) tooAzure Active Directory (Azure AD).</span></span> <span data-ttu-id="fb0fe-105">本文提供不同類型的同步錯誤，一些 hello 會導致這些錯誤和潛在的方式 toofix hello 錯誤的可能案例的概觀。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-105">This article provides an overview of different types of sync errors, some of hello possible scenarios that cause those errors and potential ways toofix hello errors.</span></span> <span data-ttu-id="fb0fe-106">本文章包含 hello 常見的錯誤類型，並不一定會涵蓋所有的 hello 可能的錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-106">This article includes hello common error types and may not cover all hello possible errors.</span></span>

 <span data-ttu-id="fb0fe-107">本文章假設 hello 讀者已熟悉 hello 基礎[設計概念的 Azure AD 與 Azure AD Connect](active-directory-aadconnect-design-concepts.md)。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-107">This article assumes hello reader is familiar with hello underlying [design concepts of Azure AD and Azure AD Connect](active-directory-aadconnect-design-concepts.md).</span></span>

<span data-ttu-id="fb0fe-108">Hello 最新版本的 Azure AD Connect\(年 8 月 2016年或更新版本\)的同步處理錯誤報表位於 hello [Azure 入口網站](https://aka.ms/aadconnecthealth)做為 Azure AD Connect Health 進行同步的一部分。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-108">With hello latest version of Azure AD Connect \(August 2016 or higher\), a report of Synchronization Errors is available in hello [Azure Portal](https://aka.ms/aadconnecthealth) as part of Azure AD Connect Health for sync.</span></span>

<span data-ttu-id="fb0fe-109">從 2016 年 9 月 1 日開始[Azure Active Directory 重複屬性復原](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md)會啟用功能，依預設，所有的 hello*新*Azure Active Directory 租用戶。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-109">Starting September 1, 2016 [Azure Active Directory Duplicate Attribute Resiliency](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md) feature will be enabled by default for all hello *new* Azure Active Directory Tenants.</span></span> <span data-ttu-id="fb0fe-110">這項功能將會自動啟用現有的租用戶 hello 未來幾個月。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-110">This feature will be automatically enabled for existing tenants in hello upcoming months.</span></span>

<span data-ttu-id="fb0fe-111">Azure AD Connect 執行作業的 3 種從 hello 目錄則保持同步： 匯入、 同步處理及匯出。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-111">Azure AD Connect performs 3 types of operations from hello directories it keeps in sync: Import, Synchronization and Export.</span></span> <span data-ttu-id="fb0fe-112">錯誤可以在所有 hello 作業中進行。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-112">Errors can take place in all hello operations.</span></span> <span data-ttu-id="fb0fe-113">本文主要著重在錯誤期間匯出 tooAzure AD。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-113">This article mainly focuses on errors during Export tooAzure AD.</span></span>

## <a name="errors-during-export-tooazure-ad"></a><span data-ttu-id="fb0fe-114">匯出 tooAzure AD 期間發生的錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-114">Errors during Export tooAzure AD</span></span>
<span data-ttu-id="fb0fe-115">下列章節說明不同類型的同步處理期間 hello 匯出作業 tooAzure AD 使用可以發生的錯誤 hello Azure AD 連接器。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-115">Following section describes different types of synchronization errors that can occur during hello export operation tooAzure AD using hello Azure AD connector.</span></span> <span data-ttu-id="fb0fe-116">此連接器，可識別的 hello 名稱格式"contoso。*onmicrosoft.com*"。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-116">This connector can be identified by hello name format being "contoso.*onmicrosoft.com*".</span></span>
<span data-ttu-id="fb0fe-117">匯出 tooAzure AD 期間發生的錯誤指出該 hello 作業\(新增、 更新、 刪除等\)由 Azure AD Connect 所嘗試的\(同步處理引擎\)在 Azure Active Directory 失敗。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-117">Errors during Export tooAzure AD indicate that hello operation \(add, update, delete etc.\) attempted by Azure AD Connect \(Sync Engine\) on Azure Active Directory failed.</span></span>

![匯出錯誤概觀](./media/active-directory-aadconnect-troubleshoot-sync-errors/Export_Errors_Overview_01.png)

## <a name="data-mismatch-errors"></a><span data-ttu-id="fb0fe-119">資料不符錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-119">Data Mismatch Errors</span></span>
### <a name="invalidsoftmatch"></a><span data-ttu-id="fb0fe-120">InvalidSoftMatch</span><span class="sxs-lookup"><span data-stu-id="fb0fe-120">InvalidSoftMatch</span></span>
#### <a name="description"></a><span data-ttu-id="fb0fe-121">說明</span><span class="sxs-lookup"><span data-stu-id="fb0fe-121">Description</span></span>
* <span data-ttu-id="fb0fe-122">當 Azure AD Connect\(同步處理引擎\)指示 Azure Active Directory tooadd 或更新物件，Azure AD 相符項目 hello 連入的物件使用 hello **sourceAnchor**屬性 toohello **immutableId** Azure AD 中物件的屬性。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-122">When Azure AD Connect \(sync engine\) instructs Azure Active Directory tooadd or update objects, Azure AD matches hello incoming object using hello **sourceAnchor** attribute toohello **immutableId** attribute of objects in Azure AD.</span></span> <span data-ttu-id="fb0fe-123">此種比對稱為**完全比對**。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-123">This match is called a **Hard Match**.</span></span>
* <span data-ttu-id="fb0fe-124">當 Azure AD**找不到**符合 hello 之任何物件**immutableId**屬性以 hello **sourceAnchor** hello 連入物件，然後才提供的屬性新物件，則會回到 toouse hello ProxyAddresses 和 UserPrincipalName 屬性 toofind 相符項目。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-124">When Azure AD **does not find** any object that matches hello **immutableId** attribute with hello **sourceAnchor** attribute of hello incoming object, before provisioning a new object, it falls back toouse hello ProxyAddresses and UserPrincipalName attributes toofind a match.</span></span> <span data-ttu-id="fb0fe-125">此種比對稱為**大致比對**。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-125">This match is called a **Soft Match**.</span></span> <span data-ttu-id="fb0fe-126">hello 軟相符項目是設計的 toomatch hello 新的物件同步處理期間新增/更新代表 hello 與已經存在於 Azure AD （也就源自 Azure AD） 中的物件在內部部署的相同實體 （使用者、 群組）。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-126">hello Soft Match is designed toomatch objects already present in Azure AD (that are sourced in Azure AD) with hello new objects being added/updated during synchronization that represent hello same entity (users, groups) on premises.</span></span>
* <span data-ttu-id="fb0fe-127">**InvalidSoftMatch**就會發生錯誤時 hello 硬碟的相符項目找不到任何相符物件**AND**彈性比對尋找相符的物件，但該物件具有不同值的*immutableId*非 hello 連入物件*SourceAnchor*，建議的 hello 符合物件與另一個物件從內部部署 Active Directory 同步處理。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-127">**InvalidSoftMatch** error occurs when hello hard match does not find any matching object **AND** soft match finds a matching object but that object has a different value of *immutableId* than hello incoming object's *SourceAnchor*, suggesting that hello matching object was synchronized with another object from on premises Active Directory.</span></span>

<span data-ttu-id="fb0fe-128">換句話說，為了讓 hello 軟相符 toowork，軟體與 hello 物件 toobe 應該沒有任何值 hello *immutableId*。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-128">In other words, in order for hello soft match toowork, hello object toobe soft-matched with should not have any value for hello *immutableId*.</span></span> <span data-ttu-id="fb0fe-129">如果任何物件具有*immutableId*值組失敗 hello 硬符合，但滿足 hello 軟比對準則，hello 作業會產生 InvalidSoftMatch 同步處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-129">If any object with *immutableId* set with a value is failing hello hard-match but satisfying hello soft-match criteria, hello operation would result in an InvalidSoftMatch synchronization error.</span></span>

<span data-ttu-id="fb0fe-130">結構描述不允許 toohave hello hello 遵循的相同值的兩個或多個物件的 azure Active Directory 屬性。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-130">Azure Active Directory schema does not allow two or more objects toohave hello same value of hello following attributes.</span></span> <span data-ttu-id="fb0fe-131">\(這不是詳盡的清單。\)</span><span class="sxs-lookup"><span data-stu-id="fb0fe-131">\(This is not an exhaustive list.\)</span></span>

* <span data-ttu-id="fb0fe-132">ProxyAddresses</span><span class="sxs-lookup"><span data-stu-id="fb0fe-132">ProxyAddresses</span></span>
* <span data-ttu-id="fb0fe-133">UserPrincipalName</span><span class="sxs-lookup"><span data-stu-id="fb0fe-133">UserPrincipalName</span></span>
* <span data-ttu-id="fb0fe-134">onPremisesSecurityIdentifier</span><span class="sxs-lookup"><span data-stu-id="fb0fe-134">onPremisesSecurityIdentifier</span></span>
* <span data-ttu-id="fb0fe-135">ObjectId</span><span class="sxs-lookup"><span data-stu-id="fb0fe-135">ObjectId</span></span>

> [!NOTE]
> <span data-ttu-id="fb0fe-136">[Azure AD 屬性重複屬性復原](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md)功能也回復為 Azure Active Directory hello 預設行為。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-136">[Azure AD Attribute Duplicate Attribute Resiliency](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md) feature is also being rolled out as hello default behavior of Azure Active Directory.</span></span>  <span data-ttu-id="fb0fe-137">這將會處理重複 ProxyAddresses 和 UserPrincipalName 屬性存在於內部部署 AD hello 方式中，進行 Azure AD 更有彈性的方式減少 hello 看到 Azure AD Connect （以及其他同步處理用戶端） 的同步處理錯誤的數目環境。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-137">This will reduce hello number of synchronization errors seen by Azure AD Connect (as well as other sync clients) by making Azure AD more resilient in hello way it handles duplicated ProxyAddresses and UserPrincipalName attributes present in on premises AD environments.</span></span> <span data-ttu-id="fb0fe-138">這項功能不會修正 hello 重複錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-138">This feature does not fix hello duplication errors.</span></span> <span data-ttu-id="fb0fe-139">因此 hello 資料仍然需要 toobe 固定。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-139">So hello data still needs toobe fixed.</span></span> <span data-ttu-id="fb0fe-140">但是，它可讓 Azure AD 中佈建由於 tooduplicated 值阻止新物件佈建。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-140">But it allows provisioning of new objects which are otherwise blocked from being provisioned due tooduplicated values in Azure AD.</span></span> <span data-ttu-id="fb0fe-141">這也會減少 hello 同步處理傳回的錯誤數目 toohello 同步處理用戶端。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-141">This will also reduce hello number of synchronization errors returned toohello synchronization client.</span></span>
> <span data-ttu-id="fb0fe-142">如果您的租用戶啟用這項功能，不會看到 hello InvalidSoftMatch 同步處理錯誤期間的新物件佈建看到。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-142">If this feature is enabled for your Tenant, you will not see hello InvalidSoftMatch synchronization errors seen during provisioning of new objects.</span></span>
>
>

#### <a name="example-scenarios-for-invalidsoftmatch"></a><span data-ttu-id="fb0fe-143">InvalidSoftMatch 的範例案例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-143">Example Scenarios for InvalidSoftMatch</span></span>
1. <span data-ttu-id="fb0fe-144">Hello ProxyAddresses 屬性的相同值存在於內部部署 Active Directory 與兩個或多個物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-144">Two or more objects with hello same value of ProxyAddresses attribute exists in on premises Active Directory.</span></span> <span data-ttu-id="fb0fe-145">只有一個會在 Azure AD 中佈建。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-145">Only one is getting provisioned in Azure AD.</span></span>
2. <span data-ttu-id="fb0fe-146">以相同的 userPrincipalName 值存在於內部部署 Active Directory 的 hello 兩個或多個物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-146">Two or more objects with hello same value of userPrincipalName exists in on premises Active Directory.</span></span> <span data-ttu-id="fb0fe-147">只有一個會在 Azure AD 中佈建。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-147">Only one is getting provisioned in Azure AD.</span></span>
3. <span data-ttu-id="fb0fe-148">物件已加入 hello 在內部部署 Active Directory 以 hello 相同 Azure Active Directory 中現有物件的 ProxyAddresses 屬性的值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-148">An object was added in hello on premises Active Directory with hello same value of ProxyAddresses attribute as that of an existing object in Azure Active Directory.</span></span> <span data-ttu-id="fb0fe-149">加入在內部部署的 hello 物件未取得 Azure Active Directory 中佈建。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-149">hello object added on premises is not getting provisioned in Azure Active Directory.</span></span>
4. <span data-ttu-id="fb0fe-150">物件已加入在內部部署 Active Directory 以 hello 相同的 Azure Active Directory 中帳戶的 userPrincipalName 屬性的值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-150">An object was added in on premises Active Directory with hello same value of userPrincipalName attribute as that of an account in Azure Active Directory.</span></span> <span data-ttu-id="fb0fe-151">hello 物件未取得 Azure Active Directory 中佈建。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-151">hello object is not getting provisioned in Azure Active Directory.</span></span>
5. <span data-ttu-id="fb0fe-152">同步處理的帳戶已從樹系 A tooForest b 的 Azure AD Connect （同步處理引擎） 已使用移動 ObjectGUID 屬性 toocompute hello SourceAnchor。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-152">A synced account was moved from Forest A tooForest B. Azure AD Connect (sync engine) was using ObjectGUID attribute toocompute hello SourceAnchor.</span></span> <span data-ttu-id="fb0fe-153">Hello 樹系移動之後, hello hello SourceAnchor 值是不同的。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-153">After hello forest move, hello value of hello SourceAnchor is different.</span></span> <span data-ttu-id="fb0fe-154">在 Azure AD 中失敗 toosync 與 hello 現有物件 hello （來自樹系 B) 的新物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-154">hello new object (from Forest B) is failing toosync with hello existing object in Azure AD.</span></span>
6. <span data-ttu-id="fb0fe-155">同步處理的物件從內部部署 Active Directory 意外刪除了和建立新的物件已在 Active Directory 中的 hello 相同實體 （例如使用者），但不會刪除 Azure Active Directory 中的 hello 帳戶。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-155">A synced object got accidentally deleted from on premises Active Directory and a new object was created in Active Directory for hello same entity (such as user) without deleting hello account in Azure Active Directory.</span></span> <span data-ttu-id="fb0fe-156">hello 新帳戶失敗 toosync 與 hello 現有 Azure AD 物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-156">hello new account fails toosync with hello existing Azure AD object.</span></span>
7. <span data-ttu-id="fb0fe-157">Azure AD Connect 解除安裝後再重新安裝。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-157">Azure AD Connect was uninstalled and re-installed.</span></span> <span data-ttu-id="fb0fe-158">Hello 重新安裝期間，不同的屬性已被選為 hello SourceAnchor。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-158">During hello re-installation, a different attribute was chosen as hello SourceAnchor.</span></span> <span data-ttu-id="fb0fe-159">所有先前已同步的 hello 物件停止 InvalidSoftMatch 錯誤與同步處理。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-159">All hello objects that had previously synced stopped syncing with InvalidSoftMatch error.</span></span>

#### <a name="example-case"></a><span data-ttu-id="fb0fe-160">範例案例︰</span><span class="sxs-lookup"><span data-stu-id="fb0fe-160">Example case:</span></span>
1. <span data-ttu-id="fb0fe-161">**Bob Smith** 是 Azure Active Directory 中已從 *contoso.com* 的內部部署 Active Directory 同步處理的使用者</span><span class="sxs-lookup"><span data-stu-id="fb0fe-161">**Bob Smith** is a synced user in Azure Active Directory from on premises Active Directory of *contoso.com*</span></span>
2. <span data-ttu-id="fb0fe-162">Bob Smith 的 **UserPrincipalName** 已設定為 **bobs@contoso.com**。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-162">Bob Smith's **UserPrincipalName** is set as **bobs@contoso.com**.</span></span>
3. <span data-ttu-id="fb0fe-163">**「 abcdefghijklmnopqrstuv = ="**為 hello **SourceAnchor**計算方式是使用 Bob Smith 的 Azure AD Connect **objectGUID**在內部部署 Active Directory 中，亦即 hello **immutableId** Bob smith，Azure Active Directory 中。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-163">**"abcdefghijklmnopqrstuv=="** is hello **SourceAnchor** calculated by Azure AD Connect using Bob Smith's **objectGUID** from on premises Active Directory, which is hello **immutableId** for Bob Smith in Azure Active Directory.</span></span>
4. <span data-ttu-id="fb0fe-164">Bob 也有下列值 hello **proxyAddresses**屬性：</span><span class="sxs-lookup"><span data-stu-id="fb0fe-164">Bob also has following values for hello **proxyAddresses** attribute:</span></span>
   * smtp:bobs@contoso.com
   * smtp:bob.smith@contoso.com
   * **smtp:bob@contoso.com**
5. <span data-ttu-id="fb0fe-165">新的使用者， **Bob Taylor**，會在內部部署 Active Directory 加入 toohello。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-165">A new user, **Bob Taylor**, is added toohello on premises Active Directory.</span></span>
6. <span data-ttu-id="fb0fe-166">Bob Taylor 的 **UserPrincipalName** 已設為 **bobt@contoso.com**。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-166">Bob Taylor's **UserPrincipalName** is set as **bobt@contoso.com**.</span></span>
7. <span data-ttu-id="fb0fe-167">**「 abcdefghijkl0123456789 = =""**為 hello **sourceAnchor**計算方式是使用 Bob Taylor 的 Azure AD Connect **objectGUID**從內部部署 Active Directory。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-167">**"abcdefghijkl0123456789==""** is hello **sourceAnchor** calculated by Azure AD Connect using Bob Taylor's **objectGUID** from on premises Active Directory.</span></span> <span data-ttu-id="fb0fe-168">Bob Taylor 物件尚未同步 tooAzure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-168">Bob Taylor's object has NOT synced tooAzure Active Directory yet.</span></span>
8. <span data-ttu-id="fb0fe-169">Bob taylor 了解有 hello 遵循 hello proxyAddresses 屬性的值</span><span class="sxs-lookup"><span data-stu-id="fb0fe-169">Bob Taylor has hello following values for hello proxyAddresses attribute</span></span>
   * smtp:bobt@contoso.com
   * smtp:bob.taylor@contoso.com
   * **smtp:bob@contoso.com**
9. <span data-ttu-id="fb0fe-170">同步處理期間，Azure AD Connect 會辨識 hello 新增 Bob taylor 了解在內部部署 Active Directory，並要求 Azure AD toomake hello 相同的變更。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-170">During sync, Azure AD Connect will recognize hello addition of Bob Taylor in on premises Active Directory and ask Azure AD toomake hello same change.</span></span>
10. <span data-ttu-id="fb0fe-171">Azure AD 會先執行完全比對。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-171">Azure AD will first perform hard match.</span></span> <span data-ttu-id="fb0fe-172">也就是說，它會在其中搜尋是否有任何物件，但 hello immutableId 等於太"abcdefghijkl0123456789 = ="。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-172">That is, it will search if there is any object with hello immutableId equal too"abcdefghijkl0123456789==".</span></span> <span data-ttu-id="fb0fe-173">完全比對會失敗，因為 Azure AD 中沒有其他物件具有該 immutableId。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-173">Hard Match will fail as no other object in Azure AD will have that immutableId.</span></span>
11. <span data-ttu-id="fb0fe-174">Azure AD 會嘗試比對 toosoft Bob taylor 了解。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-174">Azure AD will then attempt toosoft-match Bob Taylor.</span></span> <span data-ttu-id="fb0fe-175">也就是說，它會在其中搜尋是否有任何物件，但 proxyAddresses 等於 toohello 三個值，包括smtp:bob@contoso.com</span><span class="sxs-lookup"><span data-stu-id="fb0fe-175">That is, it will search if there is any object with proxyAddresses equal toohello three values, including smtp:bob@contoso.com</span></span>
12. <span data-ttu-id="fb0fe-176">Azure AD 會尋找 Bob Smith 物件 toomatch hello 軟比對準則。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-176">Azure AD will find Bob Smith's object toomatch hello soft-match criteria.</span></span> <span data-ttu-id="fb0fe-177">但此物件具有 hello immutableId 值 ="abcdefghijklmnopqrstuv = ="。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-177">But this object has hello value of immutableId = "abcdefghijklmnopqrstuv==".</span></span> <span data-ttu-id="fb0fe-178">這表示此物件已從內部部署 Active Directory 中的另一個物件同步處理。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-178">which indicates this object was synced from another object from on premises Active Directory.</span></span> <span data-ttu-id="fb0fe-179">因此，Azure AD 無法大致比對這些物件，並會導致 **InvalidSoftMatch** 同步處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-179">Thus, Azure AD cannot soft-match these objects and results in an **InvalidSoftMatch** sync error.</span></span>

#### <a name="how-toofix-invalidsoftmatch-error"></a><span data-ttu-id="fb0fe-180">如何 toofix InvalidSoftMatch 錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-180">How toofix InvalidSoftMatch error</span></span>
<span data-ttu-id="fb0fe-181">hello hello InvalidSoftMatch 錯誤最常見原因是兩個物件具有不同的 SourceAnchor \(immutableId\)有相同的值為 hello ProxyAddresses 及/或 UserPrincipalName 屬性，這些屬性 hello 期間所使用的 helloAzure AD 上的軟體比對程序。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-181">hello most common reason for hello InvalidSoftMatch error is two objects with different SourceAnchor \(immutableId\) have hello same value for hello ProxyAddresses and/or UserPrincipalName attributes, which are used during hello soft-match process on Azure AD.</span></span> <span data-ttu-id="fb0fe-182">在訂單 toofix hello 無效的彈性比對</span><span class="sxs-lookup"><span data-stu-id="fb0fe-182">In order toofix hello Invalid Soft Match</span></span>

1. <span data-ttu-id="fb0fe-183">識別重複的 hello proxyAddresses、 userPrincipalName 或 hello 錯誤造成其他屬性值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-183">Identify hello duplicated proxyAddresses, userPrincipalName or other attribute value that's causing hello error.</span></span> <span data-ttu-id="fb0fe-184">也會識別這兩個\(或多個\)hello 衝突中涉及的物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-184">Also identify which two \(or more\) objects are involved in hello conflict.</span></span> <span data-ttu-id="fb0fe-185">hello 所產生的報表[Azure AD Connect Health 進行同步](https://aka.ms/aadchsyncerrors)可協助您識別 hello 兩個物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-185">hello report generated by [Azure AD Connect Health for sync](https://aka.ms/aadchsyncerrors) can help you identify hello two objects.</span></span>
2. <span data-ttu-id="fb0fe-186">識別哪些物件應該繼續 toohave hello 重複值，以及哪些物件不應該。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-186">Identify which object should continue toohave hello duplicated value and which object should not.</span></span>
3. <span data-ttu-id="fb0fe-187">從 hello 物件不應該有該值，移除重複的 hello 值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-187">Remove hello duplicated value from hello object that should NOT have that value.</span></span> <span data-ttu-id="fb0fe-188">請注意，您應該進行變更 hello hello 物件源自其中的目錄中的 hello。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-188">Note that you should make hello change in hello directory where hello object is sourced from.</span></span> <span data-ttu-id="fb0fe-189">在某些情況下，您可能需要 toodelete 的其中一個衝突的 hello 物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-189">In some cases, you may need toodelete one of hello objects in conflict.</span></span>
4. <span data-ttu-id="fb0fe-190">如果您進行變更 hello 在內部部署 AD 中的 hello，可讓 Azure AD Connect 同步處理 hello 變更。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-190">If you made hello change in hello on premises AD, let Azure AD Connect sync hello change.</span></span>

<span data-ttu-id="fb0fe-191">請注意，在 Azure AD Connect Health 進行同步的同步處理錯誤報表會更新每隔 30 分鐘包括 hello hello 最新的同步處理嘗試的錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-191">Note that Sync error report within Azure AD Connect Health for sync is updated every 30 minutes and includes hello errors from hello latest synchronization attempt.</span></span>

> [!NOTE]
> <span data-ttu-id="fb0fe-192">ImmutableId，根據定義，不應該變更 hello hello 物件存留期間。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-192">ImmutableId, by definition, should not change in hello lifetime of hello object.</span></span> <span data-ttu-id="fb0fe-193">如果未使用的 hello 案例，請注意，從清單上方的 hello 設定 Azure AD Connect，您最後可能會在 Azure AD Connect 其中計算 hello SourceAnchor hello AD 物件代表 hello 同一個實體的不同值的情況下 (相同的使用者 /群組/連絡人等） 具有您想 toocontinue 使用現有 Azure AD 物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-193">If Azure AD Connect was not configured with some of hello scenarios in mind from hello above list, you could end up in a situation where Azure AD Connect calculates a different value of hello SourceAnchor for hello AD object that represents hello same entity (same user/group/contact etc) that has an existing Azure AD Object that you wish toocontinue using.</span></span>
>
>

#### <a name="related-articles"></a><span data-ttu-id="fb0fe-194">相關文章</span><span class="sxs-lookup"><span data-stu-id="fb0fe-194">Related Articles</span></span>
* [<span data-ttu-id="fb0fe-195">重複或無效的屬性會防止 Office 365 進行目錄同步作業</span><span class="sxs-lookup"><span data-stu-id="fb0fe-195">Duplicate or invalid attributes prevent directory synchronization in Office 365</span></span>](https://support.microsoft.com/en-us/kb/2647098)

### <a name="objecttypemismatch"></a><span data-ttu-id="fb0fe-196">ObjectTypeMismatch</span><span class="sxs-lookup"><span data-stu-id="fb0fe-196">ObjectTypeMismatch</span></span>
#### <a name="description"></a><span data-ttu-id="fb0fe-197">說明</span><span class="sxs-lookup"><span data-stu-id="fb0fe-197">Description</span></span>
<span data-ttu-id="fb0fe-198">當 Azure AD 會嘗試 toosoft 比對兩個物件時，您就可以確定兩個不同物件"物件類型 」 （例如使用者、 群組、 連絡人等） 具有相同值 hello 屬性使用 tooperform hello 彈性比對的 hello。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-198">When Azure AD attempts toosoft match two objects, it is possible that two objects of different "object type" (such as User, Group, Contact etc.) have hello same values for hello attributes used tooperform hello soft match.</span></span> <span data-ttu-id="fb0fe-199">在 Azure AD 中不允許重複的這些屬性，如 hello 作業會導致 「 ObjectTypeMismatch 」 同步處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-199">As duplication of these attributes is not permitted in Azure AD, hello operation can result in "ObjectTypeMismatch" synchronization error.</span></span>

#### <a name="example-scenarios-for-objecttypemismatch-error"></a><span data-ttu-id="fb0fe-200">ObjectTypeMismatch 錯誤的示範案例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-200">Example Scenarios for ObjectTypeMismatch error</span></span>
* <span data-ttu-id="fb0fe-201">在 Office 365 中建立擁有郵件功能的安全性群組。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-201">A mail enabled security group is created in Office 365.</span></span> <span data-ttu-id="fb0fe-202">系統管理員，加入新的使用者或連絡人在內部部署上 AD （未同步處理尚未 tooAzure AD） 以 hello 相同的 hello Office 365 hello ProxyAddresses 屬性的值分組。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-202">Admin adds a new user or contact in on premises AD (that's not synchronized tooAzure AD yet) with hello same value for hello ProxyAddresses attribute as that of hello Office 365 group.</span></span>

#### <a name="example-case"></a><span data-ttu-id="fb0fe-203">範例案例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-203">Example case</span></span>
1. <span data-ttu-id="fb0fe-204">管理 Office 365 中建立新郵件功能的安全性群組，hello 稅部門，並提供做為電子郵件地址tax@contoso.com。這會指派 hello 值是此群組的 hello ProxyAddresses 屬性**smtp:tax@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="fb0fe-204">Admin creates a new mail enabled security group in Office 365 for hello Tax department and provides an email address as tax@contoso.com. This assigns hello ProxyAddresses attribute for this group with hello value of **smtp:tax@contoso.com**</span></span>
2. <span data-ttu-id="fb0fe-205">新使用者加入 Contoso.com，而且在 hello proxyAddress 做為內部部署的 hello 使用者建立帳戶**smtp:tax@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="fb0fe-205">A new user joins Contoso.com and an account is created for hello user on premises with hello proxyAddress as **smtp:tax@contoso.com**</span></span>
3. <span data-ttu-id="fb0fe-206">Azure AD Connect 會同步 hello 新的使用者帳戶，它會收到 hello"ObjectTypeMismatch 」 錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-206">When Azure AD Connect will sync hello new user account, it will get hello "ObjectTypeMismatch" error.</span></span>

#### <a name="how-toofix-objecttypemismatch-error"></a><span data-ttu-id="fb0fe-207">如何 toofix ObjectTypeMismatch 錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-207">How toofix ObjectTypeMismatch error</span></span>
<span data-ttu-id="fb0fe-208">hello hello ObjectTypeMismatch 錯誤最常見原因是類型的兩個不同 （使用者、 群組、 連絡人等） 的物件有的 hello hello ProxyAddresses 屬性相同的值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-208">hello most common reason for hello ObjectTypeMismatch error is two objects of different type (User, Group, Contact etc.) have hello same value for hello ProxyAddresses attribute.</span></span> <span data-ttu-id="fb0fe-209">在 toofix hello ObjectTypeMismatch 順序：</span><span class="sxs-lookup"><span data-stu-id="fb0fe-209">In order toofix hello ObjectTypeMismatch:</span></span>

1. <span data-ttu-id="fb0fe-210">識別重複的 hello proxyAddresses （或其他屬性） 值的造成 hello 錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-210">Identify hello duplicated proxyAddresses (or other attribute) value that's causing hello error.</span></span> <span data-ttu-id="fb0fe-211">也會識別這兩個\(或多個\)hello 衝突中涉及的物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-211">Also identify which two \(or more\) objects are involved in hello conflict.</span></span> <span data-ttu-id="fb0fe-212">hello 所產生的報表[Azure AD Connect Health 進行同步](https://aka.ms/aadchsyncerrors)可協助您識別 hello 兩個物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-212">hello report generated by [Azure AD Connect Health for sync](https://aka.ms/aadchsyncerrors) can help you identify hello two objects.</span></span>
2. <span data-ttu-id="fb0fe-213">識別哪些物件應該繼續 toohave hello 重複值，以及哪些物件不應該。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-213">Identify which object should continue toohave hello duplicated value and which object should not.</span></span>
3. <span data-ttu-id="fb0fe-214">從 hello 物件不應該有該值，移除重複的 hello 值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-214">Remove hello duplicated value from hello object that should NOT have that value.</span></span> <span data-ttu-id="fb0fe-215">請注意，您應該進行變更 hello hello 物件源自其中的目錄中的 hello。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-215">Note that you should make hello change in hello directory where hello object is sourced from.</span></span> <span data-ttu-id="fb0fe-216">在某些情況下，您可能需要 toodelete 的其中一個衝突的 hello 物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-216">In some cases, you may need toodelete one of hello objects in conflict.</span></span>
4. <span data-ttu-id="fb0fe-217">如果您進行變更 hello 在內部部署 AD 中的 hello，可讓 Azure AD Connect 同步處理 hello 變更。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-217">If you made hello change in hello on premises AD, let Azure AD Connect sync hello change.</span></span> <span data-ttu-id="fb0fe-218">在 Azure AD Connect Health 進行同步的同步處理錯誤報表取得每隔 30 分鐘更新，並包含 hello hello 最新的同步處理嘗試的錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-218">Sync error report within Azure AD Connect Health for sync gets updated every 30 minutes and includes hello errors from hello latest synchronization attempt.</span></span>

## <a name="duplicate-attributes"></a><span data-ttu-id="fb0fe-219">重複的屬性</span><span class="sxs-lookup"><span data-stu-id="fb0fe-219">Duplicate Attributes</span></span>
### <a name="attributevaluemustbeunique"></a><span data-ttu-id="fb0fe-220">AttributeValueMustBeUnique</span><span class="sxs-lookup"><span data-stu-id="fb0fe-220">AttributeValueMustBeUnique</span></span>
#### <a name="description"></a><span data-ttu-id="fb0fe-221">說明</span><span class="sxs-lookup"><span data-stu-id="fb0fe-221">Description</span></span>
<span data-ttu-id="fb0fe-222">結構描述不允許 toohave hello hello 遵循的相同值的兩個或多個物件的 azure Active Directory 屬性。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-222">Azure Active Directory schema does not allow two or more objects toohave hello same value of hello following attributes.</span></span> <span data-ttu-id="fb0fe-223">這是在 Azure AD 中的每個物件會強制的 toohave 這些屬性的指定執行個體的唯一值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-223">That is each object in Azure AD is forced toohave a unique value of these attributes at a given instance.</span></span>

* <span data-ttu-id="fb0fe-224">ProxyAddresses</span><span class="sxs-lookup"><span data-stu-id="fb0fe-224">ProxyAddresses</span></span>
* <span data-ttu-id="fb0fe-225">UserPrincipalName</span><span class="sxs-lookup"><span data-stu-id="fb0fe-225">UserPrincipalName</span></span>

<span data-ttu-id="fb0fe-226">如果 Azure AD Connect 嘗試 tooadd 新物件或更新現有物件具有值的上述屬性已指派 tooanother 物件在 Azure Active Directory 中的 hello，hello 操作就會導致 hello"AttributeValueMustBeUnique"同步錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-226">If Azure AD Connect attempts tooadd a new object or update an existing object with a value for hello above attributes that is already assigned tooanother object in Azure Active Directory, hello operation results in hello "AttributeValueMustBeUnique" sync error.</span></span>

#### <a name="possible-scenarios"></a><span data-ttu-id="fb0fe-227">可能的案例︰</span><span class="sxs-lookup"><span data-stu-id="fb0fe-227">Possible Scenarios:</span></span>
1. <span data-ttu-id="fb0fe-228">重複的值是指派的 tooan 已同步處理的物件，可與同步處理的另一個物件衝突。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-228">Duplicate value is assigned tooan already synced object, which conflicts with another synced object.</span></span>

#### <a name="example-case"></a><span data-ttu-id="fb0fe-229">範例案例︰</span><span class="sxs-lookup"><span data-stu-id="fb0fe-229">Example case:</span></span>
1. <span data-ttu-id="fb0fe-230">**Bob Smith** 是 Azure Active Directory 中已從 contoso.com 的內部部署 Active Directory 同步處理的使用者</span><span class="sxs-lookup"><span data-stu-id="fb0fe-230">**Bob Smith** is a synced user in Azure Active Directory from on premises Active Directory of contoso.com</span></span>
2. <span data-ttu-id="fb0fe-231">Bob Smith 的內部部署 **UserPrincipalName** 已設定為 **bobs@contoso.com**。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-231">Bob Smith's **UserPrincipalName** on premises is set as **bobs@contoso.com**.</span></span>
3. <span data-ttu-id="fb0fe-232">Bob 也有下列值 hello **proxyAddresses**屬性：</span><span class="sxs-lookup"><span data-stu-id="fb0fe-232">Bob also has following values for hello **proxyAddresses** attribute:</span></span>
   * smtp:bobs@contoso.com
   * smtp:bob.smith@contoso.com
   * **smtp:bob@contoso.com**
4. <span data-ttu-id="fb0fe-233">新的使用者， **Bob Taylor**，會在內部部署 Active Directory 加入 toohello。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-233">A new user, **Bob Taylor**, is added toohello on premises Active Directory.</span></span>
5. <span data-ttu-id="fb0fe-234">Bob Taylor 的 **UserPrincipalName** 已設為 **bobt@contoso.com**。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-234">Bob Taylor's **UserPrincipalName** is set as **bobt@contoso.com**.</span></span>
6. <span data-ttu-id="fb0fe-235">**Bob Taylor**具有下列值 hello hello **ProxyAddresses**屬性 i。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-235">**Bob Taylor** has hello following values for hello **ProxyAddresses** attribute i.</span></span> <span data-ttu-id="fb0fe-236">smtp:bobt@contoso.com ii.</span><span class="sxs-lookup"><span data-stu-id="fb0fe-236">smtp:bobt@contoso.com ii.</span></span> <span data-ttu-id="fb0fe-237">smtp:bob.taylor@contoso.com</span><span class="sxs-lookup"><span data-stu-id="fb0fe-237">smtp:bob.taylor@contoso.com</span></span>
7. <span data-ttu-id="fb0fe-238">Bob Taylor 物件已成功與 Azure AD 同步處理。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-238">Bob Taylor's object is synchronized with Azure AD successfully.</span></span>
8. <span data-ttu-id="fb0fe-239">系統管理員決定 tooupdate Bob Taylor 的**ProxyAddresses**屬性以 hello 下列值： 我。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-239">Admin decided tooupdate Bob Taylor's **ProxyAddresses** attribute with hello following value: i.</span></span> **smtp:bob@contoso.com**
9. <span data-ttu-id="fb0fe-240">Azure AD 將會嘗試 tooupdate Bob taylor 了解的物件值，上述的 hello 與 Azure AD 中，但該作業將會失敗為 ProxyAddresses 值已指派 tooBob Smith，因而導致"AttributeValueMustBeUnique 」 錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-240">Azure AD will attempt tooupdate Bob Taylor's object in Azure AD with hello above value, but that operation will fail as that ProxyAddresses value is already assigned tooBob Smith, resulting in "AttributeValueMustBeUnique" error.</span></span>

#### <a name="how-toofix-attributevaluemustbeunique-error"></a><span data-ttu-id="fb0fe-241">如何 toofix AttributeValueMustBeUnique 錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-241">How toofix AttributeValueMustBeUnique error</span></span>
<span data-ttu-id="fb0fe-242">hello hello AttributeValueMustBeUnique 錯誤最常見原因是兩個物件具有不同的 SourceAnchor \(immutableId\)擁有的 hello 相同的 hello ProxyAddresses 及/或 UserPrincipalName 屬性的值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-242">hello most common reason for hello AttributeValueMustBeUnique error is two objects with different SourceAnchor \(immutableId\) have hello same value for hello ProxyAddresses and/or UserPrincipalName attributes.</span></span> <span data-ttu-id="fb0fe-243">在訂單 toofix AttributeValueMustBeUnique 錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-243">In order toofix AttributeValueMustBeUnique error</span></span>

1. <span data-ttu-id="fb0fe-244">識別重複的 hello proxyAddresses、 userPrincipalName 或 hello 錯誤造成其他屬性值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-244">Identify hello duplicated proxyAddresses, userPrincipalName or other attribute value that's causing hello error.</span></span> <span data-ttu-id="fb0fe-245">也會識別這兩個\(或多個\)hello 衝突中涉及的物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-245">Also identify which two \(or more\) objects are involved in hello conflict.</span></span> <span data-ttu-id="fb0fe-246">hello 所產生的報表[Azure AD Connect Health 進行同步](https://aka.ms/aadchsyncerrors)可協助您識別 hello 兩個物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-246">hello report generated by [Azure AD Connect Health for sync](https://aka.ms/aadchsyncerrors) can help you identify hello two objects.</span></span>
2. <span data-ttu-id="fb0fe-247">識別哪些物件應該繼續 toohave hello 重複值，以及哪些物件不應該。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-247">Identify which object should continue toohave hello duplicated value and which object should not.</span></span>
3. <span data-ttu-id="fb0fe-248">從 hello 物件不應該有該值，移除重複的 hello 值。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-248">Remove hello duplicated value from hello object that should NOT have that value.</span></span> <span data-ttu-id="fb0fe-249">請注意，您應該進行變更 hello hello 物件源自其中的目錄中的 hello。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-249">Note that you should make hello change in hello directory where hello object is sourced from.</span></span> <span data-ttu-id="fb0fe-250">在某些情況下，您可能需要 toodelete 的其中一個衝突的 hello 物件。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-250">In some cases, you may need toodelete one of hello objects in conflict.</span></span>
4. <span data-ttu-id="fb0fe-251">如果您進行變更 hello 在內部部署 AD 中的 hello，可讓 Azure AD Connect 同步處理 hello 變更 hello 錯誤 tooget 固定的。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-251">If you made hello change in hello on premises AD, let Azure AD Connect sync hello change for hello error tooget fixed.</span></span>

#### <a name="related-articles"></a><span data-ttu-id="fb0fe-252">相關文章</span><span class="sxs-lookup"><span data-stu-id="fb0fe-252">Related Articles</span></span>
<span data-ttu-id="fb0fe-253">-[重複或無效的屬性會防止 Office 365 進行目錄同步作業](https://support.microsoft.com/en-us/kb/2647098)</span><span class="sxs-lookup"><span data-stu-id="fb0fe-253">-[Duplicate or invalid attributes prevent directory synchronization in Office 365](https://support.microsoft.com/en-us/kb/2647098)</span></span>

## <a name="data-validation-failures"></a><span data-ttu-id="fb0fe-254">資料驗證失敗</span><span class="sxs-lookup"><span data-stu-id="fb0fe-254">Data Validation Failures</span></span>
### <a name="identitydatavalidationfailed"></a><span data-ttu-id="fb0fe-255">IdentityDataValidationFailed</span><span class="sxs-lookup"><span data-stu-id="fb0fe-255">IdentityDataValidationFailed</span></span>
#### <a name="description"></a><span data-ttu-id="fb0fe-256">說明</span><span class="sxs-lookup"><span data-stu-id="fb0fe-256">Description</span></span>
<span data-ttu-id="fb0fe-257">Azure Active Directory 會強制執行各種限制允許 hello 目錄中寫入該資料 toobe 之前 hello 資料本身。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-257">Azure Active Directory enforces various restrictions on hello data itself before allowing that data toobe written into hello directory.</span></span> <span data-ttu-id="fb0fe-258">這是使用者取得 hello 最佳可能的體驗使用 hello 應用程式相依於此資料時的 tooensure。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-258">This is tooensure that end users get hello best possible experiences while using hello applications that depend on this data.</span></span>

#### <a name="scenarios"></a><span data-ttu-id="fb0fe-259">案例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-259">Scenarios</span></span>
<span data-ttu-id="fb0fe-260">a.</span><span class="sxs-lookup"><span data-stu-id="fb0fe-260">a.</span></span> <span data-ttu-id="fb0fe-261">hello UserPrincipalName 屬性值具有無效/不支援的字元。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-261">hello UserPrincipalName attribute value has invalid/unsupported characters.</span></span>
<span data-ttu-id="fb0fe-262">b.</span><span class="sxs-lookup"><span data-stu-id="fb0fe-262">b.</span></span> <span data-ttu-id="fb0fe-263">hello UserPrincipalName 屬性未依照 hello 必要的格式。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-263">hello UserPrincipalName attribute does not follow hello required format.</span></span>

#### <a name="how-toofix-identitydatavalidationfailed-error"></a><span data-ttu-id="fb0fe-264">如何 toofix IdentityDataValidationFailed 錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-264">How toofix IdentityDataValidationFailed error</span></span>
<span data-ttu-id="fb0fe-265">a.</span><span class="sxs-lookup"><span data-stu-id="fb0fe-265">a.</span></span> <span data-ttu-id="fb0fe-266">請確定該 hello userPrincipalName 屬性已支援的字元和所需的格式。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-266">Ensure that hello userPrincipalName attribute has supported characters and required format.</span></span>

#### <a name="related-articles"></a><span data-ttu-id="fb0fe-267">相關文章</span><span class="sxs-lookup"><span data-stu-id="fb0fe-267">Related Articles</span></span>
* [<span data-ttu-id="fb0fe-268">準備 tooprovision 使用者可透過目錄同步處理 tooOffice 365</span><span class="sxs-lookup"><span data-stu-id="fb0fe-268">Prepare tooprovision users through directory synchronization tooOffice 365</span></span>](https://support.office.com/en-us/article/Prepare-to-provision-users-through-directory-synchronization-to-Office-365-01920974-9e6f-4331-a370-13aea4e82b3e)

### <a name="federateddomainchangeerror"></a><span data-ttu-id="fb0fe-269">FederatedDomainChangeError</span><span class="sxs-lookup"><span data-stu-id="fb0fe-269">FederatedDomainChangeError</span></span>
#### <a name="description"></a><span data-ttu-id="fb0fe-270">說明</span><span class="sxs-lookup"><span data-stu-id="fb0fe-270">Description</span></span>
<span data-ttu-id="fb0fe-271">這是特定的情況會導致**"FederatedDomainChangeError"** hello 尾碼的使用者的 UserPrincipalName 變更從一個同盟的網域 tooanother 同盟網域時，同步處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-271">This is a specific case that results in a **"FederatedDomainChangeError"** sync error when hello suffix of a user's UserPrincipalName is changed from one federated domain tooanother federated domain.</span></span>

#### <a name="scenarios"></a><span data-ttu-id="fb0fe-272">案例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-272">Scenarios</span></span>
<span data-ttu-id="fb0fe-273">針對同步處理的使用者，從一個同盟的網域 tooanother 同盟網域在內部部署變更 hello UserPrincipalName 後置詞。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-273">For a synchronized user, hello UserPrincipalName suffix was changed from one federated domain tooanother federated domain on premises.</span></span> <span data-ttu-id="fb0fe-274">例如， *UserPrincipalName = bob@contoso.com* 已變更過*UserPrincipalName = bob@fabrikam.com* 。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-274">For example, *UserPrincipalName = bob@contoso.com* was changed too*UserPrincipalName = bob@fabrikam.com*.</span></span>

#### <a name="example"></a><span data-ttu-id="fb0fe-275">範例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-275">Example</span></span>
1. <span data-ttu-id="fb0fe-276">Bob Smith，Contoso.com，帳戶加入為新使用者在 Active Directory 中以 hello UserPrincipalNamebob@contoso.com</span><span class="sxs-lookup"><span data-stu-id="fb0fe-276">Bob Smith, an account for Contoso.com, gets added as a new user in Active Directory with hello UserPrincipalName bob@contoso.com</span></span>
2. <span data-ttu-id="fb0fe-277">Bob 移動 tooa 不同的區域稱為 Fabrikam.com 和他 UserPrincipalName Contoso.com 的變更toobob@fabrikam.com</span><span class="sxs-lookup"><span data-stu-id="fb0fe-277">Bob moves tooa different division of Contoso.com called Fabrikam.com and his UserPrincipalName is changed toobob@fabrikam.com</span></span>
3. <span data-ttu-id="fb0fe-278">Contoso.com 和 fabrikam.com 網域都是使用 Azure Active Directory 的同盟網域。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-278">Both contoso.com and fabrikam.com domains are federated domains with Azure Active Directory.</span></span>
4. <span data-ttu-id="fb0fe-279">Bob 的 userPrincipalName 並不會更新，而導致發生 "FederatedDomainChangeError" 同步處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-279">Bob's userPrincipalName does not get updated and results in a "FederatedDomainChangeError" sync error.</span></span>

#### <a name="how-toofix"></a><span data-ttu-id="fb0fe-280">如何 toofix</span><span class="sxs-lookup"><span data-stu-id="fb0fe-280">How toofix</span></span>
<span data-ttu-id="fb0fe-281">如果使用者的 UserPrincipalName 尾碼已更新從 bob @**contoso.com** toobob @**fabrikam.com**，其中同時**contoso.com**和**fabrikam.com**是**同盟網域**，然後依照這些步驟 toofix hello 同步錯誤</span><span class="sxs-lookup"><span data-stu-id="fb0fe-281">If a user's UserPrincipalName suffix was updated from bob@**contoso.com** toobob@**fabrikam.com**, where both **contoso.com** and **fabrikam.com** are **federated domains**, then follow these steps toofix hello sync error</span></span>

1. <span data-ttu-id="fb0fe-282">從 Azure AD 中更新 hello 使用者的 UserPrincipalName bob@contoso.com toobob@contoso.onmicrosoft.com。您可以使用下列 PowerShell 命令以 hello Azure AD PowerShell 模組的 hello:`Set-MsolUserPrincipalName -UserPrincipalName bob@contoso.com -NewUserPrincipalName bob@contoso.onmicrosoft.com`</span><span class="sxs-lookup"><span data-stu-id="fb0fe-282">Update hello user's UserPrincipalName in Azure AD from bob@contoso.com toobob@contoso.onmicrosoft.com. You can use hello following PowerShell command with hello Azure AD PowerShell Module: `Set-MsolUserPrincipalName -UserPrincipalName bob@contoso.com -NewUserPrincipalName bob@contoso.onmicrosoft.com`</span></span>
2. <span data-ttu-id="fb0fe-283">允許 hello 下一個同步處理循環 tooattempt 同步處理。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-283">Allow hello next sync cycle tooattempt synchronization.</span></span> <span data-ttu-id="fb0fe-284">此時間同步處理將會成功，而且也會更新 hello UserPrincipalName 的 Bobtoobob@fabrikam.com如預期般。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-284">This time synchronization will be successful and it will update hello UserPrincipalName of Bob toobob@fabrikam.com as expected.</span></span>

#### <a name="related-articles"></a><span data-ttu-id="fb0fe-285">相關文章</span><span class="sxs-lookup"><span data-stu-id="fb0fe-285">Related Articles</span></span>
* [<span data-ttu-id="fb0fe-286">變更未同步處理 hello Azure Active Directory 同步作業工具之後變更 hello 的使用者帳戶 toouse 不同的同盟網域 UPN</span><span class="sxs-lookup"><span data-stu-id="fb0fe-286">Changes aren't synced by hello Azure Active Directory Sync tool after you change hello UPN of a user account toouse a different federated domain</span></span>](https://support.microsoft.com/en-us/help/2669550/changes-aren-t-synced-by-the-azure-active-directory-sync-tool-after-you-change-the-upn-of-a-user-account-to-use-a-different-federated-domain)

## <a name="largeobject"></a><span data-ttu-id="fb0fe-287">LargeObject</span><span class="sxs-lookup"><span data-stu-id="fb0fe-287">LargeObject</span></span>
### <a name="description"></a><span data-ttu-id="fb0fe-288">說明</span><span class="sxs-lookup"><span data-stu-id="fb0fe-288">Description</span></span>
<span data-ttu-id="fb0fe-289">當屬性超過允許的大小限制、 長度限制或 Azure Active Directory 結構描述所設定的計數限制 hello 時，hello 同步處理作業會產生 hello **LargeObject**或**ExceededAllowedLength**同步錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-289">When an attribute exceeds hello allowed size limit, length limit or count limit set by Azure Active Directory schema, hello synchronization operation results in hello **LargeObject** or **ExceededAllowedLength** sync error.</span></span> <span data-ttu-id="fb0fe-290">通常會發生此錯誤的下列屬性的 hello</span><span class="sxs-lookup"><span data-stu-id="fb0fe-290">Typically this error occurs for hello following attributes</span></span>

* <span data-ttu-id="fb0fe-291">userCertificate</span><span class="sxs-lookup"><span data-stu-id="fb0fe-291">userCertificate</span></span>
* <span data-ttu-id="fb0fe-292">userSMIMECertificate</span><span class="sxs-lookup"><span data-stu-id="fb0fe-292">userSMIMECertificate</span></span>
* <span data-ttu-id="fb0fe-293">thumbnailPhoto</span><span class="sxs-lookup"><span data-stu-id="fb0fe-293">thumbnailPhoto</span></span>
* <span data-ttu-id="fb0fe-294">proxyAddresses</span><span class="sxs-lookup"><span data-stu-id="fb0fe-294">proxyAddresses</span></span>

### <a name="possible-scenarios"></a><span data-ttu-id="fb0fe-295">可能的案例</span><span class="sxs-lookup"><span data-stu-id="fb0fe-295">Possible Scenarios</span></span>
1. <span data-ttu-id="fb0fe-296">Bob userCertificate 屬性儲存太多指派憑證 tooBob。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-296">Bob's userCertificate attribute is storing too many certificates assigned tooBob.</span></span> <span data-ttu-id="fb0fe-297">這些可能包含已過期的舊版憑證。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-297">These may include older, expired certificates.</span></span> <span data-ttu-id="fb0fe-298">hello 嚴格限制為 15 的憑證。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-298">hello hard limit is 15 certificates.</span></span> <span data-ttu-id="fb0fe-299">如需有關如何使用 userCertificate toohandle LargeObject 錯誤屬性，請參閱 tooarticle [userCertificate 屬性所造成的處理 LargeObject 錯誤](active-directory-aadconnectsync-largeobjecterror-usercertificate.md)。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-299">For more information on how toohandle LargeObject errors with userCertificate attribute, please refer tooarticle [Handling LargeObject errors caused by userCertificate attribute](active-directory-aadconnectsync-largeobjecterror-usercertificate.md).</span></span>
2. <span data-ttu-id="fb0fe-300">Bob userSMIMECertificate 屬性儲存太多指派憑證 tooBob。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-300">Bob's userSMIMECertificate attribute is storing too many certificates assigned tooBob.</span></span> <span data-ttu-id="fb0fe-301">這些可能包含已過期的舊版憑證。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-301">These may include older, expired certificates.</span></span> <span data-ttu-id="fb0fe-302">hello 嚴格限制為 15 的憑證。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-302">hello hard limit is 15 certificates.</span></span>
3. <span data-ttu-id="fb0fe-303">Bob thumbnailPhoto 在 Active Directory 中設定是在 Azure AD 中同步處理的 toobe 太大。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-303">Bob's thumbnailPhoto set in Active Directory is too large toobe synced in Azure AD.</span></span>
4. <span data-ttu-id="fb0fe-304">自動母體擴展期間的 Active Directory 中的 hello ProxyAddresses 屬性，物件會有太多 ProxyAddresses 指派。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-304">During automatic population of hello ProxyAddresses attribute in Active Directory, an object has too many ProxyAddresses assigned.</span></span>

### <a name="how-toofix"></a><span data-ttu-id="fb0fe-305">如何 toofix</span><span class="sxs-lookup"><span data-stu-id="fb0fe-305">How toofix</span></span>
1. <span data-ttu-id="fb0fe-306">請讓 hello 錯誤該 hello 屬性 hello 允許的限制內。</span><span class="sxs-lookup"><span data-stu-id="fb0fe-306">Ensure that hello attribute causing hello error is within hello allowed limitation.</span></span>

## <a name="related-links"></a><span data-ttu-id="fb0fe-307">相關連結</span><span class="sxs-lookup"><span data-stu-id="fb0fe-307">Related links</span></span>
* [<span data-ttu-id="fb0fe-308">在 Active Directory 管理中心找出 Active Directory 物件</span><span class="sxs-lookup"><span data-stu-id="fb0fe-308">Locate Active Directory Objects in Active Directory Administrative Center</span></span>](https://technet.microsoft.com/library/dd560661.aspx)
* [<span data-ttu-id="fb0fe-309">如何使用 Azure Active Directory PowerShell 物件 tooquery Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="fb0fe-309">How tooquery Azure Active Directory for an object using Azure Active Directory PowerShell</span></span>](https://msdn.microsoft.com/library/azure/jj151815.aspx)
