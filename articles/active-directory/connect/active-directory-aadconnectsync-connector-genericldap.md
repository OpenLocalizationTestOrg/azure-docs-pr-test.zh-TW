---
title: "一般 LDAP 連接器 | Microsoft Docs"
description: "本文說明如何設定 Microsoft 的一般 LDAP 連接器。"
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 984beeb0-4d91-4908-ad81-c19797c4891b
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: adb174526bc377f484be5fb0a71b28e8daaaa6fd
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="generic-ldap-connector-technical-reference"></a><span data-ttu-id="21f23-103">一般 LDAP 連接器技術參考</span><span class="sxs-lookup"><span data-stu-id="21f23-103">Generic LDAP Connector technical reference</span></span>
<span data-ttu-id="21f23-104">本文說明一般 LDAP 連接器。</span><span class="sxs-lookup"><span data-stu-id="21f23-104">This article describes the Generic LDAP Connector.</span></span> <span data-ttu-id="21f23-105">本文適用於下列產品：</span><span class="sxs-lookup"><span data-stu-id="21f23-105">The article applies to the following products:</span></span>

* <span data-ttu-id="21f23-106">Microsoft Identity Manager 2016 (MIM2016)</span><span class="sxs-lookup"><span data-stu-id="21f23-106">Microsoft Identity Manager 2016 (MIM2016)</span></span>
* <span data-ttu-id="21f23-107">Forefront Identity Manager 2010 R2 (FIM2010R2)</span><span class="sxs-lookup"><span data-stu-id="21f23-107">Forefront Identity Manager 2010 R2 (FIM2010R2)</span></span>
  * <span data-ttu-id="21f23-108">必須使用 Hotfix 4.1.3671.0 或更新版本 [KB3092178](https://support.microsoft.com/kb/3092178)。</span><span class="sxs-lookup"><span data-stu-id="21f23-108">Must use hotfix 4.1.3671.0 or later [KB3092178](https://support.microsoft.com/kb/3092178).</span></span>

<span data-ttu-id="21f23-109">對於 MIM2016 和 FIM2010R2，可以從 [Microsoft 下載中心](http://go.microsoft.com/fwlink/?LinkId=717495)下載此連接器。</span><span class="sxs-lookup"><span data-stu-id="21f23-109">For MIM2016 and FIM2010R2, the Connector is available as a download from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=717495).</span></span>

<span data-ttu-id="21f23-110">提到 IETF RFC 時，本文件會使用 (RFC [RFC 編號]/[RFC 文件中的區段]) 格式，例如：(RFC 4512/4.3)。</span><span class="sxs-lookup"><span data-stu-id="21f23-110">When referring to IETF RFCs, this document is using the format (RFC [RFC number]/[section in RFC document]), for example (RFC 4512/4.3).</span></span>
<span data-ttu-id="21f23-111">您可以在 http://tools.ietf.org/html/rfc4500 找到詳細資訊 (您需要以正確的 RFC 編號取代 4500)。</span><span class="sxs-lookup"><span data-stu-id="21f23-111">You can find more information at http://tools.ietf.org/html/rfc4500 (you need to replace 4500 with the correct RFC number).</span></span>

## <a name="overview-of-the-generic-ldap-connector"></a><span data-ttu-id="21f23-112">一般 LDAP 連接器概觀</span><span class="sxs-lookup"><span data-stu-id="21f23-112">Overview of the Generic LDAP Connector</span></span>
<span data-ttu-id="21f23-113">一般 LDAP 連接器可讓您整合同步處理服務與 LDAP v3 伺服器。</span><span class="sxs-lookup"><span data-stu-id="21f23-113">The Generic LDAP Connector enables you to integrate the synchronization service with an LDAP v3 server.</span></span>

<span data-ttu-id="21f23-114">IETF RFC 中未指定某些作業和結構描述項目，例如需要執行差異匯入的項目。</span><span class="sxs-lookup"><span data-stu-id="21f23-114">Certain operations and schema elements, such as those needed to perform delta import, are not specified in the IETF RFCs.</span></span> <span data-ttu-id="21f23-115">對於這些作業，只支援明確指定的 LDAP 目錄。</span><span class="sxs-lookup"><span data-stu-id="21f23-115">For these operations, only LDAP directories explicitly specified are supported.</span></span>

<span data-ttu-id="21f23-116">目前的連接器版本大致支援下列功能：</span><span class="sxs-lookup"><span data-stu-id="21f23-116">From a high-level perspective, the following features are supported by the current release of the connector:</span></span>

| <span data-ttu-id="21f23-117">功能</span><span class="sxs-lookup"><span data-stu-id="21f23-117">Feature</span></span> | <span data-ttu-id="21f23-118">支援</span><span class="sxs-lookup"><span data-stu-id="21f23-118">Support</span></span> |
| --- | --- |
| <span data-ttu-id="21f23-119">連接的資料來源</span><span class="sxs-lookup"><span data-stu-id="21f23-119">Connected data source</span></span> |<span data-ttu-id="21f23-120">此連接器支援所有 LDAP v3 伺服器 (RFC 4510 相容)。</span><span class="sxs-lookup"><span data-stu-id="21f23-120">The Connector is supported with all LDAP v3 servers (RFC 4510 compliant).</span></span> <span data-ttu-id="21f23-121">此連接器已進行下列各項的測試：</span><span class="sxs-lookup"><span data-stu-id="21f23-121">It has been tested with the following:</span></span> <li><span data-ttu-id="21f23-122">Microsoft Active Directory Lightweight Directory Services (AD LDS)</span><span class="sxs-lookup"><span data-stu-id="21f23-122">Microsoft Active Directory Lightweight Directory Services (AD LDS)</span></span></li><li><span data-ttu-id="21f23-123">Microsoft Active Directory Global Catalog (AD GC)</span><span class="sxs-lookup"><span data-stu-id="21f23-123">Microsoft Active Directory Global Catalog (AD GC)</span></span></li><li><span data-ttu-id="21f23-124">389 Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-124">389 Directory Server</span></span></li><li><span data-ttu-id="21f23-125">Apache Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-125">Apache Directory Server</span></span></li><li><span data-ttu-id="21f23-126">IBM Tivoli DS</span><span class="sxs-lookup"><span data-stu-id="21f23-126">IBM Tivoli DS</span></span></li><li><span data-ttu-id="21f23-127">Isode Directory</span><span class="sxs-lookup"><span data-stu-id="21f23-127">Isode Directory</span></span></li><li><span data-ttu-id="21f23-128">NetIQ eDirectory</span><span class="sxs-lookup"><span data-stu-id="21f23-128">NetIQ eDirectory</span></span></li><li><span data-ttu-id="21f23-129">Novell eDirectory</span><span class="sxs-lookup"><span data-stu-id="21f23-129">Novell eDirectory</span></span></li><li><span data-ttu-id="21f23-130">Open DJ</span><span class="sxs-lookup"><span data-stu-id="21f23-130">Open DJ</span></span></li><li><span data-ttu-id="21f23-131">Open DS</span><span class="sxs-lookup"><span data-stu-id="21f23-131">Open DS</span></span></li><li><span data-ttu-id="21f23-132">Open LDAP (openldap.org)</span><span class="sxs-lookup"><span data-stu-id="21f23-132">Open LDAP (openldap.org)</span></span></li><li><span data-ttu-id="21f23-133">Oracle (之前為 Sun) Directory Server Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="21f23-133">Oracle (previously Sun) Directory Server Enterprise Edition</span></span></li><li><span data-ttu-id="21f23-134">RadiantOne Virtual Directory Server (VDS)</span><span class="sxs-lookup"><span data-stu-id="21f23-134">RadiantOne Virtual Directory Server (VDS)</span></span></li><li><span data-ttu-id="21f23-135">Sun One Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-135">Sun One Directory Server</span></span></li><span data-ttu-id="21f23-136">**不支援值得注意的目錄：**</span><span class="sxs-lookup"><span data-stu-id="21f23-136">**Notable directories not supported:**</span></span> <li><span data-ttu-id="21f23-137">Active Directory Domain Services (AD DS) [改為使用內建的 Active Directory 連接器]</span><span class="sxs-lookup"><span data-stu-id="21f23-137">Microsoft Active Directory Domain Services (AD DS) [Use the built-in Active Directory Connector instead]</span></span></li><li><span data-ttu-id="21f23-138">Oracle Internet Directory (OID)</span><span class="sxs-lookup"><span data-stu-id="21f23-138">Oracle Internet Directory (OID)</span></span></li> |
| <span data-ttu-id="21f23-139">案例</span><span class="sxs-lookup"><span data-stu-id="21f23-139">Scenarios</span></span> |<li><span data-ttu-id="21f23-140">物件生命週期管理</span><span class="sxs-lookup"><span data-stu-id="21f23-140">Object Lifecycle Management</span></span></li><li><span data-ttu-id="21f23-141">群組管理</span><span class="sxs-lookup"><span data-stu-id="21f23-141">Group Management</span></span></li><li><span data-ttu-id="21f23-142">密碼管理</span><span class="sxs-lookup"><span data-stu-id="21f23-142">Password Management</span></span></li> |
| <span data-ttu-id="21f23-143">作業</span><span class="sxs-lookup"><span data-stu-id="21f23-143">Operations</span></span> |<span data-ttu-id="21f23-144">所有 LDAP 目錄都支援下列作業：</span><span class="sxs-lookup"><span data-stu-id="21f23-144">The following operations are supported on all LDAP directories:</span></span> <li><span data-ttu-id="21f23-145">完整匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-145">Full Import</span></span></li><li><span data-ttu-id="21f23-146">匯出</span><span class="sxs-lookup"><span data-stu-id="21f23-146">Export</span></span></li><span data-ttu-id="21f23-147">僅在特定目錄上支援下列作業：</span><span class="sxs-lookup"><span data-stu-id="21f23-147">The following operations are only supported on specified directories:</span></span><li><span data-ttu-id="21f23-148">差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-148">Delta import</span></span></li><li><span data-ttu-id="21f23-149">設定密碼、變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-149">Set Password, Change Password</span></span></li> |
| <span data-ttu-id="21f23-150">結構描述</span><span class="sxs-lookup"><span data-stu-id="21f23-150">Schema</span></span> |<li><span data-ttu-id="21f23-151">從 LDAP 結構描述 (RFC3673 和 RFC4512/4.2) 中偵測到結構描述</span><span class="sxs-lookup"><span data-stu-id="21f23-151">Schema is detected from the LDAP schema (RFC3673 and RFC4512/4.2)</span></span></li><li><span data-ttu-id="21f23-152">支援結構化類別、aux 類別和 extensibleObject 物件類別 (RFC4512/4.3)</span><span class="sxs-lookup"><span data-stu-id="21f23-152">Supports structural classes, aux classes, and extensibleObject object class (RFC4512/4.3)</span></span></li> |

### <a name="delta-import-and-password-management-support"></a><span data-ttu-id="21f23-153">差異匯入和密碼管理支援</span><span class="sxs-lookup"><span data-stu-id="21f23-153">Delta import and password management support</span></span>
<span data-ttu-id="21f23-154">支援差異匯入和密碼管理的目錄：</span><span class="sxs-lookup"><span data-stu-id="21f23-154">Supported Directories for Delta import and Password management:</span></span>

* <span data-ttu-id="21f23-155">Microsoft Active Directory Lightweight Directory Services (AD LDS)</span><span class="sxs-lookup"><span data-stu-id="21f23-155">Microsoft Active Directory Lightweight Directory Services (AD LDS)</span></span>
  * <span data-ttu-id="21f23-156">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-156">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-157">支援設定密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-157">Supports Set Password</span></span>
* <span data-ttu-id="21f23-158">Microsoft Active Directory Global Catalog (AD GC)</span><span class="sxs-lookup"><span data-stu-id="21f23-158">Microsoft Active Directory Global Catalog (AD GC)</span></span>
  * <span data-ttu-id="21f23-159">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-159">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-160">支援設定密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-160">Supports Set Password</span></span>
* <span data-ttu-id="21f23-161">389 Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-161">389 Directory Server</span></span>
  * <span data-ttu-id="21f23-162">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-162">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-163">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-163">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-164">Apache Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-164">Apache Directory Server</span></span>
  * <span data-ttu-id="21f23-165">不支援差異匯入，因為此目錄沒有持續性的變更記錄檔</span><span class="sxs-lookup"><span data-stu-id="21f23-165">Does not support delta import since this directory does not have a persistent change log</span></span>
  * <span data-ttu-id="21f23-166">支援設定密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-166">Supports Set Password</span></span>
* <span data-ttu-id="21f23-167">IBM Tivoli DS</span><span class="sxs-lookup"><span data-stu-id="21f23-167">IBM Tivoli DS</span></span>
  * <span data-ttu-id="21f23-168">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-168">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-169">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-169">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-170">Isode Directory</span><span class="sxs-lookup"><span data-stu-id="21f23-170">Isode Directory</span></span>
  * <span data-ttu-id="21f23-171">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-171">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-172">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-172">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-173">Novell eDirectory 和 NetIQ eDirectory</span><span class="sxs-lookup"><span data-stu-id="21f23-173">Novell eDirectory and NetIQ eDirectory</span></span>
  * <span data-ttu-id="21f23-174">支援 [新增]、[更新] 和 [重新命名] 作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-174">Supports Add, Update, and Rename operations for delta import</span></span>
  * <span data-ttu-id="21f23-175">不支援 [刪除] 作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-175">Does not support Delete operations for delta import</span></span>
  * <span data-ttu-id="21f23-176">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-176">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-177">Open DJ</span><span class="sxs-lookup"><span data-stu-id="21f23-177">Open DJ</span></span>
  * <span data-ttu-id="21f23-178">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-178">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-179">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-179">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-180">Open DS</span><span class="sxs-lookup"><span data-stu-id="21f23-180">Open DS</span></span>
  * <span data-ttu-id="21f23-181">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-181">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-182">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-182">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-183">Open LDAP (openldap.org)</span><span class="sxs-lookup"><span data-stu-id="21f23-183">Open LDAP (openldap.org)</span></span>
  * <span data-ttu-id="21f23-184">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-184">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-185">支援設定密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-185">Supports Set Password</span></span>
  * <span data-ttu-id="21f23-186">不支援變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-186">Does not support change password</span></span>
* <span data-ttu-id="21f23-187">Oracle (之前為 Sun) Directory Server Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="21f23-187">Oracle (previously Sun) Directory Server Enterprise Edition</span></span>
  * <span data-ttu-id="21f23-188">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-188">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-189">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-189">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-190">RadiantOne Virtual Directory Server (VDS)</span><span class="sxs-lookup"><span data-stu-id="21f23-190">RadiantOne Virtual Directory Server (VDS)</span></span>
  * <span data-ttu-id="21f23-191">必須使用 7.1.1 版或更高版本</span><span class="sxs-lookup"><span data-stu-id="21f23-191">Must be using version 7.1.1 or higher</span></span>
  * <span data-ttu-id="21f23-192">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-192">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-193">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-193">Supports Set Password and Change Password</span></span>
* <span data-ttu-id="21f23-194">Sun One Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-194">Sun One Directory Server</span></span>
  * <span data-ttu-id="21f23-195">支援所有作業進行差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-195">Supports all operations for delta import</span></span>
  * <span data-ttu-id="21f23-196">支援設定密碼和變更密碼</span><span class="sxs-lookup"><span data-stu-id="21f23-196">Supports Set Password and Change Password</span></span>

### <a name="prerequisites"></a><span data-ttu-id="21f23-197">必要條件</span><span class="sxs-lookup"><span data-stu-id="21f23-197">Prerequisites</span></span>
<span data-ttu-id="21f23-198">在您使用連接器之前，請確定同步處理伺服器上有下列項目：</span><span class="sxs-lookup"><span data-stu-id="21f23-198">Before you use the Connector, make sure you have the following on the synchronization server:</span></span>

* <span data-ttu-id="21f23-199">Microsoft .NET 4.5.2 Framework 或更新版本</span><span class="sxs-lookup"><span data-stu-id="21f23-199">Microsoft .NET 4.5.2 Framework or later</span></span>

### <a name="detecting-the-ldap-server"></a><span data-ttu-id="21f23-200">偵測 LDAP 伺服器</span><span class="sxs-lookup"><span data-stu-id="21f23-200">Detecting the LDAP server</span></span>
<span data-ttu-id="21f23-201">連接器會依賴各種技巧來偵測和識別 LDAP 伺服器。</span><span class="sxs-lookup"><span data-stu-id="21f23-201">The Connector relies upon various techniques to detect and identify the LDAP server.</span></span> <span data-ttu-id="21f23-202">連接器會使用根 DSE、廠商名稱/版本，而且檢查結構描述，以找出已知存在某些 LDAP 伺服器中的唯一物件和屬性。</span><span class="sxs-lookup"><span data-stu-id="21f23-202">The Connector uses the Root DSE, vendor name/version, and it inspects the schema to find unique objects and attributes known to exist in certain LDAP servers.</span></span> <span data-ttu-id="21f23-203">如果找到此資料，則會用來預先填入連接器的設定選項。</span><span class="sxs-lookup"><span data-stu-id="21f23-203">This data, if found, is used to pre-populate the configuration options in the Connector.</span></span>

### <a name="connected-data-source-permissions"></a><span data-ttu-id="21f23-204">連接的資料來源權限</span><span class="sxs-lookup"><span data-stu-id="21f23-204">Connected Data Source permissions</span></span>
<span data-ttu-id="21f23-205">若要在連接的目錄中的物件上執行匯入及匯出作業，連接器帳戶必須具有足夠的權限。</span><span class="sxs-lookup"><span data-stu-id="21f23-205">To perform import and export operations on the objects in the connected directory, the connector account must have sufficient permissions.</span></span> <span data-ttu-id="21f23-206">連接器需要寫入權限才能匯出，需要讀取權限才能匯入。</span><span class="sxs-lookup"><span data-stu-id="21f23-206">The connector needs write permissions to be able to export, and read permissions to be able to import.</span></span> <span data-ttu-id="21f23-207">權限設定是在目標目錄本身的管理經驗內執行。</span><span class="sxs-lookup"><span data-stu-id="21f23-207">Permission configuration is performed within the management experiences of the target directory itself.</span></span>

### <a name="ports-and-protocols"></a><span data-ttu-id="21f23-208">連接埠和通訊協定</span><span class="sxs-lookup"><span data-stu-id="21f23-208">Ports and protocols</span></span>
<span data-ttu-id="21f23-209">連接器會使用組態中指定的連接埠號碼，依預設 LDAP 使用 389 及 LDAPS 使用 636 。</span><span class="sxs-lookup"><span data-stu-id="21f23-209">The connector uses the port number specified in the configuration, which by default is 389 for LDAP and 636 for LDAPS.</span></span>

<span data-ttu-id="21f23-210">對於 LDAPS，您必須使用 SSL 3.0 或 TLS。</span><span class="sxs-lookup"><span data-stu-id="21f23-210">For LDAPS, you must use SSL 3.0 or TLS.</span></span> <span data-ttu-id="21f23-211">不支援 SSL 2.0，而且無法啟用。</span><span class="sxs-lookup"><span data-stu-id="21f23-211">SSL 2.0 is not supported and cannot be activated.</span></span>

### <a name="required-controls-and-features"></a><span data-ttu-id="21f23-212">必要的控制項和功能</span><span class="sxs-lookup"><span data-stu-id="21f23-212">Required controls and features</span></span>
<span data-ttu-id="21f23-213">LDAP 伺服器必須提供下列 LDAP 控制項/功能，連接器才能正常運作：</span><span class="sxs-lookup"><span data-stu-id="21f23-213">The following LDAP controls/features must be available on the LDAP server for the connector to work properly:</span></span>  
<span data-ttu-id="21f23-214">`1.3.6.1.4.1.4203.1.5.3` True/False 篩選器</span><span class="sxs-lookup"><span data-stu-id="21f23-214">`1.3.6.1.4.1.4203.1.5.3` True/False filters</span></span>

<span data-ttu-id="21f23-215">True/False 篩選器通常因為由 LDAP 目錄所支援而不回報，而且可能會出現在 [找不到強制功能] 之下的 [全域頁面] 上。</span><span class="sxs-lookup"><span data-stu-id="21f23-215">The True/False filter is frequently not reported as supported by LDAP directories and might show up on the **Global Page** under **Mandatory Features Not Found**.</span></span> <span data-ttu-id="21f23-216">它用於在 LDAP 查詢中建立 **OR** 篩選器，例如，當匯入多個物件類型時。</span><span class="sxs-lookup"><span data-stu-id="21f23-216">It is used to create **OR** filters in LDAP queries, for example when importing multiple object types.</span></span> <span data-ttu-id="21f23-217">如果您可以匯入一種以上的物件類型，則 LDAP 伺服器會支援此功能。</span><span class="sxs-lookup"><span data-stu-id="21f23-217">If you can import more than one object type, then your LDAP server supports this feature.</span></span>

<span data-ttu-id="21f23-218">如果您使用的目錄中有唯一識別碼是錨點，則也必須提供下列項目 (如需詳細資訊，請參閱[設定錨點](#configure-anchors)一節)：</span><span class="sxs-lookup"><span data-stu-id="21f23-218">If you use a directory where a unique identifier is the anchor the following must also be available (For more information, see the [Configure Anchors](#configure-anchors) section):</span></span>  
<span data-ttu-id="21f23-219">`1.3.6.1.4.1.4203.1.5.1` 所有操作屬性</span><span class="sxs-lookup"><span data-stu-id="21f23-219">`1.3.6.1.4.1.4203.1.5.1` All operational attributes</span></span>

<span data-ttu-id="21f23-220">如果目錄中的物件數目超過在一次呼叫目錄時可容納的數目，則建議使用分頁。</span><span class="sxs-lookup"><span data-stu-id="21f23-220">If the directory has more objects than what can fit in one call to the directory, then it is recommended to use paging.</span></span> <span data-ttu-id="21f23-221">您需使用下列其中一個選項，分頁才能運作：</span><span class="sxs-lookup"><span data-stu-id="21f23-221">For paging to work, you need one of the following options:</span></span>

<span data-ttu-id="21f23-222">**選項 1：**</span><span class="sxs-lookup"><span data-stu-id="21f23-222">**Option 1:**</span></span>  
<span data-ttu-id="21f23-223">`1.2.840.113556.1.4.319` pagedResultsControl</span><span class="sxs-lookup"><span data-stu-id="21f23-223">`1.2.840.113556.1.4.319` pagedResultsControl</span></span>

<span data-ttu-id="21f23-224">**選項 2：**</span><span class="sxs-lookup"><span data-stu-id="21f23-224">**Option 2:**</span></span>  
<span data-ttu-id="21f23-225">`2.16.840.1.113730.3.4.9` VLVControl</span><span class="sxs-lookup"><span data-stu-id="21f23-225">`2.16.840.1.113730.3.4.9` VLVControl</span></span>  
<span data-ttu-id="21f23-226">`1.2.840.113556.1.4.473` SortControl</span><span class="sxs-lookup"><span data-stu-id="21f23-226">`1.2.840.113556.1.4.473` SortControl</span></span>

<span data-ttu-id="21f23-227">如果連接器組態中已啟用這兩個選項，則會使用 pagedResultsControl。</span><span class="sxs-lookup"><span data-stu-id="21f23-227">If both options are enabled in the connector configuration, pagedResultsControl is used.</span></span>

<span data-ttu-id="21f23-228">`1.2.840.113556.1.4.417` ShowDeletedControl</span><span class="sxs-lookup"><span data-stu-id="21f23-228">`1.2.840.113556.1.4.417` ShowDeletedControl</span></span>

<span data-ttu-id="21f23-229">只有在 ShowDeletedControl 搭配 USNChanged 差異匯入方法使用時，才能夠查看已刪除的物件。</span><span class="sxs-lookup"><span data-stu-id="21f23-229">ShowDeletedControl is only used with the USNChanged delta import method to be able to see deleted objects.</span></span>

<span data-ttu-id="21f23-230">連接器會嘗試偵測選項是否出現在伺服器上。</span><span class="sxs-lookup"><span data-stu-id="21f23-230">The connector tries to detect the options present on the server.</span></span> <span data-ttu-id="21f23-231">如果偵測不到選項，則連接器屬性的 [全域] 頁面上會出現警告。</span><span class="sxs-lookup"><span data-stu-id="21f23-231">If the options cannot be detected, a warning is present on the Global page in the connector properties.</span></span> <span data-ttu-id="21f23-232">並非所有 LDAP 伺服器都會顯示其支援的所有控制項/功能，即使出現此警告，連接器也可能正常運作。</span><span class="sxs-lookup"><span data-stu-id="21f23-232">Not all LDAP servers present all controls/features they support and even if this warning is present, the connector might work without issues.</span></span>

### <a name="delta-import"></a><span data-ttu-id="21f23-233">差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-233">Delta import</span></span>
<span data-ttu-id="21f23-234">只有在偵測到支援目錄時，才可使用差異匯入。</span><span class="sxs-lookup"><span data-stu-id="21f23-234">Delta import is only available when a support directory has been detected.</span></span> <span data-ttu-id="21f23-235">目前使用下列方法：</span><span class="sxs-lookup"><span data-stu-id="21f23-235">The following methods are currently used:</span></span>

* <span data-ttu-id="21f23-236">LDAP Accesslog。</span><span class="sxs-lookup"><span data-stu-id="21f23-236">LDAP Accesslog.</span></span> <span data-ttu-id="21f23-237">請參閱 [http://www.openldap.org/doc/admin24/overlays.html#Access Logging](http://www.openldap.org/doc/admin24/overlays.html#Access Logging)</span><span class="sxs-lookup"><span data-stu-id="21f23-237">See [http://www.openldap.org/doc/admin24/overlays.html#Access Logging](http://www.openldap.org/doc/admin24/overlays.html#Access Logging)</span></span>
* <span data-ttu-id="21f23-238">LDAP Changelog。</span><span class="sxs-lookup"><span data-stu-id="21f23-238">LDAP Changelog.</span></span> <span data-ttu-id="21f23-239">請參閱 [http://tools.ietf.org/html/draft-good-ldap-changelog-04](http://tools.ietf.org/html/draft-good-ldap-changelog-04)</span><span class="sxs-lookup"><span data-stu-id="21f23-239">See [http://tools.ietf.org/html/draft-good-ldap-changelog-04](http://tools.ietf.org/html/draft-good-ldap-changelog-04)</span></span>
* <span data-ttu-id="21f23-240">TimeStamp。</span><span class="sxs-lookup"><span data-stu-id="21f23-240">TimeStamp.</span></span> <span data-ttu-id="21f23-241">對於 Novell/NetIQ eDirectory，連接器會使用最後的日期/時間來取得已建立和更新的物件。</span><span class="sxs-lookup"><span data-stu-id="21f23-241">For Novell/NetIQ eDirectory, the Connector uses last date/time to get created and updated objects.</span></span> <span data-ttu-id="21f23-242">Novell/NetIQ eDirectory 不提供對等方法來擷取已刪除的物件。</span><span class="sxs-lookup"><span data-stu-id="21f23-242">Novell/NetIQ eDirectory does not provide an equivalent means to retrieve deleted objects.</span></span> <span data-ttu-id="21f23-243">如果 LDAP 伺服器上沒有其他作用中的差異匯入方法，也可以使用此選項。</span><span class="sxs-lookup"><span data-stu-id="21f23-243">This option can also be used if no other delta import method is active on the LDAP server.</span></span> <span data-ttu-id="21f23-244">此選項無法匯入已刪除的物件。</span><span class="sxs-lookup"><span data-stu-id="21f23-244">This option is not able to import deleted objects.</span></span>
* <span data-ttu-id="21f23-245">USNChanged。</span><span class="sxs-lookup"><span data-stu-id="21f23-245">USNChanged.</span></span> <span data-ttu-id="21f23-246">請參閱： [https://msdn.microsoft.com/library/ms677627.aspx](https://msdn.microsoft.com/library/ms677627.aspx)</span><span class="sxs-lookup"><span data-stu-id="21f23-246">See: [https://msdn.microsoft.com/library/ms677627.aspx](https://msdn.microsoft.com/library/ms677627.aspx)</span></span>

### <a name="not-supported"></a><span data-ttu-id="21f23-247">不支援</span><span class="sxs-lookup"><span data-stu-id="21f23-247">Not supported</span></span>
<span data-ttu-id="21f23-248">不支援下列 LDAP 功能：</span><span class="sxs-lookup"><span data-stu-id="21f23-248">The following LDAP features are not supported:</span></span>

* <span data-ttu-id="21f23-249">伺服器之間的 LDAP 轉介 (RFC 4511/4.1.10)</span><span class="sxs-lookup"><span data-stu-id="21f23-249">LDAP referrals between servers (RFC 4511/4.1.10)</span></span>

## <a name="create-a-new-connector"></a><span data-ttu-id="21f23-250">建立新的連接器</span><span class="sxs-lookup"><span data-stu-id="21f23-250">Create a new Connector</span></span>
<span data-ttu-id="21f23-251">若要建立一般 LDAP 連接器，請在 [同步處理服務] 中選取 [管理代理程式] 和 [建立]。</span><span class="sxs-lookup"><span data-stu-id="21f23-251">To Create a Generic LDAP connector, in **Synchronization Service** select **Management Agent** and **Create**.</span></span> <span data-ttu-id="21f23-252">選取 [一般 LDAP (Microsoft)] 連接器。</span><span class="sxs-lookup"><span data-stu-id="21f23-252">Select the **Generic LDAP (Microsoft)** Connector.</span></span>

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericldap/createconnector.png)

### <a name="connectivity"></a><span data-ttu-id="21f23-254">連線能力</span><span class="sxs-lookup"><span data-stu-id="21f23-254">Connectivity</span></span>
<span data-ttu-id="21f23-255">在 [連線能力] 頁面上，您必須指定 [主機]、[連接埠] 和 [繫結] 資訊。</span><span class="sxs-lookup"><span data-stu-id="21f23-255">On the Connectivity page, you must specify the Host, Port, and Binding information.</span></span> <span data-ttu-id="21f23-256">視選取的 [繫結] 而定，下列各區段中可能會提供其他資訊。</span><span class="sxs-lookup"><span data-stu-id="21f23-256">Depending on which Binding is selected, additional information might be supplied in the following sections.</span></span>

![連線能力](./media/active-directory-aadconnectsync-connector-genericldap/connectivity.png)

* <span data-ttu-id="21f23-258">[連線逾時] 設定僅適用於偵測結構描述時的第一次伺服器連線。</span><span class="sxs-lookup"><span data-stu-id="21f23-258">The Connection Timeout setting is only used for the first connection to the server when detecting the schema.</span></span>
* <span data-ttu-id="21f23-259">如果 [繫結] 為 [匿名]，則不會使用使用者名稱 / 密碼或憑證。</span><span class="sxs-lookup"><span data-stu-id="21f23-259">If Binding is Anonymous, then neither username / password nor certificate are used.</span></span>
* <span data-ttu-id="21f23-260">對於其他繫結，請在使用者名稱 / 密碼中輸入資訊或選取憑證。</span><span class="sxs-lookup"><span data-stu-id="21f23-260">For other bindings, enter information either in username / password or select a certificate.</span></span>
* <span data-ttu-id="21f23-261">如果您使用 Kerberos 進行驗證，也要提供使用者的 [領域/網域]。</span><span class="sxs-lookup"><span data-stu-id="21f23-261">If you are using Kerberos to authenticate, then also provide the Realm/Domain of the user.</span></span>

<span data-ttu-id="21f23-262">[屬性別名]  文字方塊使用於以 RFC4522 語法在結構描述中定義的屬性。</span><span class="sxs-lookup"><span data-stu-id="21f23-262">The **attribute aliases** text box is used for attributes defined in the schema with RFC4522 syntax.</span></span> <span data-ttu-id="21f23-263">在結構描述偵測期間無法偵測這些屬性，而連接器需要協助才能識別這些屬性。</span><span class="sxs-lookup"><span data-stu-id="21f23-263">These attributes cannot be detected during schema detection and the Connector needs help to identify those attributes.</span></span> <span data-ttu-id="21f23-264">例如，必須在 [屬性別名] 方塊中輸入下列項目，才能正確地將 userCertificate 屬性識別為二進位屬性：</span><span class="sxs-lookup"><span data-stu-id="21f23-264">For example the following must be entered in the attribute aliases box to correctly identify the userCertificate attribute as a binary attribute:</span></span>

`userCertificate;binary`

<span data-ttu-id="21f23-265">以下是此組態的顯示範例：</span><span class="sxs-lookup"><span data-stu-id="21f23-265">The following is an example for how this configuration could look like:</span></span>

![連線能力](./media/active-directory-aadconnectsync-connector-genericldap/connectivityattributes.png)

<span data-ttu-id="21f23-267">選取 [在結構描述中包含操作屬性]  核取方塊，也會包含伺服器所建立的屬性。</span><span class="sxs-lookup"><span data-stu-id="21f23-267">Select the **include operational attributes in schema** checkbox to also include attributes created by the server.</span></span> <span data-ttu-id="21f23-268">其中包含物件的建立時間和上次更新時間等屬性。</span><span class="sxs-lookup"><span data-stu-id="21f23-268">These include attributes such as when the object was created and last update time.</span></span>

<span data-ttu-id="21f23-269">若已使用可延伸物件 (RFC4512/4.3)，則選取 [在結構描述中包含可延伸屬性]  ，而且啟用此選項可讓每個屬性使用於所有物件上。</span><span class="sxs-lookup"><span data-stu-id="21f23-269">Select **Include extensible attributes in schema** if extensible objects (RFC4512/4.3) are used and enabling this option allows every attribute to be used on all object.</span></span> <span data-ttu-id="21f23-270">選取此選項會讓結構描述變得非常大，所以除非連接的目錄使用這項功能，否則建議不要選取這個選項。</span><span class="sxs-lookup"><span data-stu-id="21f23-270">Selecting this option makes the schema very large so unless the connected directory is using this feature the recommendation is to keep the option unselected.</span></span>

### <a name="global-parameters"></a><span data-ttu-id="21f23-271">全域參數</span><span class="sxs-lookup"><span data-stu-id="21f23-271">Global Parameters</span></span>
<span data-ttu-id="21f23-272">在 [全域參數] 頁面上，您可以設定差異變更記錄檔的 DN 和其他 LDAP 功能。</span><span class="sxs-lookup"><span data-stu-id="21f23-272">On the Global Parameters page, you configure the DN to the delta change log and additional LDAP features.</span></span> <span data-ttu-id="21f23-273">此頁面會預先填入以 LDAP 伺服器所提供的資訊。</span><span class="sxs-lookup"><span data-stu-id="21f23-273">The page is pre-populated with the information provided by the LDAP server.</span></span>

![連線能力](./media/active-directory-aadconnectsync-connector-genericldap/globalparameters.png)

<span data-ttu-id="21f23-275">最上方區段顯示伺服器本身所提供的資訊，例如伺服器名稱。</span><span class="sxs-lookup"><span data-stu-id="21f23-275">The top section shows information provided by the server itself, such as the name of the server.</span></span> <span data-ttu-id="21f23-276">連接器也會確認強制控制項是否位於根 DSE 中。</span><span class="sxs-lookup"><span data-stu-id="21f23-276">The Connector also verifies that the mandatory controls are present in the Root DSE.</span></span> <span data-ttu-id="21f23-277">如果未列出這些控制項，則會顯示一則警告。</span><span class="sxs-lookup"><span data-stu-id="21f23-277">If these controls are not listed, a warning is presented.</span></span> <span data-ttu-id="21f23-278">某些 LDAP 目錄不會列出根 DSE 中的所有功能，而即使出現警告，連接器也可能正常運作。</span><span class="sxs-lookup"><span data-stu-id="21f23-278">Some LDAP directories do not list all features in the Root DSE and it is possible that the Connector works without issues even if a warning is present.</span></span>

<span data-ttu-id="21f23-279">[支援的控制項]  核取方塊可控制特定作業的行為：</span><span class="sxs-lookup"><span data-stu-id="21f23-279">The **supported controls** checkboxes control the behavior for certain operations:</span></span>

* <span data-ttu-id="21f23-280">選取樹狀目錄刪除後，會透過一個 LDAP 呼叫來刪除階層。</span><span class="sxs-lookup"><span data-stu-id="21f23-280">With tree delete selected, a hierarchy is deleted with one LDAP call.</span></span> <span data-ttu-id="21f23-281">若未選取樹狀目錄刪除，則連接器會視需要進行遞迴刪除。</span><span class="sxs-lookup"><span data-stu-id="21f23-281">With tree delete unselected, the connector does a recursive delete if needed.</span></span>
* <span data-ttu-id="21f23-282">選取分頁結果後，連接器會以執行步驟上指定的大小進行分頁匯入。</span><span class="sxs-lookup"><span data-stu-id="21f23-282">With paged results selected, the Connector does a paged import with the size specified on the run steps.</span></span>
* <span data-ttu-id="21f23-283">VLVControl 和 SortControl 是 pagedResultsControl 的替代項目，可從 LDAP 目錄讀取資料。</span><span class="sxs-lookup"><span data-stu-id="21f23-283">The VLVControl and SortControl is an alternative to the pagedResultsControl to read data from the LDAP directory.</span></span>
* <span data-ttu-id="21f23-284">如果三個選項 (pagedResultsControl、VLVControl 和 SortControl) 均未選取，則連接器會在一項作業中匯入所有物件，而如果是大型目錄，則有可能失敗。</span><span class="sxs-lookup"><span data-stu-id="21f23-284">If all three options (pagedResultsControl, VLVControl, and SortControl) are unselected then the Connector imports all object in one operation, which might fail if it is a large directory.</span></span>
* <span data-ttu-id="21f23-285">只有在差異匯入方法是 USNChanged 時，才會使用 ShowDeletedControl。</span><span class="sxs-lookup"><span data-stu-id="21f23-285">ShowDeletedControl is only used when the Delta import method is USNChanged.</span></span>

<span data-ttu-id="21f23-286">變更記錄檔 DN 是差異變更記錄檔所使用的命名內容，例如 **cn=discovery**。</span><span class="sxs-lookup"><span data-stu-id="21f23-286">The change log DN is the naming context used by the delta change log, for example **cn=changelog**.</span></span> <span data-ttu-id="21f23-287">必須指定此值，才能夠進行差異匯入。</span><span class="sxs-lookup"><span data-stu-id="21f23-287">This value must be specified to be able to do delta import.</span></span>

<span data-ttu-id="21f23-288">以下是預設變更記錄檔 DN 清單：</span><span class="sxs-lookup"><span data-stu-id="21f23-288">The following is a list of default change log DNs:</span></span>

| <span data-ttu-id="21f23-289">目錄</span><span class="sxs-lookup"><span data-stu-id="21f23-289">Directory</span></span> | <span data-ttu-id="21f23-290">差異變更記錄檔</span><span class="sxs-lookup"><span data-stu-id="21f23-290">Delta change log</span></span> |
| --- | --- |
| <span data-ttu-id="21f23-291">Microsoft AD LDS 和 AD GC</span><span class="sxs-lookup"><span data-stu-id="21f23-291">Microsoft AD LDS and AD GC</span></span> |<span data-ttu-id="21f23-292">自動偵測。</span><span class="sxs-lookup"><span data-stu-id="21f23-292">Automatically detected.</span></span> <span data-ttu-id="21f23-293">USNChanged。</span><span class="sxs-lookup"><span data-stu-id="21f23-293">USNChanged.</span></span> |
| <span data-ttu-id="21f23-294">Apache Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-294">Apache Directory Server</span></span> |<span data-ttu-id="21f23-295">無法使用。</span><span class="sxs-lookup"><span data-stu-id="21f23-295">Not available.</span></span> |
| <span data-ttu-id="21f23-296">Directory 389</span><span class="sxs-lookup"><span data-stu-id="21f23-296">Directory 389</span></span> |<span data-ttu-id="21f23-297">變更記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-297">Change log.</span></span> <span data-ttu-id="21f23-298">要使用的預設值： **cn=changelog**</span><span class="sxs-lookup"><span data-stu-id="21f23-298">Default value to use: **cn=changelog**</span></span> |
| <span data-ttu-id="21f23-299">IBM Tivoli DS</span><span class="sxs-lookup"><span data-stu-id="21f23-299">IBM Tivoli DS</span></span> |<span data-ttu-id="21f23-300">變更記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-300">Change log.</span></span> <span data-ttu-id="21f23-301">要使用的預設值： **cn=changelog**</span><span class="sxs-lookup"><span data-stu-id="21f23-301">Default value to use: **cn=changelog**</span></span> |
| <span data-ttu-id="21f23-302">Isode Directory</span><span class="sxs-lookup"><span data-stu-id="21f23-302">Isode Directory</span></span> |<span data-ttu-id="21f23-303">變更記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-303">Change log.</span></span> <span data-ttu-id="21f23-304">要使用的預設值： **cn=changelog**</span><span class="sxs-lookup"><span data-stu-id="21f23-304">Default value to use: **cn=changelog**</span></span> |
| <span data-ttu-id="21f23-305">Novell/NetIQ eDirectory</span><span class="sxs-lookup"><span data-stu-id="21f23-305">Novell/NetIQ eDirectory</span></span> |<span data-ttu-id="21f23-306">無法使用。</span><span class="sxs-lookup"><span data-stu-id="21f23-306">Not available.</span></span> <span data-ttu-id="21f23-307">TimeStamp。</span><span class="sxs-lookup"><span data-stu-id="21f23-307">TimeStamp.</span></span> <span data-ttu-id="21f23-308">連接器會使用上次更新日期/時間來取得已新增和更新的記錄。</span><span class="sxs-lookup"><span data-stu-id="21f23-308">The Connector uses last updated date/time to get added and updated records.</span></span> |
| <span data-ttu-id="21f23-309">Open DJ/DS</span><span class="sxs-lookup"><span data-stu-id="21f23-309">Open DJ/DS</span></span> |<span data-ttu-id="21f23-310">變更記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-310">Change log.</span></span>  <span data-ttu-id="21f23-311">要使用的預設值： **cn=changelog**</span><span class="sxs-lookup"><span data-stu-id="21f23-311">Default value to use: **cn=changelog**</span></span> |
| <span data-ttu-id="21f23-312">Open LDAP</span><span class="sxs-lookup"><span data-stu-id="21f23-312">Open LDAP</span></span> |<span data-ttu-id="21f23-313">存取記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-313">Access log.</span></span> <span data-ttu-id="21f23-314">要使用的預設值： **cn=accesslog**</span><span class="sxs-lookup"><span data-stu-id="21f23-314">Default value to use: **cn=accesslog**</span></span> |
| <span data-ttu-id="21f23-315">Oracle DSEE</span><span class="sxs-lookup"><span data-stu-id="21f23-315">Oracle DSEE</span></span> |<span data-ttu-id="21f23-316">變更記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-316">Change log.</span></span> <span data-ttu-id="21f23-317">要使用的預設值： **cn=changelog**</span><span class="sxs-lookup"><span data-stu-id="21f23-317">Default value to use: **cn=changelog**</span></span> |
| <span data-ttu-id="21f23-318">RadiantOne VDS</span><span class="sxs-lookup"><span data-stu-id="21f23-318">RadiantOne VDS</span></span> |<span data-ttu-id="21f23-319">虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="21f23-319">Virtual directory.</span></span> <span data-ttu-id="21f23-320">取決於 VDS 連接的目錄。</span><span class="sxs-lookup"><span data-stu-id="21f23-320">Depends on the directory connected to VDS.</span></span> |
| <span data-ttu-id="21f23-321">Sun One Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-321">Sun One Directory Server</span></span> |<span data-ttu-id="21f23-322">變更記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21f23-322">Change log.</span></span> <span data-ttu-id="21f23-323">要使用的預設值： **cn=changelog**</span><span class="sxs-lookup"><span data-stu-id="21f23-323">Default value to use: **cn=changelog**</span></span> |

<span data-ttu-id="21f23-324">密碼屬性是連接器在密碼變更和密碼設定作業中應用來設定密碼的屬性名稱。</span><span class="sxs-lookup"><span data-stu-id="21f23-324">The password attribute is the name of the attribute the Connector should use to set the password in password change and password set operations.</span></span>
<span data-ttu-id="21f23-325">此值預設為 **userPassword** ，但特定 LDAP 系統可以視需要進行變更。</span><span class="sxs-lookup"><span data-stu-id="21f23-325">This value is by default set to **userPassword** but can be changed when needed for a particular LDAP system.</span></span>

<span data-ttu-id="21f23-326">在其他資料分割清單中，可以新增其他未自動偵測到的命名空間。</span><span class="sxs-lookup"><span data-stu-id="21f23-326">In the additional partitions list, it is possible to add additional namespaces not automatically detected.</span></span> <span data-ttu-id="21f23-327">比方說，如果有幾部應同時全部匯入的伺服器組成一個邏輯叢集，則可使用此設定。</span><span class="sxs-lookup"><span data-stu-id="21f23-327">For example, this setting can be used if several servers make up a logical cluster, which should all be imported at the same time.</span></span> <span data-ttu-id="21f23-328">就如同 Active Directory 可以在一個樹系中有多個網域，而所有網域都共用一個結構描述，在此方塊中輸入其他命名空間就可以模擬此狀況。</span><span class="sxs-lookup"><span data-stu-id="21f23-328">Just as Active Directory can have multiple domains in one forest but all domains share one schema, the same can be simulated by entering the additional namespaces in this box.</span></span> <span data-ttu-id="21f23-329">每個命名空間都可以從不同的伺服器匯入，並可在 [設定資料分割和階層] 頁面上進一步設定。</span><span class="sxs-lookup"><span data-stu-id="21f23-329">Each namespace can import from different servers and is further configured on the Configure Partitions and Hierarchies page.</span></span> <span data-ttu-id="21f23-330">使用 Ctrl+Enter 來換行。</span><span class="sxs-lookup"><span data-stu-id="21f23-330">Use Ctrl+Enter to get a new line.</span></span>

### <a name="configure-provisioning-hierarchy"></a><span data-ttu-id="21f23-331">設定佈建階層</span><span class="sxs-lookup"><span data-stu-id="21f23-331">Configure Provisioning Hierarchy</span></span>
<span data-ttu-id="21f23-332">此頁面用於將 DN 元件 (例如 OU) 對應至應該佈建的物件類型 (例如 organizationalUnit)。</span><span class="sxs-lookup"><span data-stu-id="21f23-332">This page is used to map the DN component, for example OU, to the object type that should be provisioned, for example organizationalUnit.</span></span>

![佈建階層](./media/active-directory-aadconnectsync-connector-genericldap/provisioninghierarchy.png)

<span data-ttu-id="21f23-334">藉由設定佈建階層，您可以設定連接器在必要時自動建立結構。</span><span class="sxs-lookup"><span data-stu-id="21f23-334">By configuring provisioning hierarchy, you can configure the Connector to automatically create a structure when needed.</span></span> <span data-ttu-id="21f23-335">例如，如果有命名空間 dc=contoso,dc=com 並已佈建一個新物件 (cn=Joe、ou=Seattle、c=US、dc=contoso、dc=com)，則連接器可以建立國家類型為美國而 organizationalUnit 為西雅圖的物件 (如果目錄中尚未出現這些項目)。</span><span class="sxs-lookup"><span data-stu-id="21f23-335">For example, if there is a namespace dc=contoso,dc=com and a new object cn=Joe, ou=Seattle, c=US, dc=contoso, dc=com is provisioned, then the Connector can create an object of type country for US and an organizationalUnit for Seattle if those are not already present in the directory.</span></span>

### <a name="configure-partitions-and-hierarchies"></a><span data-ttu-id="21f23-336">設定資料分割和階層</span><span class="sxs-lookup"><span data-stu-id="21f23-336">Configure Partitions and Hierarchies</span></span>
<span data-ttu-id="21f23-337">在資料分割和階層頁面上，選取具有您打算匯入和匯出之物件的所有命名空間。</span><span class="sxs-lookup"><span data-stu-id="21f23-337">On the partitions and hierarchies page, select all namespaces with objects you plan to import and export.</span></span>

![分割數](./media/active-directory-aadconnectsync-connector-genericldap/partitions.png)

<span data-ttu-id="21f23-339">對於每個命名空間，也可以設定連線能力設定，以覆寫 [連線能力] 畫面上指定的值。</span><span class="sxs-lookup"><span data-stu-id="21f23-339">For each namespace, it is also possible to configure connectivity settings that would override the values specified on the Connectivity screen.</span></span> <span data-ttu-id="21f23-340">如果這些值保留為其預設的空白值，則會使用 [連線能力] 畫面中的資訊。</span><span class="sxs-lookup"><span data-stu-id="21f23-340">If these values are left to their default blank value, the information from the Connectivity screen is used.</span></span>

<span data-ttu-id="21f23-341">此外，也可以選取連接器應匯入及匯出的容器和 OU。</span><span class="sxs-lookup"><span data-stu-id="21f23-341">It is also possible to select which containers and OUs the Connector should import from and export to.</span></span>

<span data-ttu-id="21f23-342">在執行搜尋時，這會對資料分割中的所有容器執行。</span><span class="sxs-lookup"><span data-stu-id="21f23-342">When performing a search this is done across all containers in the partition.</span></span> <span data-ttu-id="21f23-343">在有大量容器的情況下，這種行為會導致效能降低。</span><span class="sxs-lookup"><span data-stu-id="21f23-343">In cases where there are large numbers of containers this behavior leads to performance degradation.</span></span>

>[!NOTE]
<span data-ttu-id="21f23-344">從 2017 年 3 月的一般 LDAP 連接器更新開始，您已可將搜尋範圍限制在所選容器內。</span><span class="sxs-lookup"><span data-stu-id="21f23-344">Starting in the March 2017 update to the Generic LDAP connector searches can be limited in scope to only the selected containers.</span></span> <span data-ttu-id="21f23-345">藉由選取下圖所示的 [僅在所選容器中搜尋] 核取方塊，就能執行此操作。</span><span class="sxs-lookup"><span data-stu-id="21f23-345">This can be done by selecting the checkbox 'Search only in selected containers' as shown in the image below.</span></span>

![僅搜尋所選容器](./media/active-directory-aadconnectsync-connector-genericldap/partitions-only-selected-containers.png)

### <a name="configure-anchors"></a><span data-ttu-id="21f23-347">設定錨點</span><span class="sxs-lookup"><span data-stu-id="21f23-347">Configure Anchors</span></span>
<span data-ttu-id="21f23-348">此頁面一定有預先設定的值，而且無法變更。</span><span class="sxs-lookup"><span data-stu-id="21f23-348">This page does always have a preconfigured value and cannot be changed.</span></span> <span data-ttu-id="21f23-349">如果已識別出伺服器廠商，則錨點可能會填入不可變的屬性，例如物件的 GUID。</span><span class="sxs-lookup"><span data-stu-id="21f23-349">If the server vendor has been identified, then the anchor might be populated with an immutable attribute, for example the GUID for an object.</span></span> <span data-ttu-id="21f23-350">如果尚未偵測到或已知沒有不可變的屬性，則連接器會使用 dn (辨別名稱) 做為錨點。</span><span class="sxs-lookup"><span data-stu-id="21f23-350">If it has not been detected or is known to not have an immutable attribute, then the connector uses dn (distinguished name) as the anchor.</span></span>

![錨點](./media/active-directory-aadconnectsync-connector-genericldap/anchors.png)


<span data-ttu-id="21f23-352">以下是 LDAP 伺服器清單和所使用的錨點：</span><span class="sxs-lookup"><span data-stu-id="21f23-352">The following is a list of LDAP servers and the anchor being used:</span></span>

| <span data-ttu-id="21f23-353">目錄</span><span class="sxs-lookup"><span data-stu-id="21f23-353">Directory</span></span> | <span data-ttu-id="21f23-354">錨點屬性</span><span class="sxs-lookup"><span data-stu-id="21f23-354">Anchor attribute</span></span> |
| --- | --- |
| <span data-ttu-id="21f23-355">Microsoft AD LDS 和 AD GC</span><span class="sxs-lookup"><span data-stu-id="21f23-355">Microsoft AD LDS and AD GC</span></span> |<span data-ttu-id="21f23-356">objectGUID</span><span class="sxs-lookup"><span data-stu-id="21f23-356">objectGUID</span></span> |
| <span data-ttu-id="21f23-357">389 Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-357">389 Directory Server</span></span> |<span data-ttu-id="21f23-358">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-358">dn</span></span> |
| <span data-ttu-id="21f23-359">Apache Directory</span><span class="sxs-lookup"><span data-stu-id="21f23-359">Apache Directory</span></span> |<span data-ttu-id="21f23-360">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-360">dn</span></span> |
| <span data-ttu-id="21f23-361">IBM Tivoli DS</span><span class="sxs-lookup"><span data-stu-id="21f23-361">IBM Tivoli DS</span></span> |<span data-ttu-id="21f23-362">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-362">dn</span></span> |
| <span data-ttu-id="21f23-363">Isode Directory</span><span class="sxs-lookup"><span data-stu-id="21f23-363">Isode Directory</span></span> |<span data-ttu-id="21f23-364">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-364">dn</span></span> |
| <span data-ttu-id="21f23-365">Novell/NetIQ eDirectory</span><span class="sxs-lookup"><span data-stu-id="21f23-365">Novell/NetIQ eDirectory</span></span> |<span data-ttu-id="21f23-366">GUID</span><span class="sxs-lookup"><span data-stu-id="21f23-366">GUID</span></span> |
| <span data-ttu-id="21f23-367">Open DJ/DS</span><span class="sxs-lookup"><span data-stu-id="21f23-367">Open DJ/DS</span></span> |<span data-ttu-id="21f23-368">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-368">dn</span></span> |
| <span data-ttu-id="21f23-369">Open LDAP</span><span class="sxs-lookup"><span data-stu-id="21f23-369">Open LDAP</span></span> |<span data-ttu-id="21f23-370">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-370">dn</span></span> |
| <span data-ttu-id="21f23-371">Oracle ODSEE</span><span class="sxs-lookup"><span data-stu-id="21f23-371">Oracle ODSEE</span></span> |<span data-ttu-id="21f23-372">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-372">dn</span></span> |
| <span data-ttu-id="21f23-373">RadiantOne VDS</span><span class="sxs-lookup"><span data-stu-id="21f23-373">RadiantOne VDS</span></span> |<span data-ttu-id="21f23-374">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-374">dn</span></span> |
| <span data-ttu-id="21f23-375">Sun One Directory Server</span><span class="sxs-lookup"><span data-stu-id="21f23-375">Sun One Directory Server</span></span> |<span data-ttu-id="21f23-376">dn</span><span class="sxs-lookup"><span data-stu-id="21f23-376">dn</span></span> |

## <a name="other-notes"></a><span data-ttu-id="21f23-377">其他注意事項</span><span class="sxs-lookup"><span data-stu-id="21f23-377">Other notes</span></span>
<span data-ttu-id="21f23-378">本節提供此連接器特用層面的資訊，或因為其他原因而需得知的重要資訊。</span><span class="sxs-lookup"><span data-stu-id="21f23-378">This section provides information of aspects that are specific to this Connector or for other reasons are important to know.</span></span>

### <a name="delta-import"></a><span data-ttu-id="21f23-379">差異匯入</span><span class="sxs-lookup"><span data-stu-id="21f23-379">Delta import</span></span>
<span data-ttu-id="21f23-380">Open LDAP 中的差異浮水印是 UTC 日期/時間。</span><span class="sxs-lookup"><span data-stu-id="21f23-380">The delta watermark in Open LDAP is UTC date/time.</span></span> <span data-ttu-id="21f23-381">基於這個理由，FIM 同步處理服務與 Open LDAP 之間的時鐘必須同步。</span><span class="sxs-lookup"><span data-stu-id="21f23-381">For this reason, the clocks between FIM Synchronization Service and the Open LDAP must be synchronized.</span></span> <span data-ttu-id="21f23-382">如果沒有同步，則可能會省略差異變更記錄檔中的某些項目。</span><span class="sxs-lookup"><span data-stu-id="21f23-382">If not, some entries in the delta change log might be omitted.</span></span>

<span data-ttu-id="21f23-383">對於 Novell eDirectory，差異匯入不會偵測任何物件刪除。</span><span class="sxs-lookup"><span data-stu-id="21f23-383">For Novell eDirectory, the delta import is not detecting any object deletes.</span></span> <span data-ttu-id="21f23-384">基於這個理由，必須定期執行完整匯入才可找到所有刪除的物件。</span><span class="sxs-lookup"><span data-stu-id="21f23-384">For this reason, it is necessary to run a full import periodically to find all deleted objects.</span></span>

<span data-ttu-id="21f23-385">對於差異變更記錄檔以日期 / 時間為基礎的目錄，強烈建議定期執行完整匯入。</span><span class="sxs-lookup"><span data-stu-id="21f23-385">For directories with a delta change log that is based on date/time, it is highly recommended to run a full import at periodic times.</span></span> <span data-ttu-id="21f23-386">此程序可讓同步處理引擎找出 LDAP 伺服器與連接器空間中目前內容之間的差異。</span><span class="sxs-lookup"><span data-stu-id="21f23-386">This process allows the sync engine to find and dissimilarities between the LDAP server and what is currently in the connector space.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="21f23-387">疑難排解</span><span class="sxs-lookup"><span data-stu-id="21f23-387">Troubleshooting</span></span>
* <span data-ttu-id="21f23-388">如需如何啟用記錄來疑難排解連接器的資訊，請參閱 [如何啟用連接器的 ETW 追蹤](http://go.microsoft.com/fwlink/?LinkId=335731)。</span><span class="sxs-lookup"><span data-stu-id="21f23-388">For information on how to enable logging to troubleshoot the connector, see the [How to Enable ETW Tracing for Connectors](http://go.microsoft.com/fwlink/?LinkId=335731).</span></span>
