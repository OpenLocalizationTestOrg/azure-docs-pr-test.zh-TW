---
title: "Azure Active Directory 中企業應用程式的使用者佈建管理 |Microsoft Docs"
description: "了解如何使用 Azure Active Directory 管理企業應用程式的使用者帳戶佈建"
services: active-directory
documentationcenter: 
author: asmalser
manager: femila
editor: 
ms.assetid: 34ac4028-a5aa-40d9-a93b-0db4e0abd793
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 07/26/2017
ms.author: asmalser
ms.reviewer: asmalser
ms.openlocfilehash: 220f938e5c890554cd596e2b14492782ed829a5d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="managing-user-account-provisioning-for-enterprise-apps-in-the-azure-portal"></a><span data-ttu-id="7997d-103">在 Azure 入口網站中管理企業應用程式的使用者帳戶佈建</span><span class="sxs-lookup"><span data-stu-id="7997d-103">Managing user account provisioning for enterprise apps in the Azure portal</span></span>
<span data-ttu-id="7997d-104">這篇文章說明如何使用 [Azure 入口網站](https://portal.azure.com)來自動化管理使用者帳戶的佈建和解除佈建，以用於支援它的應用程式，尤其是透過 [Azure Active Directory 應用程式庫](active-directory-appssoaccess-whatis.md#get-started-with-the-azure-ad-application-gallery)的「精選」類別新增的應用程式。</span><span class="sxs-lookup"><span data-stu-id="7997d-104">This article describes how to use the [Azure portal](https://portal.azure.com) to manage automatic user account provisioning and de-provisioning for applications that support it, particularly ones that have been added from the "featured" category of the [Azure Active Directory application gallery](active-directory-appssoaccess-whatis.md#get-started-with-the-azure-ad-application-gallery).</span></span> <span data-ttu-id="7997d-105">如需深入了解自動化使用者佈建，請參閱 [自動化使用 Azure Active Directory 對於 SaaS 應用程式的使用者佈建和解除佈建](active-directory-saas-app-provisioning.md)。</span><span class="sxs-lookup"><span data-stu-id="7997d-105">To learn more about automatic user account provisioning and how it works, see [Automate User Provisioning and Deprovisioning to SaaS Applications with Azure Active Directory](active-directory-saas-app-provisioning.md).</span></span>

## <a name="finding-your-apps-in-the-portal"></a><span data-ttu-id="7997d-106">在入口網站中尋找您的應用程式</span><span class="sxs-lookup"><span data-stu-id="7997d-106">Finding your apps in the portal</span></span>
<span data-ttu-id="7997d-107">目錄管理員使用 [Azure Active Directory 應用程式庫](active-directory-appssoaccess-whatis.md#get-started-with-the-azure-ad-application-gallery)為目錄中單一登入設定的所有應用程式，可以在 [Azure 入口網站](https://portal.azure.com)中檢視和管理。</span><span class="sxs-lookup"><span data-stu-id="7997d-107">All applications that are configured for single sign-on in a directory, by a directory administrator using the [Azure Active Directory application gallery](active-directory-appssoaccess-whatis.md#get-started-with-the-azure-ad-application-gallery), can be viewed and managed in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="7997d-108">這些應用程式可在入口網站的 [更多服務] &gt; [企業應用程式] 區段中找到。</span><span class="sxs-lookup"><span data-stu-id="7997d-108">The applications can be found in the **More Services** &gt; **Enterprise Applications** section of the portal.</span></span> <span data-ttu-id="7997d-109">企業應用程式是您組織內部署和使用的應用程式。</span><span class="sxs-lookup"><span data-stu-id="7997d-109">Enterprise apps are apps that are deployed and used within your organization.</span></span>

![企業應用程式刀鋒視窗][0]

<span data-ttu-id="7997d-111">選取左側的 [所有應用程式]  連結會顯示已設定的所有應用程式的清單，包括已從資源庫新增的應用程式。</span><span class="sxs-lookup"><span data-stu-id="7997d-111">Selecting the **All applications** link on the left shows a list of all apps that have been configured, including apps that had been added from the gallery.</span></span> <span data-ttu-id="7997d-112">選取應用程式會載入該應用程式的資源刀鋒視窗，您可以在其中檢視該應用程式的報告，且可管理各種設定。</span><span class="sxs-lookup"><span data-stu-id="7997d-112">Selecting an app loads the resource blade for that app, where reports can be viewed for that app and a variety of settings can be managed.</span></span>

<span data-ttu-id="7997d-113">選取左側的 [佈建]  可以管理使用者帳戶的佈建設定。</span><span class="sxs-lookup"><span data-stu-id="7997d-113">User account provisioning settings can be managed by selecting **Provisioning** on the left.</span></span>

![應用程式資源刀鋒視窗][1]

## <a name="provisioning-modes"></a><span data-ttu-id="7997d-115">佈建模式</span><span class="sxs-lookup"><span data-stu-id="7997d-115">Provisioning modes</span></span>
<span data-ttu-id="7997d-116">[佈建] 刀鋒視窗的最前方是 [模式] 功能表，會顯示企業應用程式支援哪些佈建模式，並可以設定它們。</span><span class="sxs-lookup"><span data-stu-id="7997d-116">The **Provisioning** blade begins with a **Mode** menu, which shows what provisioning modes are supported for an enterprise application, and allows them to be configured.</span></span> <span data-ttu-id="7997d-117">可用的選項包括：</span><span class="sxs-lookup"><span data-stu-id="7997d-117">The available options include:</span></span>

* <span data-ttu-id="7997d-118">**自動** - 如果 Azure AD 支援對此應用程式進行使用者帳戶的 API 型自動佈建和/或解除佈建，就會出現此選項。</span><span class="sxs-lookup"><span data-stu-id="7997d-118">**Automatic** - This option appears if Azure AD supports automatic API-based provisioning and/or de-provisioning of user accounts to this application.</span></span> <span data-ttu-id="7997d-119">選取此模式會顯示一介面，引導管理員設定 Azure AD 連接到應用程式的使用者管理 API、建立帳戶對應和工作流程定義 (定義使用者帳戶資料如何在 Azure AD 與應用程式之間的流動)、以及管理 Azure AD 佈建服務。</span><span class="sxs-lookup"><span data-stu-id="7997d-119">Selecting this mode displays an interface that guides administrators through configuring Azure AD to connect to the application's user management API, creating account mappings and workflows that define how user account data should flow between Azure AD and the app, and managing the Azure AD provisioning service.</span></span>
* <span data-ttu-id="7997d-120">**手動** - 如果 Azure AD 不支援對此應用程式自動佈建使用者帳戶，就會出現此選項。</span><span class="sxs-lookup"><span data-stu-id="7997d-120">**Manual** - This option is shown if Azure AD does not support automatic provisioning of user accounts to this application.</span></span> <span data-ttu-id="7997d-121">此選項表示，必須根據該應用程式提供的使用者管理和佈建功能 (可包括 SAML Just-In-Time 佈建)，使用外部程序來管理儲存在應用程式中的使用者帳戶記錄。</span><span class="sxs-lookup"><span data-stu-id="7997d-121">This option means that user account records stored in the application must be managed using an external process, based on the user management and provisioning capabilities provided by that application (which can include SAML Just-In-Time provisioning).</span></span>

## <a name="configuring-automatic-user-account-provisioning"></a><span data-ttu-id="7997d-122">設定使用者帳戶自動佈建</span><span class="sxs-lookup"><span data-stu-id="7997d-122">Configuring automatic user account provisioning</span></span>
<span data-ttu-id="7997d-123">選取 **自動** 選項會顯示分成四個部分的畫面︰</span><span class="sxs-lookup"><span data-stu-id="7997d-123">Selecting the **Automatic** option displays a screen that is divided in four sections:</span></span>

### <a name="admin-credentials"></a><span data-ttu-id="7997d-124">管理員認證</span><span class="sxs-lookup"><span data-stu-id="7997d-124">Admin Credentials</span></span>
<span data-ttu-id="7997d-125">可在這個地方輸入 Azure AD 連接到應用程式的使用者管理 API 所需的認證。</span><span class="sxs-lookup"><span data-stu-id="7997d-125">This is where the credentials required for Azure AD to connect to the application's user management API are entered.</span></span> <span data-ttu-id="7997d-126">所需的輸入依應用程式而有所不同。</span><span class="sxs-lookup"><span data-stu-id="7997d-126">The input required varies depending on the application.</span></span> <span data-ttu-id="7997d-127">若要深入了解認證類型，以及針對特定應用程式的需求，請參閱 [針對該特定應用程式的設定教學課程](active-directory-saas-app-provisioning.md#list-of-apps-that-support-automated-user-provisioning)。</span><span class="sxs-lookup"><span data-stu-id="7997d-127">To learn about the credential types and requirements for specific applications, see the [configuration tutorial for that specific application](active-directory-saas-app-provisioning.md#list-of-apps-that-support-automated-user-provisioning).</span></span>

<span data-ttu-id="7997d-128">選取 [測試連線]  按鈕，會讓 Azure AD 使用提供的認證嘗試連接到應用程式的佈建應用程式，可測試認證。</span><span class="sxs-lookup"><span data-stu-id="7997d-128">Selecting the **Test Connection** button allows you to test the credentials by having Azure AD attempt to connect to the app's provisioning app using the supplied credentials.</span></span>

### <a name="mappings"></a><span data-ttu-id="7997d-129">對應</span><span class="sxs-lookup"><span data-stu-id="7997d-129">Mappings</span></span>
<span data-ttu-id="7997d-130">管理員可在這個地方檢視及編輯 Azure AD 和目標應用程式之間可流動哪些使用者屬性，以及使用者帳戶何時佈建或更新。</span><span class="sxs-lookup"><span data-stu-id="7997d-130">This is where admins can view and edit what user attributes flow between Azure AD and the target application, when user accounts are provisioned or updated.</span></span>

<span data-ttu-id="7997d-131">在 Azure AD 使用者物件和每個 SaaS 應用程式的使用者物件之間，有一組預先設定的對應。</span><span class="sxs-lookup"><span data-stu-id="7997d-131">There is a preconfigured set of mappings between Azure AD user objects and each SaaS app’s user objects.</span></span> <span data-ttu-id="7997d-132">有些 app 則管理其他類型的物件，例如群組或連絡人。</span><span class="sxs-lookup"><span data-stu-id="7997d-132">Some apps manage other types of objects, such as Groups or Contacts.</span></span> <span data-ttu-id="7997d-133">選取資料表中這些對應的其中一個，會在右側顯示對應編輯器，可在此處檢視和自訂對應。</span><span class="sxs-lookup"><span data-stu-id="7997d-133">Selecting one of these mappings in the table shows the mapping editor to the right, where they can be viewed and customized.</span></span>

![應用程式資源刀鋒視窗][2]

<span data-ttu-id="7997d-135">支援的自訂項目包含：</span><span class="sxs-lookup"><span data-stu-id="7997d-135">Supported customizations include:</span></span>

* <span data-ttu-id="7997d-136">啟用和停用特定物件的對應，例如 Azure AD 使用者物件對應至 SaaS 應用程式的使用者物件。</span><span class="sxs-lookup"><span data-stu-id="7997d-136">Enabling and disabling mappings for specific objects, such as the Azure AD user object to the SaaS app's user object.</span></span>
* <span data-ttu-id="7997d-137">編輯哪些屬性會從 Azure AD 使用者物件流向應用程式的使用者物件。</span><span class="sxs-lookup"><span data-stu-id="7997d-137">Editing which attributes flow from the Azure AD user object to the app's user object.</span></span> <span data-ttu-id="7997d-138">如需有關屬性對應的詳細資訊，請參閱 [了解屬性對應類型](active-directory-saas-customizing-attribute-mappings.md#understanding-attribute-mapping-types)。</span><span class="sxs-lookup"><span data-stu-id="7997d-138">For more information on attribute mapping, see [Understanding attribute mapping types](active-directory-saas-customizing-attribute-mappings.md#understanding-attribute-mapping-types).</span></span>
* <span data-ttu-id="7997d-139">篩選 Azure AD 在目標應用程式上執行的佈建動作。</span><span class="sxs-lookup"><span data-stu-id="7997d-139">Filter the provisioning actions that Azure AD performs on the targeted application.</span></span> <span data-ttu-id="7997d-140">您不需要讓 Azure AD 完全同步處理物件，可以限制執行的動作。</span><span class="sxs-lookup"><span data-stu-id="7997d-140">Instead of having Azure AD fully-synchronize objects, you can limit the actions performed.</span></span> <span data-ttu-id="7997d-141">例如，只選取 **更新**，Azure AD 只會更新應用程式中的現有使用者帳戶，不會建立新的。</span><span class="sxs-lookup"><span data-stu-id="7997d-141">For example, by only selecting **Update**, Azure AD only updates existing user accounts in an application and does not create new ones.</span></span> <span data-ttu-id="7997d-142">只有選取 **建立**，Azure 只會建立新的使用者帳戶，但不會更新現有的。</span><span class="sxs-lookup"><span data-stu-id="7997d-142">By only selecting **Create**, Azure only creates new user accounts but does not update existing ones.</span></span> <span data-ttu-id="7997d-143">這項功能可讓管理員為帳戶建立和更新工作流程建立不同的對應。</span><span class="sxs-lookup"><span data-stu-id="7997d-143">This feature allows admins to create different mappings for account creation and update workflows.</span></span>

### <a name="settings"></a><span data-ttu-id="7997d-144">設定</span><span class="sxs-lookup"><span data-stu-id="7997d-144">Settings</span></span>
<span data-ttu-id="7997d-145">這個部分可讓管理員為所選的應用程式啟動和停止 Azure AD 佈建服務，以及選擇性地清除佈建快取並重新啟動服務。</span><span class="sxs-lookup"><span data-stu-id="7997d-145">This section allows admins to start and stop the Azure AD provisioning service for the selected application, as well as optionally clear the provisioning cache and restart the service.</span></span>

<span data-ttu-id="7997d-146">如果是初次為應用程式啟用佈建，將 [佈建狀態] 變更為 [開啟] 即可開啟服務。</span><span class="sxs-lookup"><span data-stu-id="7997d-146">If provisioning is being enabled for the first time for an application, turn on the service by changing the **Provisioning Status** to **On**.</span></span> <span data-ttu-id="7997d-147">這會導致 Azure AD 佈建服務執行初始同步處理，此程序會讀取 [使用者和群組] 區段中指派的使用者，查詢他們的目標應用程式，並接著執行在 Azure AD [對應] 區段中定義的佈建動作。</span><span class="sxs-lookup"><span data-stu-id="7997d-147">This causes the Azure AD provisioning service to perform an initial sync, where it reads the users assigned in the **Users and groups** section, queries the target application for them, and then performs the provisioning actions defined in the Azure AD **Mappings** section.</span></span> <span data-ttu-id="7997d-148">在此程序中，佈建服務會儲存快取的資料 (有關管理哪些使用者帳戶)，所以不曾在指派範圍中的目標應用程式內的非受管理帳戶，不會受到解除佈建作業的影響。</span><span class="sxs-lookup"><span data-stu-id="7997d-148">During this process, the provisioning service stores cached data about what user accounts it is managing, so non-managed accounts inside the target applications that were never in scope for assignment aren't affected by de-provisioning operations.</span></span> <span data-ttu-id="7997d-149">初始同步處理之後，每隔十分鐘佈建服務會自動同步處理使用者和群組物件。</span><span class="sxs-lookup"><span data-stu-id="7997d-149">After the initial sync, the provisioning service automatically synchronizes user and group objects on a ten minute interval.</span></span>

<span data-ttu-id="7997d-150">將 [佈建狀態] 變更為 [關閉] 只會暫停佈建服務。</span><span class="sxs-lookup"><span data-stu-id="7997d-150">Changing the **Provisioning Status** to **Off** simply pauses the provisioning service.</span></span> <span data-ttu-id="7997d-151">在此狀態下，Azure 不會建立、更新或移除應用程式中的任何使用者或群組物件。</span><span class="sxs-lookup"><span data-stu-id="7997d-151">In this state, Azure does not create, update, or remove any user or group objects in the app.</span></span> <span data-ttu-id="7997d-152">將狀態變更回開啟，服務會從停止的地方繼續。</span><span class="sxs-lookup"><span data-stu-id="7997d-152">Changing the state back to on causes the service to pick up where it left off.</span></span>

<span data-ttu-id="7997d-153">選取 [清除目前的狀態，並重新啟動同步處理]  核取方塊然後儲存，會停止佈建服務，拋棄有關 Azure AD 管理哪些帳戶的快取資料，重新啟動服務，並再次執行初始同步處理。</span><span class="sxs-lookup"><span data-stu-id="7997d-153">Selecting the **Clear current state and restart synchronization** checkbox and saving stops the provisioning service, dumps the cached data about what accounts Azure AD is managing, restarts the services and performs the initial synchronization again.</span></span> <span data-ttu-id="7997d-154">此選項可讓管理員重新啟動佈建部署程序。</span><span class="sxs-lookup"><span data-stu-id="7997d-154">This option allows admins to start the provisioning deployment process over again.</span></span>

### <a name="synchronization-details"></a><span data-ttu-id="7997d-155">同步處理詳細資料</span><span class="sxs-lookup"><span data-stu-id="7997d-155">Synchronization Details</span></span>
<span data-ttu-id="7997d-156">這個部分提供佈建服務作業的詳細資訊，包括對應用程式執行佈建服務的第一次和最後一次時間，以及管理多少個使用者和群組物件。</span><span class="sxs-lookup"><span data-stu-id="7997d-156">This section provides addition details about the operation of the provisioning service, including the first and last times the provisioning service ran against the application, and how many user and group objects are being managed.</span></span>

<span data-ttu-id="7997d-157">這裡提供**佈建活動報表**的連結，以提供 Azure AD 和目標應用程式之間已建立、更新、移除的所有使用者和群組的記錄檔，以及提供**佈建錯誤報表**的連結，以針對無法讀取、建立、更新或移除的使用者和群組物件提供更詳細的錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="7997d-157">Links are provided to the **Provisioning activity report**, which provides a log of all users and groups created, updated, and removed between Azure AD and the target application, and to the **Provisioning error report** which provides more detailed error messages for user and group objects that failed to be read, created, updated, or removed.</span></span> 

##<a name="feedback"></a><span data-ttu-id="7997d-158">意見反應</span><span class="sxs-lookup"><span data-stu-id="7997d-158">Feedback</span></span>

<span data-ttu-id="7997d-159">我們希望您喜歡您的 Azure AD 經驗。</span><span class="sxs-lookup"><span data-stu-id="7997d-159">We hope you like your Azure AD experience.</span></span> <span data-ttu-id="7997d-160">請繼續提供意見反應！</span><span class="sxs-lookup"><span data-stu-id="7997d-160">Please keep the feedback coming!</span></span> <span data-ttu-id="7997d-161">請將您的意見反應和改進想法張貼在我們的[意見反應論壇](https://feedback.azure.com/forums/169401-azure-active-directory/category/162510-admin-portal)的**管理員入口網站**區段中。</span><span class="sxs-lookup"><span data-stu-id="7997d-161">Post your feedback and ideas for improvement in the **Admin Portal** section of our [feedback forum](https://feedback.azure.com/forums/169401-azure-active-directory/category/162510-admin-portal).</span></span>  <span data-ttu-id="7997d-162">我們每天都很期待發展酷炫的新功能，並依照您的指導來塑造和定義我們接下來所要發展的項目。</span><span class="sxs-lookup"><span data-stu-id="7997d-162">We’re excited about building cool new stuff every day, and do use your guidance to shape and define what we build next.</span></span>


[0]: ./media/active-directory-enterprise-apps-manage-provisioning/enterprise-apps-blade.PNG
[1]: ./media/active-directory-enterprise-apps-manage-provisioning/enterprise-apps-provisioning.PNG
[2]: ./media/active-directory-enterprise-apps-manage-provisioning/enterprise-apps-provisioning-mapping.PNG
