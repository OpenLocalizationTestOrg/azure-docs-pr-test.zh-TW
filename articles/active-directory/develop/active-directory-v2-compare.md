---
title: "aaaWhat 是 hello Azure AD v2.0 端點中不同的嗎？ | Microsoft Docs"
description: "Hello 原始的 Azure AD 與 hello v2.0 端點之間的比較。"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: e7ed196f9053fc21db799cd6bc513ba5c2b92885
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="whats-different-about-hello-v20-endpoint"></a><span data-ttu-id="5eb8f-104">何謂不同有關 hello v2.0 端點？</span><span class="sxs-lookup"><span data-stu-id="5eb8f-104">What's different about hello v2.0 endpoint?</span></span>
<span data-ttu-id="5eb8f-105">如果您是熟悉使用 Azure Active Directory 或已與 hello 過去在 Azure AD 整合的應用程式，可能無法如預期般 hello v2.0 端點中的一些差異。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in hello past, there may be some differences in hello v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="5eb8f-106">本文件集結了這些差異，讓您得以瞭解。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="5eb8f-107">並非所有的 Azure Active Directory 案例和功能都受到 hello v2.0 端點。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-107">Not all Azure Active Directory scenarios & features are supported by hello v2.0 endpoint.</span></span>  <span data-ttu-id="5eb8f-108">toodetermine 如果應該使用 hello v2.0 端點，閱讀有關[v2.0 限制](active-directory-v2-limitations.md)。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-108">toodetermine if you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="5eb8f-109">Microsoft 帳戶和 Azure AD 帳戶</span><span class="sxs-lookup"><span data-stu-id="5eb8f-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="5eb8f-110">hello v2.0 端點可讓開發人員 toowrite 登入來自 Microsoft 帳戶和 Azure AD 的帳戶，使用單一授權端點所接受的應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-110">hello v2.0 endpoint allow developers toowrite apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="5eb8f-111">這讓您的應用程式完全帳戶無關; hello 能力 toowrite它可以是帳戶的不知道 hello hello 使用者登入類型。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-111">This gives you hello ability toowrite your app completely account-agnostic; it can be ignorant of hello type of account that hello user signs in with.</span></span>  <span data-ttu-id="5eb8f-112">當然，您*可以*讓您的應用程式知道 hello 中特定的工作階段中，使用的帳戶類型，但您不需要。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-112">Of course, you *can* make your app aware of hello type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="5eb8f-113">比方說，如果您的應用程式呼叫 hello [Microsoft Graph](https://graph.microsoft.io)，某些額外的功能和資料將會使用 tooenterprise 的使用者，例如其 SharePoint 網站或目錄資料。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-113">For instance, if your app calls hello [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available tooenterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="5eb8f-114">但對於許多動作，例如[讀取使用者的郵件](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message)，hello 程式碼可以完全寫入 hello 相同的 Microsoft 帳戶和 Azure AD 的帳戶。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello code can be written exactly hello same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="5eb8f-115">整合應用程式與 Microsoft 帳戶和 Azure AD 帳戶現在是一個簡單的程序。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="5eb8f-116">您可以使用一組端點、 單一程式庫和單一應用程式註冊 toogain 存取 tooboth hello 消費者和企業環境。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-116">You can use a single set of endpoints, a single library, and a single app registration toogain access tooboth hello consumer and enterprise worlds.</span></span>  <span data-ttu-id="5eb8f-117">toolearn 深入了解 hello v2.0 端點，請簽出[hello 概觀](active-directory-appmodel-v2-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-117">toolearn more about hello v2.0 endpoint, check out [hello overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="5eb8f-118">新的 App 註冊入口網站</span><span class="sxs-lookup"><span data-stu-id="5eb8f-118">New app registration portal</span></span>
<span data-ttu-id="5eb8f-119">tooregister 與 hello v2.0 端點的運作方式的應用程式，您必須使用新的應用程式註冊入口網站： [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList)。這是 hello 入口網站，您可以在哪裡取得應用程式識別碼，來自訂您的應用程式登入頁面，以及其他 hello 外觀。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-119">tooregister an app that works with hello v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  This is hello portal where you can obtain an application ID, customize hello appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="5eb8f-120">您只需要 tooaccess hello 入口網站是電源的 Microsoft 帳戶-個人或工作/學校帳戶。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-120">All you need tooaccess hello portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="5eb8f-121">所有平台使用一個應用程式識別碼</span><span class="sxs-lookup"><span data-stu-id="5eb8f-121">One app ID for all platforms</span></span>
<span data-ttu-id="5eb8f-122">如果您已經使用 Azure Active Directory，您可能已針對單一專案註冊數個不同的應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-122">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="5eb8f-123">例如，如果您建立網站和 iOS 應用程式，您必須 tooregister 它們分別使用兩個不同的應用程式識別碼。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-123">For example, if you built both a website and an iOS app, you had tooregister them separately, using two different Application Ids.</span></span> <span data-ttu-id="5eb8f-124">hello Azure AD 應用程式註冊入口網站註冊期間，這樣的區別將強制您 toomake:</span><span class="sxs-lookup"><span data-stu-id="5eb8f-124">hello Azure AD app registration portal forced you toomake this distinction during registration:</span></span>

![舊版應用程式註冊 UI](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="5eb8f-126">同樣地，如果您有網站和後端 Web API，您可能已在 Azure AD 中將它們註冊為個別的應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-126">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="5eb8f-127">或者，如果您有 iOS 應用程式和 Android 應用程式，您也可能已註冊兩個不同的應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-127">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="5eb8f-128">註冊應用程式的每個元件的 led toosome 非預期的行為，開發人員和他們的客戶：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-128">Registering each component of an application led toosome unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="5eb8f-129">每個元件顯示為每一位客戶的 hello Azure Active Directory 租用戶中的個別應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-129">Each component appeared as a separate app in hello Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="5eb8f-130">當租用戶系統管理員嘗試 tooapply 原則來管理存取權，或刪除應用程式時，他們必須 toodo 因此 hello 應用程式的每個元件。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-130">When a tenant administrator attempted tooapply policy to, manage access to, or delete an app, they would have toodo so for each component of hello app.</span></span>
* <span data-ttu-id="5eb8f-131">當客戶同意 tooan 應用程式時，每個元件會出現在 hello 同意畫面，做為不同的應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-131">When customers consented tooan application, each component would appear in hello consent screen as a distinct application.</span></span>

<span data-ttu-id="5eb8f-132">與 hello v2.0 端點，現在可以為單一應用程式註冊，註冊您的專案的所有元件，並為整個專案中使用單一的應用程式識別碼。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-132">With hello v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="5eb8f-133">您可以加入數個 「 平台 」 tooa 每個專案，並提供您加入每個平台 hello 適當的資料。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-133">You can add several "platforms" tooa each project, and provide hello appropriate data for each platform you add.</span></span>  <span data-ttu-id="5eb8f-134">當然，您可以建立許多應用程式為您要根據您的需求，但在 hello 大多數情況下只有一個應用程式識別碼應該是必要。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-134">Of course, you can create as many apps as you like depending on your requirements, but for hello majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="5eb8f-135">我們的目標是，這將會導致 tooa 詳細簡化應用程式管理和開發體驗，並建立單一專案，您可能會使用更合併的檢視。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-135">Our aim is that this will lead tooa more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="5eb8f-136">範圍，而非資源</span><span class="sxs-lookup"><span data-stu-id="5eb8f-136">Scopes, not resources</span></span>
<span data-ttu-id="5eb8f-137">在 Azure Active Directory 中，應用程式能以「資源」，或是權杖收件者的方式運作。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-137">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="5eb8f-138">資源可以定義多種**範圍**或**oAuth2Permissions**它了解，讓用戶端應用程式特定的一組範圍 toorequest 語彙基元 toothat 資源。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-138">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps toorequest tokens toothat resource for a certain set of scopes.</span></span>  <span data-ttu-id="5eb8f-139">請考慮 hello Azure AD Graph API，做為資源的範例：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-139">Consider hello Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="5eb8f-140">資源識別碼，或`AppID URI`：`https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="5eb8f-140">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="5eb8f-141">範圍，或`OAuth2Permissions`：`Directory.Read`、`Directory.Write` 等。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-141">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="5eb8f-142">這些全部都保存 hello hello v2.0 端點，則為 true。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-142">All of this holds true for hello hello v2.0 endpoint.</span></span>  <span data-ttu-id="5eb8f-143">應用程式仍可做為資源、定義範圍並依據 URI 識別。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-143">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="5eb8f-144">用戶端應用程式仍可以要求存取 toothose 領域。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-144">Client apps can still request access toothose scopes.</span></span>  <span data-ttu-id="5eb8f-145">不過，在其中用戶端會要求這些權限的 hello 方式已變更。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-145">However, hello way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="5eb8f-146">Hello 過去，在 OAuth 2.0 授權要求 tooAzure AD 可能有看起來像：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-146">In hello past, an OAuth 2.0 authorize request tooAzure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="5eb8f-147">其中 hello**資源**參數指示哪些資源 hello 用戶端應用程式所要求的授權。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-147">where hello **resource** parameter indicated which resource hello client app is requesting authorization for.</span></span>  <span data-ttu-id="5eb8f-148">Azure AD 會計算 hello hello 應用程式根據 hello Azure 入口網站中的靜態設定，並據以發出的權杖所需的權限。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-148">Azure AD computed hello permissions required by hello app based on static configuration in hello Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="5eb8f-149">現在，hello 相同的 OAuth 2.0 授權要求看起來像是：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-149">Now, hello same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="5eb8f-150">其中 hello**範圍**參數表示的資源和權限 hello 應用程式所要求的授權。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-150">where hello **scope** parameter indicates which resource and permissions hello app is requesting authorization for.</span></span> <span data-ttu-id="5eb8f-151">hello 所需的資源存在於仍然非常 hello 要求-它只包含在每個 hello hello 範圍參數值。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-151">hello desired resource is still very present in hello request - it is simply encompassed in each of hello values of hello scope parameter.</span></span>  <span data-ttu-id="5eb8f-152">以這種方式使用 hello 範圍參數允許 hello v2.0 端點 toobe 更符合 OAuth 2.0 hello 規格，並會與通用的業界作法更密切地對應。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-152">Using hello scope parameter in this manner allows hello v2.0 endpoint toobe more compliant with hello OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="5eb8f-153">它也可讓應用程式 tooperform[累加同意](#incremental-and-dynamic-consent)，hello 下一節中所說明。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-153">It also enables apps tooperform [incremental consent](#incremental-and-dynamic-consent), which is described in hello next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="5eb8f-154">增量和動態同意</span><span class="sxs-lookup"><span data-stu-id="5eb8f-154">Incremental and dynamic consent</span></span>
<span data-ttu-id="5eb8f-155">註冊 toospecify 先前所需的 Azure AD 中應用程式在應用程式建立時在 hello Azure 入口網站，其需要的 OAuth 2.0 權限：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-155">Apps registered in Azure AD previously needed toospecify their required OAuth 2.0 permissions in hello Azure Portal, at app creation time:</span></span>

![權限註冊 UI](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="5eb8f-157">需要應用程式所設定的 hello 權限**靜態**。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-157">hello permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="5eb8f-158">雖然這 hello Azure 入口網站中允許的 hello 應用程式 tooexist 組態，並保留清晰且簡單的 hello 程式碼，它會呈現為開發人員的一些問題：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-158">While this allowed configuration of hello app tooexist in hello Azure Portal and kept hello code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="5eb8f-159">應用程式有 tooknow 所有 hello 會需要在應用程式建立時的權限。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-159">An app had tooknow all of hello permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="5eb8f-160">隨著時間新增權限有所困難。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-160">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="5eb8f-161">應用程式有 tooknow 所有它曾經存取事先 hello 資源。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-161">An app had tooknow all of hello resources it would ever access ahead of time.</span></span>  <span data-ttu-id="5eb8f-162">您很難 toocreate 應用程式可以存取的任意數目的資源。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-162">It was difficult toocreate apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="5eb8f-163">應用程式具有 toorequest 會需要在 hello 使用者首次登入的所有 hello 權限。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-163">An app had toorequest all hello permissions it would ever need upon hello user's first sign-in.</span></span>  <span data-ttu-id="5eb8f-164">在某些情況下，這會導致 tooa 的權限，不建議使用從核准初始登入的 hello 應用程式的存取權的使用者很長的清單。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-164">In some cases this led tooa very long list of permissions, which discouraged end-users from approving hello app's access on initial sign-in.</span></span>

<span data-ttu-id="5eb8f-165">與 hello v2.0 端點，您可以指定 hello 權限的應用程式需求**動態**，在執行階段，在您的應用程式的一般使用。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-165">With hello v2.0 endpoint, you can specify hello permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="5eb8f-166">toodo 因此，您可以指定 hello 您的應用程式需求，在任何給定時間點的時間範圍併入 hello`scope`授權要求參數：</span><span class="sxs-lookup"><span data-stu-id="5eb8f-166">toodo so, you can specify hello scopes your app needs at any given point in time by including them in hello `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="5eb8f-167">hello 上述要求 hello 應用程式 tooread 權限，在 Azure AD 使用者的目錄資料，以及寫入資料 tootheir 目錄。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-167">hello above requests permission for hello app tooread an Azure AD user's directory data, as well as write data tootheir directory.</span></span>  <span data-ttu-id="5eb8f-168">如果 hello 使用者已經同意 hello 過去 toothose 權限特定應用程式中，它們會直接輸入其認證和登入 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-168">If hello user has consented toothose permissions in hello past for this particular app, they will simply enter their credentials and be signed into hello app.</span></span>  <span data-ttu-id="5eb8f-169">如果 hello 使用者不同意這些權限的 tooany，hello v2.0 端點會要求 hello 使用者同意 toothose 權限。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-169">If hello user has not consented tooany of these permissions, hello v2.0 endpoint will ask hello user for consent toothose permissions.</span></span>  <span data-ttu-id="5eb8f-170">toolearn 更多，您可以閱讀[權限、 同意，以及範圍](active-directory-v2-scopes.md)。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-170">toolearn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="5eb8f-171">允許應用程式 toorequest 權限，以動態方式透過 hello`scope`參數可讓您完整控制您的使用者體驗。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-171">Allowing an app toorequest permissions dynamically via hello `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="5eb8f-172">如果您希望，您可以選擇的 toofrontload 您的同意體驗，並且要求一項的初始授權要求中的所有權限。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-172">If you wish, you can choose toofrontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="5eb8f-173">或者，如果您的應用程式需要大量的權限，您可以選擇 toogather 這些權限從 hello 使用者以累加的方式，如它們經過一段時間嘗試 toouse 您的應用程式的特定功能。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-173">Or if your app requires a large number of permissions, you can choose toogather those permissions from hello user incrementally, as they attempt toouse certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="5eb8f-174">知名的範圍</span><span class="sxs-lookup"><span data-stu-id="5eb8f-174">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="5eb8f-175">離線存取</span><span class="sxs-lookup"><span data-stu-id="5eb8f-175">Offline access</span></span>
<span data-ttu-id="5eb8f-176">使用 hello v2.0 端點的應用程式可能需要 hello 使用新的已知的權限的應用程式-hello`offline_access`範圍。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-176">Apps using hello v2.0 endpoint may require hello use of a new well-known permission for apps - hello `offline_access` scope.</span></span>  <span data-ttu-id="5eb8f-177">所有應用程式如果，則需要 toorequest 此權限的必要 tooaccess 資源上 hello 代表使用者執行很長一段時間，即使 hello 使用者可能不主動使用 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-177">All apps will need toorequest this permission if they need tooaccess resources on hello behalf of a user for a prolonged period of time, even when hello user may not be actively using hello app.</span></span>  <span data-ttu-id="5eb8f-178">hello`offline_access`範圍將會出現 toohello 使用者同意對話方塊為 「 存取您的資料離線 」，hello 使用者必須同意。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-178">hello `offline_access` scope will appear toohello user in consent dialogs as "Access your data offline", which hello user must agree to.</span></span>  <span data-ttu-id="5eb8f-179">要求的 hello`offline_access`權限可讓您的 web 應用程式 tooreceive OAuth 2.0 refresh_tokens 從 hello v2.0 端點。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-179">Requesting hello `offline_access` permission will enable your web app tooreceive OAuth 2.0 refresh_tokens from hello v2.0 endpoint.</span></span>  <span data-ttu-id="5eb8f-180">Refresh_token 屬於長效權杖，可用來交換新的 OAuth 2.0 access_token 以延長存取期間。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-180">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="5eb8f-181">如果您的應用程式沒有要求 hello`offline_access`範圍，則不會接收 refresh_tokens。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-181">If your app does not request hello `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="5eb8f-182">這表示，當您兌換 authorization_code hello OAuth 2.0 授權碼流程中的，您只會接收回 access_token 從 hello`/token`端點。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-182">This means that when you redeem an authorization_code in hello OAuth 2.0 authorization code flow, you will only receive back an access_token from hello `/token` endpoint.</span></span>  <span data-ttu-id="5eb8f-183">該 access_token 會短時間維持有效 (通常是一小時)，但最後終將過期。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-183">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="5eb8f-184">在該點的時間，您的應用程式需要 tooredirect hello 使用者回復 toohello`/authorize`端點 tooretrieve 新 authorization_code。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-184">At that point in time, your app will need tooredirect hello user back toohello `/authorize` endpoint tooretrieve a new authorization_code.</span></span>  <span data-ttu-id="5eb8f-185">在此重新導向，hello 使用者可能或可能無法再次需要 tooenter 他們的認證或重新同意 toopermissions，根據 hello hello 類型的應用程式。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-185">During this redirect, hello user may or may not need tooenter their credentials again or re-consent toopermissions, depending on hello hello type of app.</span></span>

<span data-ttu-id="5eb8f-186">深入了解 hello 的 OAuth 2.0、 refresh_tokens 和 access_tokens，取出 toolearn [v2.0 通訊協定參考](active-directory-v2-protocols.md)。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-186">toolearn more about OAuth 2.0, refresh_tokens, and access_tokens, check out hello [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="5eb8f-187">OpenID、設定檔和電子郵件</span><span class="sxs-lookup"><span data-stu-id="5eb8f-187">OpenID, profile and email</span></span>
<span data-ttu-id="5eb8f-188">在過去，hello 最基本 OpenID Connect 登入流程與 Azure Active Directory 會提供豐富的 hello 產生 id_token 中的 hello 使用者的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-188">Historically, hello most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about hello user in hello resulting id_token.</span></span>  <span data-ttu-id="5eb8f-189">在 id_token hello 宣告可以包含 hello 使用者名稱、 慣用的使用者名稱、 電子郵件地址、 物件識別碼、 等等。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-189">hello claims in an id_token can include hello user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="5eb8f-190">我們正在該 hello 限制 hello 資訊`openid`範圍可以提供您的應用程式的存取權。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-190">We are now restricting hello information that hello `openid` scope affords your app access to.</span></span>  <span data-ttu-id="5eb8f-191">hello 'openid' 範圍將僅允許應用程式 toosign hello 使用者中，並收到 hello 使用者應用程式特定識別項。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-191">hello ‘openid’ scope will only allow your app toosign hello user in, and receive an app-specific identifier for hello user.</span></span>  <span data-ttu-id="5eb8f-192">如果您想 tooobtain 個人識別資訊 (PII) 有關 hello 使用者應用程式中，您的應用程式必須 toorequest hello 使用者從其他權限。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-192">If you want tooobtain personally identifiable information (PII) about hello user in your app, your app will need toorequest additional permissions from hello user.</span></span>  <span data-ttu-id="5eb8f-193">我們採用兩個新領域 – hello`email`和`profile`範圍 – 可讓您 toodo 因此。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-193">We are introducing two new scopes – hello `email` and `profile` scopes – which allow you toodo so.</span></span>

<span data-ttu-id="5eb8f-194">hello`email`範圍是非常簡單，因為它可讓您的應用程式存取 toohello 使用者的主要電子郵件地址，透過 hello `email` hello id_token 中宣告。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-194">hello `email` scope is very straightforward – it allows your app access toohello user’s primary email address via hello `email` claim in hello id_token.</span></span>  <span data-ttu-id="5eb8f-195">hello`profile`範圍可以提供您的應用程式存取 tooall hello 使用者 – 其名稱、 慣用的使用者名稱，其他基本資訊的物件識別碼，等等。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-195">hello `profile` scope affords your app access tooall other basic information about hello user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="5eb8f-196">這可讓您 toocode 您的應用程式，以最少洩漏的方式 – 您可以只要求 hello 使用者 hello 組的應用程式需要 toodo 其作業的資訊。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-196">This allows you toocode your app in a minimal-disclosure fashion – you can only ask hello user for hello set of information that your app requires toodo its job.</span></span>  <span data-ttu-id="5eb8f-197">如需有關這些範圍的詳細資訊，請參閱太[hello v2.0 範圍參考](active-directory-v2-scopes.md)。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-197">For more information on these scopes, refer too[hello v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="5eb8f-198">權杖宣告</span><span class="sxs-lookup"><span data-stu-id="5eb8f-198">Token Claims</span></span>
<span data-ttu-id="5eb8f-199">hello v2.0 端點所發出的權杖中的 hello 宣告不會發出 hello 正式推出的 Azure AD 端點的相同 tootokens-移轉 toohello 新服務的應用程式不應該假設的特定宣告會存在於 id_tokens 或 access_tokens。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-199">hello claims in tokens issued by hello v2.0 endpoint will not be identical tootokens issued by hello generally available Azure AD endpoints - apps migrating toohello new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="5eb8f-200">toolearn 有關 hello v2.0 權杖中發出的特定宣告，請參閱 「 hello [v2.0 權杖參照](active-directory-v2-tokens.md)。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-200">toolearn about hello specific claims emitted in v2.0 tokens, see hello [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="5eb8f-201">限制</span><span class="sxs-lookup"><span data-stu-id="5eb8f-201">Limitations</span></span>
<span data-ttu-id="5eb8f-202">有一些限制 toobe 時使用 hello v2.0 點。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-202">There are a few restrictions toobe aware of when using hello v2.0 point.</span></span>  <span data-ttu-id="5eb8f-203">請參閱 toohello [v2.0 限制文件](active-directory-v2-limitations.md)toosee 如果任何這些限制適用於 tooyour 特定案例。</span><span class="sxs-lookup"><span data-stu-id="5eb8f-203">Please refer toohello [v2.0 limitations doc](active-directory-v2-limitations.md) toosee if any of these restrictions apply tooyour particular scenario.</span></span>
