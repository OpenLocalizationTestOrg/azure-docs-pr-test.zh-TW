---
title: "Azure Active Directory v2.0 端點限制 | Microsoft Docs"
description: "Azure AD v2.0 端點的限制清單。"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: a99289c0-e6ce-410c-94f6-c279387b4f66
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 00a6749d00c6e66a957b0a89c6658511a1bafe4d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="should-i-use-the-v20-endpoint"></a><span data-ttu-id="388f8-103">我應該使用 v2.0 端點嗎？</span><span class="sxs-lookup"><span data-stu-id="388f8-103">Should I use the v2.0 endpoint?</span></span>
<span data-ttu-id="388f8-104">當您建立與 Azure Active Directory 整合的應用程式時，您必須判斷 v2.0 端點和驗證通訊協定是否符合您的需求。</span><span class="sxs-lookup"><span data-stu-id="388f8-104">When you build applications that integrate with Azure Active Directory, you need to decide whether the v2.0 endpoint and authentication protocols meet your needs.</span></span> <span data-ttu-id="388f8-105">Azure Active Directory 的原始端點仍受到完整的支援，而且在某些方面擁有比 v2.0 更豐富的功能。</span><span class="sxs-lookup"><span data-stu-id="388f8-105">Azure Active Directory's original endpoint is still fully supported and, in some respects, is more feature rich than v2.0.</span></span> <span data-ttu-id="388f8-106">不過，v2.0 端點為開發人員[帶來極大的好處](active-directory-v2-compare.md)。</span><span class="sxs-lookup"><span data-stu-id="388f8-106">However, the v2.0 endpoint [introduces significant benefits](active-directory-v2-compare.md) for developers.</span></span>

<span data-ttu-id="388f8-107">以下是我們在這個時間點針對開發人員所提供的簡化建議：</span><span class="sxs-lookup"><span data-stu-id="388f8-107">Here's our simplified recommendation for developers at this point in time:</span></span>

* <span data-ttu-id="388f8-108">如果您必須在應用程式中支援個人 Microsoft 帳戶，請使用 v2.0 端點。</span><span class="sxs-lookup"><span data-stu-id="388f8-108">If you must support personal Microsoft accounts in your application, use the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-109">但在這樣做之前，請務必了解我們在本文中討論的限制。</span><span class="sxs-lookup"><span data-stu-id="388f8-109">But before you do, be sure that you understand the limitations that we discuss in this article.</span></span>
* <span data-ttu-id="388f8-110">如果您的應用程式只需要支援 Microsoft 公司和學校帳戶，請不要使用 v2.0 端點。</span><span class="sxs-lookup"><span data-stu-id="388f8-110">If your application only needs to support Microsoft work and school accounts, don't use the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-111">請改為參考我們的 [Azure AD 開發人員指南](active-directory-developers-guide.md)。</span><span class="sxs-lookup"><span data-stu-id="388f8-111">Instead, refer to our [Azure AD developer guide](active-directory-developers-guide.md).</span></span>

<span data-ttu-id="388f8-112">隨著時間經過，v2.0 端點會成長到排除此處所列的限制，屆時您只需要使用 v2.0 端點即可。</span><span class="sxs-lookup"><span data-stu-id="388f8-112">Over time, the v2.0 endpoint will grow to eliminate the restrictions listed here, so that you will only ever need to use the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-113">在此同時，本文旨在協助您判斷 v2.0 端點是否適合您。</span><span class="sxs-lookup"><span data-stu-id="388f8-113">In the meantime, this article is intended to help you determine whether the v2.0 endpoint is right for you.</span></span> <span data-ttu-id="388f8-114">我們將持續更新本文，以反映 v2.0 端點目前的狀態。</span><span class="sxs-lookup"><span data-stu-id="388f8-114">We will continue to update this article to reflect the current state of the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-115">請記得回來重新評估您對 v2.0 功能的需求。</span><span class="sxs-lookup"><span data-stu-id="388f8-115">Check back to reevaluate your requirements against v2.0 capabilities.</span></span>

<span data-ttu-id="388f8-116">如果您有一個未使用 v2.0 端點的現有 Azure AD 應用程式，就不需要從頭開始。</span><span class="sxs-lookup"><span data-stu-id="388f8-116">If you have an existing Azure AD app that does not use the v2.0 endpoint, there's no need to start from scratch.</span></span> <span data-ttu-id="388f8-117">未來，我們會為您提供可將現有 Azure AD 應用程式與 v2.0 端點搭配使用的方法。</span><span class="sxs-lookup"><span data-stu-id="388f8-117">In the future, we will provide a way for you to use your existing Azure AD applications with the v2.0 endpoint.</span></span>

## <a name="restrictions-on-app-types"></a><span data-ttu-id="388f8-118">應用程式類型的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-118">Restrictions on app types</span></span>
<span data-ttu-id="388f8-119">v2.0 端點目前不支援下列類型的應用程式。</span><span class="sxs-lookup"><span data-stu-id="388f8-119">Currently, the following types of apps are not supported by the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-120">如需所支援應用程式類型的描述，請參閱 [Azure Active Directory v2.0 端點的應用程式類型](active-directory-v2-flows.md)。</span><span class="sxs-lookup"><span data-stu-id="388f8-120">For a description of supported app types, see [App types for the Azure Active Directory v2.0 endpoint](active-directory-v2-flows.md).</span></span>

### <a name="standalone-web-apis"></a><span data-ttu-id="388f8-121">獨立的 Web API</span><span class="sxs-lookup"><span data-stu-id="388f8-121">Standalone Web APIs</span></span>
<span data-ttu-id="388f8-122">您可以使用 v2.0 端點來[建置使用 OAuth 2.0 保護的 Web API](active-directory-v2-flows.md#web-apis)。</span><span class="sxs-lookup"><span data-stu-id="388f8-122">You can use the v2.0 endpoint to [build a Web API that is secured with OAuth 2.0](active-directory-v2-flows.md#web-apis).</span></span> <span data-ttu-id="388f8-123">不過，該 Web API 只能從具有相同「應用程式識別碼」的應用程式接收權杖。</span><span class="sxs-lookup"><span data-stu-id="388f8-123">However, that Web API can receive tokens only from an application that has the same Application ID.</span></span> <span data-ttu-id="388f8-124">您無法從具有不同「應用程式識別碼」的用戶端存取 Web API。</span><span class="sxs-lookup"><span data-stu-id="388f8-124">You cannot access a Web API from a client that has a different Application ID.</span></span> <span data-ttu-id="388f8-125">該用戶端無法要求或取得您 Web API 的權限。</span><span class="sxs-lookup"><span data-stu-id="388f8-125">The client won't be able to request or obtain permissions to your Web API.</span></span>

<span data-ttu-id="388f8-126">若要了解如何建置 Web API 以接受來自具有相同「應用程式識別碼」之用戶端的權杖，請參閱我們[開始使用](active-directory-appmodel-v2-overview.md#getting-started)一節中的 v2.0 端點 Web API 範例。</span><span class="sxs-lookup"><span data-stu-id="388f8-126">To see how to build a Web API that accepts tokens from a client that has the same Application ID, see the v2.0 endpoint Web API samples in our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>

## <a name="restrictions-on-app-registrations"></a><span data-ttu-id="388f8-127">應用程式註冊的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-127">Restrictions on app registrations</span></span>
<span data-ttu-id="388f8-128">目前，針對您想要與 v2.0 端點整合的每個應用程式，您都必須在新的 [Microsoft 應用程式註冊入口網站](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList)中建立應用程式註冊。</span><span class="sxs-lookup"><span data-stu-id="388f8-128">Currently, for each app that you want to integrate with the v2.0 endpoint, you must create an app registration in the new [Microsoft Application Registration Portal](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span></span> <span data-ttu-id="388f8-129">現有的 Azure AD 或 Microsoft 帳戶應用程式與 v2.0 端點不相容。</span><span class="sxs-lookup"><span data-stu-id="388f8-129">Existing Azure AD or Microsoft account apps are not compatible with the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-130">在「應用程式註冊入口網站」以外的任何入口網站註冊的應用程式也與 v2.0 端點不相容。</span><span class="sxs-lookup"><span data-stu-id="388f8-130">Apps that are registered in any portal other than the Application Registration Portal are not compatible with the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-131">未來，我們打算提供使用現有應用程式作為 v2.0 應用程式的方法。</span><span class="sxs-lookup"><span data-stu-id="388f8-131">In the future, we plan to provide a way to use an existing application as a v2.0 app.</span></span> <span data-ttu-id="388f8-132">但目前還沒有可讓現有應用程式與 v2.0 端點搭配運作的移轉途徑。</span><span class="sxs-lookup"><span data-stu-id="388f8-132">Currently, though, there is no migration path for an existing app to work with the v2.0 endpoint.</span></span>

<span data-ttu-id="388f8-133">此外，您在[應用程式註冊入口網站](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList)中建立的應用程式註冊還需注意下列幾點︰</span><span class="sxs-lookup"><span data-stu-id="388f8-133">In addition, app registrations that you create in the [Application Registration Portal](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList) have the following caveats:</span></span>

* <span data-ttu-id="388f8-134">每個「應用程式識別碼」只允許兩個應用程式密碼。</span><span class="sxs-lookup"><span data-stu-id="388f8-134">Only two app secrets are allowed per Application ID.</span></span>
* <span data-ttu-id="388f8-135">由使用個人 Microsoft 帳戶之使用者所註冊的應用程式註冊，只能透過單一開發人員帳戶來檢視及管理。</span><span class="sxs-lookup"><span data-stu-id="388f8-135">An app registration registered by a user with a personal Microsoft account can be viewed and managed only by a single developer account.</span></span> <span data-ttu-id="388f8-136">不能在多位開發人員之間共用。</span><span class="sxs-lookup"><span data-stu-id="388f8-136">It cannot be shared between multiple developers.</span></span>  <span data-ttu-id="388f8-137">如果您要和多位開發人員共用您的應用程式註冊，可以使用 Azure AD 帳戶登入註冊入口網站來建立應用程式。</span><span class="sxs-lookup"><span data-stu-id="388f8-137">If you would like to share your app registration amongst multiple developers, you can create the application by signing into the registration portal with an Azure AD account.</span></span>
* <span data-ttu-id="388f8-138">所允許的重新導向 URI 的格式有幾項限制。</span><span class="sxs-lookup"><span data-stu-id="388f8-138">There are several restrictions on the format of the redirect URI that is allowed.</span></span> <span data-ttu-id="388f8-139">如需有關重新導向 URI 的詳細資訊，請參閱下一節。</span><span class="sxs-lookup"><span data-stu-id="388f8-139">For more information about redirect URIs, see the next section.</span></span>

## <a name="restrictions-on-redirect-uris"></a><span data-ttu-id="388f8-140">重新導向 URI 的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-140">Restrictions on redirect URIs</span></span>
<span data-ttu-id="388f8-141">針對已在「應用程式註冊入口網站」中註冊的應用程式，目前僅限使用一組受限的重新導向 URI 值。</span><span class="sxs-lookup"><span data-stu-id="388f8-141">Currently, apps that are registered in the Application Registration Portal are restricted to a limited set of redirect URI values.</span></span> <span data-ttu-id="388f8-142">Web 應用程式和服務的重新導向 URI 必須以配置 `https` 開頭，而且所有重新導向 URI 值必須共用單一 DNS 網域。</span><span class="sxs-lookup"><span data-stu-id="388f8-142">The redirect URI for web apps and services must begin with the scheme `https`, and all redirect URI values must share a single DNS domain.</span></span> <span data-ttu-id="388f8-143">例如，您不能註冊具有下列其中一個重新導向 URI 的 Web 應用程式：</span><span class="sxs-lookup"><span data-stu-id="388f8-143">For example, you cannot register a web app that has one of these redirect URIs:</span></span>

`https://login-east.contoso.com`  
`https://login-west.contoso.com`

<span data-ttu-id="388f8-144">註冊系統會將現有重新導向 URI 的整個 DNS 名稱與您要新增之重新導向 URI 的 DNS 名稱做比較。</span><span class="sxs-lookup"><span data-stu-id="388f8-144">The registration system compares the whole DNS name of the existing redirect URI to the DNS name of the redirect URI that you are adding.</span></span> <span data-ttu-id="388f8-145">如果下列任一條件成立，新增 DNS 名稱的要求就會失敗︰</span><span class="sxs-lookup"><span data-stu-id="388f8-145">The request to add the DNS name will fail if either of the following conditions is true:</span></span>  

* <span data-ttu-id="388f8-146">新重新導向 URI 的整個 DNS 名稱與現有重新導向 URI 的 DNS 名稱不相符。</span><span class="sxs-lookup"><span data-stu-id="388f8-146">The whole DNS name of the new redirect URI does not match the DNS name of the existing redirect URI.</span></span>
* <span data-ttu-id="388f8-147">新重新導向 URI 的整個 DNS 名稱不是現有重新導向 URI 的子網域。</span><span class="sxs-lookup"><span data-stu-id="388f8-147">The whole DNS name of the new redirect URI is not a subdomain of the existing redirect URI.</span></span>

<span data-ttu-id="388f8-148">例如，如果應用程式具有下列重新導向 URI：</span><span class="sxs-lookup"><span data-stu-id="388f8-148">For example, if the app has this redirect URI:</span></span>

`https://login.contoso.com`

<span data-ttu-id="388f8-149">您可以在其中新增，就像這樣：</span><span class="sxs-lookup"><span data-stu-id="388f8-149">You can add to it, like this:</span></span>

`https://login.contoso.com/new`

<span data-ttu-id="388f8-150">在此情況下，DNS 名稱會完全相符。</span><span class="sxs-lookup"><span data-stu-id="388f8-150">In this case, the DNS name matches exactly.</span></span> <span data-ttu-id="388f8-151">或者，您可以這樣做：</span><span class="sxs-lookup"><span data-stu-id="388f8-151">Or, you can do this:</span></span>

`https://new.login.contoso.com`

<span data-ttu-id="388f8-152">在此情況下，您參照的是 login.contoso.com 的 DNS 子網域。</span><span class="sxs-lookup"><span data-stu-id="388f8-152">In this case, you're referring to a DNS subdomain of login.contoso.com.</span></span> <span data-ttu-id="388f8-153">如果您希望應用程式以 login-east.contoso.com 和 login-west.contoso.com 作為重新導向 URI，您必須依下列序新增這些重新導向 URI︰</span><span class="sxs-lookup"><span data-stu-id="388f8-153">If you want to have an app that has login-east.contoso.com and login-west.contoso.com as redirect URIs, you must add those redirect URIs in this order:</span></span>

`https://contoso.com`  
`https://login-east.contoso.com`  
`https://login-west.contoso.com`  

<span data-ttu-id="388f8-154">您可以新增後面兩個，因為它們是第一個重新導向 URI (contoso.com) 的子網域。</span><span class="sxs-lookup"><span data-stu-id="388f8-154">You can add the latter two because they are subdomains of the first redirect URI, contoso.com.</span></span> <span data-ttu-id="388f8-155">即將推出的版本將會移除這項限制。</span><span class="sxs-lookup"><span data-stu-id="388f8-155">This limitation will be removed in an upcoming release.</span></span>

<span data-ttu-id="388f8-156">若要了解如何在「應用程式註冊入口網站」中註冊應用程式，請參閱[如何使用 v2.0 端點註冊 App](active-directory-v2-app-registration.md)。</span><span class="sxs-lookup"><span data-stu-id="388f8-156">To learn how to register an app in the Application Registration Portal, see [How to register an app with the v2.0 endpoint](active-directory-v2-app-registration.md).</span></span>

## <a name="restrictions-on-services-and-apis"></a><span data-ttu-id="388f8-157">服務和 API 的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-157">Restrictions on services and APIs</span></span>
<span data-ttu-id="388f8-158">目前 v2.0 端點支援已在「應用程式註冊入口網站」中註冊及在[支援的驗證流程](active-directory-v2-flows.md)清單範圍內之所有應用程式的登入。</span><span class="sxs-lookup"><span data-stu-id="388f8-158">Currently, the v2.0 endpoint supports sign-in for any app that is registered in the Application Registration Portal, and which falls in the list of [supported authentication flows](active-directory-v2-flows.md).</span></span> <span data-ttu-id="388f8-159">不過，這些應用程式只能取得非常有限的一組資源的 OAuth 2.0 存取權杖。</span><span class="sxs-lookup"><span data-stu-id="388f8-159">However, these apps can acquire OAuth 2.0 access tokens for a very limited set of resources.</span></span> <span data-ttu-id="388f8-160">v2.0 端點只會針對下列項目簽發存取權杖：</span><span class="sxs-lookup"><span data-stu-id="388f8-160">The v2.0 endpoint issues access tokens only for:</span></span>

* <span data-ttu-id="388f8-161">要求權杖的應用程式。</span><span class="sxs-lookup"><span data-stu-id="388f8-161">The app that requested the token.</span></span> <span data-ttu-id="388f8-162">如果邏輯應用程式是由數個不同的元件或層級組成，應用程式就可以為自己取得存取權杖。</span><span class="sxs-lookup"><span data-stu-id="388f8-162">An app can acquire an access token for itself, if the logical app is composed of several different components or tiers.</span></span> <span data-ttu-id="388f8-163">若要查看此案例的執行狀況，請參閱 [使用者入門](active-directory-appmodel-v2-overview.md#getting-started) 教學課程。</span><span class="sxs-lookup"><span data-stu-id="388f8-163">To see this scenario in action, check out our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) tutorials.</span></span>
* <span data-ttu-id="388f8-164">Outlook 郵件、行事曆和連絡人 REST API 全都位於 https://outlook.office.com。</span><span class="sxs-lookup"><span data-stu-id="388f8-164">The Outlook Mail, Calendar, and Contacts REST APIs, all of which are located at https://outlook.office.com.</span></span> <span data-ttu-id="388f8-165">若要了解如何撰寫存取這些 API 的應用程式，請參閱[開始使用 Office](https://www.msdn.com/office/office365/howto/authenticate-Office-365-APIs-using-v2) 教學課程。</span><span class="sxs-lookup"><span data-stu-id="388f8-165">To learn how to write an app that accesses these APIs, see the [Office Getting Started](https://www.msdn.com/office/office365/howto/authenticate-Office-365-APIs-using-v2) tutorials.</span></span>
* <span data-ttu-id="388f8-166">Microsoft Graph API。</span><span class="sxs-lookup"><span data-stu-id="388f8-166">Microsoft Graph APIs.</span></span> <span data-ttu-id="388f8-167">您可以深入了解 [Microsoft Graph](https://graph.microsoft.io)和可供您使用的資料。</span><span class="sxs-lookup"><span data-stu-id="388f8-167">You can learn more about [Microsoft Graph](https://graph.microsoft.io) and the data that is available to you.</span></span>

<span data-ttu-id="388f8-168">目前不支援其他服務。</span><span class="sxs-lookup"><span data-stu-id="388f8-168">No other services are supported at this time.</span></span> <span data-ttu-id="388f8-169">除了支援您自己的自訂建置 Web API 和服務之外，未來還將增加更多 Microsoft Online Services。</span><span class="sxs-lookup"><span data-stu-id="388f8-169">More Microsoft Online Services will be added in the future, in addition to support for your own custom-built Web APIs and services.</span></span>

## <a name="restrictions-on-libraries-and-sdks"></a><span data-ttu-id="388f8-170">程式庫和 SDK 的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-170">Restrictions on libraries and SDKs</span></span>
<span data-ttu-id="388f8-171">目前對 v2.0 端點提供的程式庫支援相當有限。</span><span class="sxs-lookup"><span data-stu-id="388f8-171">Currently, library support for the v2.0 endpoint is limited.</span></span> <span data-ttu-id="388f8-172">如果您想要在實際執行應用程式中使用 v2.0 端點，您有下列選項：</span><span class="sxs-lookup"><span data-stu-id="388f8-172">If you want to use the v2.0 endpoint in a production application, you have these options:</span></span>

* <span data-ttu-id="388f8-173">如果您要建置 Web 應用程式，您可以安心地使用 Microsoft 正式運作的伺服器端中介軟體來執行登入和權杖驗證。</span><span class="sxs-lookup"><span data-stu-id="388f8-173">If you are building a web application, you can safely use Microsoft generally available server-side middleware to perform sign-in and token validation.</span></span> <span data-ttu-id="388f8-174">這些包括了適用於 ASP.NET 的 OWIN Open ID Connect 中介軟體和 Node.js Passport 外掛程式。</span><span class="sxs-lookup"><span data-stu-id="388f8-174">These include the OWIN Open ID Connect middleware for ASP.NET and the Node.js Passport plug-in.</span></span> <span data-ttu-id="388f8-175">如需使用 Microsoft 中介軟體的程式碼範例，請參閱我們的[開始使用](active-directory-appmodel-v2-overview.md#getting-started)一節。</span><span class="sxs-lookup"><span data-stu-id="388f8-175">For code samples that use Microsoft middleware, see our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>
* <span data-ttu-id="388f8-176">如果您正在建置傳統型或行動應用程式，可以使用我們的其中一個預覽 Microsoft Authentication Library (MSAL)。</span><span class="sxs-lookup"><span data-stu-id="388f8-176">If you are building a desktop or mobile application, you can use one of our preview Microsoft Authentication Libraries (MSAL).</span></span>  <span data-ttu-id="388f8-177">這些程式庫處於支援生產環境的預覽階段，因此可以在生產應用程式中安全地使用。</span><span class="sxs-lookup"><span data-stu-id="388f8-177">These libraries are in a production-supported preview, so it is safe to use them in production applications.</span></span> <span data-ttu-id="388f8-178">您可以在我們的[驗證程式庫參考](active-directory-v2-libraries.md)中，閱讀更多和預覽條款與可用程式庫相關的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="388f8-178">You can read more about the terms of the preview and the available libraries in our [authentication libraries reference](active-directory-v2-libraries.md).</span></span>
* <span data-ttu-id="388f8-179">針對 Microsoft 程式庫未包含的其他平台，您可以透過直接在應用程式程式碼中傳送和接收通訊協定訊息，來與 v2.0 端點整合。</span><span class="sxs-lookup"><span data-stu-id="388f8-179">For platforms not covered by Microsoft libraries, you can integrate with the v2.0 endpoint by directly sending and receiving protocol messages in your application code.</span></span> <span data-ttu-id="388f8-180">v2.0 OpenID Connect 和 OAuth 通訊協定[有明確的文件記載](active-directory-v2-protocols.md)，可協助您執行這種整合。</span><span class="sxs-lookup"><span data-stu-id="388f8-180">The v2.0 OpenID Connect and OAuth protocols [are explicitly documented](active-directory-v2-protocols.md) to help you perform such an integration.</span></span>
* <span data-ttu-id="388f8-181">最後，您可以使用開放原始碼 OpenID Connect 和 OAuth 程式庫來與 v2.0 端點整合。</span><span class="sxs-lookup"><span data-stu-id="388f8-181">Finally, you can use open-source Open ID Connect and OAuth libraries to integrate with the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-182">v2.0 通訊協定應該不需進行重大變更，即可與許多開放原始碼通訊協定程式庫相容。</span><span class="sxs-lookup"><span data-stu-id="388f8-182">The v2.0 protocol should be compatible with many open-source protocol libraries without major changes.</span></span> <span data-ttu-id="388f8-183">這類的程式庫的可用性會依語言和平台而有所不同。</span><span class="sxs-lookup"><span data-stu-id="388f8-183">The availability of these kinds of libraries varies by language and platform.</span></span> <span data-ttu-id="388f8-184">[Open ID Connect](http://openid.net/connect/) 和 [OAuth 2.0](http://oauth.net/2/) 網站保有一份常用的實作清單。</span><span class="sxs-lookup"><span data-stu-id="388f8-184">The [Open ID Connect](http://openid.net/connect/) and [OAuth 2.0](http://oauth.net/2/) websites maintain a list of popular implementations.</span></span> <span data-ttu-id="388f8-185">如需詳細資訊，以及已用 v2.0 端點測試的開放原始碼用戶端程式庫和範例的清單，請參閱 [Azure Active Directory v2.0 和驗證程式庫](active-directory-v2-libraries.md)。</span><span class="sxs-lookup"><span data-stu-id="388f8-185">For more information, see [Azure Active Directory v2.0 and authentication libraries](active-directory-v2-libraries.md), and the list of open-source client libraries and samples that have been tested with the v2.0 endpoint.</span></span>

## <a name="restrictions-on-protocols"></a><span data-ttu-id="388f8-186">通訊協定的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-186">Restrictions on protocols</span></span>
<span data-ttu-id="388f8-187">v2.0 端點不支援 SAML 或 WS-同盟，只支援 Open ID Connect 和 OAuth 2.0。</span><span class="sxs-lookup"><span data-stu-id="388f8-187">The v2.0 endpoint does not support SAML or WS-Federation; it only supports Open ID Connect and OAuth 2.0.</span></span>  <span data-ttu-id="388f8-188">v2.0 端點中並未納入 OAuth 通訊協定的所有功能與特性。</span><span class="sxs-lookup"><span data-stu-id="388f8-188">Not all features and capabilities of OAuth protocols have been incorporated into the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-189">v2.0 端點中目前「並未提供」這些通訊協定功能與特性：</span><span class="sxs-lookup"><span data-stu-id="388f8-189">These protocol features and capabilities currently are *not available* in the v2.0 endpoint:</span></span>

* <span data-ttu-id="388f8-190">即使您向使用者取得檢視其電子郵件的權限，v2.0 端點所簽發的識別碼權杖也不會包含使用者的 `email` 宣告。</span><span class="sxs-lookup"><span data-stu-id="388f8-190">ID tokens that are issued by the v2.0 endpoint do not contain an `email` claim for the user, even if you acquire permission from the user to view their email.</span></span>
* <span data-ttu-id="388f8-191">v2.0 端點上未實作 OpenID Connect UserInfo 端點。</span><span class="sxs-lookup"><span data-stu-id="388f8-191">The OpenID Connect UserInfo endpoint is not implemented on the v2.0 endpoint.</span></span> <span data-ttu-id="388f8-192">不過，所有您可能會在此端點收到的使用者設定檔資料都可從 Microsoft Graph `/me` 端點取得。</span><span class="sxs-lookup"><span data-stu-id="388f8-192">However, all user profile data that you potentially would receive at this endpoint is available from the Microsoft Graph `/me` endpoint.</span></span>
* <span data-ttu-id="388f8-193">v2.0 端點不支援在識別碼權杖中發出角色或群組宣告。</span><span class="sxs-lookup"><span data-stu-id="388f8-193">The v2.0 endpoint does not support issuing role or group claims in ID tokens.</span></span>
* <span data-ttu-id="388f8-194">v2.0 端點不支援 [OAuth 2.0 資源擁有者密碼認證授與 (英文)](https://tools.ietf.org/html/rfc6749#section-4.3)。</span><span class="sxs-lookup"><span data-stu-id="388f8-194">The [OAuth 2.0 Resource Owner Password Credentials Grant](https://tools.ietf.org/html/rfc6749#section-4.3) is not supported by the v2.0 endpoint.</span></span>

<span data-ttu-id="388f8-195">此外，v2.0 端點不支援任何形式的 SAML 或 WS-同盟通訊協定。</span><span class="sxs-lookup"><span data-stu-id="388f8-195">In addtion, the v2.0 endpoint does not support any form of the SAML or WS-Federation protocols.</span></span>

<span data-ttu-id="388f8-196">若要進一步了解 v2.0 端點中支援的通訊協定功能範圍，請參閱我們的 [OpenID Connect 與 OAuth 2.0 通訊協定參考](active-directory-v2-protocols.md)。</span><span class="sxs-lookup"><span data-stu-id="388f8-196">To better understand the scope of protocol functionality supported in the v2.0 endpoint, read through our [OpenID Connect and OAuth 2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

## <a name="restrictions-for-work-and-school-accounts"></a><span data-ttu-id="388f8-197">工作和學校帳戶的限制</span><span class="sxs-lookup"><span data-stu-id="388f8-197">Restrictions for work and school accounts</span></span>
<span data-ttu-id="388f8-198">如果您已在 Windows 應用程式中使用 Active Directory Authentication Library (ADAL)，您可能已利用使用「安全性聲明標記語言」(SAML) 判斷提示授與的 Windows 整合式驗證。</span><span class="sxs-lookup"><span data-stu-id="388f8-198">If you've used Active Directory Authentication Library (ADAL) in Windows applications, you might have taken advantage of Windows integrated authentication, which uses the Security Assertion Markup Language (SAML) assertion grant.</span></span> <span data-ttu-id="388f8-199">有了此授與之後，同盟 Azure AD 租用戶的使用者便可向其內部部署 Active Directory 執行個體以無訊息方式進行驗證，而不需輸入認證。</span><span class="sxs-lookup"><span data-stu-id="388f8-199">With this grant, users of federated Azure AD tenants can silently authenticate with their on-premises Active Directory instance without entering credentials.</span></span> <span data-ttu-id="388f8-200">目前 v2.0 端點不支援 SAML 判斷提示授與。</span><span class="sxs-lookup"><span data-stu-id="388f8-200">Currently, the SAML assertion grant is not supported on the v2.0 endpoint.</span></span>