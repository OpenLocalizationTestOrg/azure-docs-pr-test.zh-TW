---
title: "Azure Active Directory 驗證程式庫 | Microsoft Docs"
description: "Azure AD 驗證程式庫 (ADAL) 可讓用戶端應用程式開發人員輕鬆地向雲端或內部部署 Active Directory (AD) 驗證使用者，然後取得存取權杖來保護 API 呼叫。"
services: active-directory
documentationcenter: 
author: bryanla
manager: mbaldwin
editor: mbaldwin
ms.assetid: 2e4fc79a-0285-40be-8c77-65edee408a22
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 08/02/2017
ms.author: bryanla
ms.custom: aaddev
ms.openlocfilehash: 9cf8ca88c9df4082590b18acd5c4a87a91bb1afd
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="azure-active-directory-authentication-libraries"></a><span data-ttu-id="be255-103">Azure Active Directory 驗證程式庫</span><span class="sxs-lookup"><span data-stu-id="be255-103">Azure Active Directory Authentication Libraries</span></span>
<span data-ttu-id="be255-104">Azure Active Directory 驗證程式庫 (ADAL) 可讓用戶端應用程式開發人員輕鬆地向雲端或內部部署 Active Directory (AD) 驗證使用者，並取得存取權杖來保護 API 呼叫。</span><span class="sxs-lookup"><span data-stu-id="be255-104">The Azure Active Directory Authentication Library (ADAL) enables client application developers to easily authenticate users to cloud or on-premises Active Directory (AD), and obtain access tokens for securing API calls.</span></span> <span data-ttu-id="be255-105">ADAL 透過下列功能使開發人員更容易驗證：</span><span class="sxs-lookup"><span data-stu-id="be255-105">ADAL makes authentication easier for developers through features such as:</span></span>
 - <span data-ttu-id="be255-106">支援非同步方法呼叫</span><span class="sxs-lookup"><span data-stu-id="be255-106">support for asynchronous method calls</span></span>
 - <span data-ttu-id="be255-107">儲存存取權杖和重新整理權杖的可設定權杖快取</span><span class="sxs-lookup"><span data-stu-id="be255-107">a configurable token cache that stores access tokens and refresh tokens</span></span>
 - <span data-ttu-id="be255-108">存取權杖到期而有重新整理權杖可用時的自動權杖重新整理</span><span class="sxs-lookup"><span data-stu-id="be255-108">automatic token refresh when an access token expires and a refresh token is available</span></span>
 - <span data-ttu-id="be255-109">還有更多</span><span class="sxs-lookup"><span data-stu-id="be255-109">and more</span></span>
 
<span data-ttu-id="be255-110">藉由處理大部分的複雜度，ADAL 可協助開發人員專注從事商務邏輯工作，並輕鬆地保護資源而無須成為安全性方面的專家。</span><span class="sxs-lookup"><span data-stu-id="be255-110">By handling most of the complexity, ADAL helps developers focus on business logic and easily secure resources, without being an expert in security.</span></span>

<span data-ttu-id="be255-111">ADAL 可用於各種平台上。</span><span class="sxs-lookup"><span data-stu-id="be255-111">ADAL is available on a variety of platforms.</span></span>

### <a name="client-libraries"></a><span data-ttu-id="be255-112">用戶端程式庫</span><span class="sxs-lookup"><span data-stu-id="be255-112">Client Libraries</span></span>

| <span data-ttu-id="be255-113">平台</span><span class="sxs-lookup"><span data-stu-id="be255-113">Platform</span></span> | <span data-ttu-id="be255-114">程式庫</span><span class="sxs-lookup"><span data-stu-id="be255-114">Library</span></span> | <span data-ttu-id="be255-115">下載</span><span class="sxs-lookup"><span data-stu-id="be255-115">Download</span></span> | <span data-ttu-id="be255-116">原始程式碼</span><span class="sxs-lookup"><span data-stu-id="be255-116">Source Code</span></span> | <span data-ttu-id="be255-117">範例</span><span class="sxs-lookup"><span data-stu-id="be255-117">Sample</span></span> | <span data-ttu-id="be255-118">參考</span><span class="sxs-lookup"><span data-stu-id="be255-118">Reference</span></span>
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="be255-119">.NET 用戶端、Windows 市集、UWP、Xamarin iOS 和 Android</span><span class="sxs-lookup"><span data-stu-id="be255-119">.NET Client, Windows Store, UWP, Xamarin iOS and Android</span></span> |<span data-ttu-id="be255-120">適用於 .NET 的 MSAL (預覽)</span><span class="sxs-lookup"><span data-stu-id="be255-120">MSAL for .NET (preview)</span></span> |[<span data-ttu-id="be255-121">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-121">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.Identity.Client/1.1.0-preview) |[<span data-ttu-id="be255-122">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-122">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-dotnet) | [<span data-ttu-id="be255-123">傳統型應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-123">Desktop app</span></span>](~/articles/active-directory/develop/guidedsetups/active-directory-windesktop.md) |[<span data-ttu-id="be255-124">參考</span><span class="sxs-lookup"><span data-stu-id="be255-124">Reference</span></span>](https://docs.microsoft.com/dotnet/api/?view=identityclient-1.1.0-preview) | 
| <span data-ttu-id="be255-125">JavaScript</span><span class="sxs-lookup"><span data-stu-id="be255-125">JavaScript</span></span> |<span data-ttu-id="be255-126">適用於 JavaScript 的 MSAL (預覽)</span><span class="sxs-lookup"><span data-stu-id="be255-126">MSAL for JavaScript (preview)</span></span> |[<span data-ttu-id="be255-127">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-127">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-js) |[<span data-ttu-id="be255-128">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-128">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-js) | [<span data-ttu-id="be255-129">單一頁面應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-129">Single Page App</span></span>](~/articles/active-directory/develop/GuidedSetups/active-directory-javascriptspa.md) | [<span data-ttu-id="be255-130">參考</span><span class="sxs-lookup"><span data-stu-id="be255-130">Reference</span></span>](https://htmlpreview.github.io/?https://raw.githubusercontent.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/docs/classes/_useragentapplication_.msal.useragentapplication.html) | 
| <span data-ttu-id="be255-131">iOS</span><span class="sxs-lookup"><span data-stu-id="be255-131">iOS</span></span> |<span data-ttu-id="be255-132">適用於 iOS 的 MSAL (預覽)</span><span class="sxs-lookup"><span data-stu-id="be255-132">MSAL for iOS (preview)</span></span> |[<span data-ttu-id="be255-133">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-133">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-objc) |[<span data-ttu-id="be255-134">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-134">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-objc) | [<span data-ttu-id="be255-135">iOS App</span><span class="sxs-lookup"><span data-stu-id="be255-135">iOS app</span></span>](~/articles/active-directory/develop/GuidedSetups/active-directory-ios.md) | [<span data-ttu-id="be255-136">參考</span><span class="sxs-lookup"><span data-stu-id="be255-136">Reference</span></span>](https://azuread.github.io/docs/objc/) |
| <span data-ttu-id="be255-137">Android</span><span class="sxs-lookup"><span data-stu-id="be255-137">Android</span></span> |<span data-ttu-id="be255-138">適用於 Android 的 MSAL (預覽)</span><span class="sxs-lookup"><span data-stu-id="be255-138">MSAL for Android (preview)</span></span> |[<span data-ttu-id="be255-139">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-139">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-android) |[<span data-ttu-id="be255-140">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-140">GitHub</span></span>](https://github.com/AzureAD/microsoft-authentication-library-for-android) | [<span data-ttu-id="be255-141">Android App</span><span class="sxs-lookup"><span data-stu-id="be255-141">Android app</span></span>](~/articles/active-directory/develop/GuidedSetups/active-directory-android.md) | [<span data-ttu-id="be255-142">參考</span><span class="sxs-lookup"><span data-stu-id="be255-142">Reference</span></span>](http://javadoc.io/doc/com.microsoft.identity.client/msal/0.1.1) |
| <span data-ttu-id="be255-143">.NET 用戶端、Windows 市集、UWP、Xamarin iOS 和 Android</span><span class="sxs-lookup"><span data-stu-id="be255-143">.NET Client, Windows Store, UWP, Xamarin iOS and Android</span></span> |<span data-ttu-id="be255-144">ADAL .NET v3</span><span class="sxs-lookup"><span data-stu-id="be255-144">ADAL .NET v3</span></span> |[<span data-ttu-id="be255-145">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-145">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.IdentityModel.Clients.ActiveDirectory) |[<span data-ttu-id="be255-146">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-146">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-dotnet) | [<span data-ttu-id="be255-147">傳統型應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-147">Desktop app</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-devquickstarts-dotnet) |[<span data-ttu-id="be255-148">參考</span><span class="sxs-lookup"><span data-stu-id="be255-148">Reference</span></span>](https://docs.microsoft.com/dotnet/api/?view=identitymodelclientsad-3.13.9) | 
| <span data-ttu-id="be255-149">.NET 用戶端、Windows 市集、Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="be255-149">.NET Client, Windows Store, Windows Phone 8.1</span></span> |<span data-ttu-id="be255-150">ADAL .NET v2</span><span class="sxs-lookup"><span data-stu-id="be255-150">ADAL .NET v2</span></span> |[<span data-ttu-id="be255-151">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-151">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.IdentityModel.Clients.ActiveDirectory/2.28.4) |[<span data-ttu-id="be255-152">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-152">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-dotnet/releases/tag/v2.28.4) | [<span data-ttu-id="be255-153">傳統型應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-153">Desktop app</span></span>](https://github.com/AzureADQuickStarts/NativeClient-DotNet/releases/tag/v2.X) | | 
| <span data-ttu-id="be255-154">JavaScript</span><span class="sxs-lookup"><span data-stu-id="be255-154">JavaScript</span></span> |<span data-ttu-id="be255-155">ADAL.js</span><span class="sxs-lookup"><span data-stu-id="be255-155">ADAL.js</span></span> |[<span data-ttu-id="be255-156">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-156">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-js) |[<span data-ttu-id="be255-157">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-157">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-js) |[<span data-ttu-id="be255-158">單一頁面應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-158">Single Page App</span></span>](https://github.com/Azure-Samples/active-directory-javascript-singlepageapp-dotnet-webapi) | |
| <span data-ttu-id="be255-159">iOS、macOS</span><span class="sxs-lookup"><span data-stu-id="be255-159">iOS, macOS</span></span> |<span data-ttu-id="be255-160">ADAL</span><span class="sxs-lookup"><span data-stu-id="be255-160">ADAL</span></span> |[<span data-ttu-id="be255-161">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-161">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-objc/releases) |[<span data-ttu-id="be255-162">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-162">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-objc) |[<span data-ttu-id="be255-163">iOS App</span><span class="sxs-lookup"><span data-stu-id="be255-163">iOS app</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-devquickstarts-ios) | [<span data-ttu-id="be255-164">參考</span><span class="sxs-lookup"><span data-stu-id="be255-164">Reference</span></span>](https://cocoapods.org/pods/ADAL)|
| <span data-ttu-id="be255-165">Android</span><span class="sxs-lookup"><span data-stu-id="be255-165">Android</span></span> |<span data-ttu-id="be255-166">ADAL</span><span class="sxs-lookup"><span data-stu-id="be255-166">ADAL</span></span> |[<span data-ttu-id="be255-167">中央儲存機制</span><span class="sxs-lookup"><span data-stu-id="be255-167">The Central Repository</span></span>](http://search.maven.org/remotecontent?filepath=com/microsoft/aad/adal/) |[<span data-ttu-id="be255-168">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-168">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-android) |[<span data-ttu-id="be255-169">Android App</span><span class="sxs-lookup"><span data-stu-id="be255-169">Android app</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-devquickstarts-android) | [<span data-ttu-id="be255-170">JavaDocs</span><span class="sxs-lookup"><span data-stu-id="be255-170">JavaDocs</span></span>](http://javadoc.io/doc/com.microsoft.aad/adal/)|
| <span data-ttu-id="be255-171">Node.js</span><span class="sxs-lookup"><span data-stu-id="be255-171">Node.js</span></span> |<span data-ttu-id="be255-172">ADAL</span><span class="sxs-lookup"><span data-stu-id="be255-172">ADAL</span></span> |[<span data-ttu-id="be255-173">npm</span><span class="sxs-lookup"><span data-stu-id="be255-173">npm</span></span>](https://www.npmjs.com/package/adal-node) |[<span data-ttu-id="be255-174">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-174">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-nodejs) | | |
| <span data-ttu-id="be255-175">Java</span><span class="sxs-lookup"><span data-stu-id="be255-175">Java</span></span> |<span data-ttu-id="be255-176">ADAL4J</span><span class="sxs-lookup"><span data-stu-id="be255-176">ADAL4J</span></span> |[<span data-ttu-id="be255-177">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-177">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-java) |[<span data-ttu-id="be255-178">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-178">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-java) |[<span data-ttu-id="be255-179">Java Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-179">Java web app</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-devquickstarts-webapp-java) | |
| <span data-ttu-id="be255-180">Python</span><span class="sxs-lookup"><span data-stu-id="be255-180">Python</span></span> |<span data-ttu-id="be255-181">ADAL</span><span class="sxs-lookup"><span data-stu-id="be255-181">ADAL</span></span> |[<span data-ttu-id="be255-182">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-182">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-python) |[<span data-ttu-id="be255-183">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-183">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-python) | | |
### <a name="server-libraries"></a><span data-ttu-id="be255-184">伺服器程式庫</span><span class="sxs-lookup"><span data-stu-id="be255-184">Server Libraries</span></span> 

| <span data-ttu-id="be255-185">平台</span><span class="sxs-lookup"><span data-stu-id="be255-185">Platform</span></span> | <span data-ttu-id="be255-186">程式庫</span><span class="sxs-lookup"><span data-stu-id="be255-186">Library</span></span> | <span data-ttu-id="be255-187">下載</span><span class="sxs-lookup"><span data-stu-id="be255-187">Download</span></span> | <span data-ttu-id="be255-188">原始程式碼</span><span class="sxs-lookup"><span data-stu-id="be255-188">Source Code</span></span> | <span data-ttu-id="be255-189">範例</span><span class="sxs-lookup"><span data-stu-id="be255-189">Sample</span></span> | <span data-ttu-id="be255-190">參考</span><span class="sxs-lookup"><span data-stu-id="be255-190">Reference</span></span>
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="be255-191">.NET</span><span class="sxs-lookup"><span data-stu-id="be255-191">.NET</span></span> |<span data-ttu-id="be255-192">適用於 AzureAD 的 OWIN</span><span class="sxs-lookup"><span data-stu-id="be255-192">OWIN for AzureAD</span></span>|[<span data-ttu-id="be255-193">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-193">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.Owin.Security.ActiveDirectory/) |[<span data-ttu-id="be255-194">CodePlex</span><span class="sxs-lookup"><span data-stu-id="be255-194">CodePlex</span></span>](http://katanaproject.codeplex.com) |[<span data-ttu-id="be255-195">MVC 應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-195">MVC App</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-devquickstarts-webapp-dotnet) | |
| <span data-ttu-id="be255-196">.NET</span><span class="sxs-lookup"><span data-stu-id="be255-196">.NET</span></span> |<span data-ttu-id="be255-197">適用於 OpenIDConnect 的 OWIN</span><span class="sxs-lookup"><span data-stu-id="be255-197">OWIN for OpenIDConnect</span></span> |[<span data-ttu-id="be255-198">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-198">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.Owin.Security.OpenIdConnect) |[<span data-ttu-id="be255-199">CodePlex</span><span class="sxs-lookup"><span data-stu-id="be255-199">CodePlex</span></span>](http://katanaproject.codeplex.com) |[<span data-ttu-id="be255-200">Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-200">Web App</span></span>](https://github.com/AzureADSamples/WebApp-OpenIDConnect-DotNet) | |
| <span data-ttu-id="be255-201">Node.js</span><span class="sxs-lookup"><span data-stu-id="be255-201">Node.js</span></span> |<span data-ttu-id="be255-202">Azure AD Passport</span><span class="sxs-lookup"><span data-stu-id="be255-202">Azure AD Passport</span></span> |[<span data-ttu-id="be255-203">npm</span><span class="sxs-lookup"><span data-stu-id="be255-203">npm</span></span>](https://www.npmjs.com/package/passport-azure-ad) |[<span data-ttu-id="be255-204">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-204">GitHub</span></span>](https://github.com/AzureAD/passport-azure-ad) | [<span data-ttu-id="be255-205">Web API</span><span class="sxs-lookup"><span data-stu-id="be255-205">Web API</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-devquickstarts-webapi-nodejs)| |
| <span data-ttu-id="be255-206">.NET</span><span class="sxs-lookup"><span data-stu-id="be255-206">.NET</span></span> |<span data-ttu-id="be255-207">適用於 WS-同盟的 OWIN</span><span class="sxs-lookup"><span data-stu-id="be255-207">OWIN for WS-Federation</span></span> |[<span data-ttu-id="be255-208">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-208">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.Owin.Security.WsFederation) |[<span data-ttu-id="be255-209">CodePlex</span><span class="sxs-lookup"><span data-stu-id="be255-209">CodePlex</span></span>](http://katanaproject.codeplex.com) |[<span data-ttu-id="be255-210">MVC Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-210">MVC Web App</span></span>](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet) | |
| <span data-ttu-id="be255-211">.NET</span><span class="sxs-lookup"><span data-stu-id="be255-211">.NET</span></span> |<span data-ttu-id="be255-212">適用於 .NET 4.5 的身分識別通訊協定延伸模組</span><span class="sxs-lookup"><span data-stu-id="be255-212">Identity Protocol Extensions for .NET 4.5</span></span> |[<span data-ttu-id="be255-213">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-213">NuGet</span></span>](https://www.nuget.org/packages/Microsoft.IdentityModel.Protocol.Extensions) |[<span data-ttu-id="be255-214">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-214">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-identitymodel-extensions-for-dotnet) | | |
| <span data-ttu-id="be255-215">.NET</span><span class="sxs-lookup"><span data-stu-id="be255-215">.NET</span></span> |<span data-ttu-id="be255-216">適用於 .NET 4.5 的 JWT 處理常式</span><span class="sxs-lookup"><span data-stu-id="be255-216">JWT Handler for .NET 4.5</span></span> |[<span data-ttu-id="be255-217">NuGet</span><span class="sxs-lookup"><span data-stu-id="be255-217">NuGet</span></span>](https://www.nuget.org/packages/System.IdentityModel.Tokens.Jwt) |[<span data-ttu-id="be255-218">GitHub</span><span class="sxs-lookup"><span data-stu-id="be255-218">GitHub</span></span>](https://github.com/AzureAD/azure-activedirectory-identitymodel-extensions-for-dotnet) | | |



## <a name="scenarios"></a><span data-ttu-id="be255-219">案例</span><span class="sxs-lookup"><span data-stu-id="be255-219">Scenarios</span></span>

<span data-ttu-id="be255-220">以下三種常見案例使用 ADAL 驗證存取遠端資源的用戶端：</span><span class="sxs-lookup"><span data-stu-id="be255-220">Here are three common scenarios in which ADAL can be used for authenticating a client that accesses a remote resource:</span></span>  

### <a name="authenticating-users-of-a-native-client-application-running-on-a-device"></a><span data-ttu-id="be255-221">驗證在裝置上執行原生用戶端應用程式的使用者</span><span class="sxs-lookup"><span data-stu-id="be255-221">Authenticating users of a native client application running on a device</span></span> 

<span data-ttu-id="be255-222">在此案例中，開發人員會有 WPF 用戶端應用程式，其必須存取由 Azure AD 所保護的遠端資源，例如 Web API。</span><span class="sxs-lookup"><span data-stu-id="be255-222">In this scenario, a developer has a WPF client application, that needs to access a remote resource secured by Azure AD, such as a web API.</span></span> <span data-ttu-id="be255-223">他有 Azure 訂用帳戶、知道如何叫用下游 Web API，並知道 Web API 使用的 Azure AD 租用戶。</span><span class="sxs-lookup"><span data-stu-id="be255-223">He has an Azure subscription, knows how to invoke the downstream web API, and knows the Azure AD tenant that the web API uses.</span></span> <span data-ttu-id="be255-224">如此一來，他可以使用 ADAL 來協助向 Azure AD 進行驗證，完全將驗證經驗委派給 ADAL 或明確地處理使用者認證。</span><span class="sxs-lookup"><span data-stu-id="be255-224">As a result, he can use ADAL to facilitate authentication with Azure AD, either by fully delegating the authentication experience to ADAL or by explicitly handling user credentials.</span></span> <span data-ttu-id="be255-225">ADAL 使得驗證使用者變得輕鬆，只要取得存取權杖並對 Azure AD 更新權杖，然後使用該存取權杖向 Web API 提出要求。</span><span class="sxs-lookup"><span data-stu-id="be255-225">ADAL makes it easy to authenticate the user, obtain an access token and refresh token from Azure AD, and then use the access token to make requests to the web API.</span></span>

<span data-ttu-id="be255-226">如需示範如何向 Azure AD 進行驗證的程式碼範例，請參閱 [原生用戶端 WPF 應用程式至 Web API](https://github.com/azureadsamples/nativeclient-dotnet)。</span><span class="sxs-lookup"><span data-stu-id="be255-226">For a code sample that demonstrates this scenario using authentication to Azure AD, see [Native Client WPF Application to Web API](https://github.com/azureadsamples/nativeclient-dotnet).</span></span>

### <a name="authenticating-a-confidential-client-application-running-on-a-web-server"></a><span data-ttu-id="be255-227">驗證網頁伺服器上執行的機密用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-227">Authenticating a confidential client application running on a web server</span></span>

<span data-ttu-id="be255-228">在此案例中，開發人員會有在伺服器上執行的應用程式，需要存取由 Azure AD 所保護的遠端資源，例如 Web API。</span><span class="sxs-lookup"><span data-stu-id="be255-228">In this scenario, a developer has an application running on a server that needs to access a remote resource secured by Azure AD, such as a web API.</span></span> <span data-ttu-id="be255-229">他有 Azure 訂用帳戶、知道如何叫用下游服務，並知道 Web API 使用的 Azure AD 租用戶。</span><span class="sxs-lookup"><span data-stu-id="be255-229">He has an Azure subscription, knows how to invoke the downstream service, and knows the Azure AD tenant the web API uses.</span></span> <span data-ttu-id="be255-230">如此一來，他可以透過明確地處理應用程式的認證，使用 ADAL 來協助向 Azure AD 進行驗證。</span><span class="sxs-lookup"><span data-stu-id="be255-230">As a result, he can use ADAL to facilitate authentication with Azure AD by explicitly handling the application’s credentials.</span></span> <span data-ttu-id="be255-231">ADAL 使得從 Azure AD 擷取權杖變得輕鬆，只需使用應用程式的用戶端認證，然後使用該權杖向 Web API 提出要求。</span><span class="sxs-lookup"><span data-stu-id="be255-231">ADAL makes it easy to retrieve a token from Azure AD by using the application’s client credential and then use that token to make requests to the web API.</span></span> <span data-ttu-id="be255-232">ADAL 也會處理存取權杖的存留期的管理，方法是快取它並視需要更新。</span><span class="sxs-lookup"><span data-stu-id="be255-232">ADAL also handles managing the lifetime of the access token by caching it and renewing it as necessary.</span></span> <span data-ttu-id="be255-233">如需示範此案例的程式碼範例，請參閱[精靈主控台應用程式至 Web API](https://github.com/AzureADSamples/Daemon-DotNet)。</span><span class="sxs-lookup"><span data-stu-id="be255-233">For a code sample that demonstrates this scenario, see [Daemon console Application to Web API](https://github.com/AzureADSamples/Daemon-DotNet).</span></span>

### <a name="authenticating-a-confidential-client-application-running-on-a-server-on-behalf-of-a-user"></a><span data-ttu-id="be255-234">代表使用者，驗證伺服器上執行的機密用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="be255-234">Authenticating a confidential client application running on a server, on behalf of a user</span></span> 

<span data-ttu-id="be255-235">在此案例中，開發人員會有在伺服器上執行的應用程式，需要存取由 Azure AD 所保護的遠端資源，例如 Web API。</span><span class="sxs-lookup"><span data-stu-id="be255-235">In this scenario, a developer has an application running on a server that needs to access a remote resource secured by Azure AD, such as a web API.</span></span> <span data-ttu-id="be255-236">要求也必須代表 Azure AD 使用者提出。</span><span class="sxs-lookup"><span data-stu-id="be255-236">The request also needs to be made on behalf of an Azure AD user.</span></span> <span data-ttu-id="be255-237">他有 Azure 訂用帳戶、知道如何叫用下游 Web API，並知道服務使用的 Azure AD 租用戶。</span><span class="sxs-lookup"><span data-stu-id="be255-237">He has an Azure subscription, knows how to invoke the downstream web API, and knows the Azure AD tenant the service uses.</span></span> <span data-ttu-id="be255-238">一旦向 Web 應用程式驗證了使用者，應用程式便可以從 Azure AD 取得使用者的授權碼。</span><span class="sxs-lookup"><span data-stu-id="be255-238">Once the user is authenticated to the web application, the application can get an authorization code for the user from Azure AD.</span></span> <span data-ttu-id="be255-239">然後，Web 應用程式可以使用 ADAL 代表使用者，利用與應用程式相關聯的授權碼和用戶端認證從 Azure AD 取得存取權杖和更新權杖。</span><span class="sxs-lookup"><span data-stu-id="be255-239">The web application can then use ADAL to obtain an access token and refresh token on behalf of a user using the authorization code and client credentials associated with the application from Azure AD.</span></span> <span data-ttu-id="be255-240">在 Web 應用程式取得存取權杖之後，它可以呼叫 Web API，直到權杖到期。</span><span class="sxs-lookup"><span data-stu-id="be255-240">Once the web application is in possession of the access token, it can call the web API until the token expires.</span></span> <span data-ttu-id="be255-241">權杖到期時，Web 應用程式可以使用 ADAL 透過先前收到的更新權杖來取得新的存取權杖。</span><span class="sxs-lookup"><span data-stu-id="be255-241">When the token expires, the web application can use ADAL to get a new access token by using the refresh token that was previously received.</span></span> <span data-ttu-id="be255-242">如需示範此案例的程式碼範例，請參閱[原生用戶端至 Web API](https://github.com/Azure-Samples/active-directory-dotnet-webapi-onbehalfof)。</span><span class="sxs-lookup"><span data-stu-id="be255-242">For a code sample that demonstrates this scenario, see [Native client to Web API to Web API](https://github.com/Azure-Samples/active-directory-dotnet-webapi-onbehalfof).</span></span>

## <a name="see-also"></a><span data-ttu-id="be255-243">另請參閱</span><span class="sxs-lookup"><span data-stu-id="be255-243">See Also</span></span>

- [<span data-ttu-id="be255-244">Azure Active Directory 開發人員指南</span><span class="sxs-lookup"><span data-stu-id="be255-244">The Azure Active Directory developer's guide</span></span>](active-directory-developers-guide.md)
- [<span data-ttu-id="be255-245">Azure Active Directory 的驗證案例</span><span class="sxs-lookup"><span data-stu-id="be255-245">Authentication scenarios for Azure Active directory</span></span>](active-directory-authentication-scenarios.md)
- [<span data-ttu-id="be255-246">Azure Active Directory 程式碼範例</span><span class="sxs-lookup"><span data-stu-id="be255-246">Azure Active Directory code samples</span></span>](active-directory-code-samples.md)
