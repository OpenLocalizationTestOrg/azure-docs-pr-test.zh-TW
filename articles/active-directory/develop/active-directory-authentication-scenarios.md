---
title: "Azure AD 的案例 aaaAuthentication |Microsoft 文件"
description: "Hello 五個最常見的驗證案例的 Azure Active Directory (AAD) 的概觀"
services: active-directory
documentationcenter: dev-center-name
author: skwan
manager: mbaldwin
editor: 
ms.assetid: 0c84e7d0-16aa-4897-82f2-f53c6c990fd9
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: skwan
ms.custom: aaddev
ms.openlocfilehash: 5b391e3f096fcb52934c4a8aff08688352bfd3dc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-scenarios-for-azure-ad"></a><span data-ttu-id="d1a9f-103">Azure AD 的驗證案例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-103">Authentication Scenarios for Azure AD</span></span>
<span data-ttu-id="d1a9f-104">Azure Active Directory (Azure AD) 形式提供身分識別服務，以支援業界標準通訊協定例如 OAuth 2.0 和 OpenID Connect，以及開放原始碼程式庫，針對不同平台 toohelp 您簡化開發人員的驗證開始撰寫程式碼快速。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-104">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect, as well as open source libraries for different platforms toohelp you start coding quickly.</span></span> <span data-ttu-id="d1a9f-105">本文件將協助您了解 hello 各種案例 Azure AD 支援，而且會顯示 tooget 的啟動方式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-105">This document will help you understand hello various scenarios Azure AD supports and will show you how tooget started.</span></span> <span data-ttu-id="d1a9f-106">分成下列各節的 hello:</span><span class="sxs-lookup"><span data-stu-id="d1a9f-106">It’s divided into hello following sections:</span></span>

* [<span data-ttu-id="d1a9f-107">Azure AD 中的驗證基本概念</span><span class="sxs-lookup"><span data-stu-id="d1a9f-107">Basics of Authentication in Azure AD</span></span>](#basics-of-authentication-in-azure-ad)
* [<span data-ttu-id="d1a9f-108">Azure AD 安全性權杖中的宣告</span><span class="sxs-lookup"><span data-stu-id="d1a9f-108">Claims in Azure AD Security Tokens</span></span>](#claims-in-azure-ad-security-tokens)
* [<span data-ttu-id="d1a9f-109">在 Azure AD 中登錄應用程式的基本概念</span><span class="sxs-lookup"><span data-stu-id="d1a9f-109">Basics of Registering an Application in Azure AD</span></span>](#basics-of-registering-an-application-in-azure-ad)
* [<span data-ttu-id="d1a9f-110">應用程式類型和案例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-110">Application Types and Scenarios</span></span>](#application-types-and-scenarios)
  
  * [<span data-ttu-id="d1a9f-111">Web 瀏覽器 tooWeb 應用程式</span><span class="sxs-lookup"><span data-stu-id="d1a9f-111">Web Browser tooWeb Application</span></span>](#web-browser-to-web-application)
  * [<span data-ttu-id="d1a9f-112">單一頁面應用程式 (SPA)</span><span class="sxs-lookup"><span data-stu-id="d1a9f-112">Single Page Application (SPA)</span></span>](#single-page-application-spa)
  * [<span data-ttu-id="d1a9f-113">原生應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-113">Native Application tooWeb API</span></span>](#native-application-to-web-api)
  * [<span data-ttu-id="d1a9f-114">Web 應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-114">Web Application tooWeb API</span></span>](#web-application-to-web-api)
  * [<span data-ttu-id="d1a9f-115">精靈或伺服器應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-115">Daemon or Server Application tooWeb API</span></span>](#daemon-or-server-application-to-web-api)

## <a name="basics-of-authentication-in-azure-ad"></a><span data-ttu-id="d1a9f-116">Azure AD 中的驗證基本概念</span><span class="sxs-lookup"><span data-stu-id="d1a9f-116">Basics of Authentication in Azure AD</span></span>
<span data-ttu-id="d1a9f-117">如果您不熟悉 Azure AD 中的驗證基本概念，請閱讀本節。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-117">If you are unfamiliar with basic concepts of authentication in Azure AD, read this section.</span></span> <span data-ttu-id="d1a9f-118">否則，您可能會想 tooskip 向太[應用程式類型和案例](#application-types-and-scenarios)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-118">Otherwise, you may want tooskip down too[Application Types and Scenarios](#application-types-and-scenarios).</span></span>

<span data-ttu-id="d1a9f-119">讓我們看一下 hello 最基本的案例中需要身分識別的地方： 使用者在網頁瀏覽器需要 tooauthenticate tooa web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-119">Let’s consider hello most basic scenario where identity is required: a user in a web browser needs tooauthenticate tooa web application.</span></span> <span data-ttu-id="d1a9f-120">Hello 中更詳細描述此案例[應用程式的網頁瀏覽器 tooWeb](#web-browser-to-web-application)  區段中，但它的有效開始點 tooillustrate hello Azure AD 功能和概念 hello 案例的運作方式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-120">This scenario is described in greater detail in hello [Web Browser tooWeb Application](#web-browser-to-web-application) section, but it’s a useful starting point tooillustrate hello capabilities of Azure AD and conceptualize how hello scenario works.</span></span> <span data-ttu-id="d1a9f-121">請考慮 hello 遵循此案例的圖表：</span><span class="sxs-lookup"><span data-stu-id="d1a9f-121">Consider hello following diagram for this scenario:</span></span>

![登入 tooweb 應用程式的概觀](./media/active-directory-authentication-scenarios/basics_of_auth_in_aad.png)

<span data-ttu-id="d1a9f-123">與 hello 圖記住，以下是您的需要 tooknow 有關其各種的元件：</span><span class="sxs-lookup"><span data-stu-id="d1a9f-123">With hello diagram above in mind, here’s what you need tooknow about its various components:</span></span>

* <span data-ttu-id="d1a9f-124">Azure AD 是 hello 身分識別提供者，負責確認 hello 識別的使用者和組織的目錄中的應用程式，以及最後發行這些使用者和應用程式驗證成功後的安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-124">Azure AD is hello identity provider, responsible for verifying hello identity of users and applications that exist in an organization’s directory, and ultimately issuing security tokens upon successful authentication of those users and applications.</span></span>
* <span data-ttu-id="d1a9f-125">想 toooutsource 驗證 tooAzure AD 應用程式必須註冊在 Azure AD 中註冊並唯一識別 hello hello 目錄中的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-125">An application that wants toooutsource authentication tooAzure AD must be registered in Azure AD, which registers and uniquely identifies hello app in hello directory.</span></span>
* <span data-ttu-id="d1a9f-126">開發人員可以使用 hello 開放原始碼 Azure AD 驗證程式庫 toomake 驗證容易藉由為您處理 hello 通訊協定詳細資料。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-126">Developers can use hello open source Azure AD authentication libraries toomake authentication easy by handling hello protocol details for you.</span></span> <span data-ttu-id="d1a9f-127">如需詳細資訊，請參閱 [Azure Active Directory 驗證程式庫](active-directory-authentication-libraries.md) 。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-127">See [Azure Active Directory Authentication Libraries](active-directory-authentication-libraries.md) for more information.</span></span>

<span data-ttu-id="d1a9f-128">• 一次使用者已驗證、 hello 應用程式必須驗證 hello 使用者的安全性語彙基元 tooensure 的 hello 能用於合作對象的驗證已成功。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-128">• Once a user has been authenticated, hello application must validate hello user’s security token tooensure that authentication was successful for hello intended parties.</span></span> <span data-ttu-id="d1a9f-129">開發人員可以使用提供的任何權杖驗證程式庫 toohandle 驗證從 Azure AD，包括 JSON Web Token (JWT) 或 SAML 2.0 hello。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-129">Developers can use hello provided authentication libraries toohandle validation of any token from Azure AD, including JSON Web Tokens (JWT) or SAML 2.0.</span></span> <span data-ttu-id="d1a9f-130">若要手動 tooperform 驗證，請參閱 hello [JWT 權杖處理常式](https://msdn.microsoft.com/library/dn205065.aspx)文件。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-130">If you want tooperform validation manually, see hello [JWT Token Handler](https://msdn.microsoft.com/library/dn205065.aspx) documentation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d1a9f-131">Azure AD 使用公開金鑰密碼編譯 toosign 語彙基元，並確認它們都有效。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-131">Azure AD uses public key cryptography toosign tokens and verify that they are valid.</span></span> <span data-ttu-id="d1a9f-132">請參閱[重要資訊有關簽署金鑰變換在 Azure AD 中](active-directory-signing-key-rollover.md)如需詳細資訊在 hello 必要邏輯上，您必須在應用程式 tooensure 一律以更新 hello 最新的索引鍵。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-132">See [Important Information About Signing Key Rollover in Azure AD](active-directory-signing-key-rollover.md) for more information on hello necessary logic you must have in your application tooensure it’s always updated with hello latest keys.</span></span>
> 
> 

<span data-ttu-id="d1a9f-133">• hello 流程要求和回應 hello 驗證程序由 hello 驗證通訊協定所使用，例如 OAuth 2.0、 OpenID Connect、 Ws-federation 或 SAML 2.0。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-133">• hello flow of requests and responses for hello authentication process is determined by hello authentication protocol that was used, such as OAuth 2.0, OpenID Connect, WS-Federation, or SAML 2.0.</span></span> <span data-ttu-id="d1a9f-134">在 hello 中詳細討論這些通訊協定[Azure Active Directory 驗證通訊協定](active-directory-authentication-protocols.md)主題和 hello 的以下各節中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-134">These protocols are discussed in more detail in hello [Azure Active Directory Authentication Protocols](active-directory-authentication-protocols.md) topic and in hello sections below.</span></span>

> [!NOTE]
> <span data-ttu-id="d1a9f-135">Azure AD 支援 OAuth 2.0 hello 和廣泛的 OpenID Connect 標準使用持有者權杖，包括以 Jwt 表示的持有者權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-135">Azure AD supports hello OAuth 2.0 and OpenID Connect standards that make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span></span> <span data-ttu-id="d1a9f-136">承載權杖是輕巧型的安全性權杖會授與 hello"bearer"存取 tooa 受保護資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-136">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="d1a9f-137">就這個意義而言，hello"bearer"是指可出示 hello 語彙基元任何一方。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-137">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="d1a9f-138">合作對象必須先通過驗證 Azure AD tooreceive hello 持有者權杖，必要時 hello toosecure 傳輸和儲存體中的 hello 語彙基元不採取步驟，但它可以攔截和使用非預期的合作對象。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-138">Though a party must first authenticate with Azure AD tooreceive hello bearer token, if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="d1a9f-139">雖然某些安全性權杖都有內建的機制，可防止未經授權的人士使用權杖，但持有者權杖沒有這項機制，而必須以安全通道來傳輸，例如傳輸層安全性 (HTTPS)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-139">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="d1a9f-140">持有人權杖傳送 hello 清除中時，如果攔截 hello 攻擊可由惡意的合作對象 tooacquire hello 語彙基元，並使用未經授權的存取 tooa 受保護資源的。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-140">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used by a malicious party tooacquire hello token and use it for an unauthorized access tooa protected resource.</span></span> <span data-ttu-id="d1a9f-141">hello 儲存或快取持有者權杖供以後使用時，適用相同的安全性原則。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-141">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="d1a9f-142">務必確定您的應用程式以安全的方式傳輸和儲存持有者權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-142">Always ensure that your application transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="d1a9f-143">關於持有者權杖的其他安全性考量，請參閱 [RFC 6750 第 5 節](http://tools.ietf.org/html/rfc6750)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-143">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>
> 
> 

<span data-ttu-id="d1a9f-144">您已經有概觀 hello 基本概念，讀取 toounderstand 下方的 hello 區段如何在 Azure AD 中佈建運作方式及 hello Azure AD 支援常見案例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-144">Now that you have an overview of hello basics, read hello sections below toounderstand how provisioning works in Azure AD and hello common scenarios Azure AD supports.</span></span>

## <a name="claims-in-azure-ad-security-tokens"></a><span data-ttu-id="d1a9f-145">Azure AD 安全性權杖中的宣告</span><span class="sxs-lookup"><span data-stu-id="d1a9f-145">Claims in Azure AD Security Tokens</span></span>
<span data-ttu-id="d1a9f-146">Azure AD 所簽發的安全性權杖包含宣告或判斷提示的已驗證的 hello 主題的資訊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-146">Security tokens issued by Azure AD contain claims, or assertions of information about hello subject that has been authenticated.</span></span> <span data-ttu-id="d1a9f-147">這些宣告可供 hello 應用程式的各種工作。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-147">These claims can be used by hello application for various tasks.</span></span> <span data-ttu-id="d1a9f-148">例如，它們可以是使用的 toovalidate hello 語彙基元、 識別 hello 主旨目錄租用戶、 顯示使用者資訊、 判斷 hello 主旨授權等等。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-148">For example, they can be used toovalidate hello token, identify hello subject's directory tenant, display user information, determine hello subject's authorization, and so on.</span></span> <span data-ttu-id="d1a9f-149">任何指定的安全性權杖中的 hello 宣告是權杖的依存於 hello 的型別、 hello 類型使用的認證 tooauthenticate hello 使用者，以及 hello 應用程式組態。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-149">hello claims present in any given security token are dependent upon hello type of token, hello type of credential used tooauthenticate hello user, and hello application configuration.</span></span> <span data-ttu-id="d1a9f-150">下列的 hello 資料表中會提供每個 Azure AD 所發出的宣告類型的簡短描述。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-150">A brief description of each type of claim emitted by Azure AD is provided in hello table below.</span></span> <span data-ttu-id="d1a9f-151">如需詳細資訊，請參閱太[支援權杖和宣告類型](active-directory-token-and-claims.md)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-151">For more information, refer too[Supported Token and Claim Types](active-directory-token-and-claims.md).</span></span>

| <span data-ttu-id="d1a9f-152">宣告</span><span class="sxs-lookup"><span data-stu-id="d1a9f-152">Claim</span></span> | <span data-ttu-id="d1a9f-153">說明</span><span class="sxs-lookup"><span data-stu-id="d1a9f-153">Description</span></span> |
| --- | --- |
| <span data-ttu-id="d1a9f-154">應用程式識別碼</span><span class="sxs-lookup"><span data-stu-id="d1a9f-154">Application ID</span></span> |<span data-ttu-id="d1a9f-155">識別正在使用 hello 語彙基元的 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-155">Identifies hello application that is using hello token.</span></span> |
| <span data-ttu-id="d1a9f-156">對象</span><span class="sxs-lookup"><span data-stu-id="d1a9f-156">Audience</span></span> |<span data-ttu-id="d1a9f-157">識別 hello 收件者資源 hello 權杖是否適用於。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-157">Identifies hello recipient resource hello token is intended for.</span></span> |
| <span data-ttu-id="d1a9f-158">應用程式驗證內容類別參考</span><span class="sxs-lookup"><span data-stu-id="d1a9f-158">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="d1a9f-159">指出 hello 用戶端的已驗證 （公用用戶端 vs.機密用戶端） 的方式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-159">Indicates how hello client was authenticated (public client vs. confidential client).</span></span> |
| <span data-ttu-id="d1a9f-160">驗證即刻</span><span class="sxs-lookup"><span data-stu-id="d1a9f-160">Authentication Instant</span></span> |<span data-ttu-id="d1a9f-161">記錄 hello hello 驗證發生時日期和時間。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-161">Records hello date and time when hello authentication occurred.</span></span> |
| <span data-ttu-id="d1a9f-162">驗證方法</span><span class="sxs-lookup"><span data-stu-id="d1a9f-162">Authentication Method</span></span> |<span data-ttu-id="d1a9f-163">表示 hello hello 權杖主體的驗證方式 （密碼、 憑證等）。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-163">Indicates how hello subject of hello token was authenticated (password, certificate, etc.).</span></span> |
| <span data-ttu-id="d1a9f-164">名字</span><span class="sxs-lookup"><span data-stu-id="d1a9f-164">First Name</span></span> |<span data-ttu-id="d1a9f-165">提供 Azure AD 中設定 hello hello 使用者指定名稱。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-165">Provides hello given name of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="d1a9f-166">群組</span><span class="sxs-lookup"><span data-stu-id="d1a9f-166">Groups</span></span> |<span data-ttu-id="d1a9f-167">包含物件識別碼的 Azure AD hello 使用者群組的成員。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-167">Contains object Ids of Azure AD groups hello user is a member of.</span></span> |
| <span data-ttu-id="d1a9f-168">識別提供者</span><span class="sxs-lookup"><span data-stu-id="d1a9f-168">Identity Provider</span></span> |<span data-ttu-id="d1a9f-169">記錄 hello 驗證 hello hello 權杖主體的身分識別提供者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-169">Records hello identity provider that authenticated hello subject of hello token.</span></span> |
| <span data-ttu-id="d1a9f-170">發出時間</span><span class="sxs-lookup"><span data-stu-id="d1a9f-170">Issued At</span></span> |<span data-ttu-id="d1a9f-171">記錄 hello 的 hello 權杖的發出時間，通常用於權杖的有效性。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-171">Records hello time at which hello token was issued, often used for token freshness.</span></span> |
| <span data-ttu-id="d1a9f-172">簽發者</span><span class="sxs-lookup"><span data-stu-id="d1a9f-172">Issuer</span></span> |<span data-ttu-id="d1a9f-173">識別 hello STS 發出 hello 語彙基元，以及 hello Azure AD 租用戶。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-173">Identifies hello STS that emitted hello token as well as hello Azure AD tenant.</span></span> |
| <span data-ttu-id="d1a9f-174">姓氏</span><span class="sxs-lookup"><span data-stu-id="d1a9f-174">Last Name</span></span> |<span data-ttu-id="d1a9f-175">提供 Azure AD 中設定 hello hello 使用者姓氏。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-175">Provides hello surname of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="d1a9f-176">名稱</span><span class="sxs-lookup"><span data-stu-id="d1a9f-176">Name</span></span> |<span data-ttu-id="d1a9f-177">提供人類可讀取的值，以識別 hello 主體 hello 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-177">Provides a human readable value that identifies hello subject of hello token.</span></span> |
| <span data-ttu-id="d1a9f-178">物件識別碼</span><span class="sxs-lookup"><span data-stu-id="d1a9f-178">Object Id</span></span> |<span data-ttu-id="d1a9f-179">包含 Azure AD 中的 hello 主旨不變且唯一識別項。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-179">Contains an immutable, unique identifier of hello subject in Azure AD.</span></span> |
| <span data-ttu-id="d1a9f-180">角色</span><span class="sxs-lookup"><span data-stu-id="d1a9f-180">Roles</span></span> |<span data-ttu-id="d1a9f-181">包含的易記名稱的 Azure AD 應用程式角色 hello 使用者已授與。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-181">Contains friendly names of Azure AD Application Roles that hello user has been granted.</span></span> |
| <span data-ttu-id="d1a9f-182">Scope</span><span class="sxs-lookup"><span data-stu-id="d1a9f-182">Scope</span></span> |<span data-ttu-id="d1a9f-183">指出 hello 權限授與 toohello 用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-183">Indicates hello permissions granted toohello client application.</span></span> |
| <span data-ttu-id="d1a9f-184">主旨</span><span class="sxs-lookup"><span data-stu-id="d1a9f-184">Subject</span></span> |<span data-ttu-id="d1a9f-185">指出哪些 hello 權杖判斷提示的相關資訊的 hello 主體。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-185">Indicates hello principal about which hello token asserts information.</span></span> |
| <span data-ttu-id="d1a9f-186">租用戶識別碼</span><span class="sxs-lookup"><span data-stu-id="d1a9f-186">Tenant Id</span></span> |<span data-ttu-id="d1a9f-187">包含權杖 hello hello 目錄租用戶不變且唯一的識別碼。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-187">Contains an immutable, unique identifier of hello directory tenant that issued hello token.</span></span> |
| <span data-ttu-id="d1a9f-188">權杖存留期</span><span class="sxs-lookup"><span data-stu-id="d1a9f-188">Token Lifetime</span></span> |<span data-ttu-id="d1a9f-189">定義權杖的有效 hello 時間間隔。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-189">Defines hello time interval within which a token is valid.</span></span> |
| <span data-ttu-id="d1a9f-190">使用者主體名稱</span><span class="sxs-lookup"><span data-stu-id="d1a9f-190">User Principal Name</span></span> |<span data-ttu-id="d1a9f-191">包含 hello hello 主體的使用者主體名稱。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-191">Contains hello user principal name of hello subject.</span></span> |
| <span data-ttu-id="d1a9f-192">版本</span><span class="sxs-lookup"><span data-stu-id="d1a9f-192">Version</span></span> |<span data-ttu-id="d1a9f-193">包含 hello 語彙基元 hello 版本號碼。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-193">Contains hello version number of hello token.</span></span> |

## <a name="basics-of-registering-an-application-in-azure-ad"></a><span data-ttu-id="d1a9f-194">在 Azure AD 中登錄應用程式的基本概念</span><span class="sxs-lookup"><span data-stu-id="d1a9f-194">Basics of Registering an Application in Azure AD</span></span>
<span data-ttu-id="d1a9f-195">將工作委外驗證 tooAzure AD 必須註冊在目錄中的任何應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-195">Any application that outsources authentication tooAzure AD must be registered in a directory.</span></span> <span data-ttu-id="d1a9f-196">此步驟涉及向 Azure AD 說明您的應用程式，包括其所在的 hello URL，您的應用程式及其他驗證後，hello URI tooidentify 中回覆 hello URL toosend。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-196">This step involves telling Azure AD about your application, including hello URL where it’s located, hello URL toosend replies after authentication, hello URI tooidentify your application, and more.</span></span> <span data-ttu-id="d1a9f-197">需要這項資訊有幾個主要理由：</span><span class="sxs-lookup"><span data-stu-id="d1a9f-197">This information is required for a few key reasons:</span></span>

* <span data-ttu-id="d1a9f-198">Azure AD 在處理登入或交換權杖時，需要座標 toocommunicate 與 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-198">Azure AD needs coordinates toocommunicate with hello application when handling sign-on or exchanging tokens.</span></span> <span data-ttu-id="d1a9f-199">這些需求包括下列 hello:</span><span class="sxs-lookup"><span data-stu-id="d1a9f-199">These include hello following:</span></span>
  
  * <span data-ttu-id="d1a9f-200">應用程式的應用程式識別碼 URI: hello 識別碼。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-200">Application ID URI: hello identifier for an application.</span></span> <span data-ttu-id="d1a9f-201">這個值會傳送哪些應用程式 hello 呼叫端需要之權杖的驗證 tooindicate 期間 tooAzure AD。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-201">This value is sent tooAzure AD during authentication tooindicate which application hello caller wants a token for.</span></span> <span data-ttu-id="d1a9f-202">此外，這個值會包含在 hello 語彙基元因此 hello 應用程式知道它就是 hello 適合目標。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-202">Additionally, this value is included in hello token so that hello application knows it was hello intended target.</span></span>
  * <span data-ttu-id="d1a9f-203">回覆 URL 和重新導向 URI： 在 web API 或 web 應用程式的 hello 情況下，hello 回覆 URL 是 hello 位置 toowhich Azure AD 會傳送 hello 驗證回應，包括權杖，如果驗證成功。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-203">Reply URL and Redirect URI: In hello case of a web API or web application, hello Reply URL is hello location toowhich Azure AD will send hello authentication response, including a token if authentication was successful.</span></span> <span data-ttu-id="d1a9f-204">在原生應用程式的 hello 情況下，hello 重新導向 URI 是唯一的識別項 toowhich Azure AD 將會重新導向 hello 使用者代理程式在 OAuth 2.0 要求中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-204">In hello case of a native application, hello Redirect URI is a unique identifier toowhich Azure AD will redirect hello user-agent in an OAuth 2.0 request.</span></span>
  * <span data-ttu-id="d1a9f-205">應用程式識別碼： hello 的應用程式，由 Azure AD 註冊 hello 應用程式時所產生的識別碼。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-205">Application ID: hello ID for an application, which is generated by Azure AD when hello application is registered.</span></span> <span data-ttu-id="d1a9f-206">當要求授權碼或權杖，hello 應用程式識別碼和金鑰會傳送 tooAzure AD 在驗證期間。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-206">When requesting an authorization code or token, hello Application ID and key are sent tooAzure AD during authentication.</span></span>
  * <span data-ttu-id="d1a9f-207">驗證 tooAzure AD toocall web API 時，會將應用程式識別碼一起傳送索引鍵： hello 索引鍵。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-207">Key: hello key that is sent along with a Application ID when authenticating tooAzure AD toocall a web API.</span></span>
* <span data-ttu-id="d1a9f-208">Azure AD 需要 tooensure hello 應用程式有 hello 您目錄的資料，您的組織中其他應用程式的必要權限 tooaccess 等等</span><span class="sxs-lookup"><span data-stu-id="d1a9f-208">Azure AD needs tooensure hello application has hello required permissions tooaccess your directory data, other applications in your organization, and so on</span></span>

<span data-ttu-id="d1a9f-209">當您了解可以開發及與 Azure AD 整合的應用程式有兩種類別時，佈建就變得更清楚：</span><span class="sxs-lookup"><span data-stu-id="d1a9f-209">Provisioning becomes clearer when you understand that there are two categories of applications that can be developed and integrated with Azure AD:</span></span>

* <span data-ttu-id="d1a9f-210">單一租用戶應用程式：單一租用戶應用程式適合在一個組織中使用。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-210">Single tenant application: A single tenant application is intended for use in one organization.</span></span> <span data-ttu-id="d1a9f-211">這些通常是由企業開發人員撰寫的企業營運 (LoB) 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-211">These are typically line-of-business (LoB) applications written by an enterprise developer.</span></span> <span data-ttu-id="d1a9f-212">單一租用戶應用程式只需要一個目錄中的使用者存取 toobe，如此一來，它只需要 toobe 佈建一個目錄中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-212">A single tenant application only needs toobe accessed by users in one directory, and as a result, it only needs toobe provisioned in one directory.</span></span> <span data-ttu-id="d1a9f-213">這些應用程式通常是由開發人員在 hello 組織中註冊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-213">These applications are typically registered by a developer in hello organization.</span></span>
* <span data-ttu-id="d1a9f-214">多租用戶應用程式：多租用戶應用程式適合在許多組織中使用，而不只一個組織。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-214">Multi-tenant application: A multi-tenant application is intended for use in many organizations, not just one organization.</span></span> <span data-ttu-id="d1a9f-215">這些通常是由獨立軟體廠商 (ISV) 撰寫的軟體即服務 (SaaS) 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-215">These are typically software-as-a-service (SaaS) applications written by an independent software vendor (ISV).</span></span> <span data-ttu-id="d1a9f-216">多租用戶應用程式需要在每個目錄中會使用這些，需要使用者或系統管理員同意 tooregister 中佈建 toobe 它們。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-216">Multi-tenant applications need toobe provisioned in each directory where they will be used, which requires user or administrator consent tooregister them.</span></span> <span data-ttu-id="d1a9f-217">應用程式已註冊 hello 目錄中，且會指定存取 toohello Graph API 或其他 web API 時，就會啟動此同意程序。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-217">This consent process starts when an application has been registered in hello directory and is given access toohello Graph API or perhaps another web API.</span></span> <span data-ttu-id="d1a9f-218">當使用者或系統管理員身分從不同的組織註冊 toouse hello 應用程式，他們會看到一個對話方塊，顯示 hello hello 應用程式所需的權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-218">When a user or administrator from a different organization signs up toouse hello application, they are presented with a dialog that displays hello permissions hello application requires.</span></span> <span data-ttu-id="d1a9f-219">hello 使用者或系統管理員可以同意 toohello 應用程式，它將提供 hello 應用程式存取 toohello 所述的資料，並暫存器最後 hello 他們的目錄中的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-219">hello user or administrator can then consent toohello application, which gives hello application access toohello stated data, and finally registers hello application in their directory.</span></span> <span data-ttu-id="d1a9f-220">如需詳細資訊，請參閱[hello 同意架構的概觀](active-directory-integrating-applications.md#overview-of-the-consent-framework)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-220">For more information, see [Overview of hello Consent Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span></span>

<span data-ttu-id="d1a9f-221">開發多租用戶應用程式，而非單一租用戶應用程式時，有一些其他考量需要注意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-221">Some additional considerations arise when developing a multi-tenant application instead of a single tenant application.</span></span> <span data-ttu-id="d1a9f-222">例如，如果您要進行您應用程式可用 toousers 多個目錄中，您需要機制 toodetermine 它們在哪個租用戶。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-222">For example, if you are making your application available toousers in multiple directories, you need a mechanism toodetermine which tenant they’re in.</span></span> <span data-ttu-id="d1a9f-223">單一租用戶應用程式只需要 toolook 它自己的目錄中的使用者，而多租用戶應用程式需要 tooidentify 所有 hello 目錄的特定使用者在 Azure AD 中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-223">A single tenant application only needs toolook in its own directory for a user, while a multi-tenant application needs tooidentify a specific user from all hello directories in Azure AD.</span></span> <span data-ttu-id="d1a9f-224">tooaccomplish 這個工作中，Azure AD 提供的任何多租用戶應用程式可以直接登入要求，而非租用戶專用端點的其中一個共同驗證端點。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-224">tooaccomplish this task, Azure AD provides a common authentication endpoint where any multi-tenant application can direct sign-in requests, instead of a tenant-specific endpoint.</span></span> <span data-ttu-id="d1a9f-225">這個端點是在 Azure AD 中 https://login.microsoftonline.com/common 所有目錄，而租用戶專用端點可能是 https://login.microsoftonline.com/contoso.onmicrosoft.com。hello 一般端點時，特別是重要的 tooconsider 開發應用程式，因為您將需要 hello 必要的邏輯 toohandle 多個租用戶在登入、 登出和權杖驗證期間。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-225">This endpoint is https://login.microsoftonline.com/common for all directories in Azure AD, whereas a tenant-specific endpoint might be https://login.microsoftonline.com/contoso.onmicrosoft.com. hello common endpoint is especially important tooconsider when developing your application because you’ll need hello necessary logic toohandle multiple tenants during sign-in, sign-out, and token validation.</span></span>

<span data-ttu-id="d1a9f-226">如果您目前在開發單一租用戶應用程式，但想 toomake 它可用 toomany 組織中，您可以輕鬆地進行變更 toohello 應用程式和其組態在 Azure AD toomake 它能夠多租用戶。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-226">If you are currently developing a single tenant application but want toomake it available toomany organizations, you can easily make changes toohello application and its configuration in Azure AD toomake it multi-tenant capable.</span></span> <span data-ttu-id="d1a9f-227">此外，Azure AD 會使用 hello 相同簽署所有目錄中的所有權杖的金鑰是否您提供的單一租用戶或多租用戶應用程式中的驗證。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-227">In addition, Azure AD uses hello same signing key for all tokens in all directories, whether you are providing authentication in a single tenant or multi-tenant application.</span></span>

<span data-ttu-id="d1a9f-228">本文件列出的每個案例都有一個小節來說明其佈建需求。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-228">Each scenario listed in this document includes a sub-section that describes its provisioning requirements.</span></span> <span data-ttu-id="d1a9f-229">如需深入了解有關佈建 Azure AD 中的應用程式和 hello 單一和多租用戶應用程式之間的差異，請參閱[整合應用程式與 Azure Active Directory](active-directory-integrating-applications.md)如需詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-229">For more in-depth information about provisioning an application in Azure AD and hello differences between single and multi-tenant applications, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md) for more information.</span></span> <span data-ttu-id="d1a9f-230">繼續在 Azure AD 中讀取 toounderstand hello 常見的應用程式案例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-230">Continue reading toounderstand hello common application scenarios in Azure AD.</span></span>

## <a name="application-types-and-scenarios"></a><span data-ttu-id="d1a9f-231">應用程式類型和案例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-231">Application Types and Scenarios</span></span>
<span data-ttu-id="d1a9f-232">每一個 hello 這份文件中所述的案例可以使用各種語言與平台進行開發。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-232">Each of hello scenarios described in this document can be developed using various languages and platforms.</span></span> <span data-ttu-id="d1a9f-233">它們都所有由完整的程式碼範例，可在我們[程式碼範例會引導](active-directory-code-samples.md)，或直接從 hello 對應[GitHub 範例儲存機制](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-233">They are all backed by complete code samples which are available in our [Code Samples guide](active-directory-code-samples.md), or directly from hello corresponding [GitHub sample repositories](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span></span> <span data-ttu-id="d1a9f-234">此外，如果您的應用程式需要端對端案例的特定片段或區段，在大部分情況下可以獨立加入這項功能。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-234">In addition, if your application needs a specific piece or segment of an end-to-end scenario, in most cases that functionality can be added independently.</span></span> <span data-ttu-id="d1a9f-235">例如，如果您有呼叫 web API 的原生應用程式，您可以輕鬆加入 web 應用程式也會呼叫 hello web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-235">For example, if you have a native application that calls a web API, you can easily add a web application that also calls hello web API.</span></span> <span data-ttu-id="d1a9f-236">hello 下列圖表說明這些案例和應用程式類型，以及您可新增不同的元件：</span><span class="sxs-lookup"><span data-stu-id="d1a9f-236">hello following diagram illustrates these scenarios and application types, and how different components can be added:</span></span>

![應用程式類型和案例](./media/active-directory-authentication-scenarios/application_types_and_scenarios.png)

<span data-ttu-id="d1a9f-238">這些是 hello Azure AD 支援五個主要的應用程式案例：</span><span class="sxs-lookup"><span data-stu-id="d1a9f-238">These are hello five primary application scenarios supported by Azure AD:</span></span>

* <span data-ttu-id="d1a9f-239">[Web 應用程式的瀏覽器 tooWeb](#web-browser-to-web-application)： 使用者需要 toosign Azure AD 所保護的 tooa web 應用程式中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-239">[Web Browser tooWeb Application](#web-browser-to-web-application): A user needs toosign in tooa web application that is secured by Azure AD.</span></span>
* <span data-ttu-id="d1a9f-240">[單一頁面應用程式 (SPA)](#single-page-application-spa)： 使用者需要 toosign tooa 單一頁面應用程式中，Azure AD 所保護。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-240">[Single Page Application (SPA)](#single-page-application-spa): A user needs toosign in tooa single page application that is secured by Azure AD.</span></span>
* <span data-ttu-id="d1a9f-241">[原生應用程式 tooWeb API](#native-application-to-web-api): 原生應用程式上執行的電話、 平板電腦或電腦的需求 tooauthenticate 使用者 tooget 資源 web API 從 Azure AD 所保護。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-241">[Native Application tooWeb API](#native-application-to-web-api): A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD.</span></span>
* <span data-ttu-id="d1a9f-242">[Web 應用程式 tooWeb API](#web-application-to-web-api): web 應用程式需要從 Azure AD 所保護的 web API 的 tooget 資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-242">[Web Application tooWeb API](#web-application-to-web-api): A web application needs tooget resources from a web API secured by Azure AD.</span></span>
* <span data-ttu-id="d1a9f-243">[精靈或伺服器應用程式 tooWeb API](#daemon-or-server-application-to-web-api)： 需要從 Azure AD 所保護的 web API 的 tooget 資源精靈應用程式或伺服器應用程式與 web 使用者介面。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-243">[Daemon or Server Application tooWeb API](#daemon-or-server-application-to-web-api): A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD.</span></span>

### <a name="web-browser-tooweb-application"></a><span data-ttu-id="d1a9f-244">Web 瀏覽器 tooWeb 應用程式</span><span class="sxs-lookup"><span data-stu-id="d1a9f-244">Web Browser tooWeb Application</span></span>
<span data-ttu-id="d1a9f-245">本章節描述來驗證使用者 web 瀏覽器 tooa web 應用程式中的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-245">This section describes an application that authenticates a user in a web browser tooa web application.</span></span> <span data-ttu-id="d1a9f-246">在此案例中，hello web 應用程式會引導 hello 使用者的瀏覽器 toosign tooAzure AD 中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-246">In this scenario, hello web application directs hello user’s browser toosign them in tooAzure AD.</span></span> <span data-ttu-id="d1a9f-247">Azure AD 傳回的登入回應透過 hello 使用者的瀏覽器，其中包含關於安全性權杖中的 hello 使用者宣告。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-247">Azure AD returns a sign-in response through hello user’s browser, which contains claims about hello user in a security token.</span></span> <span data-ttu-id="d1a9f-248">這個案例支援登入使用 hello WS-同盟、 SAML 2.0 和 OpenID Connect 通訊協定。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-248">This scenario supports sign-on using hello WS-Federation, SAML 2.0, and OpenID Connect protocols.</span></span>

#### <a name="diagram"></a><span data-ttu-id="d1a9f-249">圖表</span><span class="sxs-lookup"><span data-stu-id="d1a9f-249">Diagram</span></span>
![瀏覽器 tooweb 應用程式的驗證流程](./media/active-directory-authentication-scenarios/web_browser_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="d1a9f-251">通訊協定流程的描述</span><span class="sxs-lookup"><span data-stu-id="d1a9f-251">Description of Protocol Flow</span></span>
1. <span data-ttu-id="d1a9f-252">當使用者造訪 hello 應用程式，且需要 toosign 中時，會被重新導向透過登入要求 toohello 驗證端點在 Azure AD 中。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-252">When a user visits hello application and needs toosign in, they are redirected via a sign-in request toohello authentication endpoint in Azure AD.</span></span>
2. <span data-ttu-id="d1a9f-253">hello 使用者登入 hello 登入頁面。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-253">hello user signs in on hello sign-in page.</span></span>
3. <span data-ttu-id="d1a9f-254">如果驗證成功，Azure AD 會建立驗證權杖，並傳回 hello Azure 入口網站中設定的登入回應 toohello 應用程式的回覆 URL。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-254">If authentication is successful, Azure AD creates an authentication token and returns a sign-in response toohello application’s Reply URL that was configured in hello Azure Portal.</span></span> <span data-ttu-id="d1a9f-255">對於實際執行應用程式，此回覆 URL 應該為 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-255">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="d1a9f-256">hello 傳回權杖包含關於 hello 使用者和 Azure AD 所需的 hello 應用程式 toovalidate hello 權杖的宣告。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-256">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
4. <span data-ttu-id="d1a9f-257">hello 應用程式會使用公開簽署金鑰和簽發者資訊 hello 同盟中繼資料文件在 Azure AD 的驗證 hello 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-257">hello application validates hello token by using a public signing key and issuer information available at hello federation metadata document for Azure AD.</span></span> <span data-ttu-id="d1a9f-258">Hello 應用程式會驗證 hello 語彙基元之後，Azure AD 會啟動新的工作階段與 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-258">After hello application validates hello token, Azure AD starts a new session with hello user.</span></span> <span data-ttu-id="d1a9f-259">此工作階段在到期之前，允許 hello 使用者 tooaccess hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-259">This session allows hello user tooaccess hello application until it expires.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="d1a9f-260">程式碼範例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-260">Code Samples</span></span>
<span data-ttu-id="d1a9f-261">請參閱網頁瀏覽器 tooWeb 應用程式案例的 hello 程式碼範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-261">See hello code samples for Web Browser tooWeb Application scenarios.</span></span> <span data-ttu-id="d1a9f-262">而且，請經常回來查看--我們隨時都 hello 加入新的範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-262">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="d1a9f-263">[Web 應用程式的瀏覽器 tooWeb](active-directory-code-samples.md#web-browser-to-web-application)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-263">[Web Browser tooWeb Application](active-directory-code-samples.md#web-browser-to-web-application).</span></span>

#### <a name="registering"></a><span data-ttu-id="d1a9f-264">註冊</span><span class="sxs-lookup"><span data-stu-id="d1a9f-264">Registering</span></span>
* <span data-ttu-id="d1a9f-265">單一租用戶： 如果您要建置應用程式只會為您的組織，它必須註冊您的公司目錄中使用 hello Azure 入口網站。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-265">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="d1a9f-266">多租用戶： 如果您要建置的應用程式，可供組織外的使用者，必須註冊在公司的目錄中，但也必須在每個組織的目錄將會使用 hello 應用程式中註冊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-266">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="d1a9f-267">toomake 至他們的目錄中可用的應用程式，您可以為您的客戶，讓他們 tooconsent tooyour 應用程式包含註冊程序。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-267">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="d1a9f-268">當他們註冊您的應用程式 」 時，它們會顯示一個對話方塊，其中顯示 hello 權限 hello 應用程式需要，然後 hello tooconsent 選項。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-268">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="d1a9f-269">視 hello 所需的權限，系統管理員可以在 hello 另一個組織可能會需要 toogive 同意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-269">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="d1a9f-270">當 hello 使用者或系統管理員同意時，hello 應用程式會註冊在他們的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-270">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="d1a9f-271">如需詳細資訊，請參閱 [整合應用程式與 Azure Active Directory](active-directory-integrating-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-271">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="d1a9f-272">權杖到期</span><span class="sxs-lookup"><span data-stu-id="d1a9f-272">Token Expiration</span></span>
<span data-ttu-id="d1a9f-273">hello 的 hello Azure AD 所簽發的權杖的存留時間過期時，就會過期 hello 使用者工作階段。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-273">hello user’s session expires when hello lifetime of hello token issued by Azure AD expires.</span></span> <span data-ttu-id="d1a9f-274">如有需要，您的應用程式可以縮短這段時間，例如因為一段時間沒有活動而將使用者登出。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-274">Your application can shorten this time period if desired, such as signing out users based on a period of inactivity.</span></span> <span data-ttu-id="d1a9f-275">Hello 工作階段到期，hello 使用者將會是提示的 toosign 中一次。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-275">When hello session expires, hello user will be prompted toosign in again.</span></span>

### <a name="single-page-application-spa"></a><span data-ttu-id="d1a9f-276">單一頁面應用程式 (SPA)</span><span class="sxs-lookup"><span data-stu-id="d1a9f-276">Single Page Application (SPA)</span></span>
<span data-ttu-id="d1a9f-277">本章節描述的單一頁面應用程式，使用 Azure AD 驗證並 hello OAuth 2.0 隱含授權授與的 toosecure 其 web API 後端。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-277">This section describes authentication for a Single Page Application, that uses Azure AD and hello OAuth 2.0 implicit authorization grant toosecure its web API back end.</span></span> <span data-ttu-id="d1a9f-278">單一頁面應用程式通常會結構化為 hello 瀏覽器和伺服器執行的 Web API 後端中執行 JavaScript 展示層級 （前端），並實作 hello 應用程式的商務邏輯。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-278">Single Page Applications are typically structured as a JavaScript presentation layer (front end) that runs in hello browser and a Web API back end that runs on a server and implements hello application’s business logic.</span></span> <span data-ttu-id="d1a9f-279">toolearn 進一步了解 hello 隱含授權授與，並協助您決定是否適合您應用程式的案例，請參閱[了解 hello OAuth2 隱含授予 Azure Active Directory 中的資料流程](active-directory-dev-understanding-oauth2-implicit-grant.md)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-279">toolearn more about hello implicit authorization grant, and help you decide whether it's right for your application scenario, see [Understanding hello OAuth2 implicit grant flow in Azure Active Directory](active-directory-dev-understanding-oauth2-implicit-grant.md).</span></span>

<span data-ttu-id="d1a9f-280">在此案例中，當 hello 使用者登入時，hello JavaScript 前端會使用[Active Directory Authentication Library for JavaScript (ADAL。JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) hello 隱含授權授予 tooobtain ID 權杖 (id_token) 從 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-280">In this scenario, when hello user signs in, hello JavaScript front end uses [Active Directory Authentication Library for JavaScript (ADAL.JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) and hello implicit authorization grant tooobtain an ID token (id_token) from Azure AD.</span></span> <span data-ttu-id="d1a9f-281">hello 權杖進行快取並 hello 用戶端將其附加 toohello 要求為 hello 持有人權杖時進行呼叫 tooits Web API 後端，這使用 hello OWIN 中介軟體來保護。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-281">hello token is cached and hello client attaches it toohello request as hello bearer token when making calls tooits Web API back end, which is secured using hello OWIN middleware.</span></span> 

#### <a name="diagram"></a><span data-ttu-id="d1a9f-282">圖表</span><span class="sxs-lookup"><span data-stu-id="d1a9f-282">Diagram</span></span>
![單一頁面應用程式圖表](./media/active-directory-authentication-scenarios/single_page_app.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="d1a9f-284">通訊協定流程的描述</span><span class="sxs-lookup"><span data-stu-id="d1a9f-284">Description of Protocol Flow</span></span>
1. <span data-ttu-id="d1a9f-285">hello 使用者瀏覽 toohello web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-285">hello user navigates toohello web application.</span></span>
2. <span data-ttu-id="d1a9f-286">hello 應用程式會傳回 hello JavaScript 前端 （顯示層） toohello 瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-286">hello application returns hello JavaScript front end (presentation layer) toohello browser.</span></span>
3. <span data-ttu-id="d1a9f-287">hello 使用者開始登入，例如按一下登入連結。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-287">hello user initiates sign in, for example by clicking a sign in link.</span></span> <span data-ttu-id="d1a9f-288">hello 瀏覽器傳送 GET toohello Azure AD 授權端點 toorequest ID 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-288">hello browser sends a GET toohello Azure AD authorization endpoint toorequest an ID token.</span></span> <span data-ttu-id="d1a9f-289">此要求包含在 hello 查詢參數中的 hello 應用程式識別碼和回覆 URL。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-289">This request includes hello application ID and reply URL in hello query parameters.</span></span>
4. <span data-ttu-id="d1a9f-290">Azure AD 會驗證的 hello hello 針對回覆 URL 註冊 hello Azure 入口網站中設定的回覆 URL。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-290">Azure AD validates hello Reply URL against hello registered Reply URL that was configured in hello Azure Portal.</span></span>
5. <span data-ttu-id="d1a9f-291">hello 使用者登入 hello 登入頁面。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-291">hello user signs in on hello sign-in page.</span></span>
6. <span data-ttu-id="d1a9f-292">如果驗證成功，Azure AD 會建立 ID 權杖，並傳回做為 URL fragment （#） toohello 應用程式的回覆 URL。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-292">If authentication is successful, Azure AD creates an ID token and returns it as a URL fragment (#) toohello application’s Reply URL.</span></span> <span data-ttu-id="d1a9f-293">對於實際執行應用程式，此回覆 URL 應該為 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-293">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="d1a9f-294">hello 傳回權杖包含關於 hello 使用者和 Azure AD 所需的 hello 應用程式 toovalidate hello 權杖的宣告。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-294">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
7. <span data-ttu-id="d1a9f-295">hello 瀏覽器中執行的 hello JavaScript 用戶端程式碼從 hello 回應 toouse 保護 toohello 應用程式的 web API 後端的呼叫中擷取 hello token。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-295">hello JavaScript client code running in hello browser extracts hello token from hello response toouse in securing calls toohello application’s web API back end.</span></span>
8. <span data-ttu-id="d1a9f-296">hello 瀏覽器呼叫 hello 應用程式的 web API 後端 hello 授權標頭中的 hello 存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-296">hello browser calls hello application’s web API back end with hello access token in hello authorization header.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="d1a9f-297">程式碼範例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-297">Code Samples</span></span>
<span data-ttu-id="d1a9f-298">單一頁面應用程式 (SPA) 」 案例的 hello 程式碼範例，請參閱。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-298">See hello code samples for Single Page Application (SPA) scenarios.</span></span> <span data-ttu-id="d1a9f-299">會確定 toocheck 後經常-我們加入新的範例所有 hello 時間。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-299">Be sure toocheck back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="d1a9f-300">[單一頁面應用程式 (SPA)](active-directory-code-samples.md#single-page-application-spa)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-300">[Single Page Application (SPA)](active-directory-code-samples.md#single-page-application-spa).</span></span>

#### <a name="registering"></a><span data-ttu-id="d1a9f-301">註冊</span><span class="sxs-lookup"><span data-stu-id="d1a9f-301">Registering</span></span>
* <span data-ttu-id="d1a9f-302">單一租用戶： 如果您要建置應用程式只會為您的組織，它必須註冊您的公司目錄中使用 hello Azure 入口網站。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-302">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="d1a9f-303">多租用戶： 如果您要建置的應用程式，可供組織外的使用者，必須註冊在公司的目錄中，但也必須在每個組織的目錄將會使用 hello 應用程式中註冊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-303">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="d1a9f-304">toomake 至他們的目錄中可用的應用程式，您可以為您的客戶，讓他們 tooconsent tooyour 應用程式包含註冊程序。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-304">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="d1a9f-305">當他們註冊您的應用程式 」 時，它們會顯示一個對話方塊，其中顯示 hello 權限 hello 應用程式需要，然後 hello tooconsent 選項。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-305">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="d1a9f-306">視 hello 所需的權限，系統管理員可以在 hello 另一個組織可能會需要 toogive 同意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-306">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="d1a9f-307">當 hello 使用者或系統管理員同意時，hello 應用程式會註冊在他們的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-307">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="d1a9f-308">如需詳細資訊，請參閱 [整合應用程式與 Azure Active Directory](active-directory-integrating-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-308">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

<span data-ttu-id="d1a9f-309">在註冊之後 hello 應用程式，它必須設定的 toouse OAuth 2.0 隱含授予通訊協定。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-309">After registering hello application, it must be configured toouse OAuth 2.0 Implicit Grant protocol.</span></span> <span data-ttu-id="d1a9f-310">根據預設，應用程式都停用此通訊協定。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-310">By default, this protocol is disabled for applications.</span></span> <span data-ttu-id="d1a9f-311">tooenable hello OAuth2 隱含授予通訊協定，應用程式編輯 hello Azure 入口網站從其應用程式資訊清單，並設定 hello"oauth2AllowImplicitFlow"值 tootrue。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-311">tooenable hello OAuth2 Implicit Grant protocol for your application, edit its application manifest from hello Azure Portal and set hello “oauth2AllowImplicitFlow” value tootrue.</span></span> <span data-ttu-id="d1a9f-312">如需詳細指示，請參閱 [啟用單一頁面應用程式的 OAuth 2.0 隱含授權](active-directory-integrating-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-312">For detailed instructions, see [Enabling OAuth 2.0 Implicit Grant for Single Page Applications](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="d1a9f-313">權杖到期</span><span class="sxs-lookup"><span data-stu-id="d1a9f-313">Token Expiration</span></span>
<span data-ttu-id="d1a9f-314">當您使用 ADAL.js toomanage 驗證搭配 Azure AD 時，因此您可以從數個功能，以便重新整理過期的權杖，以及取得 hello 應用程式可能會呼叫其他 web API 資源權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-314">When you use ADAL.js toomanage authentication with Azure AD, you benefit from several features that facilitate refreshing an expired token as well as getting tokens for additional web API resources that may be called by hello application.</span></span> <span data-ttu-id="d1a9f-315">當 hello 使用者已成功向 Azure AD 時，hello 使用者 hello 瀏覽器和 Azure AD 之間建立的 cookie 保護的工作階段。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-315">When hello user successfully authenticates with Azure AD, a session secured by a cookie is established for hello user between hello browser and Azure AD.</span></span> <span data-ttu-id="d1a9f-316">Hello 工作階段存在 hello 使用者與 Azure AD 之間及 not between hello 使用者和 hello hello 伺服器上執行的 web 應用程式的重要 toonote 它。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-316">It’s important toonote that hello session exists between hello user and Azure AD and not between hello user and hello web application running on hello server.</span></span> <span data-ttu-id="d1a9f-317">當權杖到期時，ADAL.js 會使用此工作階段 toosilently 取得另一個權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-317">When a token expires, ADAL.js uses this session toosilently obtain another token.</span></span> <span data-ttu-id="d1a9f-318">它會使用隱藏的 iFrame toosend 並收到 hello 要求使用 hello OAuth 隱含授予通訊協定。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-318">It does this by using a hidden iFrame toosend and receive hello request using hello OAuth Implicit Grant protocol.</span></span> <span data-ttu-id="d1a9f-319">ADAL.js 也可以使用相同的機制 toosilently 取得存取權杖，從 Azure AD 的其他 web API 資源的 hello 應用程式會呼叫，只要這些資源支援跨原始資源共用 (CORS)，已登錄在 hello 使用者目錄中，並所有必要的同意 hello 使用者登入期間指定。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-319">ADAL.js can also use this same mechanism toosilently obtain access tokens from Azure AD for other web API resources that hello application calls as long as these resources support cross-origin resource sharing (CORS), are registered in hello user’s directory, and any required consent was given by hello user during sign-in.</span></span>

### <a name="native-application-tooweb-api"></a><span data-ttu-id="d1a9f-320">原生應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-320">Native Application tooWeb API</span></span>
<span data-ttu-id="d1a9f-321">本節描述代表使用者呼叫 Web API 的原生應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-321">This section describes a native application that calls a web API on behalf of a user.</span></span> <span data-ttu-id="d1a9f-322">此案例根據 hello OAuth 2.0 授權碼授與類型為公用的用戶端與 hello 第 4.1 節中所述[OAuth 2.0 規格](http://tools.ietf.org/html/rfc6749)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-322">This scenario is built on hello OAuth 2.0 authorization code grant type with a public client, as described in section 4.1 of hello [OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="d1a9f-323">hello 原生應用程式使用 hello OAuth 2.0 通訊協定來取得 hello 使用者的存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-323">hello native application obtains an access token for hello user by using hello OAuth 2.0 protocol.</span></span> <span data-ttu-id="d1a9f-324">然後，此存取權杖會傳送 hello 要求 toohello web API 中，以授權 hello 使用者，並傳回 hello 所需的資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-324">This access token is then sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="d1a9f-325">圖表</span><span class="sxs-lookup"><span data-stu-id="d1a9f-325">Diagram</span></span>
![原生應用程式 tooWeb API 圖表](./media/active-directory-authentication-scenarios/native_app_to_web_api.png)

#### <a name="authentication-flow-for-native-application-tooapi"></a><span data-ttu-id="d1a9f-327">原生應用程式 tooAPI 的驗證流程</span><span class="sxs-lookup"><span data-stu-id="d1a9f-327">Authentication flow for native application tooAPI</span></span>
#### <a name="description-of-protocol-flow"></a><span data-ttu-id="d1a9f-328">通訊協定流程的描述</span><span class="sxs-lookup"><span data-stu-id="d1a9f-328">Description of Protocol Flow</span></span>
<span data-ttu-id="d1a9f-329">如果您使用 hello AD 驗證程式庫，大部分的 hello 如下所述的通訊協定詳細資料會幫您處理，例如 hello 瀏覽器快顯視窗、 權杖快取和重新整理權杖的處理。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-329">If you are using hello AD Authentication Libraries, most of hello protocol details described below are handled for you, such as hello browser pop-up, token caching, and handling of refresh tokens.</span></span>

1. <span data-ttu-id="d1a9f-330">使用瀏覽器快顯，hello 原生應用程式可讓 Azure AD 中要求 toohello 授權端點。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-330">Using a browser pop-up, hello native application makes a request toohello authorization endpoint in Azure AD.</span></span> <span data-ttu-id="d1a9f-331">Hello Azure 入口網站中，與 hello 應用程式識別碼 URI hello web API 中所示，此要求包含 hello 應用程式識別碼和 hello 重新導向的 hello 原生應用程式的 URI。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-331">This request includes hello Application ID and hello redirect URI of hello native application as shown in hello Azure Portal, and hello application ID URI for hello web API.</span></span> <span data-ttu-id="d1a9f-332">如果 hello 使用者尚未登入，則提示的 toosign 中一次</span><span class="sxs-lookup"><span data-stu-id="d1a9f-332">If hello user hasn’t already signed in, they are prompted toosign in again</span></span>
2. <span data-ttu-id="d1a9f-333">Azure AD 會驗證 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-333">Azure AD authenticates hello user.</span></span> <span data-ttu-id="d1a9f-334">如果它是多租用戶應用程式，且同意需要的 toouse hello 應用程式，hello 使用者將會需要的 tooconsent 如果它們尚未這樣做。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-334">If it is a multi-tenant application and consent is required toouse hello application, hello user will be required tooconsent if they haven’t already done so.</span></span> <span data-ttu-id="d1a9f-335">授與同意之後和成功驗證，Azure AD 會發出授權碼回應後 toohello 用戶端應用程式的重新導向 URI。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-335">After granting consent and upon successful authentication, Azure AD issues an authorization code response back toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="d1a9f-336">當 Azure AD 發出授權碼回應回 toohello 重新導向 URI，hello 用戶端應用程式會停止瀏覽器互動和擷取 hello 授權 hello 回應碼。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-336">When Azure AD issues an authorization code response back toohello redirect URI, hello client application stops browser interaction and extracts hello authorization code from hello response.</span></span> <span data-ttu-id="d1a9f-337">利用這個授權碼，hello 用戶端應用程式傳送包含 hello 授權碼要求 tooAzure AD 的權杖端點、 詳細資料有關 hello （應用程式識別碼和重新導向 URI） 的用戶端應用程式與 hello 所需的資源 （應用程式識別碼URI hello web 應用程式開發介面)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-337">Using this authorization code, hello client application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
4. <span data-ttu-id="d1a9f-338">Azure AD 會驗證 hello 授權碼及 hello 用戶端應用程式和 web API 的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-338">hello authorization code and information about hello client application and web API are validated by Azure AD.</span></span> <span data-ttu-id="d1a9f-339">成功驗證後，Azure AD 會傳回兩個權杖：JWT 存取權杖和 JWT 重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-339">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span> <span data-ttu-id="d1a9f-340">此外，Azure AD 傳回的基本資訊 hello 使用者，例如其顯示名稱和租用戶識別碼。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-340">In addition, Azure AD returns basic information about hello user, such as their display name and tenant ID.</span></span>
5. <span data-ttu-id="d1a9f-341">透過 HTTPS，hello 用戶端應用程式會使用 hello hello 要求 toohello web API hello 授權標頭中傳回 JWT 存取權杖 tooadd hello 含有"Bearer"稱號的 JWT 字串。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-341">Over HTTPS, hello client application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="d1a9f-342">hello web 應用程式開發介面，然後驗證 hello JWT 權杖中，而如果驗證成功，傳回 hello 需要資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-342">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>
6. <span data-ttu-id="d1a9f-343">Hello 存取權杖過期時，hello 用戶端應用程式會收到錯誤，指出 hello 使用者需要 tooauthenticate 一次。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-343">When hello access token expires, hello client application will receive an error that indicates hello user needs tooauthenticate again.</span></span> <span data-ttu-id="d1a9f-344">如果 hello 應用程式具有有效的重新整理權杖，它可以是新的存取權杖，而不提示 hello 使用者 toosign 中的一次使用的 tooacquire。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-344">If hello application has a valid refresh token, it can be used tooacquire a new access token without prompting hello user toosign in again.</span></span> <span data-ttu-id="d1a9f-345">Hello 的應用程式如果 hello 重新整理權杖到期時，需要 toointeractively 再次驗證 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-345">If hello refresh token expires, hello application will need toointeractively authenticate hello user once again.</span></span>

> [!NOTE]
> <span data-ttu-id="d1a9f-346">hello 重新整理權杖由 Azure AD 發出可以是使用的 tooaccess 多個資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-346">hello refresh token issued by Azure AD can be used tooaccess multiple resources.</span></span> <span data-ttu-id="d1a9f-347">例如，如果您有權限 toocall 兩個 web Api 的用戶端應用程式，hello 重新整理權杖可以用的 tooget 向以及存取語彙基元 toohello 其他 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-347">For example, if you have a client application that has permission toocall two web APIs, hello refresh token can be used tooget an access token toohello other web API as well.</span></span>
> 
> 

#### <a name="code-samples"></a><span data-ttu-id="d1a9f-348">程式碼範例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-348">Code Samples</span></span>
<span data-ttu-id="d1a9f-349">原生應用程式 tooWeb API 」 案例的 hello 程式碼範例，請參閱。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-349">See hello code samples for Native Application tooWeb API scenarios.</span></span> <span data-ttu-id="d1a9f-350">而且，請經常回來查看--我們隨時都 hello 加入新的範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-350">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="d1a9f-351">[原生應用程式 tooWeb API](active-directory-code-samples.md#native-application-to-web-api)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-351">[Native Application tooWeb API](active-directory-code-samples.md#native-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="d1a9f-352">註冊</span><span class="sxs-lookup"><span data-stu-id="d1a9f-352">Registering</span></span>
* <span data-ttu-id="d1a9f-353">單一租用戶： 兩者 hello 原生應用程式和 hello web API 必須註冊在 hello Azure AD 中相同的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-353">Single Tenant: Both hello native application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="d1a9f-354">hello web API 可以設定的 tooexpose 一組權限，也就是使用的 toolimit hello 原生應用程式的存取 tooits 資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-354">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello native application’s access tooits resources.</span></span> <span data-ttu-id="d1a9f-355">然後 hello 用戶端應用程式從 hello Azure 入口網站中的 hello 」 權限 tooOther 應用程式 」 的下拉式清單功能表選取想要的 hello 權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-355">hello client application then selects hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span>
* <span data-ttu-id="d1a9f-356">多租用戶： 首先，hello 原生應用程式僅註冊在 hello 開發人員或發行者的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-356">Multi-Tenant: First, hello native application only ever registered in hello developer or publisher’s directory.</span></span> <span data-ttu-id="d1a9f-357">其次，hello 原生應用程式是設定的 tooindicate hello 權限，它需要 toobe 功能。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-357">Second, hello native application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="d1a9f-358">這份清單的必要權限會顯示在對話方塊中，當使用者或 hello 目的地目錄中的系統管理員能提供同意 toohello 應用程式，這會讓它成為可用 tootheir 組織時。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-358">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="d1a9f-359">某些應用程式需要只使用者層級權限，hello 組織中的任何使用者都可表示同意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-359">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="d1a9f-360">其他應用程式需要系統管理員層級權限，無法表示同意 hello 組織中的使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-360">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="d1a9f-361">只有目錄管理員可以授與同意 tooapplications 需要此層級的權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-361">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="d1a9f-362">當 hello 使用者或系統管理員同意時，只有 hello web API 會註冊在他們的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-362">When hello user or administrator consents, only hello web API is registered in their directory.</span></span> <span data-ttu-id="d1a9f-363">如需詳細資訊，請參閱 [整合應用程式與 Azure Active Directory](active-directory-integrating-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-363">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="d1a9f-364">權杖到期</span><span class="sxs-lookup"><span data-stu-id="d1a9f-364">Token Expiration</span></span>
<span data-ttu-id="d1a9f-365">當 hello 原生應用程式使用其授權碼 tooget JWT 存取權杖時，它也會收到 JWT 重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-365">When hello native application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="d1a9f-366">Hello 重新整理權杖時 hello 存取權杖到期時，可能會使用的 toore-驗證 hello 使用者，而不需要它們 toosign 中的一次。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-366">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="d1a9f-367">此重新整理權杖則使用的 tooauthenticate hello 的使用者，而這可能導致新的存取權杖，並重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-367">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="web-application-tooweb-api"></a><span data-ttu-id="d1a9f-368">Web 應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-368">Web Application tooWeb API</span></span>
<span data-ttu-id="d1a9f-369">本節說明需要從 web API 的 tooget 資源的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-369">This section describes a web application that needs tooget resources from a web API.</span></span> <span data-ttu-id="d1a9f-370">在此案例中，有 hello web 應用程式的兩個識別類型可以使用 tooauthenticate，呼叫 hello web API： 應用程式識別或委派的使用者識別。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-370">In this scenario, there are two identity types that hello web application can use tooauthenticate and call hello web API: an application identity, or a delegated user identity.</span></span>

<span data-ttu-id="d1a9f-371">*應用程式識別：* OAuth 2.0 用戶端認證授與 hello 應用程式，並存取 hello tooauthenticate 此案例會使用 web 應用程式開發介面。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-371">*Application identity:* This scenario uses OAuth 2.0 client credentials grant tooauthenticate as hello application and access hello web API.</span></span> <span data-ttu-id="d1a9f-372">當使用應用程式識別，hello web API 只能偵測 hello web 應用程式正在呼叫它，hello 與 web 應用程式開發介面沒有收到 hello 使用者的任何資訊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-372">When using an application identity, hello web API can only detect that hello web application is calling it, as hello web API does not receive any information about hello user.</span></span> <span data-ttu-id="d1a9f-373">如果 hello 應用程式收到 hello 使用者的相關資訊，則會將傳送嗨應用程式通訊協定，透過，而且它並非由 Azure AD 簽署。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-373">If hello application receives information about hello user, it will be sent via hello application protocol, and it is not signed by Azure AD.</span></span> <span data-ttu-id="d1a9f-374">hello web API 信任 hello web 應用程式驗證 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-374">hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="d1a9f-375">基於這個理由，這種模式稱為受信任子系統。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-375">For this reason, this pattern is called a trusted subsystem.</span></span>

<span data-ttu-id="d1a9f-376">*委派的使用者識別* ：有兩種方式可實現此案例：OpenID Connect 和搭配機密用戶端的 OAuth 2.0 授權碼授與。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-376">*Delegated user identity:* This scenario can be accomplished in two ways: OpenID Connect, and OAuth 2.0 authorization code grant with a confidential client.</span></span> <span data-ttu-id="d1a9f-377">hello web 應用程式會取得 hello 使用者，這證明 toohello web API 的 hello 使用者已驗證成功 toohello web 應用程式和 hello web 應用程式已能夠 tooobtain 委派的使用者識別 toocall hello web API 的存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-377">hello web application obtains an access token for hello user, which proves toohello web API that hello user successfully authenticated toohello web application and that hello web application was able tooobtain a delegated user identity toocall hello web API.</span></span> <span data-ttu-id="d1a9f-378">此存取權杖會傳送 hello 要求 toohello web API 中，以授權 hello 使用者，並傳回 hello 所需的資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-378">This access token is sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="d1a9f-379">圖表</span><span class="sxs-lookup"><span data-stu-id="d1a9f-379">Diagram</span></span>
![Web 應用程式 tooWeb API 圖表](./media/active-directory-authentication-scenarios/web_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="d1a9f-381">通訊協定流程的描述</span><span class="sxs-lookup"><span data-stu-id="d1a9f-381">Description of Protocol Flow</span></span>
<span data-ttu-id="d1a9f-382">同時 hello 應用程式識別和委派的使用者識別類型會討論下列 hello 流程。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-382">Both hello application identity and delegated user identity types are discussed in hello flow below.</span></span> <span data-ttu-id="d1a9f-383">hello 它們之間的主要差異是 hello 委派使用者識別必須先取得授權碼 hello 使用者才能登入並取得存取 toohello web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-383">hello key difference between them is that hello delegated user identity must first acquire an authorization code before hello user can sign-in and gain access toohello web API.</span></span>

##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="d1a9f-384">採用 OAuth 2.0 用戶端認證授與的應用程式識別</span><span class="sxs-lookup"><span data-stu-id="d1a9f-384">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="d1a9f-385">使用者登入 tooAzure AD hello web 應用程式中 (請參閱 hello[應用程式的網頁瀏覽器 tooWeb](#web-browser-to-web-application)上方)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-385">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) above).</span></span>
2. <span data-ttu-id="d1a9f-386">hello web 應用程式需要 tooacquire 存取權杖，使其可以 toohello web API 進行驗證和擷取 hello 所需的資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-386">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="d1a9f-387">它會要求 tooAzure AD 的權杖端點，以提供 hello 認證、 應用程式識別碼和 web API 的應用程式識別碼 URI。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-387">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and web API’s application ID URI.</span></span>
3. <span data-ttu-id="d1a9f-388">Azure AD 驗證 hello 應用程式，並傳回是使用的 toocall hello web API 的 JWT 存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-388">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
4. <span data-ttu-id="d1a9f-389">透過 HTTPS，hello web 應用程式會使用 hello hello 要求 toohello web API hello 授權標頭中傳回 JWT 存取權杖 tooadd hello 含有"Bearer"稱號的 JWT 字串。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-389">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="d1a9f-390">hello web 應用程式開發介面，然後驗證 hello JWT 權杖中，而如果驗證成功，傳回 hello 需要資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-390">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-openid-connect"></a><span data-ttu-id="d1a9f-391">採用 OpenID Connect 的委派的使用者識別</span><span class="sxs-lookup"><span data-stu-id="d1a9f-391">Delegated User Identity with OpenID Connect</span></span>
1. <span data-ttu-id="d1a9f-392">使用者登入 tooa web 應用程式使用 Azure AD (請參閱 hello[應用程式的網頁瀏覽器 tooWeb](#web-browser-to-web-application)上一節)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-392">A user is signed in tooa web application using Azure AD (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) section above).</span></span> <span data-ttu-id="d1a9f-393">如果 hello hello web 應用程式的使用者尚未同意 tooallowing hello web 應用程式 toocall hello web API 代替它，hello 使用者將需要 tooconsent。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-393">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="d1a9f-394">hello 應用程式會顯示它所需的 hello 權限，而且如果其中任何系統管理員層級權限，hello 目錄中的標準使用者將無法能 tooconsent。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-394">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="d1a9f-395">此同意程序僅適用於 toomulti 租用戶應用程式，而非單一租用戶應用程式，如 hello 應用程式將已擁有 hello 必要的權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-395">This consent process only applies toomulti-tenant applications, not single tenant applications, as hello application will already have hello necessary permissions.</span></span> <span data-ttu-id="d1a9f-396">Hello 使用者登入時，hello web 應用程式收到 hello 使用者，以及授權碼的相關資訊的 ID 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-396">When hello user signed in, hello web application received an ID token with information about hello user, as well as an authorization code.</span></span>
2. <span data-ttu-id="d1a9f-397">使用 Azure AD 所簽發的 hello 授權碼，hello web 應用程式傳送包含 hello 授權碼要求 tooAzure AD 的權杖端點，hello 用戶端應用程式 （應用程式識別碼和重新導向 URI） 和 hello 詳細資料所需的資源 （應用程式識別碼 URI hello web 應用程式開發介面）。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-397">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
3. <span data-ttu-id="d1a9f-398">Azure AD 會驗證 hello 授權碼及 hello web 應用程式和 web API 的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-398">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="d1a9f-399">成功驗證後，Azure AD 會傳回兩個權杖：JWT 存取權杖和 JWT 重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-399">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
4. <span data-ttu-id="d1a9f-400">透過 HTTPS，hello web 應用程式會使用 hello hello 要求 toohello web API hello 授權標頭中傳回 JWT 存取權杖 tooadd hello 含有"Bearer"稱號的 JWT 字串。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-400">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="d1a9f-401">hello web 應用程式開發介面，然後驗證 hello JWT 權杖中，而如果驗證成功，傳回 hello 需要資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-401">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-authorization-code-grant"></a><span data-ttu-id="d1a9f-402">採用 OAuth 2.0 授權碼授與的委派的使用者識別</span><span class="sxs-lookup"><span data-stu-id="d1a9f-402">Delegated User Identity with OAuth 2.0 Authorization Code Grant</span></span>
1. <span data-ttu-id="d1a9f-403">使用者已經登入 tooa web 應用程式，其驗證機制與 Azure AD 無關。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-403">A user is already signed in tooa web application, whose authentication mechanism is independent of Azure AD.</span></span>
2. <span data-ttu-id="d1a9f-404">hello web 應用程式需要授權程式碼 tooacquire 存取權杖，讓它發出要求，以透過 hello 瀏覽器 tooAzure AD 的授權端點，以提供應用程式識別碼 hello 與 hello web 應用程式之後重新導向 URI 成功驗證。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-404">hello web application requires an authorization code tooacquire an access token, so it issues a request through hello browser tooAzure AD’s authorization endpoint, providing hello Application ID and redirect URI for hello web application after successful authentication.</span></span> <span data-ttu-id="d1a9f-405">hello 使用者登入 tooAzure AD。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-405">hello user signs in tooAzure AD.</span></span>
3. <span data-ttu-id="d1a9f-406">如果 hello hello web 應用程式的使用者尚未同意 tooallowing hello web 應用程式 toocall hello web API 代替它，hello 使用者將需要 tooconsent。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-406">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="d1a9f-407">hello 應用程式會顯示它所需的 hello 權限，而且如果其中任何系統管理員層級權限，hello 目錄中的標準使用者將無法能 tooconsent。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-407">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="d1a9f-408">Tooboth 單一和多租用戶應用程式套用此同意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-408">This consent applies tooboth single and multi-tenant application.</span></span>  <span data-ttu-id="d1a9f-409">在 hello 單一租用戶的情況下，為系統管理員可以代表使用者執行系統管理員同意 tooconsent。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-409">In hello single tenant case, an admin can perform admin consent tooconsent on behalf of their users.</span></span>  <span data-ttu-id="d1a9f-410">這可以使用 hello`Grant Permissions`按鈕在 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-410">This can be done using hello `Grant Permissions` button in hello [Azure Portal](https://portal.azure.com).</span></span> 
4. <span data-ttu-id="d1a9f-411">Hello 使用者同意之後，hello web 應用程式會收到 hello 授權程式碼，它需要 tooacquire 存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-411">After hello user has consented, hello web application receives hello authorization code that it needs tooacquire an access token.</span></span>
5. <span data-ttu-id="d1a9f-412">使用 Azure AD 所簽發的 hello 授權碼，hello web 應用程式傳送包含 hello 授權碼要求 tooAzure AD 的權杖端點，hello 用戶端應用程式 （應用程式識別碼和重新導向 URI） 和 hello 詳細資料所需的資源 （應用程式識別碼 URI hello web 應用程式開發介面）。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-412">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
6. <span data-ttu-id="d1a9f-413">Azure AD 會驗證 hello 授權碼及 hello web 應用程式和 web API 的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-413">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="d1a9f-414">成功驗證後，Azure AD 會傳回兩個權杖：JWT 存取權杖和 JWT 重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-414">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
7. <span data-ttu-id="d1a9f-415">透過 HTTPS，hello web 應用程式會使用 hello hello 要求 toohello web API hello 授權標頭中傳回 JWT 存取權杖 tooadd hello 含有"Bearer"稱號的 JWT 字串。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-415">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="d1a9f-416">hello web 應用程式開發介面，然後驗證 hello JWT 權杖中，而如果驗證成功，傳回 hello 需要資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-416">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="d1a9f-417">程式碼範例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-417">Code Samples</span></span>
<span data-ttu-id="d1a9f-418">Web 應用程式 tooWeb API 」 案例的 hello 程式碼範例，請參閱。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-418">See hello code samples for Web Application tooWeb API scenarios.</span></span> <span data-ttu-id="d1a9f-419">而且，請經常回來查看--我們隨時都 hello 加入新的範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-419">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="d1a9f-420">Web[應用程式 tooWeb API](active-directory-code-samples.md#web-application-to-web-api)。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-420">Web [Application tooWeb API](active-directory-code-samples.md#web-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="d1a9f-421">註冊</span><span class="sxs-lookup"><span data-stu-id="d1a9f-421">Registering</span></span>
* <span data-ttu-id="d1a9f-422">單一租用戶： Hello 應用程式識別和委派的使用者識別的案例 hello web 應用程式和 hello web API 必須註冊在 hello Azure AD 中相同的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-422">Single Tenant: For both hello application identity and delegated user identity cases, hello web application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="d1a9f-423">hello web API 可以設定的 tooexpose 一組權限，也就是使用的 toolimit hello web 應用程式的存取 tooits 資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-423">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello web application’s access tooits resources.</span></span> <span data-ttu-id="d1a9f-424">如果使用委派的使用者識別類型，hello web 應用程式會需要從 hello Azure 入口網站中的 hello 」 權限 tooOther 應用程式 」 的下拉式清單功能表 tooselect hello 所需權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-424">If a delegated user identity type is being used, hello web application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="d1a9f-425">如果正在使用 hello 應用程式識別類型，就不需要此步驟。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-425">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="d1a9f-426">多租用戶： Hello web 應用程式第一次，是它需要 toobe 功能設定的 tooindicate hello 權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-426">Multi-Tenant: First, hello web application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="d1a9f-427">這份清單的必要權限會顯示在對話方塊中，當使用者或 hello 目的地目錄中的系統管理員能提供同意 toohello 應用程式，這會讓它成為可用 tootheir 組織時。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-427">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="d1a9f-428">某些應用程式需要只使用者層級權限，hello 組織中的任何使用者都可表示同意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-428">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="d1a9f-429">其他應用程式需要系統管理員層級權限，無法表示同意 hello 組織中的使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-429">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="d1a9f-430">只有目錄管理員可以授與同意 tooapplications 需要此層級的權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-430">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="d1a9f-431">當 hello 使用者或系統管理員的同意授權，hello web 應用程式和 hello web API 都會註冊在他們的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-431">When hello user or administrator consents, hello web application and hello web API are both registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="d1a9f-432">權杖到期</span><span class="sxs-lookup"><span data-stu-id="d1a9f-432">Token Expiration</span></span>
<span data-ttu-id="d1a9f-433">當 hello web 應用程式使用其授權碼 tooget JWT 存取權杖時，它也會收到 JWT 重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-433">When hello web application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="d1a9f-434">Hello 重新整理權杖時 hello 存取權杖到期時，可能會使用的 toore-驗證 hello 使用者，而不需要它們 toosign 中的一次。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-434">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="d1a9f-435">此重新整理權杖則使用的 tooauthenticate hello 的使用者，而這可能導致新的存取權杖，並重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-435">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="daemon-or-server-application-tooweb-api"></a><span data-ttu-id="d1a9f-436">精靈或伺服器應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-436">Daemon or Server Application tooWeb API</span></span>
<span data-ttu-id="d1a9f-437">本節說明需要從 web API 的 tooget 資源精靈或伺服器應用程式。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-437">This section describes a daemon or server application that needs tooget resources from a web API.</span></span> <span data-ttu-id="d1a9f-438">有兩種套用 toothis 區段的子案例： 需要 toocall web API，在 OAuth 2.0 用戶端認證授與類型; 內建的協助程式而且需要 toocall 伺服器應用程式 （例如 web API) 的 web 應用程式開發介面，內建在 OAuth 2.0 On-Behalf-Of 草稿規格。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-438">There are two sub-scenarios that apply toothis section: A daemon that needs toocall a web API, built on OAuth 2.0 client credentials grant type; and a server application (such as a web API) that needs toocall a web API, built on OAuth 2.0 On-Behalf-Of draft specification.</span></span>

<span data-ttu-id="d1a9f-439">Hello 案例精靈應用程式需要 toocall web API 時，重要 toounderstand 幾件事。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-439">For hello scenario when a daemon application needs toocall a web API, it’s important toounderstand a few things.</span></span> <span data-ttu-id="d1a9f-440">首先，不可能精靈應用程式，需要 hello 應用程式 toohave 本身之身分識別與使用者互動。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-440">First, user interaction is not possible with a daemon application, which requires hello application toohave its own identity.</span></span> <span data-ttu-id="d1a9f-441">批次工作或在 hello 背景中執行的作業系統服務精靈應用程式的範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-441">An example of a daemon application is a batch job, or an operating system service running in hello background.</span></span> <span data-ttu-id="d1a9f-442">這種類型的應用程式使用其應用程式識別，並提供給其應用程式識別碼、 認證 （密碼或憑證） 和應用程式識別碼 URI tooAzure AD 要求存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-442">This type of application requests an access token by using its application identity and presenting its Application ID, credential (password or certificate), and application ID URI tooAzure AD.</span></span> <span data-ttu-id="d1a9f-443">成功驗證之後，hello 服務精靈會接收來自 Azure AD，則使用的 toocall hello web API 的存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-443">After successful authentication, hello daemon receives an access token from Azure AD, which is then used toocall hello web API.</span></span>

<span data-ttu-id="d1a9f-444">Hello 案例伺服器應用程式需要 toocall web API 時，很有幫助 toouse 範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-444">For hello scenario when a server application needs toocall a web API, it’s helpful toouse an example.</span></span> <span data-ttu-id="d1a9f-445">假設使用者驗證在原生應用程式，而這個原生應用程式必須 toocall web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-445">Imagine that a user has authenticated on a native application, and this native application needs toocall a web API.</span></span> <span data-ttu-id="d1a9f-446">Azure AD 會發出 JWT 存取權杖 toocall hello web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-446">Azure AD issues a JWT access token toocall hello web API.</span></span> <span data-ttu-id="d1a9f-447">如果 hello web API 需要 toocall 另一個下游 web API，它可以使用 hello 上-代表 」 流程 toodelegate hello 使用者的身分識別和驗證 toohello 第二層 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-447">If hello web API needs toocall another downstream web API, it can use hello on-behalf-of flow toodelegate hello user’s identity and authenticate toohello second-tier web API.</span></span>

#### <a name="diagram"></a><span data-ttu-id="d1a9f-448">圖表</span><span class="sxs-lookup"><span data-stu-id="d1a9f-448">Diagram</span></span>
![精靈或伺服器應用程式的應用程式開發介面 tooWeb 圖表](./media/active-directory-authentication-scenarios/daemon_server_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="d1a9f-450">通訊協定流程的描述</span><span class="sxs-lookup"><span data-stu-id="d1a9f-450">Description of Protocol Flow</span></span>
##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="d1a9f-451">採用 OAuth 2.0 用戶端認證授與的應用程式識別</span><span class="sxs-lookup"><span data-stu-id="d1a9f-451">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="d1a9f-452">首先，hello 伺服器應用程式需要 tooauthenticate 與 Azure AD 作為本身沒有任何人為互動，例如互動式登入對話方塊。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-452">First, hello server application needs tooauthenticate with Azure AD as itself, without any human interaction such as an interactive sign-on dialog.</span></span> <span data-ttu-id="d1a9f-453">它會要求 tooAzure AD 的權杖端點，以提供 hello 認證、 應用程式識別碼和應用程式識別碼 URI。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-453">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and application ID URI.</span></span>
2. <span data-ttu-id="d1a9f-454">Azure AD 驗證 hello 應用程式，並傳回是使用的 toocall hello web API 的 JWT 存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-454">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
3. <span data-ttu-id="d1a9f-455">透過 HTTPS，hello web 應用程式會使用 hello hello 要求 toohello web API hello 授權標頭中傳回 JWT 存取權杖 tooadd hello 含有"Bearer"稱號的 JWT 字串。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-455">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="d1a9f-456">hello web 應用程式開發介面，然後驗證 hello JWT 權杖中，而如果驗證成功，傳回 hello 需要資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-456">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-on-behalf-of-draft-specification"></a><span data-ttu-id="d1a9f-457">採用 OAuth 2.0 On-Behalf-Of 草稿規格的委派的使用者識別</span><span class="sxs-lookup"><span data-stu-id="d1a9f-457">Delegated User Identity with OAuth 2.0 On-Behalf-Of Draft Specification</span></span>
<span data-ttu-id="d1a9f-458">hello 流程如下所示假設使用者驗證 （例如原生應用程式），另一個應用程式上，且其使用者識別已使用的 tooacquire 存取語彙基元 toohello 第一層 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-458">hello flow discussed below assumes that a user has been authenticated on another application (such as a native application), and their user identity has been used tooacquire an access token toohello first-tier web API.</span></span>

1. <span data-ttu-id="d1a9f-459">hello 原生應用程式會傳送 hello 存取語彙基元 toohello 第一層 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-459">hello native application sends hello access token toohello first-tier web API.</span></span>
2. <span data-ttu-id="d1a9f-460">hello 第一層 web 應用程式開發介面傳送要求 tooAzure AD 的權杖端點，以提供其應用程式識別碼和認證，以及 hello 使用者的存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-460">hello first-tier web API sends a request tooAzure AD’s token endpoint, providing its Application ID and credentials, as well as hello user’s access token.</span></span> <span data-ttu-id="d1a9f-461">此外，所傳送嗨要求包含參數，指出 hello on_behalf_of web API 正在要求新權杖代表 hello 原始使用者 toocall 下游 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-461">In addition, hello request is sent with an on_behalf_of parameter that indicates hello web API is requesting new tokens toocall a downstream web API on behalf of hello original user.</span></span>
3. <span data-ttu-id="d1a9f-462">Azure AD 會驗證該 hello 第一層 web API 有權限 tooaccess hello 第二層 web API，並驗證 hello 要求傳回 JWT 存取權杖和 JWT 重新整理語彙基元 toohello 第一層 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-462">Azure AD verifies that hello first-tier web API has permissions tooaccess hello second-tier web API and validates hello request, returning a JWT access token and a JWT refresh token toohello first-tier web API.</span></span>
4. <span data-ttu-id="d1a9f-463">透過 HTTPS，hello 第一層 web API 然後呼叫 hello 藉由附加 hello 要求中的 hello 授權標頭中的 hello 語彙基元字串的第二層 web API。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-463">Over HTTPS, hello first-tier web API then calls hello second-tier web API by appending hello token string in hello Authorization header in hello request.</span></span> <span data-ttu-id="d1a9f-464">hello 第一層 web API 可以繼續 toocall hello 第二層 web API，只要 hello 存取權杖和重新整理語彙基元有效。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-464">hello first-tier web API can continue toocall hello second-tier web API as long as hello access token and refresh tokens are valid.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="d1a9f-465">程式碼範例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-465">Code Samples</span></span>
<span data-ttu-id="d1a9f-466">請參閱 hello 精靈或伺服器應用程式的應用程式開發介面 tooWeb 案例的程式碼範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-466">See hello code samples for Daemon or Server Application tooWeb API scenarios.</span></span> <span data-ttu-id="d1a9f-467">而且，請經常回來查看--我們隨時都 hello 加入新的範例。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-467">And, check back frequently -- we add new samples all hello time.</span></span> [<span data-ttu-id="d1a9f-468">伺服器或精靈應用程式 tooWeb 應用程式開發介面</span><span class="sxs-lookup"><span data-stu-id="d1a9f-468">Server or Daemon Application tooWeb API</span></span>](active-directory-code-samples.md#server-or-daemon-application-to-web-api)

#### <a name="registering"></a><span data-ttu-id="d1a9f-469">註冊</span><span class="sxs-lookup"><span data-stu-id="d1a9f-469">Registering</span></span>
* <span data-ttu-id="d1a9f-470">單一租用戶： Hello 應用程式識別和委派的使用者識別的案例 hello 精靈或伺服器應用程式必須註冊在 hello Azure AD 中相同的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-470">Single Tenant: For both hello application identity and delegated user identity cases, hello daemon or server application must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="d1a9f-471">hello web API 可以設定的 tooexpose 一組權限，也就是使用的 toolimit hello 精靈或伺服器的存取 tooits 資源。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-471">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello daemon or server’s access tooits resources.</span></span> <span data-ttu-id="d1a9f-472">如果使用委派的使用者識別類型，hello 伺服器應用程式會需要從 hello Azure 入口網站中的 hello 」 權限 tooOther 應用程式 」 的下拉式清單功能表 tooselect hello 所需權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-472">If a delegated user identity type is being used, hello server application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="d1a9f-473">如果正在使用 hello 應用程式識別類型，就不需要此步驟。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-473">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="d1a9f-474">多租用戶： Hello 精靈或伺服器應用程式第一次，是它需要 toobe 功能設定的 tooindicate hello 權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-474">Multi-Tenant: First, hello daemon or server application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="d1a9f-475">這份清單的必要權限會顯示在對話方塊中，當使用者或 hello 目的地目錄中的系統管理員能提供同意 toohello 應用程式，這會讓它成為可用 tootheir 組織時。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-475">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="d1a9f-476">某些應用程式需要只使用者層級權限，hello 組織中的任何使用者都可表示同意。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-476">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="d1a9f-477">其他應用程式需要系統管理員層級權限，無法表示同意 hello 組織中的使用者。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-477">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="d1a9f-478">只有目錄管理員可以授與同意 tooapplications 需要此層級的權限。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-478">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="d1a9f-479">當 hello 使用者或系統管理員同意時，這兩個 hello web Api 會註冊在他們的目錄。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-479">When hello user or administrator consents, both of hello web APIs are registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="d1a9f-480">權杖到期</span><span class="sxs-lookup"><span data-stu-id="d1a9f-480">Token Expiration</span></span>
<span data-ttu-id="d1a9f-481">當 hello 第一個應用程式使用其授權碼 tooget JWT 存取權杖時，它也會收到 JWT 重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-481">When hello first application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="d1a9f-482">Hello 重新整理權杖時 hello 存取權杖到期時，可能會使用的 toore-hello 使用者不會提示輸入認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-482">When hello access token expires, hello refresh token can be used toore-authenticate hello user without prompting for credentials.</span></span> <span data-ttu-id="d1a9f-483">此重新整理權杖則使用的 tooauthenticate hello 的使用者，而這可能導致新的存取權杖，並重新整理權杖。</span><span class="sxs-lookup"><span data-stu-id="d1a9f-483">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

## <a name="see-also"></a><span data-ttu-id="d1a9f-484">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d1a9f-484">See Also</span></span>
[<span data-ttu-id="d1a9f-485">Azure Active Directory 開發人員指南</span><span class="sxs-lookup"><span data-stu-id="d1a9f-485">Azure Active Directory Developer's Guide</span></span>](active-directory-developers-guide.md)

[<span data-ttu-id="d1a9f-486">Azure Active Directory 程式碼範例</span><span class="sxs-lookup"><span data-stu-id="d1a9f-486">Azure Active Directory Code Samples</span></span>](active-directory-code-samples.md)

[<span data-ttu-id="d1a9f-487">Azure AD 中簽署金鑰變換的相關重要資訊</span><span class="sxs-lookup"><span data-stu-id="d1a9f-487">Important Information About Signing Key Rollover in Azure AD</span></span>](active-directory-signing-key-rollover.md)

[<span data-ttu-id="d1a9f-488">Azure AD 中的 OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="d1a9f-488">OAuth 2.0 in Azure AD</span></span>](https://msdn.microsoft.com/library/azure/dn645545.aspx)

