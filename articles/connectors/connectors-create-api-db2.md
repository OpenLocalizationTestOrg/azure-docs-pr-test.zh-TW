---
title: "在您的 Logic Apps 中新增 DB2 連接器 | Microsoft Docs"
description: "搭配 REST API 參數來使用 DB2 連接器的概觀"
services: 
documentationcenter: 
author: gplarsen
manager: erikre
editor: 
tags: connectors
ms.assetid: 1c6b010c-beee-496d-943a-a99e168c99aa
ms.service: logic-apps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 09/26/2016
ms.author: plarsen; ladocs
ms.openlocfilehash: 4501b3d9a2fdc00582596cb907f7130591e4782e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="get-started-with-the-db2-connector"></a><span data-ttu-id="25e8f-103">開始使用 DB2 連接器</span><span class="sxs-lookup"><span data-stu-id="25e8f-103">Get started with the DB2 connector</span></span>
<span data-ttu-id="25e8f-104">Microsoft Connector for DB2 可將 Logic Apps 連接至 IBM DB2 資料庫中儲存的資源。</span><span class="sxs-lookup"><span data-stu-id="25e8f-104">Microsoft connector for DB2 connects Logic Apps to resources stored in an IBM DB2 database.</span></span> <span data-ttu-id="25e8f-105">此連接器包含透過 TCP/IP 網路與遠端 DB2 伺服器電腦通訊的 Microsoft 用戶端。</span><span class="sxs-lookup"><span data-stu-id="25e8f-105">This connector includes a Microsoft client to communicate with remote DB2 server computers across a TCP/IP network.</span></span> <span data-ttu-id="25e8f-106">其中包括雲端資料庫 (例如在 Azure 虛擬化中執行的 IBM Bluemix dashDB 或 IBM DB2 for Windows)，以及使用內部部署資料閘道的內部部署資料庫。</span><span class="sxs-lookup"><span data-stu-id="25e8f-106">This includes cloud databases, such as IBM Bluemix dashDB or IBM DB2 for Windows running in Azure virtualization, and on-premises databases using the on-premises data gateway.</span></span> <span data-ttu-id="25e8f-107">請參閱支援的 IBM DB2 平台和版本 [清單](connectors-create-api-db2.md#supported-db2-platforms-and-versions) (本主題結尾處)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-107">See the [supported list](connectors-create-api-db2.md#supported-db2-platforms-and-versions) of IBM DB2 platforms and versions (in this topic).</span></span>

<span data-ttu-id="25e8f-108">DB2 連接器支援下列資料庫作業：</span><span class="sxs-lookup"><span data-stu-id="25e8f-108">The DB2 connector supports the following database operations:</span></span>

* <span data-ttu-id="25e8f-109">列出資料庫資料表</span><span class="sxs-lookup"><span data-stu-id="25e8f-109">List database tables</span></span>
* <span data-ttu-id="25e8f-110">使用 SELECT 讀取一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-110">Read one row using SELECT</span></span>
* <span data-ttu-id="25e8f-111">使用 SELECT 讀取所有資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-111">Read all rows using SELECT</span></span>
* <span data-ttu-id="25e8f-112">使用 INSERT 加入一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-112">Add one row using INSERT</span></span>
* <span data-ttu-id="25e8f-113">使用 UPDATE 變更一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-113">Alter one row using UPDATE</span></span>
* <span data-ttu-id="25e8f-114">使用 DELETE 移除一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-114">Remove one row using DELETE</span></span>

<span data-ttu-id="25e8f-115">本主題說明如何在邏輯應用程式中使用連接器來處理資料庫作業。</span><span class="sxs-lookup"><span data-stu-id="25e8f-115">This topic shows you how to use the connector in a logic app to process database operations.</span></span>

<span data-ttu-id="25e8f-116">若要深入了解 Logic Apps，請參閱 [建立邏輯應用程式](../logic-apps/logic-apps-create-a-logic-app.md)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-116">To learn more about Logic Apps, see [create a logic app](../logic-apps/logic-apps-create-a-logic-app.md).</span></span>

## <a name="available-actions"></a><span data-ttu-id="25e8f-117">可用動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-117">Available actions</span></span>
<span data-ttu-id="25e8f-118">DB2 連接器支援下列邏輯應用程式動作：</span><span class="sxs-lookup"><span data-stu-id="25e8f-118">The DB2 connector supports the following logic app actions:</span></span>

* <span data-ttu-id="25e8f-119">GetTables</span><span class="sxs-lookup"><span data-stu-id="25e8f-119">GetTables</span></span>
* <span data-ttu-id="25e8f-120">GetRow</span><span class="sxs-lookup"><span data-stu-id="25e8f-120">GetRow</span></span>
* <span data-ttu-id="25e8f-121">GetRows</span><span class="sxs-lookup"><span data-stu-id="25e8f-121">GetRows</span></span>
* <span data-ttu-id="25e8f-122">InsertRow</span><span class="sxs-lookup"><span data-stu-id="25e8f-122">InsertRow</span></span>
* <span data-ttu-id="25e8f-123">UpdateRow</span><span class="sxs-lookup"><span data-stu-id="25e8f-123">UpdateRow</span></span>
* <span data-ttu-id="25e8f-124">DeleteRow</span><span class="sxs-lookup"><span data-stu-id="25e8f-124">DeleteRow</span></span>

## <a name="list-tables"></a><span data-ttu-id="25e8f-125">列出資料表</span><span class="sxs-lookup"><span data-stu-id="25e8f-125">List tables</span></span>
<span data-ttu-id="25e8f-126">針對由透過 Microsoft Azure 入口網站執行之許多步驟所組成的任何作業，建立邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="25e8f-126">Creating a logic app for any operation is comprised of many steps performed through the Microsoft Azure portal.</span></span>

<span data-ttu-id="25e8f-127">在邏輯應用程式中，您可以新增動作以列出 DB2 資料庫中的資料表。</span><span class="sxs-lookup"><span data-stu-id="25e8f-127">Within the logic app, you can add an action to list tables in a DB2 database.</span></span> <span data-ttu-id="25e8f-128">此動作會指示連接器來處理 DB2 結構描述陳述式，如 `CALL SYSIBM.SQLTABLES`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-128">The action instructs the connector to process a DB2 schema statement, such as `CALL SYSIBM.SQLTABLES`.</span></span>

### <a name="create-a-logic-app"></a><span data-ttu-id="25e8f-129">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="25e8f-129">Create a logic app</span></span>
1. <span data-ttu-id="25e8f-130">在 **Azure 開始面板**中，依序選取 **+** (加號)、[Web + 行動] 和 [邏輯應用程式]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-130">In the **Azure start board**, select **+** (plus sign), **Web + Mobile**, and then **Logic App**.</span></span>
2. <span data-ttu-id="25e8f-131">輸入 [名稱]，如 `Db2getTables`、**訂用帳戶**、**資源群組**、**位置**和 **App Service 方案**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-131">Enter the **Name**, such as `Db2getTables`, **Subscription**, **Resource group**, **Location**, and **App Service Plan**.</span></span> <span data-ttu-id="25e8f-132">選取 [釘選到儀表板]，然後選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-132">Select **Pin to dashboard**, and then select **Create**.</span></span>

### <a name="add-a-trigger-and-action"></a><span data-ttu-id="25e8f-133">新增觸發程序和動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-133">Add a trigger and action</span></span>
1. <span data-ttu-id="25e8f-134">在 [Logic Apps 設計工具] 中，在 [範本] 清單中選取 [空白 LogicApp]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-134">In the **Logic Apps Designer**, select **Blank LogicApp** in the **Templates** list.</span></span>
2. <span data-ttu-id="25e8f-135">在**觸發程序**清單中，選取 [週期性]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-135">In the **triggers** list, select **Recurrence**.</span></span> 
3. <span data-ttu-id="25e8f-136">在 [週期性] 觸發程序中，選取 [編輯]，選取 [頻率] 下拉式清單以選取 [天]，然後設定 [間隔] 以輸入 **7**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-136">In the **Recurrence** trigger, select **Edit**, select **Frequency** drop-down to select **Day**, and then set the **Interval** to type **7**.</span></span>  
4. <span data-ttu-id="25e8f-137">選取 [+ 新增步驟] 方塊，然後再選取 [新增動作]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-137">Select the **+ New step** box, and then select **Add an action**.</span></span>
5. <span data-ttu-id="25e8f-138">在**動作**清單中，於 [搜尋更多動作] 編輯方塊中輸入 `db2`，然後選取 [DB2 - 取得資料表 (預覽)]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-138">In the **actions** list, type `db2` in the **Search for more actions** edit box, and then select **DB2 - Get tables (Preview)**.</span></span>
   
   ![](./media/connectors-create-api-db2/Db2connectorActions.png)  
6. <span data-ttu-id="25e8f-139">在 [DB2 - 取得資料表] 組態窗格中，選取**核取方塊**以啟用 [透過內部部署資料閘道連接]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-139">In the **DB2 - Get tables** configuration pane, select **checkbox** to enable **Connect via on-premises data gateway**.</span></span> <span data-ttu-id="25e8f-140">請注意從雲端至內部部署的設定變更。</span><span class="sxs-lookup"><span data-stu-id="25e8f-140">Notice that the settings change from cloud to on-premises.</span></span>
   
   * <span data-ttu-id="25e8f-141">以地址或別名冒號連接埠號碼的格式，輸入 [伺服器] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-141">Type value for **Server**, in the form of address or alias colon port number.</span></span> <span data-ttu-id="25e8f-142">例如，輸入 `ibmserver01:50000`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-142">For example, type `ibmserver01:50000`.</span></span>
   * <span data-ttu-id="25e8f-143">輸入 [資料庫] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-143">Type value for **Database**.</span></span> <span data-ttu-id="25e8f-144">例如，輸入 `nwind`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-144">For example, type `nwind`.</span></span>
   * <span data-ttu-id="25e8f-145">選取 [驗證] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-145">Select value for **Authentication**.</span></span> <span data-ttu-id="25e8f-146">例如，選取 [基本] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-146">For example, select **Basic**.</span></span>
   * <span data-ttu-id="25e8f-147">輸入 [使用者名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-147">Type value for **Username**.</span></span> <span data-ttu-id="25e8f-148">例如，輸入 `db2admin`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-148">For example, type `db2admin`.</span></span>
   * <span data-ttu-id="25e8f-149">輸入 [密碼] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-149">Type value for **Password**.</span></span> <span data-ttu-id="25e8f-150">例如，輸入 `Password1`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-150">For example, type `Password1`.</span></span>
   * <span data-ttu-id="25e8f-151">選取 [閘道] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-151">Select value for **Gateway**.</span></span> <span data-ttu-id="25e8f-152">例如，選取 [datagateway01] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-152">For example, select **datagateway01**.</span></span>
7. <span data-ttu-id="25e8f-153">選取 [建立]，然後選取 [儲存]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-153">Select **Create**, and then select **Save**.</span></span> 
   
    ![](./media/connectors-create-api-db2/Db2connectorOnPremisesDataGatewayConnection.png)
8. <span data-ttu-id="25e8f-154">在 [Db2getTables] 刀鋒視窗中，於 [摘要] 之下的 [所有執行] 清單中，選取第一個列出的項目 (最近一次執行)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-154">In the **Db2getTables** blade, within the **All runs** list under **Summary**, select the first-listed item (most recent run).</span></span>
9. <span data-ttu-id="25e8f-155">在 [邏輯應用程式執行] 刀鋒視窗中，選取 [執行詳細資料]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-155">In the **Logic app run** blade, select **Run Details**.</span></span> <span data-ttu-id="25e8f-156">選取 [動作] 清單中的 [Get_tables]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-156">Within the **Action** list, select **Get_tables**.</span></span> <span data-ttu-id="25e8f-157">請查看 [狀態] 的值，應該是 [成功]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-157">See the value for **Status**, which should be **Succeeded**.</span></span> <span data-ttu-id="25e8f-158">選取 [輸入連結]  以檢視輸入。</span><span class="sxs-lookup"><span data-stu-id="25e8f-158">Select the **Inputs link** to view the inputs.</span></span> <span data-ttu-id="25e8f-159">選取 [輸出連結] 並檢視輸出，其中應包含資料表清單。</span><span class="sxs-lookup"><span data-stu-id="25e8f-159">Select the **Outputs link**, and view the outputs; which should include a list of tables.</span></span>
   
   ![](./media/connectors-create-api-db2/Db2connectorGetTablesLogicAppRunOutputs.png)

## <a name="create-the-connections"></a><span data-ttu-id="25e8f-160">建立連線</span><span class="sxs-lookup"><span data-stu-id="25e8f-160">Create the connections</span></span>
<span data-ttu-id="25e8f-161">此連接器支援使用下列連接屬性來連接裝載於內部和雲端中的資料庫。</span><span class="sxs-lookup"><span data-stu-id="25e8f-161">This connector supports connections to databases hosted on-premises and in the cloud using the following connection properties.</span></span> 

| <span data-ttu-id="25e8f-162">屬性</span><span class="sxs-lookup"><span data-stu-id="25e8f-162">Property</span></span> | <span data-ttu-id="25e8f-163">說明</span><span class="sxs-lookup"><span data-stu-id="25e8f-163">Description</span></span> |
| --- | --- |
| <span data-ttu-id="25e8f-164">伺服器</span><span class="sxs-lookup"><span data-stu-id="25e8f-164">server</span></span> |<span data-ttu-id="25e8f-165">必要。</span><span class="sxs-lookup"><span data-stu-id="25e8f-165">Required.</span></span> <span data-ttu-id="25e8f-166">接受代表 TCP/IP 位址或別名的字串值，其採用 IPv4 或 IPv6 格式，後面接著 (以冒號分隔) TCP/IP 連接埠編號。</span><span class="sxs-lookup"><span data-stu-id="25e8f-166">Accepts a string value that represents a TCP/IP address or alias, in either IPv4 or IPv6 format, followed (colon-delimited) by a TCP/IP port number.</span></span> |
| <span data-ttu-id="25e8f-167">資料庫</span><span class="sxs-lookup"><span data-stu-id="25e8f-167">database</span></span> |<span data-ttu-id="25e8f-168">必要。</span><span class="sxs-lookup"><span data-stu-id="25e8f-168">Required.</span></span> <span data-ttu-id="25e8f-169">接受代表 DRDA 關聯式資料庫名稱 (RDBNAM) 的字串值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-169">Accepts a string value that represents a DRDA Relational Database Name (RDBNAM).</span></span> <span data-ttu-id="25e8f-170">DB2 for z/OS 接受 16 個位元組的字串 (資料庫也稱為 IBM DB2 for z/OS 位置)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-170">DB2 for z/OS accepts a 16-byte string (database is known as an IBM DB2 for z/OS location).</span></span> <span data-ttu-id="25e8f-171">DB2 for i5/OS 接受 18 個位元組的字串 (資料庫也稱為 IBM DB2 for i 關聯式資料庫)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-171">DB2 for i5/OS accepts an 18-byte string (database is known as an IBM DB2 for i relational database).</span></span> <span data-ttu-id="25e8f-172">DB2 for LUW 接受 8 個位元組的字串。</span><span class="sxs-lookup"><span data-stu-id="25e8f-172">DB2 for LUW accepts an 8-byte string.</span></span> |
| <span data-ttu-id="25e8f-173">驗證</span><span class="sxs-lookup"><span data-stu-id="25e8f-173">authentication</span></span> |<span data-ttu-id="25e8f-174">選用。</span><span class="sxs-lookup"><span data-stu-id="25e8f-174">Optional.</span></span> <span data-ttu-id="25e8f-175">接受清單項目值 (基本或 Windows (kerberos))。</span><span class="sxs-lookup"><span data-stu-id="25e8f-175">Accepts a list item value, either Basic or Windows (kerberos).</span></span> |
| <span data-ttu-id="25e8f-176">username</span><span class="sxs-lookup"><span data-stu-id="25e8f-176">username</span></span> |<span data-ttu-id="25e8f-177">必要。</span><span class="sxs-lookup"><span data-stu-id="25e8f-177">Required.</span></span> <span data-ttu-id="25e8f-178">接受字串值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-178">Accepts a string value.</span></span> <span data-ttu-id="25e8f-179">DB2 for z/OS 接受 8 個位元組的字串。</span><span class="sxs-lookup"><span data-stu-id="25e8f-179">DB2 for z/OS accepts an 8-byte string.</span></span> <span data-ttu-id="25e8f-180">DB2 for i 接受 10 個位元組的字串。</span><span class="sxs-lookup"><span data-stu-id="25e8f-180">DB2 for i accepts a 10-byte string.</span></span> <span data-ttu-id="25e8f-181">DB2 for Linux 或 UNIX 接受 8 個位元組的字串。</span><span class="sxs-lookup"><span data-stu-id="25e8f-181">DB2 for Linux or UNIX accepts an 8-byte string.</span></span> <span data-ttu-id="25e8f-182">DB2 for Windows 接受 30 個位元組的字串。</span><span class="sxs-lookup"><span data-stu-id="25e8f-182">DB2 for Windows accepts a 30-byte string.</span></span> |
| <span data-ttu-id="25e8f-183">password</span><span class="sxs-lookup"><span data-stu-id="25e8f-183">password</span></span> |<span data-ttu-id="25e8f-184">必要。</span><span class="sxs-lookup"><span data-stu-id="25e8f-184">Required.</span></span> <span data-ttu-id="25e8f-185">接受字串值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-185">Accepts a string value.</span></span> |
| <span data-ttu-id="25e8f-186">gateway</span><span class="sxs-lookup"><span data-stu-id="25e8f-186">gateway</span></span> |<span data-ttu-id="25e8f-187">必要。</span><span class="sxs-lookup"><span data-stu-id="25e8f-187">Required.</span></span> <span data-ttu-id="25e8f-188">接受清單項目值，該值代表對儲存群組內的 Logic Apps 定義的內部部署資料閘道。</span><span class="sxs-lookup"><span data-stu-id="25e8f-188">Accepts a list item  value, representing the on-premises data gateway defined to Logic Apps within the storage group.</span></span> |

## <a name="create-the-on-premises-gateway-connection"></a><span data-ttu-id="25e8f-189">建立內部部署閘道連線</span><span class="sxs-lookup"><span data-stu-id="25e8f-189">Create the on-premises gateway connection</span></span>
<span data-ttu-id="25e8f-190">此連接器可以使用內部部署閘道存取內部部署 DB2 資料庫。</span><span class="sxs-lookup"><span data-stu-id="25e8f-190">This connector can access an on-premises DB2 database using the on-premises gateway.</span></span> <span data-ttu-id="25e8f-191">如需詳細資訊，請參閱閘道主題。</span><span class="sxs-lookup"><span data-stu-id="25e8f-191">See gateway topics for more information.</span></span> 

1. <span data-ttu-id="25e8f-192">在 [閘道] 組態窗格中，選取**核取方塊**以啟用 [透過閘道連接]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-192">In the **Gateways** configuration pane, select **checkbox** to enable **Connect via gateway**.</span></span> <span data-ttu-id="25e8f-193">請注意從雲端至內部部署的設定變更。</span><span class="sxs-lookup"><span data-stu-id="25e8f-193">Notice that the settings change from cloud to on-premises.</span></span>
2. <span data-ttu-id="25e8f-194">以地址或別名冒號連接埠號碼的格式，輸入 [伺服器] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-194">Type value for **Server**, in the form of address or alias colon port number.</span></span> <span data-ttu-id="25e8f-195">例如，輸入 `ibmserver01:50000`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-195">For example, type `ibmserver01:50000`.</span></span>
3. <span data-ttu-id="25e8f-196">輸入 [資料庫] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-196">Type value for **Database**.</span></span> <span data-ttu-id="25e8f-197">例如，輸入 `nwind`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-197">For example, type `nwind`.</span></span>
4. <span data-ttu-id="25e8f-198">選取 [驗證] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-198">Select value for **Authentication**.</span></span> <span data-ttu-id="25e8f-199">例如，選取 [基本] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-199">For example, select **Basic**.</span></span>
5. <span data-ttu-id="25e8f-200">輸入 [使用者名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-200">Type value for **Username**.</span></span> <span data-ttu-id="25e8f-201">例如，輸入 `db2admin`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-201">For example, type `db2admin`.</span></span>
6. <span data-ttu-id="25e8f-202">輸入 [密碼] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-202">Type value for **Password**.</span></span> <span data-ttu-id="25e8f-203">例如，輸入 `Password1`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-203">For example, type `Password1`.</span></span>
7. <span data-ttu-id="25e8f-204">選取 [閘道] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-204">Select value for **Gateway**.</span></span> <span data-ttu-id="25e8f-205">例如，選取 [datagateway01] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-205">For example, select **datagateway01**.</span></span>
8. <span data-ttu-id="25e8f-206">選取 [建立]  繼續作業。</span><span class="sxs-lookup"><span data-stu-id="25e8f-206">Select **Create** to continue.</span></span> 
   
    ![](./media/connectors-create-api-db2/Db2connectorOnPremisesDataGatewayConnection.png)

## <a name="create-the-cloud-connection"></a><span data-ttu-id="25e8f-207">建立雲端連線</span><span class="sxs-lookup"><span data-stu-id="25e8f-207">Create the cloud connection</span></span>
<span data-ttu-id="25e8f-208">此連接器可以存取雲端 DB2 資料庫。</span><span class="sxs-lookup"><span data-stu-id="25e8f-208">This connector can access a cloud DB2 database.</span></span> 

1. <span data-ttu-id="25e8f-209">在 [閘道] 組態窗格中，讓**核取方塊**停用 (取消選取) [透過閘道連接]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-209">In the **Gateways** configuration pane, leave the **checkbox** disabled (unclicked) **Connect via gateway**.</span></span> 
2. <span data-ttu-id="25e8f-210">輸入 [連線名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-210">Type value for **Connection name**.</span></span> <span data-ttu-id="25e8f-211">例如，輸入 `hisdemo2`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-211">For example, type `hisdemo2`.</span></span>
3. <span data-ttu-id="25e8f-212">以地址或別名冒號連接埠號碼的格式，輸入 [DB2 伺服器名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-212">Type value for **DB2 server name**, in the form of address or alias colon port number.</span></span> <span data-ttu-id="25e8f-213">例如，輸入 `hisdemo2.cloudapp.net:50000`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-213">For example, type `hisdemo2.cloudapp.net:50000`.</span></span>
4. <span data-ttu-id="25e8f-214">輸入 [DB2 資料庫名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-214">Type value for **DB2 database name**.</span></span> <span data-ttu-id="25e8f-215">例如，輸入 `nwind`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-215">For example, type `nwind`.</span></span>
5. <span data-ttu-id="25e8f-216">輸入 [使用者名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-216">Type value for **Username**.</span></span> <span data-ttu-id="25e8f-217">例如，輸入 `db2admin`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-217">For example, type `db2admin`.</span></span>
6. <span data-ttu-id="25e8f-218">輸入 [密碼] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-218">Type value for **Password**.</span></span> <span data-ttu-id="25e8f-219">例如，輸入 `Password1`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-219">For example, type `Password1`.</span></span>
7. <span data-ttu-id="25e8f-220">選取 [建立]  繼續作業。</span><span class="sxs-lookup"><span data-stu-id="25e8f-220">Select **Create** to continue.</span></span> 
   
    ![](./media/connectors-create-api-db2/Db2connectorCloudConnection.png)

## <a name="fetch-all-rows-using-select"></a><span data-ttu-id="25e8f-221">使用 SELECT 擷取所有資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-221">Fetch all rows using SELECT</span></span>
<span data-ttu-id="25e8f-222">您可以定義邏輯應用程式動作，擷取 DB2 資料表中的所有資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-222">You can define a logic app action to fetch all rows in a DB2 table.</span></span> <span data-ttu-id="25e8f-223">此動作會指示連接器來處理 DB2 SELECT 陳述式，如 `SELECT * FROM AREA`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-223">This instructs the connector to process a DB2 SELECT statement, such as `SELECT * FROM AREA`.</span></span>

### <a name="create-a-logic-app"></a><span data-ttu-id="25e8f-224">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="25e8f-224">Create a logic app</span></span>
1. <span data-ttu-id="25e8f-225">在 **Azure 開始面板**中，依序選取 **+** (加號)、[Web + 行動] 和 [邏輯應用程式]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-225">In the **Azure start board**, select **+** (plus sign), **Web + Mobile**, and then **Logic App**.</span></span>
2. <span data-ttu-id="25e8f-226">輸入 [名稱]，如 `Db2getRows`、**訂用帳戶**、**資源群組**、**位置**和 **App Service 方案**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-226">Enter the **Name**, such as `Db2getRows`, **Subscription**, **Resource group**, **Location**, and **App Service Plan**.</span></span> <span data-ttu-id="25e8f-227">選取 [釘選到儀表板]，然後選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-227">Select **Pin to dashboard**, and then select **Create**.</span></span>

### <a name="add-a-trigger-and-action"></a><span data-ttu-id="25e8f-228">新增觸發程序和動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-228">Add a trigger and action</span></span>
1. <span data-ttu-id="25e8f-229">在 [Logic Apps 設計工具] 中，在 [範本] 清單中選取 [空白 LogicApp]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-229">In the **Logic Apps Designer**, select **Blank LogicApp** in the **Templates** list.</span></span>
2. <span data-ttu-id="25e8f-230">在**觸發程序**清單中，選取 [週期性]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-230">In the **triggers** list, select **Recurrence**.</span></span> 
3. <span data-ttu-id="25e8f-231">在 [週期性] 觸發程序中，選取 [編輯]，選取 [頻率] 下拉式清單以選取 [天]，然後選取 [間隔] 以輸入 **7**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-231">In the **Recurrence** trigger, select **Edit**, select **Frequency** drop-down to select **Day**, and then select **Interval** to type **7**.</span></span> 
4. <span data-ttu-id="25e8f-232">選取 [+ 新增步驟] 方塊，然後再選取 [新增動作]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-232">Select the **+ New step** box, and then select **Add an action**.</span></span>
5. <span data-ttu-id="25e8f-233">在**動作**清單中，於 [搜尋更多動作] 編輯方塊中輸入 `db2`，然後選取 [DB2 - 取得資料列 (預覽)]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-233">In the **actions** list, type `db2` in the **Search for more actions** edit box, and then select **DB2 - Get rows (Preview)**.</span></span>
6. <span data-ttu-id="25e8f-234">在 [取得資料列 (預覽)] 動作中，選取 [變更連線]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-234">In the **Get rows (Preview)** action, select **Change connection**.</span></span>
7. <span data-ttu-id="25e8f-235">在 [連線] 組態窗格中，選取 [新建]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-235">In the **Connections** configuration pane, select **Create new**.</span></span> 
   
    ![](./media/connectors-create-api-db2/Db2connectorNewConnection.png)
8. <span data-ttu-id="25e8f-236">在 [閘道] 組態窗格中，讓**核取方塊**停用 (取消選取) [透過閘道連接]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-236">In the **Gateways** configuration pane, leave the **checkbox** disabled (unclicked) **Connect via gateway**.</span></span>
   
   * <span data-ttu-id="25e8f-237">輸入 [連線名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-237">Type value for **Connection name**.</span></span> <span data-ttu-id="25e8f-238">例如，輸入 `HISDEMO2`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-238">For example, type `HISDEMO2`.</span></span>
   * <span data-ttu-id="25e8f-239">以地址或別名冒號連接埠號碼的格式，輸入 [DB2 伺服器名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-239">Type value for **DB2 server name**, in the form of address or alias colon port number.</span></span> <span data-ttu-id="25e8f-240">例如，輸入 `HISDEMO2.cloudapp.net:50000`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-240">For example, type `HISDEMO2.cloudapp.net:50000`.</span></span>
   * <span data-ttu-id="25e8f-241">輸入 [DB2 資料庫名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-241">Type value for **DB2 database name**.</span></span> <span data-ttu-id="25e8f-242">例如，輸入 `NWIND`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-242">For example, type `NWIND`.</span></span>
   * <span data-ttu-id="25e8f-243">輸入 [使用者名稱] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-243">Type value for **Username**.</span></span> <span data-ttu-id="25e8f-244">例如，輸入 `db2admin`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-244">For example, type `db2admin`.</span></span>
   * <span data-ttu-id="25e8f-245">輸入 [密碼] 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-245">Type value for **Password**.</span></span> <span data-ttu-id="25e8f-246">例如，輸入 `Password1`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-246">For example, type `Password1`.</span></span>
9. <span data-ttu-id="25e8f-247">選取 [建立]  繼續作業。</span><span class="sxs-lookup"><span data-stu-id="25e8f-247">Select **Create** to continue.</span></span>
   
    ![](./media/connectors-create-api-db2/Db2connectorCloudConnection.png)
10. <span data-ttu-id="25e8f-248">在 [資料表名稱] 清單中，選取**向下箭號**，然後選取 [AREA]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-248">In the **Table name** list, select the **down arrow**, and then select **AREA**.</span></span>
11. <span data-ttu-id="25e8f-249">(選擇性) 選取 [顯示進階選項]  來指定查詢選項。</span><span class="sxs-lookup"><span data-stu-id="25e8f-249">Optionally, select **Show advanced options** to specify query options.</span></span>
12. <span data-ttu-id="25e8f-250">選取 [ **儲存**]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-250">Select **Save**.</span></span> 
    
    ![](./media/connectors-create-api-db2/Db2connectorGetRowsTableName.png)
13. <span data-ttu-id="25e8f-251">在 [Db2getRows] 刀鋒視窗中，於 [摘要] 之下的 [所有執行] 清單中，選取第一個列出的項目 (最近一次執行)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-251">In the **Db2getRows** blade, within the **All runs** list under **Summary**, select the first-listed item (most recent run).</span></span>
14. <span data-ttu-id="25e8f-252">在 [邏輯應用程式執行] 刀鋒視窗中，選取 [執行詳細資料]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-252">In the **Logic app run** blade, select **Run Details**.</span></span> <span data-ttu-id="25e8f-253">選取 [動作] 清單中的 [Get_rows]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-253">Within the **Action** list, select **Get_rows**.</span></span> <span data-ttu-id="25e8f-254">請查看 [狀態] 的值，應該是 [成功]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-254">See the value for **Status**, which should be **Succeeded**.</span></span> <span data-ttu-id="25e8f-255">選取 [輸入連結]  以檢視輸入。</span><span class="sxs-lookup"><span data-stu-id="25e8f-255">Select the **Inputs link** to view the inputs.</span></span> <span data-ttu-id="25e8f-256">選取 [輸出連結] 並檢視輸出，其中應包含資料列清單。</span><span class="sxs-lookup"><span data-stu-id="25e8f-256">Select the **Outputs link**, and view the outputs; which should include a list of rows.</span></span>
    
    ![](./media/connectors-create-api-db2/Db2connectorGetRowsOutputs.png)

## <a name="add-one-row-using-insert"></a><span data-ttu-id="25e8f-257">使用 INSERT 加入一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-257">Add one row using INSERT</span></span>
<span data-ttu-id="25e8f-258">您可以定義邏輯應用程式動作，在 DB2 資料表中新增資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-258">You can define a logic app action to add one row in a DB2 table.</span></span> <span data-ttu-id="25e8f-259">此動作會指示連接器來處理 DB2 INSERT 陳述式，如 `INSERT INTO AREA (AREAID, AREADESC, REGIONID) VALUES ('99999', 'Area 99999', 102)`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-259">This action instructs the connector to process a DB2 INSERT statement, such as `INSERT INTO AREA (AREAID, AREADESC, REGIONID) VALUES ('99999', 'Area 99999', 102)`.</span></span>

### <a name="create-a-logic-app"></a><span data-ttu-id="25e8f-260">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="25e8f-260">Create a logic app</span></span>
1. <span data-ttu-id="25e8f-261">在 **Azure 開始面板**中，依序選取 **+** (加號)、[Web + 行動] 和 [邏輯應用程式]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-261">In the **Azure start board**, select **+** (plus sign), **Web + Mobile**, and then **Logic App**.</span></span>
2. <span data-ttu-id="25e8f-262">輸入 [名稱]，如 `Db2insertRow`、**訂用帳戶**、**資源群組**、**位置**和 **App Service 方案**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-262">Enter the **Name**, such as `Db2insertRow`, **Subscription**, **Resource group**, **Location**, and **App Service Plan**.</span></span> <span data-ttu-id="25e8f-263">選取 [釘選到儀表板]，然後選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-263">Select **Pin to dashboard**, and then select **Create**.</span></span>

### <a name="add-a-trigger-and-action"></a><span data-ttu-id="25e8f-264">新增觸發程序和動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-264">Add a trigger and action</span></span>
1. <span data-ttu-id="25e8f-265">在 [Logic Apps 設計工具] 中，在 [範本] 清單中選取 [空白 LogicApp]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-265">In the **Logic Apps Designer**, select **Blank LogicApp** in the **Templates** list.</span></span>
2. <span data-ttu-id="25e8f-266">在**觸發程序**清單中，選取 [週期性]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-266">In the **triggers** list, select **Recurrence**.</span></span> 
3. <span data-ttu-id="25e8f-267">在 [週期性] 觸發程序中，選取 [編輯]，選取 [頻率] 下拉式清單以選取 [天]，然後選取 [間隔] 以輸入 **7**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-267">In the **Recurrence** trigger, select **Edit**, select **Frequency** drop-down to select **Day**, and then select **Interval** to type **7**.</span></span> 
4. <span data-ttu-id="25e8f-268">選取 [+ 新增步驟] 方塊，然後再選取 [新增動作]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-268">Select the **+ New step** box, and then select **Add an action**.</span></span>
5. <span data-ttu-id="25e8f-269">在**動作**清單中，於 [搜尋更多動作] 編輯方塊中輸入 **db2**，然後選取 [DB2 - 插入資料列 (預覽)]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-269">In the **actions** list, type **db2** in the **Search for more actions** edit box, and then select **DB2 - Insert row (Preview)**.</span></span>
6. <span data-ttu-id="25e8f-270">在 [DB2 - 插入資料列 (預覽)] 動作中，選取 [變更連線]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-270">In the **DB2 - Insert row (Preview)** action, select **Change connection**.</span></span> 
7. <span data-ttu-id="25e8f-271">在 [連線]  組態窗格中選取連線。</span><span class="sxs-lookup"><span data-stu-id="25e8f-271">In the **Connections** configuration pane, select a connection.</span></span> <span data-ttu-id="25e8f-272">例如，選取 [hisdemo2] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-272">For example, select **hisdemo2**.</span></span>
   
    ![](./media/connectors-create-api-db2/Db2connectorChangeConnection.png)
8. <span data-ttu-id="25e8f-273">在 [資料表名稱] 清單中，選取**向下箭號**，然後選取 [AREA]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-273">In the **Table name** list, select the **down arrow**, and then select **AREA**.</span></span>
9. <span data-ttu-id="25e8f-274">輸入所有必要資料行 (請見紅色星號) 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-274">Enter values for all required columns (see red asterisk).</span></span> <span data-ttu-id="25e8f-275">例如，針對 [AREAID] 輸入 `99999`、輸入 `Area 99999`，以及針對 [REGIONID] 輸入 `102`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-275">For example, type `99999` for **AREAID**, type `Area 99999`, and type `102` for **REGIONID**.</span></span> 
10. <span data-ttu-id="25e8f-276">選取 [ **儲存**]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-276">Select **Save**.</span></span>
    
    ![](./media/connectors-create-api-db2/Db2connectorInsertRowValues.png)
11. <span data-ttu-id="25e8f-277">在 [Db2insertRow] 刀鋒視窗中，於 [摘要] 之下的 [所有執行] 清單中，選取第一個列出的項目 (最近一次執行)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-277">In the **Db2insertRow** blade, within the **All runs** list under **Summary**, select the first-listed item (most recent run).</span></span>
12. <span data-ttu-id="25e8f-278">在 [邏輯應用程式執行] 刀鋒視窗中，選取 [執行詳細資料]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-278">In the **Logic app run** blade, select **Run Details**.</span></span> <span data-ttu-id="25e8f-279">選取 [動作] 清單中的 [Get_rows]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-279">Within the **Action** list, select **Get_rows**.</span></span> <span data-ttu-id="25e8f-280">請查看 [狀態] 的值，應該是 [成功]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-280">See the value for **Status**, which should be **Succeeded**.</span></span> <span data-ttu-id="25e8f-281">選取 [輸入連結]  以檢視輸入。</span><span class="sxs-lookup"><span data-stu-id="25e8f-281">Select the **Inputs link** to view the inputs.</span></span> <span data-ttu-id="25e8f-282">選取 [輸出連結] 並檢視輸出，其中應包含新資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-282">Select the **Outputs link**, and view the outputs; which should include the new row.</span></span>
    
    ![](./media/connectors-create-api-db2/Db2connectorInsertRowOutputs.png)

## <a name="fetch-one-row-using-select"></a><span data-ttu-id="25e8f-283">使用 SELECT 擷取一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-283">Fetch one row using SELECT</span></span>
<span data-ttu-id="25e8f-284">您可以定義邏輯應用程式動作，擷取 DB2 資料表中的資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-284">You can define a logic app action to fetch one row in a DB2 table.</span></span> <span data-ttu-id="25e8f-285">此動作會指示連接器來處理 DB2 SELECT WHERE 陳述式，如 `SELECT FROM AREA WHERE AREAID = '99999'`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-285">This action instructs the connector to process a DB2 SELECT WHERE statement, such as `SELECT FROM AREA WHERE AREAID = '99999'`.</span></span>

### <a name="create-a-logic-app"></a><span data-ttu-id="25e8f-286">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="25e8f-286">Create a logic app</span></span>
1. <span data-ttu-id="25e8f-287">在 **Azure 開始面板**中，依序選取 **+** (加號)、[Web + 行動] 和 [邏輯應用程式]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-287">In the **Azure start board**, select **+** (plus sign), **Web + Mobile**, and then **Logic App**.</span></span>
2. <span data-ttu-id="25e8f-288">輸入**名稱** (例如"**Db2getRow**")、[訂用帳戶]、[資源群組]、[位置] 和 [App Service 方案]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-288">Enter the **Name** (e.g. "**Db2getRow**"), **Subscription**, **Resource group**, **Location**, and **App Service Plan**.</span></span> <span data-ttu-id="25e8f-289">選取 [釘選到儀表板]，然後選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-289">Select **Pin to dashboard**, and then select **Create**.</span></span>

### <a name="add-a-trigger-and-action"></a><span data-ttu-id="25e8f-290">新增觸發程序和動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-290">Add a trigger and action</span></span>
1. <span data-ttu-id="25e8f-291">在 [Logic Apps 設計工具] 中，在 [範本] 清單中選取 [空白 LogicApp]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-291">In the **Logic Apps Designer**, select **Blank LogicApp** in the **Templates** list.</span></span> 
2. <span data-ttu-id="25e8f-292">在**觸發程序**清單中，選取 [週期性]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-292">In the **triggers** list, select **Recurrence**.</span></span> 
3. <span data-ttu-id="25e8f-293">在 [週期性] 觸發程序中，選取 [編輯]，選取 [頻率] 下拉式清單以選取 [天]，然後選取 [間隔] 以輸入 **7**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-293">In the **Recurrence** trigger, select **Edit**, select **Frequency** drop-down to select **Day**, and then select **Interval** to type **7**.</span></span> 
4. <span data-ttu-id="25e8f-294">選取 [+ 新增步驟] 方塊，然後再選取 [新增動作]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-294">Select the **+ New step** box, and then select **Add an action**.</span></span>
5. <span data-ttu-id="25e8f-295">在**動作**清單中，於 [搜尋更多動作] 編輯方塊中輸入 **db2**，然後選取 [DB2 - 取得資料列 (預覽)]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-295">In the **actions** list, type **db2** in the **Search for more actions** edit box, and then select **DB2 - Get rows (Preview)**.</span></span>
6. <span data-ttu-id="25e8f-296">在 [取得資料列 (預覽)] 動作中，選取 [變更連線]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-296">In the **Get rows (Preview)** action, select **Change connection**.</span></span> 
7. <span data-ttu-id="25e8f-297">在 [連線]  組態窗格中選取現有連線。</span><span class="sxs-lookup"><span data-stu-id="25e8f-297">In the **Connections** configurations pane, select an existing connection.</span></span> <span data-ttu-id="25e8f-298">例如，選取 [hisdemo2] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-298">For example, select **hisdemo2**.</span></span>
   
    ![](./media/connectors-create-api-db2/Db2connectorChangeConnection.png)
8. <span data-ttu-id="25e8f-299">在 [資料表名稱] 清單中，選取**向下箭號**，然後選取 [AREA]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-299">In the **Table name** list, select the **down arrow**, and then select **AREA**.</span></span>
9. <span data-ttu-id="25e8f-300">輸入所有必要資料行 (請見紅色星號) 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-300">Enter values for all required columns (see red asterisk).</span></span> <span data-ttu-id="25e8f-301">例如，針對 [AREAID] 輸入 `99999`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-301">For example, type `99999` for **AREAID**.</span></span> 
10. <span data-ttu-id="25e8f-302">(選擇性) 選取 [顯示進階選項]  來指定查詢選項。</span><span class="sxs-lookup"><span data-stu-id="25e8f-302">Optionally, select **Show advanced options** to specify query options.</span></span>
11. <span data-ttu-id="25e8f-303">選取 [ **儲存**]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-303">Select **Save**.</span></span> 
    
    ![](./media/connectors-create-api-db2/Db2connectorGetRowValues.png)
12. <span data-ttu-id="25e8f-304">在 [Db2getRow] 刀鋒視窗中，於 [摘要] 之下的 [所有執行] 清單中，選取第一個列出的項目 (最近一次執行)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-304">In the **Db2getRow** blade, within the **All runs** list under **Summary**, select the first-listed item (most recent run).</span></span>
13. <span data-ttu-id="25e8f-305">在 [邏輯應用程式執行] 刀鋒視窗中，選取 [執行詳細資料]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-305">In the **Logic app run** blade, select **Run Details**.</span></span> <span data-ttu-id="25e8f-306">選取 [動作] 清單中的 [Get_rows]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-306">Within the **Action** list, select **Get_rows**.</span></span> <span data-ttu-id="25e8f-307">請查看 [狀態] 的值，應該是 [成功]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-307">See the value for **Status**, which should be **Succeeded**.</span></span> <span data-ttu-id="25e8f-308">選取 [輸入連結]  以檢視輸入。</span><span class="sxs-lookup"><span data-stu-id="25e8f-308">Select the **Inputs link** to view the inputs.</span></span> <span data-ttu-id="25e8f-309">選取 [輸出連結] 並檢視輸出，其中應包含資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-309">Select the **Outputs link**, and view the outputs; which should include row.</span></span>
    
    ![](./media/connectors-create-api-db2/Db2connectorGetRowOutputs.png)

## <a name="change-one-row-using-update"></a><span data-ttu-id="25e8f-310">使用 UPDATE 變更資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-310">Change one row using UPDATE</span></span>
<span data-ttu-id="25e8f-311">您可以定義邏輯應用程式動作，變更 DB2 資料表中的資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-311">You can define a logic app action to change one row in a DB2 table.</span></span> <span data-ttu-id="25e8f-312">此動作會指示連接器來處理 DB2 UPDATE 陳述式，如 `UPDATE AREA SET AREAID = '99999', AREADESC = 'Area 99999', REGIONID = 102)`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-312">This action instructs the connector to process a DB2 UPDATE statement, such as `UPDATE AREA SET AREAID = '99999', AREADESC = 'Area 99999', REGIONID = 102)`.</span></span>

### <a name="create-a-logic-app"></a><span data-ttu-id="25e8f-313">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="25e8f-313">Create a logic app</span></span>
1. <span data-ttu-id="25e8f-314">在 **Azure 開始面板**中，依序選取 **+** (加號)、[Web + 行動] 和 [邏輯應用程式]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-314">In the **Azure start board**, select **+** (plus sign), **Web + Mobile**, and then **Logic App**.</span></span>
2. <span data-ttu-id="25e8f-315">輸入 [名稱]，如 `Db2updateRow`、**訂用帳戶**、**資源群組**、**位置**和 **App Service 方案**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-315">Enter the **Name**, such as `Db2updateRow`, **Subscription**, **Resource group**, **Location**, and **App Service Plan**.</span></span> <span data-ttu-id="25e8f-316">選取 [釘選到儀表板]，然後選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-316">Select **Pin to dashboard**, and then select **Create**.</span></span>

### <a name="add-a-trigger-and-action"></a><span data-ttu-id="25e8f-317">新增觸發程序和動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-317">Add a trigger and action</span></span>
1. <span data-ttu-id="25e8f-318">在 [Logic Apps 設計工具] 中，在 [範本] 清單中選取 [空白 LogicApp]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-318">In the **Logic Apps Designer**, select **Blank LogicApp** in the **Templates** list.</span></span>
2. <span data-ttu-id="25e8f-319">在**觸發程序**清單中，選取 [週期性]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-319">In the **triggers** list, select **Recurrence**.</span></span> 
3. <span data-ttu-id="25e8f-320">在 [週期性] 觸發程序中，選取 [編輯]，選取 [頻率] 下拉式清單以選取 [天]，然後選取 [間隔] 以輸入 **7**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-320">In the **Recurrence** trigger, select **Edit**, select **Frequency** drop-down to select **Day**, and then select **Interval** to type **7**.</span></span> 
4. <span data-ttu-id="25e8f-321">選取 [+ 新增步驟] 方塊，然後再選取 [新增動作]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-321">Select the **+ New step** box, and then select **Add an action**.</span></span>
5. <span data-ttu-id="25e8f-322">在**動作**清單中，於 [搜尋更多動作] 編輯方塊中輸入 **db2**，然後選取 [DB2 - 更新資料列 (預覽)]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-322">In the **actions** list, type **db2** in the **Search for more actions** edit box, and then select **DB2 - Update row (Preview)**.</span></span>
6. <span data-ttu-id="25e8f-323">在 [DB2 - 更新資料列 (預覽)] 動作中，選取 [變更連線]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-323">In the **DB2 - Update row (Preview)** action, select **Change connection**.</span></span> 
7. <span data-ttu-id="25e8f-324">在 [連線]  組態窗格中，選取以選取現有連線。</span><span class="sxs-lookup"><span data-stu-id="25e8f-324">In the **Connections** configurations pane, select to select an existing connection.</span></span> <span data-ttu-id="25e8f-325">例如，選取 [hisdemo2] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-325">For example, select **hisdemo2**.</span></span>
   
    ![](./media/connectors-create-api-db2/Db2connectorChangeConnection.png)
8. <span data-ttu-id="25e8f-326">在 [資料表名稱] 清單中，選取**向下箭號**，然後選取 [AREA]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-326">In the **Table name** list, select the **down arrow**, and then select **AREA**.</span></span>
9. <span data-ttu-id="25e8f-327">輸入所有必要資料行 (請見紅色星號) 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-327">Enter values for all required columns (see red asterisk).</span></span> <span data-ttu-id="25e8f-328">例如，針對 [AREAID] 輸入 `99999`、輸入 `Updated 99999`，以及針對 [REGIONID] 輸入 `102`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-328">For example, type `99999` for **AREAID**, type `Updated 99999`, and type `102` for **REGIONID**.</span></span> 
10. <span data-ttu-id="25e8f-329">選取 [ **儲存**]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-329">Select **Save**.</span></span> 
    
    ![](./media/connectors-create-api-db2/Db2connectorUpdateRowValues.png)
11. <span data-ttu-id="25e8f-330">在 [Db2updateRow] 刀鋒視窗中，於 [摘要] 之下的 [所有執行] 清單中，選取第一個列出的項目 (最近一次執行)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-330">In the **Db2updateRow** blade, within the **All runs** list under **Summary**, select the first-listed item (most recent run).</span></span>
12. <span data-ttu-id="25e8f-331">在 [邏輯應用程式執行] 刀鋒視窗中，選取 [執行詳細資料]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-331">In the **Logic app run** blade, select **Run Details**.</span></span> <span data-ttu-id="25e8f-332">選取 [動作] 清單中的 [Get_rows]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-332">Within the **Action** list, select **Get_rows**.</span></span> <span data-ttu-id="25e8f-333">請查看 [狀態] 的值，應該是 [成功]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-333">See the value for **Status**, which should be **Succeeded**.</span></span> <span data-ttu-id="25e8f-334">選取 [輸入連結]  以檢視輸入。</span><span class="sxs-lookup"><span data-stu-id="25e8f-334">Select the **Inputs link** to view the inputs.</span></span> <span data-ttu-id="25e8f-335">選取 [輸出連結] 並檢視輸出，其中應包含新資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-335">Select the **Outputs link**, and view the outputs; which should include the new row.</span></span>
    
    ![](./media/connectors-create-api-db2/Db2connectorUpdateRowOutputs.png)

## <a name="remove-one-row-using-delete"></a><span data-ttu-id="25e8f-336">使用 DELETE 移除一個資料列</span><span class="sxs-lookup"><span data-stu-id="25e8f-336">Remove one row using DELETE</span></span>
<span data-ttu-id="25e8f-337">您可以定義邏輯應用程式動作，移除 DB2 資料表中的資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-337">You can define a logic app action to remove one row in a DB2 table.</span></span> <span data-ttu-id="25e8f-338">此動作會指示連接器來處理 DB2 DELETE 陳述式，如 `DELETE FROM AREA WHERE AREAID = '99999'`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-338">This action instructs the connector to process a DB2 DELETE statement, such as `DELETE FROM AREA WHERE AREAID = '99999'`.</span></span>

### <a name="create-a-logic-app"></a><span data-ttu-id="25e8f-339">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="25e8f-339">Create a logic app</span></span>
1. <span data-ttu-id="25e8f-340">在 **Azure 開始面板**中，依序選取 **+** (加號)、[Web + 行動] 和 [邏輯應用程式]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-340">In the **Azure start board**, select **+** (plus sign), **Web + Mobile**, and then **Logic App**.</span></span>
2. <span data-ttu-id="25e8f-341">輸入 [名稱]，如 `Db2deleteRow`、**訂用帳戶**、**資源群組**、**位置**和 **App Service 方案**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-341">Enter the **Name**, such as `Db2deleteRow`, **Subscription**, **Resource group**, **Location**, and **App Service Plan**.</span></span> <span data-ttu-id="25e8f-342">選取 [釘選到儀表板]，然後選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-342">Select **Pin to dashboard**, and then select **Create**.</span></span>

### <a name="add-a-trigger-and-action"></a><span data-ttu-id="25e8f-343">新增觸發程序和動作</span><span class="sxs-lookup"><span data-stu-id="25e8f-343">Add a trigger and action</span></span>
1. <span data-ttu-id="25e8f-344">在 [Logic Apps 設計工具] 中，在 [範本] 清單中選取 [空白 LogicApp]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-344">In the **Logic Apps Designer**, select **Blank LogicApp** in the **Templates** list.</span></span> 
2. <span data-ttu-id="25e8f-345">在**觸發程序**清單中，選取 [週期性]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-345">In the **triggers** list, select **Recurrence**.</span></span> 
3. <span data-ttu-id="25e8f-346">在 [週期性] 觸發程序中，選取 [編輯]，選取 [頻率] 下拉式清單以選取 [天]，然後選取 [間隔] 以輸入 **7**。</span><span class="sxs-lookup"><span data-stu-id="25e8f-346">In the **Recurrence** trigger, select **Edit**, select **Frequency** drop-down to select **Day**, and then select **Interval** to type **7**.</span></span> 
4. <span data-ttu-id="25e8f-347">選取 [+ 新增步驟] 方塊，然後再選取 [新增動作]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-347">Select the **+ New step** box, and then select **Add an action**.</span></span>
5. <span data-ttu-id="25e8f-348">在**動作**清單中，於 [搜尋更多動作] 編輯方塊中選取 [db2]，然後選取 [DB2 - 刪除資料列 (預覽)]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-348">In the **actions** list, select **db2** in the **Search for more actions** edit box, and then select **DB2 - Delete row (Preview)**.</span></span>
6. <span data-ttu-id="25e8f-349">在 [DB2 - 刪除資料列 (預覽)] 動作中，選取 [變更連線]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-349">In the **DB2 - Delete row (Preview)** action, select **Change connection**.</span></span> 
7. <span data-ttu-id="25e8f-350">在 [連線]  組態窗格中選取現有連線。</span><span class="sxs-lookup"><span data-stu-id="25e8f-350">In the **Connections** configurations pane, select an existing connection.</span></span> <span data-ttu-id="25e8f-351">例如，選取 [hisdemo2] 。</span><span class="sxs-lookup"><span data-stu-id="25e8f-351">For example, select **hisdemo2**.</span></span>
   
    ![](./media/connectors-create-api-db2/Db2connectorChangeConnection.png)
8. <span data-ttu-id="25e8f-352">在 [資料表名稱] 清單中，選取**向下箭號**，然後選取 [AREA]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-352">In the **Table name** list, select the **down arrow**, and then select **AREA**.</span></span>
9. <span data-ttu-id="25e8f-353">輸入所有必要資料行 (請見紅色星號) 的值。</span><span class="sxs-lookup"><span data-stu-id="25e8f-353">Enter values for all required columns (see red asterisk).</span></span> <span data-ttu-id="25e8f-354">例如，針對 [AREAID] 輸入 `99999`。</span><span class="sxs-lookup"><span data-stu-id="25e8f-354">For example, type `99999` for **AREAID**.</span></span> 
10. <span data-ttu-id="25e8f-355">選取 [ **儲存**]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-355">Select **Save**.</span></span> 
    
    ![](./media/connectors-create-api-db2/Db2connectorDeleteRowValues.png)
11. <span data-ttu-id="25e8f-356">在 [Db2deleteRow] 刀鋒視窗中，於 [摘要] 之下的 [所有執行] 清單中，選取第一個列出的項目 (最近一次執行)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-356">In the **Db2deleteRow** blade, within the **All runs** list under **Summary**, select the first-listed item (most recent run).</span></span>
12. <span data-ttu-id="25e8f-357">在 [邏輯應用程式執行] 刀鋒視窗中，選取 [執行詳細資料]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-357">In the **Logic app run** blade, select **Run Details**.</span></span> <span data-ttu-id="25e8f-358">選取 [動作] 清單中的 [Get_rows]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-358">Within the **Action** list, select **Get_rows**.</span></span> <span data-ttu-id="25e8f-359">請查看 [狀態] 的值，應該是 [成功]。</span><span class="sxs-lookup"><span data-stu-id="25e8f-359">See the value for **Status**, which should be **Succeeded**.</span></span> <span data-ttu-id="25e8f-360">選取 [輸入連結]  以檢視輸入。</span><span class="sxs-lookup"><span data-stu-id="25e8f-360">Select the **Inputs link** to view the inputs.</span></span> <span data-ttu-id="25e8f-361">選取 [輸出連結] 並檢視輸出，其中應包含刪除的資料列。</span><span class="sxs-lookup"><span data-stu-id="25e8f-361">Select the **Outputs link**, and view the outputs; which should include the deleted row.</span></span>
    
    ![](./media/connectors-create-api-db2/Db2connectorDeleteRowOutputs.png)

## <a name="supported-db2-platforms-and-versions"></a><span data-ttu-id="25e8f-362">支援的 DB2 平台和版本</span><span class="sxs-lookup"><span data-stu-id="25e8f-362">Supported DB2 platforms and versions</span></span>
<span data-ttu-id="25e8f-363">此連接器支援以下 IBM DB2 平台和版本，以及 IBM DB2 相容產品 (例如 IBM Bluemix dashDB)，而這些產品支援分散式關聯資料庫架構 (DRDA) SQL 存取管理員 (SQLAM) 版本 10 和 11：</span><span class="sxs-lookup"><span data-stu-id="25e8f-363">This connector supports the following IBM DB2 platforms and versions, as well as IBM DB2 compatible products (e.g. IBM Bluemix dashDB) that support Distributed Relational Database Architecture (DRDA) SQL Access Manager (SQLAM) version 10 and 11:</span></span>

* <span data-ttu-id="25e8f-364">IBM DB2 for z/OS 11.1</span><span class="sxs-lookup"><span data-stu-id="25e8f-364">IBM DB2 for z/OS 11.1</span></span>
* <span data-ttu-id="25e8f-365">IBM DB2 for z/OS 10.1</span><span class="sxs-lookup"><span data-stu-id="25e8f-365">IBM DB2 for z/OS 10.1</span></span>
* <span data-ttu-id="25e8f-366">IBM DB2 for i 7.3</span><span class="sxs-lookup"><span data-stu-id="25e8f-366">IBM DB2 for i 7.3</span></span>
* <span data-ttu-id="25e8f-367">IBM DB2 for i 7.2</span><span class="sxs-lookup"><span data-stu-id="25e8f-367">IBM DB2 for i 7.2</span></span>
* <span data-ttu-id="25e8f-368">IBM DB2 for i 7.1</span><span class="sxs-lookup"><span data-stu-id="25e8f-368">IBM DB2 for i 7.1</span></span>
* <span data-ttu-id="25e8f-369">IBM DB2 for LUW 11</span><span class="sxs-lookup"><span data-stu-id="25e8f-369">IBM DB2 for LUW 11</span></span>
* <span data-ttu-id="25e8f-370">IBM DB2 for LUW 10.5</span><span class="sxs-lookup"><span data-stu-id="25e8f-370">IBM DB2 for LUW 10.5</span></span>

## <a name="connector-specific-details"></a><span data-ttu-id="25e8f-371">連接器特定的詳細資料</span><span class="sxs-lookup"><span data-stu-id="25e8f-371">Connector-specific details</span></span>

<span data-ttu-id="25e8f-372">檢視 Swagger 中定義的任何觸發程序和動作，另請參閱[連接器詳細資料](/connectors/db2/)的所有限制。</span><span class="sxs-lookup"><span data-stu-id="25e8f-372">View any triggers and actions defined in the swagger, and also see any limits in the [connector details](/connectors/db2/).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="25e8f-373">後續步驟</span><span class="sxs-lookup"><span data-stu-id="25e8f-373">Next steps</span></span>
<span data-ttu-id="25e8f-374">[建立邏輯應用程式](../logic-apps/logic-apps-create-a-logic-app.md)。</span><span class="sxs-lookup"><span data-stu-id="25e8f-374">[Create a logic app](../logic-apps/logic-apps-create-a-logic-app.md).</span></span> <span data-ttu-id="25e8f-375">請到我們的 [API 清單](apis-list.md)探索 Logic Apps 中其他可用的連接器。</span><span class="sxs-lookup"><span data-stu-id="25e8f-375">Explore the other available connectors in Logic Apps at our [APIs list](apis-list.md).</span></span>

