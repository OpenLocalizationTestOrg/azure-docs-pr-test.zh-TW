---
title: "Azure 雲端服務和虛擬機器診斷 aaaConfiguring |Microsoft 文件"
description: "描述如何偵錯 Azure 雲端服務和 Visual Studio 中的虛擬機器 (Vm) tooconfigure 診斷資訊。"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 74cdf49413d6d89a84195070dd9d817da2463373
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="5ca78-103">為 Azure 雲端服務和虛擬機器設定診斷功能</span><span class="sxs-lookup"><span data-stu-id="5ca78-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="5ca78-104">當您需要 tootroubleshoot Azure 雲端服務或 Azure 虛擬機器時，您可以使用 Visual Studio 更輕鬆地設定 Azure 診斷。</span><span class="sxs-lookup"><span data-stu-id="5ca78-104">When you need tootroubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="5ca78-105">Azure 診斷會擷取系統資料和記錄資料 hello 虛擬機器和執行雲端服務的虛擬機器執行個體，並將該資料傳送到您選擇的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-105">Azure diagnostics captures system data and logging data on hello virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="5ca78-106">如需有關 Azure 中診斷記錄的詳細資訊，請參閱 [在 Azure App Service 中針對 Web 應用程式啟用診斷記錄功能](app-service-web/web-sites-enable-diagnostic-log.md)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="5ca78-107">本主題說明如何 tooenable 和設定 Azure 診斷，在 Visual Studio 中之前和之後部署，以及 Azure 虛擬機器中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-107">This topic shows you how tooenable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="5ca78-108">它也將示範如何 tooselect hello 類型的診斷資訊 toocollect 和如何收集 tooview hello 資訊之後。</span><span class="sxs-lookup"><span data-stu-id="5ca78-108">It also shows you how tooselect hello types of diagnostics information toocollect and how tooview hello information after it's collected.</span></span>

<span data-ttu-id="5ca78-109">您可以在 hello 下列方式設定 Azure 診斷：</span><span class="sxs-lookup"><span data-stu-id="5ca78-109">You can configure Azure Diagnostics in hello following ways:</span></span>

* <span data-ttu-id="5ca78-110">您可以變更診斷組態設定，透過 hello**診斷組態**Visual Studio 中的對話方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-110">You can change diagnostics configuration settings through hello **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="5ca78-111">hello 設定會儲存在稱為 diagnostics.wadcfgx (diagnostics.wadcfg 在 Azure SDK 2.4 或更早版本) 的檔案。</span><span class="sxs-lookup"><span data-stu-id="5ca78-111">hello settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="5ca78-112">或者，您可以直接修改 hello 設定檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-112">Alternatively, you can directly modify hello configuration file.</span></span> <span data-ttu-id="5ca78-113">如果您手動更新 hello 檔案，hello 組態變更才會生效 hello 您 hello 雲端服務 tooAzure 或 hello 模擬器中執行的 hello 服務部署的下一次。</span><span class="sxs-lookup"><span data-stu-id="5ca78-113">If you manually update hello file, hello configuration changes will take effect hello next time you deploy hello cloud service tooAzure or run hello service in hello emulator.</span></span>
* <span data-ttu-id="5ca78-114">使用**Cloud Explorer**或**伺服器總管**在 Visual Studio toochange hello 的執行中雲端服務或虛擬機器的診斷設定。</span><span class="sxs-lookup"><span data-stu-id="5ca78-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio toochange hello diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="5ca78-115">Azure 2.6 診斷變更</span><span class="sxs-lookup"><span data-stu-id="5ca78-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="5ca78-116">Visual Studio 中的 Azure SDK 2.6 專案，進行下列變更 hello。</span><span class="sxs-lookup"><span data-stu-id="5ca78-116">For Azure SDK 2.6 projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="5ca78-117">（這些變更也適用於 Azure SDK toolater 版本。）</span><span class="sxs-lookup"><span data-stu-id="5ca78-117">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="5ca78-118">hello 本機模擬器現在支援診斷。</span><span class="sxs-lookup"><span data-stu-id="5ca78-118">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="5ca78-119">這表示您可以收集診斷資料，並確認您的應用程式會建立 hello 正確的追蹤時您正在開發和測試 Visual Studio 中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-119">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="5ca78-120">hello 連接字串`UseDevelopmentStorage=true`時，您在 Visual Studio 中執行雲端服務專案，使用 hello Azure 儲存體模擬器，請啟用收集診斷資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-120">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="5ca78-121">所有診斷資料都收集 hello （開發儲存體） 儲存體帳戶中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-121">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="5ca78-122">hello 診斷儲存體帳戶連接字串 (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) 再一次儲存 hello 服務組態 (.cscfg) 檔中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-122">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="5ca78-123">在 Azure SDK 2.5 hello 診斷儲存體帳戶指定 hello diagnostics.wadcfgx 檔案中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-123">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="5ca78-124">有一些值得注意的差異之間 hello 連接字串已在 Azure SDK 2.4 及更早版本的運作，而且在 Azure SDK 2.6 和更新版本，它的運作方式。</span><span class="sxs-lookup"><span data-stu-id="5ca78-124">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="5ca78-125">在 Azure SDK 2.4 及更早版本，hello 已使用的連接字串做為執行階段 hello 診斷外掛程式 tooget hello 儲存體帳戶資訊的傳輸診斷記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-125">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="5ca78-126">在 Azure SDK 2.6 和更新版本，hello 診斷連接字串使用 Visual Studio tooconfigure hello 診斷延伸模組以在發行期間的 hello 適當的儲存體帳戶資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-126">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="5ca78-127">hello 連接字串可讓您定義不同的服務組態，Visual Studio 在發行時使用不同的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-127">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="5ca78-128">不過，因為 （在 Azure SDK 2.5) 已無法再使用 hello 診斷外掛程式，hello.cscfg 檔案本身無法啟用 hello 診斷延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5ca78-128">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="5ca78-129">您有透過 Visual Studio 或 PowerShell 之類的工具來分別 tooenable hello 延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5ca78-129">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="5ca78-130">toosimplify hello 程序使用 PowerShell 設定 hello 診斷延伸模組，從 Visual Studio 的 hello 封裝輸出也包含 hello 公用組態 XML，每個角色的 hello 診斷延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5ca78-130">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="5ca78-131">Visual Studio 使用 hello 診斷連接字串 toopopulate hello 儲存體帳戶資訊出現在 hello 公用組態。</span><span class="sxs-lookup"><span data-stu-id="5ca78-131">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="5ca78-132">hello 公用組態檔 hello 擴充功能 資料夾中建立，並遵循 Paasdiagnostics.<rolename>.pubconfig.xml 的 hello 模式。&lt;RoleName >。模式。</span><span class="sxs-lookup"><span data-stu-id="5ca78-132">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="5ca78-133">任何 PowerShell 部署可以使用此模式 toomap 每個組態 tooa 角色。</span><span class="sxs-lookup"><span data-stu-id="5ca78-133">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="5ca78-134">hello hello.cscfg 檔案中的連接字串也會使用 hello [Azure 入口網站](http://go.microsoft.com/fwlink/p/?LinkID=525040)tooaccess hello 診斷資料，所以可以顯示在 hello**監視**需要索引 hello 連接字串tooconfigure hello 服務 tooshow 詳細資訊監視 hello 入口網站中的資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-134">hello connection string in hello .cscfg file is also used by hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

## <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="5ca78-135">移轉專案 tooAzure SDK 2.6 和更新版本</span><span class="sxs-lookup"><span data-stu-id="5ca78-135">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="5ca78-136">當移轉從 Azure SDK 2.5 tooAzure SDK 2.6 或更新版本，如果您在診斷儲存體帳戶，指定在 hello.wadcfgx 檔案中，然後它會留在那裡。</span><span class="sxs-lookup"><span data-stu-id="5ca78-136">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="5ca78-137">tootake 優點 hello 彈性使用不同的儲存體帳戶的不同存放裝置組態，您必須加入 hello 連接字串 tooyour 專案 toomanually。</span><span class="sxs-lookup"><span data-stu-id="5ca78-137">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="5ca78-138">如果您從 Azure SDK 2.4 或較早 tooAzure SDK 2.6 移轉專案，然後 hello 的診斷連接字串會保留。</span><span class="sxs-lookup"><span data-stu-id="5ca78-138">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="5ca78-139">不過，請注意 hello 變更連接字串中的處理方式在 Azure SDK 2.6 中所述的 hello 上一節。</span><span class="sxs-lookup"><span data-stu-id="5ca78-139">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="5ca78-140">Visual Studio 如何決定 hello 診斷儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="5ca78-140">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="5ca78-141">如果 hello.cscfg 檔案中指定診斷連接字串，Visual Studio 會使用 tooconfigure hello 診斷擴充功能發行時，並在封裝期間產生 hello 公用組態 xml 檔案時。</span><span class="sxs-lookup"><span data-stu-id="5ca78-141">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="5ca78-142">如果 hello.cscfg 檔案中不指定任何診斷連接字串，然後 Visual Studio 會回復指定 hello.wadcfgx 檔案 tooconfigure hello 診斷擴充功能發行時及產生 hello 公用 toousing hello 儲存體帳戶設定 xml 檔案封裝時。</span><span class="sxs-lookup"><span data-stu-id="5ca78-142">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="5ca78-143">hello.cscfg 檔案中的 hello 診斷連接字串的優先順序高於 hello hello.wadcfgx 檔案中的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-143">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="5ca78-144">如果診斷連接字串 hello.cscfg 檔案中指定然後 Visual Studio 會使用，並忽略.wadcfgx 中的 hello 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-144">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="5ca78-145">功能沒有 hello 「 更新開發儲存體連接字串...」</span><span class="sxs-lookup"><span data-stu-id="5ca78-145">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="5ca78-146">作用為何？</span><span class="sxs-lookup"><span data-stu-id="5ca78-146">checkbox do?</span></span>
<span data-ttu-id="5ca78-147">hello 核取方塊**更新開發儲存體連接字串以供診斷和快取，使用 Microsoft Azure 儲存體帳戶認證發行 tooMicrosoft Azure 時**可讓您方便 tooupdate 任何開發儲存體帳戶連接字串與 hello 發行期間指定的 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-147">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="5ca78-148">例如，假設您選取此核取方塊並 hello 診斷連接字串指定`UseDevelopmentStorage=true`。</span><span class="sxs-lookup"><span data-stu-id="5ca78-148">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="5ca78-149">當您發行 hello 專案 tooAzure 時，Visual Studio 會自動更新 hello 診斷連接字串與 hello hello 發行精靈中指定的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-149">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="5ca78-150">不過，如果實際的儲存體帳戶指定為 hello 診斷連接字串，然後該帳戶改用。</span><span class="sxs-lookup"><span data-stu-id="5ca78-150">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="5ca78-151">Azure SDK 2.4 及更舊版本和 Azure SDK 2.5 及更新版本之間的診斷功能差異</span><span class="sxs-lookup"><span data-stu-id="5ca78-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="5ca78-152">如果您要升級您的專案，從 Azure SDK 2.4 tooAzure SDK 2.5 或更新版本，您應該謹記在心 hello 下列診斷功能差異。</span><span class="sxs-lookup"><span data-stu-id="5ca78-152">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="5ca78-153">**組態 API 已被取代** – 診斷的程式設計組態可在 Azure SDK 2.4 或更舊版本中使用，但在 Azure SDK 2.5 及更新版本中已被取代。</span><span class="sxs-lookup"><span data-stu-id="5ca78-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="5ca78-154">如果您的診斷組態目前定義在程式碼中，您將需要 tooreconfigure 從頭診斷 tookeep 工作順序中的 hello 移轉專案中的這些設定。</span><span class="sxs-lookup"><span data-stu-id="5ca78-154">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="5ca78-155">hello Azure SDK 2.4 的診斷組態檔是 diagnostics.wadcfg，是 diagnostics.wadcfgx Azure SDK 2.5 和更新版本。</span><span class="sxs-lookup"><span data-stu-id="5ca78-155">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="5ca78-156">**雲端服務應用程式的診斷功能只能在 hello 角色層級，不是在 hello 執行個體層級設定。**</span><span class="sxs-lookup"><span data-stu-id="5ca78-156">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="5ca78-157">**每次您部署應用程式時，會更新 hello 診斷組態**– 如果您從 [伺服器總管] 中變更診斷組態，然後重新部署您的應用程式，這可能會造成同位檢查問題。</span><span class="sxs-lookup"><span data-stu-id="5ca78-157">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="5ca78-158">**在 Azure SDK 2.5 和更新版本，hello 診斷組態檔中，未在程式碼中設定損毀傾印**– 如果您有程式碼中設定損毀傾印，您就必須 toomanually 傳送嗨組態從程式碼 toohello 組態檔由於 hello 損毀傾印不傳送 hello 移轉 tooAzure SDK 2.6 期間。</span><span class="sxs-lookup"><span data-stu-id="5ca78-158">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="5ca78-159">部署雲端服務專案中的診斷之前先將其啟用</span><span class="sxs-lookup"><span data-stu-id="5ca78-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="5ca78-160">在 Visual Studio 中，您可以選擇 toocollect hello 模擬器中執行 hello 服務後再進行部署時，在 Azure 中執行的角色的診斷資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-160">In Visual Studio, you can choose toocollect diagnostics data for roles that run in Azure, when you run hello service in hello emulator before deploying it.</span></span> <span data-ttu-id="5ca78-161">Visual Studio 中的所有變更 toodiagnostics 設定會都儲存在 hello diagnostics.wadcfgx 組態檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-161">All changes toodiagnostics settings in Visual Studio are saved in hello diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="5ca78-162">這些組態設定會指定診斷資料儲存當您部署雲端服務的 hello 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-162">These configuration settings specify hello storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="tooenable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="5ca78-163">在 Visual Studio 中部署之前的 tooenable 診斷</span><span class="sxs-lookup"><span data-stu-id="5ca78-163">tooenable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="5ca78-164">Hello 您感興趣的 hello 角色的捷徑功能表，選擇 **屬性**，然後選擇 hello**組態**hello 角色中的索引標籤**屬性**視窗。</span><span class="sxs-lookup"><span data-stu-id="5ca78-164">On hello shortcut menu for hello role that interests you, choose **Properties**, and then choose hello **Configuration** tab in hello role’s **Properties** window.</span></span>
2. <span data-ttu-id="5ca78-165">在 hello**診斷**區段中，請確定該 hello**啟用診斷**選取核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-165">In hello **Diagnostics** section, make sure that hello **Enable Diagnostics** check box is selected.</span></span>
   
    ![存取 hello 啟用診斷 選項](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="5ca78-167">Hello 省略符號 （...） 按鈕 toospecify hello 儲存體帳戶選擇您想要儲存 hello 診斷資料 toobe。</span><span class="sxs-lookup"><span data-stu-id="5ca78-167">Choose hello ellipsis (…) button toospecify hello storage account where you want hello diagnostics data toobe stored.</span></span> <span data-ttu-id="5ca78-168">您選擇的 hello 儲存體帳戶會儲存診斷資料的 hello 位置。</span><span class="sxs-lookup"><span data-stu-id="5ca78-168">hello storage account you choose will be hello location where diagnostics data is stored.</span></span>
   
    ![指定 hello 儲存體帳戶 toouse](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="5ca78-170">在 hello**建立儲存體連接字串**對話方塊方塊中，指定是否要 tooconnect 使用 hello Azure 儲存體模擬器，Azure 訂用帳戶，或手動輸入的認證。</span><span class="sxs-lookup"><span data-stu-id="5ca78-170">In hello **Create Storage Connection String** dialog box, specify whether you want tooconnect using hello Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![儲存體帳戶對話方塊](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="5ca78-172">如果您選擇 hello Microsoft Azure 儲存體模擬器，hello 連接字串設定 tooUseDevelopmentStorage = true。</span><span class="sxs-lookup"><span data-stu-id="5ca78-172">If you choose hello Microsoft Azure Storage Emulator option, hello connection string is set tooUseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="5ca78-173">如果您選擇 hello 訂用帳戶選項，您可以選擇 hello 想 toouse 和 hello 帳戶名稱的 Azure 訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-173">If you choose hello Your subscription option, you can choose hello Azure subscription you want toouse and hello account name.</span></span> <span data-ttu-id="5ca78-174">您可以選擇 hello 管理帳戶按鈕 toomanage 您 Azure 訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-174">You can choose hello Manage Accounts button toomanage your Azure subscriptions.</span></span>
   * <span data-ttu-id="5ca78-175">如果您選擇 hello 手動輸入認證 選項，您提示的 tooenter hello 名稱和金鑰 hello 想 toouse 的 Azure 帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-175">If you choose hello Manually entered credentials option, you're prompted tooenter hello name and key of hello Azure account you want toouse.</span></span>
5. <span data-ttu-id="5ca78-176">選擇 hello**設定**按鈕 tooview hello**診斷組態** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-176">Choose hello **Configure** button tooview hello **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="5ca78-177">每個索引標籤 (除了 [一般] 和 [記錄檔目錄] 之外) 都代表您可以收集的診斷資料來源。</span><span class="sxs-lookup"><span data-stu-id="5ca78-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="5ca78-178">hello 預設索引標籤上，**一般**，提供您下列診斷資料收集選項 hello:**只限錯誤**，**所有資訊**，和**自訂計劃**.</span><span class="sxs-lookup"><span data-stu-id="5ca78-178">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="5ca78-179">hello 預設選項，**只限錯誤**，採用 hello 最少的儲存體，因為它不會傳輸警告或追蹤訊息。</span><span class="sxs-lookup"><span data-stu-id="5ca78-179">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="5ca78-180">hello，所有的資訊 選項傳輸 hello 最多資訊與，因此，hello 儲存體成本最高的選項。</span><span class="sxs-lookup"><span data-stu-id="5ca78-180">hello All information option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
   
    ![啟用 Azure 診斷和組態](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="5ca78-182">此範例中，選取 hello**自訂計劃**選項，因此您可以自訂 hello 資料收集。</span><span class="sxs-lookup"><span data-stu-id="5ca78-182">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
7. <span data-ttu-id="5ca78-183">hello**磁碟配額 （mb）**方塊可讓您指定想 tooallocate 中多少的空間儲存體帳戶的診斷資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-183">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="5ca78-184">如果您想要您可以變更 hello 預設值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-184">You can change hello default value if you want.</span></span>
8. <span data-ttu-id="5ca78-185">診斷資料的每個索引標籤中，您想 toocollect，選取其**啟用傳輸<log type>**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-185">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="5ca78-186">例如，如果您想 toocollect 應用程式記錄檔，選取 hello**啟用傳輸應用程式記錄檔**hello 核取方塊**應用程式記錄檔** 索引標籤。此外，請指定每個診斷資料類型所需的其他資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-186">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="5ca78-187">請參閱 hello 節**設定診斷資料來源**本主題稍後的每個索引標籤上的組態資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-187">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="5ca78-188">在您啟用收集所有您想要的 hello 診斷資料之後，請選擇 hello**確定** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-188">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
10. <span data-ttu-id="5ca78-189">如往常一般在 Visual Studio 中建立 Azure 雲端服務專案。</span><span class="sxs-lookup"><span data-stu-id="5ca78-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="5ca78-190">當您使用您的應用程式，您已啟用的 hello 記錄資訊會儲存 toohello 您所指定的 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-190">As you use your application, hello log information that you enabled is saved toohello Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="5ca78-191">在 Azure 虛擬機器中啟用診斷</span><span class="sxs-lookup"><span data-stu-id="5ca78-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="5ca78-192">在 Visual Studio 中，您可以選擇為 Azure 虛擬機器 toocollect 診斷資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-192">In Visual Studio, you can choose toocollect diagnostics data for Azure virtual machines.</span></span>

### <a name="tooenable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="5ca78-193">Azure 虛擬機器中的 tooenable 診斷</span><span class="sxs-lookup"><span data-stu-id="5ca78-193">tooenable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="5ca78-194">在**伺服器總管**選擇 hello Azure 節點，然後連接 tooyour Azure 訂用帳戶，如果您還未連線。</span><span class="sxs-lookup"><span data-stu-id="5ca78-194">In **Server Explorer**, choose hello Azure node and then connect tooyour Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="5ca78-195">展開 hello**虛擬機器**節點。</span><span class="sxs-lookup"><span data-stu-id="5ca78-195">Expand hello **Virtual Machines** node.</span></span> <span data-ttu-id="5ca78-196">您可以建立新的虛擬機器，或選取一個已經存在的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="5ca78-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="5ca78-197">在 hello hello 您感興趣的虛擬機器的捷徑功能表，選擇 **設定**。</span><span class="sxs-lookup"><span data-stu-id="5ca78-197">On hello shortcut menu for hello virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="5ca78-198">這會顯示 hello 虛擬機器組態 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-198">This shows hello virtual machine configuration dialog box.</span></span>
   
    ![設定 Azure 虛擬機器](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="5ca78-200">如果尚未安裝，請加入 hello Microsoft Monitoring Agent 診斷延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5ca78-200">If it's not already installed, add hello Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="5ca78-201">這項擴充功能可讓您收集 hello Azure 虛擬機器的診斷資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-201">This extension lets you gather diagnostics data for hello Azure virtual machine.</span></span> <span data-ttu-id="5ca78-202">在 hello 安裝擴充功能清單中，選擇 hello 可用的擴充功能] 下拉式清單選取功能表，然後選擇 [Microsoft Monitoring Agent 診斷。</span><span class="sxs-lookup"><span data-stu-id="5ca78-202">In hello Installed Extensions list, choose hello Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![安裝 Azure 虛擬機器延伸模組](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="5ca78-204">其他可供您的虛擬機器使用的診斷延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5ca78-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="5ca78-205">如需詳細資訊，請參閱 Azure VM 延伸模組和功能。</span><span class="sxs-lookup"><span data-stu-id="5ca78-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="5ca78-206">選擇 hello**新增**按鈕 tooadd hello 延伸模組並檢視其**診斷組態** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-206">Choose hello **Add** button tooadd hello extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="5ca78-207">選擇 hello**設定**按鈕 toospecify 儲存體帳戶，然後選擇 [hello**確定**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-207">Choose hello **Configure** button toospecify a storage account and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="5ca78-208">每個索引標籤 (除了 [一般] 和 [記錄檔目錄] 之外) 都代表您可以收集的診斷資料來源。</span><span class="sxs-lookup"><span data-stu-id="5ca78-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![啟用 Azure 診斷和組態](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="5ca78-210">hello 預設索引標籤上，**一般**，提供您下列診斷資料收集選項 hello:**只限錯誤**，**所有資訊**，和**自訂計劃**.</span><span class="sxs-lookup"><span data-stu-id="5ca78-210">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="5ca78-211">hello 預設選項，**只限錯誤**，採用 hello 最少的儲存體，因為它不會傳輸警告或追蹤訊息。</span><span class="sxs-lookup"><span data-stu-id="5ca78-211">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="5ca78-212">hello**所有資訊**選項傳輸 hello 最多資訊與進行，因此，儲存體的 hello 成本最高選項。</span><span class="sxs-lookup"><span data-stu-id="5ca78-212">hello **All information** option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="5ca78-213">此範例中，選取 hello**自訂計劃**選項，因此您可以自訂 hello 資料收集。</span><span class="sxs-lookup"><span data-stu-id="5ca78-213">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
8. <span data-ttu-id="5ca78-214">hello**磁碟配額 （mb）**方塊可讓您指定想 tooallocate 中多少的空間儲存體帳戶的診斷資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-214">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="5ca78-215">如果您想要您可以變更 hello 預設值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-215">You can change hello default value if you want.</span></span>
9. <span data-ttu-id="5ca78-216">診斷資料的每個索引標籤中，您想 toocollect，選取其**啟用傳輸<log type>**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-216">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="5ca78-217">例如，如果您想 toocollect 應用程式記錄檔，選取 hello**啟用傳輸應用程式記錄檔**hello 核取方塊**應用程式記錄檔** 索引標籤。此外，請指定每個診斷資料類型所需的其他資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-217">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="5ca78-218">請參閱 hello 節**設定診斷資料來源**本主題稍後的每個索引標籤上的組態資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-218">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="5ca78-219">在您啟用收集所有您想要的 hello 診斷資料之後，請選擇 hello**確定** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-219">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
11. <span data-ttu-id="5ca78-220">儲存更新的 hello 的專案。</span><span class="sxs-lookup"><span data-stu-id="5ca78-220">Save hello updated project.</span></span>
    
     <span data-ttu-id="5ca78-221">您會看到訊息，以在 hello **Microsoft Azure 活動記錄檔**hello 虛擬機器的視窗是否有變更。</span><span class="sxs-lookup"><span data-stu-id="5ca78-221">You'll see a message in hello **Microsoft Azure Activity Log** window that hello virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="5ca78-222">設定診斷資料來源</span><span class="sxs-lookup"><span data-stu-id="5ca78-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="5ca78-223">啟用收集診斷資料之後，您可以選擇完全何種資料來源，您想要 toocollect 和所收集的資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-223">After you enable diagnostics data collection, you can choose exactly what data sources you want toocollect and what information is collected.</span></span> <span data-ttu-id="5ca78-224">hello 下列是一份索引標籤中 hello**診斷組態**對話方塊和每個組態選項的意義。</span><span class="sxs-lookup"><span data-stu-id="5ca78-224">hello following is a list of tabs in hello **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="5ca78-225">應用程式記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-225">Application logs</span></span>
<span data-ttu-id="5ca78-226">**應用程式記錄檔**包含 Web 應用程式所產生的診斷資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="5ca78-227">如果您想 toocapture 應用程式記錄檔，請選取 hello**啟用傳輸應用程式記錄檔**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-227">If you want toocapture application logs, select hello **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="5ca78-228">您可以增加或減少的分鐘傳送嗨應用程式記錄檔時的 hello 數 tooyour 儲存體帳戶，藉由變更 hello**傳輸期間 （分鐘）**值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-228">You can increase or decrease hello number of minutes when hello application logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="5ca78-229">您也可以變更 hello hello 記錄層級的值設定 hello 記錄中擷取的資訊數量。</span><span class="sxs-lookup"><span data-stu-id="5ca78-229">You can also change hello amount of information captured in hello log by setting hello Log level value.</span></span> <span data-ttu-id="5ca78-230">例如，您可以選擇**Verbose** tooget 的詳細資訊，或選擇**重大**toocapture 僅重大錯誤。</span><span class="sxs-lookup"><span data-stu-id="5ca78-230">For example, you can choose **Verbose** tooget more information or choose **Critical** toocapture only critical errors.</span></span> <span data-ttu-id="5ca78-231">如果您有特定的診斷提供者發出應用程式記錄檔，您可以擷取這些新增 hello 提供者的 GUID toohello**提供者 GUID**方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding hello provider’s GUID toohello **Provider GUID** box.</span></span>

  ![應用程式記錄檔](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="5ca78-233">如需有關應用程式記錄檔的詳細資訊，請參閱 [在 Azure App Service 中針對 Web 應用程式啟用診斷記錄功能](app-service-web/web-sites-enable-diagnostic-log.md)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="5ca78-234">Windows 事件記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-234">Windows event logs</span></span>
<span data-ttu-id="5ca78-235">如果您想 toocapture Windows 事件記錄檔，請選取 hello**啟用傳輸 Windows 事件記錄檔**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-235">If you want toocapture Windows event logs, select hello **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="5ca78-236">您可以增加或減少的分鐘傳送嗨事件記錄檔時的 hello 數 tooyour 儲存體帳戶，藉由變更 hello**傳輸期間 （分鐘）**值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-236">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="5ca78-237">選取您想 tootrack 事件 hello 類型 hello 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-237">Select hello check boxes for hello types of events that you want tootrack.</span></span>

  ![事件記錄檔](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="5ca78-239">如果您使用 Azure SDK 2.6 或更新版本，而且想 toospecify 自訂資料來源，請輸入在 hello  **<Data source name>** 文字] 方塊，然後選擇 [hello**新增**按鈕的下一個 tooit。</span><span class="sxs-lookup"><span data-stu-id="5ca78-239">If you're using Azure SDK 2.6 or later and want toospecify a custom data source, enter it in hello **<Data source name>** text box and then choose hello **Add** button next tooit.</span></span> <span data-ttu-id="5ca78-240">hello 資料來源會加入 toohello diagnostics.cfcfg 檔案。</span><span class="sxs-lookup"><span data-stu-id="5ca78-240">hello data source is added toohello diagnostics.cfcfg file.</span></span>

<span data-ttu-id="5ca78-241">如果您使用 Azure SDK 2.5，而且想 toospecify 自訂資料來源，您可以將它加入 toohello`WindowsEventLog`區段 hello diagnostics.wadcfgx 檔案，如 hello 下列範例所示。</span><span class="sxs-lookup"><span data-stu-id="5ca78-241">If you're using Azure SDK 2.5 and want toospecify a custom data source, you can add it toohello `WindowsEventLog` section of hello diagnostics.wadcfgx file, such as in hello following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="5ca78-242">效能計數器</span><span class="sxs-lookup"><span data-stu-id="5ca78-242">Performance counters</span></span>
<span data-ttu-id="5ca78-243">效能計數器資訊可協助您找出系統瓶頸並微調系統和應用程式效能。</span><span class="sxs-lookup"><span data-stu-id="5ca78-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="5ca78-244">如需詳細資訊，請參閱[在 Azure 應用程式中建立及使用效能計數器](https://msdn.microsoft.com/library/azure/hh411542.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="5ca78-245">如果您想 toocapture 效能計數器，請選取 hello**啟用傳輸效能計數器**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-245">If you want toocapture performance counters, select hello **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="5ca78-246">您可以增加或減少的分鐘傳送嗨事件記錄檔時的 hello 數 tooyour 儲存體帳戶，藉由變更 hello**傳輸期間 （分鐘）**值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-246">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="5ca78-247">Hello 效能計數器的 tootrack 選取 hello 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-247">Select hello check boxes for hello performance counters that you want tootrack.</span></span>

  ![效能計數器](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="5ca78-249">tootrack 未列出的效能計數器使用的輸入 hello 建議的語法，然後選擇 [hello**新增**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-249">tootrack a performance counter that isn’t listed, enter it by using hello suggested syntax and then choose hello **Add** button.</span></span> <span data-ttu-id="5ca78-250">hello 虛擬機器上的 hello 作業系統決定您可以追蹤的效能計數器。如需有關語法的詳細資訊，請參閱 [指定計數器路徑](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-250">hello operating system on hello virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="5ca78-251">基礎結構記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-251">Infrastructure logs</span></span>
<span data-ttu-id="5ca78-252">如果您想 toocapture 基礎結構記錄檔，其中包含 hello Azure 診斷基礎結構、 hello RemoteAccess 模組和 hello RemoteForwarder 模組的相關資訊，請選取 hello**啟用傳輸基礎結構記錄檔**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-252">If you want toocapture infrastructure logs, which contain information about hello Azure diagnostic infrastructure, hello RemoteAccess module, and hello RemoteForwarder module, select hello **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="5ca78-253">您可以增加或減少的分鐘傳送嗨記錄檔時的 hello 數 tooyour 藉由變更 hello 傳輸期間 （分鐘） 值的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-253">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello Transfer Period (min) value.</span></span>

  ![診斷基礎結構記錄檔](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="5ca78-255">如需詳細資訊，請參閱 [使用 Azure 診斷收集記錄資料](https://msdn.microsoft.com/library/azure/gg433048.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="5ca78-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="5ca78-256">記錄檔目錄</span><span class="sxs-lookup"><span data-stu-id="5ca78-256">Log directories</span></span>
<span data-ttu-id="5ca78-257">如果您想 toocapture 記錄檔目錄，其中包含從記錄檔目錄的網際網路資訊服務 (IIS) 要求收集的資料，失敗的要求或資料夾，選取 hello**啟用傳輸記錄檔目錄**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-257">If you want toocapture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select hello **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="5ca78-258">您可以增加或減少的分鐘傳送嗨記錄檔時的 hello 數 tooyour 儲存體帳戶，藉由變更 hello**傳輸期間 （分鐘）**值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-258">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="5ca78-259">您可以選取您想 toocollect，例如 hello 記錄檔的 hello 方塊**IIS 記錄檔**和**失敗要求**記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-259">You can select hello boxes of hello logs you want toocollect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="5ca78-260">提供預設儲存體容器名稱，但如果您想要您可以變更 hello 名稱。</span><span class="sxs-lookup"><span data-stu-id="5ca78-260">Default storage container names are provided, but you can change hello names if you want.</span></span>

<span data-ttu-id="5ca78-261">此外，您可以從任何資料夾擷取記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="5ca78-262">只需要指定 hello 路徑在 hello**從絕對目錄記錄**區段，然後選擇 [hello**新增目錄**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-262">Just specify hello path in hello **Log from Absolute Directory** section and then choose hello **Add Directory** button.</span></span> <span data-ttu-id="5ca78-263">hello 記錄檔將會擷取 toohello 指定容器。</span><span class="sxs-lookup"><span data-stu-id="5ca78-263">hello logs will be captured toohello specified containers.</span></span>

  ![記錄檔目錄](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="5ca78-265">ETW 記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-265">ETW logs</span></span>
<span data-ttu-id="5ca78-266">如果您使用[Windows 事件追蹤](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx)(ETW)，而且想 toocapture ETW 記錄檔、 選取 hello**啟用傳輸 ETW 記錄檔**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want toocapture ETW logs, select hello **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="5ca78-267">您可以增加或減少的分鐘傳送嗨記錄檔時的 hello 數 tooyour 儲存體帳戶，藉由變更 hello**傳輸期間 （分鐘）**值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-267">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="5ca78-268">從事件來源和您指定的事件資訊清單會擷取 hello 事件。</span><span class="sxs-lookup"><span data-stu-id="5ca78-268">hello events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="5ca78-269">toospecify 事件來源、 輸入的名稱，在 hello**事件來源**區段，然後選擇 [hello**新增事件來源**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-269">toospecify an event source, enter a name in hello **Event Sources** section and then choose hello **Add Event Source** button.</span></span> <span data-ttu-id="5ca78-270">同樣地，您可以指定事件資訊清單中 hello**事件資訊清單**區段，然後選擇 [hello**加入事件資訊清單**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-270">Similarly, you can specify an event manifest in hello **Event Manifests** section and then choose hello **Add Event Manifest** button.</span></span>

  ![ETW 記錄檔](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="5ca78-272">hello ETW 架構支援在 ASP.NET 中透過類別在 hello [System.Diagnostics.aspx] （https://msdn.microsoft.com/library/system.diagnostics (v = vs.110) 命名空間。</span><span class="sxs-lookup"><span data-stu-id="5ca78-272">hello ETW framework is supported in ASP.NET through classes in hello [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="5ca78-273">hello Microsoft.WindowsAzure.Diagnostics 命名空間，其繼承並擴充標準 [System.Diagnostics.aspx] （https://msdn.microsoft.com/library/system.diagnostics (v = vs.110) 類別，可讓 hello [System.Diagnostics.aspx] （使用為 hello Azure 環境中的記錄架構 https://msdn.microsoft.com/library/system.diagnostics (v = vs.110)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-273">hello Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables hello use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in hello Azure environment.</span></span> <span data-ttu-id="5ca78-274">如需詳細資訊，請參閱[在 Microsoft Azure 中控制記錄和追蹤](https://msdn.microsoft.com/magazine/ff714589.aspx)和[在 Azure 雲端服務和虛擬機器中啟用診斷](cloud-services/cloud-services-dotnet-diagnostics.md)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="5ca78-275">損毀傾印</span><span class="sxs-lookup"><span data-stu-id="5ca78-275">Crash dumps</span></span>
<span data-ttu-id="5ca78-276">如果您想 toocapture 資訊的角色執行個體發生當機，請選取 hello**啟用傳輸損毀傾印**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-276">If you want toocapture information about when a role instance crashes, select hello **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="5ca78-277">(由於 ASP.NET 處理大多數例外狀況，這通常只對背景工作角色才有用。)您可以增加或減少 hello 百分比的儲存空間藉由變更 hello 專 toohello 損毀傾印**目錄配額 （%）**值。</span><span class="sxs-lookup"><span data-stu-id="5ca78-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease hello percentage of storage space devoted toohello crash dumps by changing hello **Directory Quota (%)** value.</span></span> <span data-ttu-id="5ca78-278">您可以變更 hello 儲存體容器 hello 損毀傾印會儲存位置，而您可以選取是否要將 toocapture**完整**或**迷你**傾印。</span><span class="sxs-lookup"><span data-stu-id="5ca78-278">You can change hello storage container where hello crash dumps are stored, and you can select whether you want toocapture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="5ca78-279">列出目前正在追蹤的 hello 程序。</span><span class="sxs-lookup"><span data-stu-id="5ca78-279">hello processes currently being tracked are listed.</span></span> <span data-ttu-id="5ca78-280">選取您想 toocapture 的 hello 程序的 hello 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-280">Select hello check boxes for hello processes that you want toocapture.</span></span> <span data-ttu-id="5ca78-281">tooadd 另一個處理序 toohello 清單中，輸入 hello 處理序名稱，然後選擇 [hello**加入處理序**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="5ca78-281">tooadd another process toohello list, enter hello process name and then choose hello **Add Process** button.</span></span>

  ![損毀傾印](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="5ca78-283">如需詳細資訊，請參閱[在 Microsoft Azure 中控制記錄和追蹤](https://msdn.microsoft.com/magazine/ff714589.aspx)和 [Microsoft Azure 診斷第 4 部分：自訂記錄元件和 Azure 診斷 1.3 變更](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-hello-diagnostics-data"></a><span data-ttu-id="5ca78-284">檢視 hello 診斷資料</span><span class="sxs-lookup"><span data-stu-id="5ca78-284">View hello diagnostics data</span></span>
<span data-ttu-id="5ca78-285">已收集到的雲端服務或虛擬機器的 hello 診斷資料之後，您可以檢視它。</span><span class="sxs-lookup"><span data-stu-id="5ca78-285">After you’ve collected hello diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="tooview-cloud-service-diagnostics-data"></a><span data-ttu-id="5ca78-286">tooview 雲端服務的診斷資料</span><span class="sxs-lookup"><span data-stu-id="5ca78-286">tooview cloud service diagnostics data</span></span>
1. <span data-ttu-id="5ca78-287">如往常般部署雲端服務並加以執行。</span><span class="sxs-lookup"><span data-stu-id="5ca78-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="5ca78-288">您可以檢視 Visual Studio 會產生一份或資料表中的 hello 診斷資料儲存體帳戶中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-288">You can view hello diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="5ca78-289">tooview hello 資料在報表中，開啟**Cloud Explorer**或**伺服器總管**，開啟 hello 的 hello 角色感興趣，hello 節點的捷徑功能表，然後選擇**檢視診斷資料**.</span><span class="sxs-lookup"><span data-stu-id="5ca78-289">tooview hello data in a report, open **Cloud Explorer** or **Server Explorer**, open hello shortcut menu of hello node for hello role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![檢視診斷資料](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="5ca78-291">顯示 hello 可用資料的報表隨即出現。</span><span class="sxs-lookup"><span data-stu-id="5ca78-291">A report that shows hello available data appears.</span></span>
   
    ![Visual Studio 中的 Microsoft Azure 診斷報告](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="5ca78-293">如果未出現 hello 最新的資料，您可能必須針對 hello 傳輸週期 tooelapse toowait。</span><span class="sxs-lookup"><span data-stu-id="5ca78-293">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="5ca78-294">選擇 hello**重新整理**連結 tooimmediately 更新 hello 資料，或選擇間隔中 hello**自動重新整理**下拉式清單方塊 toohave hello 資料自動更新。</span><span class="sxs-lookup"><span data-stu-id="5ca78-294">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="5ca78-295">tooexport hello 錯誤資料，選擇 hello**匯出 tooCSV**按鈕 toocreate 逗號分隔值檔案，您可以在試算表中開啟。</span><span class="sxs-lookup"><span data-stu-id="5ca78-295">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="5ca78-296">在**Cloud Explorer**或**伺服器總管**，開啟 hello 與 hello 部署相關聯的儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-296">In **Cloud Explorer** or **Server Explorer**, open hello storage account that's associated with hello deployment.</span></span>
3. <span data-ttu-id="5ca78-297">在 hello 資料表檢視器 中開啟 hello 診斷資料表，然後檢閱您所收集的 hello 資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-297">Open hello diagnostics tables in hello table viewer, and then review hello data that you collected.</span></span> <span data-ttu-id="5ca78-298">在 IIS 記錄檔和自訂記錄檔中，您可以開啟 blob 容器。</span><span class="sxs-lookup"><span data-stu-id="5ca78-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="5ca78-299">透過檢閱下表中的 hello，您可以找到包含您感興趣的 hello 資料 hello 表格或 blob 容器。</span><span class="sxs-lookup"><span data-stu-id="5ca78-299">By reviewing hello following table, you can find hello table or blob container that contains hello data that interests you.</span></span> <span data-ttu-id="5ca78-300">此外，toohello 資料記錄檔、 hello 資料表項目包含 EventTickCount、 DeploymentId、 角色和您識別哪些虛擬機器和角色的 RoleInstance toohelp 產生 hello 資料和時間。</span><span class="sxs-lookup"><span data-stu-id="5ca78-300">In addition toohello data for that log file, hello table entries contain EventTickCount, DeploymentId, Role, and RoleInstance toohelp you identify what virtual machine and role generated hello data and when.</span></span> 
   
   | <span data-ttu-id="5ca78-301">診斷資料</span><span class="sxs-lookup"><span data-stu-id="5ca78-301">Diagnostic data</span></span> | <span data-ttu-id="5ca78-302">說明</span><span class="sxs-lookup"><span data-stu-id="5ca78-302">Description</span></span> | <span data-ttu-id="5ca78-303">位置</span><span class="sxs-lookup"><span data-stu-id="5ca78-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="5ca78-304">應用程式記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-304">Application Logs</span></span> |<span data-ttu-id="5ca78-305">您的程式碼來呼叫 hello System.Diagnostics.Trace 類別的方法所產生的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-305">Logs that your code generates by calling methods of hello System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="5ca78-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="5ca78-306">WADLogsTable</span></span> |
   | <span data-ttu-id="5ca78-307">事件記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-307">Event Logs</span></span> |<span data-ttu-id="5ca78-308">此資料是從 hello hello 虛擬機器上 Windows 事件記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-308">This data is from hello Windows event logs on hello virtual machines.</span></span> <span data-ttu-id="5ca78-309">Windows 會將資訊儲存在這些記錄檔，但應用程式和服務也使用這些 tooreport 錯誤或記錄資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-309">Windows stores information in these logs, but applications and services also use them tooreport errors or log information.</span></span> |<span data-ttu-id="5ca78-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="5ca78-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="5ca78-311">效能計數器</span><span class="sxs-lookup"><span data-stu-id="5ca78-311">Performance Counters</span></span> |<span data-ttu-id="5ca78-312">您可以在 hello 虛擬機器有任何效能計數器收集資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-312">You can collect data on any performance counter that’s available on hello virtual machine.</span></span> <span data-ttu-id="5ca78-313">hello 作業系統提供效能計數器，其包括記憶體使用量和處理器時間等多種統計資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-313">hello operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="5ca78-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="5ca78-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="5ca78-315">基礎結構記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-315">Infrastructure Logs</span></span> |<span data-ttu-id="5ca78-316">從 hello 診斷基礎結構本身的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-316">These logs are generated from hello diagnostics infrastructure itself.</span></span> |<span data-ttu-id="5ca78-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="5ca78-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="5ca78-318">IIS 記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-318">IIS Logs</span></span> |<span data-ttu-id="5ca78-319">這些記錄檔會記錄 web 要求。</span><span class="sxs-lookup"><span data-stu-id="5ca78-319">These logs record web requests.</span></span> <span data-ttu-id="5ca78-320">如果您的雲端服務取得大量的流量，這些記錄檔可能會相當冗長，因此您應該只在需要時收集並儲存此資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="5ca78-321">您可以找到 hello wad-iis-failedreqlogs 下該部署、 角色和執行個體的路徑下的 blob 容器中的失敗要求記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-321">You can find failed-request logs in hello blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="5ca78-322">您可以在 wad-iis-logfiles 下找到完整的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="5ca78-323">Hello WADDirectories 表格中建立的每個檔案的項目。</span><span class="sxs-lookup"><span data-stu-id="5ca78-323">Entries for each file are made in hello WADDirectories table.</span></span> |
   | <span data-ttu-id="5ca78-324">損毀傾印</span><span class="sxs-lookup"><span data-stu-id="5ca78-324">Crash dumps</span></span> |<span data-ttu-id="5ca78-325">這項資訊提供雲端服務處理序的二進位映像 (通常是背景工作角色)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="5ca78-326">wad-crush-dumps blob 容器</span><span class="sxs-lookup"><span data-stu-id="5ca78-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="5ca78-327">自訂記錄檔</span><span class="sxs-lookup"><span data-stu-id="5ca78-327">Custom log files</span></span> |<span data-ttu-id="5ca78-328">您預先定義的資料記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="5ca78-329">儲存體帳戶中，您可以指定自訂的記錄檔的程式碼 hello 位置。</span><span class="sxs-lookup"><span data-stu-id="5ca78-329">You can specify in code hello location of custom log files in your storage account.</span></span> <span data-ttu-id="5ca78-330">例如，您可以指定自訂 blob 容器。</span><span class="sxs-lookup"><span data-stu-id="5ca78-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="5ca78-331">如果任何類型的資料遭到截斷，您可以嘗試增加 hello 緩衝區，該資料類型或縮短 hello 傳輸間隔的資料從 hello 虛擬機器 tooyour 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="5ca78-331">If data of any type is truncated, you can try increasing hello buffer for that data type or shortening hello interval between transfers of data from hello virtual machine tooyour storage account.</span></span>
5. <span data-ttu-id="5ca78-332">（選擇性）清除資料，從 hello 儲存體帳戶有時候 tooreduce 整體儲存體成本。</span><span class="sxs-lookup"><span data-stu-id="5ca78-332">(optional) Purge data from hello storage account occasionally tooreduce overall storage costs.</span></span>
6. <span data-ttu-id="5ca78-333">當您進行完整部署時，在 Azure 中，更新 hello diagnostics.cscfg 檔案 (Azure SDK 2.5.wadcfgx)，而您的雲端服務會收取任何變更 tooyour 診斷組態。</span><span class="sxs-lookup"><span data-stu-id="5ca78-333">When you do a full deployment, hello diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes tooyour diagnostics configuration.</span></span> <span data-ttu-id="5ca78-334">相反地，您會更新現有的部署，如果不會在 Azure 中更新 hello.cscfg 檔案。</span><span class="sxs-lookup"><span data-stu-id="5ca78-334">If you, instead, update an existing deployment, hello .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="5ca78-335">您仍然可以依照 hello hello 下一節中的步驟，變更診斷設定。</span><span class="sxs-lookup"><span data-stu-id="5ca78-335">You can still change diagnostics settings, though, by following hello steps in hello next section.</span></span> <span data-ttu-id="5ca78-336">如需有關執行完整部署和更新現有部署的詳細資訊，請參閱 [發佈 Azure 應用程式精靈](vs-azure-tools-publish-azure-application-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="tooview-virtual-machine-diagnostics-data"></a><span data-ttu-id="5ca78-337">tooview 虛擬機器的診斷資料</span><span class="sxs-lookup"><span data-stu-id="5ca78-337">tooview virtual machine diagnostics data</span></span>
1. <span data-ttu-id="5ca78-338">在 hello hello 虛擬機器的捷徑功能表，選擇 **檢視診斷資料**。</span><span class="sxs-lookup"><span data-stu-id="5ca78-338">On hello shortcut menu for hello virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![在 Azure 虛擬機器中檢視診斷資料](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="5ca78-340">這會開啟 hello**診斷摘要**視窗。</span><span class="sxs-lookup"><span data-stu-id="5ca78-340">This opens hello **Diagnostics summary** window.</span></span>
   
    ![Azure 虛擬機器診斷摘要](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="5ca78-342">如果未出現 hello 最新的資料，您可能必須針對 hello 傳輸週期 tooelapse toowait。</span><span class="sxs-lookup"><span data-stu-id="5ca78-342">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="5ca78-343">選擇 hello**重新整理**連結 tooimmediately 更新 hello 資料，或選擇間隔中 hello**自動重新整理**下拉式清單方塊 toohave hello 資料自動更新。</span><span class="sxs-lookup"><span data-stu-id="5ca78-343">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="5ca78-344">tooexport hello 錯誤資料，選擇 hello**匯出 tooCSV**按鈕 toocreate 逗號分隔值檔案，您可以在試算表中開啟。</span><span class="sxs-lookup"><span data-stu-id="5ca78-344">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="5ca78-345">在部署後設定雲端服務診斷</span><span class="sxs-lookup"><span data-stu-id="5ca78-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="5ca78-346">如果您想調查雲端服務的問題，已在執行中，您可能想 toocollect 原先已部署的 hello 角色之前，您沒有指定的資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-346">If you're investigating a problem with a cloud service that already running, you might want toocollect data that you didn't specify before you originally deployed hello role.</span></span> <span data-ttu-id="5ca78-347">在此情況下，您可以啟動 toocollect 該資料在伺服器總管 中使用 hello 設定。</span><span class="sxs-lookup"><span data-stu-id="5ca78-347">In this case, you can start toocollect that data by using hello settings in Server Explorer.</span></span> <span data-ttu-id="5ca78-348">您可以在角色中，根據您是否從 hello hello 執行個體或 hello 角色的捷徑功能表開啟 hello 診斷組態對話方塊中設定的單一執行個體或所有 hello 執行個體的診斷功能。</span><span class="sxs-lookup"><span data-stu-id="5ca78-348">You can configure diagnostics for either a single instance or all hello instances in a role, depending on whether you open hello Diagnostics Configuration dialog box from hello shortcut menu for hello instance or hello role.</span></span> <span data-ttu-id="5ca78-349">如果您設定 hello 角色節點，任何變更將套用 tooall 執行個體。</span><span class="sxs-lookup"><span data-stu-id="5ca78-349">If you configure hello role node, any changes apply tooall instances.</span></span> <span data-ttu-id="5ca78-350">如果您設定 hello 執行個體的節點時，任何變更將套用只有 toothat 執行個體。</span><span class="sxs-lookup"><span data-stu-id="5ca78-350">If you configure hello instance node, any changes apply toothat instance only.</span></span>

### <a name="tooconfigure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="5ca78-351">執行中雲端服務的 tooconfigure 診斷</span><span class="sxs-lookup"><span data-stu-id="5ca78-351">tooconfigure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="5ca78-352">在 伺服器總管 中，展開 hello**雲端服務** 節點，然後展開 節點 toolocate hello 角色或您想 tooinvestigate 或兩個執行個體。</span><span class="sxs-lookup"><span data-stu-id="5ca78-352">In Server Explorer, expand hello **Cloud Services** node, and then expand nodes toolocate hello role or instance that you want tooinvestigate or both.</span></span>
   
    ![設定診斷](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="5ca78-354">在 hello 的執行個體節點或角色節點的捷徑功能表，選擇 **更新診斷設定**，然後選擇您想 toocollect 的診斷設定 hello。</span><span class="sxs-lookup"><span data-stu-id="5ca78-354">On hello shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose hello diagnostic settings that you want toocollect.</span></span>
   
    <span data-ttu-id="5ca78-355">Hello 組態設定的相關資訊，請參閱**設定診斷資料來源**本主題中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-355">For information about hello configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="5ca78-356">如需如何 tooview hello 診斷資料，請參閱**檢視 hello 的診斷資料**本主題中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-356">For information about how tooview hello diagnostics data, see **View hello diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="5ca78-357">如果您變更 [伺服器總管] 中的資料收集，這些變更會持續生效，直到您完全重新部署您的雲端服務為止。</span><span class="sxs-lookup"><span data-stu-id="5ca78-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="5ca78-358">如果您使用 hello 預設發行設定，hello 變更不會覆寫，因為發行 hello 預設設定是 tooupdate hello 現有部署，而不是執行完整部署。</span><span class="sxs-lookup"><span data-stu-id="5ca78-358">If you use hello default publish settings, hello changes are not overwritten, since hello default publish setting is tooupdate hello existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="5ca78-359">在部署階段，請移 toohello 清除 toomake 確定 hello 設定**進階設定** 索引標籤在 hello 發行精靈 和 清除 hello**部署更新**核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-359">toomake sure hello settings clear at deployment time, go toohello **Advanced Settings** tab in hello Publish wizard and clear hello **Deployment update** checkbox.</span></span> <span data-ttu-id="5ca78-360">當您重新部署清除該核取方塊時，hello 設定便會還原為透過 hello 角色 hello 屬性編輯器組 toothose hello.wadcfgx （或.wadcfgx） 檔案中。</span><span class="sxs-lookup"><span data-stu-id="5ca78-360">When you redeploy with that checkbox cleared, hello settings revert toothose in hello .wadcfgx (or .wadcfg) file as set through hello Properties editor for hello role.</span></span> <span data-ttu-id="5ca78-361">如果您更新您的部署，Azure 會保留 hello 舊的設定。</span><span class="sxs-lookup"><span data-stu-id="5ca78-361">If you update your deployment, Azure keeps hello old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="5ca78-362">疑難排解 Azure 雲端服務問題</span><span class="sxs-lookup"><span data-stu-id="5ca78-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="5ca78-363">如果您遇到問題的雲端服務專案，例如角色一直顯示 「 忙碌 」 狀態，重複回收，或擲回內部伺服器錯誤，有工具和技術，您可以使用 toodiagnose 並修正這些問題。</span><span class="sxs-lookup"><span data-stu-id="5ca78-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use toodiagnose and fix these problems.</span></span> <span data-ttu-id="5ca78-364">特定的範例，常見的問題和解決方案，以及 hello 概念與工具概觀用 toodiagnose 和修正這類錯誤，請參閱[Azure PaaS 計算診斷資料](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-364">For specific examples of common problems and solutions, as well as an overview of hello concepts and tools used toodiagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="5ca78-365">問答集</span><span class="sxs-lookup"><span data-stu-id="5ca78-365">Q & A</span></span>
<span data-ttu-id="5ca78-366">**什麼是 hello 緩衝區大小，而它應該多大？**</span><span class="sxs-lookup"><span data-stu-id="5ca78-366">**What is hello buffer size, and how large should it be?**</span></span>

<span data-ttu-id="5ca78-367">在每個虛擬機器執行個體，配額會限制多少診斷資料可以儲存在 hello 本機檔案系統上。</span><span class="sxs-lookup"><span data-stu-id="5ca78-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on hello local file system.</span></span> <span data-ttu-id="5ca78-368">此外，您可以為每種診斷資料類型指定可用的緩衝區大小。</span><span class="sxs-lookup"><span data-stu-id="5ca78-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="5ca78-369">這個緩衝區大小就像是該資料類型的個別配額。</span><span class="sxs-lookup"><span data-stu-id="5ca78-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="5ca78-370">您可以藉由檢查 hello 對話方塊底部的 hello，判斷 hello 整體配額和 hello 的記憶體數量所保留下來。</span><span class="sxs-lookup"><span data-stu-id="5ca78-370">By checking hello bottom of hello dialog box, you can determine hello overall quota and hello amount of memory that remains.</span></span> <span data-ttu-id="5ca78-371">如果您指定較大的緩衝區或更多類型的資料，就會愈趨 hello 整體配額。</span><span class="sxs-lookup"><span data-stu-id="5ca78-371">If you specify larger buffers or more types of data, you'll approach hello overall quota.</span></span> <span data-ttu-id="5ca78-372">您可以變更 hello 修改 hello diagnostics.wadcfg/.wadcfgx 組態檔的整體配額。</span><span class="sxs-lookup"><span data-stu-id="5ca78-372">You can change hello overall quota by modifying hello diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="5ca78-373">hello 診斷資料儲存在 hello 相同的檔案系統為您的應用程式資料，因此如果您的應用程式使用大量的磁碟空間，您不應該增加 hello 整體診斷配額。</span><span class="sxs-lookup"><span data-stu-id="5ca78-373">hello diagnostics data is stored on hello same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase hello overall diagnostics quota.</span></span>

<span data-ttu-id="5ca78-374">**什麼是 hello 傳輸週期過後，以及多久應該？**</span><span class="sxs-lookup"><span data-stu-id="5ca78-374">**What is hello transfer period, and how long should it be?**</span></span>

<span data-ttu-id="5ca78-375">hello 傳輸週期是時間的 hello 擷取的資料之間經過量。</span><span class="sxs-lookup"><span data-stu-id="5ca78-375">hello transfer period is hello amount of time that elapses between data captures.</span></span> <span data-ttu-id="5ca78-376">每個傳輸週期過後之後, 會從 hello 本機檔案系統上儲存體帳戶中的虛擬機器 tootables 移動資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-376">After each transfer period, data is moved from hello local filesystem on a virtual machine tootables in your storage account.</span></span> <span data-ttu-id="5ca78-377">如果 hello 收集的資料量超過 hello 配額 hello 傳輸期間結束之前，會捨棄較舊的資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-377">If hello amount of data that's collected exceeds hello quota before hello end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="5ca78-378">如果您正在遺失資料，因為您的資料超過 hello 緩衝區大小或 hello 整體配額，您可能想 toodecrease hello 傳輸週期。</span><span class="sxs-lookup"><span data-stu-id="5ca78-378">You might want toodecrease hello transfer period if you're losing data because your data exceeds hello buffer size or hello overall quota.</span></span>

<span data-ttu-id="5ca78-379">**哪個時區是 hello 中的時間戳記？**</span><span class="sxs-lookup"><span data-stu-id="5ca78-379">**What time zone are hello time stamps in?**</span></span>

<span data-ttu-id="5ca78-380">hello 時間戳記是以 hello 當地時區 hello 資料中心裝載您的雲端服務。</span><span class="sxs-lookup"><span data-stu-id="5ca78-380">hello time stamps are in hello local time zone of hello data center that hosts your cloud service.</span></span> <span data-ttu-id="5ca78-381">hello hello 記錄資料表中的下列三個時間戳記資料行使用。</span><span class="sxs-lookup"><span data-stu-id="5ca78-381">hello following three timestamp columns in hello log tables are used.</span></span>

* <span data-ttu-id="5ca78-382">**PreciseTimeStamp**是 hello ETW 事件時間戳記的 hello。</span><span class="sxs-lookup"><span data-stu-id="5ca78-382">**PreciseTimeStamp** is hello ETW timestamp of hello event.</span></span> <span data-ttu-id="5ca78-383">也就是 hello 時間 hello 事件會記錄從 hello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="5ca78-383">That is, hello time hello event is logged from hello client.</span></span>
* <span data-ttu-id="5ca78-384">**時間戳記**PreciseTimeStamp 無條件捨去 toohello 上傳頻率界限。</span><span class="sxs-lookup"><span data-stu-id="5ca78-384">**TIMESTAMP** is PreciseTimeStamp rounded down toohello upload frequency boundary.</span></span> <span data-ttu-id="5ca78-385">因此，如果您上傳頻率是 5 分鐘且 hello 事件時間 00:17:12，TIMESTAMP 將會是 00:15:00。</span><span class="sxs-lookup"><span data-stu-id="5ca78-385">So, if your upload frequency is 5 minutes and hello event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="5ca78-386">**時間戳記**是在哪一個 hello hello Azure 資料表中建立實體的 hello 時間戳記。</span><span class="sxs-lookup"><span data-stu-id="5ca78-386">**Timestamp** is hello timestamp at which hello entity was created in hello Azure table.</span></span>

<span data-ttu-id="5ca78-387">**收集診斷資訊時如何管理成本？**</span><span class="sxs-lookup"><span data-stu-id="5ca78-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="5ca78-388">hello 預設設定 (**記錄層級**設定得**錯誤**和**傳輸週期**設定得**1 分鐘**) 所設計的 toominimize 成本。</span><span class="sxs-lookup"><span data-stu-id="5ca78-388">hello default settings (**Log level** set too**Error** and **Transfer period** set too**1 minute**) are designed toominimize cost.</span></span> <span data-ttu-id="5ca78-389">如果您收集更多診斷資料，或減少 hello 傳輸期間，將會增加您的運算成本。</span><span class="sxs-lookup"><span data-stu-id="5ca78-389">Your compute costs will increase if you collect more diagnostic data or decrease hello transfer period.</span></span> <span data-ttu-id="5ca78-390">不收集超過，也不要忘記 toodisable 資料集合，當您不再需要的資料。</span><span class="sxs-lookup"><span data-stu-id="5ca78-390">Don’t collect more data than you need, and don’t forget toodisable data collection when you no longer need it.</span></span> <span data-ttu-id="5ca78-391">您可以一律再次啟用它，即使在執行階段，hello 上一節中所示。</span><span class="sxs-lookup"><span data-stu-id="5ca78-391">You can always enable it again, even at runtime, as shown in hello previous section.</span></span>

<span data-ttu-id="5ca78-392">**如何從 IIS 收集失敗要求記錄檔？**</span><span class="sxs-lookup"><span data-stu-id="5ca78-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="5ca78-393">根據預設，IIS 不會收集失敗要求記錄檔。</span><span class="sxs-lookup"><span data-stu-id="5ca78-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="5ca78-394">您可以設定 IIS toocollect 它們如果您編輯 hello web 角色的 web.config 檔案。</span><span class="sxs-lookup"><span data-stu-id="5ca78-394">You can configure IIS toocollect them if you edit hello web.config file for your web role.</span></span>

<span data-ttu-id="5ca78-395">**我無法從 OnStart 之類的 RoleEntryPoint 方法取得追蹤資訊。問題在哪裡？**</span><span class="sxs-lookup"><span data-stu-id="5ca78-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="5ca78-396">hello WAIISHost.exe，非 IIS 內容中呼叫的 hello RoleEntryPoint 方法。</span><span class="sxs-lookup"><span data-stu-id="5ca78-396">hello methods of RoleEntryPoint are called in hello context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="5ca78-397">因此，hello 啟用追蹤不會套用一般由 web.config 中的組態資訊。</span><span class="sxs-lookup"><span data-stu-id="5ca78-397">Therefore, hello configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="5ca78-398">tooresolve 這個問題，請加入.config 檔案 tooyour web 角色專案，並將命名 hello 檔案 toomatch hello 輸出組件包含 hello RoleEntryPoint 程式碼。</span><span class="sxs-lookup"><span data-stu-id="5ca78-398">tooresolve this issue, add a .config file tooyour web role project, and name hello file toomatch hello output assembly that contains hello RoleEntryPoint code.</span></span> <span data-ttu-id="5ca78-399">Hello 預設 web 角色專案中的 hello.config 檔案的 hello 名稱將會是 WAIISHost.exe.config。然後加入下列行 toothis 檔 hello:</span><span class="sxs-lookup"><span data-stu-id="5ca78-399">In hello default web role project, hello name of hello .config file would be WAIISHost.exe.config. Then add hello following lines toothis file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="5ca78-400">現在，在 hello**屬性**視窗中，設定 hello**複製 tooOutput 目錄**屬性太**永遠複製**。</span><span class="sxs-lookup"><span data-stu-id="5ca78-400">Now, in hello **Properties** window, set hello **Copy tooOutput Directory** property too**Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5ca78-401">後續步驟</span><span class="sxs-lookup"><span data-stu-id="5ca78-401">Next steps</span></span>
<span data-ttu-id="5ca78-402">toolearn 進一步了解診斷記錄在 Azure 中，請參閱[在 Azure 雲端服務和虛擬機器中啟用診斷](cloud-services/cloud-services-dotnet-diagnostics.md)和[啟用 Azure App Service 中的 web 應用程式的診斷記錄](app-service-web/web-sites-enable-diagnostic-log.md)。</span><span class="sxs-lookup"><span data-stu-id="5ca78-402">toolearn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

