---
title: "透過 Azure 內容傳遞網路的大型檔案下載最佳化"
description: "深度解說大型檔案下載最佳化"
services: cdn
documentationcenter: 
author: smcevoy
manager: erikre
editor: 
ms.assetid: 
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: v-semcev
ms.openlocfilehash: 7a5d5d1d0de24ebb0a5115ede1e572f38454bd78
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="large-file-download-optimization-via-the-azure-content-delivery-network"></a><span data-ttu-id="5b732-103">透過 Azure 內容傳遞網路的大型檔案下載最佳化</span><span class="sxs-lookup"><span data-stu-id="5b732-103">Large file download optimization via the Azure Content Delivery Network</span></span>

<span data-ttu-id="5b732-104">透過網際網路傳遞的內容檔案大小，由於功能增強、圖形改善和媒體內容更豐富，而持續成長。</span><span class="sxs-lookup"><span data-stu-id="5b732-104">File sizes of content delivered over the Internet continue to grow due to enhanced functionality, improved graphics, and rich media content.</span></span> <span data-ttu-id="5b732-105">這種成長是由許多因素所驅動，包括：寬頻滲透、大型廉價存放裝置、高畫質影片普遍增加，以及連線至網際網路的裝置 (IoT) 等。</span><span class="sxs-lookup"><span data-stu-id="5b732-105">This growth is driven by many factors: broadband penetration, larger inexpensive storage devices, widespread increase of high-definition video, and Internet-connected devices (IoT).</span></span> <span data-ttu-id="5b732-106">快速且有效的大型檔案傳遞機制，對於確保順暢且愉悅的取用者體驗極為重要。</span><span class="sxs-lookup"><span data-stu-id="5b732-106">A fast and efficient delivery mechanism for large files is critical to ensure a smooth and enjoyable consumer experience.</span></span>

<span data-ttu-id="5b732-107">傳送大型檔案有幾項困難。</span><span class="sxs-lookup"><span data-stu-id="5b732-107">Delivery of large files has several challenges.</span></span> <span data-ttu-id="5b732-108">首先，大型檔案的平均下載時間很可觀，因為許多應用程式可能無法循序下載所有資料。</span><span class="sxs-lookup"><span data-stu-id="5b732-108">First, the average time to download a large file can be significant because applications might not download all data sequentially.</span></span> <span data-ttu-id="5b732-109">在某些情況下，應用程式可能先下載檔案的最後一部分，然後再下載第一部分。</span><span class="sxs-lookup"><span data-stu-id="5b732-109">In some cases, applications might download the last part of a file before the first part.</span></span> <span data-ttu-id="5b732-110">當只要求少量的檔案，或使用者暫停下載時，下載會失敗。</span><span class="sxs-lookup"><span data-stu-id="5b732-110">When only a small amount of a file is requested or a user pauses a download, the download can fail.</span></span> <span data-ttu-id="5b732-111">下載也可能會延遲到內容傳遞網路 (CDN) 從來源伺服器擷取整個檔案之後。</span><span class="sxs-lookup"><span data-stu-id="5b732-111">The download also might be delayed until after the content delivery network (CDN) retrieves the entire file from the origin server.</span></span> 

<span data-ttu-id="5b732-112">其次，使用者電腦和檔案之間的延遲，決定使用者檢視內容的速度。</span><span class="sxs-lookup"><span data-stu-id="5b732-112">Second, the latency between a user's machine and the file determines the speed at which they can view content.</span></span> <span data-ttu-id="5b732-113">此外，網路壅塞和容量問題也會影響輸送量。</span><span class="sxs-lookup"><span data-stu-id="5b732-113">In addition, network congestion and capacity problems also affect throughput.</span></span> <span data-ttu-id="5b732-114">伺服器與使用者之間遼遠的距離，為封包遺失額外提供許多機會，降低品質。</span><span class="sxs-lookup"><span data-stu-id="5b732-114">Greater distances between servers and users create additional opportunities for packet loss to occur, which reduces quality.</span></span> <span data-ttu-id="5b732-115">因輸送量有限與封包遺失增多造成的品質降低，可能表現於完成檔案下載的等待時間大幅增加。</span><span class="sxs-lookup"><span data-stu-id="5b732-115">The reduction in quality caused by limited throughput and increased packet loss might increase the wait time for a file download to finish.</span></span> 

<span data-ttu-id="5b732-116">第三，許多大型檔案不會完整傳遞。</span><span class="sxs-lookup"><span data-stu-id="5b732-116">Third, many large files are not delivered in their entirety.</span></span> <span data-ttu-id="5b732-117">使用者可能會中途取消下載，或只觀賞冗長 MP4 影片的前幾分鐘。</span><span class="sxs-lookup"><span data-stu-id="5b732-117">Users might cancel a download halfway through or watch only the first few minutes of a long MP4 video.</span></span> <span data-ttu-id="5b732-118">因此，許多軟體和媒體傳遞公司希望只傳遞所要求檔案的一部分。</span><span class="sxs-lookup"><span data-stu-id="5b732-118">Therefore, software and media delivery companies want to deliver only the portion of a file that's requested.</span></span> <span data-ttu-id="5b732-119">有效率散佈要求的部分會降低原始伺服器的輸出流量。</span><span class="sxs-lookup"><span data-stu-id="5b732-119">Efficient distribution of the requested portions reduces the egress traffic from the origin server.</span></span> <span data-ttu-id="5b732-120">有效率的散佈也會減少原始伺服器上的記憶體與 I/O 壓力。</span><span class="sxs-lookup"><span data-stu-id="5b732-120">Efficient distribution also reduces the memory and I/O pressure on the origin server.</span></span> 

<span data-ttu-id="5b732-121">Akamai 的 Azure 內容傳遞網路現在提供一項功能，可將大型檔案有效傳遞給全球的使用者。</span><span class="sxs-lookup"><span data-stu-id="5b732-121">The Azure Content Delivery Network from Akamai now offers a feature that delivers large files efficiently to users across the globe at scale.</span></span> <span data-ttu-id="5b732-122">此功能會減少延遲，因為它可以降低來源伺服器上的負載。</span><span class="sxs-lookup"><span data-stu-id="5b732-122">The feature reduces latencies because it reduces the load on the origin servers.</span></span> <span data-ttu-id="5b732-123">使用標準 Akamai 定價層可取得這項功能。</span><span class="sxs-lookup"><span data-stu-id="5b732-123">This feature is available with the Standard Akamai pricing tier.</span></span>

## <a name="configure-a-cdn-endpoint-to-optimize-delivery-of-large-files"></a><span data-ttu-id="5b732-124">設定 CDN 端點以最佳化大型檔案的傳遞</span><span class="sxs-lookup"><span data-stu-id="5b732-124">Configure a CDN endpoint to optimize delivery of large files</span></span>

<span data-ttu-id="5b732-125">您可以設定 CDN 端點，以最佳化透過 Azure 入口網站傳遞大型檔案。</span><span class="sxs-lookup"><span data-stu-id="5b732-125">You can configure your CDN endpoint to optimize delivery for large files via the Azure portal.</span></span> <span data-ttu-id="5b732-126">若要這樣做，您也可以使用 REST API 或任何用戶端 SDK。</span><span class="sxs-lookup"><span data-stu-id="5b732-126">You can also use our REST APIs or any of the client SDKs to do this.</span></span> <span data-ttu-id="5b732-127">下列步驟示範透過 Azure 入口網站的程序。</span><span class="sxs-lookup"><span data-stu-id="5b732-127">The following steps show the process via the Azure portal.</span></span>

1. <span data-ttu-id="5b732-128">若要新增新的端點，請在 [CDN 設定檔] 頁面上選取 [端點]。</span><span class="sxs-lookup"><span data-stu-id="5b732-128">To add a new endpoint, on the **CDN profile** page, select **Endpoint**.</span></span>

    ![新增端點](./media/cdn-large-file-optimization/01_Adding.png)  
 
2. <span data-ttu-id="5b732-130">在 [最佳化對象] 下拉式清單中，選取 [下載大型檔案]。</span><span class="sxs-lookup"><span data-stu-id="5b732-130">In the **Optimized for** drop-down list, select **Large file download**.</span></span>

    ![已選取大型檔案最佳化](./media/cdn-large-file-optimization/02_Creating.png)


<span data-ttu-id="5b732-132">建立 CDN 端點後，就會對所有符合特定準則的檔案套用大型檔案最佳化。</span><span class="sxs-lookup"><span data-stu-id="5b732-132">After you create the CDN endpoint, it applies the large file optimizations for all files that match certain criteria.</span></span> <span data-ttu-id="5b732-133">下一節會說明此程序。</span><span class="sxs-lookup"><span data-stu-id="5b732-133">The following section describes this process.</span></span>

## <a name="optimize-for-delivery-of-large-files-with-the-azure-content-delivery-network-from-akamai"></a><span data-ttu-id="5b732-134">使用 Akamai 的 Azure 內容傳遞網路最佳化大型檔案的傳遞</span><span class="sxs-lookup"><span data-stu-id="5b732-134">Optimize for delivery of large files with the Azure Content Delivery Network from Akamai</span></span>

<span data-ttu-id="5b732-135">大型檔案最佳化類型功能會開啟網路最佳化和組態，更快速且反應迅速地傳遞大型檔案。</span><span class="sxs-lookup"><span data-stu-id="5b732-135">The large file optimization type feature turns on network optimizations and configurations to deliver large files faster and more responsively.</span></span> <span data-ttu-id="5b732-136">使用 Akamai 的一般 Web 傳遞只快取低於 1.8 GB 的檔案，而且可以通道 (不是快取) 檔案最多 150 GB。</span><span class="sxs-lookup"><span data-stu-id="5b732-136">General web delivery with Akamai caches files only below 1.8 GB and can tunnel (not cache) files up to 150 GB.</span></span> <span data-ttu-id="5b732-137">大型檔案最佳化快取檔案最多 150 GB。</span><span class="sxs-lookup"><span data-stu-id="5b732-137">Large file optimization caches files up to 150 GB.</span></span>

<span data-ttu-id="5b732-138">大型檔案最佳化在滿足特定條件下會生效。</span><span class="sxs-lookup"><span data-stu-id="5b732-138">Large file optimization is effective when certain conditions are satisfied.</span></span> <span data-ttu-id="5b732-139">條件包括原始伺服器的運作方式以及所要求的檔案大小和類型。</span><span class="sxs-lookup"><span data-stu-id="5b732-139">Conditions include how the origin server operates and the sizes and types of the files that are requested.</span></span> <span data-ttu-id="5b732-140">在詳細了解這些主題之前，您應該了解最佳化如何作用。</span><span class="sxs-lookup"><span data-stu-id="5b732-140">Before we get into details on these subjects, you should understand how the optimization works.</span></span> 

### <a name="object-chunking"></a><span data-ttu-id="5b732-141">物件區塊化</span><span class="sxs-lookup"><span data-stu-id="5b732-141">Object chunking</span></span> 

<span data-ttu-id="5b732-142">Akamai 的 Azure 內容傳遞網路使用稱為物件區塊處理的技術。</span><span class="sxs-lookup"><span data-stu-id="5b732-142">The Azure Content Delivery Network from Akamai uses a technique called object chunking.</span></span> <span data-ttu-id="5b732-143">要求大型檔案時，CDN 會從原始伺服器擷取較小的檔案片段。</span><span class="sxs-lookup"><span data-stu-id="5b732-143">When a large file is requested, the CDN retrieves smaller pieces of the file from the origin.</span></span> <span data-ttu-id="5b732-144">在 CDN Edge Server/POP 伺服器收到完整或位元組範圍的檔案要求之後，它會檢查此最佳化是否支援檔案類型。</span><span class="sxs-lookup"><span data-stu-id="5b732-144">After the CDN edge/POP server receives a full or byte-range file request, it checks whether the file type is supported for this optimization.</span></span> <span data-ttu-id="5b732-145">它也會檢查檔案類型是否符合檔案大小需求。</span><span class="sxs-lookup"><span data-stu-id="5b732-145">It also checks whether the file type meets the file size requirements.</span></span> <span data-ttu-id="5b732-146">如果檔案大小大於 10 MB，則 CDN Edge Server 會向原始伺服器要求 2 MB 區塊的檔案。</span><span class="sxs-lookup"><span data-stu-id="5b732-146">If the file size is greater than 10 MB, the CDN edge server requests the file from the origin in chunks of 2 MB.</span></span> 

<span data-ttu-id="5b732-147">區塊抵達 CDN Edge 之後，會被快取並立即提供給使用者。</span><span class="sxs-lookup"><span data-stu-id="5b732-147">After the chunk arrives at the CDN edge, it's cached and immediately served to the user.</span></span> <span data-ttu-id="5b732-148">然後 CDN 會以平行方式預先提取下一個區塊。</span><span class="sxs-lookup"><span data-stu-id="5b732-148">The CDN then prefetches the next chunk in parallel.</span></span> <span data-ttu-id="5b732-149">此預先擷取可確保內容領先使用者一個區塊，以降低延遲。</span><span class="sxs-lookup"><span data-stu-id="5b732-149">This prefetch ensures that the content stays one chunk ahead of the user, which reduces latency.</span></span> <span data-ttu-id="5b732-150">此程序一直持續到整個檔案下載完畢 (如有要求)、取得所有位元組範圍 (如有要求)，或用戶端終止連線。</span><span class="sxs-lookup"><span data-stu-id="5b732-150">This process continues until the entire file is downloaded (if requested), all byte ranges are available (if requested), or the client terminates the connection.</span></span> 

<span data-ttu-id="5b732-151">如需位元組範圍要求的詳細資訊，請參閱 [RFC 7233](https://tools.ietf.org/html/rfc7233)。</span><span class="sxs-lookup"><span data-stu-id="5b732-151">For more information on the byte-range request, see [RFC 7233](https://tools.ietf.org/html/rfc7233).</span></span>

<span data-ttu-id="5b732-152">CDN 會在收到任何區塊時即予以快取。</span><span class="sxs-lookup"><span data-stu-id="5b732-152">The CDN caches any chunks as they're received.</span></span> <span data-ttu-id="5b732-153">不必快取 CDN 快取上的整個檔案。</span><span class="sxs-lookup"><span data-stu-id="5b732-153">The entire file doesn't have to be cached on the CDN cache.</span></span> <span data-ttu-id="5b732-154">CDN 快取會提供後續的檔案或位元組範圍要求 。</span><span class="sxs-lookup"><span data-stu-id="5b732-154">Subsequent requests for the file or byte ranges are served from the CDN cache.</span></span> <span data-ttu-id="5b732-155">如果不是在 CDN 快取所有的區塊，就會使用預先擷取向原始伺服器要求區塊。</span><span class="sxs-lookup"><span data-stu-id="5b732-155">If not all the chunks are cached on the CDN, prefetch is used to request chunks from the origin.</span></span> <span data-ttu-id="5b732-156">此最佳化依賴原始伺服器的功能，支援位元組範圍的要求。</span><span class="sxs-lookup"><span data-stu-id="5b732-156">This optimization relies on the ability of the origin server to support byte-range requests.</span></span> <span data-ttu-id="5b732-157">_如果原始伺服器不支援位元組範圍要求，此最佳化就不會生效。_</span><span class="sxs-lookup"><span data-stu-id="5b732-157">_If the origin server doesn't support byte-range requests, this optimization isn't effective._</span></span> 

### <a name="caching"></a><span data-ttu-id="5b732-158">快取</span><span class="sxs-lookup"><span data-stu-id="5b732-158">Caching</span></span>
<span data-ttu-id="5b732-159">大型檔案最佳化會使用不同的預設從一般 Web 傳遞快取逾期時間。</span><span class="sxs-lookup"><span data-stu-id="5b732-159">Large file optimization uses different default caching-expiration times from general web delivery.</span></span> <span data-ttu-id="5b732-160">它會根據 HTTP 回應碼來區分正向快取與負向快取。</span><span class="sxs-lookup"><span data-stu-id="5b732-160">It differentiates between positive caching and negative caching based on HTTP response codes.</span></span> <span data-ttu-id="5b732-161">如果原始伺服器透過回應中的 Cache-control 或 Expires 標頭指定到期時間，則 CDN 會接受該值。</span><span class="sxs-lookup"><span data-stu-id="5b732-161">If the origin server specifies an expiration time via a cache-control or expires header in the response, the CDN honors that value.</span></span> <span data-ttu-id="5b732-162">當原始伺服器未指定，而且檔案符合此最佳化類型的類型和大小條件時，CDN 會使用預設值進行大型檔案最佳化。</span><span class="sxs-lookup"><span data-stu-id="5b732-162">When the origin doesn’t specify and the file matches the type and size conditions for this optimization type, the CDN uses the default values for large file optimization.</span></span> <span data-ttu-id="5b732-163">否則，CDN 會使用預設值進行一般 Web 傳遞。</span><span class="sxs-lookup"><span data-stu-id="5b732-163">Otherwise, the CDN uses defaults for general web delivery.</span></span>


|    | <span data-ttu-id="5b732-164">一般 Web</span><span class="sxs-lookup"><span data-stu-id="5b732-164">General web</span></span> | <span data-ttu-id="5b732-165">大型檔案最佳化</span><span class="sxs-lookup"><span data-stu-id="5b732-165">Large file optimization</span></span> 
--- | --- | --- 
<span data-ttu-id="5b732-166">快取：正向</span><span class="sxs-lookup"><span data-stu-id="5b732-166">Caching: Positive</span></span> <br> <span data-ttu-id="5b732-167">HTTP 200、203、300、</span><span class="sxs-lookup"><span data-stu-id="5b732-167">HTTP 200, 203, 300,</span></span> <br> <span data-ttu-id="5b732-168">301、302 和 410</span><span class="sxs-lookup"><span data-stu-id="5b732-168">301, 302, and 410</span></span> | <span data-ttu-id="5b732-169">7 天</span><span class="sxs-lookup"><span data-stu-id="5b732-169">7 days</span></span> |<span data-ttu-id="5b732-170">1 天</span><span class="sxs-lookup"><span data-stu-id="5b732-170">1 day</span></span>  
<span data-ttu-id="5b732-171">快取：負向</span><span class="sxs-lookup"><span data-stu-id="5b732-171">Caching: Negative</span></span> <br> <span data-ttu-id="5b732-172">HTTP 204、305、404</span><span class="sxs-lookup"><span data-stu-id="5b732-172">HTTP 204, 305, 404,</span></span> <br> <span data-ttu-id="5b732-173">和 405</span><span class="sxs-lookup"><span data-stu-id="5b732-173">and 405</span></span> | <span data-ttu-id="5b732-174">None</span><span class="sxs-lookup"><span data-stu-id="5b732-174">None</span></span> | <span data-ttu-id="5b732-175">1 秒</span><span class="sxs-lookup"><span data-stu-id="5b732-175">1 second</span></span> 

### <a name="deal-with-origin-failure"></a><span data-ttu-id="5b732-176">處理原始伺服器失敗</span><span class="sxs-lookup"><span data-stu-id="5b732-176">Deal with origin failure</span></span>

<span data-ttu-id="5b732-177">原始伺服器讀取逾時長度從兩秒的一般 Web 傳遞，增加到兩分鐘的大型檔案最佳化類型。</span><span class="sxs-lookup"><span data-stu-id="5b732-177">The origin read-timeout length increases from two seconds for general web delivery to two minutes for the large file optimization type.</span></span> <span data-ttu-id="5b732-178">這會增加帳戶，讓較大的檔案大小避免提早逾時連接。</span><span class="sxs-lookup"><span data-stu-id="5b732-178">This increase accounts for the larger file sizes to avoid a premature timeout connection.</span></span>

<span data-ttu-id="5b732-179">當連線逾時，CDN 會先重試幾次，再向用戶端傳送「504 - 閘道逾時」錯誤。</span><span class="sxs-lookup"><span data-stu-id="5b732-179">When a connection times out, the CDN retries a number of times before it sends a "504 - Gateway Timeout" error to the client.</span></span> 

### <a name="conditions-for-large-file-optimization"></a><span data-ttu-id="5b732-180">大型檔案最佳化的條件</span><span class="sxs-lookup"><span data-stu-id="5b732-180">Conditions for large file optimization</span></span>

<span data-ttu-id="5b732-181">下表列出大型檔案最佳化所需滿足的準則集合：</span><span class="sxs-lookup"><span data-stu-id="5b732-181">The following table lists the set of criteria to be satisfied for large file optimization:</span></span>

<span data-ttu-id="5b732-182">條件</span><span class="sxs-lookup"><span data-stu-id="5b732-182">Condition</span></span> | <span data-ttu-id="5b732-183">值</span><span class="sxs-lookup"><span data-stu-id="5b732-183">Values</span></span> 
--- | --- 
<span data-ttu-id="5b732-184">支援的檔案類型</span><span class="sxs-lookup"><span data-stu-id="5b732-184">Supported file types</span></span> | <span data-ttu-id="5b732-185">3g2、3gp、asf、avi、bz2、dmg、exe、f4v、flv、</span><span class="sxs-lookup"><span data-stu-id="5b732-185">3g2, 3gp, asf, avi, bz2, dmg, exe, f4v, flv,</span></span> <br> <span data-ttu-id="5b732-186">gz、hdp、iso、jxr、m4v、mkv、mov、mp4、</span><span class="sxs-lookup"><span data-stu-id="5b732-186">gz, hdp, iso, jxr, m4v, mkv, mov, mp4,</span></span> <br> <span data-ttu-id="5b732-187">mpeg、mpg、mts、pkg、qt、rm、swf、tar、</span><span class="sxs-lookup"><span data-stu-id="5b732-187">mpeg, mpg, mts, pkg, qt, rm, swf, tar,</span></span> <br> <span data-ttu-id="5b732-188">tgz、wdp、webm、webp、wma、wmv、zip</span><span class="sxs-lookup"><span data-stu-id="5b732-188">tgz, wdp, webm, webp, wma, wmv, zip</span></span>  
<span data-ttu-id="5b732-189">檔案大小下限</span><span class="sxs-lookup"><span data-stu-id="5b732-189">Minimum file size</span></span> | <span data-ttu-id="5b732-190">10 MB</span><span class="sxs-lookup"><span data-stu-id="5b732-190">10 MB</span></span> 
<span data-ttu-id="5b732-191">檔案大小上限</span><span class="sxs-lookup"><span data-stu-id="5b732-191">Maximum file size</span></span> | <span data-ttu-id="5b732-192">150 GB</span><span class="sxs-lookup"><span data-stu-id="5b732-192">150 GB</span></span> 
<span data-ttu-id="5b732-193">原始伺服器特性</span><span class="sxs-lookup"><span data-stu-id="5b732-193">Origin server characteristics</span></span> | <span data-ttu-id="5b732-194">必須支援位元組範圍要求</span><span class="sxs-lookup"><span data-stu-id="5b732-194">Must support byte-range requests</span></span> 

## <a name="optimize-for-delivery-of-large-files-with-the-azure-content-delivery-network-from-verizon"></a><span data-ttu-id="5b732-195">使用 Verizon 的 Azure 內容傳遞網路最佳化大型檔案的傳遞</span><span class="sxs-lookup"><span data-stu-id="5b732-195">Optimize for delivery of large files with the Azure Content Delivery Network from Verizon</span></span>

<span data-ttu-id="5b732-196">Verizon 的 Azure 內容傳遞網路傳遞大型檔案沒有檔案大小限制。</span><span class="sxs-lookup"><span data-stu-id="5b732-196">The Azure Content Delivery Network from Verizon delivers large files without a cap on file size.</span></span> <span data-ttu-id="5b732-197">預設會開啟額外的功能，以更快傳遞大型檔案。</span><span class="sxs-lookup"><span data-stu-id="5b732-197">Additional features are turned on by default to make delivery of large files faster.</span></span>

### <a name="complete-cache-fill"></a><span data-ttu-id="5b732-198">完成快取填滿</span><span class="sxs-lookup"><span data-stu-id="5b732-198">Complete cache fill</span></span>

<span data-ttu-id="5b732-199">預設的完成快取填滿功能，可讓 CDN 在初始要求被放棄或遺失時，將檔案提取至快取。</span><span class="sxs-lookup"><span data-stu-id="5b732-199">The default complete cache fill feature enables the CDN to pull a file into the cache when an initial request is abandoned or lost.</span></span> 

<span data-ttu-id="5b732-200">完成快取填滿最適合大型資產。</span><span class="sxs-lookup"><span data-stu-id="5b732-200">Complete cache fill is most useful for large assets.</span></span> <span data-ttu-id="5b732-201">使用者一般不會從頭到尾下載。</span><span class="sxs-lookup"><span data-stu-id="5b732-201">Typically, users don't download them from start to finish.</span></span> <span data-ttu-id="5b732-202">他們使用漸進式下載。</span><span class="sxs-lookup"><span data-stu-id="5b732-202">They use progressive download.</span></span> <span data-ttu-id="5b732-203">預設行為會強制 Edge Server 從原始伺服器起始資產的背景擷取。</span><span class="sxs-lookup"><span data-stu-id="5b732-203">The default behavior forces the edge server to initiate a background fetch of the asset from the origin server.</span></span> <span data-ttu-id="5b732-204">之後，資產會位於 Edge Server 的本機快取中。</span><span class="sxs-lookup"><span data-stu-id="5b732-204">Afterward, the asset is in the edge server's local cache.</span></span> <span data-ttu-id="5b732-205">在完整物件位於快取之後，Edge Server 可針對快取的物件滿足 CDN 的位元組範圍要求。</span><span class="sxs-lookup"><span data-stu-id="5b732-205">After the full object is in the cache, the edge server fulfills byte-range requests to the CDN for the cached object.</span></span>

<span data-ttu-id="5b732-206">預設行為可以透過 Verizon Premium 層中的規則引擎來停用。</span><span class="sxs-lookup"><span data-stu-id="5b732-206">The default behavior can be disabled through the Rules Engine in the Verizon Premium tier.</span></span>

### <a name="peer-cache-fill-hot-filing"></a><span data-ttu-id="5b732-207">對等快取填滿 Hotfiling</span><span class="sxs-lookup"><span data-stu-id="5b732-207">Peer cache fill hot-filing</span></span>

<span data-ttu-id="5b732-208">預設的對等快取填滿 hot-filing 功能使用複雜的專屬演算法。</span><span class="sxs-lookup"><span data-stu-id="5b732-208">The default peer cache fill hot-filing feature uses a sophisticated proprietary algorithm.</span></span> <span data-ttu-id="5b732-209">它根據頻寬及彙總要求計量，使用其他的快取 Edge Server，滿足用戶端對大型、熱門物件的要求。</span><span class="sxs-lookup"><span data-stu-id="5b732-209">It uses additional edge caching servers based on bandwidth and aggregate requests metrics to fulfill client requests for large, highly popular objects.</span></span> <span data-ttu-id="5b732-210">這項功能可防止將大量額外要求傳送至使用者原始伺服器的情況。</span><span class="sxs-lookup"><span data-stu-id="5b732-210">This feature prevents a situation in which large numbers of extra requests are sent to a user's origin server.</span></span> 

### <a name="conditions-for-large-file-optimization"></a><span data-ttu-id="5b732-211">大型檔案最佳化的條件</span><span class="sxs-lookup"><span data-stu-id="5b732-211">Conditions for large file optimization</span></span>

<span data-ttu-id="5b732-212">預設開啟 Verizon 的最佳化功能。</span><span class="sxs-lookup"><span data-stu-id="5b732-212">The optimization features for Verizon are turned on by default.</span></span> <span data-ttu-id="5b732-213">檔案大小上限沒有任何限制。</span><span class="sxs-lookup"><span data-stu-id="5b732-213">There are no limits on maximum file size.</span></span> 

## <a name="additional-considerations"></a><span data-ttu-id="5b732-214">其他考量</span><span class="sxs-lookup"><span data-stu-id="5b732-214">Additional considerations</span></span>

<span data-ttu-id="5b732-215">請考慮此最佳化類型下列其他層面。</span><span class="sxs-lookup"><span data-stu-id="5b732-215">Consider the following additional aspects for this optimization type.</span></span>
 
### <a name="azure-content-delivery-network-from-akamai"></a><span data-ttu-id="5b732-216">Akamai 的 Azure 內容傳遞網路</span><span class="sxs-lookup"><span data-stu-id="5b732-216">Azure Content Delivery Network from Akamai</span></span>

- <span data-ttu-id="5b732-217">區塊處理程序會對原始伺服器產生其他要求。</span><span class="sxs-lookup"><span data-stu-id="5b732-217">The chunking process generates additional requests to the origin server.</span></span> <span data-ttu-id="5b732-218">不過，原始伺服器傳遞的整個資料量會小很多。</span><span class="sxs-lookup"><span data-stu-id="5b732-218">However, the overall volume of data delivered from the origin is much smaller.</span></span> <span data-ttu-id="5b732-219">區塊處理會導致 CDN 更好的快取特性。</span><span class="sxs-lookup"><span data-stu-id="5b732-219">Chunking results in better caching characteristics at the CDN.</span></span>

- <span data-ttu-id="5b732-220">降低原始伺服器的記憶體和 I/O 壓力，因為傳遞較小的檔案片段。</span><span class="sxs-lookup"><span data-stu-id="5b732-220">Memory and I/O pressure are reduced at the origin because smaller pieces of the file are delivered.</span></span>

- <span data-ttu-id="5b732-221">在 CDN 快取的區塊，在內容到期或從快取收回之前，對原始伺服器沒有任何其他要求。</span><span class="sxs-lookup"><span data-stu-id="5b732-221">For chunks cached at the CDN, there are no additional requests to the origin until the content expires or it's evicted from the cache.</span></span>

- <span data-ttu-id="5b732-222">使用者可以向 CDN 提出範圍要求，這些要求會被視為任何一般檔案處理。</span><span class="sxs-lookup"><span data-stu-id="5b732-222">Users can make range requests to the CDN, and they're treated like any normal file.</span></span> <span data-ttu-id="5b732-223">只有當檔案類型有效，且位元組範圍介於 10 MB 到 150 GB 之間時，才適用最佳化。</span><span class="sxs-lookup"><span data-stu-id="5b732-223">Optimization applies only if it's a valid file type and the byte range is between 10 MB and 150 GB.</span></span> <span data-ttu-id="5b732-224">如果要求的平均檔案大小小於 10 MB，您可能會想要改用一般 Web 傳遞。</span><span class="sxs-lookup"><span data-stu-id="5b732-224">If the average file size requested is smaller than 10 MB, you might want to use general web delivery instead.</span></span>

### <a name="azure-content-delivery-network-from-verizon"></a><span data-ttu-id="5b732-225">Verizon 的 Azure 內容傳遞網路</span><span class="sxs-lookup"><span data-stu-id="5b732-225">Azure Content Delivery Network from Verizon</span></span>

<span data-ttu-id="5b732-226">一般 Web 傳遞最佳化類型能夠傳遞大型檔案。</span><span class="sxs-lookup"><span data-stu-id="5b732-226">The general web delivery optimization type can deliver large files.</span></span>
