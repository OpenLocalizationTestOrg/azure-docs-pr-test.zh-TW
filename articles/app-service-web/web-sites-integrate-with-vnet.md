---
title: "aaaIntegrate 與 Azure 虛擬網路的應用程式"
description: "為您示範如何 tooconnect Azure App Service tooa 新的或現有 Azure 虛擬網路中的應用程式"
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: a93c504481400245b02220b541a008a7c874d10a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="35b95-103">將您的應用程式與 Azure 虛擬網路整合</span><span class="sxs-lookup"><span data-stu-id="35b95-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="35b95-104">本文件說明 hello Azure App Service 虛擬網路整合功能，並顯示如何 tooset 它與應用程式中[Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714)。</span><span class="sxs-lookup"><span data-stu-id="35b95-104">This document describes hello Azure App Service virtual network integration feature and shows how tooset it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="35b95-105">如果您不熟悉 Azure 虛擬網路 (Vnet)，這是一種功能，可讓您 tooplace 許多非網際網路 routeable 網路而您控制在您的 Azure 資源存取權。</span><span class="sxs-lookup"><span data-stu-id="35b95-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you tooplace many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="35b95-106">這些網路接著可以使用各種不同的 VPN 技術 tooyour 連線在內部部署網路。</span><span class="sxs-lookup"><span data-stu-id="35b95-106">These networks can then be connected tooyour on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="35b95-107">深入了解 Azure 虛擬網路，toolearn 開頭 hello 的相關資訊： [Azure 虛擬網路概觀][VNETOverview]。</span><span class="sxs-lookup"><span data-stu-id="35b95-107">toolearn more about Azure Virtual Networks, start with hello information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="35b95-108">hello Azure App Service 中有兩種形式。</span><span class="sxs-lookup"><span data-stu-id="35b95-108">hello Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="35b95-109">hello 多租用戶系統支援 hello 完整的定價方案</span><span class="sxs-lookup"><span data-stu-id="35b95-109">hello multi-tenant systems that support hello full range of pricing plans</span></span>
2. <span data-ttu-id="35b95-110">hello 應用程式服務環境 (ASE) premium 功能，可部署到您的 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-110">hello App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="35b95-111">本文會演練 VNet 整合和非 App Service 環境。</span><span class="sxs-lookup"><span data-stu-id="35b95-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="35b95-112">如果您想深入了解 hello ASE 功能 toolearn，開頭 hello 的相關資訊： [App Service 環境簡介][ASEintro]。</span><span class="sxs-lookup"><span data-stu-id="35b95-112">If you want toolearn more about hello ASE feature, start with hello information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="35b95-113">VNet 整合提供您的 web 應用程式存取 tooresources 虛擬網路中，但是不授予私用存取 tooyour web 應用程式從 hello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="35b95-113">VNet Integration gives your web app access tooresources in your virtual network but does not grant private access tooyour web app from hello virtual network.</span></span> <span data-ttu-id="35b95-114">私用的站台存取，是指 toomaking 您只可從私人網路存取這類從 Azure 虛擬網路內的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-114">Private site access refers toomaking your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="35b95-115">只有使用透過內部負載平衡器 (ILB) 設定的 ASE 才可使用私人網站存取。</span><span class="sxs-lookup"><span data-stu-id="35b95-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="35b95-116">如需使用 ILB ase 中的詳細資訊，開始及 hello 文件：[建立和使用 ILB ASE][ILBASE]。</span><span class="sxs-lookup"><span data-stu-id="35b95-116">For details on using an ILB ASE, start with hello article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="35b95-117">常見的案例，您會使用 VNet 整合正在啟用您的 web 應用程式 tooa 資料庫或 Azure 虛擬網路中的虛擬機器上執行的 web 服務存取。</span><span class="sxs-lookup"><span data-stu-id="35b95-117">A common scenario where you would use VNet Integration is enabling access from your web app tooa database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="35b95-118">使用 VNet 整合您的應用程式不需要的 tooexpose 公用端點 VM 上，但可以改用 hello 私用非網際網路可路由傳送位址。</span><span class="sxs-lookup"><span data-stu-id="35b95-118">With VNet Integration, you don't need tooexpose a public endpoint for applications on your VM but can use hello private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="35b95-119">hello VNet 整合功能：</span><span class="sxs-lookup"><span data-stu-id="35b95-119">hello VNet Integration feature:</span></span>

* <span data-ttu-id="35b95-120">需要「標準」、「進階」或「隔離」價格方案</span><span class="sxs-lookup"><span data-stu-id="35b95-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="35b95-121">使用傳統 VNet 或 Resource Manager VNet 使用傳統或 Resource Manager VNet</span><span class="sxs-lookup"><span data-stu-id="35b95-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="35b95-122">支援 TCP 和 UDP</span><span class="sxs-lookup"><span data-stu-id="35b95-122">supports TCP and UDP</span></span>
* <span data-ttu-id="35b95-123">使用 Web、行動及 API 應用程式</span><span class="sxs-lookup"><span data-stu-id="35b95-123">works with Web, Mobile, and API apps</span></span>
* <span data-ttu-id="35b95-124">可讓應用程式 tooconnect tooonly 1 一次的 VNet</span><span class="sxs-lookup"><span data-stu-id="35b95-124">enables an app tooconnect tooonly 1 VNet at a time</span></span>
* <span data-ttu-id="35b95-125">可讓向上 toofive Vnet toobe 與整合在 App Service 方案</span><span class="sxs-lookup"><span data-stu-id="35b95-125">enables up toofive VNets toobe integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="35b95-126">可讓應用程式服務計劃中的多個應用程式所使用的相同的 VNet toobe hello</span><span class="sxs-lookup"><span data-stu-id="35b95-126">allows hello same VNet toobe used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="35b95-127">支援 hello VNet 閘道因為 toohello SLA 99.9%SLA</span><span class="sxs-lookup"><span data-stu-id="35b95-127">supports a 99.9% SLA due toohello SLA on hello VNet Gateway</span></span>

<span data-ttu-id="35b95-128">VNet 整合不支援的事項包括：</span><span class="sxs-lookup"><span data-stu-id="35b95-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="35b95-129">掛接磁碟機</span><span class="sxs-lookup"><span data-stu-id="35b95-129">mounting a drive</span></span>
* <span data-ttu-id="35b95-130">AD 整合</span><span class="sxs-lookup"><span data-stu-id="35b95-130">AD integration</span></span> 
* <span data-ttu-id="35b95-131">NetBios</span><span class="sxs-lookup"><span data-stu-id="35b95-131">NetBios</span></span>
* <span data-ttu-id="35b95-132">私人網站存取</span><span class="sxs-lookup"><span data-stu-id="35b95-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="35b95-133">開始使用</span><span class="sxs-lookup"><span data-stu-id="35b95-133">Getting started</span></span>
<span data-ttu-id="35b95-134">連接 web 應用程式 tooa 虛擬網路之前，請注意以下是一些事情 tookeep:</span><span class="sxs-lookup"><span data-stu-id="35b95-134">Here are some things tookeep in mind before connecting your web app tooa virtual network:</span></span>

* <span data-ttu-id="35b95-135">VNet 整合僅會使用**標準**、**進階**或**隔離**價格方案中的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="35b95-136">如果您啟用 hello 功能，然後調整 不支援您的應用程式服務方案 tooan 定價計劃您的應用程式會遺失其連線 toohello 他們使用的 Vnet。</span><span class="sxs-lookup"><span data-stu-id="35b95-136">If you enable hello feature, and then scale your App Service Plan tooan unsupported pricing plan your apps lose their connections toohello VNets they are using.</span></span> 
* <span data-ttu-id="35b95-137">如果您的目標虛擬網路已經存在，它必須啟用動態路由閘道後才能連接的 tooan 應用程式的點對站 VPN。</span><span class="sxs-lookup"><span data-stu-id="35b95-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected tooan app.</span></span> <span data-ttu-id="35b95-138">如果您以靜態路由設定閘道，便無法啟用點對站的虛擬私人網路 (VPN)。</span><span class="sxs-lookup"><span data-stu-id="35b95-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="35b95-139">hello VNet 必須在 hello 您應用程式服務 Plan(ASP) 相同訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="35b95-139">hello VNet must be in hello same subscription as your App Service Plan(ASP).</span></span> 
* <span data-ttu-id="35b95-140">hello 與 VNet 整合的應用程式使用 hello 指定該 vnet 的 DNS。</span><span class="sxs-lookup"><span data-stu-id="35b95-140">hello apps that integrate with a VNet use hello DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="35b95-141">根據預設應用程式整合僅路由傳送流量至 VNet 的 VNet 中定義的 hello 路由為基礎。</span><span class="sxs-lookup"><span data-stu-id="35b95-141">By default your integrating apps only route traffic into your VNet based on hello routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="35b95-142">啟用 VNet 整合</span><span class="sxs-lookup"><span data-stu-id="35b95-142">Enabling VNet Integration</span></span>
<span data-ttu-id="35b95-143">本文件著重於使用 VNet 整合 hello Azure 入口網站。</span><span class="sxs-lookup"><span data-stu-id="35b95-143">This document is focused primarily on using hello Azure portal for VNet Integration.</span></span> <span data-ttu-id="35b95-144">tooenable VNet 整合與您的應用程式使用 PowerShell，請遵循此處 hello 方向：[您應用程式 tooyour 虛擬網路連線使用 PowerShell][IntPowershell]。</span><span class="sxs-lookup"><span data-stu-id="35b95-144">tooenable VNet Integration with your app using PowerShell, follow hello directions here: [Connect your app tooyour virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="35b95-145">您擁有 hello 選項 tooconnect 您應用程式 tooa 新的或現有的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="35b95-145">You have hello option tooconnect your app tooa new or existing virtual network.</span></span> <span data-ttu-id="35b95-146">如果您建立新的網路，您的整合的一部分，此外 toojust 建立 hello VNet、 動態路由閘道已預先設定為您然後點 tooSite VPN 已啟用。</span><span class="sxs-lookup"><span data-stu-id="35b95-146">If you create a new network as a part of your integration, then in addition toojust creating hello VNet, a dynamic routing gateway is pre-configured for you and Point tooSite VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="35b95-147">設定新的虛擬網路整合可能需要幾分鐘的時間才能完成。</span><span class="sxs-lookup"><span data-stu-id="35b95-147">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="35b95-148">tooenable VNet 整合，開啟您的應用程式設定，然後選取 網路功能。</span><span class="sxs-lookup"><span data-stu-id="35b95-148">tooenable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="35b95-149">開啟 UI hello 提供三個網路的選項。</span><span class="sxs-lookup"><span data-stu-id="35b95-149">hello UI that opens up offers three networking choices.</span></span> <span data-ttu-id="35b95-150">本指南只探討 VNet 整合，但本文件稍後會討論混合式連接和 App Service 環境。</span><span class="sxs-lookup"><span data-stu-id="35b95-150">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="35b95-151">如果您的應用程式不在 hello 正確定價方案中，hello UI 可讓您 tooscale 高定價您選擇的計劃您計劃 tooa。</span><span class="sxs-lookup"><span data-stu-id="35b95-151">If your app is not in hello correct pricing plan, hello UI enables you tooscale your plan tooa higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="35b95-152">啟用與既存的 VNet 的 VNet 整合</span><span class="sxs-lookup"><span data-stu-id="35b95-152">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="35b95-153">hello VNet 整合 UI 可讓您 tooselect 從 Vnet 的清單。</span><span class="sxs-lookup"><span data-stu-id="35b95-153">hello VNet Integration UI allows you tooselect from a list of your VNets.</span></span> <span data-ttu-id="35b95-154">hello 傳統 Vnet 表示它們的這類 hello 字 [傳統] 5d 下一步 toohello VNet 名稱括號中。</span><span class="sxs-lookup"><span data-stu-id="35b95-154">hello Classic VNets indicate that they are such with hello word "Classic" in parentheses next toohello VNet name.</span></span> <span data-ttu-id="35b95-155">hello 清單排序，hello Vnet 資源管理員會先列出。</span><span class="sxs-lookup"><span data-stu-id="35b95-155">hello list is sorted such that hello Resource Manager VNets are listed first.</span></span> <span data-ttu-id="35b95-156">在 hello 下面顯示的影像所見，可以選取單一 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-156">In hello image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="35b95-157">有多個原因導致 VNet 呈現灰色，包括：</span><span class="sxs-lookup"><span data-stu-id="35b95-157">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="35b95-158">hello VNet 位於您的帳戶具有存取權的另一個訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="35b95-158">hello VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="35b95-159">沒有啟用點 tooSite hello VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-159">hello VNet does not have Point tooSite enabled</span></span>
* <span data-ttu-id="35b95-160">hello VNet 沒有動態路由閘道</span><span class="sxs-lookup"><span data-stu-id="35b95-160">hello VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="35b95-161">只要按一下 hello VNet 想與 toointegrate tooenable 整合。</span><span class="sxs-lookup"><span data-stu-id="35b95-161">tooenable integration simply click on hello VNet you wish toointegrate with.</span></span> <span data-ttu-id="35b95-162">選取 hello VNet 後，您的應用程式會自動重新啟動 hello 變更 tootake 效果。</span><span class="sxs-lookup"><span data-stu-id="35b95-162">After you select hello VNet, your app is automatically restarted for hello changes tootake effect.</span></span> 

##### <a name="enable-point-toosite-in-a-classic-vnet"></a><span data-ttu-id="35b95-163">啟用在傳統的 VNet 中的點 tooSite</span><span class="sxs-lookup"><span data-stu-id="35b95-163">Enable Point tooSite in a Classic VNet</span></span>
<span data-ttu-id="35b95-164">如果您的 VNet 沒有閘道，也有點 tooSite，則必須 tooset 的最新的第一個。</span><span class="sxs-lookup"><span data-stu-id="35b95-164">If your VNet does not have a gateway nor has Point tooSite, then you have tooset that up first.</span></span> <span data-ttu-id="35b95-165">此作業對於傳統的 VNet，請移 toodo toohello [Azure 入口網站][ AzurePortal]並顯示 hello 虛擬 Networks(classic) 清單。</span><span class="sxs-lookup"><span data-stu-id="35b95-165">toodo this for a Classic VNet, go toohello [Azure portal][AzurePortal] and bring up hello list of Virtual Networks(classic).</span></span> <span data-ttu-id="35b95-166">從這裡開始，按一下您想與 toointegrate 並稱為 VPN 連線的 Essentials 底下 hello 大方塊上按一下 hello 網路上。</span><span class="sxs-lookup"><span data-stu-id="35b95-166">From here, click on hello network you want toointegrate with and click on hello big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="35b95-167">從這裡，您可以建立點 toosite VPN 及甚至可將它建立閘道。</span><span class="sxs-lookup"><span data-stu-id="35b95-167">From here, you can create your point toosite VPN and even have it create a gateway.</span></span> <span data-ttu-id="35b95-168">之後您瀏覽 hello 點 toosite 閘道建立體驗是大約 30 分鐘才能開始。</span><span class="sxs-lookup"><span data-stu-id="35b95-168">After you go through hello point toosite with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-toosite-in-a-resource-manager-vnet"></a><span data-ttu-id="35b95-169">啟用資源管理員 VNet 中的點 tooSite</span><span class="sxs-lookup"><span data-stu-id="35b95-169">Enabling Point tooSite in a Resource Manager VNet</span></span>
<span data-ttu-id="35b95-170">tooconfigure 點 tooSite 的閘道與資源管理員 VNet，您可以使用 PowerShell 所述，[設定點對站連線 tooa 虛擬網路使用 PowerShell] [ V2VNETP2S]所述，使用 hello Azure 入口網站或[設定點對站連線 tooa VNet 使用 hello Azure 入口網站][V2VNETPortal]。</span><span class="sxs-lookup"><span data-stu-id="35b95-170">tooconfigure a Resource Manager VNet with a gateway and Point tooSite, you can use either PowerShell as documented here, [Configure a Point-to-Site connection tooa virtual network using PowerShell][V2VNETP2S] or use hello Azure portal as documented here, [Configure a Point-to-Site connection tooa VNet using hello Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="35b95-171">hello UI tooperform 這項功能尚無法使用。</span><span class="sxs-lookup"><span data-stu-id="35b95-171">hello UI tooperform this capability is not yet available.</span></span> <span data-ttu-id="35b95-172">請注意，您需要 toocreate 憑證 hello 點 tooSite 組態。</span><span class="sxs-lookup"><span data-stu-id="35b95-172">Note that you need toocreate certificates for hello Point tooSite configuration.</span></span> <span data-ttu-id="35b95-173">當您連接您 WebApp toohello VNet 時這會自動設定的。</span><span class="sxs-lookup"><span data-stu-id="35b95-173">This is automatically configured when you connect your WebApp toohello VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="35b95-174">建立預先設定的 VNet</span><span class="sxs-lookup"><span data-stu-id="35b95-174">Creating a pre-configured VNet</span></span>
<span data-ttu-id="35b95-175">如果您想 toocreate 新的 VNet 設定閘道和點對站，則 hello 網路 UI 的應用程式服務 hello 功能 toodo，但只供資源管理員 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-175">If you want toocreate a new VNet that is configured with a gateway and Point-to-Site, then hello App Service networking UI has hello capability toodo that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="35b95-176">如果您希望 toocreate 傳統 VNet 閘道點對站台，然後您需要 toodo 此手動透過 hello 網路使用者介面。</span><span class="sxs-lookup"><span data-stu-id="35b95-176">If you wish toocreate a Classic VNet with a gateway and Point-to-Site, then you need toodo this manually through hello Networking user interface.</span></span> 

<span data-ttu-id="35b95-177">只需選取 toocreate 透過 hello VNet 整合 UI，資源管理員 VNet**建立新的虛擬網路**並提供:</span><span class="sxs-lookup"><span data-stu-id="35b95-177">toocreate a Resource Manager VNet through hello VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="35b95-178">虛擬網路名稱</span><span class="sxs-lookup"><span data-stu-id="35b95-178">Virtual Network Name</span></span>
* <span data-ttu-id="35b95-179">虛擬網路位址區塊</span><span class="sxs-lookup"><span data-stu-id="35b95-179">Virtual Network Address Block</span></span>
* <span data-ttu-id="35b95-180">子網路名稱</span><span class="sxs-lookup"><span data-stu-id="35b95-180">Subnet Name</span></span>
* <span data-ttu-id="35b95-181">子網路位址區塊</span><span class="sxs-lookup"><span data-stu-id="35b95-181">Subnet Address Block</span></span>
* <span data-ttu-id="35b95-182">閘道器位址區塊</span><span class="sxs-lookup"><span data-stu-id="35b95-182">Gateway Address Block</span></span>
* <span data-ttu-id="35b95-183">點對站位址區塊</span><span class="sxs-lookup"><span data-stu-id="35b95-183">Point-to-Site Address Block</span></span>

<span data-ttu-id="35b95-184">如果您希望此 VNet tooconnect tooany 其他網路，您應該避免與這些網路重疊的 IP 位址空間一樣被挑選。</span><span class="sxs-lookup"><span data-stu-id="35b95-184">If you want this VNet tooconnect tooany other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="35b95-185">資源管理員 VNet 建立閘道約需 30 分鐘，和目前不會整合 hello VNet 與您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-185">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate hello VNet with your app.</span></span> <span data-ttu-id="35b95-186">VNet 建立 hello 閘道之後您會需要 toocome 後 tooyour 應用程式 VNet 整合 UI，並選取新的 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-186">After your VNet is created with hello gateway you need toocome back tooyour app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="35b95-187">通常，Azure VNet 是在私人網路位址內建立。</span><span class="sxs-lookup"><span data-stu-id="35b95-187">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="35b95-188">依預設 hello VNet 整合功能可路由傳送到您的 VNet 指向這些 IP 位址範圍的任何流量。</span><span class="sxs-lookup"><span data-stu-id="35b95-188">By default hello VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="35b95-189">hello 私人 IP 位址範圍為：</span><span class="sxs-lookup"><span data-stu-id="35b95-189">hello private IP address ranges are:</span></span>

* <span data-ttu-id="35b95-190">-這是 hello 相同為 10.0.0.0，-10.0.0.0/8 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="35b95-190">10.0.0.0/8 - this is hello same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="35b95-191">-這是 hello 相同為 172.16.0.0-172.16.0.0/12 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="35b95-191">172.16.0.0/12 - this is hello same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="35b95-192">192.168.0.0/16-這是 hello 相同為 192.168.0.0-192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="35b95-192">192.168.0.0/16 - this is hello same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="35b95-193">hello VNet 位址空間必須以 CIDR 表示法指定 toobe。</span><span class="sxs-lookup"><span data-stu-id="35b95-193">hello VNet address space needs toobe specified in CIDR notation.</span></span> <span data-ttu-id="35b95-194">如果您不熟悉使用 CIDR 表示法，它是方法，以指定使用的 IP 位址和整數，表示 hello 網路遮罩的位址區塊。</span><span class="sxs-lookup"><span data-stu-id="35b95-194">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents hello network mask.</span></span> <span data-ttu-id="35b95-195">做為快速參考，請考慮 10.1.0.0/24 將是 256 個位址，而 10.1.0.0/25 將是 128 個位址。</span><span class="sxs-lookup"><span data-stu-id="35b95-195">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="35b95-196">搭配 /32 的 IPv4 位址將只是 1 個地址。</span><span class="sxs-lookup"><span data-stu-id="35b95-196">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="35b95-197">如果您在此處設定 hello DNS 伺服器資訊，然後，設定您的 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-197">If you set hello DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="35b95-198">VNet 建立後，您可以編輯 hello VNet 的使用者經驗的這項資訊。</span><span class="sxs-lookup"><span data-stu-id="35b95-198">After VNet creation you can edit this information from hello VNet user experiences.</span></span> <span data-ttu-id="35b95-199">如果您變更 hello 的 hello VNet DNS 時，您需要 tooperform 同步網路作業。</span><span class="sxs-lookup"><span data-stu-id="35b95-199">If you change hello DNS of hello VNet, then you need tooperform a Sync Network operation.</span></span>

<span data-ttu-id="35b95-200">當您建立使用 VNet 整合 UI hello 傳統 VNet 時，它會在 hello 建立 VNet 相同資源群組的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-200">When you create a Classic VNet using hello VNet Integration UI, it creates a VNet in hello same resource group as your app.</span></span> 

## <a name="how-hello-system-works"></a><span data-ttu-id="35b95-201">Hello 系統的運作方式</span><span class="sxs-lookup"><span data-stu-id="35b95-201">How hello system works</span></span>
<span data-ttu-id="35b95-202">Hello 幕後這項功能建置在點對站 VPN 技術 tooconnect 之上您應用程式 tooyour VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-202">Under hello covers this feature builds on top of Point-to-Site VPN technology tooconnect your app tooyour VNet.</span></span> <span data-ttu-id="35b95-203">Azure App Service 中的應用程式具備多租用戶的系統架構，其會防止在 VNet 中直接佈建應用程式，就像使用虛擬機器所做的一樣。</span><span class="sxs-lookup"><span data-stu-id="35b95-203">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="35b95-204">藉由建立點對站台技術，我們會限制網路存取 toojust hello 主控虛擬機器 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-204">By building on point-to-site technology we limit network access toojust hello virtual machine hosting hello app.</span></span> <span data-ttu-id="35b95-205">網路存取 toohello 進一步限制在這些應用程式主機上，讓您的應用程式只能存取，您將其設定 tooaccess hello 網路。</span><span class="sxs-lookup"><span data-stu-id="35b95-205">Access toohello network is further restricted on those app hosts so that your apps can only access hello networks that you configure them tooaccess.</span></span> 

![][4]

<span data-ttu-id="35b95-206">如果您尚未設定 DNS 伺服器與虛擬網路，您的應用程式需要 toouse hello VNet 的 IP 位址 tooreach 資源。</span><span class="sxs-lookup"><span data-stu-id="35b95-206">If you haven’t configured a DNS server with your virtual network, your app will need toouse IP addresses tooreach resource in hello VNet.</span></span> <span data-ttu-id="35b95-207">在使用 IP 位址，請記住 hello 的這項功能的主要優點是，它可讓您在私人網路內 toouse hello 私人位址。</span><span class="sxs-lookup"><span data-stu-id="35b95-207">While using IP addresses, remember that hello major benefit of this feature is that it enables you toouse hello private addresses within your private network.</span></span> <span data-ttu-id="35b95-208">如果您在您不使用 hello VNet 整合功能，並且透過進行通訊 toouse 註冊您的應用程式的公用 IP 位址設定的其中一個 Vm，hello 網際網路。</span><span class="sxs-lookup"><span data-stu-id="35b95-208">If you set your app up toouse public IP addresses for one of your VMs, then you aren't using hello VNet Integration feature and are communicating over hello internet.</span></span>

## <a name="managing-hello-vnet-integrations"></a><span data-ttu-id="35b95-209">管理 hello VNet 整合</span><span class="sxs-lookup"><span data-stu-id="35b95-209">Managing hello VNet Integrations</span></span>
<span data-ttu-id="35b95-210">hello 能力 tooconnect，並中斷連線的 tooa VNet 位於應用程式層級。</span><span class="sxs-lookup"><span data-stu-id="35b95-210">hello ability tooconnect and disconnect tooa VNet is at an app level.</span></span> <span data-ttu-id="35b95-211">可能會影響多個應用程式的 hello VNet 整合作業是在 ASP 層級。</span><span class="sxs-lookup"><span data-stu-id="35b95-211">Operations that can affect hello VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="35b95-212">從 hello 顯示 hello 應用程式層級的 UI，您可以取得詳細資訊，在您的 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-212">From hello UI that is shown at hello app level, you can get details on your VNet.</span></span> <span data-ttu-id="35b95-213">大部分的 hello 相同的資訊也會顯示在 hello ASP 層級。</span><span class="sxs-lookup"><span data-stu-id="35b95-213">Most of hello same information is also shown at hello ASP level.</span></span> 

![][5]

<span data-ttu-id="35b95-214">從 hello 網路功能的狀態 頁面上，您可以看到您的應用程式是否已連線的 tooyour VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-214">From hello Network Feature Status page, you can see if your app is connected tooyour VNet.</span></span> <span data-ttu-id="35b95-215">無論您的 VNet 閘道基於何種原因關閉，此狀態將顯示為未連接。</span><span class="sxs-lookup"><span data-stu-id="35b95-215">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="35b95-216">現在您有可用的 tooyou hello 應用程式層級的 VNet 整合 UI 是以 hello 詳細資訊，您會收到 hello ASP hello 相同的 hello 資訊。</span><span class="sxs-lookup"><span data-stu-id="35b95-216">hello information you now have available tooyou in hello app level VNet Integration UI is hello same as hello detail information you get from hello ASP.</span></span> <span data-ttu-id="35b95-217">這些項目如下：</span><span class="sxs-lookup"><span data-stu-id="35b95-217">Here are those items:</span></span>

* <span data-ttu-id="35b95-218">VNet 名稱-這個連結會開啟 hello Azure 虛擬網路 UI</span><span class="sxs-lookup"><span data-stu-id="35b95-218">VNet Name - This link opens hello Azure virtual network UI</span></span>
* <span data-ttu-id="35b95-219">位置-這反映出您的 VNet hello 位置。</span><span class="sxs-lookup"><span data-stu-id="35b95-219">Location - This reflects hello location of your VNet.</span></span> <span data-ttu-id="35b95-220">可能與另一個位置中的 VNet toointegrate 它。</span><span class="sxs-lookup"><span data-stu-id="35b95-220">It is possible toointegrate with a VNet in another location.</span></span>
* <span data-ttu-id="35b95-221">憑證狀態-沒有使用憑證 toosecure hello hello 應用程式與 hello VNet 之間的 VPN 連線。</span><span class="sxs-lookup"><span data-stu-id="35b95-221">Certificate Status - There are certificates used toosecure hello VPN connection between hello app and hello VNet.</span></span> <span data-ttu-id="35b95-222">這會反映測試 tooensure 同步。</span><span class="sxs-lookup"><span data-stu-id="35b95-222">This reflects a test tooensure they are in sync.</span></span>
* <span data-ttu-id="35b95-223">閘道狀態-您的閘道應該因故然後應用程式無法存取 hello VNet 中的資源。</span><span class="sxs-lookup"><span data-stu-id="35b95-223">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in hello VNet.</span></span> 
* <span data-ttu-id="35b95-224">VNet 位址空間-這是您的 VNet hello IP 位址空間。</span><span class="sxs-lookup"><span data-stu-id="35b95-224">VNet address space - This is hello IP address space for your VNet.</span></span> 
* <span data-ttu-id="35b95-225">點 tooSite 位址空間-這是您的 vnet hello 點 toosite IP 位址空間。</span><span class="sxs-lookup"><span data-stu-id="35b95-225">Point tooSite address space - This is hello point toosite IP address space for your VNet.</span></span> <span data-ttu-id="35b95-226">您的應用程式會顯示來自一個 hello 這個位址空間中的 Ip 通訊。</span><span class="sxs-lookup"><span data-stu-id="35b95-226">Your app shows communication as coming from one of hello IPs in this address space.</span></span> 
* <span data-ttu-id="35b95-227">站台 toosite 位址空間-您可以使用站台 tooSite Vpn tooconnect VNet tooyour 內部資源或 tooother VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-227">Site toosite address space - You can use Site tooSite VPNs tooconnect your VNet tooyour on-premises resources or tooother VNet.</span></span> <span data-ttu-id="35b95-228">您應該有設定則 hello IP 範圍定義的 VPN 連線，這裡顯示。</span><span class="sxs-lookup"><span data-stu-id="35b95-228">Should you have that configured then hello IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="35b95-229">DNS 伺服器 - 如果您已設定 DNS 伺服器與 VNet 搭配，則它們會列示在這裡。</span><span class="sxs-lookup"><span data-stu-id="35b95-229">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="35b95-230">Ip 路由傳送 toohello VNet-有一份您的 VNet 已路由，定義的 IP 位址，這些位址顯示在這裡。</span><span class="sxs-lookup"><span data-stu-id="35b95-230">IPs routed toohello VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="35b95-231">您可在您的 VNet 整合 hello 應用程式檢視中的 hello 唯一作業是的 toodisconnect 應用程式從 hello 目前連接到的 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-231">hello only operation you can take in hello app view of your VNet Integration is toodisconnect your app from hello VNet it is currently connected to.</span></span> <span data-ttu-id="35b95-232">toodo 只需按一下 中斷連線在 hello 最上方。</span><span class="sxs-lookup"><span data-stu-id="35b95-232">toodo this simply click Disconnect at hello top.</span></span> <span data-ttu-id="35b95-233">這個動作不會變更您的 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-233">This action does not change your VNet.</span></span> <span data-ttu-id="35b95-234">hello VNet 和其組態，包括 hello 閘道維持不變。</span><span class="sxs-lookup"><span data-stu-id="35b95-234">hello VNet and its configuration including hello gateways remains unchanged.</span></span> <span data-ttu-id="35b95-235">如果您想 toodelete VNet，您會需要 toofirst 刪除 hello 資源包括 hello 閘道。</span><span class="sxs-lookup"><span data-stu-id="35b95-235">If you then want toodelete your VNet, you need toofirst delete hello resources in it including hello gateways.</span></span> 

<span data-ttu-id="35b95-236">hello App Service 方案檢視有其他的作業數目。</span><span class="sxs-lookup"><span data-stu-id="35b95-236">hello App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="35b95-237">它也以不同的方式比從存取 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-237">It is also accessed differently than from hello app.</span></span> <span data-ttu-id="35b95-238">您的 ASP UI 和向下的捲動，只要開啟 tooreach hello ASP 網路功能的 UI。</span><span class="sxs-lookup"><span data-stu-id="35b95-238">tooreach hello ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="35b95-239">有一個稱為網路功能狀態的 UI 元素。</span><span class="sxs-lookup"><span data-stu-id="35b95-239">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="35b95-240">它會提供一些有關 VNet 整合的次要詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="35b95-240">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="35b95-241">按一下此 UI，就會開啟 hello 網路功能狀態的 UI。</span><span class="sxs-lookup"><span data-stu-id="35b95-241">Clicking on this UI opens hello Network Feature Status UI.</span></span> <span data-ttu-id="35b95-242">如果您按一下 on"按一下這裡 toomanage"，hello 列出在這個 ASP VNet 整合開啟的 hello 的 UI。</span><span class="sxs-lookup"><span data-stu-id="35b95-242">If you then click on "Click here toomanage", hello UI that lists hello VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="35b95-243">hello ASP hello 位置是很好的 tooremember，查看 hello hello 要整合的 Vnet 位置時。</span><span class="sxs-lookup"><span data-stu-id="35b95-243">hello location of hello ASP is good tooremember when looking at hello locations of hello VNets you are integrating with.</span></span> <span data-ttu-id="35b95-244">在另一個位置 hello VNet 時也更可能 toosee 延遲問題。</span><span class="sxs-lookup"><span data-stu-id="35b95-244">When hello VNet is in another location you are far more likely toosee latency issues.</span></span> 

<span data-ttu-id="35b95-245">hello Vnet 與整合是在此 ASP，而且您可以有多少與整合您的應用程式上多少的 Vnet 提醒。</span><span class="sxs-lookup"><span data-stu-id="35b95-245">hello VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="35b95-246">toosee 上每個 VNet，直接按一下 hello 您感興趣的 VNet 上加入詳細資料。</span><span class="sxs-lookup"><span data-stu-id="35b95-246">toosee added details on each VNet, just click on hello VNet you are interested in.</span></span> <span data-ttu-id="35b95-247">此外 toohello 先前說明的詳細資訊，您可以參閱 hello 應用程式在此 ASP 中使用該 VNet 的清單。</span><span class="sxs-lookup"><span data-stu-id="35b95-247">In addition toohello details that were noted earlier, you can also see a list of hello apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="35b95-248">關於 tooactions 有這兩個主要動作。</span><span class="sxs-lookup"><span data-stu-id="35b95-248">With respect tooactions there are two primary actions.</span></span> <span data-ttu-id="35b95-249">hello 第一個是磁碟機離開您的應用程式到您的 VNet 流量的 hello 能力 tooadd 路由。</span><span class="sxs-lookup"><span data-stu-id="35b95-249">hello first is hello ability tooadd routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="35b95-250">hello 第二個動作是 hello 能力 toosync 憑證和網路資訊。</span><span class="sxs-lookup"><span data-stu-id="35b95-250">hello second action is hello ability toosync certificates and network information.</span></span>

![][7]

<span data-ttu-id="35b95-251">**路由**如前文所述定義 VNet 中的 hello 路由是用途將流量導向到您的 VNet，從您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-251">**Routing** As noted earlier hello routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="35b95-252">雖然 hello VNet 和他們的客戶希望 toosend 額外傳出的流量從應用程式會提供這項功能，有一些用法。</span><span class="sxs-lookup"><span data-stu-id="35b95-252">There are some uses though where customers want toosend additional outbound traffic from an app into hello VNet and for them this capability is provided.</span></span> <span data-ttu-id="35b95-253">會發生什麼事 toohello 流量之後，已啟動 toohow hello 客戶設定其 VNet。</span><span class="sxs-lookup"><span data-stu-id="35b95-253">What happens toohello traffic after that is up toohow hello customer configures their VNet.</span></span> 

<span data-ttu-id="35b95-254">**憑證**hello 憑證狀態反映出 hello App Service toovalidate hello VPN 連線使用我們的 hello 憑證時仍值得所執行的檢查。</span><span class="sxs-lookup"><span data-stu-id="35b95-254">**Certificates** hello Certificate Status reflects a check being performed by hello App Service toovalidate that hello certificates that we are using for hello VPN connection are still good.</span></span> <span data-ttu-id="35b95-255">VNet 整合啟用時，如果這是 hello 第一個整合 toothat VNet 從這個 ASP，在任何應用程式就 hello 連線的憑證 tooensure hello 安全性需要的 exchange。</span><span class="sxs-lookup"><span data-stu-id="35b95-255">When VNet Integration enabled, then if this is hello first integration toothat VNet from any apps in this ASP, there is a required exchange of certificates tooensure hello security of hello connection.</span></span> <span data-ttu-id="35b95-256">Hello 憑證以及我們取得 hello DNS 設定、 路由和其他類似的項目描述 hello 網路。</span><span class="sxs-lookup"><span data-stu-id="35b95-256">Along with hello certificates we get hello DNS configuration, routes and other similar things that describe hello network.</span></span>
<span data-ttu-id="35b95-257">如果變更這些憑證或網路資訊，您需要 tooclick 「 同步處理網路 」。</span><span class="sxs-lookup"><span data-stu-id="35b95-257">If those certificates or network information is changed, then you need tooclick "Sync Network".</span></span> <span data-ttu-id="35b95-258">**注意**：按一下 [同步網路] 時，會導致應用程式與 VNet 之間的連線短暫中斷。</span><span class="sxs-lookup"><span data-stu-id="35b95-258">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="35b95-259">無法重新啟動您的應用程式，而 hello 失去連線能力可能會導致您的站台 toonot 函式正確。</span><span class="sxs-lookup"><span data-stu-id="35b95-259">While your app is not restarted, hello loss of connectivity could cause your site toonot function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="35b95-260">存取內部部署資源</span><span class="sxs-lookup"><span data-stu-id="35b95-260">Accessing on-premises resources</span></span>
<span data-ttu-id="35b95-261">Hello hello VNet 整合功能的好處是，如果您的 VNet 連接 tooyour 內部網路站台 tooSite VPN 則您的應用程式可以從您的應用程式存取 tooyour 在內部部署資源。</span><span class="sxs-lookup"><span data-stu-id="35b95-261">One of hello benefits of hello VNet Integration feature is that if your VNet is connected tooyour on-premises network with a Site tooSite VPN then your apps can have access tooyour on-premises resources from your app.</span></span> <span data-ttu-id="35b95-262">針對此 toowork 但您可能需要 tooupdate hello 與您在內部部署 VPN 閘道會路由傳送您點 tooSite IP 範圍。</span><span class="sxs-lookup"><span data-stu-id="35b95-262">For this toowork though you may need tooupdate your on-premises VPN gateway with hello routes for your Point tooSite IP range.</span></span> <span data-ttu-id="35b95-263">Hello 網站 tooSite VPN 第一次設定時使用 tooconfigure hello 指令碼，則它應該設定包括點 tooSite VPN 的路由。</span><span class="sxs-lookup"><span data-stu-id="35b95-263">When hello Site tooSite VPN is first set up then hello scripts used tooconfigure it should set up routes including your Point tooSite VPN.</span></span> <span data-ttu-id="35b95-264">如果您建立您的站台 tooSite VPN 之後，您可以加入 hello 點 tooSite VPN，則您需要 tooupdate hello 路由以手動方式。</span><span class="sxs-lookup"><span data-stu-id="35b95-264">If you add hello Point tooSite VPN after you create your Site tooSite VPN, then you need tooupdate hello routes manually.</span></span> <span data-ttu-id="35b95-265">閘道而有所不同，並不是 toodo 述詳細資料。</span><span class="sxs-lookup"><span data-stu-id="35b95-265">Details on how toodo that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="35b95-266">hello VNet 整合功能不會與具有 ExpressRoute 閘道 VNet 整合應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-266">hello VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="35b95-267">即使 hello ExpressRoute 閘道設定中[共存模式][ VPNERCoex] hello VNet 整合無法運作。</span><span class="sxs-lookup"><span data-stu-id="35b95-267">Even if hello ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] hello VNet Integration does not work.</span></span> <span data-ttu-id="35b95-268">如果您需要 tooaccess 資源，透過 ExpressRoute 連線，則您可以使用[App Service 環境][ASE]，這會在您的 VNet 中執行。</span><span class="sxs-lookup"><span data-stu-id="35b95-268">If you need tooaccess resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="35b95-269">價格詳細資料</span><span class="sxs-lookup"><span data-stu-id="35b95-269">Pricing details</span></span>
<span data-ttu-id="35b95-270">一些定價細節，您應該了解使用 hello VNet 整合功能時。</span><span class="sxs-lookup"><span data-stu-id="35b95-270">There are a few pricing nuances that you should be aware of when using hello VNet Integration feature.</span></span> <span data-ttu-id="35b95-271">有 3 相關的費用 toohello 使用這項功能：</span><span class="sxs-lookup"><span data-stu-id="35b95-271">There are 3 related charges toohello use of this feature:</span></span>

* <span data-ttu-id="35b95-272">ASP 定價層需求</span><span class="sxs-lookup"><span data-stu-id="35b95-272">ASP pricing tier requirements</span></span>
* <span data-ttu-id="35b95-273">資料傳輸成本</span><span class="sxs-lookup"><span data-stu-id="35b95-273">Data transfer costs</span></span>
* <span data-ttu-id="35b95-274">VPN 閘道器成本</span><span class="sxs-lookup"><span data-stu-id="35b95-274">VPN Gateway costs.</span></span>

<span data-ttu-id="35b95-275">您的應用程式 toobe 無法 toouse 這項功能，它們需要 toobe Standard 或 Premium App Service 方案中的。</span><span class="sxs-lookup"><span data-stu-id="35b95-275">For your apps toobe able toouse this feature, they need toobe in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="35b95-276">您可以在這裡看到這些成本的詳細資料：[App Service 價格][ASPricing]。</span><span class="sxs-lookup"><span data-stu-id="35b95-276">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="35b95-277">Toohello 方式點 tooSite Vpn 的處理，因為一定需要付費透過 VNet 整合連線的傳出資料即使 hello VNet 中 hello 相同的資料中心。</span><span class="sxs-lookup"><span data-stu-id="35b95-277">Due toohello way Point tooSite VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if hello VNet is in hello same data center.</span></span> <span data-ttu-id="35b95-278">toosee 那些要收費的是，看看這裡：[資料傳輸定價詳細資料][DataPricing]。</span><span class="sxs-lookup"><span data-stu-id="35b95-278">toosee what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="35b95-279">hello 最後一個項目是 hello 成本 hello VNet 閘道。</span><span class="sxs-lookup"><span data-stu-id="35b95-279">hello last item is hello cost of hello VNet gateways.</span></span> <span data-ttu-id="35b95-280">如果您不需要 hello 閘道的其他站台 tooSite Vpn 等項目，然後您支付閘道 toosupport hello VNet 整合功能。</span><span class="sxs-lookup"><span data-stu-id="35b95-280">If you don't need hello gateways for something else such as Site tooSite VPNs, then you are paying for gateways toosupport hello VNet Integration feature.</span></span> <span data-ttu-id="35b95-281">這裡有這些成本的詳細資料：[VPN 閘道器價格][VNETPricing]。</span><span class="sxs-lookup"><span data-stu-id="35b95-281">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="35b95-282">疑難排解</span><span class="sxs-lookup"><span data-stu-id="35b95-282">Troubleshooting</span></span>
<span data-ttu-id="35b95-283">雖然 hello 功能是簡單 tooset 往上，這不表示您的體驗會是可用的問題。</span><span class="sxs-lookup"><span data-stu-id="35b95-283">While hello feature is easy tooset up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="35b95-284">您應該發生存取您所需的端點有問題是一些您可以使用從 hello 應用程式主控台 tootest 連線的公用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-284">Should you encounter problems accessing your desired endpoint there are some utilities you can use tootest connectivity from hello app console.</span></span> <span data-ttu-id="35b95-285">有兩個您可以使用的主控台體驗。</span><span class="sxs-lookup"><span data-stu-id="35b95-285">There are two console experiences you can use.</span></span> <span data-ttu-id="35b95-286">一個是從 hello Kudu 主控台和其他 hello 是 hello 主控台，您可能會達到 hello Azure 入口網站中。</span><span class="sxs-lookup"><span data-stu-id="35b95-286">One is from hello Kudu console and hello other is hello console that you can reach in hello Azure portal.</span></span> <span data-ttu-id="35b95-287">tooget toohello Kudu 主控台，從您的應用程式移 tooTools]-> [Kudu。</span><span class="sxs-lookup"><span data-stu-id="35b95-287">tooget toohello Kudu console from your app go tooTools -> Kudu.</span></span> <span data-ttu-id="35b95-288">這是為太移 hello 相同 [sitename]。.scm.azurewebsites.net。</span><span class="sxs-lookup"><span data-stu-id="35b95-288">This is hello same as going too[sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="35b95-289">一旦該開啟只需移 toohello 偵錯主控台 索引標籤 tooget toohello Azure 入口網站裝載的主控台再從您的應用程式移 tooTools-> 主控台。</span><span class="sxs-lookup"><span data-stu-id="35b95-289">Once that opens simply go toohello Debug console tab. tooget toohello Azure portal hosted console then from your app go tooTools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="35b95-290">工具</span><span class="sxs-lookup"><span data-stu-id="35b95-290">Tools</span></span>
<span data-ttu-id="35b95-291">hello 工具偵測、 nslookup 及 tracert 將無法運作透過 hello 主控台到期 toosecurity 條件約束。</span><span class="sxs-lookup"><span data-stu-id="35b95-291">hello tools ping, nslookup and tracert won’t work through hello console due toosecurity constraints.</span></span> <span data-ttu-id="35b95-292">toofill hello void 已加入兩個不同的工具。</span><span class="sxs-lookup"><span data-stu-id="35b95-292">toofill hello void there have been two separate tools added.</span></span> <span data-ttu-id="35b95-293">在訂單 tootest DNS 功能，我們會加入名為 nameresolver.exe 的工具。</span><span class="sxs-lookup"><span data-stu-id="35b95-293">In order tootest DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="35b95-294">hello 語法為：</span><span class="sxs-lookup"><span data-stu-id="35b95-294">hello syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="35b95-295">您可以使用 nameresolver toocheck hello 主機名稱，取決於您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-295">You can use nameresolver toocheck hello hostnames that your app depends on.</span></span> <span data-ttu-id="35b95-296">如此一來您可以測試如果您有正確設定您的 DNS 的任何項目，或可能沒有存取 tooyour DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="35b95-296">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access tooyour DNS server.</span></span>

<span data-ttu-id="35b95-297">hello 下一步 工具可讓您 tootest TCP 連線 tooa 主機和連接埠組合。</span><span class="sxs-lookup"><span data-stu-id="35b95-297">hello next tool allows you tootest for TCP connectivity tooa host and port combination.</span></span> <span data-ttu-id="35b95-298">此工具會呼叫 tcpping.exe 和 hello 語法是：</span><span class="sxs-lookup"><span data-stu-id="35b95-298">This tool is called tcpping.exe and hello syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="35b95-299">hello tcpping 公用程式會告訴您是否可以到達特定主機和連接埠。</span><span class="sxs-lookup"><span data-stu-id="35b95-299">hello tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="35b95-300">只可以顯示成功如果： 沒有接聽 hello 主機和連接埠組合，應用程式，而且沒有從您的應用程式 toohello 指定的主機和連接埠的網路存取權。</span><span class="sxs-lookup"><span data-stu-id="35b95-300">It only can show success if: there is an application listening at hello host and port combination, and there is network access from your app toohello specified host and port.</span></span>

#### <a name="debugging-access-toovnet-hosted-resources"></a><span data-ttu-id="35b95-301">偵錯存取 tooVNet 裝載的資源</span><span class="sxs-lookup"><span data-stu-id="35b95-301">Debugging access tooVNet hosted resources</span></span>
<span data-ttu-id="35b95-302">有一些事物，可以阻止您的應用程式觸達特定的主機和連接埠。</span><span class="sxs-lookup"><span data-stu-id="35b95-302">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="35b95-303">大部分的 hello 時間它是三個項目之一：</span><span class="sxs-lookup"><span data-stu-id="35b95-303">Most of hello time it is one of three things:</span></span>

* <span data-ttu-id="35b95-304">**防火牆正在 hello 方式**如果您有防火牆 hello 的方式，就會叫用 hello TCP 逾時。</span><span class="sxs-lookup"><span data-stu-id="35b95-304">**There is a firewall in hello way** If you have a firewall in hello way, you will hit hello TCP timeout.</span></span> <span data-ttu-id="35b95-305">此案例中就是 21 秒。</span><span class="sxs-lookup"><span data-stu-id="35b95-305">That is 21 seconds in this case.</span></span> <span data-ttu-id="35b95-306">使用 hello tcpping 工具 tootest 連線能力。</span><span class="sxs-lookup"><span data-stu-id="35b95-306">Use hello tcpping tool tootest connectivity.</span></span> <span data-ttu-id="35b95-307">TCP 逾時可以是由於在 toomany 防火牆以外的項目，但從那裡開始。</span><span class="sxs-lookup"><span data-stu-id="35b95-307">TCP timeouts can be due toomany things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="35b95-308">**不能存取 DNS** hello DNS 逾時為每一部 DNS 伺服器的三秒。</span><span class="sxs-lookup"><span data-stu-id="35b95-308">**DNS is not accessible** hello DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="35b95-309">如果您有兩個 DNS 伺服器，hello 逾時為 6 秒。</span><span class="sxs-lookup"><span data-stu-id="35b95-309">If you have two DNS servers, hello timeout is 6 seconds.</span></span> <span data-ttu-id="35b95-310">如果 DNS 運作，請使用 nameresolver toosee。</span><span class="sxs-lookup"><span data-stu-id="35b95-310">Use nameresolver toosee if DNS is working.</span></span> <span data-ttu-id="35b95-311">請記住，您無法使用 nslookup，因為不使用 hello 與您的 VNet 設定的 DNS。</span><span class="sxs-lookup"><span data-stu-id="35b95-311">Remember you can't use nslookup as that does not use hello DNS your VNet is configured with.</span></span>
* <span data-ttu-id="35b95-312">**無效的 P2S IP 範圍**hello 點 toosite IP 範圍需要 toobe hello RFC 1918 的私人 IP 範圍中 (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255)。</span><span class="sxs-lookup"><span data-stu-id="35b95-312">**Invalid P2S IP range** hello point toosite IP range needs toobe in hello RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="35b95-313">如果 hello 範圍之外，使用的 Ip，項目將無法運作。</span><span class="sxs-lookup"><span data-stu-id="35b95-313">If hello range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="35b95-314">如果這些項目不會回答您的問題，會先查詢 hello 簡單之類的事情：</span><span class="sxs-lookup"><span data-stu-id="35b95-314">If those items don't answer your problem, look first for hello simple things like:</span></span> 

* <span data-ttu-id="35b95-315">不顯示為 hello 入口網站註冊 hello 閘道嗎？</span><span class="sxs-lookup"><span data-stu-id="35b95-315">Does hello Gateway show as being up in hello portal?</span></span>
* <span data-ttu-id="35b95-316">憑證是否顯示為同步中？</span><span class="sxs-lookup"><span data-stu-id="35b95-316">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="35b95-317">任何人都不執行在受影響的 hello Asp 「 同步處理網路 」 情況下變更 hello 網路組態嗎？</span><span class="sxs-lookup"><span data-stu-id="35b95-317">Did anybody change hello network configuration without doing a "Sync Network" in hello affected ASPs?</span></span> 

<span data-ttu-id="35b95-318">如果您的閘道已關閉，請重新啟動。</span><span class="sxs-lookup"><span data-stu-id="35b95-318">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="35b95-319">如果您的憑證未同步，然後移 toohello ASP 檢視您的 VNet 整合，並叫用 「 同步處理網路 」。</span><span class="sxs-lookup"><span data-stu-id="35b95-319">If your certificates are out of sync, then go toohello ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="35b95-320">如果您懷疑已變更 tooyour VNet 組態，而且它未同步處理您 Asp toohello ASP 檢視您的 VNet 整合，並請叫用 「 同步處理網路 」 恰好，好提醒您，這會短暫中斷導致您的 VNet 連接與您的應用程式.</span><span class="sxs-lookup"><span data-stu-id="35b95-320">If you suspect that there has been a change made tooyour VNet configuration and it wasn't sync'd with your ASPs, then go toohello ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="35b95-321">如果所有作業，不過沒有關係，您需要更深入的位元在 toodig:</span><span class="sxs-lookup"><span data-stu-id="35b95-321">If all of that is fine, then you need toodig in a bit deeper:</span></span>

* <span data-ttu-id="35b95-322">會那里使用 VNet 整合 tooreach 資源中的其他任何應用程式 hello 相同的 VNet 嗎？</span><span class="sxs-lookup"><span data-stu-id="35b95-322">Are there any other apps using VNet Integration tooreach resources in hello same VNet?</span></span> 
* <span data-ttu-id="35b95-323">您可以移 toohello 應用程式主控台並使用 tcpping tooreach VNet 中的任何其他資源嗎？</span><span class="sxs-lookup"><span data-stu-id="35b95-323">Can you go toohello app console and use tcpping tooreach any other resources in your VNet?</span></span> 

<span data-ttu-id="35b95-324">如果 hello 上述其中一項為真，則亦可 VNet 整合和 hello 問題的其他地方。</span><span class="sxs-lookup"><span data-stu-id="35b95-324">If either of hello above are true, then your VNet Integration is fine and hello problem is somewhere else.</span></span> <span data-ttu-id="35b95-325">這是其中到達 toobe 較為困難因為沒有簡單的方式 toosee，為何無法連線到主機： 連接埠。</span><span class="sxs-lookup"><span data-stu-id="35b95-325">This is where it gets toobe more of a challenge because there is no simple way toosee why you can't reach a host:port.</span></span> <span data-ttu-id="35b95-326">Hello 原因包括：</span><span class="sxs-lookup"><span data-stu-id="35b95-326">Some of hello causes include:</span></span>

* <span data-ttu-id="35b95-327">您最多有防火牆防止存取您的點 toosite IP 範圍從 toohello 應用程式連接埠在主機上。</span><span class="sxs-lookup"><span data-stu-id="35b95-327">you have a firewall up on your host preventing access toohello application port from your point toosite IP range.</span></span> <span data-ttu-id="35b95-328">跨子網路通常需要公用存取權。</span><span class="sxs-lookup"><span data-stu-id="35b95-328">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="35b95-329">目標主機已關閉</span><span class="sxs-lookup"><span data-stu-id="35b95-329">your target host is down</span></span>
* <span data-ttu-id="35b95-330">應用程式已關閉</span><span class="sxs-lookup"><span data-stu-id="35b95-330">your application is down</span></span>
* <span data-ttu-id="35b95-331">您必須 hello 不正確的 IP 或主機名稱</span><span class="sxs-lookup"><span data-stu-id="35b95-331">you had hello wrong IP or hostname</span></span>
* <span data-ttu-id="35b95-332">應用程式不是接聽您預期的連接埠。</span><span class="sxs-lookup"><span data-stu-id="35b95-332">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="35b95-333">您可以檢查此情形移到該主機並使用"netstat-aon"hello cmd 命令提示字元。</span><span class="sxs-lookup"><span data-stu-id="35b95-333">You can check this by going onto that host and using "netstat -aon" from hello cmd prompt.</span></span> <span data-ttu-id="35b95-334">這會顯示哪個處理程序識別碼正在接聽哪個連接埠。</span><span class="sxs-lookup"><span data-stu-id="35b95-334">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="35b95-335">防止存取 tooyour 應用程式主機和連接埠，您的點 toosite IP 範圍從這種方式中所設定的網路安全性群組</span><span class="sxs-lookup"><span data-stu-id="35b95-335">your network security groups are configured in such a manner that they prevent access tooyour application host and port from your point toosite IP range</span></span>

<span data-ttu-id="35b95-336">請記住，您不知道什麼 IP 在您的應用程式會使用，因此您需要從 hello 整個範圍 tooallow 存取您點 tooSite IP 範圍內。</span><span class="sxs-lookup"><span data-stu-id="35b95-336">Remember that you don't know what IP in your Point tooSite IP range that your app will use so you need tooallow access from hello entire range.</span></span> 

<span data-ttu-id="35b95-337">其他偵錯步驟包括：</span><span class="sxs-lookup"><span data-stu-id="35b95-337">Additional debug steps include:</span></span>

* <span data-ttu-id="35b95-338">登入另一個 VM 在 VNet 和嘗試的 tooreach 您資源的主機： port 從該處。</span><span class="sxs-lookup"><span data-stu-id="35b95-338">log onto another VM in your VNet and attempt tooreach your resource host:port from there.</span></span> <span data-ttu-id="35b95-339">有一些您可以基於此用途使用的 TCP ping 公用程式，或者甚至需要時，也可使用 telnet。</span><span class="sxs-lookup"><span data-stu-id="35b95-339">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="35b95-340">hello 這裡的用途只是 toodetermine 如果是連線有從這個其他 VM。</span><span class="sxs-lookup"><span data-stu-id="35b95-340">hello purpose here is just toodetermine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="35b95-341">啟動另一個 VM 上的應用程式和測試存取 toothat 主機和連接埠，從 hello 主控台，從您的應用程式</span><span class="sxs-lookup"><span data-stu-id="35b95-341">bring up an application on another VM and test access toothat host and port from hello console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="35b95-342">內部部署資源</span><span class="sxs-lookup"><span data-stu-id="35b95-342">On-premises resources</span></span> ####
<span data-ttu-id="35b95-343">如果您的應用程式無法到達資源的內部，您應該檢查 hello 首先是會以可存取資源 VNet 中。</span><span class="sxs-lookup"><span data-stu-id="35b95-343">If your app cannot reach resources on-premises, then hello first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="35b95-344">如果此作業有效，請嘗試 tooreach hello 在內部部署應用程式從 hello VNet 中的 VM。</span><span class="sxs-lookup"><span data-stu-id="35b95-344">If that works, try tooreach hello on-premises application from a VM in hello VNet.</span></span> <span data-ttu-id="35b95-345">您可以使用 telnet 或 TCP ping 公用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-345">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="35b95-346">如果您的 VM 無法連線到內部部署資源，然後確定站台 tooSite VPN 連線可運作。</span><span class="sxs-lookup"><span data-stu-id="35b95-346">If your VM can't reach your on-premises resource, then make sure your Site tooSite VPN connection is working.</span></span> <span data-ttu-id="35b95-347">如果它正在運作，請檢查的 hello 相同的工作先前所述以及 hello 在內部部署閘道組態和狀態。</span><span class="sxs-lookup"><span data-stu-id="35b95-347">If it is working, then check hello same things noted earlier as well as hello on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="35b95-348">現在如果您的 VNet 裝載 VM 可以連線到內部部署系統，但您的應用程式無法再 hello 原因，可能是之一 hello 下列：</span><span class="sxs-lookup"><span data-stu-id="35b95-348">Now if your VNet hosted VM can reach your on-premises system but your app can't then hello reason is likely one of hello following:</span></span>

* <span data-ttu-id="35b95-349">並未在內部部署閘道的 IP 範圍點 toosite 以設定您的路由</span><span class="sxs-lookup"><span data-stu-id="35b95-349">your routes are not configured with your point toosite IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="35b95-350">網路安全性群組會封鎖存取點 tooSite IP 範圍</span><span class="sxs-lookup"><span data-stu-id="35b95-350">your network security groups are blocking access for your Point tooSite IP range</span></span>
* <span data-ttu-id="35b95-351">在內部部署防火牆會封鎖您點 tooSite IP 範圍內的流量</span><span class="sxs-lookup"><span data-stu-id="35b95-351">your on-premises firewalls are blocking traffic from your Point tooSite IP range</span></span>
* <span data-ttu-id="35b95-352">您的 VNet，避免基礎的點 tooSite 流量接近內部部署網路中有使用者定義 Route(UDR)</span><span class="sxs-lookup"><span data-stu-id="35b95-352">you have a User Defined Route(UDR) in your VNet that prevents your Point tooSite based traffic from reaching your on-premises network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="35b95-353">混合式連線和 App Service 環境</span><span class="sxs-lookup"><span data-stu-id="35b95-353">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="35b95-354">有三個功能可用於存取 tooVNet 裝載的資源。</span><span class="sxs-lookup"><span data-stu-id="35b95-354">There are three features that enable access tooVNet hosted resources.</span></span> <span data-ttu-id="35b95-355">如下：</span><span class="sxs-lookup"><span data-stu-id="35b95-355">They are:</span></span>

* <span data-ttu-id="35b95-356">VNet 整合</span><span class="sxs-lookup"><span data-stu-id="35b95-356">VNet Integration</span></span>
* <span data-ttu-id="35b95-357">混合式連線</span><span class="sxs-lookup"><span data-stu-id="35b95-357">Hybrid Connections</span></span>
* <span data-ttu-id="35b95-358">App Service 環境</span><span class="sxs-lookup"><span data-stu-id="35b95-358">App Service Environments</span></span>

<span data-ttu-id="35b95-359">混合式連線會要求您 tooinstall 呼叫 hello 混合式連線 Manager(HCM) 網路中的轉送代理程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-359">Hybrid Connections requires you tooinstall a relay agent called hello Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="35b95-360">hello HCM 需要 toobe 無法 tooconnect tooAzure 以及 tooyour 應用程式。</span><span class="sxs-lookup"><span data-stu-id="35b95-360">hello HCM needs toobe able tooconnect tooAzure and also tooyour application.</span></span> <span data-ttu-id="35b95-361">此解決方案特別適合遠端網路，例如內部部署網路，或甚至是另一個雲端裝載的網路，因為它不需要網際網路可存取的端點。</span><span class="sxs-lookup"><span data-stu-id="35b95-361">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="35b95-362">hello HCM 只會在 Windows 上執行，且您可以向上 toofive 執行 tooprovide 高可用性的執行個體。</span><span class="sxs-lookup"><span data-stu-id="35b95-362">hello HCM only runs on Windows and you can have up toofive instances running tooprovide high availability.</span></span> <span data-ttu-id="35b95-363">混合式連線只支援 TCP 透過和每個 HC 端點擁有 toomatch tooa 特定主機： 連接埠組合。</span><span class="sxs-lookup"><span data-stu-id="35b95-363">Hybrid Connections only supports TCP though and each HC endpoint has toomatch tooa specific host:port combination.</span></span> 

<span data-ttu-id="35b95-364">hello App Service 環境功能可讓您 toorun hello Azure 應用程式服務的執行個體 VNet 中。</span><span class="sxs-lookup"><span data-stu-id="35b95-364">hello App Service Environment feature allows you toorun an instance of hello Azure App Service in your VNet.</span></span> <span data-ttu-id="35b95-365">這可讓應用程式無需任何額外的步驟，即可存取 VNet 中的資源。</span><span class="sxs-lookup"><span data-stu-id="35b95-365">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="35b95-366">某些 hello 的 App Service 環境的其他優點是，您可以使用基礎 Dv2 工作者向上 too14 GB 的 RAM。</span><span class="sxs-lookup"><span data-stu-id="35b95-366">Some of hello other benefits of an App Service Environment are that you can use Dv2 based workers with up too14 GB of RAM.</span></span> <span data-ttu-id="35b95-367">另一個好處是，您可以調整 hello 系統 toomeet 您的需求。</span><span class="sxs-lookup"><span data-stu-id="35b95-367">Another benefit is that you can scale hello system toomeet your needs.</span></span> <span data-ttu-id="35b95-368">不同於 hello 多租用戶的環境您 ASP 有限的 too20 執行個體，在 ase 中您可以向上延展 too100 ASP 執行個體。</span><span class="sxs-lookup"><span data-stu-id="35b95-368">Unlike hello multi-tenant environments where your ASP is limited too20 instances, in an ASE you can scale up too100 ASP instances.</span></span> <span data-ttu-id="35b95-369">取得您不使用 VNet 整合 ASE hello 事情之一是 App Service 環境可以使用 ExpressRoute VPN。</span><span class="sxs-lookup"><span data-stu-id="35b95-369">One of hello things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="35b95-370">雖然某些使用案例的重疊時，無這些功能可以取代 hello 的任何其他項目。</span><span class="sxs-lookup"><span data-stu-id="35b95-370">While there is some use case overlap, none of these feature can replace any of hello others.</span></span> <span data-ttu-id="35b95-371">了解哪些功能 toouse 繫結的 tooyour 需求。</span><span class="sxs-lookup"><span data-stu-id="35b95-371">Knowing what feature toouse is tied tooyour needs.</span></span> <span data-ttu-id="35b95-372">例如：</span><span class="sxs-lookup"><span data-stu-id="35b95-372">For example:</span></span>

* <span data-ttu-id="35b95-373">如果您是開發人員只想 toorun Azure 中的站台和一定它存取 hello 桌上、 下 hello 工作站上的資料庫，則 hello 最簡單的事 toouse 是混合式連線。</span><span class="sxs-lookup"><span data-stu-id="35b95-373">If you are a developer and simply want toorun a site in Azure and have it access hello database on hello workstation under your desk, then hello easiest thing toouse is Hybrid Connections.</span></span> 
* <span data-ttu-id="35b95-374">如果您是針對想 tooput 的大型組織大量的 hello 公用雲端中的 web 屬性，而且在您自己的網路中管理它們，您會想 toogo 以 hello App Service 環境。</span><span class="sxs-lookup"><span data-stu-id="35b95-374">If you are a large organization that wants tooput a large number of web properties in hello public cloud and manage them in your own network, then you want toogo with hello App Service Environment.</span></span> 
* <span data-ttu-id="35b95-375">如果您有許多應用程式服務的裝載應用程式並只想 tooaccess VNet 中的資源，然後 VNet 整合是 hello 方式 toogo。</span><span class="sxs-lookup"><span data-stu-id="35b95-375">If you have a number of App Service hosted apps and simply want tooaccess resources in your VNet, then VNet Integration is hello way toogo.</span></span> 

<span data-ttu-id="35b95-376">超出 hello 使用案例，有一些簡單相關層面。</span><span class="sxs-lookup"><span data-stu-id="35b95-376">Beyond hello use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="35b95-377">如果您的 VNet 已連線 tooyour 內部部署網路，然後使用 VNet 整合或 App Service 環境是 tooconsume 內部部署資源的簡單方法。</span><span class="sxs-lookup"><span data-stu-id="35b95-377">If your VNet is already connected tooyour on-premises network, then using VNet Integration or an App Service Environment is an easy way tooconsume on-premises resources.</span></span> <span data-ttu-id="35b95-378">Hello 另一方面，如果您的 VNet 不是在連接上 tooyour 在內部部署網路，則站台 toosite 與 VNet 的 VPN 設定更多的負擔 tooset 相較於安裝 hello HCM 很多。</span><span class="sxs-lookup"><span data-stu-id="35b95-378">On hello other hand, if your VNet is not connected tooyour on-premises network then it's a lot more overhead tooset up a site toosite VPN with your VNet compared with installing hello HCM.</span></span> 

<span data-ttu-id="35b95-379">超越 hello 功能差異，那里也定價的差異。</span><span class="sxs-lookup"><span data-stu-id="35b95-379">Beyond hello functional differences, there are also pricing differences.</span></span> <span data-ttu-id="35b95-380">hello App Service 環境功能是高階服務供應項目提供 hello 但大部分的網路組態可能性此外 tooother 很棒的功能。</span><span class="sxs-lookup"><span data-stu-id="35b95-380">hello App Service Environment feature is a Premium service offering but offers hello most network configuration possibilities in addition tooother great features.</span></span> <span data-ttu-id="35b95-381">VNet 整合可與 Standard 或 Premium Asp，非常適合安全地耗用 hello 多租用戶應用程式服務從 VNet 中的資源。</span><span class="sxs-lookup"><span data-stu-id="35b95-381">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from hello multi-tenant App Service.</span></span> <span data-ttu-id="35b95-382">混合式連線目前取決於 BizTalk 有定價層級開始可用，然後在變得更耗費資源的帳戶會根據您所需要的 hello 金額。</span><span class="sxs-lookup"><span data-stu-id="35b95-382">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on hello amount you need.</span></span> <span data-ttu-id="35b95-383">說 tooworking 跨多個網路不過，沒有像混合式連線，可讓您 tooaccess 資源超過 100 個不同的網路的任何其他功能。</span><span class="sxs-lookup"><span data-stu-id="35b95-383">When it comes tooworking across many networks though, there is no other feature like Hybrid Connections, which can enable you tooaccess resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
[ILBASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/create-ilb-ase
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal
[VPNERCoex]: http://docs.microsoft.com/en-us/azure/expressroute/expressroute-howto-coexist-resource-manager
[ASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
