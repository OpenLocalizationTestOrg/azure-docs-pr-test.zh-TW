---
title: "Azure App Service 上的作業系統功能"
description: "了解 Azure App Service 上 Web 應用程式、行動應用程式後端和 API Apps 可以使用的作業系統功能"
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: mollybos
ms.assetid: 39d5514f-0139-453a-b52e-4a1c06d8d914
ms.service: app-service
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/01/2016
ms.author: cephalin
ms.openlocfilehash: 18ff5c81d0aa5e8a28ed8a11dad19811d2fa1d2c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="operating-system-functionality-on-azure-app-service"></a><span data-ttu-id="a3502-103">Azure App Service 上的作業系統功能</span><span class="sxs-lookup"><span data-stu-id="a3502-103">Operating system functionality on Azure App Service</span></span>
<span data-ttu-id="a3502-104">本文說明在 [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714)上執行的所有應用程式可用的一般基礎作業系統功能。</span><span class="sxs-lookup"><span data-stu-id="a3502-104">This article describes the common baseline operating system functionality that is available to all apps running on [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="a3502-105">此功能包含檔案、網路、登錄存取、診斷記錄和事件。</span><span class="sxs-lookup"><span data-stu-id="a3502-105">This functionality includes file, network, and registry access, and diagnostics logs and events.</span></span> 

<a id="tiers"></a>

## <a name="app-service-plan-tiers"></a><span data-ttu-id="a3502-106">App Service 計劃層</span><span class="sxs-lookup"><span data-stu-id="a3502-106">App Service plan tiers</span></span>
<span data-ttu-id="a3502-107">App Service 會在多租用戶裝載環境中執行客戶應用程式。</span><span class="sxs-lookup"><span data-stu-id="a3502-107">App Service runs customer apps in a multi-tenant hosting environment.</span></span> <span data-ttu-id="a3502-108">部署在「免費」和「共用」層的應用程式，會在共用虛擬機器的背景工作角色處理序中執行，而部署在「標準」和「Premium」層的應用程式，則會在與單一客戶應用程式相關聯的專用虛擬機器上執行。</span><span class="sxs-lookup"><span data-stu-id="a3502-108">Apps deployed in the **Free** and **Shared** tiers run in worker processes on shared virtual machines, while apps deployed in the **Standard** and **Premium** tiers run on virtual machine(s) dedicated specifically for the apps associated with a single customer.</span></span>

<span data-ttu-id="a3502-109">因為 App Service 支援不同層之間的完美縮放體驗，所以強制 App Service 應用程式採用的安全性設定維持不變。</span><span class="sxs-lookup"><span data-stu-id="a3502-109">Because App Service supports a seamless scaling experience between different tiers, the security configuration enforced for App Service apps remains the same.</span></span> <span data-ttu-id="a3502-110">這可確保當 App Service 在不同層之間切換時，應用程式不會突然出現不同的行為，發生非預期的失敗。</span><span class="sxs-lookup"><span data-stu-id="a3502-110">This ensures that apps don't suddenly behave differently, failing in unexpected ways, when App Service plan switches from one tier to another.</span></span>

<a id="developmentframeworks"></a>

## <a name="development-frameworks"></a><span data-ttu-id="a3502-111">開發架構</span><span class="sxs-lookup"><span data-stu-id="a3502-111">Development frameworks</span></span>
<span data-ttu-id="a3502-112">App Service 定價層可控制應用程式可用的運算資源 (CPU、磁碟儲存體、記憶體和網路出口流量) 數量。</span><span class="sxs-lookup"><span data-stu-id="a3502-112">App Service pricing tiers control the amount of compute resources (CPU, disk storage, memory, and network egress) available to apps.</span></span> <span data-ttu-id="a3502-113">但是，不論調整為何層，應用程式可用的架構功能廣度維持不變。</span><span class="sxs-lookup"><span data-stu-id="a3502-113">However, the breadth of framework functionality available to apps remains the same regardless of the scaling tiers.</span></span>

<span data-ttu-id="a3502-114">App Service 支援各種開發架構，包含 ASP.NET、傳統 ASP、node.js、PHP 和 Python，在 IIS 中這些架構全都以擴充功能形式執行。</span><span class="sxs-lookup"><span data-stu-id="a3502-114">App Service supports a variety of development frameworks, including ASP.NET, classic ASP, node.js, PHP and Python - all of which run as extensions within IIS.</span></span> <span data-ttu-id="a3502-115">為了簡化和標準化安全性設定，App Service 應用程式通常會以預設的設定執行各種部署架構。</span><span class="sxs-lookup"><span data-stu-id="a3502-115">In order to simplify and normalize security configuration, App Service apps typically run the various development frameworks with their default settings.</span></span> <span data-ttu-id="a3502-116">設定應用程式的其中一種方式，就是針對個別的開發架構自訂 API 介面區和功能。</span><span class="sxs-lookup"><span data-stu-id="a3502-116">One approach to configuring apps could have been to customize the API surface area and functionality for each individual development framework.</span></span> <span data-ttu-id="a3502-117">App Service 採取了更普通的方式，也就是不論應用程式開發架構為何，均啟用作業系統功能的一般基礎。</span><span class="sxs-lookup"><span data-stu-id="a3502-117">App Service instead takes a more generic approach by enabling a common baseline of operating system functionality regardless of an app's development framework.</span></span>

<span data-ttu-id="a3502-118">下列各節簡單說明 App Service 應用程式可用的一般作業系統功能種類。</span><span class="sxs-lookup"><span data-stu-id="a3502-118">The following sections summarize the general kinds of operating system functionality available to App Service apps.</span></span>

<a id="FileAccess"></a>

## <a name="file-access"></a><span data-ttu-id="a3502-119">檔案存取</span><span class="sxs-lookup"><span data-stu-id="a3502-119">File access</span></span>
<span data-ttu-id="a3502-120">App Service 中的各種磁碟機，包含本機磁碟機和網路磁碟機。</span><span class="sxs-lookup"><span data-stu-id="a3502-120">Various drives exist within App Service, including local drives and network drives.</span></span>

<a id="LocalDrives"></a>

### <a name="local-drives"></a><span data-ttu-id="a3502-121">本機磁碟機</span><span class="sxs-lookup"><span data-stu-id="a3502-121">Local drives</span></span>
<span data-ttu-id="a3502-122">基本上，App Service 是一項在 Azure PaaS (平台即服務) 基礎結構之上執行的服務。</span><span class="sxs-lookup"><span data-stu-id="a3502-122">At its core, App Service is a service running on top of the Azure PaaS (platform as a service) infrastructure.</span></span> <span data-ttu-id="a3502-123">因此，「附加」至虛擬機器的本機磁碟機就是任何在 Azure 中執行之背景工作角色可用的相同磁碟機類型。</span><span class="sxs-lookup"><span data-stu-id="a3502-123">As a result, the local drives that are "attached" to a virtual machine are the same drive types available to any worker role running in Azure.</span></span> <span data-ttu-id="a3502-124">這包括作業系統磁碟機 (D:\ 磁碟機)、含 App Service 專用的 Azure 封裝 cspkg 檔案的應用程式磁碟機 (客戶無法存取)，以及「使用者」磁碟機 (C:\ 磁碟機，其大小因 VM 的大小而異)。</span><span class="sxs-lookup"><span data-stu-id="a3502-124">This includes an operating system drive (the D:\ drive), an application drive that contains Azure Package cspkg files used exclusively by App Service (and inaccessible to customers), and a "user" drive (the C:\ drive), whose size varies depending on the size of the VM.</span></span>

<a id="NetworkDrives"></a>

### <a name="network-drives-aka-unc-shares"></a><span data-ttu-id="a3502-125">網路磁碟機 (亦稱為 UNC 共用)</span><span class="sxs-lookup"><span data-stu-id="a3502-125">Network drives (aka UNC shares)</span></span>
<span data-ttu-id="a3502-126">App Service 將所有使用者內容儲存在一組 UNC 共用上，此種獨特做法讓應用程式的部署和維護變得直接。</span><span class="sxs-lookup"><span data-stu-id="a3502-126">One of the unique aspects of App Service that makes app deployment and maintenance straightforward is that all user content is stored on a set of UNC shares.</span></span> <span data-ttu-id="a3502-127">此種模型非常符合具有多個負載平衡伺服器的內部部署 Web 主控環境所用內容儲存體的一般模式。</span><span class="sxs-lookup"><span data-stu-id="a3502-127">This model maps very nicely to the common pattern of content storage used by on-premises web hosting environments that have multiple load-balanced servers.</span></span> 

<span data-ttu-id="a3502-128">在 App Service 中，每個資料中心內都已建立許多 UNC 共用。</span><span class="sxs-lookup"><span data-stu-id="a3502-128">Within App Service, there are number of UNC shares created in each data center.</span></span> <span data-ttu-id="a3502-129">每個 UNC 共用都會配置每個資料中心內各客戶某個百分比的使用者內容。</span><span class="sxs-lookup"><span data-stu-id="a3502-129">A percentage of the user content for all customers in each data center is allocated to each UNC share.</span></span> <span data-ttu-id="a3502-130">此外，單一客戶訂閱的所有檔案內容一律放在相同的 UNC 共用上。</span><span class="sxs-lookup"><span data-stu-id="a3502-130">Furthermore, all of the file content for a single customer's subscription is always placed on the same UNC share.</span></span> 

<span data-ttu-id="a3502-131">請注意，由於雲端服務的運作方式，負責主控 UNC 共用的特定虛擬機器將隨著時間而改變。</span><span class="sxs-lookup"><span data-stu-id="a3502-131">Note that due to how cloud services work, the specific virtual machine responsible for hosting a UNC share will change over time.</span></span> <span data-ttu-id="a3502-132">但保證當 UNC 共用在雲端作業的正常過程中啟動和關閉時，將會由不同的虛擬機器掛接。</span><span class="sxs-lookup"><span data-stu-id="a3502-132">It is guaranteed that UNC shares will be mounted by different virtual machines as they are brought up and down during the normal course of cloud operations.</span></span> <span data-ttu-id="a3502-133">基於這個理由，應用程式不得硬性假設 UNC 檔案路徑中的機器資訊會隨時保持穩定。</span><span class="sxs-lookup"><span data-stu-id="a3502-133">For this reason, apps should never make hard-coded assumptions that the machine information in a UNC file path will remain stable over time.</span></span> <span data-ttu-id="a3502-134">反之，應該使用 App Service 所提供的方便 *faux* 絕對路徑 **D:\home\site**。</span><span class="sxs-lookup"><span data-stu-id="a3502-134">Instead, they should use the convenient *faux* absolute path **D:\home\site** that App Service provides.</span></span> <span data-ttu-id="a3502-135">這個假的絕對路徑提供了一種無需知道應用程式和使用者的可攜式方法，即可參考某人擁有的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a3502-135">This faux absolute path provides a portable, app-and-user-agnostic method for referring to one's own app.</span></span> <span data-ttu-id="a3502-136">使用 **D:\home\site**，即可在應用程式之間傳輸共用檔案，而不需針對每次傳輸設定新的絕對路徑。</span><span class="sxs-lookup"><span data-stu-id="a3502-136">By using **D:\home\site**, one can transfer shared files from app to app without having to configure a new absolute path for each transfer.</span></span>

<a id="TypesOfFileAccess"></a>

### <a name="types-of-file-access-granted-to-an-app"></a><span data-ttu-id="a3502-137">授與應用程式的檔案存取類型</span><span class="sxs-lookup"><span data-stu-id="a3502-137">Types of file access granted to an app</span></span>
<span data-ttu-id="a3502-138">在資料中心內的特定 UNC 共用上，每個客戶的訂用帳戶都有一個保留的目錄結構。</span><span class="sxs-lookup"><span data-stu-id="a3502-138">Each customer's subscription has a reserved directory structure on a specific UNC share within a data center.</span></span> <span data-ttu-id="a3502-139">一個客戶可以在特定資料中心內建立多個應用程式，所以屬於單一客戶訂用帳戶的所有目錄都會建立於相同的 UNC 共用上。</span><span class="sxs-lookup"><span data-stu-id="a3502-139">A customer may have multiple apps created within a specific data center, so all of the directories belonging to a single customer subscription are created on the same UNC share.</span></span> <span data-ttu-id="a3502-140">此共用可能包括目錄 (內容、錯誤和診斷記錄的目錄)，以及原始檔控制所建立的舊版應用程式。</span><span class="sxs-lookup"><span data-stu-id="a3502-140">The share may include directories such as those for content, error and diagnostic logs, and earlier versions of the app created by source control.</span></span> <span data-ttu-id="a3502-141">如同預期，應用程式的應用程式程式碼可以在執行階段讀取和寫入客戶的應用程式目錄。</span><span class="sxs-lookup"><span data-stu-id="a3502-141">As expected, a customer's app directories are available for read and write access at runtime by the app's application code.</span></span>

<span data-ttu-id="a3502-142">在執行應用程式之虛擬機器附加的本機磁碟機上，App Service 會在 C:\ 磁碟機上保留許多空間作為應用程式專用暫存本機儲存體。</span><span class="sxs-lookup"><span data-stu-id="a3502-142">On the local drives attached to the virtual machine that runs an app, App Service reserves a chunk of space on the C:\ drive for app-specific temporary local storage.</span></span> <span data-ttu-id="a3502-143">雖然應用程式可以完整讀寫自己的暫存本機儲存體，但是該儲存體的真正目的並非由應用程式程式碼直接使用。</span><span class="sxs-lookup"><span data-stu-id="a3502-143">Although an app has full read/write access to its own temporary local storage, that storage really isn't intended to be used directly by the application code.</span></span> <span data-ttu-id="a3502-144">其目的是要提供 IIS 和 Web 應用程式架構的暫存檔案儲存體。</span><span class="sxs-lookup"><span data-stu-id="a3502-144">Rather, the intent is to provide temporary file storage for IIS and web application frameworks.</span></span> <span data-ttu-id="a3502-145">App Service 也會限制每個網站可用的暫存本機儲存體數量，以免個別應用程式取用過量的本機檔案儲存體。</span><span class="sxs-lookup"><span data-stu-id="a3502-145">App Service also limits the amount of temporary local storage available to each app to prevent individual apps from consuming excessive amounts of local file storage.</span></span>

<span data-ttu-id="a3502-146">App Service 對於暫存本機儲存體的兩種使用方式範例：暫存 ASP.NET 檔案的目錄和 IIS 壓縮檔案的目錄。</span><span class="sxs-lookup"><span data-stu-id="a3502-146">Two examples of how App Service uses temporary local storage are the directory for temporary ASP.NET files and the directory for IIS compressed files.</span></span> <span data-ttu-id="a3502-147">ASP.NET 編譯系統會使用 "Temporary ASP.NET Files" 目錄作為暫存編譯快取位置。</span><span class="sxs-lookup"><span data-stu-id="a3502-147">The ASP.NET compilation system uses the "Temporary ASP.NET Files" directory as a temporary compilation cache location.</span></span> <span data-ttu-id="a3502-148">IIS 則使用 "IIS Temporary Compressed Files" 目錄來儲存壓縮回應輸出。</span><span class="sxs-lookup"><span data-stu-id="a3502-148">IIS uses the "IIS Temporary Compressed Files" directory to store compressed response output.</span></span> <span data-ttu-id="a3502-149">這兩種檔案使用方式 (和其他方式) 都會在 App Service 中重新對應至每個應用程式的暫存本機儲存體。</span><span class="sxs-lookup"><span data-stu-id="a3502-149">Both of these types of file usage (as well as others) are remapped in App Service to per-app temporary local storage.</span></span> <span data-ttu-id="a3502-150">此重新對應可確保功能如預期般繼續運作。</span><span class="sxs-lookup"><span data-stu-id="a3502-150">This remapping ensures that functionality continues as expected.</span></span>

<span data-ttu-id="a3502-151">App Service 中的每個應用程式都會以隨機獨特的低權限背景工作角色處理序身分識別 (稱為「應用程式集區身分識別」) 執行，進一步的說明如下： [http://www.iis.net/learn/manage/configuring-security/application-pool-identities](http://www.iis.net/learn/manage/configuring-security/application-pool-identities)。</span><span class="sxs-lookup"><span data-stu-id="a3502-151">Each app in App Service runs as a random unique low-privileged worker process identity called the "application pool identity", described further here: [http://www.iis.net/learn/manage/configuring-security/application-pool-identities](http://www.iis.net/learn/manage/configuring-security/application-pool-identities).</span></span> <span data-ttu-id="a3502-152">應用程式程式碼會將此識別用於作業系統磁碟機 (D:\ 磁碟機) 的基本唯讀存取。</span><span class="sxs-lookup"><span data-stu-id="a3502-152">Application code uses this identity for basic read-only access to the operating system drive (the D:\ drive).</span></span> <span data-ttu-id="a3502-153">這表示應用程式程式碼可以列出通用目錄結構和讀取作業系統磁碟機上的通用檔案。</span><span class="sxs-lookup"><span data-stu-id="a3502-153">This means application code can list common directory structures and read common files on operating system drive.</span></span> <span data-ttu-id="a3502-154">雖然這似乎是有點廣泛的存取層級，但是當您在 Azure 託管服務中佈建背景工作角色和讀取磁碟機內容時，可以存取的目錄和檔案相同。</span><span class="sxs-lookup"><span data-stu-id="a3502-154">Although this might appear to be a somewhat broad level of access, the same directories and files are accessible when you provision a worker role in an Azure hosted service and read the drive contents.</span></span> 

<a name="multipleinstances"></a>

### <a name="file-access-across-multiple-instances"></a><span data-ttu-id="a3502-155">跨越多個執行個體的檔案存取</span><span class="sxs-lookup"><span data-stu-id="a3502-155">File access across multiple instances</span></span>
<span data-ttu-id="a3502-156">主目錄包含應用程式的內容，而應用程式程式碼可以寫入其中。</span><span class="sxs-lookup"><span data-stu-id="a3502-156">The home directory contains an app's content, and application code can write to it.</span></span> <span data-ttu-id="a3502-157">如果有個應用程式在多個執行個體上執行，則主目錄會在所有執行個體當中共用，讓所有執行個體都可看見相同的目錄。</span><span class="sxs-lookup"><span data-stu-id="a3502-157">If an app runs on multiple instances, the home directory is shared among all instances so that all instances see the same directory.</span></span> <span data-ttu-id="a3502-158">例如，如果應用程式將上傳的檔案儲存到主目錄，所有執行個體即可立即使用這些檔案。</span><span class="sxs-lookup"><span data-stu-id="a3502-158">So, for example, if an app saves uploaded files to the home directory, those files are immediately available to all instances.</span></span> 

<a id="NetworkAccess"></a>

## <a name="network-access"></a><span data-ttu-id="a3502-159">網路存取</span><span class="sxs-lookup"><span data-stu-id="a3502-159">Network access</span></span>
<span data-ttu-id="a3502-160">應用程式程式碼可以使用 TCP/IP 和 UDP 型通訊協定，對公開外部服務的網際網路可存取端點進行輸出網路連線。</span><span class="sxs-lookup"><span data-stu-id="a3502-160">Application code can use TCP/IP and UDP based protocols to make outbound network connections to Internet accessible endpoints that expose external services.</span></span> <span data-ttu-id="a3502-161">應用程式可以使用這些相同通訊協定來連接至 Azure&#151; 內的服務，例如，建立與 SQL Database 的 HTTPS 連線。</span><span class="sxs-lookup"><span data-stu-id="a3502-161">Apps can use these same protocols to connect to services within Azure&#151;for example, by establishing HTTPS connections to SQL Database.</span></span>

<span data-ttu-id="a3502-162">此外，應用程式可以在有限的情況下建立一個本機回送連線，並且讓應用程式在該本機回送通訊端上接聽。</span><span class="sxs-lookup"><span data-stu-id="a3502-162">There is also a limited capability for apps to establish one local loopback connection, and have an app listen on that local loopback socket.</span></span> <span data-ttu-id="a3502-163">這項功能主要是讓在本機回送通訊端上接聽的應用程式成為其功能的一部分。</span><span class="sxs-lookup"><span data-stu-id="a3502-163">This feature exists primarily to enable apps that listen on local loopback sockets as part of their functionality.</span></span> <span data-ttu-id="a3502-164">請注意，每個應用程式都可看見一個「私人」回送連線，但應用程式「A」無法接聽應用程式「B」所建立的本機回送通訊端。</span><span class="sxs-lookup"><span data-stu-id="a3502-164">Note that each app sees a "private" loopback connection; app "A" cannot listen to a local loopback socket established by app "B".</span></span>

<span data-ttu-id="a3502-165">此外，還支援具名管道作為共同執行應用程式的不同處理序之間的處理序間通訊 (IPC) 機制。</span><span class="sxs-lookup"><span data-stu-id="a3502-165">Named pipes are also supported as an inter-process communication (IPC) mechanism between different processes that collectively run an app.</span></span> <span data-ttu-id="a3502-166">例如，IIS FastCGI 模組會依賴具名管道來協調執行 PHP 頁面的個別處理序。</span><span class="sxs-lookup"><span data-stu-id="a3502-166">For example, the IIS FastCGI module relies on named pipes to coordinate the individual processes that run PHP pages.</span></span>

<a id="Code"></a>

## <a name="code-execution-processes-and-memory"></a><span data-ttu-id="a3502-167">程式碼執行、處理序和記憶體</span><span class="sxs-lookup"><span data-stu-id="a3502-167">Code execution, processes and memory</span></span>
<span data-ttu-id="a3502-168">如先前所述，應用程式會使用隨機應用程式集區身分識別在低權限的背景工作角色處理序內部執行。</span><span class="sxs-lookup"><span data-stu-id="a3502-168">As noted earlier, apps run inside of low-privileged worker processes using a random application pool identity.</span></span> <span data-ttu-id="a3502-169">應用程式程式碼可以存取與背景工作處理序相關聯的記憶體空間，以及 CGI 處理序或其他應用程式所繁衍的任何子處理序。</span><span class="sxs-lookup"><span data-stu-id="a3502-169">Application code has access to the memory space associated with the worker process, as well as any child processes that may be spawned by CGI processes or other applications.</span></span> <span data-ttu-id="a3502-170">但是，即使是位於相同的虛擬機器上，某個應用程式無法存取其他應用程式的記憶體或資料。</span><span class="sxs-lookup"><span data-stu-id="a3502-170">However, one app cannot access the memory or data of another app even if it is on the same virtual machine.</span></span>

<span data-ttu-id="a3502-171">應用程式可以執行利用支援的 Web 開發架構撰寫的指令碼或頁面。</span><span class="sxs-lookup"><span data-stu-id="a3502-171">Apps can run scripts or pages written with supported web development frameworks.</span></span> <span data-ttu-id="a3502-172">App Service 不會將任何 Web 應用程式架構設定設定為比較受限的模式。</span><span class="sxs-lookup"><span data-stu-id="a3502-172">App Service doesn't configure any web framework settings to more restricted modes.</span></span> <span data-ttu-id="a3502-173">例如，在 App Service 上執行的 ASP.NET 應用程式會以「完全」信任模式 (相對於比較受限的信任模式) 執行。</span><span class="sxs-lookup"><span data-stu-id="a3502-173">For example, ASP.NET apps running on App Service run in "full" trust as opposed to a more restricted trust mode.</span></span> <span data-ttu-id="a3502-174">Web 架構 (包括傳統 ASP 和 ASP.NET) 可以呼叫處理序內 COM 元件 (但不能呼叫處理序外 COM 元件)，例如：預設在 Windows 作業系統上註冊的 ADO (ActiveX Data Objects)。</span><span class="sxs-lookup"><span data-stu-id="a3502-174">Web frameworks, including both classic ASP and ASP.NET, can call in-process COM components (but not out of process COM components) like ADO (ActiveX Data Objects) that are registered by default on the Windows operating system.</span></span>

<span data-ttu-id="a3502-175">應用程式可以繁衍和執行任意程式碼。</span><span class="sxs-lookup"><span data-stu-id="a3502-175">Apps can spawn and run arbitrary code.</span></span> <span data-ttu-id="a3502-176">允許應用程式執行的動作如下：繁衍命令殼層或執行 PowerShell 指令碼。</span><span class="sxs-lookup"><span data-stu-id="a3502-176">It is allowable for an app to do things like spawn a command shell or run a PowerShell script.</span></span> <span data-ttu-id="a3502-177">但是，即使可以從應用程式衍生任意程式碼和處理序，但可執行的程式和指令碼仍受限於授與父應用程式集區的權限。</span><span class="sxs-lookup"><span data-stu-id="a3502-177">However, even though arbitrary code and processes can be spawned from an app, executable programs and scripts are still restricted to the privileges granted to the parent application pool.</span></span> <span data-ttu-id="a3502-178">例如，應用程式可以繁衍用於進行輸出 HTTP 呼叫的可執行檔，但這一個可執行檔無法嘗試解除虛擬機器的 IP 位址與其 NIC 的繫結。</span><span class="sxs-lookup"><span data-stu-id="a3502-178">For example, an app can spawn an executable that makes an outbound HTTP call, but that same executable cannot attempt to unbind the IP address of a virtual machine from its NIC.</span></span> <span data-ttu-id="a3502-179">低權限的程式碼能夠進行輸出網路呼叫，但嘗試在虛擬機器上重新設定網路設定則需要有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="a3502-179">Making an outbound network call is allowed to low-privileged code, but attempting to reconfigure network settings on a virtual machine requires administrative privileges.</span></span>

<a id="Diagnostics"></a>

## <a name="diagnostics-logs-and-events"></a><span data-ttu-id="a3502-180">診斷記錄和事件</span><span class="sxs-lookup"><span data-stu-id="a3502-180">Diagnostics logs and events</span></span>
<span data-ttu-id="a3502-181">記錄資訊是某些應用程式嘗試存取的另一組資料。</span><span class="sxs-lookup"><span data-stu-id="a3502-181">Log information is another set of data that some apps attempt to access.</span></span> <span data-ttu-id="a3502-182">在 App Service 中執行的程式碼的可用記錄資訊類型包括應用程式所產生的診斷和記錄資訊，應用程式也可輕易存取此資訊。</span><span class="sxs-lookup"><span data-stu-id="a3502-182">The types of log information available to code running in App Service includes diagnostic and log information generated by an app that is also easily accessible to the app.</span></span> 

<span data-ttu-id="a3502-183">例如，作用中應用程式所產生的 W3C HTTP 記錄可在針對該應用程式建立的網路共用位置中的記錄目錄中取得，而如果客戶已設定 W3C 記錄至儲存體，則可在 Blob 儲存體中取得。</span><span class="sxs-lookup"><span data-stu-id="a3502-183">For example, W3C HTTP logs generated by an active app are available either on a log directory in the network share location created for the app, or available in blob storage if a customer has set up W3C logging to storage.</span></span> <span data-ttu-id="a3502-184">後面這個選項能夠收集大量的記錄，而不需擔心超出與網路共用相關聯的檔案儲存體限制。</span><span class="sxs-lookup"><span data-stu-id="a3502-184">The latter option enables large quantities of logs to be gathered without the risk of exceeding the file storage limits associated with a network share.</span></span>

<span data-ttu-id="a3502-185">同樣地，也可以使用 .NET 追蹤和診斷基礎結構來記錄 .NET 應用程式的即時診斷資訊，方法是選擇將追蹤資訊寫入至應用程式的網路共用，或者是 Blob 儲存體位置。</span><span class="sxs-lookup"><span data-stu-id="a3502-185">In a similar vein, real-time diagnostics information from .NET apps can also be logged using the .NET tracing and diagnostics infrastructure, with options to write the trace information to either the app's network share, or alternatively to a blob storage location.</span></span>

<span data-ttu-id="a3502-186">應用程式無法使用的診斷記錄和追蹤區域包括 Windows ETW 事件和一般 Windows 事件記錄 (例如 System、Application 和 Security 事件記錄)。</span><span class="sxs-lookup"><span data-stu-id="a3502-186">Areas of diagnostics logging and tracing that aren't available to apps are Windows ETW events and common Windows event logs (e.g. System, Application and Security event logs).</span></span> <span data-ttu-id="a3502-187">因為有可能全機器都可檢視 ETW 追蹤資訊 (只要具有適當的 ACL)，所以封鎖了 ETW 事件的讀取和寫入存取權。</span><span class="sxs-lookup"><span data-stu-id="a3502-187">Since ETW trace information can potentially be viewable machine-wide (with the right ACLs), read and write access to ETW events are blocked.</span></span> <span data-ttu-id="a3502-188">開發人員可能會注意到用以讀寫 ETW 事件和一般 Windows 事件記錄的 API 呼叫似乎有作用，但這是因為 App Service「假裝」呼叫，以致似乎呼叫成功。</span><span class="sxs-lookup"><span data-stu-id="a3502-188">Developers might notice that API calls to read and write ETW events and common Windows event logs appear to work, but that is because App Service is "faking" the calls so that they appear to succeed.</span></span> <span data-ttu-id="a3502-189">事實上，應用程式程式碼無法存取此事件資料。</span><span class="sxs-lookup"><span data-stu-id="a3502-189">In reality, the application code has no access to this event data.</span></span>

<a id="RegistryAccess"></a>

## <a name="registry-access"></a><span data-ttu-id="a3502-190">登錄存取</span><span class="sxs-lookup"><span data-stu-id="a3502-190">Registry access</span></span>
<span data-ttu-id="a3502-191">應用程式對於執行所在的虛擬機器，具有大部分 (雖然並非全部) 登錄的唯讀存取權。</span><span class="sxs-lookup"><span data-stu-id="a3502-191">Apps have read-only access to much (though not all) of the registry of the virtual machine they are running on.</span></span> <span data-ttu-id="a3502-192">實際上，這表示應用程式可存取允許本機使用者群組唯讀存取的登錄機碼。</span><span class="sxs-lookup"><span data-stu-id="a3502-192">In practice, this means registry keys that allow read-only access to the local Users group are accessible by apps.</span></span> <span data-ttu-id="a3502-193">目前無法提供讀取或寫入的其中一個登錄區域為 HKEY\_CURRENT\_USER 登錄區。</span><span class="sxs-lookup"><span data-stu-id="a3502-193">One area of the registry that is currently not supported for either read or write access is the HKEY\_CURRENT\_USER hive.</span></span>

<span data-ttu-id="a3502-194">登錄的寫入存取權已遭封鎖，其中包括任何每一使用者登錄機碼的存取。</span><span class="sxs-lookup"><span data-stu-id="a3502-194">Write-access to the registry is blocked, including access to any per-user registry keys.</span></span> <span data-ttu-id="a3502-195">從應用程式的觀點來看，因為應用程式可以在不同虛擬機器之間移轉，所以 Azure 環境中的登錄寫入存取權並不可靠。</span><span class="sxs-lookup"><span data-stu-id="a3502-195">From the app's perspective, write access to the registry should never be relied upon in the Azure environment since apps can (and do) get migrated across different virtual machines.</span></span> <span data-ttu-id="a3502-196">應用程式唯一可依賴的持續可寫入儲存體，就是儲存在 App Service UNC 共用上的各應用程式內容目錄結構。</span><span class="sxs-lookup"><span data-stu-id="a3502-196">The only persistent writeable storage that can be depended on by an app is the per-app content directory structure stored on the App Service UNC shares.</span></span> 

## <a name="more-information"></a><span data-ttu-id="a3502-197">詳細資訊</span><span class="sxs-lookup"><span data-stu-id="a3502-197">More information</span></span>

<span data-ttu-id="a3502-198">[Azure Web 應用程式沙箱](https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox) - 有關 App Service 執行環境的最新資訊。</span><span class="sxs-lookup"><span data-stu-id="a3502-198">[Azure Web App sandbox](https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox) - The most up-to-date information about the execution environment of App Service.</span></span> <span data-ttu-id="a3502-199">本頁面由 App Service 開發團隊直接維護。</span><span class="sxs-lookup"><span data-stu-id="a3502-199">This page is maintained directly by the App Service development team.</span></span>

> [!NOTE]
> <span data-ttu-id="a3502-200">如果您想在註冊 Azure 帳戶前開始使用 Azure App Service，請移至 [試用 App Service](https://azure.microsoft.com/try/app-service/)，即可在 App Service 中立即建立短期入門 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="a3502-200">If you want to get started with Azure App Service before signing up for an Azure account, go to [Try App Service](https://azure.microsoft.com/try/app-service/), where you can immediately create a short-lived starter web app in App Service.</span></span> <span data-ttu-id="a3502-201">不需要信用卡；沒有承諾。</span><span class="sxs-lookup"><span data-stu-id="a3502-201">No credit cards required; no commitments.</span></span>
> 
> 


