---
title: "Azure 轉送常見問題集 | Microsoft Docs"
description: "獲得一些有關 Azure 轉送常見問題的答案。"
services: service-bus-relay
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 886d2c7f-838f-4938-bd23-466662fb1c8e
ms.service: service-bus-relay
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: e8c146f4b6d02449be6ad9e991e52db8dfd58e04
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="azure-relay-faqs"></a><span data-ttu-id="62509-103">Azure 轉送常見問題集</span><span class="sxs-lookup"><span data-stu-id="62509-103">Azure Relay FAQs</span></span>

<span data-ttu-id="62509-104">本文提供 [Azure 轉送](https://azure.microsoft.com/services/service-bus/)的一些常見問題集 (FAQ) 答案。</span><span class="sxs-lookup"><span data-stu-id="62509-104">This article answers some frequently asked questions (FAQs) about [Azure Relay](https://azure.microsoft.com/services/service-bus/).</span></span> <span data-ttu-id="62509-105">如需一般的 Azure 價格和支援資訊，請參閱 [Azure 支援常見問題集](http://go.microsoft.com/fwlink/?LinkID=185083)。</span><span class="sxs-lookup"><span data-stu-id="62509-105">For general Azure pricing and support information, see [Azure Support FAQs](http://go.microsoft.com/fwlink/?LinkID=185083).</span></span>

## <a name="general-questions"></a><span data-ttu-id="62509-106">一般問題</span><span class="sxs-lookup"><span data-stu-id="62509-106">General questions</span></span>
### <a name="what-is-azure-relay"></a><span data-ttu-id="62509-107">什麼是 Azure 轉送？</span><span class="sxs-lookup"><span data-stu-id="62509-107">What is Azure Relay?</span></span>
<span data-ttu-id="62509-108">[Azure 轉送服務](relay-what-is-it.md)有助於您的混合式應用程式，方法是協助您更安全地將位於公司企業網路內的服務公開至公用雲端。</span><span class="sxs-lookup"><span data-stu-id="62509-108">The [Azure Relay service](relay-what-is-it.md) facilitates your hybrid applications by helping you more securely expose services that reside within a corporate enterprise network to the public cloud.</span></span> <span data-ttu-id="62509-109">您可以在不開啟防火牆連線的情況下公開服務，也不需要對公司網路基礎結構做侵入式變更。</span><span class="sxs-lookup"><span data-stu-id="62509-109">You can expose the services without opening a firewall connection, and without requiring intrusive changes to a corporate network infrastructure.</span></span>

### <a name="what-is-a-relay-namespace"></a><span data-ttu-id="62509-110">什麼是轉送命名空間？</span><span class="sxs-lookup"><span data-stu-id="62509-110">What is a Relay namespace?</span></span>
<span data-ttu-id="62509-111">[命名空間](relay-create-namespace-portal.md)是範圍容器，您可以用來在應用程式內定址轉送資源。</span><span class="sxs-lookup"><span data-stu-id="62509-111">A [namespace](relay-create-namespace-portal.md) is a scoping container that you can use to address Relay resources within your application.</span></span> <span data-ttu-id="62509-112">您必須建立命名空間，才能使用轉送。</span><span class="sxs-lookup"><span data-stu-id="62509-112">You must create a namespace to use Relay.</span></span> <span data-ttu-id="62509-113">這是開始使用的第一個步驟其中之一。</span><span class="sxs-lookup"><span data-stu-id="62509-113">This is one of the first steps in getting started.</span></span>

### <a name="what-happened-to-service-bus-relay-service"></a><span data-ttu-id="62509-114">服務匯流排轉送服務發生什麼事？</span><span class="sxs-lookup"><span data-stu-id="62509-114">What happened to Service Bus Relay service?</span></span>
<span data-ttu-id="62509-115">先前稱為「服務匯流排轉送」服務現在稱為「WCF 轉送」。</span><span class="sxs-lookup"><span data-stu-id="62509-115">The previously named Service Bus Relay service is now called WCF Relay.</span></span> <span data-ttu-id="62509-116">您可以繼續如常使用這項服務。</span><span class="sxs-lookup"><span data-stu-id="62509-116">You can continue to use this service as usual.</span></span> <span data-ttu-id="62509-117">混合式連線功能是服務的更新版本，從 Azure BizTalk 服務移植。</span><span class="sxs-lookup"><span data-stu-id="62509-117">The Hybrid Connections feature is an updated version of a service that's been transplanted from Azure BizTalk Services.</span></span> <span data-ttu-id="62509-118">會繼續支援「WCF 轉送」和「混合式連線」。</span><span class="sxs-lookup"><span data-stu-id="62509-118">WCF Relay and Hybrid Connections both continue to be supported.</span></span>

## <a name="pricing"></a><span data-ttu-id="62509-119">價格</span><span class="sxs-lookup"><span data-stu-id="62509-119">Pricing</span></span>
<span data-ttu-id="62509-120">本節提供轉送價格結構的一些常見問題解答。</span><span class="sxs-lookup"><span data-stu-id="62509-120">This section answers some frequently asked questions about the Relay pricing structure.</span></span> <span data-ttu-id="62509-121">如需一般的 Azure 價格資訊，也可以參閱 [Azure 支援常見問題集](http://go.microsoft.com/fwlink/?LinkID=185083)。</span><span class="sxs-lookup"><span data-stu-id="62509-121">You also can see [Azure Support FAQs](http://go.microsoft.com/fwlink/?LinkID=185083) for general Azure pricing information.</span></span> <span data-ttu-id="62509-122">如需轉送價格的完整資訊，請參閱[服務匯流排價格詳細資料][Pricing overview]。</span><span class="sxs-lookup"><span data-stu-id="62509-122">For complete information about Relay pricing, see [Service Bus pricing details][Pricing overview].</span></span>

### <a name="how-do-you-charge-for-hybrid-connections-and-wcf-relay"></a><span data-ttu-id="62509-123">混合式連接和 WCF 轉送如何收費？</span><span class="sxs-lookup"><span data-stu-id="62509-123">How do you charge for Hybrid Connections and WCF Relay?</span></span>
<span data-ttu-id="62509-124">如需有關轉送價格的完整資訊，請參閱服務匯流排價格詳細資料頁面上的[混合式連線與 WCF 轉送][Pricing overview]資料表。</span><span class="sxs-lookup"><span data-stu-id="62509-124">For complete information about Relay pricing, see the [Hybrid Connections and WCF Relays][Pricing overview] table on the Service Bus pricing details page.</span></span> <span data-ttu-id="62509-125">除了頁面上註明的價格，您還需支付您的應用程式佈建所在資料中心外部的輸出相關資料傳輸費用。</span><span class="sxs-lookup"><span data-stu-id="62509-125">In addition to the prices noted on that page, you are charged for associated data transfers for egress outside of the datacenter in which your application is provisioned.</span></span>

### <a name="how-am-i-billed-for-hybrid-connections"></a><span data-ttu-id="62509-126">混合式連接如何計費？</span><span class="sxs-lookup"><span data-stu-id="62509-126">How am I billed for Hybrid Connections?</span></span>
<span data-ttu-id="62509-127">以下是混合式連線計費案例的三個範例︰</span><span class="sxs-lookup"><span data-stu-id="62509-127">Here are three example billing scenarios for Hybrid Connections:</span></span>

*   <span data-ttu-id="62509-128">案例 1：</span><span class="sxs-lookup"><span data-stu-id="62509-128">Scenario 1:</span></span>
    *   <span data-ttu-id="62509-129">您有單一接聽程式，例如已安裝且整個月份持續執行的混合式連線管理員執行個體。</span><span class="sxs-lookup"><span data-stu-id="62509-129">You have a single listener, such as an instance of the Hybrid Connections Manager installed and continuously running for the entire month.</span></span>
    *   <span data-ttu-id="62509-130">您在該月份的連線中傳送 3 GB 的資料。</span><span class="sxs-lookup"><span data-stu-id="62509-130">You send 3 GB of data across the connection during the month.</span></span> 
    *   <span data-ttu-id="62509-131">您的總費用為 $5。</span><span class="sxs-lookup"><span data-stu-id="62509-131">Your total charge is $5.</span></span>
*   <span data-ttu-id="62509-132">案例 2：</span><span class="sxs-lookup"><span data-stu-id="62509-132">Scenario 2:</span></span>
    *   <span data-ttu-id="62509-133">您有單一接聽程式，例如已安裝且整個月份持續執行的混合式連線管理員執行個體。</span><span class="sxs-lookup"><span data-stu-id="62509-133">You have a single listener, such as an instance of the Hybrid Connections Manager installed and continuously running for the entire month.</span></span>
    *   <span data-ttu-id="62509-134">您在該月份的連線中傳送 10 GB 的資料。</span><span class="sxs-lookup"><span data-stu-id="62509-134">You send 10 GB of data across the connection during the month.</span></span>
    *   <span data-ttu-id="62509-135">您的總費用為 $7.5。</span><span class="sxs-lookup"><span data-stu-id="62509-135">Your total charge is $7.50.</span></span> <span data-ttu-id="62509-136">其中 $5 是連線和前面 5 GB 的費用，$2.50 是其他 5 GB 資料的費用。</span><span class="sxs-lookup"><span data-stu-id="62509-136">That's $5 for the connection and first 5 GB + $2.50 for the additional 5 GB of data.</span></span>
*   <span data-ttu-id="62509-137">案例 3：</span><span class="sxs-lookup"><span data-stu-id="62509-137">Scenario 3:</span></span>
    *   <span data-ttu-id="62509-138">您有兩個執行個體，A 和 B，屬於已安裝且整個月份持續執行的混合式連線管理員。</span><span class="sxs-lookup"><span data-stu-id="62509-138">You have two instances, A and B, of the Hybrid Connections Manager installed and continuously running for the entire month.</span></span>
    *   <span data-ttu-id="62509-139">您在該月份的連線 A 中傳送 3 GB 的資料。</span><span class="sxs-lookup"><span data-stu-id="62509-139">You send 3 GB of data across connection A during the month.</span></span>
    *   <span data-ttu-id="62509-140">您在該月份的連線 B 中傳送 6 GB 的資料。</span><span class="sxs-lookup"><span data-stu-id="62509-140">You send 6 GB of data across connection B during the month.</span></span>
    *   <span data-ttu-id="62509-141">您的總費用為 $10.5。</span><span class="sxs-lookup"><span data-stu-id="62509-141">Your total charge is $10.50.</span></span> <span data-ttu-id="62509-142">其中 $5 是連線 A 的費用、$5 是連線 B 的費用，加上 $0.50 (連線 B 上的第 6 個 GB)。</span><span class="sxs-lookup"><span data-stu-id="62509-142">That's $5 for connection A + $5 for connection B + $0.50 (for the sixth gigabyte on connection B).</span></span>

<span data-ttu-id="62509-143">請注意，範例中使用的價格僅適用於混合式連線預覽期間。</span><span class="sxs-lookup"><span data-stu-id="62509-143">Note that the prices used in the examples are applicable only during the Hybrid Connections preview period.</span></span> <span data-ttu-id="62509-144">價格可能會在混合式連線正式運作之後有所變更。</span><span class="sxs-lookup"><span data-stu-id="62509-144">Prices are subject to change upon general availability of Hybrid Connections.</span></span>

### <a name="how-are-hours-calculated-for-relay"></a><span data-ttu-id="62509-145">如何計算轉送時數？</span><span class="sxs-lookup"><span data-stu-id="62509-145">How are hours calculated for Relay?</span></span>

<span data-ttu-id="62509-146">只能在標準層命名空間中使用 WCF 轉送。</span><span class="sxs-lookup"><span data-stu-id="62509-146">WCF Relay is available only in Standard tier namespaces.</span></span> <span data-ttu-id="62509-147">否則轉送的價格和[連線配額](../service-bus-messaging/service-bus-quotas.md)會保持不變。</span><span class="sxs-lookup"><span data-stu-id="62509-147">Pricing and [connection quotas](../service-bus-messaging/service-bus-quotas.md) for relays otherwise have not changed.</span></span> <span data-ttu-id="62509-148">這表示轉送將繼續根據訊息數目 (而非作業數) 和轉送時數計費。</span><span class="sxs-lookup"><span data-stu-id="62509-148">This means that relays continue to be charged based on the number of messages (not operations) and relay hours.</span></span> <span data-ttu-id="62509-149">如需詳細資訊，請參閱價格詳細資料頁面上的[混合式連線與 WCF 轉送](https://azure.microsoft.com/pricing/details/service-bus/)資料表。</span><span class="sxs-lookup"><span data-stu-id="62509-149">For more information, see the ["Hybrid Connections and WCF Relays"](https://azure.microsoft.com/pricing/details/service-bus/) table on the pricing details page.</span></span>

### <a name="what-if-i-have-more-than-one-listener-connected-to-a-specific-relay"></a><span data-ttu-id="62509-150">如果我有一個以上的接聽程式連線到指定的轉送，該怎麼辦？</span><span class="sxs-lookup"><span data-stu-id="62509-150">What if I have more than one listener connected to a specific relay?</span></span>
<span data-ttu-id="62509-151">在某些情況下，單一轉送可能有多個已連線的接聽程式。</span><span class="sxs-lookup"><span data-stu-id="62509-151">In some cases, a single relay might have multiple connected listeners.</span></span> <span data-ttu-id="62509-152">至少有一個轉送接聽程式連線到轉送時，即會被視為開放式轉送。</span><span class="sxs-lookup"><span data-stu-id="62509-152">A relay is considered open when at least one relay listener is connected to it.</span></span> <span data-ttu-id="62509-153">將接聽程式新增至開放式轉送會導致額外的轉送時數。</span><span class="sxs-lookup"><span data-stu-id="62509-153">Adding listeners to an open relay results in additional relay hours.</span></span> <span data-ttu-id="62509-154">連線到轉送的轉送傳送者 (叫用或傳送訊息至轉送的用戶端) 數目不會影響轉送時數的計算。</span><span class="sxs-lookup"><span data-stu-id="62509-154">The number of relay senders (clients that invoke or send messages to relays) that are connected to a relay does not affect the calculation of relay hours.</span></span>

### <a name="how-is-the-messages-meter-calculated-for-wcf-relays"></a><span data-ttu-id="62509-155">如何針對 WCF 轉送計算訊息計量？</span><span class="sxs-lookup"><span data-stu-id="62509-155">How is the messages meter calculated for WCF Relays?</span></span>
<span data-ttu-id="62509-156">(**這只適用於 WCF 轉送。訊息並不是混合式連線的成本。**)</span><span class="sxs-lookup"><span data-stu-id="62509-156">(**This applies only to WCF relays. Messages are not a cost for Hybrid Connections.**)</span></span>

<span data-ttu-id="62509-157">一般而言，對代理實體 (佇列、主題和訂用帳戶) 使用先前所述相同方法的轉送會計算計費訊息。</span><span class="sxs-lookup"><span data-stu-id="62509-157">In general, billable messages for relays are calculated by using the same method that is used for brokered entities (queues, topics, and subscriptions), described previously.</span></span> <span data-ttu-id="62509-158">但是，請注意以下幾個差異。</span><span class="sxs-lookup"><span data-stu-id="62509-158">However, there are some notable differences.</span></span>

<span data-ttu-id="62509-159">將訊息傳送至服務匯流排轉送會被視為「完整通過」傳送至接收訊息的轉送接聽程式。</span><span class="sxs-lookup"><span data-stu-id="62509-159">Sending a message to a Service Bus relay is treated as a "full through" send to the relay listener that receives the message.</span></span> <span data-ttu-id="62509-160">它不會被視為送至服務匯流排轉送的傳送作業，其後面接著傳遞至轉送接聽程式。</span><span class="sxs-lookup"><span data-stu-id="62509-160">It is not treated as a send operation to the Service Bus relay, followed by a delivery to the relay listener.</span></span> <span data-ttu-id="62509-161">對於轉送接聽程式的要求-回覆模式服務叫用 (最多 64 KB) 將會產生兩則計費訊息︰一則是要求的計費訊息，一則是回應的計費訊息 (假設回應也是 64 KB 或更小)。</span><span class="sxs-lookup"><span data-stu-id="62509-161">A request-reply style service invocation (of up to 64 KB) against a relay listener results in two billable messages: one billable message for the request and one billable message for the response (assuming the response is also 64 KB or smaller).</span></span> <span data-ttu-id="62509-162">這與使用佇列在用戶端與服務之間居中協調不同。</span><span class="sxs-lookup"><span data-stu-id="62509-162">This is different than using a queue to mediate between a client and a service.</span></span> <span data-ttu-id="62509-163">如果您使用佇列在用戶端與服務之間居中協調，相同要求-回覆模式需要將要求傳送至佇列，後面接著將來自佇列的清除佇列/傳遞傳送至服務。</span><span class="sxs-lookup"><span data-stu-id="62509-163">If you use a queue to mediate between a client and a service, the same request-reply pattern requires a request send to the queue, followed by a dequeue/delivery from the queue to the service.</span></span> <span data-ttu-id="62509-164">後面接著將回應傳送至另一個佇列，以及將來自該佇列的清除佇列/傳遞傳送至用戶端。</span><span class="sxs-lookup"><span data-stu-id="62509-164">This is followed by a response send to another queue, and a dequeue/delivery from that queue to the client.</span></span> <span data-ttu-id="62509-165">使用相同的大小假設輸送量 (最多 64 KB)，居中協調的佇列模式會產生 4 則計費訊息。</span><span class="sxs-lookup"><span data-stu-id="62509-165">Using the same size assumptions throughout (up to 64 KB), the mediated queue pattern results in 4 billable messages.</span></span> <span data-ttu-id="62509-166">您要支付兩倍的訊息數目，才能實作使用轉送完成的相同模式。</span><span class="sxs-lookup"><span data-stu-id="62509-166">You'd be billed for twice the number of messages to implement the same pattern that you accomplish by using relay.</span></span> <span data-ttu-id="62509-167">當然，使用佇列來達成此模式有許多優點，例如，持久性和負載調節。</span><span class="sxs-lookup"><span data-stu-id="62509-167">Of course, there are benefits to using queues to achieve this pattern, such as durability and load leveling.</span></span> <span data-ttu-id="62509-168">這些優點可合理解釋額外的費用。</span><span class="sxs-lookup"><span data-stu-id="62509-168">These benefits might justify the additional expense.</span></span>

<span data-ttu-id="62509-169">使用 **netTCPRelay** WCF 繫結開啟的轉送不會將訊息視為個別的訊息，但是會視為通過系統的資料流。</span><span class="sxs-lookup"><span data-stu-id="62509-169">Relays that are opened by using the **netTCPRelay** WCF binding treat messages not as individual messages, but as a stream of data flowing through the system.</span></span> <span data-ttu-id="62509-170">當您使用此繫結時，只有傳送者和接聽程式能夠看見傳送和接收之個別訊息的框架。</span><span class="sxs-lookup"><span data-stu-id="62509-170">When you use this binding, only the sender and listener have visibility into the framing of the individual messages sent and received.</span></span> <span data-ttu-id="62509-171">對於使用 **netTCPRelay** 繫結的轉送，所有資料都會被視為資料流，以便計算計費訊息。</span><span class="sxs-lookup"><span data-stu-id="62509-171">For relays that use the **netTCPRelay** binding, all data is treated as a stream for calculating billable messages.</span></span> <span data-ttu-id="62509-172">在此情況下，服務匯流排會以 5 分鐘為基礎，計算透過每個個別轉送傳送或接收的資料總量。</span><span class="sxs-lookup"><span data-stu-id="62509-172">In this case, Service Bus calculates the total amount of data sent or received via each individual relay on a 5-minute basis.</span></span> <span data-ttu-id="62509-173">然後，它會依據 64 KB 來分割資料總量，以判斷該期間該轉送的計費訊息數目。</span><span class="sxs-lookup"><span data-stu-id="62509-173">Then, it divides that total amount of data by 64 KB to determine the number of billable messages for that relay during that time period.</span></span>

## <a name="quotas"></a><span data-ttu-id="62509-174">配額</span><span class="sxs-lookup"><span data-stu-id="62509-174">Quotas</span></span>
| <span data-ttu-id="62509-175">配額名稱</span><span class="sxs-lookup"><span data-stu-id="62509-175">Quota name</span></span> | <span data-ttu-id="62509-176">Scope</span><span class="sxs-lookup"><span data-stu-id="62509-176">Scope</span></span> | <span data-ttu-id="62509-177">類型</span><span class="sxs-lookup"><span data-stu-id="62509-177">Type</span></span> | <span data-ttu-id="62509-178">超出時的行為</span><span class="sxs-lookup"><span data-stu-id="62509-178">Behavior when exceeded</span></span> | <span data-ttu-id="62509-179">值</span><span class="sxs-lookup"><span data-stu-id="62509-179">Value</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="62509-180">轉送上的並行接聽程式</span><span class="sxs-lookup"><span data-stu-id="62509-180">Concurrent listeners on a relay</span></span> |<span data-ttu-id="62509-181">實體</span><span class="sxs-lookup"><span data-stu-id="62509-181">Entity</span></span> |<span data-ttu-id="62509-182">靜態</span><span class="sxs-lookup"><span data-stu-id="62509-182">Static</span></span> |<span data-ttu-id="62509-183">後續對更多連線的要求將會遭到拒絕，而且呼叫端程式碼將會收到例外狀況。</span><span class="sxs-lookup"><span data-stu-id="62509-183">Subsequent requests for additional connections are rejected and an exception is received by the calling code.</span></span> |<span data-ttu-id="62509-184">25</span><span class="sxs-lookup"><span data-stu-id="62509-184">25</span></span> |
| <span data-ttu-id="62509-185">並行轉送接聽程式</span><span class="sxs-lookup"><span data-stu-id="62509-185">Concurrent relay listeners</span></span> |<span data-ttu-id="62509-186">全系統</span><span class="sxs-lookup"><span data-stu-id="62509-186">Systemwide</span></span> |<span data-ttu-id="62509-187">靜態</span><span class="sxs-lookup"><span data-stu-id="62509-187">Static</span></span> |<span data-ttu-id="62509-188">後續對更多連線的要求將會遭到拒絕，而且呼叫端程式碼將會收到例外狀況。</span><span class="sxs-lookup"><span data-stu-id="62509-188">Subsequent requests for additional connections are rejected and an exception is received by the calling code.</span></span> |<span data-ttu-id="62509-189">2,000</span><span class="sxs-lookup"><span data-stu-id="62509-189">2,000</span></span> |
| <span data-ttu-id="62509-190">服務命名空間中所有轉送端點的並行轉送連線</span><span class="sxs-lookup"><span data-stu-id="62509-190">Concurrent relay connections per all relay endpoints in a service namespace</span></span> |<span data-ttu-id="62509-191">全系統</span><span class="sxs-lookup"><span data-stu-id="62509-191">Systemwide</span></span> |<span data-ttu-id="62509-192">靜態</span><span class="sxs-lookup"><span data-stu-id="62509-192">Static</span></span> |- |<span data-ttu-id="62509-193">5,000</span><span class="sxs-lookup"><span data-stu-id="62509-193">5,000</span></span> |
| <span data-ttu-id="62509-194">每個服務命名空間的轉送端點</span><span class="sxs-lookup"><span data-stu-id="62509-194">Relay endpoints per service namespace</span></span> |<span data-ttu-id="62509-195">全系統</span><span class="sxs-lookup"><span data-stu-id="62509-195">Systemwide</span></span> |<span data-ttu-id="62509-196">靜態</span><span class="sxs-lookup"><span data-stu-id="62509-196">Static</span></span> |- |<span data-ttu-id="62509-197">10,000</span><span class="sxs-lookup"><span data-stu-id="62509-197">10,000</span></span> |
| <span data-ttu-id="62509-198">[NetOnewayRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.netonewayrelaybinding.aspx) 和 [NetEventRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.neteventrelaybinding.aspx) 轉送的訊息大小</span><span class="sxs-lookup"><span data-stu-id="62509-198">Message size for [NetOnewayRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.netonewayrelaybinding.aspx) and [NetEventRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.neteventrelaybinding.aspx) relays</span></span> |<span data-ttu-id="62509-199">全系統</span><span class="sxs-lookup"><span data-stu-id="62509-199">Systemwide</span></span> |<span data-ttu-id="62509-200">靜態</span><span class="sxs-lookup"><span data-stu-id="62509-200">Static</span></span> |<span data-ttu-id="62509-201">超出這些配額的內送訊息將會遭到拒絕，而且呼叫端程式碼將會收到例外狀況。</span><span class="sxs-lookup"><span data-stu-id="62509-201">Incoming messages that exceed these quotas are rejected and an exception is received by the calling code.</span></span> |<span data-ttu-id="62509-202">64 KB</span><span class="sxs-lookup"><span data-stu-id="62509-202">64 KB</span></span> |
| <span data-ttu-id="62509-203">[HttpRelayTransportBindingElement](https://msdn.microsoft.com/library/microsoft.servicebus.httprelaytransportbindingelement.aspx) 和 [NetTcpRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.nettcprelaybinding.aspx) 轉送的訊息大小</span><span class="sxs-lookup"><span data-stu-id="62509-203">Message size for [HttpRelayTransportBindingElement](https://msdn.microsoft.com/library/microsoft.servicebus.httprelaytransportbindingelement.aspx) and [NetTcpRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.nettcprelaybinding.aspx) relays</span></span> |<span data-ttu-id="62509-204">全系統</span><span class="sxs-lookup"><span data-stu-id="62509-204">Systemwide</span></span> |<span data-ttu-id="62509-205">靜態</span><span class="sxs-lookup"><span data-stu-id="62509-205">Static</span></span> |- |<span data-ttu-id="62509-206">無限制</span><span class="sxs-lookup"><span data-stu-id="62509-206">Unlimited</span></span> |

### <a name="does-relay-have-any-usage-quotas"></a><span data-ttu-id="62509-207">轉送是否有任何使用量配額？</span><span class="sxs-lookup"><span data-stu-id="62509-207">Does Relay have any usage quotas?</span></span>
<span data-ttu-id="62509-208">根據預設，對於所有雲端服務，Microsoft 會設定針對所有客戶的訂用帳戶計算的彙總每月使用量配額。</span><span class="sxs-lookup"><span data-stu-id="62509-208">By default, for any cloud service, Microsoft sets an aggregate monthly usage quota that is calculated across all of a customer's subscriptions.</span></span> <span data-ttu-id="62509-209">我們了解有時候您的需求可能會超過這些限制。</span><span class="sxs-lookup"><span data-stu-id="62509-209">We understand that at times your needs might exceed these limits.</span></span> <span data-ttu-id="62509-210">您可以隨時連絡客戶服務部門，讓我們知道您的需求並適當地調整這些限制。</span><span class="sxs-lookup"><span data-stu-id="62509-210">You can contact customer service at any time, so we can understand your needs and adjust these limits appropriately.</span></span> <span data-ttu-id="62509-211">服務匯流排的彙總使用量配額如下：</span><span class="sxs-lookup"><span data-stu-id="62509-211">For Service Bus, the aggregate usage quotas are as follows:</span></span>

* <span data-ttu-id="62509-212">50 億則訊息</span><span class="sxs-lookup"><span data-stu-id="62509-212">5 billion messages</span></span>
* <span data-ttu-id="62509-213">2 百萬個轉送小時</span><span class="sxs-lookup"><span data-stu-id="62509-213">2 million relay hours</span></span>

<span data-ttu-id="62509-214">雖然我們有權停用超出其每月使用量配額的帳戶，但我們將提供電子郵件通知並且在採取任何動作之前多次嘗試連絡客戶。</span><span class="sxs-lookup"><span data-stu-id="62509-214">Although we reserve the right to disable an account that exceeds its monthly usage quotas, we provide e-mail notification, and we make multiple attempts to contact the customer before taking any action.</span></span> <span data-ttu-id="62509-215">超出這些配額的客戶仍需負責支付額外費用。</span><span class="sxs-lookup"><span data-stu-id="62509-215">Customers that exceed these quotas are still responsible for excess charges.</span></span>

### <a name="naming-restrictions"></a><span data-ttu-id="62509-216">命名限制</span><span class="sxs-lookup"><span data-stu-id="62509-216">Naming restrictions</span></span>
<span data-ttu-id="62509-217">轉送命名空間名稱的長度必須介於 6 到 50 個字元之間。</span><span class="sxs-lookup"><span data-stu-id="62509-217">A Relay namespace name must be between 6 and 50 characters in length.</span></span>

## <a name="subscription-and-namespace-management"></a><span data-ttu-id="62509-218">訂用帳戶和命名空間管理</span><span class="sxs-lookup"><span data-stu-id="62509-218">Subscription and namespace management</span></span>
### <a name="how-do-i-migrate-a-namespace-to-another-azure-subscription"></a><span data-ttu-id="62509-219">如何將命名空間移轉到另一個 Azure 訂用帳戶？</span><span class="sxs-lookup"><span data-stu-id="62509-219">How do I migrate a namespace to another Azure subscription?</span></span>

<span data-ttu-id="62509-220">若要將命名空間從某個 Azure 訂用帳戶移至另一個訂用帳戶，您可以使用 [Azure 入口網站](https://portal.azure.com)或使用 PowerShell 命令。</span><span class="sxs-lookup"><span data-stu-id="62509-220">To move a namespace from one Azure subscription to another subscription, you can either use the [Azure portal](https://portal.azure.com) or use PowerShell commands.</span></span> <span data-ttu-id="62509-221">若要將命名空間移至另一個訂用帳戶，命名空間必須已經是作用中。</span><span class="sxs-lookup"><span data-stu-id="62509-221">To move a namespace to another subscription, the namespace must already be active.</span></span> <span data-ttu-id="62509-222">執行命令的使用者必須是來源和目標訂用帳戶的系統管理員使用者。</span><span class="sxs-lookup"><span data-stu-id="62509-222">The user running the commands must be an Administrator user on both the source and target subscriptions.</span></span>

#### <a name="azure-portal"></a><span data-ttu-id="62509-223">Azure 入口網站</span><span class="sxs-lookup"><span data-stu-id="62509-223">Azure portal</span></span>

<span data-ttu-id="62509-224">若要使用 Azure 入口網站，將 Azure 轉送命名空間從某個訂用帳戶移轉到另一個訂用帳戶，請參閱[將資源移至新的資源群組或訂用帳戶](../azure-resource-manager/resource-group-move-resources.md#use-portal)。</span><span class="sxs-lookup"><span data-stu-id="62509-224">To use the Azure portal to migrate Azure Relay namespaces from one subscription to another subscription, see [Move resources to a new resource group or subscription](../azure-resource-manager/resource-group-move-resources.md#use-portal).</span></span> 

#### <a name="powershell"></a><span data-ttu-id="62509-225">PowerShell</span><span class="sxs-lookup"><span data-stu-id="62509-225">PowerShell</span></span>

<span data-ttu-id="62509-226">若要使用 PowerShell 將命名空間從某個 Azure 訂用帳戶移至另一個訂用帳戶，請使用下列的命令順序。</span><span class="sxs-lookup"><span data-stu-id="62509-226">To use PowerShell to move a namespace from one Azure subscription to another subscription, use the following sequence of commands.</span></span> <span data-ttu-id="62509-227">若要執行這項作業，命名空間必須已經是作用中，而且執行 PowerShell 命令的使用者必須是來源與目標訂用帳戶的系統管理員使用者。</span><span class="sxs-lookup"><span data-stu-id="62509-227">To execute this operation, the namespace must already be active, and the user running the PowerShell commands must be an Administrator user on both the source and target subscriptions.</span></span>

```powershell
# Create a new resource group in the target subscription.
Select-AzureRmSubscription -SubscriptionId 'ffffffff-ffff-ffff-ffff-ffffffffffff'
New-AzureRmResourceGroup -Name 'targetRG' -Location 'East US'

# Move the namespace from the source subscription to the target subscription.
Select-AzureRmSubscription -SubscriptionId 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa'
$res = Find-AzureRmResource -ResourceNameContains mynamespace -ResourceType 'Microsoft.ServiceBus/namespaces'
Move-AzureRmResource -DestinationResourceGroupName 'targetRG' -DestinationSubscriptionId 'ffffffff-ffff-ffff-ffff-ffffffffffff' -ResourceId $res.ResourceId
```

## <a name="troubleshooting"></a><span data-ttu-id="62509-228">疑難排解</span><span class="sxs-lookup"><span data-stu-id="62509-228">Troubleshooting</span></span>
### <a name="what-are-some-of-the-exceptions-generated-by-azure-relay-apis-and-suggested-actions-you-can-take"></a><span data-ttu-id="62509-229">Azure 轉送 API 所產生的例外狀況有哪些，您可以採取的建議動作為何？</span><span class="sxs-lookup"><span data-stu-id="62509-229">What are some of the exceptions generated by Azure Relay APIs, and suggested actions you can take?</span></span>
<span data-ttu-id="62509-230">如需常見例外狀況的描述以及您可以採取的建議動作，請參閱[轉送例外狀況][Relay exceptions]。</span><span class="sxs-lookup"><span data-stu-id="62509-230">For a description of common exceptions and suggested actions you can take, see [Relay exceptions][Relay exceptions].</span></span>

### <a name="what-is-a-shared-access-signature-and-which-languages-can-i-use-to-generate-a-signature"></a><span data-ttu-id="62509-231">什麼是共用存取簽章，我可以使用何種語言來產生簽章？</span><span class="sxs-lookup"><span data-stu-id="62509-231">What is a shared access signature, and which languages can I use to generate a signature?</span></span>
<span data-ttu-id="62509-232">共用存取簽章 (SAS) 是以 SHA-256 安全雜湊或 URI 為基礎的驗證機制。</span><span class="sxs-lookup"><span data-stu-id="62509-232">Shared Access Signatures (SAS) are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="62509-233">如需如何以 Node、PHP、Java、C 和 C# 產生自有簽章的相關資訊，請參閱[具有共用存取簽章的服務匯流排驗證][Shared Access Signatures]。</span><span class="sxs-lookup"><span data-stu-id="62509-233">For information about how to generate your own signatures in Node, PHP, Java, C, and C#, see [Service Bus authentication with shared access signatures][Shared Access Signatures].</span></span>

### <a name="is-it-possible-to-whitelist-relay-endpoints"></a><span data-ttu-id="62509-234">可以將轉送端點列入白名單嗎？</span><span class="sxs-lookup"><span data-stu-id="62509-234">Is it possible to whitelist relay endpoints?</span></span>
<span data-ttu-id="62509-235">是。</span><span class="sxs-lookup"><span data-stu-id="62509-235">Yes.</span></span> <span data-ttu-id="62509-236">轉送用戶端會使用完整的網域名稱連線至 Azure 轉送服務。</span><span class="sxs-lookup"><span data-stu-id="62509-236">The relay client makes connections to the Azure Relay service by using fully qualified domain names.</span></span> <span data-ttu-id="62509-237">客戶可以在防火牆上新增 `*.servicebus.windows.net` 項目以支援 DNS 白名單。</span><span class="sxs-lookup"><span data-stu-id="62509-237">Customers can add an entry for `*.servicebus.windows.net` on firewalls that support DNS whitelisting.</span></span>

## <a name="next-steps"></a><span data-ttu-id="62509-238">後續步驟</span><span class="sxs-lookup"><span data-stu-id="62509-238">Next steps</span></span>
* [<span data-ttu-id="62509-239">建立命名空間</span><span class="sxs-lookup"><span data-stu-id="62509-239">Create a namespace</span></span>](relay-create-namespace-portal.md)
* [<span data-ttu-id="62509-240">開始使用 .NET</span><span class="sxs-lookup"><span data-stu-id="62509-240">Get started with .NET</span></span>](relay-hybrid-connections-dotnet-get-started.md)
* [<span data-ttu-id="62509-241">開始使用 Node</span><span class="sxs-lookup"><span data-stu-id="62509-241">Get started with Node</span></span>](relay-hybrid-connections-node-get-started.md)

[Pricing overview]: https://azure.microsoft.com/pricing/details/service-bus/
[Relay exceptions]: relay-exceptions.md
[Shared access signatures]: ../service-bus-messaging/service-bus-sas.md