---
title: "aaaHow toomonitor Azure Redis 快取 |Microsoft 文件"
description: "了解如何 toomonitor hello 健全狀況和效能您的 Azure Redis 快取執行個體"
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: sdanie
ms.openlocfilehash: c474d485dfcbb109d5bb634a980f6db080598e13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="how-toomonitor-azure-redis-cache"></a><span data-ttu-id="03a77-103">如何 toomonitor Azure Redis 快取</span><span class="sxs-lookup"><span data-stu-id="03a77-103">How toomonitor Azure Redis Cache</span></span>
<span data-ttu-id="03a77-104">Azure Redis 快取使用[Azure 監視器](https://docs.microsoft.com/azure/monitoring-and-diagnostics/)tooprovide 監視您的快取執行個體的數個選項。</span><span class="sxs-lookup"><span data-stu-id="03a77-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) tooprovide several options for monitoring your cache instances.</span></span> <span data-ttu-id="03a77-105">您可以檢視度量、 釘選度量圖表 toohello 開始面板、 自訂 hello 日期和時間範圍的監控圖表、 加入和從 hello 圖表移除度量和設定警示，當符合特定條件。</span><span class="sxs-lookup"><span data-stu-id="03a77-105">You can view metrics, pin metrics charts toohello Startboard, customize hello date and time range of monitoring charts, add and remove metrics from hello charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="03a77-106">這些工具讓您 toomonitor hello 健全狀況的 Azure Redis 快取執行個體，以及協助您管理應用程式快取。</span><span class="sxs-lookup"><span data-stu-id="03a77-106">These tools enable you toomonitor hello health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="03a77-107">度量的 Azure Redis 快取執行個體所收集使用 hello Redis[資訊](http://redis.io/commands/info)30 天內每分鐘和自動儲存命令約兩次 (請參閱[匯出快取度量](#export-cache-metrics)tooconfigure不同的保留原則），可以顯示的 hello 度量圖表並評估警示規則。</span><span class="sxs-lookup"><span data-stu-id="03a77-107">Metrics for Azure Redis Cache instances are collected using hello Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) tooconfigure a different retention policy) so they can be displayed in hello metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="03a77-108">如需 hello 所使用的每個快取度量的不同資訊值的詳細資訊，請參閱[可用的度量和報告間隔](#available-metrics-and-reporting-intervals)。</span><span class="sxs-lookup"><span data-stu-id="03a77-108">For more information about hello different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="03a77-109">tooview 快取度量，[瀏覽](cache-configure.md#configure-redis-cache-settings)tooyour 快取執行個體在 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="03a77-109">tooview cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) tooyour cache instance in hello [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="03a77-110">Azure Redis 快取會提供一些內建的圖表上 hello**概觀**刀鋒視窗，然後 hello **Redis 度量**刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="03a77-110">Azure Redis Cache provides some built-in charts on hello **Overview** blade and hello **Redis metrics** blade.</span></span> <span data-ttu-id="03a77-111">加入或移除度量資訊以及變更報表間隔的 hello 可以自訂每個圖表。</span><span class="sxs-lookup"><span data-stu-id="03a77-111">Each chart can be customized by adding or removing metrics and changing hello reporting interval.</span></span>

![Redis 度量](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="03a77-113">檢視預先設定的計量圖表</span><span class="sxs-lookup"><span data-stu-id="03a77-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="03a77-114">hello**概觀**分頁有 hello 下列預先設定的監視圖表。</span><span class="sxs-lookup"><span data-stu-id="03a77-114">hello **Overview** blade has hello following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="03a77-115">監視圖表</span><span class="sxs-lookup"><span data-stu-id="03a77-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="03a77-116">使用量圖表</span><span class="sxs-lookup"><span data-stu-id="03a77-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="03a77-117">監視圖表</span><span class="sxs-lookup"><span data-stu-id="03a77-117">Monitoring charts</span></span>
<span data-ttu-id="03a77-118">hello**監視**> 一節中 hello**概觀**分頁有**點擊和遺漏**，**取得及設定**，**連線**，和**命令總數**圖表。</span><span class="sxs-lookup"><span data-stu-id="03a77-118">hello **Monitoring** section in hello **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![監視圖表](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="03a77-120">使用量圖表</span><span class="sxs-lookup"><span data-stu-id="03a77-120">Usage charts</span></span>
<span data-ttu-id="03a77-121">hello**使用量**> 一節中 hello**概觀**分頁有**Redis 伺服器負載**，**記憶體使用量**，**網路頻寬**，和**CPU 使用量**圖，並顯示 hello**定價層**hello 快取執行個體。</span><span class="sxs-lookup"><span data-stu-id="03a77-121">hello **Usage** section in hello **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwith**, and **CPU Usage** charts, and also displays hello **Pricing tier** for hello cache instance.</span></span>

![使用量圖表](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="03a77-123">hello**定價層**顯示 hello 快取定價層，而且可用太[標尺](cache-how-to-scale.md)hello 快取 tooa 不同定價層。</span><span class="sxs-lookup"><span data-stu-id="03a77-123">hello **Pricing tier** displays hello cache pricing tier, and can be used too[scale](cache-how-to-scale.md) hello cache tooa different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="03a77-124">使用 Azure 監視器檢視計量</span><span class="sxs-lookup"><span data-stu-id="03a77-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="03a77-125">tooview Redis 度量使用及建立自訂圖表 Azure 監視器按一下**度量**從 hello**資源功能表**，來自訂圖表使用預期的 hello 度量、 報告時間間隔，圖表類型，並和更多。</span><span class="sxs-lookup"><span data-stu-id="03a77-125">tooview Redis metrics and create custom charts using Azure Monitor, click **Metrics** from hello **Resource menu**, and customize your chart using hello desired metrics, reporting interval, chart type, and more.</span></span>

![Redis 度量](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="03a77-127">如需使用 Azure 監視器處理計量的詳細資訊，請參閱 [Microsoft Azure 的計量概觀](../monitoring-and-diagnostics/monitoring-overview-metrics.md)。</span><span class="sxs-lookup"><span data-stu-id="03a77-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="03a77-128">匯出快取計量</span><span class="sxs-lookup"><span data-stu-id="03a77-128">Export cache metrics</span></span>
<span data-ttu-id="03a77-129">根據預設，Azure 監視器中的快取計量會[儲存 30 天](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive)，而後刪除。</span><span class="sxs-lookup"><span data-stu-id="03a77-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="03a77-130">toopersist 的時間超過 30 天您快取度量，您可以[指定儲存體帳戶](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md)並指定**保留 （天）**快取度量的原則。</span><span class="sxs-lookup"><span data-stu-id="03a77-130">toopersist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="03a77-131">tooconfigure 快取度量的儲存體帳戶：</span><span class="sxs-lookup"><span data-stu-id="03a77-131">tooconfigure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="03a77-132">按一下**診斷**從 hello**資源功能表**在 hello **Redis 快取**刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="03a77-132">Click **Diagnostics** from hello **Resource menu** in hello **Redis Cache** blade.</span></span>
2. <span data-ttu-id="03a77-133">按一下 [開啟]。</span><span class="sxs-lookup"><span data-stu-id="03a77-133">Click **On**.</span></span>
3. <span data-ttu-id="03a77-134">請檢查**封存 tooa 儲存體帳戶**。</span><span class="sxs-lookup"><span data-stu-id="03a77-134">Check **Archive tooa storage account**.</span></span>
4. <span data-ttu-id="03a77-135">選取哪些 toostore hello 快取度量中的 hello 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="03a77-135">Select hello storage account in which toostore hello cache metrics.</span></span>
5. <span data-ttu-id="03a77-136">檢查 hello **1 分鐘**核取方塊，並指定**保留 （天）**原則。</span><span class="sxs-lookup"><span data-stu-id="03a77-136">Check hello **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="03a77-137">如果您不想 tooapply 任何保留原則與永久保留資料，設定**保留 （天）**太**0**。</span><span class="sxs-lookup"><span data-stu-id="03a77-137">If you do not want tooapply any retention policy and retain data forever, set **Retention (days)** too**0**.</span></span>
6. <span data-ttu-id="03a77-138">按一下 [儲存] 。</span><span class="sxs-lookup"><span data-stu-id="03a77-138">Click **Save**.</span></span>

![Redis 診斷](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="03a77-140">在加法 tooarchiving 您快取度量 toostorage，您也可以[它們進行串流處理 tooan 事件中心，或將它們傳送 tooLog 分析](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics)。</span><span class="sxs-lookup"><span data-stu-id="03a77-140">In addition tooarchiving your cache metrics toostorage, you can also [stream them tooan Event hub or send them tooLog Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="03a77-141">tooaccess 您度量 hello 本文，如先前所述的 Azure 入口網站中進行檢視，和您也可以存取它們使用 hello [Azure 監視度量 REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api)。</span><span class="sxs-lookup"><span data-stu-id="03a77-141">tooaccess your metrics, you can view them in hello Azure portal as previously described in this article, and you can also access them using hello [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="03a77-142">如果您變更儲存體帳戶，先前設定的 hello 儲存體帳戶中的 hello 資料仍然可供下載，但它不會顯示在 hello Azure 入口網站。</span><span class="sxs-lookup"><span data-stu-id="03a77-142">If you change storage accounts, hello data in hello previously configured storage account remains available for download, but it is not displayed in hello Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="03a77-143">可用度量和報告間隔</span><span class="sxs-lookup"><span data-stu-id="03a77-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="03a77-144">快取度量是使用數個報告間隔所報告，包括 [過去一小時]、[今天]、[過去一週] 和 [自訂]。</span><span class="sxs-lookup"><span data-stu-id="03a77-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="03a77-145">hello**度量**刀鋒視窗中的每個度量圖表會顯示 hello 圖表中的 hello 每個度量的平均值、 最小值和最大值和某些度量資訊會顯示 hello 報告間隔的總計。</span><span class="sxs-lookup"><span data-stu-id="03a77-145">hello **Metric** blade for each metrics chart displays hello average, minimum, and maximum values for each metric in hello chart, and some metrics display a total for hello reporting interval.</span></span> 

<span data-ttu-id="03a77-146">每個度量都包含兩個版本。</span><span class="sxs-lookup"><span data-stu-id="03a77-146">Each metric includes two versions.</span></span> <span data-ttu-id="03a77-147">一個度量來測量效能 hello 整個快取，以及使用的快取[叢集](cache-how-to-premium-clustering.md)，hello 度量資訊會包含第二個版本`(Shard 0-9)`的快取中的單一分區 hello 名稱的量值的效能。</span><span class="sxs-lookup"><span data-stu-id="03a77-147">One metric measures performance for hello entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of hello metric that includes `(Shard 0-9)` in hello name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="03a77-148">例如，如果快取都有 4 個分區，`Cache Hits`是 hello 總數量 hello 整個快取命中和`Cache Hits (Shard 3)`是只針對該分區 hello 快取的 hello 叫用。</span><span class="sxs-lookup"><span data-stu-id="03a77-148">For example if a cache has 4 shards, `Cache Hits` is hello total amount of hits for hello entire cache, and `Cache Hits (Shard 3)` is just hello hits for that shard of hello cache.</span></span>

> [!NOTE]
> <span data-ttu-id="03a77-149">即使 hello 快取處於閒置狀態時沒有作用中連線的用戶端安裝應用程式，您可能會看到某些快取活動，例如連線的用戶端、 記憶體使用量，以及正在執行的作業。</span><span class="sxs-lookup"><span data-stu-id="03a77-149">Even when hello cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="03a77-150">Azure Redis 快取執行個體的 hello 作業期間，這個活動是正常的。</span><span class="sxs-lookup"><span data-stu-id="03a77-150">This activity is normal during hello operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="03a77-151">計量</span><span class="sxs-lookup"><span data-stu-id="03a77-151">Metric</span></span> | <span data-ttu-id="03a77-152">說明</span><span class="sxs-lookup"><span data-stu-id="03a77-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="03a77-153">快取點擊</span><span class="sxs-lookup"><span data-stu-id="03a77-153">Cache Hits</span></span> |<span data-ttu-id="03a77-154">hello hello 指定報告的時間間隔期間成功的索引鍵查閱數目。</span><span class="sxs-lookup"><span data-stu-id="03a77-154">hello number of successful key lookups during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-155">這會對應太`keyspace_hits`從 hello Redis[資訊](http://redis.io/commands/info)命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-155">This maps too`keyspace_hits` from hello Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="03a77-156">快取遺漏</span><span class="sxs-lookup"><span data-stu-id="03a77-156">Cache Misses</span></span> |<span data-ttu-id="03a77-157">hello hello 指定報告的時間間隔期間失敗的索引鍵查閱數目。</span><span class="sxs-lookup"><span data-stu-id="03a77-157">hello number of failed key lookups during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-158">這會對應太`keyspace_misses`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-158">This maps too`keyspace_misses` from hello Redis INFO command.</span></span> <span data-ttu-id="03a77-159">快取遺漏並不一定代表 hello 快取發生問題。</span><span class="sxs-lookup"><span data-stu-id="03a77-159">Cache misses do not necessarily mean there is an issue with hello cache.</span></span> <span data-ttu-id="03a77-160">例如，當使用另行快取程式設計模式的 hello，應用程式會尋找第一個 hello 快取的項目中。</span><span class="sxs-lookup"><span data-stu-id="03a77-160">For example, when using hello cache-aside programming pattern, an application looks first in hello cache for an item.</span></span> <span data-ttu-id="03a77-161">如果 hello 項目不存在 （快取遺漏），hello 項目從 hello 資料庫擷取，並且加入 toohello 快取下一次。</span><span class="sxs-lookup"><span data-stu-id="03a77-161">If hello item is not there (cache miss), hello item is retrieved from hello database and added toohello cache for next time.</span></span> <span data-ttu-id="03a77-162">快取遺漏會另行快取程式設計模式的 hello 正常的行為。</span><span class="sxs-lookup"><span data-stu-id="03a77-162">Cache misses are normal behavior for hello cache-aside programming pattern.</span></span> <span data-ttu-id="03a77-163">如果 hello 快取遺漏數目超過預期，檢查 hello 應用程式邏輯來填入和讀取 hello 快取。</span><span class="sxs-lookup"><span data-stu-id="03a77-163">If hello number of cache misses is higher than expected, examine hello application logic that populates and reads from hello cache.</span></span> <span data-ttu-id="03a77-164">如果正在收回項目從 hello 快取到期 toomemory 不足的壓力則可能有某些快取遺漏，但是會更好的度量 toomonitor 記憶體不足壓力`Used Memory`或`Evicted Keys`。</span><span class="sxs-lookup"><span data-stu-id="03a77-164">If items are being evicted from hello cache due toomemory pressure then there may be some cache misses, but a better metric toomonitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="03a77-165">連線的用戶端</span><span class="sxs-lookup"><span data-stu-id="03a77-165">Connected Clients</span></span> |<span data-ttu-id="03a77-166">hello hello 指定報告的時間間隔期間的用戶端連線 toohello 快取數目。</span><span class="sxs-lookup"><span data-stu-id="03a77-166">hello number of client connections toohello cache during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-167">這會對應太`connected_clients`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-167">This maps too`connected_clients` from hello Redis INFO command.</span></span> <span data-ttu-id="03a77-168">一次 hello[連線限制](cache-configure.md#default-redis-server-configuration)達到後續連接嘗試 toohello 快取將會失敗。</span><span class="sxs-lookup"><span data-stu-id="03a77-168">Once hello [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts toohello cache will fail.</span></span> <span data-ttu-id="03a77-169">請注意，即使沒有任何作用中用戶端應用程式中，有可能仍然是連線的用戶端因為 toointernal 處理程序和連線的少數的執行個體。</span><span class="sxs-lookup"><span data-stu-id="03a77-169">Note that even if there are no active client application, there may still be a few instances of connected clients due toointernal processes and connections.</span></span> |
| <span data-ttu-id="03a77-170">收回的金鑰</span><span class="sxs-lookup"><span data-stu-id="03a77-170">Evicted Keys</span></span> |<span data-ttu-id="03a77-171">hello hello 期間從 hello 快取收回的項目數目指定報告的時間間隔到期 toohello`maxmemory`限制。</span><span class="sxs-lookup"><span data-stu-id="03a77-171">hello number of items evicted from hello cache during hello specified reporting interval due toohello `maxmemory` limit.</span></span> <span data-ttu-id="03a77-172">這會對應太`evicted_keys`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-172">This maps too`evicted_keys` from hello Redis INFO command.</span></span> |
| <span data-ttu-id="03a77-173">到期的金鑰</span><span class="sxs-lookup"><span data-stu-id="03a77-173">Expired Keys</span></span> |<span data-ttu-id="03a77-174">hello 指定報告的時間間隔期間，從 hello 快取到期 hello 項目數目。</span><span class="sxs-lookup"><span data-stu-id="03a77-174">hello number of items expired from hello cache during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-175">這個值會對應太`expired_keys`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-175">This value maps too`expired_keys` from hello Redis INFO command.</span></span> |
| <span data-ttu-id="03a77-176">索引鍵總計</span><span class="sxs-lookup"><span data-stu-id="03a77-176">Total Keys</span></span>  | <span data-ttu-id="03a77-177">hello 期間超過報告時間週期的 hello hello 快取中的索引鍵數目上限。</span><span class="sxs-lookup"><span data-stu-id="03a77-177">hello maximum number of keys in hello cache during hello past reporting time period.</span></span> <span data-ttu-id="03a77-178">這會對應太`keyspace`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-178">This maps too`keyspace` from hello Redis INFO command.</span></span> <span data-ttu-id="03a77-179">由於 tooa 限制 hello 基礎度量系統中，以啟用，叢集的快取的總索引鍵傳回 hello 最大數目 hello 分區 hello 報告時間間隔期間具有 hello 的索引鍵的最大數目的索引鍵。</span><span class="sxs-lookup"><span data-stu-id="03a77-179">Due tooa limitation of hello underlying metrics system, for caches with clustering enabled, Total Keys returns hello maximum number of keys of hello shard that had hello maximum number of keys during hello reporting interval.</span></span>  |
| <span data-ttu-id="03a77-180">取得</span><span class="sxs-lookup"><span data-stu-id="03a77-180">Gets</span></span> |<span data-ttu-id="03a77-181">hello hello 指定報告的時間間隔期間，從 hello 快取 get 作業數目。</span><span class="sxs-lookup"><span data-stu-id="03a77-181">hello number of get operations from hello cache during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-182">這個值會是所有命令 hello Redis 資訊 hello 總和 hello 以下的都值： `cmdstat_get`， `cmdstat_hget`， `cmdstat_hgetall`， `cmdstat_hmget`， `cmdstat_mget`， `cmdstat_getbit`，和`cmdstat_getrange`，而且相等 toohello 快取點擊總數，在 hello 報告時間間隔期間的遺漏數。</span><span class="sxs-lookup"><span data-stu-id="03a77-182">This value is hello sum of hello following values from hello Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent toohello sum of cache hits and misses during hello reporting interval.</span></span> |
| <span data-ttu-id="03a77-183">Redis 伺服器負載</span><span class="sxs-lookup"><span data-stu-id="03a77-183">Redis Server Load</span></span> |<span data-ttu-id="03a77-184">hello 百分比的循環的 hello Redis 伺服器是忙碌處理，而不等待閒置的訊息。</span><span class="sxs-lookup"><span data-stu-id="03a77-184">hello percentage of cycles in which hello Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="03a77-185">如果這個計數器達到的 100 表示 hello Redis 伺服器已達到效能上限，而無法處理 hello CPU 速度任何工作。</span><span class="sxs-lookup"><span data-stu-id="03a77-185">If this counter reaches 100 it means hello Redis server has hit a performance ceiling and hello CPU can't process work any faster.</span></span> <span data-ttu-id="03a77-186">如果您看到高 Redis 伺服器負載，您會看到在 hello 用戶端的逾時例外狀況。</span><span class="sxs-lookup"><span data-stu-id="03a77-186">If you are seeing high Redis Server Load then you will see timeout exceptions in hello client.</span></span> <span data-ttu-id="03a77-187">在此情況下，您應該考慮向上延展，或將資料分割成多個快取。</span><span class="sxs-lookup"><span data-stu-id="03a77-187">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="03a77-188">設定</span><span class="sxs-lookup"><span data-stu-id="03a77-188">Sets</span></span> |<span data-ttu-id="03a77-189">指定報告的時間間隔的設定作業 toohello 快取期間 hello 的 hello 數目。</span><span class="sxs-lookup"><span data-stu-id="03a77-189">hello number of set operations toohello cache during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-190">這個值會是所有命令 hello Redis 資訊 hello 總和 hello 以下的都值： `cmdstat_set`， `cmdstat_hset`， `cmdstat_hmset`， `cmdstat_hsetnx`， `cmdstat_lset`， `cmdstat_mset`， `cmdstat_msetnx`， `cmdstat_setbit`， `cmdstat_setex`， `cmdstat_setrange`與`cmdstat_setnx`。</span><span class="sxs-lookup"><span data-stu-id="03a77-190">This value is hello sum of hello following values from hello Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="03a77-191">總作業數</span><span class="sxs-lookup"><span data-stu-id="03a77-191">Total Operations</span></span> |<span data-ttu-id="03a77-192">hello 命令總數 hello 期間處理 hello 快取伺服器指定報告的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="03a77-192">hello total number of commands processed by hello cache server during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-193">這個值會對應太`total_commands_processed`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-193">This value maps too`total_commands_processed` from hello Redis INFO command.</span></span> <span data-ttu-id="03a77-194">請注意，當 Azure Redis 快取純粹用於 pub/sub 會有任何的度量`Cache Hits`， `Cache Misses`， `Gets`，或`Sets`，但會有`Total Operations`反映 pub/sub 作業的 hello 快取使用量的度量。</span><span class="sxs-lookup"><span data-stu-id="03a77-194">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect hello cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="03a77-195">已使用的記憶體</span><span class="sxs-lookup"><span data-stu-id="03a77-195">Used Memory</span></span> |<span data-ttu-id="03a77-196">hello hello 期間用於 hello 以 mb 為單位的快取中的索引鍵/值組的快取記憶體數量指定報告的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="03a77-196">hello amount of cache memory used for key/value pairs in hello cache in MB during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-197">這個值會對應太`used_memory`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-197">This value maps too`used_memory` from hello Redis INFO command.</span></span> <span data-ttu-id="03a77-198">這不包括中繼資料或片段。</span><span class="sxs-lookup"><span data-stu-id="03a77-198">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="03a77-199">已用的記憶體 RSS</span><span class="sxs-lookup"><span data-stu-id="03a77-199">Used Memory RSS</span></span> |<span data-ttu-id="03a77-200">hello 快取使用的記憶體數量 （mb） hello 期間指定報告的時間間隔，包括片段和中繼資料。</span><span class="sxs-lookup"><span data-stu-id="03a77-200">hello amount of cache memory used in MB during hello specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="03a77-201">這個值會對應太`used_memory_rss`從 hello Redis INFO 命令。</span><span class="sxs-lookup"><span data-stu-id="03a77-201">This value maps too`used_memory_rss` from hello Redis INFO command.</span></span> |
| <span data-ttu-id="03a77-202">CPU</span><span class="sxs-lookup"><span data-stu-id="03a77-202">CPU</span></span> |<span data-ttu-id="03a77-203">hello 伺服器的 CPU 使用率 hello Azure Redis 快取百分比 hello 期間指定報告的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="03a77-203">hello CPU utilization of hello Azure Redis Cache server as a percentage during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-204">這個值會對應 toohello 作業系統`\Processor(_Total)\% Processor Time`效能計數器。</span><span class="sxs-lookup"><span data-stu-id="03a77-204">This value maps toohello operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="03a77-205">快取讀取</span><span class="sxs-lookup"><span data-stu-id="03a77-205">Cache Read</span></span> |<span data-ttu-id="03a77-206">從以 mb 為單位期間每秒 (MB/s) hello 的 hello 快取讀取的資料量 hello 指定報告的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="03a77-206">hello amount of data read from hello cache in Megabytes per second (MB/s) during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-207">這個值被衍生自 hello 的支援 hello 虛擬機器裝載 hello 快取，且為不 Redis 特定網路介面卡。</span><span class="sxs-lookup"><span data-stu-id="03a77-207">This value is derived from hello network interface cards that support hello virtual machine that hosts hello cache and is not Redis specific.</span></span> <span data-ttu-id="03a77-208">**此值與這個快取所使用的 toohello 網路頻寬。如果您想要的警示 tooset 伺服器端網路頻寬限制，然後建立使用這個`Cache Read`計數器。請參閱[本表](cache-faq.md#cache-performance)hello 觀察到的定價層和大小的各種快取的頻寬限制。**</span><span class="sxs-lookup"><span data-stu-id="03a77-208">**This value corresponds toohello network bandwidth used by this cache. If you want tooset up alerts for server side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for hello observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="03a77-209">快取寫入</span><span class="sxs-lookup"><span data-stu-id="03a77-209">Cache Write</span></span> |<span data-ttu-id="03a77-210">hello 以 mb 為單位的 toohello 快取寫入期間每秒 (MB/s) hello 指定報告的時間間隔的資料量。</span><span class="sxs-lookup"><span data-stu-id="03a77-210">hello amount of data written toohello cache in Megabytes per second (MB/s) during hello specified reporting interval.</span></span> <span data-ttu-id="03a77-211">這個值被衍生自 hello 的支援 hello 虛擬機器裝載 hello 快取，且為不 Redis 特定網路介面卡。</span><span class="sxs-lookup"><span data-stu-id="03a77-211">This value is derived from hello network interface cards that support hello virtual machine that hosts hello cache and is not Redis specific.</span></span> <span data-ttu-id="03a77-212">此值對應 toohello 網路頻寬從 hello 用戶端傳送 toohello 快取的資料。</span><span class="sxs-lookup"><span data-stu-id="03a77-212">This value corresponds toohello network bandwidth of data sent toohello cache from hello client.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="03a77-213">Alerts</span><span class="sxs-lookup"><span data-stu-id="03a77-213">Alerts</span></span>
<span data-ttu-id="03a77-214">您可以設定 tooreceive 根據度量和活動記錄檔的警示。</span><span class="sxs-lookup"><span data-stu-id="03a77-214">You can configure tooreceive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="03a77-215">Azure 監視器可讓您 tooconfigure 警示 toodo hello，下列情況觸發：</span><span class="sxs-lookup"><span data-stu-id="03a77-215">Azure Monitor allows you tooconfigure an alert toodo hello following when it triggers:</span></span>

* <span data-ttu-id="03a77-216">傳送電子郵件通知</span><span class="sxs-lookup"><span data-stu-id="03a77-216">Send an email notification</span></span>
* <span data-ttu-id="03a77-217">呼叫 Webhook</span><span class="sxs-lookup"><span data-stu-id="03a77-217">Call a webhook</span></span>
* <span data-ttu-id="03a77-218">叫用 Azure 邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="03a77-218">Invoke an Azure Logic App</span></span>

<span data-ttu-id="03a77-219">tooconfigure 警示規則，以便您的快取中，按一下**警示規則**從 hello**資源功能表**。</span><span class="sxs-lookup"><span data-stu-id="03a77-219">tooconfigure Alert rules for your cache, click **Alert rules** from hello **Resource menu**.</span></span>

![監視](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="03a77-221">如需設定和使用警示的詳細資訊，請參閱[警示概觀](../monitoring-and-diagnostics/insights-alerts-portal.md)。</span><span class="sxs-lookup"><span data-stu-id="03a77-221">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="03a77-222">活動記錄檔</span><span class="sxs-lookup"><span data-stu-id="03a77-222">Activity Logs</span></span>
<span data-ttu-id="03a77-223">活動記錄檔提供深入了解您的 Azure Redis 快取執行個體執行的 hello 操作。</span><span class="sxs-lookup"><span data-stu-id="03a77-223">Activity logs provide insight into hello operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="03a77-224">此記錄以前稱為「稽核記錄」或「作業記錄」。</span><span class="sxs-lookup"><span data-stu-id="03a77-224">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="03a77-225">使用活動記錄檔，您可以決定 hello 」 功能，對象、 及何時"的任何寫入作業 (PUT、 POST、 DELETE) 您的 Azure Redis 快取執行個體上建立。</span><span class="sxs-lookup"><span data-stu-id="03a77-225">Using activity logs, you can determine hello "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="03a77-226">活動記錄不包含讀取 (GET) 作業。</span><span class="sxs-lookup"><span data-stu-id="03a77-226">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="03a77-227">tooview 活動記錄檔中的快取中，按一下**活動記錄**從 hello**資源功能表**。</span><span class="sxs-lookup"><span data-stu-id="03a77-227">tooview activity logs for your cache, click **Activity logs** from hello **Resource menu**.</span></span>

<span data-ttu-id="03a77-228">如需活動記錄檔的詳細資訊，請參閱[hello Azure 活動記錄檔的概觀](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md)。</span><span class="sxs-lookup"><span data-stu-id="03a77-228">For more information about Activity logs, see [Overview of hello Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











