---
title: "aaaEnable 離線同步處理針對通用 Windows 平台 (UWP) 應用程式與行動應用程式 |Microsoft 文件"
description: "深入了解如何 toouse Azure 行動應用程式 toocache 和同步處理離線資料在通用 Windows 平台 (UWP) 應用程式中。"
documentationcenter: windows
author: ggailey777
manager: syntaxc4
editor: 
services: app-service\mobile
ms.assetid: 8fe51773-90de-4014-8a38-41544446d9b5
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-windows
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: a9f4ad02e92c2c423f10f07b7f1a4270aafd6c6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="enable-offline-sync-for-your-windows-app"></a><span data-ttu-id="7969f-103">啟用 Windows 應用程式離線同步處理</span><span class="sxs-lookup"><span data-stu-id="7969f-103">Enable offline sync for your Windows app</span></span>
[!INCLUDE [app-service-mobile-selector-offline](../../includes/app-service-mobile-selector-offline.md)]

## <a name="overview"></a><span data-ttu-id="7969f-104">概觀</span><span class="sxs-lookup"><span data-stu-id="7969f-104">Overview</span></span>
<span data-ttu-id="7969f-105">本教學課程會示範如何離線 tooadd 支援 tooa 通用 Windows 平台 (UWP) 應用程式使用 Azure 行動應用程式後端。</span><span class="sxs-lookup"><span data-stu-id="7969f-105">This tutorial shows you how tooadd offline support tooa Universal Windows Platform (UWP) app using an Azure Mobile App backend.</span></span> <span data-ttu-id="7969f-106">離線同步處理可讓終端使用者 toointeract 與行動裝置應用程式-檢視、 加入或修改資料集，即使在沒有網路連線。</span><span class="sxs-lookup"><span data-stu-id="7969f-106">Offline sync allows end users toointeract with a mobile app--viewing, adding, or modifying data - even when there is no network connection.</span></span> <span data-ttu-id="7969f-107">變更會儲存在本機資料庫中。</span><span class="sxs-lookup"><span data-stu-id="7969f-107">Changes are stored in a local database.</span></span> <span data-ttu-id="7969f-108">Hello 裝置已上線，一旦這些變更同步處理與 hello 遠端後端中。</span><span class="sxs-lookup"><span data-stu-id="7969f-108">Once hello device is back online, these changes are synced with hello remote backend.</span></span>

<span data-ttu-id="7969f-109">在本教學課程中，您可以更新 hello UWP 應用程式專案，從 hello 教學課程[建立 Windows 應用程式]toosupport hello 離線功能的 Azure 行動應用程式。</span><span class="sxs-lookup"><span data-stu-id="7969f-109">In this tutorial, you update hello UWP app project from hello tutorial [Create a Windows app] toosupport hello offline features of Azure Mobile Apps.</span></span> <span data-ttu-id="7969f-110">如果您不要使用 hello 下載快速入門的伺服器專案，您必須新增 hello 資料存取擴充功能封裝 tooyour 專案。</span><span class="sxs-lookup"><span data-stu-id="7969f-110">If you do not use hello downloaded quick start server project, you must add hello data access extension packages tooyour project.</span></span> <span data-ttu-id="7969f-111">如需伺服器擴充功能封裝的詳細資訊，請參閱[Azure 行動應用程式使用 hello.NET 後端伺服器 SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md)。</span><span class="sxs-lookup"><span data-stu-id="7969f-111">For more information about server extension packages, see [Work with hello .NET backend server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>

<span data-ttu-id="7969f-112">toolearn 進一步了解 hello 離線同步處理功能，請參閱 hello 主題[Azure 行動應用程式中的離線資料同步]。</span><span class="sxs-lookup"><span data-stu-id="7969f-112">toolearn more about hello offline sync feature, see hello topic [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="requirements"></a><span data-ttu-id="7969f-113">需求</span><span class="sxs-lookup"><span data-stu-id="7969f-113">Requirements</span></span>
<span data-ttu-id="7969f-114">本教學課程需要 hello 下列先決條件：</span><span class="sxs-lookup"><span data-stu-id="7969f-114">This tutorial requires hello following pre-requisites:</span></span>

* <span data-ttu-id="7969f-115">執行於 Windows 8.1 或更新版本的 Visual Studio 2013。</span><span class="sxs-lookup"><span data-stu-id="7969f-115">Visual Studio 2013 running on Windows 8.1 or later.</span></span>
* <span data-ttu-id="7969f-116">完成 [建立 Windows 應用程式][建立 Windows 應用程式]。</span><span class="sxs-lookup"><span data-stu-id="7969f-116">Completion of [Create a Windows app][create a windows app].</span></span>
* <span data-ttu-id="7969f-117">[Azure 行動服務 SQLite Store][sqlite store nuget]</span><span class="sxs-lookup"><span data-stu-id="7969f-117">[Azure Mobile Services SQLite Store][sqlite store nuget]</span></span>
* [<span data-ttu-id="7969f-118">適用於通用 Windows 平台開發的 SQLite</span><span class="sxs-lookup"><span data-stu-id="7969f-118">SQLite for Universal Windows Platform development</span></span>](http://www.sqlite.org/downloads)

## <a name="update-hello-client-app-toosupport-offline-features"></a><span data-ttu-id="7969f-119">更新 hello 用戶端應用程式 toosupport 離線功能</span><span class="sxs-lookup"><span data-stu-id="7969f-119">Update hello client app toosupport offline features</span></span>
<span data-ttu-id="7969f-120">Azure 行動裝置應用程式離線功能可讓您使用本機資料庫 toointeract 當您在離線案例中。</span><span class="sxs-lookup"><span data-stu-id="7969f-120">Azure Mobile App offline features allow you toointeract with a local database when you are in an offline scenario.</span></span> <span data-ttu-id="7969f-121">toouse 初始化應用程式中的這些功能， [SyncContext] [ synccontext] tooa 本機存放區。</span><span class="sxs-lookup"><span data-stu-id="7969f-121">toouse these features in your app, you initialize a [SyncContext][synccontext] tooa local store.</span></span> <span data-ttu-id="7969f-122">然後在參考資料表透過 hello [IMobileServiceSyncTable][IMobileServiceSyncTable]介面。</span><span class="sxs-lookup"><span data-stu-id="7969f-122">Then reference your table through hello [IMobileServiceSyncTable][IMobileServiceSyncTable] interface.</span></span> <span data-ttu-id="7969f-123">SQLite 做為 hello hello 裝置上的本機存放區。</span><span class="sxs-lookup"><span data-stu-id="7969f-123">SQLite is used as hello local store on hello device.</span></span>

1. <span data-ttu-id="7969f-124">安裝 hello [hello 通用 Windows 平台的 SQLite 執行階段](http://sqlite.org/2016/sqlite-uwp-3120200.vsix)。</span><span class="sxs-lookup"><span data-stu-id="7969f-124">Install hello [SQLite runtime for hello Universal Windows Platform](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span></span>
2. <span data-ttu-id="7969f-125">在 Visual Studio 中，開啟您在 hello 完成 hello UWP 應用程式專案 hello NuGet 封裝管理員[建立 Windows 應用程式]教學課程。</span><span class="sxs-lookup"><span data-stu-id="7969f-125">In Visual Studio, open hello NuGet package manager for hello UWP app project that you completed in hello [Create a Windows app] tutorial.</span></span>
    <span data-ttu-id="7969f-126">搜尋及安裝 hello **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet 封裝。</span><span class="sxs-lookup"><span data-stu-id="7969f-126">Search for and install hello **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span></span>
3. <span data-ttu-id="7969f-127">在 [方案總管] 中，以滑鼠右鍵按一下 [參考] > [新增參考...]> [通用 Windows] >[擴充功能]，然後啟用 [適用於通用 Windows 平台的 SQLite] 和 [適用於通用 Windows 平台應用程式的 Visual C++ 2015 執行階段]。</span><span class="sxs-lookup"><span data-stu-id="7969f-127">In Solution Explorer, right-click **References** > **Add Reference...** > **Universal Windows** > **Extensions**, then enable  both **SQLite for Universal Windows Platform** and **Visual C++ 2015 Runtime for Universal Windows Platform apps**.</span></span>

    ![新增 SQLite UWP 參考][1]
4. <span data-ttu-id="7969f-129">開啟 hello MainPage.xaml.cs 檔案，並取消註解 hello`#define OFFLINE_SYNC_ENABLED`定義。</span><span class="sxs-lookup"><span data-stu-id="7969f-129">Open hello MainPage.xaml.cs file and uncomment hello `#define OFFLINE_SYNC_ENABLED` definition.</span></span>
5. <span data-ttu-id="7969f-130">在 Visual Studio 中，按 hello **F5**金鑰 toorebuild 以及執行的 hello 用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="7969f-130">In Visual Studio, press hello **F5** key toorebuild and run hello client app.</span></span> <span data-ttu-id="7969f-131">hello 應用程式的運作方式相同，因為它並未啟用離線同步處理之前的 hello。不過，hello 本機資料庫現在填入可用在離線案例中的資料。</span><span class="sxs-lookup"><span data-stu-id="7969f-131">hello app works hello same as it did before you enabled offline sync. However, hello local database is now populated with data that can be used in an offline scenario.</span></span>

## <span data-ttu-id="7969f-132"><a name="update-sync"></a>更新 hello 應用程式 toodisconnect hello 後端</span><span class="sxs-lookup"><span data-stu-id="7969f-132"><a name="update-sync"></a>Update hello app toodisconnect from hello backend</span></span>
<span data-ttu-id="7969f-133">本節中，您可以中斷 hello 連接 tooyour 行動裝置應用程式後端 toosimulate 離線的情況。</span><span class="sxs-lookup"><span data-stu-id="7969f-133">In this section, you break hello connection tooyour Mobile App backend toosimulate an offline situation.</span></span> <span data-ttu-id="7969f-134">當您將資料的項目時，您的例外狀況處理常式會告訴您該 hello 應用程式處於離線模式。</span><span class="sxs-lookup"><span data-stu-id="7969f-134">When you add data items, your exception handler tells you that hello app is in offline mode.</span></span> <span data-ttu-id="7969f-135">處於此狀態，在本機的 hello 中加入新項目儲存和 hello 行動裝置應用程式後端時發送接下來執行處於連線狀態會同步。</span><span class="sxs-lookup"><span data-stu-id="7969f-135">In this state, new items added in hello local store and will be synced to hello mobile app backend when push is next run in a connected state.</span></span>

1. <span data-ttu-id="7969f-136">編輯 App.xaml.cs hello 共用專案中。</span><span class="sxs-lookup"><span data-stu-id="7969f-136">Edit App.xaml.cs in hello shared project.</span></span> <span data-ttu-id="7969f-137">註解的 hello hello 初始化**MobileServiceClient**並加入下列一行，也會使用無效的行動裝置應用程式 URL 的 hello:</span><span class="sxs-lookup"><span data-stu-id="7969f-137">Comment out hello initialization of hello **MobileServiceClient** and add hello following line, which uses an invalid mobile app URL:</span></span>

         public static MobileServiceClient MobileService = new MobileServiceClient("https://your-service.azurewebsites.fail");

    <span data-ttu-id="7969f-138">您也可以停用 wifi 和 hello 裝置上的行動電話通訊網路示範離線的行為，或使用飛航模式。</span><span class="sxs-lookup"><span data-stu-id="7969f-138">You can also demonstrate offline behavior by disabling wifi and cellular networks on hello device or use airplane mode.</span></span>
2. <span data-ttu-id="7969f-139">按**F5** toobuild 和執行 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7969f-139">Press **F5** toobuild and run hello app.</span></span> <span data-ttu-id="7969f-140">請注意當 hello 啟動應用程式無法在重新整理您同步處理。</span><span class="sxs-lookup"><span data-stu-id="7969f-140">Notice your sync failed on refresh when hello app launched.</span></span>
3. <span data-ttu-id="7969f-141">輸入新項目，並注意每次您按一下 **[儲存]** 時，推送都會失敗並具有 [CancelledByNetworkError] 狀態。</span><span class="sxs-lookup"><span data-stu-id="7969f-141">Enter new items and notice that push fails with a [CancelledByNetworkError] status each time you click **Save**.</span></span> <span data-ttu-id="7969f-142">不過，hello todo 項目存在於 hello 本機存放區之前可以被推入 toohello 行動裝置應用程式後端。</span><span class="sxs-lookup"><span data-stu-id="7969f-142">However, hello new todo items exist in hello local store until they can be pushed toohello mobile app backend.</span></span>  <span data-ttu-id="7969f-143">在生產環境中應用程式，如果您隱藏 hello 用戶端應用程式的行為就如同它仍然是這些例外狀況會連接 toohello 行動裝置應用程式後端。</span><span class="sxs-lookup"><span data-stu-id="7969f-143">In a production app, if you suppress these exceptions hello client app behaves as if it's still connected toohello mobile app backend.</span></span>
4. <span data-ttu-id="7969f-144">關閉 hello 應用程式並重新啟動它 tooverify hello 您所建立的新項目會保存的 toohello 本機存放區。</span><span class="sxs-lookup"><span data-stu-id="7969f-144">Close hello app and restart it tooverify that hello new items you created are persisted toohello local store.</span></span>
5. <span data-ttu-id="7969f-145">(選擇性) 在 Visual Studio 中，開啟 [伺服器總管] 。</span><span class="sxs-lookup"><span data-stu-id="7969f-145">(Optional) In Visual Studio, open **Server Explorer**.</span></span> <span data-ttu-id="7969f-146">瀏覽 tooyour 資料庫**Azure**->**SQL 資料庫**。</span><span class="sxs-lookup"><span data-stu-id="7969f-146">Navigate tooyour database in **Azure**->**SQL Databases**.</span></span> <span data-ttu-id="7969f-147">在資料庫上按一下滑鼠右鍵，並選取 [在 SQL Server 物件總管中開啟] 。</span><span class="sxs-lookup"><span data-stu-id="7969f-147">Right-click your database and select **Open in SQL Server Object Explorer**.</span></span> <span data-ttu-id="7969f-148">現在您可以瀏覽 tooyour SQL 資料庫資料表和其內容。</span><span class="sxs-lookup"><span data-stu-id="7969f-148">Now you can browse tooyour SQL database table and its contents.</span></span> <span data-ttu-id="7969f-149">請確認，hello 後端資料庫中的 hello 資料尚未變更。</span><span class="sxs-lookup"><span data-stu-id="7969f-149">Verify that hello data in hello backend database has not changed.</span></span>
6. <span data-ttu-id="7969f-150">（選擇性）使用 Fiddler 或郵差 tooquery 等其他工具行動後端，在表單中使用 GET 查詢`https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`。</span><span class="sxs-lookup"><span data-stu-id="7969f-150">(Optional) Use a REST tool such as Fiddler or Postman tooquery your mobile backend, using a GET query in the form `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span></span>

## <span data-ttu-id="7969f-151"><a name="update-online-app"></a>更新您的行動裝置應用程式後端 hello 應用程式 tooreconnect</span><span class="sxs-lookup"><span data-stu-id="7969f-151"><a name="update-online-app"></a>Update hello app tooreconnect your Mobile App backend</span></span>
<span data-ttu-id="7969f-152">在本節中，您可以重新連線用 hello 應用程式 toohello 行動裝置應用程式後端。</span><span class="sxs-lookup"><span data-stu-id="7969f-152">In this section, you reconnect hello app toohello mobile app backend.</span></span> <span data-ttu-id="7969f-153">這些變更模擬的網路重新連接上 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7969f-153">These changes simulate a network reconnection on hello app.</span></span>

<span data-ttu-id="7969f-154">當您第一次執行 hello 應用程式時，hello`OnNavigatedTo`事件處理常式呼叫`InitLocalStoreAsync`。</span><span class="sxs-lookup"><span data-stu-id="7969f-154">When you first run hello application, hello `OnNavigatedTo` event handler calls `InitLocalStoreAsync`.</span></span> <span data-ttu-id="7969f-155">這個方法會呼叫`SyncAsync`toosync hello 後端資料庫的本機存放區。</span><span class="sxs-lookup"><span data-stu-id="7969f-155">This method in turn calls `SyncAsync` toosync your local store with hello backend database.</span></span> <span data-ttu-id="7969f-156">hello 應用程式會嘗試在啟動 toosync。</span><span class="sxs-lookup"><span data-stu-id="7969f-156">hello app attempts toosync on startup.</span></span>

1. <span data-ttu-id="7969f-157">開啟 App.xaml.cs hello 共用專案中，並取消註解您先前的初始化`MobileServiceClient`toouse hello 正確 hello 行動裝置應用程式 URL。</span><span class="sxs-lookup"><span data-stu-id="7969f-157">Open App.xaml.cs in hello shared project, and uncomment your previous initialization of `MobileServiceClient` toouse hello correct hello mobile app URL.</span></span>
2. <span data-ttu-id="7969f-158">按 hello **F5**金鑰 toorebuild 以及執行的 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7969f-158">Press hello **F5** key toorebuild and run hello app.</span></span> <span data-ttu-id="7969f-159">hello 應用程式同步處理您的本機變更與 hello Azure 行動應用程式後端使用推送和提取作業時 hello`OnNavigatedTo`事件處理常式都會執行。</span><span class="sxs-lookup"><span data-stu-id="7969f-159">hello app syncs your local changes with hello Azure Mobile App backend using push and pull operations when hello `OnNavigatedTo` event handler executes.</span></span>
3. <span data-ttu-id="7969f-160">（選擇性）檢視 hello 更新的資料使用 SQL Server 物件總管 或 Fiddler 等其他工具。</span><span class="sxs-lookup"><span data-stu-id="7969f-160">(Optional) View hello updated data using either SQL Server Object Explorer or a REST tool like Fiddler.</span></span> <span data-ttu-id="7969f-161">請注意 hello 資料已同步處理 hello Azure 行動應用程式後端資料庫與 hello 本機存放區。</span><span class="sxs-lookup"><span data-stu-id="7969f-161">Notice hello data has been synchronized between hello Azure Mobile App backend database and hello local store.</span></span>
4. <span data-ttu-id="7969f-162">在 hello 應用程式中，按一下 hello 核取方塊旁幾個項目 toocomplete 它們 hello 本機存放區中。</span><span class="sxs-lookup"><span data-stu-id="7969f-162">In hello app, click hello check box beside a few items toocomplete them in hello local store.</span></span>

   <span data-ttu-id="7969f-163">`UpdateCheckedTodoItem`呼叫`SyncAsync`toosync 每個已完成與 hello 行動裝置應用程式後端的項目。</span><span class="sxs-lookup"><span data-stu-id="7969f-163">`UpdateCheckedTodoItem` calls `SyncAsync` toosync each completed item with hello Mobile App backend.</span></span> <span data-ttu-id="7969f-164">`SyncAsync` 會同時呼叫推送與提取。</span><span class="sxs-lookup"><span data-stu-id="7969f-164">`SyncAsync` calls both push and pull.</span></span> <span data-ttu-id="7969f-165">不過，**每當您執行對資料表提取該 hello 用戶端所做的變更，一律自動執行推入**。</span><span class="sxs-lookup"><span data-stu-id="7969f-165">However, **whenever you execute a pull against a table that hello client has made changes to, a push is always executed automatically**.</span></span> <span data-ttu-id="7969f-166">此行為可確保所有的資料表，以及關聯性的 hello 本機存放區中維持一致。</span><span class="sxs-lookup"><span data-stu-id="7969f-166">This behavior ensures all tables in hello local store along with relationships remain consistent.</span></span> <span data-ttu-id="7969f-167">此行為可能會導致非預期的推送。</span><span class="sxs-lookup"><span data-stu-id="7969f-167">This behavior may result in an unexpected push.</span></span>  <span data-ttu-id="7969f-168">如需此行為的詳細資訊，請參閱 [Azure 行動應用程式中的離線資料同步]。</span><span class="sxs-lookup"><span data-stu-id="7969f-168">For more information on this behavior, see [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="api-summary"></a><span data-ttu-id="7969f-169">API 摘要</span><span class="sxs-lookup"><span data-stu-id="7969f-169">API Summary</span></span>
<span data-ttu-id="7969f-170">toosupport hello 離線功能的行動服務，我們使用 hello [IMobileServiceSyncTable]介面，並初始化[MobileServiceClient.SyncContext] [ synccontext]與本機 SQLite 資料庫。</span><span class="sxs-lookup"><span data-stu-id="7969f-170">toosupport hello offline features of mobile services, we used hello [IMobileServiceSyncTable] interface and initialized [MobileServiceClient.SyncContext][synccontext] with a local SQLite database.</span></span> <span data-ttu-id="7969f-171">當離線，hello 行動應用程式的一般 CRUD 作業工作一樣 hello 作業發生 hello 本機存放區時，仍連線 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7969f-171">When offline, hello normal CRUD operations for Mobile Apps work as if hello app is still connected while hello operations occur against hello local store.</span></span> <span data-ttu-id="7969f-172">hello 下列方法是使用的 toosynchronize hello 本機存放區與 hello 伺服器：</span><span class="sxs-lookup"><span data-stu-id="7969f-172">hello following methods are used toosynchronize hello local store with hello server:</span></span>

* <span data-ttu-id="7969f-173">**[PushAsync]** 因為這個方法是隸屬[IMobileServicesSyncContext]，所有資料表的變更會推入 toohello 後端。</span><span class="sxs-lookup"><span data-stu-id="7969f-173">**[PushAsync]** Because this method is a member of [IMobileServicesSyncContext], changes across all tables are pushed toohello backend.</span></span> <span data-ttu-id="7969f-174">只有具有本機變更的記錄會傳送 toohello 伺服器。</span><span class="sxs-lookup"><span data-stu-id="7969f-174">Only records with local changes are sent toohello server.</span></span>
* <span data-ttu-id="7969f-175">**[PullAsync]** 從 [IMobileServiceSyncTable] 開始提取。</span><span class="sxs-lookup"><span data-stu-id="7969f-175">**[PullAsync]** A pull is started from a [IMobileServiceSyncTable].</span></span> <span data-ttu-id="7969f-176">當 hello 資料表中有追蹤的變更時，隱含的推入執行 toomake 確定所有的資料表，以及關聯性的 hello 本機存放區中維持一致。</span><span class="sxs-lookup"><span data-stu-id="7969f-176">When there are tracked changes in hello table, an implicit push is run toomake sure that all tables in hello local store along with relationships remain consistent.</span></span> <span data-ttu-id="7969f-177">hello *pushOtherTables*參數會控制是否在其他資料表 hello 內容中隱含的推播推送。</span><span class="sxs-lookup"><span data-stu-id="7969f-177">hello *pushOtherTables* parameter controls whether other tables in hello context are pushed in an implicit push.</span></span> <span data-ttu-id="7969f-178">hello*查詢*參數接受[IMobileServiceTableQuery<T> ] [ IMobileServiceTableQuery]或 OData 查詢字串 toofilter hello 傳回的資料。</span><span class="sxs-lookup"><span data-stu-id="7969f-178">hello *query* parameter takes an [IMobileServiceTableQuery<T>][IMobileServiceTableQuery] or OData query string toofilter hello returned data.</span></span> <span data-ttu-id="7969f-179">hello *queryId*參數用 toodefine 增量同步處理。如需詳細資訊，請參閱 [Azure Mobile Apps 中的離線資料同步處理](app-service-mobile-offline-data-sync.md#how-sync-works)。</span><span class="sxs-lookup"><span data-stu-id="7969f-179">hello *queryId* parameter is used toodefine incremental sync. For more information, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>
* <span data-ttu-id="7969f-180">**[PurgeAsync]** 從 hello 本機存放區中應用程式應該定期呼叫這個方法 toopurge 過時資料。</span><span class="sxs-lookup"><span data-stu-id="7969f-180">**[PurgeAsync]** Your app should periodically call this method toopurge stale data from hello local store.</span></span> <span data-ttu-id="7969f-181">使用 hello*強制*參數，當您需要 toopurge 尚未同步的任何變更。</span><span class="sxs-lookup"><span data-stu-id="7969f-181">Use hello *force* parameter when you need toopurge any changes that have not yet been synced.</span></span>

<span data-ttu-id="7969f-182">如需這些概念的詳細資訊，請參閱 [Azure Mobile Apps 中的離線資料同步處理](app-service-mobile-offline-data-sync.md#how-sync-works)。</span><span class="sxs-lookup"><span data-stu-id="7969f-182">For more information about these concepts, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>

## <a name="more-info"></a><span data-ttu-id="7969f-183">其他資訊</span><span class="sxs-lookup"><span data-stu-id="7969f-183">More info</span></span>
<span data-ttu-id="7969f-184">hello 下列主題提供的額外背景資訊的行動應用程式的 hello 離線同步處理功能：</span><span class="sxs-lookup"><span data-stu-id="7969f-184">hello following topics provide additional background information on hello offline sync feature of Mobile Apps:</span></span>

* <span data-ttu-id="7969f-185">[Azure 行動應用程式中的離線資料同步]</span><span class="sxs-lookup"><span data-stu-id="7969f-185">[Offline Data Sync in Azure Mobile Apps]</span></span>
* <span data-ttu-id="7969f-186">[Azure Mobile Apps .NET SDK HOWTO][8]</span><span class="sxs-lookup"><span data-stu-id="7969f-186">[Azure Mobile Apps .NET SDK HOWTO][8]</span></span>

<!-- Anchors. -->
[Update hello app toosupport offline features]: #enable-offline-app
[Update hello sync behavior of hello app]: #update-sync
[Update hello app tooreconnect your Mobile Apps backend]: #update-online-app
[Next Steps]:#next-steps

<!-- Images -->
[1]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-reference-sqlite-dialog.png
[11]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-wp81-reference-sqlite-dialog.png
[13]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/cpu-architecture.png


<!-- URLs. -->
[Azure 行動應用程式中的離線資料同步]: app-service-mobile-offline-data-sync.md
[建立 Windows 應用程式]: app-service-mobile-windows-store-dotnet-get-started.md
[SQLite for Windows 8.1]: http://go.microsoft.com/fwlink/?LinkID=716919
[SQLite for Windows Phone 8.1]: http://go.microsoft.com/fwlink/?LinkID=716920
[SQLite for Windows 10]: http://go.microsoft.com/fwlink/?LinkID=716921
[synccontext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileserviceclient.synccontext(v=azure.10).aspx
[sqlite store nuget]: https://www.nuget.org/packages/Microsoft.Azure.Mobile.Client.SQLiteStore/
[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx
[IMobileServiceTableQuery]: https://msdn.microsoft.com/library/azure/dn250631(v=azure.10).aspx
[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx
[MobileServicePushFailedException]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushfailedexception(v=azure.10).aspx
[Status]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushcompletionresult.status(v=azure.10).aspx
[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx
[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx
[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx
[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx
[8]: app-service-mobile-dotnet-how-to-use-client-library.md
