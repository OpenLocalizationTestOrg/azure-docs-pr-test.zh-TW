---
title: "aaaPrepare toopublish 或部署 Azure 應用程式從 Visual Studio |Microsoft 文件"
description: "了解雲端和儲存體帳戶服務的 hello 程序 tooset 和設定 Azure 應用程式。"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 92ee2f9e-ec49-4c7a-900d-620abe5e9d8a
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: b5231d400e2ad9e20c3f21bad48a77c328b1f7a4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="prepare-toopublish-or-deploy-an-azure-application-from-visual-studio"></a><span data-ttu-id="c47b8-103">準備 tooPublish 或部署 Azure 應用程式從 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c47b8-103">Prepare tooPublish or Deploy an Azure Application from Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="c47b8-104">概觀</span><span class="sxs-lookup"><span data-stu-id="c47b8-104">Overview</span></span>
<span data-ttu-id="c47b8-105">您可以發行雲端服務專案之前，您必須設定下列服務的 hello:</span><span class="sxs-lookup"><span data-stu-id="c47b8-105">Before you can publish a cloud service project, you must set up hello following services:</span></span>

* <span data-ttu-id="c47b8-106">A**雲端服務**toorun 您 hello Azure 環境中的角色</span><span class="sxs-lookup"><span data-stu-id="c47b8-106">A **cloud service** toorun your roles in hello Azure environment</span></span>
* <span data-ttu-id="c47b8-107">A**儲存體帳戶**toohello Blob、 佇列和表格服務提供存取。</span><span class="sxs-lookup"><span data-stu-id="c47b8-107">A **storage account** that provides access toohello Blob, Queue, and Table services.</span></span>

<span data-ttu-id="c47b8-108">使用下列程序 tooset 這些服務的 hello 並設定您的應用程式</span><span class="sxs-lookup"><span data-stu-id="c47b8-108">Use hello following procedures tooset up these services and configure your application</span></span>

## <a name="create-a-cloud-service"></a><span data-ttu-id="c47b8-109">建立雲端服務</span><span class="sxs-lookup"><span data-stu-id="c47b8-109">Create a cloud service</span></span>
<span data-ttu-id="c47b8-110">toopublish 雲端服務 tooAzure，您必須先建立雲端服務，在 hello Azure 環境中執行您的角色。</span><span class="sxs-lookup"><span data-stu-id="c47b8-110">toopublish a cloud service tooAzure, you must first create a cloud service, which runs your roles in hello Azure environment.</span></span> <span data-ttu-id="c47b8-111">您可以建立雲端服務中 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)hello > 一節所述， **toocreate 雲端服務，方法是使用 hello Azure 傳統入口網站**稍後在本主題中。</span><span class="sxs-lookup"><span data-stu-id="c47b8-111">You can create a cloud service in hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), as described in hello section **toocreate a cloud service by using hello Azure classic portal**, later in this topic.</span></span> <span data-ttu-id="c47b8-112">您也可以使用 hello 發佈精靈 」，在 Visual Studio 中建立雲端服務。</span><span class="sxs-lookup"><span data-stu-id="c47b8-112">You can also create a cloud service in Visual Studio by using hello publishing wizard.</span></span>

### <a name="toocreate-a-cloud-service-by-using-visual-studio"></a><span data-ttu-id="c47b8-113">toocreate 雲端服務，方法是使用 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c47b8-113">toocreate a cloud service by using Visual Studio</span></span>
1. <span data-ttu-id="c47b8-114">開啟 hello hello Azure 專案的捷徑功能表並選擇 **發行**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-114">Open hello shortcut menu for hello Azure project, and choose **Publish**.</span></span>

    ![VST_PublishMenu](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/vst-publish-menu.png)
2. <span data-ttu-id="c47b8-116">如果您尚未登入，hello Microsoft 帳戶或與您 Azure 訂用帳戶相關聯的組織帳戶登入您的使用者名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="c47b8-116">If you haven't signed in, sign in with your username and password for hello Microsoft account or organizational account that's associated with your Azure subscription.</span></span>
3. <span data-ttu-id="c47b8-117">選擇 hello**下一步**按鈕 tooadvance toohello**設定**頁面。</span><span class="sxs-lookup"><span data-stu-id="c47b8-117">Choose hello **Next** button tooadvance toohello **Settings** page.</span></span>

    ![發佈精靈一般設定](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/publish-settings-page.png)
4. <span data-ttu-id="c47b8-119">在 hello**雲端服務**清單中，選擇**新建**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-119">In hello **Cloud Services** list, choose **Create New**.</span></span> <span data-ttu-id="c47b8-120">hello**建立 Azure 服務**對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="c47b8-120">hello **Create Azure Services** dialog appears.</span></span>
5. <span data-ttu-id="c47b8-121">輸入您的雲端服務的 hello 名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-121">Enter hello name of your cloud service.</span></span> <span data-ttu-id="c47b8-122">hello 名稱 hello 服務 URL 的一部分，因此必須是全域唯一。</span><span class="sxs-lookup"><span data-stu-id="c47b8-122">hello name forms part of hello URL for your service and therefore must be globally unique.</span></span> <span data-ttu-id="c47b8-123">hello 名稱不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="c47b8-123">hello name is not case-sensitive.</span></span>

### <a name="toocreate-a-cloud-service-by-using-hello-azure-classic-portal"></a><span data-ttu-id="c47b8-124">toocreate 使用 hello Azure 傳統入口網站的雲端服務</span><span class="sxs-lookup"><span data-stu-id="c47b8-124">toocreate a cloud service by using hello Azure classic portal</span></span>
1. <span data-ttu-id="c47b8-125">登入 toohello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkId=253103)hello Microsoft 網站上。</span><span class="sxs-lookup"><span data-stu-id="c47b8-125">Sign in toohello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on hello Microsoft website.</span></span>
2. <span data-ttu-id="c47b8-126">（選擇性） toodisplay 一份雲端服務，您已經建立，請選擇左邊 hello hello 頁面 hello 雲端服務連結。</span><span class="sxs-lookup"><span data-stu-id="c47b8-126">(optional) toodisplay a list of cloud services that you've already created, choose hello Cloud Services link on hello left side of hello page.</span></span>
3. <span data-ttu-id="c47b8-127">選擇 hello  **+** 圖示 hello 左下角，，然後選擇 **雲端服務**hello 出現的功能表上。</span><span class="sxs-lookup"><span data-stu-id="c47b8-127">Choose hello **+** icon in hello lower-left corner, and then choose **Cloud Service** on hello menu that appears.</span></span> <span data-ttu-id="c47b8-128">有 [快速建立] 和 [自訂建立] 兩個選項的另一個畫面會隨即出現。</span><span class="sxs-lookup"><span data-stu-id="c47b8-128">Another screen with two options, **Quick Create** and **Custom Create**, appears.</span></span> <span data-ttu-id="c47b8-129">如果您選擇**快速建立**，您可以建立只是藉由指定其 URL 與 hello 區域它將實際託管的雲端服務。</span><span class="sxs-lookup"><span data-stu-id="c47b8-129">If you choose **Quick Create**, you can create a cloud service just by specifying its URL and hello region where it will be physically hosted.</span></span> <span data-ttu-id="c47b8-130">如果選擇 [自訂建立]，則可藉由指定封裝 (.cspkg 檔)、組態 (.cscfg) 檔和憑證，立即發佈雲端服務。</span><span class="sxs-lookup"><span data-stu-id="c47b8-130">If you choose **Custom Create**, you can immediately publish a cloud service by specifying a package (.cspkg file), a configuration (.cscfg) file, and a certificate.</span></span> <span data-ttu-id="c47b8-131">如果您使用 hello 想 toopublish 您的雲端服務，不需要自訂建立**發行**命令中的 Azure 專案。</span><span class="sxs-lookup"><span data-stu-id="c47b8-131">Custom Create isn’t required if you intend toopublish your cloud service by using hello **Publish** command in an Azure project.</span></span> <span data-ttu-id="c47b8-132">hello**發行**hello Azure 專案的捷徑功能表上的命令為止。</span><span class="sxs-lookup"><span data-stu-id="c47b8-132">hello **Publish** command is available on hello shortcut menu for an Azure project.</span></span>
4. <span data-ttu-id="c47b8-133">選擇**快速建立**toolater 使用 Visual Studio 發行雲端服務。</span><span class="sxs-lookup"><span data-stu-id="c47b8-133">Choose **Quick Create** toolater publish your cloud service by using Visual Studio.</span></span>
5. <span data-ttu-id="c47b8-134">指定雲端服務的名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-134">Specify a name for your cloud service.</span></span> <span data-ttu-id="c47b8-135">hello 完整的 URL 會顯示下一個 toohello 名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-135">hello complete URL appears next toohello name.</span></span>
6. <span data-ttu-id="c47b8-136">在 [hello] 清單中，選擇 hello 大部分使用者所在地區。</span><span class="sxs-lookup"><span data-stu-id="c47b8-136">In hello list, choose hello region where most of your users are located.</span></span>
7. <span data-ttu-id="c47b8-137">在 hello hello 視窗底部，選擇 hello**建立雲端服務**連結。</span><span class="sxs-lookup"><span data-stu-id="c47b8-137">At hello bottom of hello window, choose hello **Create Cloud Service** link.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="c47b8-138">建立儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="c47b8-138">Create a storage account</span></span>
<span data-ttu-id="c47b8-139">儲存體帳戶提供 toohello Blob、 佇列和表格服務的存取。</span><span class="sxs-lookup"><span data-stu-id="c47b8-139">A storage account provides access toohello Blob, Queue, and Table services.</span></span> <span data-ttu-id="c47b8-140">您可以建立儲存體帳戶使用 Visual Studio 或 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkId=253103)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-140">You can create a storage account by using Visual Studio or hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103).</span></span>

### <a name="toocreate-a-storage-account-by-using-visual-studio"></a><span data-ttu-id="c47b8-141">toocreate 使用 Visual Studio 的儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="c47b8-141">toocreate a storage account by using Visual Studio</span></span>
1. <span data-ttu-id="c47b8-142">在**方案總管 中**，開啟 hello hello 的捷徑功能表**儲存體** 節點，然後選擇 **建立儲存體帳戶**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-142">In **Solution Explorer**, open hello shortcut menu for hello **Storage** node, and then choose **Create Storage Account**.</span></span>

    ![建立新的 Azure 儲存體帳戶](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/IC744166.png)
2. <span data-ttu-id="c47b8-144">選取或輸入下列資訊在 hello hello 新儲存體帳戶的 hello**建立儲存體帳戶** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="c47b8-144">Select or enter hello following information for hello new storage account in hello **Create Storage Account** dialog box.</span></span>

   * <span data-ttu-id="c47b8-145">hello Azure 訂用帳戶 toowhich 想 tooadd hello 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="c47b8-145">hello Azure subscription toowhich you want tooadd hello storage account.</span></span>
   * <span data-ttu-id="c47b8-146">您要新增儲存體帳戶 hello toouse hello 名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-146">hello name you want toouse for hello new storage account.</span></span>
   * <span data-ttu-id="c47b8-147">hello 地區或同質群組 （例如美國西部或東亞）。</span><span class="sxs-lookup"><span data-stu-id="c47b8-147">hello region or affinity group (such as West US or East Asia).</span></span>
   * <span data-ttu-id="c47b8-148">hello 類型的複寫想 toouse hello 儲存體帳戶，例如 異地備援。</span><span class="sxs-lookup"><span data-stu-id="c47b8-148">hello type of replication you want toouse for hello storage account, such as Geo-Redundant.</span></span>
3. <span data-ttu-id="c47b8-149">當您完成時，選擇**建立**.hello 新儲存體帳戶會出現在 hello**儲存體**清單中**伺服器總管**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-149">When you’re done, choose **Create**.hello new storage account appears in hello **Storage** list in **Server Explorer**.</span></span>

### <a name="toocreate-a-storage-account-by-using-hello-azure-classic-portal"></a><span data-ttu-id="c47b8-150">toocreate 使用 hello Azure 傳統入口網站的儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="c47b8-150">toocreate a storage account by using hello Azure classic portal</span></span>
1. <span data-ttu-id="c47b8-151">登入 toohello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkId=253103)hello Microsoft 網站上。</span><span class="sxs-lookup"><span data-stu-id="c47b8-151">Sign in toohello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on hello Microsoft website.</span></span>
2. <span data-ttu-id="c47b8-152">（選擇性） tooview 儲存體帳戶中，選擇 hello**儲存體**hello hello hello 頁面的左方面板中的連結。</span><span class="sxs-lookup"><span data-stu-id="c47b8-152">(Optional) tooview your storage accounts, choose hello **Storage** link in hello panel on hello left side of hello page.</span></span>
3. <span data-ttu-id="c47b8-153">在 hello hello 頁面的左下角，選擇 hello  **+** 圖示。</span><span class="sxs-lookup"><span data-stu-id="c47b8-153">In hello lower-left corner of hello page, choose hello **+** icon.</span></span>
4. <span data-ttu-id="c47b8-154">在 hello 出現的功能表，選擇 **儲存體**，然後選擇 **快速建立**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-154">In hello menu that appears, choose **Storage**, and then choose **Quick Create**.</span></span>
5. <span data-ttu-id="c47b8-155">提供給 hello 儲存體帳戶會在唯一的 url 的名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-155">Give hello storage account a name that will result in a unique url.</span></span>
6. <span data-ttu-id="c47b8-156">提供名稱給您的雲端服務。</span><span class="sxs-lookup"><span data-stu-id="c47b8-156">Give your cloud service a name.</span></span> <span data-ttu-id="c47b8-157">hello 完整的 URL 會顯示下一個 toohello 名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-157">hello complete URL appears next toohello name.</span></span>
7. <span data-ttu-id="c47b8-158">在 hello 的地區清單，選擇大部分使用者所在的區域。</span><span class="sxs-lookup"><span data-stu-id="c47b8-158">In hello list of regions, choose a region where most of your users are located.</span></span>
8. <span data-ttu-id="c47b8-159">指定是否要讓 tooenable 地理複寫。</span><span class="sxs-lookup"><span data-stu-id="c47b8-159">Specify whether you want tooenable geo-replication.</span></span> <span data-ttu-id="c47b8-160">如果您啟用地理複寫，您的資料將儲存在多個實體位置 tooreduce hello 遺失的可能性。</span><span class="sxs-lookup"><span data-stu-id="c47b8-160">If you enable geo-replication, your data will be saved in multiple physical locations tooreduce hello chance of loss.</span></span> <span data-ttu-id="c47b8-161">這項功能，讓存放裝置更耗費資源，但您可以藉由啟用地理位置，當您建立 hello 儲存體帳戶，而不是稍後加入 hello 功能降低 hello 成本。</span><span class="sxs-lookup"><span data-stu-id="c47b8-161">This feature makes storage more expensive, but you can reduce hello cost by enabling geo-location when you create hello storage account instead of adding hello feature later.</span></span> <span data-ttu-id="c47b8-162">如需詳細資訊，請參閱 [異地複寫](http://go.microsoft.com/fwlink/?LinkId=253108)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-162">For more information, see [Geo-replication](http://go.microsoft.com/fwlink/?LinkId=253108).</span></span>
9. <span data-ttu-id="c47b8-163">在 hello hello 視窗底部，選擇 hello**建立儲存體帳戶**連結。</span><span class="sxs-lookup"><span data-stu-id="c47b8-163">At hello bottom of hello window, choose hello **Create Storage Account** link.</span></span>

<span data-ttu-id="c47b8-164">建立儲存體帳戶之後，您會看到 hello Url，您可以使用 tooaccess 資源中每個 hello Azure 儲存體服務，並也為您的帳戶 hello 主要和次要存取金鑰。</span><span class="sxs-lookup"><span data-stu-id="c47b8-164">After you create your storage account, you will see hello URLs that you can use tooaccess resources in each of hello Azure storage services, and also hello primary and secondary access keys for your account.</span></span> <span data-ttu-id="c47b8-165">您可以使用這些金鑰 tooauthenticate 對 hello 儲存體服務提出的要求。</span><span class="sxs-lookup"><span data-stu-id="c47b8-165">You use these keys tooauthenticate requests made against hello storage services.</span></span>

> [!NOTE]
> <span data-ttu-id="c47b8-166">hello 次要存取金鑰提供的 hello 相同存取 tooyour 為 hello 主要存取金鑰的儲存體帳戶，且會產生備份為您的主要存取金鑰被盜用。</span><span class="sxs-lookup"><span data-stu-id="c47b8-166">hello secondary access key provides hello same access tooyour storage account as hello primary access key and is generated as a backup should your primary access key be compromised.</span></span> <span data-ttu-id="c47b8-167">此外，建議您定期重新產生存取金鑰。</span><span class="sxs-lookup"><span data-stu-id="c47b8-167">Additionally, it is recommended that you regenerate your access keys on a regular basis.</span></span> <span data-ttu-id="c47b8-168">您可以修改連接字串設定 toouse hello 次要索引鍵時重新產生 hello 主索引鍵，則您可以修改它 toouse hello 重新產生主索引鍵時重新產生 hello 次要金鑰。</span><span class="sxs-lookup"><span data-stu-id="c47b8-168">You can modify a connection string setting toouse hello secondary key while you regenerate hello primary key, then you can modify it toouse hello regenerated primary key while you regenerate hello secondary key.</span></span>
>
>

## <a name="configure-your-app-toouse-services-provided-by-hello-storage-account"></a><span data-ttu-id="c47b8-169">設定您的應用程式的 toouse 服務 hello 儲存體帳戶提供</span><span class="sxs-lookup"><span data-stu-id="c47b8-169">Configure your app toouse services provided by hello storage account</span></span>
<span data-ttu-id="c47b8-170">您必須設定存取儲存體服務 toouse hello Azure 儲存體服務所建立的任何角色。</span><span class="sxs-lookup"><span data-stu-id="c47b8-170">You must configure any role that accesses storage services toouse hello Azure storage services that you have created.</span></span> <span data-ttu-id="c47b8-171">toodo，您可以使用多個服務組態，Azure 專案。</span><span class="sxs-lookup"><span data-stu-id="c47b8-171">toodo this, you can use multiple service configurations for your Azure project.</span></span> <span data-ttu-id="c47b8-172">根據預設，兩者都會建立在您的 Azure 專案中。</span><span class="sxs-lookup"><span data-stu-id="c47b8-172">By default, two are created in your Azure project.</span></span> <span data-ttu-id="c47b8-173">藉由使用多個服務組態，您可以使用相同的連接字串中您的程式碼，但每個服務組態中有不同的連接字串值的 hello。</span><span class="sxs-lookup"><span data-stu-id="c47b8-173">By using multiple service configurations, you can use hello same connection string in your code, but have a different value for a connection string in each service configuration.</span></span> <span data-ttu-id="c47b8-174">例如，使用一個服務組態 toorun，並使用在本機的 hello Azure 儲存體模擬器和不同的服務組態 toopublish 應用程式偵錯應用程式 tooAzure。</span><span class="sxs-lookup"><span data-stu-id="c47b8-174">For example, you can use one service configuration toorun and debug your application locally using hello Azure storage emulator and a different service configuration toopublish your application tooAzure.</span></span> <span data-ttu-id="c47b8-175">如需服務組態的詳細資訊，請參閱 [使用多個服務組態設定 Azure 專案](vs-azure-tools-multiple-services-project-configurations.md)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-175">For more information about service configurations, see [Configuring Your Azure Project Using Multiple Service Configurations](vs-azure-tools-multiple-services-project-configurations.md).</span></span>

### <a name="tooconfigure-your-application-toouse-services-that-hello-storage-account-provides"></a><span data-ttu-id="c47b8-176">tooconfigure hello 儲存體帳戶您應用程式 toouse 服務提供</span><span class="sxs-lookup"><span data-stu-id="c47b8-176">tooconfigure your application toouse services that hello storage account provides</span></span>
1. <span data-ttu-id="c47b8-177">在 Visual Studio 中開啟您的 Azure 方案。</span><span class="sxs-lookup"><span data-stu-id="c47b8-177">In Visual Studio open your Azure solution.</span></span> <span data-ttu-id="c47b8-178">在 [方案總管] 中，開啟 Azure 專案存取 hello 儲存體服務中的 hello 每個角色的捷徑功能表並選擇**屬性**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-178">In Solution Explorer, open hello shortcut menu for each role in your Azure project that accesses hello storage services and choose **Properties**.</span></span> <span data-ttu-id="c47b8-179">Hello hello 角色名稱的頁面會顯示 hello Visual Studio 編輯器中。</span><span class="sxs-lookup"><span data-stu-id="c47b8-179">A page with hello name of hello role is displayed in hello Visual Studio editor.</span></span> <span data-ttu-id="c47b8-180">hello 頁面會顯示 hello hello 欄位**組態** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="c47b8-180">hello page displays hello fields for hello **Configuration** tab.</span></span>
2. <span data-ttu-id="c47b8-181">在 hello hello 角色的屬性頁，選擇 **設定**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-181">In hello property pages for hello role, choose **Settings**.</span></span>
3. <span data-ttu-id="c47b8-182">在 hello**服務組態**清單中，選擇您想 tooedit hello hello 服務組態名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-182">In hello **Service Configuration** list, choose hello name of hello service configuration that you want tooedit.</span></span> <span data-ttu-id="c47b8-183">如果您想 toomake 變更 tooall 的 hello 這個角色的服務組態，您可以選擇**所有組態**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-183">If you want toomake changes tooall of hello service configurations for this role, you can choose **All Configurations**.</span></span>  <span data-ttu-id="c47b8-184">如需有關如何 tooupdate 服務組態的詳細資訊，請參閱 hello 節**管理儲存體帳戶的連接字串**hello 主題[設定 Visual Studio 中的 Azure 雲端服務的 hello 角色](vs-azure-tools-configure-roles-for-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="c47b8-184">For more information about how tooupdate service configurations, see hello section **Manage Connection Strings for Storage Accounts** in hello topic [Configure hello Roles for an Azure Cloud Service with Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span></span>
4. <span data-ttu-id="c47b8-185">toomodify 任何連接字串設定中，選擇 hello **...**</span><span class="sxs-lookup"><span data-stu-id="c47b8-185">toomodify any connection string settings, choose hello **…**</span></span> <span data-ttu-id="c47b8-186">下一個 toohello 設定 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c47b8-186">button next toohello setting.</span></span> <span data-ttu-id="c47b8-187">hello**建立儲存體連接字串** 對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="c47b8-187">hello **Create Storage Connection String** dialog box appears.</span></span>
5. <span data-ttu-id="c47b8-188">在下**連接使用**，選擇 hello**訂用帳戶**選項。</span><span class="sxs-lookup"><span data-stu-id="c47b8-188">Under **Connect using**, choose hello **Your subscription** option.</span></span>
6. <span data-ttu-id="c47b8-189">在 hello**訂用帳戶**清單中，選擇您的訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c47b8-189">In hello **Subscription** list, choose your subscription.</span></span> <span data-ttu-id="c47b8-190">如果訂閱 hello 清單不包含您想要的其中一個 hello，選擇 hello**下載發行設定**連結。</span><span class="sxs-lookup"><span data-stu-id="c47b8-190">If hello list of subscriptions doesn't include hello one that you want, choose hello **Download Publish Settings** link.</span></span>
7. <span data-ttu-id="c47b8-191">在 hello**帳戶名稱**清單中，選擇您的儲存體帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-191">In hello **Account name** list, choose your storage account name.</span></span> <span data-ttu-id="c47b8-192">Azure Tools 會使用 hello.publishsettings 檔案自動取得儲存體帳戶認證。</span><span class="sxs-lookup"><span data-stu-id="c47b8-192">Azure Tools obtains storage account credentials automatically by using hello .publishsettings file.</span></span> <span data-ttu-id="c47b8-193">儲存體帳戶認證，手動 toospecify 選擇 hello**手動輸入的認證**選項，然後再繼續此程序。</span><span class="sxs-lookup"><span data-stu-id="c47b8-193">toospecify your storage account credentials manually, choose hello **Manually entered credentials** option, and then continue with this procedure.</span></span> <span data-ttu-id="c47b8-194">您可以從 hello 取得您的儲存體帳戶名稱及主要金鑰[Azure 傳統入口網站](http://go.microsoft.com/fwlink/p/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-194">You can get your storage account name and primary key from hello [Azure classic portal](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span></span> <span data-ttu-id="c47b8-195">如果您不想 toospecify 您的儲存體帳戶設定手動選擇 hello**確定**按鈕 tooclose hello 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="c47b8-195">If you don’t want toospecify your storage account settings manually, choose hello **OK** button tooclose hello dialog box.</span></span>
8. <span data-ttu-id="c47b8-196">選擇 hello**輸入儲存體帳戶**認證連結。</span><span class="sxs-lookup"><span data-stu-id="c47b8-196">Choose hello **Enter storage account** credentials link.</span></span>
9. <span data-ttu-id="c47b8-197">在 hello**帳戶名稱**方塊中，輸入 hello 您的儲存體帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-197">In hello **Account name** box, enter hello name of your storage account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c47b8-198">登入 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)，然後選擇 [hello**儲存體**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c47b8-198">Log into hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), and then choose hello **Storage** button.</span></span> <span data-ttu-id="c47b8-199">hello 入口網站會顯示儲存體帳戶清單。</span><span class="sxs-lookup"><span data-stu-id="c47b8-199">hello portal shows a list of storage accounts.</span></span> <span data-ttu-id="c47b8-200">如果您選擇帳戶，其頁面就會開啟。</span><span class="sxs-lookup"><span data-stu-id="c47b8-200">If you choose an account, a page for it opens.</span></span> <span data-ttu-id="c47b8-201">您可以從這個頁面複製 hello hello 儲存體帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="c47b8-201">You can copy hello name of hello storage account from this page.</span></span> <span data-ttu-id="c47b8-202">如果您使用舊版的 hello 傳統入口網站，您的儲存體帳戶的 hello 名稱會出現在 hello**儲存體帳戶**檢視。</span><span class="sxs-lookup"><span data-stu-id="c47b8-202">If you are using a previous version of hello classic portal, hello name of your storage account appears in hello **Storage Accounts** view.</span></span> <span data-ttu-id="c47b8-203">toocopy 這命名時，反白顯示在 hello**屬性**這個視窗檢視，，然後選擇 hello Ctrl + C 鍵。</span><span class="sxs-lookup"><span data-stu-id="c47b8-203">toocopy this name, highlight it in hello **Properties** window of this view, and then choose hello Ctrl-C keys.</span></span> <span data-ttu-id="c47b8-204">Visual studio，toopaste hello 名稱，請選擇 hello**帳戶名稱**文字] 方塊中，然後選擇 [hello Ctrl + V 鍵。</span><span class="sxs-lookup"><span data-stu-id="c47b8-204">toopaste hello name into Visual Studio, choose hello **Account name** text box, and then choose hello Ctrl+V keys.</span></span>
   >
   >
10. <span data-ttu-id="c47b8-205">在 hello**帳戶金鑰**方塊中，輸入您的主要金鑰，或複製並貼上它 hello [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-205">In hello **Account key** box, enter your primary key, or copy and paste it from hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
     <span data-ttu-id="c47b8-206">toocopy 此索引鍵：</span><span class="sxs-lookup"><span data-stu-id="c47b8-206">toocopy this key:</span></span>

    1. <span data-ttu-id="c47b8-207">在 hello hello 適當的儲存體帳戶的 hello 頁面底部，選擇 [hello**管理金鑰**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="c47b8-207">At hello bottom of hello page for hello appropriate storage account, choose hello **Manage Keys** button.</span></span>
    2. <span data-ttu-id="c47b8-208">在 hello**管理存取金鑰**頁面、 選取 hello 主要存取金鑰的 hello 文字，然後選擇 hello Ctrl + C 鍵。</span><span class="sxs-lookup"><span data-stu-id="c47b8-208">On hello **Manage Keys Access** page, select hello text of hello primary access key, and then choose hello Ctrl+C keys.</span></span>
    3. <span data-ttu-id="c47b8-209">Azure Tools 中將 hello 金鑰貼至 hello**帳戶金鑰**方塊。</span><span class="sxs-lookup"><span data-stu-id="c47b8-209">In Azure Tools, paste hello key into hello **Account key** box.</span></span>
    4. <span data-ttu-id="c47b8-210">您必須選取其中一個 hello 遵循選項 toodetermine hello 服務存取 hello 儲存體帳戶的方式：</span><span class="sxs-lookup"><span data-stu-id="c47b8-210">You must select one of hello following options toodetermine how hello service will access hello storage account:</span></span>

       * <span data-ttu-id="c47b8-211">**使用 HTTP**。</span><span class="sxs-lookup"><span data-stu-id="c47b8-211">**Use HTTP**.</span></span> <span data-ttu-id="c47b8-212">這是 hello 標準選項。</span><span class="sxs-lookup"><span data-stu-id="c47b8-212">This is hello standard option.</span></span> <span data-ttu-id="c47b8-213">例如： `http://<account name>.blob.core.windows.net`。</span><span class="sxs-lookup"><span data-stu-id="c47b8-213">For example, `http://<account name>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="c47b8-214">**使用 HTTPS** ，以確保連線安全無虞。</span><span class="sxs-lookup"><span data-stu-id="c47b8-214">**Use HTTPS** for a secure connection.</span></span> <span data-ttu-id="c47b8-215">例如： `https://<accountname>.blob.core.windows.net`。</span><span class="sxs-lookup"><span data-stu-id="c47b8-215">For example, `https://<accountname>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="c47b8-216">**指定自訂端點**為每個 hello 三個服務。</span><span class="sxs-lookup"><span data-stu-id="c47b8-216">**Specify custom endpoints** for each of hello three services.</span></span> <span data-ttu-id="c47b8-217">然後您可以將這些端點輸入特定服務的 hello hello 欄位。</span><span class="sxs-lookup"><span data-stu-id="c47b8-217">You can then type these endpoints into hello field for hello specific service.</span></span>

         > [!NOTE]
         > <span data-ttu-id="c47b8-218">如果您建立自訂端點，您可以建立更複雜的連接字串。</span><span class="sxs-lookup"><span data-stu-id="c47b8-218">If you create custom endpoints, you can create a more complex connection string.</span></span> <span data-ttu-id="c47b8-219">當您使用這個字串格式時，您可以指定包含您已註冊儲存體帳戶以 hello Blob 服務的自訂網域名稱的儲存體服務端點。</span><span class="sxs-lookup"><span data-stu-id="c47b8-219">When you use this string format, you can specify storage service endpoints that include a custom domain name that you have registered for your storage account with hello Blob service.</span></span> <span data-ttu-id="c47b8-220">也您可以授與存取只有 tooblob 透過共用的存取簽章的單一容器中的資源。</span><span class="sxs-lookup"><span data-stu-id="c47b8-220">Also you can grant access only tooblob resources in a single container through a shared access signature.</span></span> <span data-ttu-id="c47b8-221">如需有關如何 toocreate 自訂端點，請參閱[設定 Azure 儲存體連接字串](storage/common/storage-configure-connection-string.md)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-221">For more information about how toocreate custom endpoints, see [Configure Azure Storage Connection Strings](storage/common/storage-configure-connection-string.md).</span></span>
         >
         >
11. <span data-ttu-id="c47b8-222">toosave 這些變更的連接字串，選擇 hello**確定**按鈕，然後選擇 hello**儲存**hello 工具列上的按鈕。</span><span class="sxs-lookup"><span data-stu-id="c47b8-222">toosave these connection string changes, choose hello **OK** button and then choose hello **Save** button on hello toolbar.</span></span> <span data-ttu-id="c47b8-223">您儲存這些變更之後，您可以使用程式碼中取得 hello 值，這個連接字串的[GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-223">After you save these changes, you can get hello value of this connection string in your code by using [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span></span> <span data-ttu-id="c47b8-224">當您發行應用程式 tooAzure 時，選擇包含 hello 連接字串 hello Azure 儲存體帳戶的 hello 服務組態。</span><span class="sxs-lookup"><span data-stu-id="c47b8-224">When you publish your application tooAzure, choose hello service configuration that contains hello Azure storage account for hello connection string.</span></span> <span data-ttu-id="c47b8-225">發行您的應用程式之後，請確認 hello 應用程式的運作，如預期般對 hello Azure 儲存體服務</span><span class="sxs-lookup"><span data-stu-id="c47b8-225">After your application is published, verify that hello application works as expected against hello Azure storage services</span></span>

## <a name="next-steps"></a><span data-ttu-id="c47b8-226">後續步驟</span><span class="sxs-lookup"><span data-stu-id="c47b8-226">Next steps</span></span>
<span data-ttu-id="c47b8-227">toolearn 進一步了解發行應用程式 tooAzure 從 Visual Studio，請參閱[發行雲端服務使用 hello Azure Tools](vs-azure-tools-publishing-a-cloud-service.md)。</span><span class="sxs-lookup"><span data-stu-id="c47b8-227">toolearn more about publishing apps tooAzure from Visual Studio, see [Publishing a Cloud Service using hello Azure Tools](vs-azure-tools-publishing-a-cloud-service.md).</span></span>
