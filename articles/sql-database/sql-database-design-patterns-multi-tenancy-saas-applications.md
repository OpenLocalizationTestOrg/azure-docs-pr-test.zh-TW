---
title: "多租用戶 SaaS 應用程式與 Azure SQL Database 的設計模式 | Microsoft Docs"
description: "本文討論雲端環境中執行的多租用戶資料庫應用程式需要考慮的需求和通用資料架構模式，以及這些模式相關的各種利弊取捨。 其中也說明 Azure SQL Database 搭配其彈性集區和彈性工具，如何在無需妥協的情況下滿足這些需求。"
keywords: 
services: sql-database
documentationcenter: 
author: srinia
manager: jhubbard
editor: 
ms.assetid: 1dd20c6b-ddbb-40ef-ad34-609d398d008a
ms.service: sql-database
ms.custom: scale out apps
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: sqldb-design
ms.date: 02/01/2017
ms.author: srinia
ms.openlocfilehash: 0f6ba62a01f3211ccaae6b6c48f72e0de54aad78
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multi-tenant-saas-applications-and-azure-sql-database"></a><span data-ttu-id="3f394-104">多租用戶 SaaS 應用程式與 Azure SQL Database 的設計模式</span><span class="sxs-lookup"><span data-stu-id="3f394-104">Design patterns for multi-tenant SaaS applications and Azure SQL Database</span></span>
<span data-ttu-id="3f394-105">在本文中，您可以了解雲端環境中執行的多租用戶軟體即服務 (SaaS) 資料庫應用程式的需求和通用資料架構模式。</span><span class="sxs-lookup"><span data-stu-id="3f394-105">In this article, you can learn about the requirements and common data architecture patterns of multi-tenant software as a service (SaaS) database applications that run in a cloud environment.</span></span> <span data-ttu-id="3f394-106">其中也說明您需要考量的因素，以及不同設計模式的利弊取捨。</span><span class="sxs-lookup"><span data-stu-id="3f394-106">It also explains the factors you need to consider and the trade-offs of different design patterns.</span></span> <span data-ttu-id="3f394-107">Azure SQL Database 中的彈性集區和彈性工具可協助您符合特定需求，而不會影響其他目標。</span><span class="sxs-lookup"><span data-stu-id="3f394-107">Elastic pools and elastic tools in Azure SQL Database can help you meet your specific requirements without compromising other objectives.</span></span>

<span data-ttu-id="3f394-108">開發人員在設計多租用戶應用程式的資料層租用模型時，有時候會做出有損其長期最佳利益的選擇。</span><span class="sxs-lookup"><span data-stu-id="3f394-108">Developers sometimes make choices that work against their long-term best interests when they design tenancy models for the data tiers of multi-tenant applications.</span></span> <span data-ttu-id="3f394-109">至少一開始，開發人員可能會察覺輕鬆開發和較低的雲端服務提供者成本，比應用程式的租用戶隔離或延展性更加重要。</span><span class="sxs-lookup"><span data-stu-id="3f394-109">Initially, at least, a developer might perceive ease of development and lower cloud service provider costs as more important than tenant isolation or the scalability of an application.</span></span> <span data-ttu-id="3f394-110">此選項可能會導致客戶滿意度問題和稍後高成本的路線修正。</span><span class="sxs-lookup"><span data-stu-id="3f394-110">This choice can lead to customer satisfaction concerns and a costly course-correction later.</span></span>

<span data-ttu-id="3f394-111">多租用戶應用程式是指雲端環境中裝載的應用程式，可將同一組服務提供給不共用或看不到彼此資料的數百或數千個租用戶。</span><span class="sxs-lookup"><span data-stu-id="3f394-111">A multi-tenant application is an application hosted in a cloud environment and that provides the same set of services to hundreds or thousands of tenants who do not share or see each other’s data.</span></span> <span data-ttu-id="3f394-112">例如，提供服務給雲端裝載環境中租用戶的 SaaS 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3f394-112">An example is an SaaS application that provides services to tenants in a cloud-hosted environment.</span></span>

## <a name="multi-tenant-applications"></a><span data-ttu-id="3f394-113">多租用戶應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-113">Multi-tenant applications</span></span>
<span data-ttu-id="3f394-114">在多租用戶應用程式中，可以輕鬆分割資料和工作負載。</span><span class="sxs-lookup"><span data-stu-id="3f394-114">In multi-tenant applications, data and workload can be easily partitioned.</span></span> <span data-ttu-id="3f394-115">您可以分割資料和工作負載 (例如，沿著租用戶界限)，因為大部分要求發生於租用戶的範圍內。</span><span class="sxs-lookup"><span data-stu-id="3f394-115">You can partition data and workload, for example, along tenant boundaries, because most requests occur within the confines of a tenant.</span></span> <span data-ttu-id="3f394-116">這是資料和工作負載與生俱來的屬性，可支援本文中討論的應用程式模式。</span><span class="sxs-lookup"><span data-stu-id="3f394-116">That property is inherent in the data and the workload, and it favors the application patterns discussed in this article.</span></span>

<span data-ttu-id="3f394-117">開發人員會將這類型的應用程式使用於整個雲端式應用程式的範疇內，包括：</span><span class="sxs-lookup"><span data-stu-id="3f394-117">Developers use this type of application across the whole spectrum of cloud-based applications, including:</span></span>

* <span data-ttu-id="3f394-118">轉換成雲端即 SaaS 應用程式的合作夥伴資料庫應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-118">Partner database applications that are being transitioned to the cloud as SaaS applications</span></span>
* <span data-ttu-id="3f394-119">從無到有針對雲端而建置的 SaaS 應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-119">SaaS applications built for the cloud from the ground up</span></span>
* <span data-ttu-id="3f394-120">直接面向客戶的應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-120">Direct, customer-facing applications</span></span>
* <span data-ttu-id="3f394-121">面向員工的企業應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-121">Employee-facing enterprise applications</span></span>

<span data-ttu-id="3f394-122">專為雲端設計的 SaaS 應用程式，以及以合作夥伴資料庫應用程式為根基的應用程式通常是多租用戶應用程式。</span><span class="sxs-lookup"><span data-stu-id="3f394-122">SaaS applications that are designed for the cloud and those with roots as partner database applications typically are multi-tenant applications.</span></span> <span data-ttu-id="3f394-123">這些 SaaS 應用程式提供特殊的軟體應用程式即服務給其租用戶。</span><span class="sxs-lookup"><span data-stu-id="3f394-123">These SaaS applications deliver a specialized software application as a service to their tenants.</span></span> <span data-ttu-id="3f394-124">租用戶可以存取應用程式服務，而且對於隨應用程式一起儲存的相關資料具有完整的擁有權。</span><span class="sxs-lookup"><span data-stu-id="3f394-124">Tenants can access the application service and have full ownership of associated data stored as part of the application.</span></span> <span data-ttu-id="3f394-125">但若要利用 SaaS 的優點，租用戶必須放棄自己資料的一些控制權。</span><span class="sxs-lookup"><span data-stu-id="3f394-125">But to take advantage of the benefits of SaaS, tenants must surrender some control over their own data.</span></span> <span data-ttu-id="3f394-126">它們會信任 SaaS 服務提供者，以確保資料的安全並與其他租用戶的資料隔離。</span><span class="sxs-lookup"><span data-stu-id="3f394-126">They trust the SaaS service provider to keep their data safe and isolated from other tenants’ data.</span></span> <span data-ttu-id="3f394-127">這類多租用戶 SaaS 應用程式的範例包括 MYOB、SnelStart 和 Salesforce.com。</span><span class="sxs-lookup"><span data-stu-id="3f394-127">Examples of this kind of multi-tenant SaaS application are MYOB, SnelStart, and Salesforce.com.</span></span> <span data-ttu-id="3f394-128">每個應用程式可以依照租用戶界限分割，並支援我們在本文中討論的應用程式設計模式。</span><span class="sxs-lookup"><span data-stu-id="3f394-128">Each of these applications can be partitioned along tenant boundaries and support the application design patterns we discuss in this article.</span></span>

<span data-ttu-id="3f394-129">為取用者或組織內員工 (通常稱為使用者，而不是租用戶) 提供直接服務的應用程式，屬於多租用戶應用程式範疇內的另一種類別。</span><span class="sxs-lookup"><span data-stu-id="3f394-129">Applications that provide a direct service to customers or to employees within an organization (often referred to as users, rather than tenants) are another category on the multi-tenant application spectrum.</span></span> <span data-ttu-id="3f394-130">客戶會訂閱服務，並不擁有服務提供者所收集和儲存的資料。</span><span class="sxs-lookup"><span data-stu-id="3f394-130">Customers subscribe to the service and do not own the data that the service provider collects and stores.</span></span> <span data-ttu-id="3f394-131">除了政府強制規定的隱私權法規，服務提供者不會嚴格要求隔離客戶彼此的資料。</span><span class="sxs-lookup"><span data-stu-id="3f394-131">Service providers have less stringent requirements to keep their customers’ data isolated from each other beyond government-mandated privacy regulations.</span></span> <span data-ttu-id="3f394-132">這種客戶對應的多租用戶應用程式範例包括 Netflix、Spotify 和 Xbox LIVE 等媒體內容提供者。</span><span class="sxs-lookup"><span data-stu-id="3f394-132">Examples of this kind of customer-facing multi-tenant application are media content providers like Netflix, Spotify, and Xbox LIVE.</span></span> <span data-ttu-id="3f394-133">還有其他可輕鬆分割的應用程式範例，包括面向客戶的網際網路等級應用程式或物聯網 (IoT) 應用程式，其中每個客戶或裝置都可能成為分割區。</span><span class="sxs-lookup"><span data-stu-id="3f394-133">Other examples of easily partitionable applications are customer-facing, Internet-scale applications, or Internet of Things (IoT) applications in which each customer or device can serve as a partition.</span></span> <span data-ttu-id="3f394-134">分割區界限可以劃分不同的使用者和裝置。</span><span class="sxs-lookup"><span data-stu-id="3f394-134">Partition boundaries can separate users and devices.</span></span>

<span data-ttu-id="3f394-135">並非所有應用程式都可輕易地沿著單一屬性來分割，例如租用戶、客戶、使用者或裝置。</span><span class="sxs-lookup"><span data-stu-id="3f394-135">Not all applications partition easily along a single property such as tenant, customer, user, or device.</span></span> <span data-ttu-id="3f394-136">例如，複雜企業資源規劃 (ERP) 應用程式具有產品、訂單和客戶。</span><span class="sxs-lookup"><span data-stu-id="3f394-136">A complex enterprise resource planning (ERP) application, for example, has products, orders, and customers.</span></span> <span data-ttu-id="3f394-137">其通常使用具有數千個緊密相互連結資料表的複雜結構描述。</span><span class="sxs-lookup"><span data-stu-id="3f394-137">It usually has a complex schema with thousands of highly interconnected tables.</span></span>

<span data-ttu-id="3f394-138">單一分割策略不可能適用於所有資料表和運用於應用程式的工作負載。</span><span class="sxs-lookup"><span data-stu-id="3f394-138">No single partition strategy can apply to all tables and work across an application's workload.</span></span> <span data-ttu-id="3f394-139">本文所著重的多租用戶應用程式，具有可輕鬆分割的資料和工作負載。</span><span class="sxs-lookup"><span data-stu-id="3f394-139">This article focuses on multi-tenant applications that have easily partitionable data and workloads.</span></span>

## <a name="multi-tenant-application-design-trade-offs"></a><span data-ttu-id="3f394-140">多租用戶應用程式設計取捨</span><span class="sxs-lookup"><span data-stu-id="3f394-140">Multi-tenant application design trade-offs</span></span>
<span data-ttu-id="3f394-141">多租用戶應用程式開發人員選擇的設計模式通常是以下列因素考量作為基礎︰</span><span class="sxs-lookup"><span data-stu-id="3f394-141">The design pattern that a multi-tenant application developer chooses typically is based on a consideration of the following factors:</span></span>

* <span data-ttu-id="3f394-142">**隔離租用戶**。</span><span class="sxs-lookup"><span data-stu-id="3f394-142">**Tenant isolation**.</span></span> <span data-ttu-id="3f394-143">開發人員必須確保租用戶不會越權存取其他租用戶的資料。</span><span class="sxs-lookup"><span data-stu-id="3f394-143">The developer needs to ensure that no tenant has unwanted access to other tenants’ data.</span></span> <span data-ttu-id="3f394-144">此隔離需求會延伸至其他屬性，例如避開吵雜的芳鄰、能夠還原租用戶的資料、以及實作租用戶特定的自訂。</span><span class="sxs-lookup"><span data-stu-id="3f394-144">The isolation requirement extends to other properties, such as providing protection from noisy neighbors, being able to restore a tenant’s data, and implementing tenant-specific customizations.</span></span>
* <span data-ttu-id="3f394-145">**雲端資源成本**。</span><span class="sxs-lookup"><span data-stu-id="3f394-145">**Cloud resource cost**.</span></span> <span data-ttu-id="3f394-146">SaaS 應用程式需要具有成本競爭力。</span><span class="sxs-lookup"><span data-stu-id="3f394-146">An SaaS application needs to be cost-competitive.</span></span> <span data-ttu-id="3f394-147">多租用戶應用程式開發人員可能會選擇最佳化，以降低雲端資源的使用成本，例如儲存體和計算成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-147">A multi-tenant application developer might choose to optimize for lower cost in the use of cloud resources, such as storage and compute costs.</span></span>
* <span data-ttu-id="3f394-148">**簡化 DevOps**。</span><span class="sxs-lookup"><span data-stu-id="3f394-148">**Ease of DevOps**.</span></span> <span data-ttu-id="3f394-149">多租用戶應用程式開發人員需要納入隔離保護、維護及監視其應用程式和資料庫結構描述的健康情況，以及排解租用戶的疑難問題。</span><span class="sxs-lookup"><span data-stu-id="3f394-149">A multi-tenant application developer needs to incorporate isolation protection, maintain, and monitor the health of their application and database schema, and troubleshoot tenant issues.</span></span> <span data-ttu-id="3f394-150">應用程式開發和操作的複雜性會直接導致成本增加以及租用戶滿意度面臨挑戰。</span><span class="sxs-lookup"><span data-stu-id="3f394-150">Complexity in application development and operation translates directly to increased cost and challenges with tenant satisfaction.</span></span>
* <span data-ttu-id="3f394-151">**延展性**。</span><span class="sxs-lookup"><span data-stu-id="3f394-151">**Scalability**.</span></span> <span data-ttu-id="3f394-152">以累加方式加入更多租用戶的能力，而對於需要此能力的租用戶而言，這是 SaaS 作業成功不可或缺的能力。</span><span class="sxs-lookup"><span data-stu-id="3f394-152">The ability to incrementally add more tenants and capacity for tenants who require it is imperative to a successful SaaS operation.</span></span>

<span data-ttu-id="3f394-153">上述每個因素都有其各自的取捨。</span><span class="sxs-lookup"><span data-stu-id="3f394-153">Each of these factors has trade-offs compared to another.</span></span> <span data-ttu-id="3f394-154">成本最低的雲端產品不見得提供最方便的開發經驗。</span><span class="sxs-lookup"><span data-stu-id="3f394-154">The lowest-cost cloud offering might not offer the most convenient development experience.</span></span> <span data-ttu-id="3f394-155">開發人員一定要在應用程式設計過程中，對這些選項及其取捨做出明智的選擇。</span><span class="sxs-lookup"><span data-stu-id="3f394-155">It’s important for a developer to make informed choices about these options and their trade-offs during the application design process.</span></span>

<span data-ttu-id="3f394-156">常見的開發模式是將多個租用戶裝入一個或幾個資料庫中。</span><span class="sxs-lookup"><span data-stu-id="3f394-156">A popular development pattern is to pack multiple tenants into one or a few databases.</span></span> <span data-ttu-id="3f394-157">此方法的優點是成本較低，因為您需支付少量的資料庫，而處理有限數目的資料庫相對簡單。</span><span class="sxs-lookup"><span data-stu-id="3f394-157">The benefits of this approach are a lower cost because you pay for a few databases, and the relative simplicity of working with a limited number of databases.</span></span> <span data-ttu-id="3f394-158">但經過一段時間，SaaS 多租用戶應用程式開發人員將會瞭解，這項選擇在租用戶隔離和延展性方面有些缺點。</span><span class="sxs-lookup"><span data-stu-id="3f394-158">But over time, a SaaS multi-tenant application developer will realize that this choice has substantial downsides in tenant isolation and scalability.</span></span> <span data-ttu-id="3f394-159">如果租用戶隔離變得重要，則必須有額外的付出，才能使共用儲存體中的租用戶資料免於遭到未經授權的存取或避開吵雜的芳鄰。</span><span class="sxs-lookup"><span data-stu-id="3f394-159">If tenant isolation becomes important, additional effort is required to protect tenant data in shared storage from unauthorized access or noisy neighbors.</span></span> <span data-ttu-id="3f394-160">這項額外的付出可能會大幅提升開發工作和隔離維護成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-160">This additional effort might significantly boost development efforts and isolation maintenance costs.</span></span> <span data-ttu-id="3f394-161">同樣地，如果需要加入租用戶，此設計模式通常需要憑藉專長，才能將租用戶資料重新分散於資料庫，以適當調整應用程式的資料層。</span><span class="sxs-lookup"><span data-stu-id="3f394-161">Similarly, if adding tenants is required, this design pattern typically requires expertise to redistribute tenant data across databases to properly scale the data tier of an application.</span></span>  

<span data-ttu-id="3f394-162">在供應給其他企業和組織的 SaaS 多租用戶應用程式中，租用戶隔離通常是基本需求。</span><span class="sxs-lookup"><span data-stu-id="3f394-162">Tenant isolation often is a fundamental requirement in SaaS multi-tenant applications that cater to businesses and organizations.</span></span> <span data-ttu-id="3f394-163">開發人員在簡單性和成本考量方面短視近利，而不重視隔離和延展性。</span><span class="sxs-lookup"><span data-stu-id="3f394-163">A developer might be tempted by perceived advantages in simplicity and cost over tenant isolation and scalability.</span></span> <span data-ttu-id="3f394-164">隨著服務不斷發展，以及租用戶隔離需求變得更加重要且需要在應用程式層次管理，這項取捨會使情況更趨於複雜且代價昂貴。</span><span class="sxs-lookup"><span data-stu-id="3f394-164">This trade-off can prove complex and expensive as the service grows and tenant isolation requirements become more important and managed at the application layer.</span></span> <span data-ttu-id="3f394-165">不過，在提供直接取用者對應的服務給使用者的多租用戶應用程式中，很可能為了讓雲端資源成本發揮最高效益，而較不重視租用戶隔離。</span><span class="sxs-lookup"><span data-stu-id="3f394-165">However, in multi-tenant applications that provide a direct, consumer-facing service to customers, tenant isolation might be a lower priority than optimizing for cloud resource cost.</span></span>

## <a name="multi-tenant-data-models"></a><span data-ttu-id="3f394-166">多租用戶資料模型</span><span class="sxs-lookup"><span data-stu-id="3f394-166">Multi-tenant data models</span></span>
<span data-ttu-id="3f394-167">放置租用戶資料的常見設計做法都遵循這三種不同的模型 (如圖 1 所示)。</span><span class="sxs-lookup"><span data-stu-id="3f394-167">Common design practices for placing tenant data follow three distinct models, shown in Figure 1.</span></span>

![多租用戶應用程式資料模型](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-multi-tenant-data-models.png)

<span data-ttu-id="3f394-169">圖 1︰多租用戶資料模型的常見設計做法</span><span class="sxs-lookup"><span data-stu-id="3f394-169">Figure 1: Common design practices for multi-tenant data models</span></span>

* <span data-ttu-id="3f394-170">**租用戶各有資料庫**。</span><span class="sxs-lookup"><span data-stu-id="3f394-170">**Database-per-tenant**.</span></span> <span data-ttu-id="3f394-171">每個租用戶都有自己的資料庫。</span><span class="sxs-lookup"><span data-stu-id="3f394-171">Each tenant has its own database.</span></span> <span data-ttu-id="3f394-172">租用戶特定的所有資料都封閉在租用戶的資料庫內，與其他租用戶及其資料隔離。</span><span class="sxs-lookup"><span data-stu-id="3f394-172">All tenant-specific data is confined to the tenant’s database and isolated from other tenants and their data.</span></span>
* <span data-ttu-id="3f394-173">**共用資料庫 - 分區化**。</span><span class="sxs-lookup"><span data-stu-id="3f394-173">**Shared database-sharded**.</span></span> <span data-ttu-id="3f394-174">多個租用戶會共用多個資料庫的其中一個。</span><span class="sxs-lookup"><span data-stu-id="3f394-174">Multiple tenants share one of multiple databases.</span></span> <span data-ttu-id="3f394-175">使用資料分割策略 (例如雜湊、範圍或清單分割)，可將一組不同的租用戶指派給每個資料庫。</span><span class="sxs-lookup"><span data-stu-id="3f394-175">A distinct set of tenants is assigned to each database by using a partitioning strategy such as hash, range, or list partitioning.</span></span> <span data-ttu-id="3f394-176">此資料分散策略通常稱為分區化。</span><span class="sxs-lookup"><span data-stu-id="3f394-176">This data distribution strategy often is referred to as sharding.</span></span>
* <span data-ttu-id="3f394-177">**共用資料庫 - 單一**。</span><span class="sxs-lookup"><span data-stu-id="3f394-177">**Shared database-single**.</span></span> <span data-ttu-id="3f394-178">單一資料庫 (有時很大) 包含以租用戶識別碼資料行來區分的所有租用戶的資料。</span><span class="sxs-lookup"><span data-stu-id="3f394-178">A single, sometimes large, database contains data for all tenants, which are disambiguated in a tenant ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="3f394-179">應用程式開發人員可選擇將不同的租用戶放在不同的資料庫結構描述中，然後使用結構描述名稱來區分不同的租用戶。</span><span class="sxs-lookup"><span data-stu-id="3f394-179">An application developer might choose to place different tenants in different database schemas, and then use the schema name to disambiguate the different tenants.</span></span> <span data-ttu-id="3f394-180">這種方法通常需要使用動態 SQL，也無法有效利用計畫快取，所以不建議採用。</span><span class="sxs-lookup"><span data-stu-id="3f394-180">We do not recommend this approach because it usually requires the use of dynamic SQL, and it can’t be effective in plan caching.</span></span> <span data-ttu-id="3f394-181">在本文的其餘部分，我們著重於此類別的多租用戶應用程式共用資料表方法。</span><span class="sxs-lookup"><span data-stu-id="3f394-181">In the remainder of this article, we focus on the shared table approach for this category of multi-tenant application.</span></span>
> 
> 

## <a name="popular-multi-tenant-data-models"></a><span data-ttu-id="3f394-182">熱門的多租用戶資料模型</span><span class="sxs-lookup"><span data-stu-id="3f394-182">Popular multi-tenant data models</span></span>
<span data-ttu-id="3f394-183">請務必依據我們已識別的應用程式設計取捨，評估不同類型的多租用戶資料模型。</span><span class="sxs-lookup"><span data-stu-id="3f394-183">It’s important to evaluate the different types of multi-tenant data models in terms of the application design trade-offs we’ve already identified.</span></span> <span data-ttu-id="3f394-184">這些因素有助於描繪上述三種最常見的多租用戶資料模型，以及其資料庫使用情況 (如圖 2 所示)。</span><span class="sxs-lookup"><span data-stu-id="3f394-184">These factors help characterize the three most common multi-tenant data models described earlier and their database usage as shown in Figure 2.</span></span>

* <span data-ttu-id="3f394-185">**隔離**。</span><span class="sxs-lookup"><span data-stu-id="3f394-185">**Isolation**.</span></span> <span data-ttu-id="3f394-186">以租用戶之間的隔離程度，衡量資料模型可達成的租用戶隔離效果。</span><span class="sxs-lookup"><span data-stu-id="3f394-186">The degree of isolation between tenants can be a measure of how much tenant isolation a data model achieves.</span></span>
* <span data-ttu-id="3f394-187">**雲端資源成本**。</span><span class="sxs-lookup"><span data-stu-id="3f394-187">**Cloud resource cost**.</span></span> <span data-ttu-id="3f394-188">在租用戶之間共用的資源規則，可以使雲端資源成本發揮最高效益。</span><span class="sxs-lookup"><span data-stu-id="3f394-188">The amount of resource sharing between tenants can optimize cloud resource cost.</span></span> <span data-ttu-id="3f394-189">資源可定義為計算和儲存體成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-189">A resource can be defined as the compute and storage cost.</span></span>
* <span data-ttu-id="3f394-190">**DevOps 成本**。</span><span class="sxs-lookup"><span data-stu-id="3f394-190">**DevOps cost**.</span></span> <span data-ttu-id="3f394-191">簡化應用程式開發、部署和管理性可降低整體的 SaaS 作業成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-191">The ease of application development, deployment, and manageability reduces overall SaaS operation cost.</span></span>  

<span data-ttu-id="3f394-192">在圖 2 中，Y 軸顯示租用戶隔離的等級。</span><span class="sxs-lookup"><span data-stu-id="3f394-192">In Figure 2, the Y axis shows the level of tenant isolation.</span></span> <span data-ttu-id="3f394-193">X 軸顯示資源共用的層級。</span><span class="sxs-lookup"><span data-stu-id="3f394-193">The X axis shows the level of resource sharing.</span></span> <span data-ttu-id="3f394-194">中間的灰色對角線箭號表示 DevOps 成本的方向 (傾向於增加或減少)。</span><span class="sxs-lookup"><span data-stu-id="3f394-194">The gray, diagonal arrow in the middle indicates the direction of DevOps costs, tending to increase or decrease.</span></span>

![熱門的多租用戶應用程式設計模式](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-popular-application-patterns.png)

<span data-ttu-id="3f394-196">圖 2︰熱門的多租用戶資料模型</span><span class="sxs-lookup"><span data-stu-id="3f394-196">Figure 2: Popular multi-tenant data models</span></span>

<span data-ttu-id="3f394-197">圖 2 的右下方象限顯示使用可能很大、共用單一資料庫和共用資料表 (或另一個結構描述) 方法的應用程式模式。</span><span class="sxs-lookup"><span data-stu-id="3f394-197">The lower-right quadrant in Figure 2 shows an application pattern that uses a potentially large, shared single database, and the shared table (or separate schema) approach.</span></span> <span data-ttu-id="3f394-198">因為所有租用戶都使用單一資料庫中相同的資料庫資源 (CPU、記憶體、輸入/輸出)，所以適合進行資源共用。</span><span class="sxs-lookup"><span data-stu-id="3f394-198">It's good for resource sharing because all tenants use the same database resources (CPU, memory, input/output) in a single database.</span></span> <span data-ttu-id="3f394-199">但租用戶隔離有限。</span><span class="sxs-lookup"><span data-stu-id="3f394-199">But tenant isolation is limited.</span></span> <span data-ttu-id="3f394-200">您可能需要採取額外步驟來保護應用程式層的各租用戶。</span><span class="sxs-lookup"><span data-stu-id="3f394-200">You might need to take additional steps to protect tenants from each other at the application layer.</span></span> <span data-ttu-id="3f394-201">這些額外步驟可能會大幅增加開發和管理應用程式的 DevOps 成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-201">These additional steps can significantly increase the DevOps cost of developing and managing the application.</span></span> <span data-ttu-id="3f394-202">延展性受限於用來裝載資料庫的硬體規模。</span><span class="sxs-lookup"><span data-stu-id="3f394-202">Scalability is limited by the scale of the hardware that hosts the database.</span></span>

<span data-ttu-id="3f394-203">圖 2 左下方象限說明跨多個資料庫分區的多個租用戶 (通常為不同的硬體縮放單位)。</span><span class="sxs-lookup"><span data-stu-id="3f394-203">The lower-left quadrant in Figure 2 illustrates multiple tenants sharded across multiple databases (typically, different hardware scale units).</span></span> <span data-ttu-id="3f394-204">每個資料庫會裝載一部分的租用戶，以處理其他模式的延展性考量。</span><span class="sxs-lookup"><span data-stu-id="3f394-204">Each database hosts a subset of tenants, which addresses the scalability concern of other patterns.</span></span> <span data-ttu-id="3f394-205">如果需要更多容量來因應更多租用戶，您可將租用戶輕鬆放在配置給新硬體縮放單位的新資料庫上。</span><span class="sxs-lookup"><span data-stu-id="3f394-205">If more capacity is required for more tenants, you can easily place the tenants on new databases allocated to new hardware scale units.</span></span> <span data-ttu-id="3f394-206">不過，共用資源的數量會降低。</span><span class="sxs-lookup"><span data-stu-id="3f394-206">However, the amount of resource sharing is reduced.</span></span> <span data-ttu-id="3f394-207">只有放在相同縮放單位上的租用戶會共用資源。</span><span class="sxs-lookup"><span data-stu-id="3f394-207">Only tenants placed on the same scale units share resources.</span></span> <span data-ttu-id="3f394-208">這種方法也無助於改善租用戶隔離，因為仍有許多租用戶共置，自然無法免於彼此動作的干擾。</span><span class="sxs-lookup"><span data-stu-id="3f394-208">This approach provides little improvement to tenant isolation because many tenants are still collocated without being automatically protected from each other’s actions.</span></span> <span data-ttu-id="3f394-209">應用程式複雜度仍然很高。</span><span class="sxs-lookup"><span data-stu-id="3f394-209">Application complexity remains high.</span></span>

<span data-ttu-id="3f394-210">圖 2 左上方的象限是第三種方法。</span><span class="sxs-lookup"><span data-stu-id="3f394-210">The upper-left quadrant in Figure 2 is the third approach.</span></span> <span data-ttu-id="3f394-211">它將每個租用戶的資料放在自己的資料庫中。</span><span class="sxs-lookup"><span data-stu-id="3f394-211">It places each tenant’s data in its own database.</span></span> <span data-ttu-id="3f394-212">這種方法有良好的租用戶隔離特性，但是當每個資料庫提供自己專用的資源時，就會限制資源共用。</span><span class="sxs-lookup"><span data-stu-id="3f394-212">This approach has good tenant-isolation properties but limits resource sharing when each database has its own dedicated resources.</span></span> <span data-ttu-id="3f394-213">如果所有租用戶有可預測的工作負載，這會是個好方法。</span><span class="sxs-lookup"><span data-stu-id="3f394-213">This approach is good if all tenants have predictable workloads.</span></span> <span data-ttu-id="3f394-214">如果租用戶工作負載變得更難預測，提供者就無法最佳化資源共用。</span><span class="sxs-lookup"><span data-stu-id="3f394-214">If tenant workloads become less predictable, the provider cannot optimize resource sharing.</span></span> <span data-ttu-id="3f394-215">不可預測性是 SaaS 應用程式一般的特性。</span><span class="sxs-lookup"><span data-stu-id="3f394-215">Unpredictability is common for SaaS applications.</span></span> <span data-ttu-id="3f394-216">提供者必須過度佈建，以滿足需求或減少資源。</span><span class="sxs-lookup"><span data-stu-id="3f394-216">The provider must either over-provision to meet demands or lower resources.</span></span> <span data-ttu-id="3f394-217">任何一個動作都會導致成本提高或租用戶滿意度降低。</span><span class="sxs-lookup"><span data-stu-id="3f394-217">Either action results in either higher costs or lower tenant satisfaction.</span></span> <span data-ttu-id="3f394-218">租用戶之間的資源共用程度越高，才能使解決方案越符合成本效益。</span><span class="sxs-lookup"><span data-stu-id="3f394-218">A higher degree of resource sharing across tenants becomes desirable to make the solution more cost-effective.</span></span> <span data-ttu-id="3f394-219">增加資料庫數目也會讓部署和維護應用程式的 DevOps 成本增加。</span><span class="sxs-lookup"><span data-stu-id="3f394-219">Increasing the number of databases also increases DevOps cost to deploy and maintain the application.</span></span> <span data-ttu-id="3f394-220">儘管有上述顧慮，此方法會提供最佳且最簡單的租用戶隔離。</span><span class="sxs-lookup"><span data-stu-id="3f394-220">Despite these concerns, this method provides the best and easiest isolation for tenants.</span></span>

<span data-ttu-id="3f394-221">這些因素也會影響客戶選擇的設計模式︰</span><span class="sxs-lookup"><span data-stu-id="3f394-221">These factors also influence the design pattern a customer chooses:</span></span>

* <span data-ttu-id="3f394-222">**租用戶資料的擁有權**。</span><span class="sxs-lookup"><span data-stu-id="3f394-222">**Ownership of tenant data**.</span></span> <span data-ttu-id="3f394-223">租用戶保留自己資料的擁有權的應用程式，應該選擇每個租用戶單一資料庫的模式。</span><span class="sxs-lookup"><span data-stu-id="3f394-223">An application in which tenants retain ownership of their own data favors the pattern of a single database per tenant.</span></span>
* <span data-ttu-id="3f394-224">**規模**。</span><span class="sxs-lookup"><span data-stu-id="3f394-224">**Scale**.</span></span> <span data-ttu-id="3f394-225">以數十萬或數百萬個租用戶為目標的應用程式，應該選擇資料庫共用方法，例如分區化。</span><span class="sxs-lookup"><span data-stu-id="3f394-225">An application that targets hundreds of thousands or millions of tenants favors database sharing approaches such as sharding.</span></span> <span data-ttu-id="3f394-226">但仍可能要解決隔離需求。</span><span class="sxs-lookup"><span data-stu-id="3f394-226">Isolation requirements still can pose challenges.</span></span>
* <span data-ttu-id="3f394-227">**價值和商務模型**。</span><span class="sxs-lookup"><span data-stu-id="3f394-227">**Value and business model**.</span></span> <span data-ttu-id="3f394-228">如果應用程式的個別租用戶營收很少 (少於一美元)，隔離需求會變得較不重要，而共用資料庫會較有意義。</span><span class="sxs-lookup"><span data-stu-id="3f394-228">If an application’s per-tenant revenue if small (less than a dollar), isolation requirements become less critical and a shared database makes sense.</span></span> <span data-ttu-id="3f394-229">如果每個租用戶的營收只有數美元或更多金額，則租用戶各有資料庫模型比較可行。</span><span class="sxs-lookup"><span data-stu-id="3f394-229">If per-tenant revenue is a few dollars or more, a database-per-tenant model is more feasible.</span></span> <span data-ttu-id="3f394-230">它可能有助於降低開發成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-230">It might help reduce development costs.</span></span>

<span data-ttu-id="3f394-231">根據圖 2 所示的設計取捨，理想的多租用戶模型必須兼顧良好的租用戶隔離特性，讓租用戶之間資源共用達到最佳化。</span><span class="sxs-lookup"><span data-stu-id="3f394-231">Given the design trade-offs shown in Figure 2, an ideal multi-tenant model needs to incorporate good tenant isolation properties with optimal resource sharing among tenants.</span></span> <span data-ttu-id="3f394-232">此模型符合圖 2 右上方象限中所描述類別的模型。</span><span class="sxs-lookup"><span data-stu-id="3f394-232">This model fits in the category described in the upper-right quadrant of Figure 2.</span></span>

## <a name="multi-tenancy-support-in-azure-sql-database"></a><span data-ttu-id="3f394-233">Azure SQL Database 中的多租用戶支援</span><span class="sxs-lookup"><span data-stu-id="3f394-233">Multi-tenancy support in Azure SQL Database</span></span>
<span data-ttu-id="3f394-234">Azure SQL Database 支援圖 2 所示的所有多租用戶應用程式模式。</span><span class="sxs-lookup"><span data-stu-id="3f394-234">Azure SQL Database supports all multi-tenant application patterns outlined in Figure 2.</span></span> <span data-ttu-id="3f394-235">搭配彈性集區，它也支援一種應用程式模式，其結合「租用戶各有資料庫」方法 (請參閱圖 3 的右上方象限) 的良好資源共用和隔離優點。</span><span class="sxs-lookup"><span data-stu-id="3f394-235">With elastic pools, it also supports an application pattern that combines good resource sharing and the isolation benefits of the database-per-tenant approach (see the upper-right quadrant in Figure 3).</span></span> <span data-ttu-id="3f394-236">Azure SQL Database 中的彈性資料庫工具和功能，有助於降低開發和操作具有許多資料庫的應用程式的成本 (顯示於圖 3 的陰影區)。</span><span class="sxs-lookup"><span data-stu-id="3f394-236">Elastic database tools and capabilities in SQL Database help reduce the cost to develop and operate an application that has many databases (shown in the shaded area in Figure 3).</span></span> <span data-ttu-id="3f394-237">這些工具有助於建置和管理採用任何多資料庫模式的應用程式。</span><span class="sxs-lookup"><span data-stu-id="3f394-237">These tools can help you build and manage applications that use any of the multi-database patterns.</span></span>

![Azure SQL Database 中的模式](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-patterns-sqldb.png)

<span data-ttu-id="3f394-239">圖 3：Azure SQL Database 中的多租用戶應用程式模式</span><span class="sxs-lookup"><span data-stu-id="3f394-239">Figure 3: Multi-tenant application patterns in Azure SQL Database</span></span>

## <a name="database-per-tenant-model-with-elastic-pools-and-tools"></a><span data-ttu-id="3f394-240">租用戶各有資料庫模型與彈性集區和工具</span><span class="sxs-lookup"><span data-stu-id="3f394-240">Database-per-tenant model with elastic pools and tools</span></span>
<span data-ttu-id="3f394-241">SQL Database 中的彈性集區會結合租用戶隔離與租用戶資料庫之間的資源共用，以加強支援「租用戶各有資料庫」方法。</span><span class="sxs-lookup"><span data-stu-id="3f394-241">Elastic pools in SQL Database combine tenant isolation with resource sharing among tenant databases to better support the database-per-tenant approach.</span></span> <span data-ttu-id="3f394-242">SQL Database 是資料層方案，可供建置多租用戶應用程式的 SaaS 提供者使用。</span><span class="sxs-lookup"><span data-stu-id="3f394-242">SQL Database is a data tier solution for SaaS providers who build multi-tenant applications.</span></span> <span data-ttu-id="3f394-243">在租用戶之間共用資源的負擔會從應用程式層轉移至資料庫服務層。</span><span class="sxs-lookup"><span data-stu-id="3f394-243">The burden of resource sharing among tenants shifts from the application layer to the database service layer.</span></span> <span data-ttu-id="3f394-244">彈性作業、彈性查詢、彈性交易和彈性資料庫用戶端程式庫可簡化跨資料庫大規模管理和查詢的複雜性。</span><span class="sxs-lookup"><span data-stu-id="3f394-244">The complexity of managing and querying at scale across databases is simplified with elastic jobs, elastic query, elastic transactions, and the elastic database client library.</span></span>

| <span data-ttu-id="3f394-245">應用程式需求</span><span class="sxs-lookup"><span data-stu-id="3f394-245">Application requirements</span></span> | <span data-ttu-id="3f394-246">SQL Database 功能</span><span class="sxs-lookup"><span data-stu-id="3f394-246">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="3f394-247">租用戶隔離與資源共用</span><span class="sxs-lookup"><span data-stu-id="3f394-247">Tenant isolation and resource sharing</span></span> |<span data-ttu-id="3f394-248">[彈性集區](sql-database-elastic-pool.md)︰配置 SQL Database 資源的集區，讓數個資料庫共用這些資源。</span><span class="sxs-lookup"><span data-stu-id="3f394-248">[Elastic pools](sql-database-elastic-pool.md): Allocate a pool of SQL Database resources and share the resources across various databases.</span></span> <span data-ttu-id="3f394-249">此外，個別資料庫可以依需要從集區汲取資源，以因應租用戶工作負載變化而造成的容量需求遽增。</span><span class="sxs-lookup"><span data-stu-id="3f394-249">Also, individual databases can draw as much resources from the pool as needed to accommodate capacity demand spikes due to changes in tenant workloads.</span></span> <span data-ttu-id="3f394-250">彈性集區本身也可以視需要而相應放大或縮小。</span><span class="sxs-lookup"><span data-stu-id="3f394-250">The elastic pool itself can be scaled up or down as needed.</span></span> <span data-ttu-id="3f394-251">彈性集區也支援在集區層級上輕鬆地管理、監視和進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="3f394-251">Elastic pools also provide ease of manageability and monitoring and troubleshooting at the pool level.</span></span> |
| <span data-ttu-id="3f394-252">跨資料庫簡化 DevOps</span><span class="sxs-lookup"><span data-stu-id="3f394-252">Ease of DevOps across databases</span></span> |<span data-ttu-id="3f394-253">[彈性集區](sql-database-elastic-pool.md)︰如先前所述。</span><span class="sxs-lookup"><span data-stu-id="3f394-253">[Elastic pools](sql-database-elastic-pool.md): As noted earlier.</span></span> |
| | <span data-ttu-id="3f394-254">[彈性查詢](sql-database-elastic-query-horizontal-partitioning.md)︰跨資料庫查詢以進行報告或跨租用戶分析。</span><span class="sxs-lookup"><span data-stu-id="3f394-254">[Elastic query](sql-database-elastic-query-horizontal-partitioning.md): Query across databases for reporting or cross-tenant analysis.</span></span> |
| | <span data-ttu-id="3f394-255">[彈性作業](sql-database-elastic-jobs-overview.md)︰封裝資料庫維護作業或資料庫結構描述變更，然後可靠地部署到多個資料庫。</span><span class="sxs-lookup"><span data-stu-id="3f394-255">[Elastic jobs](sql-database-elastic-jobs-overview.md): Package and reliably deploy database maintenance operations or database schema changes to multiple databases.</span></span> |
| | <span data-ttu-id="3f394-256">[彈性交易](sql-database-elastic-transactions-overview.md)︰以不可部分完成和隔離的方式，處理多個資料庫的變更。</span><span class="sxs-lookup"><span data-stu-id="3f394-256">[Elastic transactions](sql-database-elastic-transactions-overview.md): Process changes to several databases in an atomic and isolated way.</span></span> <span data-ttu-id="3f394-257">當應用程式在數個資料庫作業之間需要保證「全有或全無」時，就需要彈性交易。</span><span class="sxs-lookup"><span data-stu-id="3f394-257">Elastic transactions are needed when applications need “all or nothing” guarantees over several database operations.</span></span> |
| | <span data-ttu-id="3f394-258">[彈性資料庫用戶端程式庫](sql-database-elastic-database-client-library.md)︰管理資料分佈並將租用戶對應到資料庫。</span><span class="sxs-lookup"><span data-stu-id="3f394-258">[Elastic database client library](sql-database-elastic-database-client-library.md): Manage data distributions and map tenants to databases.</span></span> |

## <a name="shared-models"></a><span data-ttu-id="3f394-259">共用的模型</span><span class="sxs-lookup"><span data-stu-id="3f394-259">Shared models</span></span>
<span data-ttu-id="3f394-260">如先前所述，大多數 SaaS 提供者的共用模型方法可能會引起租用戶隔離問題，以及應用程式開發和維護的複雜性。</span><span class="sxs-lookup"><span data-stu-id="3f394-260">As described earlier, for most SaaS providers, a shared model approach might pose problems with tenant isolation issues and complexities with application development and maintenance.</span></span> <span data-ttu-id="3f394-261">然而，對於直接提供服務給取用者的多租用戶應用程式，租用戶隔離需求的優先性可能不及降低成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-261">However, for multi-tenant applications that provide a service directly to consumers, tenant isolation requirements may not be as high a priority as minimizing cost.</span></span> <span data-ttu-id="3f394-262">他們能夠以高密度將租用戶封裝在一或多個資料庫中以降低成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-262">They might be able to pack tenants in one or more databases at a high density to reduce costs.</span></span> <span data-ttu-id="3f394-263">使用單一資料庫或多個分區化資料庫的共用資料庫模型，可以提高資源共用和整體成本的效率。</span><span class="sxs-lookup"><span data-stu-id="3f394-263">Shared-database models using a single database or multiple sharded databases might result in additional efficiencies in resource sharing and overall cost.</span></span> <span data-ttu-id="3f394-264">Azure SQL Database 會提供一些功能，幫助取用者在資料層大規模建置隔離，以強化安全性和管理。</span><span class="sxs-lookup"><span data-stu-id="3f394-264">Azure SQL Database provides some features that help customers build isolation for improved security and management at scale in the data tier.</span></span>

| <span data-ttu-id="3f394-265">應用程式需求</span><span class="sxs-lookup"><span data-stu-id="3f394-265">Application requirements</span></span> | <span data-ttu-id="3f394-266">SQL Database 功能</span><span class="sxs-lookup"><span data-stu-id="3f394-266">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="3f394-267">安全性隔離功能</span><span class="sxs-lookup"><span data-stu-id="3f394-267">Security isolation features</span></span> |[<span data-ttu-id="3f394-268">資料列層級安全性</span><span class="sxs-lookup"><span data-stu-id="3f394-268">Row-level security</span></span>](https://msdn.microsoft.com/library/dn765131.aspx) |
| [<span data-ttu-id="3f394-269">資料庫結構描述</span><span class="sxs-lookup"><span data-stu-id="3f394-269">Database schema</span></span>](https://msdn.microsoft.com/library/dd207005.aspx) | |
| <span data-ttu-id="3f394-270">跨資料庫簡化 DevOps</span><span class="sxs-lookup"><span data-stu-id="3f394-270">Ease of DevOps across databases</span></span> |[<span data-ttu-id="3f394-271">彈性查詢</span><span class="sxs-lookup"><span data-stu-id="3f394-271">Elastic query</span></span>](sql-database-elastic-query-horizontal-partitioning.md) |
| | [<span data-ttu-id="3f394-272">彈性工作</span><span class="sxs-lookup"><span data-stu-id="3f394-272">Elastic jobs</span></span>](sql-database-elastic-jobs-overview.md) |
| | [<span data-ttu-id="3f394-273">彈性交易</span><span class="sxs-lookup"><span data-stu-id="3f394-273">Elastic transactions</span></span>](sql-database-elastic-transactions-overview.md) |
| | [<span data-ttu-id="3f394-274">彈性資料庫用戶端程式庫</span><span class="sxs-lookup"><span data-stu-id="3f394-274">Elastic database client library</span></span>](sql-database-elastic-database-client-library.md) |
| | [<span data-ttu-id="3f394-275">彈性資料庫分割和合併</span><span class="sxs-lookup"><span data-stu-id="3f394-275">Elastic database split and merge</span></span>](sql-database-elastic-scale-overview-split-and-merge.md) |

## <a name="summary"></a><span data-ttu-id="3f394-276">摘要</span><span class="sxs-lookup"><span data-stu-id="3f394-276">Summary</span></span>
<span data-ttu-id="3f394-277">對於大多數 SaaS 多租用戶應用程式而言，租用戶隔離需求很重要。</span><span class="sxs-lookup"><span data-stu-id="3f394-277">Tenant isolation requirements are important for most SaaS multi-tenant applications.</span></span> <span data-ttu-id="3f394-278">提供隔離的最佳選項幾乎仰賴於「租用戶各有資料庫」方法。</span><span class="sxs-lookup"><span data-stu-id="3f394-278">The best option to provide isolation leans heavily toward the database-per-tenant approach.</span></span> <span data-ttu-id="3f394-279">其他兩種方法需要在複雜的應用程式層投入心力，並需要有熟練的開發人員來提供隔離，因而大幅增加成本與風險。</span><span class="sxs-lookup"><span data-stu-id="3f394-279">The other two approaches require investments in complex application layers that require skilled development staff to provide isolation, which significantly increases cost and risk.</span></span> <span data-ttu-id="3f394-280">如果在服務開發初期不重視隔離需求，在前兩個模型中改造時會付出更大的代價。</span><span class="sxs-lookup"><span data-stu-id="3f394-280">If isolation requirements are not accounted for early in the service development, retrofitting them can be even more costly in the first two models.</span></span> <span data-ttu-id="3f394-281">「租用戶各有資料庫」模型的主要缺點在於，因為共用和維護不足，以及管理許多資料庫，導致雲端資源成本增加。</span><span class="sxs-lookup"><span data-stu-id="3f394-281">The main drawbacks associated with the database-per-tenant model are related to increased cloud resource costs due to reduced sharing, and maintaining and managing many databases.</span></span> <span data-ttu-id="3f394-282">SaaS 應用程式開發人員經常掙扎於這些取捨之中。</span><span class="sxs-lookup"><span data-stu-id="3f394-282">SaaS application developers often struggle when they make these trade-offs.</span></span>

<span data-ttu-id="3f394-283">雖然這些取捨可能是大部分雲端資料庫服務提供者的主要障礙，但 Azure SQL Database 服務能以其彈性集區和彈性資料庫功能，排除這些阻礙。</span><span class="sxs-lookup"><span data-stu-id="3f394-283">Although trade-offs might be major barriers with most cloud database service providers, Azure SQL Database eliminates the barriers with its elastic pool and elastic database capabilities.</span></span> <span data-ttu-id="3f394-284">SaaS 開發人員可以結合「租用戶各有資料庫」模型的隔離特性，同時最佳化資源共用，並利用彈性集區和相關的工具，改善許多資料庫的管理效率。</span><span class="sxs-lookup"><span data-stu-id="3f394-284">SaaS developers can combine the isolation characteristics of a database-per-tenant model and optimize resource sharing and the manageability improvements of many databases by using elastic pools and associated tools.</span></span>

<span data-ttu-id="3f394-285">沒有租用戶隔離需求，並能以高密度將租用戶封裝在資料庫中的多租用戶應用程式提供者，可能會發現共用資料模型可以提高資源共用的效率，並能降低整體成本。</span><span class="sxs-lookup"><span data-stu-id="3f394-285">Multi-tenant application providers who have no tenant isolation requirements and who can pack tenants in a database at a high density might find that shared data models result in additional efficiency in resource sharing and reduce overall cost.</span></span> <span data-ttu-id="3f394-286">Azure SQL Database 彈性資料庫工具、分區化程式庫和安全性功能，可協助 SaaS 提供者建置和管理多租用戶應用程式。</span><span class="sxs-lookup"><span data-stu-id="3f394-286">Azure SQL Database elastic database tools, sharding libraries, and security features help SaaS providers build and manage multi-tenant applications.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3f394-287">後續步驟</span><span class="sxs-lookup"><span data-stu-id="3f394-287">Next steps</span></span>
<span data-ttu-id="3f394-288">[開始使用彈性資料庫工具](sql-database-elastic-scale-get-started.md) 。</span><span class="sxs-lookup"><span data-stu-id="3f394-288">[Get started with elastic database tools](sql-database-elastic-scale-get-started.md) with a sample app that demonstrates the client library.</span></span>

<span data-ttu-id="3f394-289">透過使用彈性集區的範例應用程式，建立 [SaaS 的彈性集區自訂儀表板](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) ，以建置符合成本效益、可調整的資料庫解決方案。</span><span class="sxs-lookup"><span data-stu-id="3f394-289">Create an [elastic pool custom dashboard for SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) with a sample app that uses elastic pools for a cost-effective, scalable database solution.</span></span>

<span data-ttu-id="3f394-290">使用 Azure SQL Database 工具來 [移轉要相應放大的現有資料庫](sql-database-elastic-convert-to-use-elastic-tools.md)。</span><span class="sxs-lookup"><span data-stu-id="3f394-290">Use the Azure SQL Database tools to [migrate existing databases to scale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span></span>

<span data-ttu-id="3f394-291">若要使用 Azure 入口網站來建立彈性集區，請參閱[建立彈性集區](sql-database-elastic-pool-manage-portal.md)。</span><span class="sxs-lookup"><span data-stu-id="3f394-291">To create an elastic pool using the Azure portal, see [create an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>  

<span data-ttu-id="3f394-292">了解如何 [監視和管理彈性集區](sql-database-elastic-pool-manage-portal.md)。</span><span class="sxs-lookup"><span data-stu-id="3f394-292">Learn how to [monitor and manage an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3f394-293">其他資源</span><span class="sxs-lookup"><span data-stu-id="3f394-293">Additional resources</span></span>

* [<span data-ttu-id="3f394-294">部署及探索使用 Azure SQL Database 的多租用戶應用程式 - Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="3f394-294">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>](sql-database-saas-tutorial.md)
* [<span data-ttu-id="3f394-295">什麼是 Azure 彈性集區？</span><span class="sxs-lookup"><span data-stu-id="3f394-295">What is an Azure elastic pool?</span></span>](sql-database-elastic-pool.md)
* [<span data-ttu-id="3f394-296">使用 Azure SQL Database 相應放大</span><span class="sxs-lookup"><span data-stu-id="3f394-296">Scaling out with Azure SQL Database</span></span>](sql-database-elastic-scale-introduction.md)
* [<span data-ttu-id="3f394-297">使用彈性資料庫工具和資料列層級安全性的多租用戶應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-297">multi-tenant applications with elastic database tools and row-level security</span></span>](sql-database-elastic-tools-multi-tenant-row-level-security.md)
* [<span data-ttu-id="3f394-298">使用 Azure Active Directory 和 OpenID Connect 在多租用戶應用程式中進行驗證</span><span class="sxs-lookup"><span data-stu-id="3f394-298">Authentication in multi-tenant apps by using Azure Active Directory and OpenID Connect</span></span>](../guidance/guidance-multitenant-identity-authenticate.md)
* [<span data-ttu-id="3f394-299">Tailspin Surveys 應用程式</span><span class="sxs-lookup"><span data-stu-id="3f394-299">Tailspin Surveys application</span></span>](../guidance/guidance-multitenant-identity-tailspin.md)


## <a name="questions-and-feature-requests"></a><span data-ttu-id="3f394-300">問題和功能要求</span><span class="sxs-lookup"><span data-stu-id="3f394-300">Questions and feature requests</span></span>

<span data-ttu-id="3f394-301">如有問題，您可在 [SQL Database 論壇](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted)中找到我們。</span><span class="sxs-lookup"><span data-stu-id="3f394-301">For questions, find us in the [SQL Database forum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span> <span data-ttu-id="3f394-302">在 [SQL Database 意見反應論壇](https://feedback.azure.com/forums/217321-sql-database/)中提出功能要求。</span><span class="sxs-lookup"><span data-stu-id="3f394-302">Add a feature request in the [SQL Database feedback forum](https://feedback.azure.com/forums/217321-sql-database/).</span></span>

