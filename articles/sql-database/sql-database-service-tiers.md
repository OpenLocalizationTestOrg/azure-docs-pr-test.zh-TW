---
title: "Azure SQL Database 服務和效能層 | Microsoft Docs"
description: "比較單一資料庫的 SQL Database 服務層和效能等級，並且介紹 SQL 彈性集區"
keywords: "資料庫選項, 資料庫效能"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: f5c5c596-cd1e-451f-92a7-b70d4916e974
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 06/30/2017
ms.author: carlrab
ms.openlocfilehash: b25ff5331f119efd44c61808f7d1d5decb226bd6
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/18/2017
---
# <a name="what-performance-options-are-available-for-an-azure-sql-database"></a><span data-ttu-id="87c06-104">Azure SQL Database 可用的效能選項為何</span><span class="sxs-lookup"><span data-stu-id="87c06-104">What performance options are available for an Azure SQL Database</span></span>

<span data-ttu-id="87c06-105">[Azure SQL Database](sql-database-technical-overview.md) 提供針對單一和[集區](sql-database-elastic-pool.md)資料庫提供四個服務層。</span><span class="sxs-lookup"><span data-stu-id="87c06-105">[Azure SQL Database](sql-database-technical-overview.md) offers four service tiers for both single and [pooled](sql-database-elastic-pool.md) databases.</span></span> <span data-ttu-id="87c06-106">這些服務層為：[基本]、[標準]、[進階] 和 [進階 RS]。</span><span class="sxs-lookup"><span data-stu-id="87c06-106">These service tiers are: **Basic**, **Standard**, **Premium**, and **Premium RS**.</span></span> <span data-ttu-id="87c06-107">每個服務層內都有多個效能等級 ([DTU](sql-database-what-is-a-dtu.md)) 和儲存體選項可處理不同的工作負載和資料大小。</span><span class="sxs-lookup"><span data-stu-id="87c06-107">Within each service tier are multiple performance levels ([DTUs](sql-database-what-is-a-dtu.md)) and storage options to handle different workloads and data sizes.</span></span> <span data-ttu-id="87c06-108">較高的效能等級會提供額外的計算和儲存體資源，旨在提供愈來愈高的輸送量和容量。</span><span class="sxs-lookup"><span data-stu-id="87c06-108">Higher performance levels provide additional compute and storage resources designed to deliver increasingly higher throughput and capacity.</span></span> <span data-ttu-id="87c06-109">您可以動態變更服務層、效能等級和儲存體，而不需要停機。</span><span class="sxs-lookup"><span data-stu-id="87c06-109">You can change service tiers, performance levels, and storage dynamically without downtime.</span></span> 
- <span data-ttu-id="87c06-110">[基本]、[標準] 和 [高階] 服務層都具備 99.99% 的執行時間 SLA、彈性的商務持續性選項、安全性功能，以及按小時計費。</span><span class="sxs-lookup"><span data-stu-id="87c06-110">**Basic**, **Standard** and **Premium** service tiers all have an uptime SLA of 99.99%, flexible business continuity options, security features, and hourly billing.</span></span> 
- <span data-ttu-id="87c06-111">**Premium RS**層提供相同的效能等級為 Premium 層，以降低的 SLA，因為它會比其他服務層中的資料庫副本的較低數字以執行。</span><span class="sxs-lookup"><span data-stu-id="87c06-111">The **Premium RS** tier provides the same performance levels as the Premium tier with a reduced SLA because it runs with a lower number of redundant copies than a database in the other service tiers.</span></span> <span data-ttu-id="87c06-112">因此，當服務失敗時，最慢可能會延遲 5 分鐘才能從備份中復原資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-112">So, in the event of a service failure, you may need to recover your database from a backup with up to a 5-minute lag.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="87c06-113">Azure SQL 資料庫都保證會有一組資源，且您資料庫的預期效能特性不會受到 Azure 內的任何其他資料庫影響。</span><span class="sxs-lookup"><span data-stu-id="87c06-113">An Azure SQL database gets a guaranteed set of resources and the expected performance characteristics of your database are not affected by any other database within Azure.</span></span> 

## <a name="choosing-a-service-tier"></a><span data-ttu-id="87c06-114">選擇服務層</span><span class="sxs-lookup"><span data-stu-id="87c06-114">Choosing a service tier</span></span>
<span data-ttu-id="87c06-115">下表提供最適用於不同應用程式工作負載的服務層範例。</span><span class="sxs-lookup"><span data-stu-id="87c06-115">The following table provides examples of the tiers best suited for different application workloads.</span></span>

| <span data-ttu-id="87c06-116">服務層</span><span class="sxs-lookup"><span data-stu-id="87c06-116">Service tier</span></span> | <span data-ttu-id="87c06-117">目標工作負載</span><span class="sxs-lookup"><span data-stu-id="87c06-117">Target workloads</span></span> |
| :--- | --- |
| <span data-ttu-id="87c06-118">**基本**</span><span class="sxs-lookup"><span data-stu-id="87c06-118">**Basic**</span></span> | <span data-ttu-id="87c06-119">最適合於小型資料庫，通常會在指定的時間內支援單一的作用中作業。</span><span class="sxs-lookup"><span data-stu-id="87c06-119">Best suited for a small database, supporting typically one single active operation at a given time.</span></span> <span data-ttu-id="87c06-120">範例包括用於開發或測試，或者不常使用之小規模應用程式的資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-120">Examples include databases used for development or testing, or small-scale infrequently used applications.</span></span> |
| <span data-ttu-id="87c06-121">**標準**</span><span class="sxs-lookup"><span data-stu-id="87c06-121">**Standard**</span></span> |<span data-ttu-id="87c06-122">雲端應用程式具有低度到中等 IO 效能需求時的建議選項，支援多個並行查詢。</span><span class="sxs-lookup"><span data-stu-id="87c06-122">The go-to option for cloud applications with low to medium IO performance requirements, supporting multiple concurrent queries.</span></span> <span data-ttu-id="87c06-123">範例包括工作群組或 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="87c06-123">Examples include workgroup or web applications.</span></span> |
| <span data-ttu-id="87c06-124">**高級**</span><span class="sxs-lookup"><span data-stu-id="87c06-124">**Premium**</span></span> | <span data-ttu-id="87c06-125">針對具有高 IO 效能需求的高交易量而設計，支援許多並行使用者。</span><span class="sxs-lookup"><span data-stu-id="87c06-125">Designed for high transactional volume with high IO performance requirements, supporting many concurrent users.</span></span> <span data-ttu-id="87c06-126">範例包括支援任務關鍵性應用程式的資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-126">Examples are databases supporting mission critical applications.</span></span> |
| <span data-ttu-id="87c06-127">**進階 RS**</span><span class="sxs-lookup"><span data-stu-id="87c06-127">**Premium RS**</span></span> | <span data-ttu-id="87c06-128">專為需要大量 IO 但不需要高可用性保證的工作負載所設計。</span><span class="sxs-lookup"><span data-stu-id="87c06-128">Designed for IO-intensive workloads that do not require the highest availability guarantees.</span></span> <span data-ttu-id="87c06-129">範例包括測試高效能工作負載，或資料庫不是記錄系統的分析工作負載。</span><span class="sxs-lookup"><span data-stu-id="87c06-129">Examples include testing high-performance workloads, or an analytical workload where the database is not the system of record.</span></span> |
|||

<span data-ttu-id="87c06-130">您可以在具有特定[效能等級](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels)的服務層內，建立具有專用資源的單一資料庫，也可以在 [SQL 彈性集區](sql-database-service-tiers.md#elastic-pool-service-tiers-and-performance-in-edtus)內建立資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-130">You can create single databases with dedicated resources within a service tier at a specific [performance level](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels) or you can also create databases within a [SQL elastic pool](sql-database-service-tiers.md#elastic-pool-service-tiers-and-performance-in-edtus).</span></span> <span data-ttu-id="87c06-131">在 SQL 彈性集區中，單一邏輯伺服器內的多個資料庫會共用計算和儲存體資源。</span><span class="sxs-lookup"><span data-stu-id="87c06-131">In a SQL elastic pool, the compute and storage resources are shared across multiple databases within a single logical server.</span></span> 

<span data-ttu-id="87c06-132">單一資料庫可用的資源會以資料庫交易單位 (DTU) 表示，而 SQL 彈性集區的資源則會以彈性資料庫交易單位 (eDTU) 表示。</span><span class="sxs-lookup"><span data-stu-id="87c06-132">Resources available for single databases are expressed in terms of Database Transaction Units (DTUs) and resources for a SQL elastic pools are expressed in terms of elastic Database Transaction Units (eDTUs).</span></span> <span data-ttu-id="87c06-133">如需 DTU 和 eDTU 的詳細資訊，請參閱[什麼是 DTU 和 eDTU？](sql-database-what-is-a-dtu.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-133">For more on DTUs and eDTUs, see [What are DTUs and eDTUs?](sql-database-what-is-a-dtu.md).</span></span>

<span data-ttu-id="87c06-134">若要決定服務層，請先判斷您所需要的資料庫功能底限︰</span><span class="sxs-lookup"><span data-stu-id="87c06-134">To decide on a service tier, start by determining the minimum database features that you need:</span></span>

| <span data-ttu-id="87c06-135">**服務層功能**</span><span class="sxs-lookup"><span data-stu-id="87c06-135">**Service tier features**</span></span> | <span data-ttu-id="87c06-136">**基本**</span><span class="sxs-lookup"><span data-stu-id="87c06-136">**Basic**</span></span> | <span data-ttu-id="87c06-137">**標準**</span><span class="sxs-lookup"><span data-stu-id="87c06-137">**Standard**</span></span> | <span data-ttu-id="87c06-138">**高級**</span><span class="sxs-lookup"><span data-stu-id="87c06-138">**Premium**</span></span> | <span data-ttu-id="87c06-139">**進階 RS**</span><span class="sxs-lookup"><span data-stu-id="87c06-139">**Premium RS**</span></span>|
| :-- | --: | --: | --: | --: |
| <span data-ttu-id="87c06-140">單一資料庫大小上限</span><span class="sxs-lookup"><span data-stu-id="87c06-140">Maximum single database size</span></span> | <span data-ttu-id="87c06-141">2 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-141">2 GB</span></span> | <span data-ttu-id="87c06-142">250 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-142">250 GB</span></span> | <span data-ttu-id="87c06-143">4 TB*</span><span class="sxs-lookup"><span data-stu-id="87c06-143">4 TB*</span></span>  | <span data-ttu-id="87c06-144">500 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-144">500 GB</span></span>  |
| <span data-ttu-id="87c06-145">彈性集區大小上限</span><span class="sxs-lookup"><span data-stu-id="87c06-145">Maximum elastic pool size</span></span> | <span data-ttu-id="87c06-146">156 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-146">156 GB</span></span> | <span data-ttu-id="87c06-147">2.9 TB</span><span class="sxs-lookup"><span data-stu-id="87c06-147">2.9 TB</span></span> | <span data-ttu-id="87c06-148">4 TB*</span><span class="sxs-lookup"><span data-stu-id="87c06-148">4 TB*</span></span> | <span data-ttu-id="87c06-149">750 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-149">750 GB</span></span> |
| <span data-ttu-id="87c06-150">彈性集區中的資料庫大小上限</span><span class="sxs-lookup"><span data-stu-id="87c06-150">Maximum database size in an elastic pool</span></span> | <span data-ttu-id="87c06-151">2 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-151">2 GB</span></span> | <span data-ttu-id="87c06-152">250 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-152">250 GB</span></span> | <span data-ttu-id="87c06-153">500 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-153">500 GB</span></span> | <span data-ttu-id="87c06-154">500 GB</span><span class="sxs-lookup"><span data-stu-id="87c06-154">500 GB</span></span> |
| <span data-ttu-id="87c06-155">每個集區的資料庫數目上限</span><span class="sxs-lookup"><span data-stu-id="87c06-155">Maximum number of databases per pool</span></span> | <span data-ttu-id="87c06-156">500</span><span class="sxs-lookup"><span data-stu-id="87c06-156">500</span></span>  | <span data-ttu-id="87c06-157">500</span><span class="sxs-lookup"><span data-stu-id="87c06-157">500</span></span> | <span data-ttu-id="87c06-158">100</span><span class="sxs-lookup"><span data-stu-id="87c06-158">100</span></span> | <span data-ttu-id="87c06-159">100</span><span class="sxs-lookup"><span data-stu-id="87c06-159">100</span></span> |
| <span data-ttu-id="87c06-160">單一資料庫 DTU 上限</span><span class="sxs-lookup"><span data-stu-id="87c06-160">Maximum single database DTUs</span></span> | <span data-ttu-id="87c06-161">5</span><span class="sxs-lookup"><span data-stu-id="87c06-161">5</span></span> | <span data-ttu-id="87c06-162">100</span><span class="sxs-lookup"><span data-stu-id="87c06-162">100</span></span> | <span data-ttu-id="87c06-163">4000</span><span class="sxs-lookup"><span data-stu-id="87c06-163">4000</span></span> | <span data-ttu-id="87c06-164">1000</span><span class="sxs-lookup"><span data-stu-id="87c06-164">1000</span></span> |
| <span data-ttu-id="87c06-165">彈性集區中每個資料庫的 DTU 上限</span><span class="sxs-lookup"><span data-stu-id="87c06-165">Maximum DTUs per database in an elastic pool</span></span> | <span data-ttu-id="87c06-166">5</span><span class="sxs-lookup"><span data-stu-id="87c06-166">5</span></span> | <span data-ttu-id="87c06-167">3000</span><span class="sxs-lookup"><span data-stu-id="87c06-167">3000</span></span> | <span data-ttu-id="87c06-168">4000</span><span class="sxs-lookup"><span data-stu-id="87c06-168">4000</span></span> | <span data-ttu-id="87c06-169">1000</span><span class="sxs-lookup"><span data-stu-id="87c06-169">1000</span></span> |
| <span data-ttu-id="87c06-170">資料庫備份的保留期限</span><span class="sxs-lookup"><span data-stu-id="87c06-170">Database backup retention period</span></span> | <span data-ttu-id="87c06-171">7 天</span><span class="sxs-lookup"><span data-stu-id="87c06-171">7 days</span></span> | <span data-ttu-id="87c06-172">35 天</span><span class="sxs-lookup"><span data-stu-id="87c06-172">35 days</span></span> | <span data-ttu-id="87c06-173">35 天</span><span class="sxs-lookup"><span data-stu-id="87c06-173">35 days</span></span> | <span data-ttu-id="87c06-174">35 天</span><span class="sxs-lookup"><span data-stu-id="87c06-174">35 days</span></span> |
||||||

> [!IMPORTANT]
> <span data-ttu-id="87c06-175">高達 4 TB 的儲存體目前已在下列區域提供：美國東部 2、美國西部、美國維吉尼亞州政府、西歐、德國中部、東南亞、日本東部、澳大利亞東部、加拿大中部和加拿大東部。</span><span class="sxs-lookup"><span data-stu-id="87c06-175">Storage up to 4 TB is currently available in the following regions: US East2, West US, US Gov Virginia, West Europe, Germany Central, South East Asia, Japan East, Australia East, Canada Central, and Canada East.</span></span> <span data-ttu-id="87c06-176">請參閱[目前的 4 TB 限制](sql-database-service-tiers.md#current-limitations-of-p11-and-p15-databases-with-4-tb-maxsize)</span><span class="sxs-lookup"><span data-stu-id="87c06-176">See [Current 4 TB limitations](sql-database-service-tiers.md#current-limitations-of-p11-and-p15-databases-with-4-tb-maxsize)</span></span>
>

<span data-ttu-id="87c06-177">一旦決定適當的服務層之後，接下來要決定資料庫的效能等級 (DTU 數目) 和儲存體數量。</span><span class="sxs-lookup"><span data-stu-id="87c06-177">Once you have determined the appropriate service tier, you are ready to determine the performance level (the number of DTUs) and the storage amount for the database.</span></span> 

- <span data-ttu-id="87c06-178">[標準] 層中的 S2 和 S3 效能等級通常是不錯的起點。</span><span class="sxs-lookup"><span data-stu-id="87c06-178">The S2 and S3 performance levels in the **Standard** tier are often a good starting point.</span></span> 
- <span data-ttu-id="87c06-179">而對於具有高 CPU 或 IO 需求的資料庫，[進階] 層中的效能等級才是正確的起點。</span><span class="sxs-lookup"><span data-stu-id="87c06-179">For databases with high CPU or IO requirements, the performance levels in the **Premium** tier are the right starting point.</span></span> 
- <span data-ttu-id="87c06-180">相較於 [標準] 層中的最高效能等級，[進階] 層可提供更多的 CPU 以及多了 10 倍的 IO。</span><span class="sxs-lookup"><span data-stu-id="87c06-180">The **Premium** tier offers more CPU and starts at 10x more IO compared to the highest performance level in the **Standard** tier.</span></span>
- <span data-ttu-id="87c06-181">[PremiumRS] 層以較低的成本提供 [進階] 層的效能，但 SLA 會降低。</span><span class="sxs-lookup"><span data-stu-id="87c06-181">The **PremiumRS** tier offers the performance of the **Premium** tier at a lower cost, but with a reduced SLA.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="87c06-182">檢閱 [SQL 彈性集區](sql-database-elastic-pool.md)主題中有關將資料庫群組成 SQL 彈性集區以便共用計算和儲存體資源的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="87c06-182">Review the [SQL elastic pools](sql-database-elastic-pool.md) topic for the details about grouping databases into SQL elastic pools to share compute and storage resources.</span></span> <span data-ttu-id="87c06-183">本主題的其他部分著重於單一資料庫的服務層和效能等級。</span><span class="sxs-lookup"><span data-stu-id="87c06-183">The remainder of this topic focuses on service tiers and performance levels for single databases.</span></span>
>

## <a name="single-database-service-tiers-and-performance-levels"></a><span data-ttu-id="87c06-184">單一資料庫服務層和效能等級</span><span class="sxs-lookup"><span data-stu-id="87c06-184">Single database service tiers and performance levels</span></span>
<span data-ttu-id="87c06-185">若為單一資料庫，每個服務層內會有多個效能等級和儲存體數量。</span><span class="sxs-lookup"><span data-stu-id="87c06-185">For single databases, there are multiple performance levels and storage amounts within each service tier.</span></span> 

[!INCLUDE [SQL DB service tiers table](../../includes/sql-database-service-tiers-table.md)]

## <a name="scaling-up-or-scaling-down-a-single-database"></a><span data-ttu-id="87c06-186">相應放大或相應縮小單一資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-186">Scaling up or scaling down a single database</span></span>

<span data-ttu-id="87c06-187">一開始挑選服務層和效能層級後，您可以根據實際經驗，動態放大或縮小單一資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-187">After initially picking a service tier and performance level, you can scale a single database up or down dynamically based on actual experience.</span></span>  

> [!VIDEO https://channel9.msdn.com/Blogs/Azure/Azure-SQL-Database-dynamically-scale-up-or-scale-down/player]
>

<span data-ttu-id="87c06-188">變更資料庫的服務層和/或效能層級會在新的效能層級建立原始資料庫的複本，然後將連接切換到複本。</span><span class="sxs-lookup"><span data-stu-id="87c06-188">Changing the service tier and/or performance level of a database creates a replica of the original database at the new performance level, and then switches connections over to the replica.</span></span> <span data-ttu-id="87c06-189">此程序期間不會遺失任何資料，但在我們切換到複本的短暫期間，資料庫的連接會停用，因此執行中的某些交易可能會回復。</span><span class="sxs-lookup"><span data-stu-id="87c06-189">No data is lost during this process but during the brief moment when we switch over to the replica, connections to the database are disabled, so some transactions in flight may be rolled back.</span></span> <span data-ttu-id="87c06-190">切換的時間長度會有所不同，但通常是在 4 秒以下，而 99% 的時間會小於 30 秒。</span><span class="sxs-lookup"><span data-stu-id="87c06-190">The length of time for the switch over varies, but is generally under 4 seconds is less than 30 seconds 99% of the time.</span></span> <span data-ttu-id="87c06-191">如果在連線停用時正在執行大型交易，則切換的時間長度可能會更長。</span><span class="sxs-lookup"><span data-stu-id="87c06-191">If there are large numbers of transactions in flight at the moment connections are disabled, the length of time for the switch over may be longer.</span></span>  

<span data-ttu-id="87c06-192">整個向上調整程序的期間取決於資料庫變更前後的大小和服務層。</span><span class="sxs-lookup"><span data-stu-id="87c06-192">The duration of the entire scale-up process depends on both the size and service tier of the database before and after the change.</span></span> <span data-ttu-id="87c06-193">例如，在標準服務層內進行變更的 250 GB 資料庫應在 6 小時內完成。</span><span class="sxs-lookup"><span data-stu-id="87c06-193">For example, a 250 GB database that is changing to, from, or within a Standard service tier, should complete within 6 hours.</span></span> <span data-ttu-id="87c06-194">對於進階服務層內變更效能層級的相同大小資料庫，它應該在 3 小時內完成。</span><span class="sxs-lookup"><span data-stu-id="87c06-194">For a database of the same size that is changing performance levels within the Premium service tier, it should complete within 3 hours.</span></span>

> [!TIP]
> <span data-ttu-id="87c06-195">若要檢查進行中的 SQL 資料庫調整作業的狀態，可以使用下列查詢：```select * from sys.dm_operation_status```。</span><span class="sxs-lookup"><span data-stu-id="87c06-195">To check on the status of an ongoing SQL database scaling operation, you can use the following query: ```select * from sys.dm_operation_status```.</span></span>
>

* <span data-ttu-id="87c06-196">如果您要升級到較高服務層或效能等級，除非您明確指定較大的大小上限，否則資料庫大小上限不會增加。</span><span class="sxs-lookup"><span data-stu-id="87c06-196">If you are upgrading to a higher service tier or performance level, the maximum database size does not increase unless you explicitly specify a larger maximum size.</span></span>
* <span data-ttu-id="87c06-197">若要將資料庫降級，資料庫必須小於目標服務層允許的大小上限。</span><span class="sxs-lookup"><span data-stu-id="87c06-197">To downgrade a database, the database must be smaller than the maximum allowed size of the target service tier.</span></span> 
* <span data-ttu-id="87c06-198">升級資料庫時，若已啟用[異地複寫](sql-database-geo-replication-portal.md)，您必須先將其次要資料庫升級為所需的效能層，然後再升級主要資料庫 (一般指引)。</span><span class="sxs-lookup"><span data-stu-id="87c06-198">When upgrading a database with [geo-replication](sql-database-geo-replication-portal.md) enabled, upgrade its secondary databases to the desired performance tier before upgrading the primary database (general guidance).</span></span> <span data-ttu-id="87c06-199">升級至不同的版本時，必須先升級次要資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-199">When upgrading to a different edition ugrading the secondary database first is required.</span></span> 
* <span data-ttu-id="87c06-200">將資料庫降級時，若已啟用[異地複寫](sql-database-geo-replication-portal.md)，您必須先將其主要資料庫降級為所需的效能層，然後再降級次要資料庫 (一般指引)。</span><span class="sxs-lookup"><span data-stu-id="87c06-200">When downgrading a database with [geo-replication](sql-database-geo-replication-portal.md) enabled, downgrade its primary databases to the desired performance tier before downgrading the secondary database (general guidance).</span></span> <span data-ttu-id="87c06-201">降級至不同的版本時，必須先降級主要資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-201">When downgrading to a different edition downgrading the primary database first is required.</span></span> 

* <span data-ttu-id="87c06-202">還原服務會針對各種服務層提供不同的選項。</span><span class="sxs-lookup"><span data-stu-id="87c06-202">The restore service offerings are different for the various service tiers.</span></span> <span data-ttu-id="87c06-203">如果降級至 [基本] 層，您將會有較短的備份保留期 - 請參閱 [Azure SQL Database 備份](sql-database-automated-backups.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-203">If you are downgrading to the **Basic** tier, you will have a lower backup retention period - see [Azure SQL Database Backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="87c06-204">完成變更之前，不會將新屬性套用至資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-204">The new properties for the database are not applied until the changes are complete.</span></span>


## <a name="current-limitations-of-p11-and-p15-databases-with-4-tb-maxsize"></a><span data-ttu-id="87c06-205">P11 和 P15 資料庫目前的大小上限為 4 TB</span><span class="sxs-lookup"><span data-stu-id="87c06-205">Current limitations of P11 and P15 databases with 4 TB maxsize</span></span>

<span data-ttu-id="87c06-206">某些區域中支援的 P11 與 P15 資料庫大小上限為 4 TB (如先前所討論)。</span><span class="sxs-lookup"><span data-stu-id="87c06-206">A maximum size of 4 TB for P11 and P15 database is supported in some regions (as previously discussed).</span></span> <span data-ttu-id="87c06-207">下列考量與限制適用於大小上限為 4 TB 的 P11 和 P15 資料庫：</span><span class="sxs-lookup"><span data-stu-id="87c06-207">The following considerations and limitations apply to P11 and P15 databases with 4 TB maxsize:</span></span>

- <span data-ttu-id="87c06-208">如果您在建立資料庫時選擇 4 TB 的 maxsize 選項 (使用的值為 4 TB 或 4096 GB)，但資料庫佈建在不受支援的區域，create 命令將會失敗並產生錯誤。</span><span class="sxs-lookup"><span data-stu-id="87c06-208">If you choose the 4 TB maxsize option when creating a database (using a value of 4 TB or 4096 GB), the create command fails with an error if the database is provisioned in an unsupported region.</span></span>
- <span data-ttu-id="87c06-209">若現有的 P11 和 P15 資料庫位於其中一個受支援區域，您可以將 maxsize 儲存體增加為 4 TB。</span><span class="sxs-lookup"><span data-stu-id="87c06-209">For existing P11 and P15 databases located in one of the supported regions, you can increase the maxsize storage to 4 TB.</span></span> <span data-ttu-id="87c06-210">您可以使用 [SELECT DATABASEPROPERTYEX](https://msdn.microsoft.com/library/ms186823.aspx)，或檢查 Azure 入口網站中的資料庫大小加以確認。</span><span class="sxs-lookup"><span data-stu-id="87c06-210">This can be checked using the [SELECT DATABASEPROPERTYEX](https://msdn.microsoft.com/library/ms186823.aspx) or by inspecting the database size in the Azure portal.</span></span> <span data-ttu-id="87c06-211">只有伺服器層級的主要登入或 dbmanager 資料庫角色的成員，才能執行現有的 P11 或 P15 資料庫升級。</span><span class="sxs-lookup"><span data-stu-id="87c06-211">Upgrading an existing P11 or P15 database can only be performed by a server-level principal login or by members of the dbmanager database role.</span></span> 
- <span data-ttu-id="87c06-212">如果是在支援的區域中執行升級作業，則系統會立即更新組態。</span><span class="sxs-lookup"><span data-stu-id="87c06-212">If an upgrade operation is executed in a supported region the configuration is updated immediately.</span></span> <span data-ttu-id="87c06-213">在升級過程中，資料庫會保持離線狀態。</span><span class="sxs-lookup"><span data-stu-id="87c06-213">The database remains online during the upgrade process.</span></span> <span data-ttu-id="87c06-214">但是，在將實際的資料庫檔案升級至新的大小上限前，您無法完整地使用 4TB 儲存體。</span><span class="sxs-lookup"><span data-stu-id="87c06-214">However, you cannot utilize the full 4 TB of storage until the actual database files have been upgraded to the new maxsize.</span></span> <span data-ttu-id="87c06-215">所需的時間長短依進行升級的資料庫大小而定。</span><span class="sxs-lookup"><span data-stu-id="87c06-215">The length of time required depends upon on the size of the database being upgraded.</span></span>  
- <span data-ttu-id="87c06-216">建立或更新 P11 或 P15 資料庫時，您只能在 1TB 和 4TB 的大小上限之間選擇。</span><span class="sxs-lookup"><span data-stu-id="87c06-216">When creating or updating a P11 or P15 database, you can only choose between 1 TB and 4 TB maxsize.</span></span> <span data-ttu-id="87c06-217">目前不支援中繼儲存體大小。</span><span class="sxs-lookup"><span data-stu-id="87c06-217">Intermediate storage sizes are not currently supported.</span></span> <span data-ttu-id="87c06-218">在建立 P11/P15 時，系統會預先選取預設的 1 TB 儲存體選項。</span><span class="sxs-lookup"><span data-stu-id="87c06-218">When creating a P11/P15, the default storage option of 1 TB is pre-selected.</span></span> <span data-ttu-id="87c06-219">若資料庫位於其中一個受支援區域，您可以將新的或現有單一資料庫的儲存體上限增加為 4 TB。</span><span class="sxs-lookup"><span data-stu-id="87c06-219">For databases located in one of the supported regions, you can increase the storage maximum to 4TB for a new or existing single database.</span></span> <span data-ttu-id="87c06-220">在其他所有區域中，無法將大小上限增加至 1 TB 以上。</span><span class="sxs-lookup"><span data-stu-id="87c06-220">For all other regions, max size cannot be increased above 1 TB.</span></span> <span data-ttu-id="87c06-221">當您選取 4 TB 的內含儲存體時，價格不會變更。</span><span class="sxs-lookup"><span data-stu-id="87c06-221">The price does not change when you select 4 TB of included storage.</span></span>
- <span data-ttu-id="87c06-222">即使實際使用的儲存體不足 1TB，您也無法將 4TB 的資料庫大小上限變更為 1TB。</span><span class="sxs-lookup"><span data-stu-id="87c06-222">The 4 TB database maxsize cannot be changed to 1 TB even if the actual storage used is below 1 TB.</span></span> <span data-ttu-id="87c06-223">因此，在我們為其他效能層級提供額外的儲存體選項前，您無法將 P11-4TB/P15-4TB 降級為 P11-1TB/P15-1TB 或更低的效能層級 (例如，降為 P1-P6)。</span><span class="sxs-lookup"><span data-stu-id="87c06-223">Thus, you cannot downgrade a P11-4TB/P15-4TB to a P11-1TB/P15-1TB or a lower performance tier for example, to P1-P6) until we are providing additional storage options for the rest of the performance tiers.</span></span> <span data-ttu-id="87c06-224">這項限制也適用於包括時間點、異地還原、長期備份保留期和資料庫備份等還原和複製案例。</span><span class="sxs-lookup"><span data-stu-id="87c06-224">This restriction also applies to the restore and copy scenarios including point-in-time, geo-restore, long-term-backup-retention, and database copy.</span></span> <span data-ttu-id="87c06-225">一旦將資料庫設定為 4TB 的選項，此資料庫的所有還原作業都必須以 4TB 大小上限的 P11/P15 執行。</span><span class="sxs-lookup"><span data-stu-id="87c06-225">Once a database is configured with the 4 TB option, all restore operations of this database must be run into a P11/P15 with 4 TB maxsize.</span></span>
- <span data-ttu-id="87c06-226">在不受支援的區域中建立或升級 P11/P15 資料庫時，該建立或升級作業會失敗，並且顯示下列錯誤訊息：**具備最多 4TB 儲存體的 P11 和 P15 資料庫僅供美國東部 2、美國西部、美國維吉尼亞州政府、西歐、德國中部、東南亞、日本東部、澳大利亞東部、加拿大中部和加拿大東部使用。**</span><span class="sxs-lookup"><span data-stu-id="87c06-226">When creating or upgrading an P11/P15 database in an unsupported region, the create or upgrade operation fails with the following error message: **P11 and P15 database with up to 4TB of storage are available in US East2, West US, US Gov Virginia, West Europe, Germany Central, South East Asia, Japan East, Australia East, Canada Central, and Canada East.**</span></span>
- <span data-ttu-id="87c06-227">若是作用中異地複寫案例：</span><span class="sxs-lookup"><span data-stu-id="87c06-227">For active geo-replication scenarios:</span></span>
   - <span data-ttu-id="87c06-228">設定異地複寫關聯性：如果 P11 或 P15 為主要資料庫，則次要資料庫也必須是 P11 或 P15；系統會拒絕使用較低的效能層級作為次要資料庫，因為這些資料庫無法支援 4TB 的大小。</span><span class="sxs-lookup"><span data-stu-id="87c06-228">Setting up a geo-replication relationship: If the primary database is P11 or P15, the secondary(ies) must also be P11 or P15; lower performance tiers are rejected as secondaries since they are not capable of supporting 4 TB.</span></span>
   - <span data-ttu-id="87c06-229">在異地複寫關聯性中升級主要資料庫：將主要資料庫的大小上限變更為 4TB 會在次要資料庫中觸發相同的變更。</span><span class="sxs-lookup"><span data-stu-id="87c06-229">Upgrading the primary database in a geo-replication relationship: Changing the maxsize to 4 TB on a primary database triggers the same change on the secondary database.</span></span> <span data-ttu-id="87c06-230">這兩種升級方式都必須成功，在主要資料庫中的變更才會生效。</span><span class="sxs-lookup"><span data-stu-id="87c06-230">Both upgrades must be successful for the change on the primary to take effect.</span></span> <span data-ttu-id="87c06-231">適用於 4TB 選項的區域限制 (請參閱上述內容)。</span><span class="sxs-lookup"><span data-stu-id="87c06-231">Region limitations for the 4TB option apply (see above).</span></span> <span data-ttu-id="87c06-232">如果次要資料庫位於不支援 4TB 大小的區域，就無法升級主要資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-232">If the secondary is in a region that does not support 4 TB, the primary is not upgraded.</span></span>
- <span data-ttu-id="87c06-233">不支援使用匯入/匯出服務載入 P11-4TB/P15-4TB 資料庫的功能。</span><span class="sxs-lookup"><span data-stu-id="87c06-233">Using the Import/Export service for loading P11-4TB/P15-4TB databases is not supported.</span></span> <span data-ttu-id="87c06-234">使用 SqlPackage.exe 來[匯入](sql-database-import.md)和[匯出](sql-database-export.md)資料。</span><span class="sxs-lookup"><span data-stu-id="87c06-234">Use SqlPackage.exe to [import](sql-database-import.md) and [export](sql-database-export.md) data.</span></span>

## <a name="manage-single-database-service-tiers-and-performance-levels-using-the-azure-portal"></a><span data-ttu-id="87c06-235">使用 Azure 入口網站管理單一資料庫服務層和效能等級</span><span class="sxs-lookup"><span data-stu-id="87c06-235">Manage single database service tiers and performance levels using the Azure portal</span></span>

<span data-ttu-id="87c06-236">若要使用 Azure 入口網站設定或變更新的或現有 Azure SQL 資料庫的服務層、效能等級或儲存體數量，請按一下 [定價層 (調整 DTU)] 為您的資料庫開啟 [設定效能] 視窗 - 如下列螢幕擷取畫面所示。</span><span class="sxs-lookup"><span data-stu-id="87c06-236">To set or change the service tier, performance level, or storage amount for a new or existing Azure SQL database using the Azure portal, open the **Configure performance** window for your database by clicking **Pricing tier (scale DTUs)** - as shown in the following screenshot.</span></span> 

- <span data-ttu-id="87c06-237">選取您工作負載的服務層，設定或變更服務層。</span><span class="sxs-lookup"><span data-stu-id="87c06-237">Set or change the service tier by selecting the service tier for your workload.</span></span> 
- <span data-ttu-id="87c06-238">使用 [DTU] 滑桿來設定或變更服務層內的效能等級 (**DTU**)。</span><span class="sxs-lookup"><span data-stu-id="87c06-238">Set or change the performance level (**DTUs**) within a service tier using the **DTU** slider.</span></span>
- <span data-ttu-id="87c06-239">使用 [儲存體] 滑桿來設定或變更效能等級的儲存體數量。</span><span class="sxs-lookup"><span data-stu-id="87c06-239">Set or change the storage amount for the performance level using the **Storage** slider.</span></span> 

  ![設定服務層和效能等級](./media/sql-database-service-tiers/service-tier-performance-level.png)

> [!IMPORTANT]
> <span data-ttu-id="87c06-241">選取 P11 或 P15 服務層時，檢閱[P11 和 P15 資料庫目前的大小上限為 4 TB](sql-database-service-tiers.md#current-limitations-of-p11-and-p15-databases-with-4-tb-maxsize)。</span><span class="sxs-lookup"><span data-stu-id="87c06-241">Review [Current limitations of P11 and P15 databases with 4 TB maxsize](sql-database-service-tiers.md#current-limitations-of-p11-and-p15-databases-with-4-tb-maxsize) when selecting a P11 or P15 service tier.</span></span>
>

## <a name="manage-single-database-service-tiers-and-performance-levels-using-powershell"></a><span data-ttu-id="87c06-242">使用 PowerShell 管理單一資料庫服務層和效能等級</span><span class="sxs-lookup"><span data-stu-id="87c06-242">Manage single database service tiers and performance levels using PowerShell</span></span>

<span data-ttu-id="87c06-243">若要使用 PowerShell 來設定或變更 Azure SQL 資料庫服務層、效能等級和儲存體數量，請使用下列 PowerShell Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="87c06-243">To set or change Azure SQL databases service tiers, performance levels, and storage amount using PowerShell, use the following PowerShell cmdlets.</span></span> <span data-ttu-id="87c06-244">如果您需要安裝或升級 PowerShell，請參閱[安裝 Azure PowerShell 模組](/powershell/azure/install-azurerm-ps)。</span><span class="sxs-lookup"><span data-stu-id="87c06-244">If you need to install or upgrade PowerShell, see [Install Azure PowerShell module](/powershell/azure/install-azurerm-ps).</span></span> 

| <span data-ttu-id="87c06-245">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="87c06-245">Cmdlet</span></span> | <span data-ttu-id="87c06-246">說明</span><span class="sxs-lookup"><span data-stu-id="87c06-246">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="87c06-247">New-AzureRmSqlDatabase</span><span class="sxs-lookup"><span data-stu-id="87c06-247">New-AzureRmSqlDatabase</span></span>](/powershell/module/azurerm.sql/new-azurermsqldatabase)|<span data-ttu-id="87c06-248">建立資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-248">Creates a database</span></span> |
|[<span data-ttu-id="87c06-249">Get-AzureRmSqlDatabase</span><span class="sxs-lookup"><span data-stu-id="87c06-249">Get-AzureRmSqlDatabase</span></span>](/powershell/module/azurerm.sql/get-azurermsqldatabase)|<span data-ttu-id="87c06-250">取得一或多個資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-250">Gets one or more databases</span></span>|
|[<span data-ttu-id="87c06-251">Set-AzureRmSqlDatabase</span><span class="sxs-lookup"><span data-stu-id="87c06-251">Set-AzureRmSqlDatabase</span></span>](/powershell/module/azurerm.sql/set-azurermsqldatabase)|<span data-ttu-id="87c06-252">設定資料庫的屬性，或將現有資料庫移到彈性集區中</span><span class="sxs-lookup"><span data-stu-id="87c06-252">Sets properties for a database, or moves an existing database into an elastic pool</span></span>|


> [!TIP]
> <span data-ttu-id="87c06-253">如需可監視資料庫的效能計量、將其調整為較高的效能等級，並建立其中一個效能計量之警示規則的 PowerShell 範例指令碼，請參閱[使用 PowerShell 來監視和調整單一 SQL 資料庫](scripts/sql-database-monitor-and-scale-database-powershell.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-253">For a PowerShell example script that monitors the performance metrics of a database, scales it to a higher performance level, and creates an alert rule on one of the performance metrics, see [Monitor and scale a single SQL database using PowerShell](scripts/sql-database-monitor-and-scale-database-powershell.md).</span></span>

## <a name="manage-single-database-service-tiers-and-performance-levels-using-the-azure-cli"></a><span data-ttu-id="87c06-254">使用 Azure CLI 管理單一資料庫服務層和效能等級</span><span class="sxs-lookup"><span data-stu-id="87c06-254">Manage single database service tiers and performance levels using the Azure CLI</span></span>

<span data-ttu-id="87c06-255">若要使用 Azure CLI 來設定或變更 Azure SQL 資料庫服務層、效能等級和儲存體數量，請使用下列 [Azure CLI SQL Database](/cli/azure/sql/db) 命令。</span><span class="sxs-lookup"><span data-stu-id="87c06-255">To set or change Azure SQL databases service tiers, performance levels, and storage amount using the Azure CLI, use the following [Azure CLI SQL Database](/cli/azure/sql/db) commands.</span></span> <span data-ttu-id="87c06-256">使用 [Cloud Shell](/azure/cloud-shell/overview) 在您的瀏覽器中執行 CLI，或在 macOS、Linux 或 Windows 中[安裝](/cli/azure/install-azure-cli)。</span><span class="sxs-lookup"><span data-stu-id="87c06-256">Use the [Cloud Shell](/azure/cloud-shell/overview) to run the CLI in your browser, or [install](/cli/azure/install-azure-cli) it on macOS, Linux, or Windows.</span></span> <span data-ttu-id="87c06-257">如需建立和管理 SQL 彈性集區，請參閱[彈性集區](sql-database-elastic-pool.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-257">For creating and managing SQL elastic pools, see [Elastic pools](sql-database-elastic-pool.md).</span></span>

| <span data-ttu-id="87c06-258">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="87c06-258">Cmdlet</span></span> | <span data-ttu-id="87c06-259">說明</span><span class="sxs-lookup"><span data-stu-id="87c06-259">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="87c06-260">az sql db create</span><span class="sxs-lookup"><span data-stu-id="87c06-260">az sql db create</span></span>](/cli/azure/sql/db#create) |<span data-ttu-id="87c06-261">建立資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-261">Creates a database</span></span>|
|[<span data-ttu-id="87c06-262">az sql db list</span><span class="sxs-lookup"><span data-stu-id="87c06-262">az sql db list</span></span>](/cli/azure/sql/db#list)|<span data-ttu-id="87c06-263">列出伺服器中的所有資料庫和資料倉儲，或彈性集區中的所有資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-263">Lists all databases and data warehouses in a server, or all databases in an elastic pool</span></span>|
|[<span data-ttu-id="87c06-264">az sql db list-editions</span><span class="sxs-lookup"><span data-stu-id="87c06-264">az sql db list-editions</span></span>](/cli/azure/sql/db#list-editions)|<span data-ttu-id="87c06-265">列出可用的服務目標與儲存體限制</span><span class="sxs-lookup"><span data-stu-id="87c06-265">Lists available service objectives and storage limits</span></span>|
|[<span data-ttu-id="87c06-266">az sql db list-usages</span><span class="sxs-lookup"><span data-stu-id="87c06-266">az sql db list-usages</span></span>](/cli/azure/sql/db#list-usages)|<span data-ttu-id="87c06-267">傳回資料庫使用方式</span><span class="sxs-lookup"><span data-stu-id="87c06-267">Returns database usages</span></span>|
|[<span data-ttu-id="87c06-268">az sql db show</span><span class="sxs-lookup"><span data-stu-id="87c06-268">az sql db show</span></span>](/cli/azure/sql/db#show)|<span data-ttu-id="87c06-269">取得資料庫或資料倉儲</span><span class="sxs-lookup"><span data-stu-id="87c06-269">Gets a database or data warehouse</span></span>|
|[<span data-ttu-id="87c06-270">az sql db update</span><span class="sxs-lookup"><span data-stu-id="87c06-270">az sql db update</span></span>](/cli/azure/sql/db#update)|<span data-ttu-id="87c06-271">更新資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-271">Updates a database</span></span>|

> [!TIP]
> <span data-ttu-id="87c06-272">如需會在查詢資料庫的大小資訊後將單一 Azure SQL Database 調整為不同效能等級的 Azure CLI 範例指令碼，請參閱[使用 CLI 來監視和調整單一 SQL 資料庫](scripts/sql-database-monitor-and-scale-database-cli.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-272">For an Azure CLI example script that scales a single Azure SQL database to a different performance level after querying the size information of the database, see [Use CLI to monitor and scale a single SQL database](scripts/sql-database-monitor-and-scale-database-cli.md).</span></span>
>

## <a name="manage-single-database-service-tiers-and-performance-levels-using-transact-sql"></a><span data-ttu-id="87c06-273">使用 Transact-SQL 管理單一資料庫服務層和效能等級</span><span class="sxs-lookup"><span data-stu-id="87c06-273">Manage single database service tiers and performance levels using Transact-SQL</span></span>

<span data-ttu-id="87c06-274">若要使用 Transact-SQL 來設定或變更 Azure SQL 資料庫服務層、效能等級和儲存體數量，請使用下列 Transact-SQL 命令。</span><span class="sxs-lookup"><span data-stu-id="87c06-274">To set or change Azure SQL databases service tiers, performance levels, and storage amount with Transact-SQL, use the following T-SQL commands.</span></span> <span data-ttu-id="87c06-275">您可以使用 Azure 入口網站、[SQL Server Management Studio](/sql/ssms/use-sql-server-management-studio)、[Visual Studio Code](https://code.visualstudio.com/docs)，或任何可連線到 Azure SQL Database 伺服器並傳遞 TRANSACT-SQL 命令的其他程式來發出這些命令。</span><span class="sxs-lookup"><span data-stu-id="87c06-275">You can issue these commands using the Azure portal, [SQL Server Management Studio](/sql/ssms/use-sql-server-management-studio), [Visual Studio Code](https://code.visualstudio.com/docs), or any other program that can connect to an Azure SQL Database server and pass Transact-SQL commands.</span></span> 

| <span data-ttu-id="87c06-276">命令</span><span class="sxs-lookup"><span data-stu-id="87c06-276">Command</span></span> | <span data-ttu-id="87c06-277">說明</span><span class="sxs-lookup"><span data-stu-id="87c06-277">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="87c06-278">CREATE DATABASE (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="87c06-278">CREATE DATABASE (Azure SQL Database)</span></span>](/sql/t-sql/statements/create-database-azure-sql-database)|<span data-ttu-id="87c06-279">建立新的資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-279">Creates a new database.</span></span> <span data-ttu-id="87c06-280">您必須連線到 master 資料庫才能建立新的資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-280">You must be connected to the master database to create a new database.</span></span>|
| [<span data-ttu-id="87c06-281">ALTER DATABASE (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="87c06-281">ALTER DATABASE (Azure SQL Database)</span></span>](/sql/t-sql/statements/alter-database-azure-sql-database) |<span data-ttu-id="87c06-282">修改 Azure SQL 資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-282">Modifies an Azure SQL database.</span></span> |
|[<span data-ttu-id="87c06-283">sys.database_service_objectives (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="87c06-283">sys.database_service_objectives (Azure SQL Database)</span></span>](/sql/relational-databases/system-catalog-views/sys-database-service-objectives-azure-sql-database)|<span data-ttu-id="87c06-284">傳回 Azure SQL 資料庫或 Azure SQL 資料倉儲的版本 (服務層)、服務目標 (定價層) 和彈性集區名稱 (如果有的話)。</span><span class="sxs-lookup"><span data-stu-id="87c06-284">Returns the edition (service tier), service objective (pricing tier), and elastic pool name, if any, for an Azure SQL database or an Azure SQL Data Warehouse.</span></span> <span data-ttu-id="87c06-285">若已登入 Azure SQL Database 伺服器中的 master 資料庫，則傳回所有資料庫的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="87c06-285">If logged on to the master database in an Azure SQL Database server, returns information on all databases.</span></span> <span data-ttu-id="87c06-286">對於 Azure SQL 資料倉儲，您必須連線到 master 資料庫。</span><span class="sxs-lookup"><span data-stu-id="87c06-286">For Azure SQL Data Warehouse, you must be connected to the master database.</span></span>|
|[<span data-ttu-id="87c06-287">sys.database_usage (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="87c06-287">sys.database_usage (Azure SQL Database)</span></span>](/sql/relational-databases/system-catalog-views/sys-database-usage-azure-sql-database)|<span data-ttu-id="87c06-288">列出 Azure SQL Database 伺服器上的資料庫數目、類型和持續時間。</span><span class="sxs-lookup"><span data-stu-id="87c06-288">Lists the number, type, and duration of databases on an Azure SQL Database server.</span></span>|

<span data-ttu-id="87c06-289">下列範例示範正在使用 ALTER DATABASE 命令變更 maxsize 的情形︰</span><span class="sxs-lookup"><span data-stu-id="87c06-289">The following example shows the maxsize being changed using the ALTER DATABASE command:</span></span>

 ```sql
ALTER DATABASE <myDatabaseName> 
   MODIFY (MAXSIZE = 4096 GB);
```

## <a name="manage-single-databases-using-the-rest-api"></a><span data-ttu-id="87c06-290">使用 REST API 管理單一資料庫</span><span class="sxs-lookup"><span data-stu-id="87c06-290">Manage single databases using the REST API</span></span>

<span data-ttu-id="87c06-291">若要使用 REST API 來設定或變更 Azure SQL 資料庫服務層、效能等級和儲存體數量，請參閱 [Azure SQL Database REST API](/rest/api/sql/)。</span><span class="sxs-lookup"><span data-stu-id="87c06-291">To set or change Azure SQL databases service tiers, performance levels, and storage amount using the REST API, see [Azure SQL Database REST API](/rest/api/sql/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="87c06-292">後續步驟</span><span class="sxs-lookup"><span data-stu-id="87c06-292">Next steps</span></span>

* <span data-ttu-id="87c06-293">深入了解 [DTU](sql-database-what-is-a-dtu.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-293">Learn more about [DTUs](sql-database-what-is-a-dtu.md).</span></span>
* <span data-ttu-id="87c06-294">若要深入了解如何監視 DTU 使用量，請參閱[監視和效能調整](sql-database-troubleshoot-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="87c06-294">To learn about monitoring DTU usage, see [Monitoring and performance tuning](sql-database-troubleshoot-performance.md).</span></span>

