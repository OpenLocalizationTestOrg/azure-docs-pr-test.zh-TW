---
title: "aaaAzure Active Directory 驗證 Azure SQL （概觀） |Microsoft 文件"
description: "深入了解如何 toouse Azure Active Directory 驗證的 SQL Database 和 SQL 資料倉儲"
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 08/11/2017
ms.author: rickbyh
ms.openlocfilehash: 7a63a162653b65294e11d3fa5bf39c320e742854
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="use-azure-active-directory-authentication-for-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="31d82-103">利用 SQL Database 和 SQL 資料倉儲使用 Azure Active Directory 驗證來驗證</span><span class="sxs-lookup"><span data-stu-id="31d82-103">Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse</span></span>
<span data-ttu-id="31d82-104">Azure Active Directory 驗證是一項機制的連接 tooMicrosoft Azure SQL Database 和[SQL 資料倉儲](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md)使用 Azure Active Directory (Azure AD) 中的身分識別。</span><span class="sxs-lookup"><span data-stu-id="31d82-104">Azure Active Directory authentication is a mechanism of connecting tooMicrosoft Azure SQL Database and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="31d82-105">使用 Azure AD 驗證時，您可以集中管理 hello 的資料庫使用者的身分識別和其他 Microsoft 服務在單一中央位置。</span><span class="sxs-lookup"><span data-stu-id="31d82-105">With Azure AD authentication, you can centrally manage hello identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="31d82-106">中央識別碼管理 toomanage 資料庫使用者提供單一位置，並簡化權限管理。</span><span class="sxs-lookup"><span data-stu-id="31d82-106">Central ID management provides a single place toomanage database users and simplifies permission management.</span></span> <span data-ttu-id="31d82-107">優點 hello 如下：</span><span class="sxs-lookup"><span data-stu-id="31d82-107">Benefits include hello following:</span></span>

* <span data-ttu-id="31d82-108">它提供替代 tooSQL 伺服器驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-108">It provides an alternative tooSQL Server authentication.</span></span>
* <span data-ttu-id="31d82-109">可協助停止使用者身分識別的 hello 的擴散到資料庫伺服器。</span><span class="sxs-lookup"><span data-stu-id="31d82-109">Helps stop hello proliferation of user identities across database servers.</span></span>
* <span data-ttu-id="31d82-110">允許在單一位置的密碼替換</span><span class="sxs-lookup"><span data-stu-id="31d82-110">Allows password rotation in a single place</span></span>
* <span data-ttu-id="31d82-111">客戶可以管理使用外部 (AAD) 群組的資料庫權限。</span><span class="sxs-lookup"><span data-stu-id="31d82-111">Customers can manage database permissions using external (AAD) groups.</span></span>
* <span data-ttu-id="31d82-112">它可以藉由啟用整合式 Windows 驗證和 Azure Active Directory 支援的其他形式驗證來避免儲存密碼。</span><span class="sxs-lookup"><span data-stu-id="31d82-112">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
* <span data-ttu-id="31d82-113">Azure AD 驗證在 hello 資料庫層級，使用自主的資料庫使用者 tooauthenticate 身分識別。</span><span class="sxs-lookup"><span data-stu-id="31d82-113">Azure AD authentication uses contained database users tooauthenticate identities at hello database level.</span></span>
* <span data-ttu-id="31d82-114">Azure AD 支援連接 tooSQL 資料庫應用程式的權杖為基礎的驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-114">Azure AD supports token-based authentication for applications connecting tooSQL Database.</span></span>
* <span data-ttu-id="31d82-115">Azure AD 驗證本機 Azure Active Directory 的 ADFS (網域同盟) 或原生使用者/密碼驗證，而不需進行網域同步處理。</span><span class="sxs-lookup"><span data-stu-id="31d82-115">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>  
* <span data-ttu-id="31d82-116">Azure AD 支援來自 SQL Server Management Studio 的連線，其中使用包含 Multi-Factor Authentication (MFA) 的 Active Directory 通用驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-116">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span>  <span data-ttu-id="31d82-117">MFA 包含增強式驗證功能，其中提供一系列簡易的驗證選項，例如電話、簡訊、含有 PIN 的智慧卡或行動應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="31d82-117">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="31d82-118">如需詳細資訊，請參閱 [適用於與 SQL Database 和 SQL 資料倉儲搭配使用之 Azure AD MFA 的 SSMS 支援](sql-database-ssms-mfa-authentication.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-118">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](sql-database-ssms-mfa-authentication.md).</span></span>  

>  [!NOTE]  
>  <span data-ttu-id="31d82-119">連接的 tooSQL Azure VM 上執行的伺服器不支援使用 Azure Active Directory 帳戶。</span><span class="sxs-lookup"><span data-stu-id="31d82-119">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="31d82-120">請改用 Active Directory 網域帳戶。</span><span class="sxs-lookup"><span data-stu-id="31d82-120">Use a domain Active Directory account instead.</span></span>  

<span data-ttu-id="31d82-121">hello 組態步驟包含下列程序 tooconfigure hello，並使用 Azure Active Directory 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-121">hello configuration steps include hello following procedures tooconfigure and use Azure Active Directory authentication.</span></span>

1. <span data-ttu-id="31d82-122">建立和填入 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="31d82-122">Create and populate Azure AD.</span></span>
2. <span data-ttu-id="31d82-123">選擇性： 產生關聯，或變更 hello 目前與 Azure 訂用帳戶相關聯的 active directory。</span><span class="sxs-lookup"><span data-stu-id="31d82-123">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription.</span></span>
3. <span data-ttu-id="31d82-124">建立 Azure SQL 伺服器或 [Azure SQL 資料倉儲](https://azure.microsoft.com/services/sql-data-warehouse/)的 Azure Active Directory 系統管理員。</span><span class="sxs-lookup"><span data-stu-id="31d82-124">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
4. <span data-ttu-id="31d82-125">設定用戶端電腦。</span><span class="sxs-lookup"><span data-stu-id="31d82-125">Configure your client computers.</span></span>
5. <span data-ttu-id="31d82-126">在對應資料庫 tooAzure AD 身分識別建立自主的資料庫使用者。</span><span class="sxs-lookup"><span data-stu-id="31d82-126">Create contained database users in your database mapped tooAzure AD identities.</span></span>
6. <span data-ttu-id="31d82-127">使用 Azure AD 識別身分，連接 tooyour 資料庫。</span><span class="sxs-lookup"><span data-stu-id="31d82-127">Connect tooyour database by using Azure AD identities.</span></span>

> [!NOTE]
> <span data-ttu-id="31d82-128">toolearn 如何 toocreate 和填入 Azure AD 中，並接著設定 Azure AD 與 Azure SQL Database 和 SQL 資料倉儲，請參閱[設定使用 Azure SQL Database 的 Azure AD](sql-database-aad-authentication-configure.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-128">toolearn how toocreate and populate Azure AD, and then configure Azure AD with Azure SQL Database and SQL Data Warehouse, see [Configure Azure AD with Azure SQL Database](sql-database-aad-authentication-configure.md).</span></span>
>

## <a name="trust-architecture"></a><span data-ttu-id="31d82-129">信認架構</span><span class="sxs-lookup"><span data-stu-id="31d82-129">Trust architecture</span></span>
<span data-ttu-id="31d82-130">hello 下列概要圖摘要說明 hello 方案架構使用 Azure AD 驗證搭配 Azure SQL Database。</span><span class="sxs-lookup"><span data-stu-id="31d82-130">hello following high-level diagram summarizes hello solution architecture of using Azure AD authentication with Azure SQL Database.</span></span> <span data-ttu-id="31d82-131">hello 相同的概念套用 tooSQL 資料倉儲。</span><span class="sxs-lookup"><span data-stu-id="31d82-131">hello same concepts apply tooSQL Data Warehouse.</span></span> <span data-ttu-id="31d82-132">會被視為 toosupport Azure AD 原生使用者密碼，只有 hello 雲端部分和 Azure AD/Azure SQL Database。</span><span class="sxs-lookup"><span data-stu-id="31d82-132">toosupport Azure AD native user password, only hello Cloud portion and Azure AD/Azure SQL Database is considered.</span></span> <span data-ttu-id="31d82-133">toosupport 同盟驗證 （或 Windows 認證的使用者/密碼），無須 hello 通訊與 ADFS 區塊。</span><span class="sxs-lookup"><span data-stu-id="31d82-133">toosupport Federated authentication (or user/password for Windows credentials), hello communication with ADFS block is required.</span></span> <span data-ttu-id="31d82-134">hello 箭號表示通訊路徑。</span><span class="sxs-lookup"><span data-stu-id="31d82-134">hello arrows indicate communication pathways.</span></span>

![aad 驗證圖表][1]

<span data-ttu-id="31d82-136">hello 圖指出 hello 同盟、 信任，以及裝載可讓用戶端所送出語彙基元 tooconnect tooa 資料庫關聯性。</span><span class="sxs-lookup"><span data-stu-id="31d82-136">hello following diagram indicates hello federation, trust, and hosting relationships that allow a client tooconnect tooa database by submitting a token.</span></span> <span data-ttu-id="31d82-137">hello 權杖由 Azure AD 中，驗證，而且信任 hello 資料庫。</span><span class="sxs-lookup"><span data-stu-id="31d82-137">hello token is authenticated by an Azure AD, and is trusted by hello database.</span></span> <span data-ttu-id="31d82-138">客戶 1 可以代表具有原生使用者的 Azure AD 或具有同盟使用者的 Azure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="31d82-138">Customer 1 can represent an Azure Active Directory with native users or an Azure AD with federated users.</span></span> <span data-ttu-id="31d82-139">客戶 2 代表包含已匯入使用者的可能解決方案；在此範例中，來自同盟 Azure Active Directory 且 ADFS 正與 Azure Active Directory 進行同步處理。</span><span class="sxs-lookup"><span data-stu-id="31d82-139">Customer 2 represents a possible solution including imported users; in this example coming from a federated Azure Active Directory with ADFS being synchronized with Azure Active Directory.</span></span> <span data-ttu-id="31d82-140">請務必 toounderstand 存取 tooa 資料庫使用 Azure AD 驗證需要該 hello 裝載訂用帳戶相關聯的 toohello Azure AD。</span><span class="sxs-lookup"><span data-stu-id="31d82-140">It's important toounderstand that access tooa database using Azure AD authentication requires that hello hosting subscription is associated toohello Azure AD.</span></span> <span data-ttu-id="31d82-141">hello 相同訂用帳戶必須是使用的 toocreate hello SQL Server 裝載 hello Azure SQL Database 或 SQL 資料倉儲。</span><span class="sxs-lookup"><span data-stu-id="31d82-141">hello same subscription must be used toocreate hello SQL Server hosting hello Azure SQL Database or SQL Data Warehouse.</span></span>

![訂用帳戶關聯性][2]

## <a name="administrator-structure"></a><span data-ttu-id="31d82-143">系統管理員結構</span><span class="sxs-lookup"><span data-stu-id="31d82-143">Administrator structure</span></span>
<span data-ttu-id="31d82-144">使用 Azure AD 驗證時，有兩個的系統管理員帳戶，以 hello SQL Database 伺服器;hello 原始的 SQL Server 系統管理員 」 和 「 hello Azure AD 系統管理員。</span><span class="sxs-lookup"><span data-stu-id="31d82-144">When using Azure AD authentication, there are two Administrator accounts for hello SQL Database server; hello original SQL Server administrator and hello Azure AD administrator.</span></span> <span data-ttu-id="31d82-145">hello 相同的概念套用 tooSQL 資料倉儲。</span><span class="sxs-lookup"><span data-stu-id="31d82-145">hello same concepts apply tooSQL Data Warehouse.</span></span> <span data-ttu-id="31d82-146">只根據 Azure AD 帳戶的 hello 系統管理員可以在使用者資料庫中建立 hello 第一個 Azure AD 包含資料庫使用者。</span><span class="sxs-lookup"><span data-stu-id="31d82-146">Only hello administrator based on an Azure AD account can create hello first Azure AD contained database user in a user database.</span></span> <span data-ttu-id="31d82-147">hello Azure AD 系統管理員身分登入可以是 Azure AD 使用者或 Azure AD 群組。</span><span class="sxs-lookup"><span data-stu-id="31d82-147">hello Azure AD administrator login can be an Azure AD user or an Azure AD group.</span></span> <span data-ttu-id="31d82-148">群組帳戶 hello 系統管理員時，它可供任何群組的成員，讓 hello SQL Server 執行個體的多個 Azure AD 系統管理員。</span><span class="sxs-lookup"><span data-stu-id="31d82-148">When hello administrator is a group account, it can be used by any group member, enabling multiple Azure AD administrators for hello SQL Server instance.</span></span> <span data-ttu-id="31d82-149">使用系統管理員可讓您 toocentrally 增強管理功能的群組帳戶新增，並在 Azure AD 中移除群組成員，而不變更 hello 使用者或 SQL Database 中的權限。</span><span class="sxs-lookup"><span data-stu-id="31d82-149">Using group account as an administrator enhances manageability by allowing you toocentrally add and remove group members in Azure AD without changing hello users or permissions in SQL Database.</span></span> <span data-ttu-id="31d82-150">一律只能設定一個 Azure AD 系統管理員 (使用者或群組)。</span><span class="sxs-lookup"><span data-stu-id="31d82-150">Only one Azure AD administrator (a user or group) can be configured at any time.</span></span>

![系統管理員結構][3]

## <a name="permissions"></a><span data-ttu-id="31d82-152">權限</span><span class="sxs-lookup"><span data-stu-id="31d82-152">Permissions</span></span>
<span data-ttu-id="31d82-153">toocreate 新使用者，您必須擁有 hello `ALTER ANY USER` hello 資料庫的權限。</span><span class="sxs-lookup"><span data-stu-id="31d82-153">toocreate new users, you must have hello `ALTER ANY USER` permission in hello database.</span></span> <span data-ttu-id="31d82-154">hello`ALTER ANY USER`權限可以授與 tooany 資料庫使用者。</span><span class="sxs-lookup"><span data-stu-id="31d82-154">hello `ALTER ANY USER` permission can be granted tooany database user.</span></span> <span data-ttu-id="31d82-155">hello`ALTER ANY USER`權限也由 hello 伺服器系統管理員帳戶和資料庫使用者與 hello`CONTROL ON DATABASE`或`ALTER ON DATABASE`權限，該資料庫，以及成員 hello`db_owner`資料庫角色。</span><span class="sxs-lookup"><span data-stu-id="31d82-155">hello `ALTER ANY USER` permission is also held by hello server administrator accounts, and database users with hello `CONTROL ON DATABASE` or `ALTER ON DATABASE` permission for that database, and by members of hello `db_owner` database role.</span></span>

<span data-ttu-id="31d82-156">toocreate Azure SQL Database 或 SQL 資料倉儲中的自主的資料庫使用者，您必須連接 toohello 資料庫使用 Azure AD 身分識別。</span><span class="sxs-lookup"><span data-stu-id="31d82-156">toocreate a contained database user in Azure SQL Database or SQL Data Warehouse, you must connect toohello database using an Azure AD identity.</span></span> <span data-ttu-id="31d82-157">toocreate hello 第一個自主的資料庫使用者，您必須使用 Azure AD 管理員 （hello hello 資料庫擁有者） 來連接 toohello 資料庫。</span><span class="sxs-lookup"><span data-stu-id="31d82-157">toocreate hello first contained database user, you must connect toohello database by using an Azure AD administrator (who is hello owner of hello database).</span></span> <span data-ttu-id="31d82-158">如以下步驟 4 和 5 所示。</span><span class="sxs-lookup"><span data-stu-id="31d82-158">This is demonstrated in steps 4 and 5 below.</span></span> <span data-ttu-id="31d82-159">只有進行 hello Azure AD 管理員已針對 Azure SQL Database 或 SQL 資料倉儲的伺服器建立任何 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-159">Any Azure AD authentication is only possible if hello Azure AD admin was created for Azure SQL Database or SQL Data Warehouse server.</span></span> <span data-ttu-id="31d82-160">如果 hello Azure Active Directory 系統管理員已從 hello 伺服器移除，在 SQL Server 內先前建立的現有 Azure Active Directory 使用者無法再連接 toohello 資料庫使用其 Azure Active Directory 認證。</span><span class="sxs-lookup"><span data-stu-id="31d82-160">If hello Azure Active Directory admin was removed from hello server, existing Azure Active Directory users created previously inside SQL Server can no longer connect toohello database using their Azure Active Directory credentials.</span></span>

## <a name="azure-ad-features-and-limitations"></a><span data-ttu-id="31d82-161">Azure AD 功能和限制</span><span class="sxs-lookup"><span data-stu-id="31d82-161">Azure AD features and limitations</span></span>
<span data-ttu-id="31d82-162">hello 下列 Azure AD 的成員可以佈建 Azure SQL server 或 SQL 資料倉儲中：</span><span class="sxs-lookup"><span data-stu-id="31d82-162">hello following members of Azure AD can be provisioned in Azure SQL server or SQL Data Warehouse:</span></span>

* <span data-ttu-id="31d82-163">原生成員： hello 受管理的網域或位於客戶網域中建立 Azure AD 中的成員。</span><span class="sxs-lookup"><span data-stu-id="31d82-163">Native members: A member created in Azure AD in hello managed domain or in a customer domain.</span></span> <span data-ttu-id="31d82-164">如需詳細資訊，請參閱[加入您自己的網域名稱 tooAzure AD](../active-directory/active-directory-add-domain.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-164">For more information, see [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md).</span></span>
* <span data-ttu-id="31d82-165">同盟網域成員：利用同盟網域在 Azure AD 中建立的成員。</span><span class="sxs-lookup"><span data-stu-id="31d82-165">Federated domain members: A member created in Azure AD with a federated domain.</span></span> <span data-ttu-id="31d82-166">如需詳細資訊，請參閱 [Microsoft Azure 現在支援 Windows Server Active Directory 的同盟](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/)。</span><span class="sxs-lookup"><span data-stu-id="31d82-166">For more information, see [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/).</span></span>
* <span data-ttu-id="31d82-167">從其他 Azure AD 匯入，且為原生網域或同盟網域成員者。</span><span class="sxs-lookup"><span data-stu-id="31d82-167">Imported members from other Azure AD's who are native or federated domain members.</span></span>
* <span data-ttu-id="31d82-168">建立 Active Directory 群組作為安全性群組。</span><span class="sxs-lookup"><span data-stu-id="31d82-168">Active Directory groups created as security groups.</span></span>

<span data-ttu-id="31d82-169">不支援 Microsoft 帳戶 (例如 outlook.com、hotmail.com、live.com) 或其他來賓帳戶 (例如 gmail.com、yahoo.com)。</span><span class="sxs-lookup"><span data-stu-id="31d82-169">Microsoft accounts (for example outlook.com, hotmail.com, live.com) or other guest accounts (for example gmail.com, yahoo.com) are not supported.</span></span> <span data-ttu-id="31d82-170">如果可以登入太[https://login.live.com](https://login.live.com)使用 hello 帳戶和密碼，然後您使用 Microsoft 帳戶，不支援的 Azure SQL Database 或 Azure SQL 資料倉儲的 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-170">If you can log in too[https://login.live.com](https://login.live.com) using hello account and password, then you are using a Microsoft account, which is not supported for Azure AD authentication for Azure SQL Database or Azure SQL Data Warehouse.</span></span>

## <a name="connecting-using-azure-ad-identities"></a><span data-ttu-id="31d82-171">使用 Azure AD 身分識別連接</span><span class="sxs-lookup"><span data-stu-id="31d82-171">Connecting using Azure AD identities</span></span>

<span data-ttu-id="31d82-172">Azure Active Directory 驗證支援下列方法，使用 Azure AD 身分識別連接 tooa 資料庫的 hello:</span><span class="sxs-lookup"><span data-stu-id="31d82-172">Azure Active Directory authentication supports hello following methods of connecting tooa database using Azure AD identities:</span></span>

* <span data-ttu-id="31d82-173">使用整合式 Windows 驗證</span><span class="sxs-lookup"><span data-stu-id="31d82-173">Using integrated Windows authentication</span></span>
* <span data-ttu-id="31d82-174">使用 Azure AD 主體名稱和密碼</span><span class="sxs-lookup"><span data-stu-id="31d82-174">Using an Azure AD principal name and a password</span></span>
* <span data-ttu-id="31d82-175">使用應用程式權杖驗證</span><span class="sxs-lookup"><span data-stu-id="31d82-175">Using Application token authentication</span></span>

### <a name="additional-considerations"></a><span data-ttu-id="31d82-176">其他考量</span><span class="sxs-lookup"><span data-stu-id="31d82-176">Additional considerations</span></span>

* <span data-ttu-id="31d82-177">tooenhance 管理性，我們建議您佈建專用的 Azure AD 以系統管理員群組。</span><span class="sxs-lookup"><span data-stu-id="31d82-177">tooenhance manageability, we recommended you provision a dedicated Azure AD group as an administrator.</span></span>   
* <span data-ttu-id="31d82-178">一個 Azure SQL 伺服器或 Azure SQL 資料倉儲一律只能設定一個 Azure AD 系統管理員 (使用者或群組)。</span><span class="sxs-lookup"><span data-stu-id="31d82-178">Only one Azure AD administrator (a user or group) can be configured for an Azure SQL server or Azure SQL Data Warehouse at any time.</span></span>   
* <span data-ttu-id="31d82-179">只有 SQL Server 的 Azure AD 系統管理員可以一開始連接 toohello Azure SQL server 或 Azure SQL 資料倉儲使用的 Azure Active Directory 帳戶。</span><span class="sxs-lookup"><span data-stu-id="31d82-179">Only an Azure AD administrator for SQL Server can initially connect toohello Azure SQL server or Azure SQL Data Warehouse using an Azure Active Directory account.</span></span> <span data-ttu-id="31d82-180">hello Active Directory 系統管理員可以設定後續的 Azure AD 資料庫使用者。</span><span class="sxs-lookup"><span data-stu-id="31d82-180">hello Active Directory administrator can configure subsequent Azure AD database users.</span></span>   
* <span data-ttu-id="31d82-181">我們建議您設定 hello 連接逾時 too30 秒數。</span><span class="sxs-lookup"><span data-stu-id="31d82-181">We recommend setting hello connection timeout too30 seconds.</span></span>   
* <span data-ttu-id="31d82-182">SQL Server 2016 Management Studio 和 SQL Server Data Tools for Visual Studio 2015 (版本 14.0.60311.1 (2016 年 4 月) 或更新版本) 支援 Azure Active Directory 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-182">SQL Server 2016 Management Studio and SQL Server Data Tools for Visual Studio 2015 (version 14.0.60311.1April 2016 or later) support Azure Active Directory authentication.</span></span> <span data-ttu-id="31d82-183">(Azure AD 驗證受到 hello **.NET Framework Data Provider for SqlServer**; 至少版本.NET Framework 4.6)。</span><span class="sxs-lookup"><span data-stu-id="31d82-183">(Azure AD authentication is supported by hello **.NET Framework Data Provider for SqlServer**; at least version .NET Framework 4.6).</span></span> <span data-ttu-id="31d82-184">因此 hello 最新版本的這些工具和資料層應用程式 （DAC 和.bacpac） 可以使用 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-184">Therefore hello newest versions of these tools and data-tier applications (DAC and .bacpac) can use Azure AD authentication.</span></span>   
* <span data-ttu-id="31d82-185">[ODBC 13.1 版](https://www.microsoft.com/download/details.aspx?id=53339)支援 Azure Active Directory 驗證，不過，`bcp.exe` 無法使用 Azure Active Directory 驗證進行連線，因為它們使用較舊的 ODBC 提供者。</span><span class="sxs-lookup"><span data-stu-id="31d82-185">[ODBC version 13.1](https://www.microsoft.com/download/details.aspx?id=53339) supports Azure Active Directory authentication however `bcp.exe` cannot connect using Azure Active Directory authentication because it uses an older ODBC provider.</span></span>   
* <span data-ttu-id="31d82-186">`sqlcmd`支援 Azure Active Directory 驗證版開始為可從 hello 13.1[下載中心](http://go.microsoft.com/fwlink/?LinkID=825643)。</span><span class="sxs-lookup"><span data-stu-id="31d82-186">`sqlcmd` supports Azure Active Directory authentication beginning with version 13.1 available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>   
* <span data-ttu-id="31d82-187">至少需要 SQL Server Data Tools for Visual Studio 2015 hello 2016 年 4 月版的 hello Data Tools （版本 14.0.60311.1）。</span><span class="sxs-lookup"><span data-stu-id="31d82-187">SQL Server Data Tools for Visual Studio 2015 requires at least hello April 2016 version of hello Data Tools (version 14.0.60311.1).</span></span> <span data-ttu-id="31d82-188">Azure AD 使用者目前不會顯示在 SSDT 物件總管中。</span><span class="sxs-lookup"><span data-stu-id="31d82-188">Currently Azure AD users are not shown in SSDT Object Explorer.</span></span> <span data-ttu-id="31d82-189">因應措施，檢視中的 hello 使用者[sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx)。</span><span class="sxs-lookup"><span data-stu-id="31d82-189">As a workaround, view hello users in [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span>   
* <span data-ttu-id="31d82-190">[Microsoft JDBC Driver 6.0 for SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) 支援 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-190">[Microsoft JDBC Driver 6.0 for SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) supports Azure AD authentication.</span></span> <span data-ttu-id="31d82-191">此外，請參閱[設定 hello 連接屬性](https://msdn.microsoft.com/library/ms378988.aspx)。</span><span class="sxs-lookup"><span data-stu-id="31d82-191">Also, see [Setting hello Connection Properties](https://msdn.microsoft.com/library/ms378988.aspx).</span></span>   
* <span data-ttu-id="31d82-192">PolyBase 無法使用 Azure AD 驗證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-192">PolyBase cannot authenticate by using Azure AD authentication.</span></span>   
* <span data-ttu-id="31d82-193">Hello Azure 入口網站支援 azure AD 驗證 SQL database**匯入資料庫**和**匯出資料庫**刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="31d82-193">Azure AD authentication is supported for SQL Database by hello Azure portal **Import Database** and **Export Database** blades.</span></span> <span data-ttu-id="31d82-194">從 hello PowerShell 命令也支援匯入和匯出使用 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-194">Import and export using Azure AD authentication is also supported from hello PowerShell command.</span></span>   
* <span data-ttu-id="31d82-195">SQL Database 和 SQL 資料倉儲 (使用 CLI) 支援 Azure AD 驗證。</span><span class="sxs-lookup"><span data-stu-id="31d82-195">Azure AD authentication is supported for SQL Database and SQL Data Warehouse by use CLI.</span></span> <span data-ttu-id="31d82-196">如需詳細資訊，請參閱[使用 SQL Database 或 SQL 資料倉儲設定和管理 Azure Active Directory 驗證](sql-database-aad-authentication-configure.md)和 [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server)。</span><span class="sxs-lookup"><span data-stu-id="31d82-196">For more information, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md) and [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span></span>

## <a name="next-steps"></a><span data-ttu-id="31d82-197">後續步驟</span><span class="sxs-lookup"><span data-stu-id="31d82-197">Next steps</span></span>
- <span data-ttu-id="31d82-198">toolearn 如何 toocreate 和填入 Azure AD 中，並接著設定 Azure AD 與 Azure SQL Database 或 Azure SQL 資料倉儲，請參閱[設定和管理 Azure Active Directory 驗證與 SQL Database 或 SQL 資料倉儲](sql-database-aad-authentication-configure.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-198">toolearn how toocreate and populate Azure AD, and then configure Azure AD with Azure SQL Database or Azure SQL Data Warehouse, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md).</span></span>
- <span data-ttu-id="31d82-199">如需 SQL Database 中存取權和控制權的概觀，請參閱 [SQL Database 的存取權和控制權](sql-database-control-access.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-199">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="31d82-200">如需 SQL Database 中登入、使用者和資料庫角色的概觀，請參閱[登入、使用者和資料庫角色](sql-database-manage-logins.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-200">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="31d82-201">如需資料庫主體的詳細資訊，請參閱[主體](https://msdn.microsoft.com/library/ms181127.aspx)。</span><span class="sxs-lookup"><span data-stu-id="31d82-201">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="31d82-202">如需資料庫角色的詳細資訊，請參閱[資料庫角色](https://msdn.microsoft.com/library/ms189121.aspx)。</span><span class="sxs-lookup"><span data-stu-id="31d82-202">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="31d82-203">如需 SQL Database 中防火牆規則的詳細資訊，請參閱 [SQL Database 防火牆規則](sql-database-firewall-configure.md)。</span><span class="sxs-lookup"><span data-stu-id="31d82-203">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[9]: ./media/sql-database-aad-authentication/9ad-settings.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/11connect-using-int-auth.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db.png

