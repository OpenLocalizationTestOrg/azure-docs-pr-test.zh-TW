---
title: "aaaDesign 災害復原解決方案 Azure SQL Database |Microsoft 文件"
description: "深入了解如何 toodesign 選擇 hello 右容錯移轉模式的嚴重損壞修復您的雲端方案。"
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="f6119-103">使用 SQL Database 彈性集區之應用程式的災害復原策略</span><span class="sxs-lookup"><span data-stu-id="f6119-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="f6119-104">Hello 年來，我們已經學會，雲端服務不容易發生災難事件。</span><span class="sxs-lookup"><span data-stu-id="f6119-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="f6119-105">這些事件發生時，SQL Database 會提供數個功能 tooprovide hello 商務持續性的應用程式。</span><span class="sxs-lookup"><span data-stu-id="f6119-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="f6119-106">[彈性集區](sql-database-elastic-pool.md)單一資料庫支援 hello 和相同類型的災害復原功能。</span><span class="sxs-lookup"><span data-stu-id="f6119-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="f6119-107">本文說明利用這些 SQL Database 商務持續性功能之彈性集區的數種 DR 策略。</span><span class="sxs-lookup"><span data-stu-id="f6119-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="f6119-108">這篇文章會使用下列標準 SaaS ISV 應用程式模式中的 hello:</span><span class="sxs-lookup"><span data-stu-id="f6119-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="f6119-109"><i>現代化雲端架構 web 應用程式佈建一個 SQL database 每位使用者。hello ISV 中有許多客戶，因此會使用許多資料庫，也就是租用戶資料庫的資料庫。因為 hello 租用戶資料庫通常會有無法預期的活動模式、 hello ISV 使用彈性集區 toomake hello 資料庫成本非常可預測一段很長的時間。當 hello 使用者活動升高 hello 彈性集區也可以簡化 hello 效能管理。此外 toohello 租用戶資料庫 hello 應用程式也會使用多個資料庫 toomanage 使用者設定檔安全性、 收集使用量模式等等。Hello 個別租用戶的可用性不會影響整體 hello 應用程式的可用性。不過，hello 管理資料庫的可用性與效能至關重要 hello 應用程式的函式，而如果 hello 管理資料庫會離線 hello 整個應用程式已離線。</i></span><span class="sxs-lookup"><span data-stu-id="f6119-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="f6119-110">這篇文章討論涵蓋範圍的案例，從成本機密啟動應用程式 tooones 具有嚴格的可用性需求的 DR 策略。</span><span class="sxs-lookup"><span data-stu-id="f6119-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="f6119-111">案例 1.</span><span class="sxs-lookup"><span data-stu-id="f6119-111">Scenario 1.</span></span> <span data-ttu-id="f6119-112">成本導向創業</span><span class="sxs-lookup"><span data-stu-id="f6119-112">Cost sensitive startup</span></span>
<span data-ttu-id="f6119-113"><i>我想要創業，而且成本極為有限。我想 toosimplify 部署及管理的 hello 應用程式，而且可以個別客戶有有限的 SLA。但是，我想 tooensure hello 應用程式，因為整個絕不會是離線。</i></span><span class="sxs-lookup"><span data-stu-id="f6119-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="f6119-114">toosatisfy hello 簡化需求，將所有租用戶資料庫部署到 hello 您選擇的 Azure 區域中的一個彈性集區，並部署管理資料庫進行地理複寫單一資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="f6119-115">租用戶的 hello 災害復原，使用 「 地理還原，會出現在無需額外成本。</span><span class="sxs-lookup"><span data-stu-id="f6119-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="f6119-116">tooensure hello 可用性 hello 管理資料庫，地理複寫它們 tooanother 區域，使用自動容錯移轉群組 （在預覽） （步驟 1）。</span><span class="sxs-lookup"><span data-stu-id="f6119-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="f6119-117">在此案例中的 hello 災害復原設定 hello 持續成本為等於 toohello hello 的次要資料庫的總成本。</span><span class="sxs-lookup"><span data-stu-id="f6119-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="f6119-118">在 hello 下圖說明此組態。</span><span class="sxs-lookup"><span data-stu-id="f6119-118">This configuration is illustrated on hello next diagram.</span></span>

![圖 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="f6119-120">如果發生中斷 hello 主要區域中，hello 復原步驟 toobring hello 下圖說明您的應用程式上線。</span><span class="sxs-lookup"><span data-stu-id="f6119-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="f6119-121">hello 容錯移轉群組會起始自動容錯移轉的 hello 管理資料庫 toohello DR 區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="f6119-122">hello 應用程式會自動重新連線的 toohello 新的主要和所有新帳戶和租用戶資料庫建立 hello DR 區域中。</span><span class="sxs-lookup"><span data-stu-id="f6119-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="f6119-123">hello 現有客戶會看到其資料暫時無法使用。</span><span class="sxs-lookup"><span data-stu-id="f6119-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="f6119-124">建立 hello 彈性集區以 hello hello 原始集區 (2) 相同的組態。</span><span class="sxs-lookup"><span data-stu-id="f6119-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="f6119-125">使用地理還原 toocreate 份 hello 租用戶資料庫 (3)。</span><span class="sxs-lookup"><span data-stu-id="f6119-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="f6119-126">您可以考慮觸發 hello 個別還原 hello 使用者連接，或使用某些其他應用程式特定優先順序的架構。</span><span class="sxs-lookup"><span data-stu-id="f6119-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="f6119-127">此時您的應用程式上線在 hello DR 區域中，但有些客戶存取其資料時，遇到延遲。</span><span class="sxs-lookup"><span data-stu-id="f6119-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![圖 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="f6119-129">如果暫存 hello 中斷，很可能該 hello 主要地區會復原 Azure 之前 hello DR 區域中所有的 hello 資料庫還原已完成。</span><span class="sxs-lookup"><span data-stu-id="f6119-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="f6119-130">在此情況下，協調移動 hello 應用程式後 toohello 主要區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="f6119-131">hello 程序需要 hello hello 下一個圖表上所述的步驟。</span><span class="sxs-lookup"><span data-stu-id="f6119-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="f6119-132">取消所有未處理的異地還原要求。</span><span class="sxs-lookup"><span data-stu-id="f6119-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="f6119-133">容錯移轉 hello 管理資料庫 toohello 主要區域 (5)。</span><span class="sxs-lookup"><span data-stu-id="f6119-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="f6119-134">Hello 區域復原後，hello 舊主要複本會自動成為次要資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="f6119-135">現在，它們會再次切換角色。</span><span class="sxs-lookup"><span data-stu-id="f6119-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="f6119-136">變更 hello 應用程式的連接字串 toopoint 後 toohello 主要區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="f6119-137">現在所有新帳戶和租用戶資料庫建立 hello 主要區域中。</span><span class="sxs-lookup"><span data-stu-id="f6119-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="f6119-138">部分現有客戶會發現其資料暫時無法使用。</span><span class="sxs-lookup"><span data-stu-id="f6119-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="f6119-139">在 hello DR 集區僅 tooread tooensure hello DR 區域 (6) 中無法修改這些設定的所有資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="f6119-140">Hello hello 復原之後已經變更的 DR 集區中每個資料庫，重新命名或刪除 hello hello 主要集區 (7) 中對應的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="f6119-141">複製 hello 更新 hello DR 集區 toohello 主要集區 (8) 的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="f6119-142">刪除 hello DR 集區 (9)</span><span class="sxs-lookup"><span data-stu-id="f6119-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="f6119-143">此時您的應用程式中所有租用戶資料庫可用 hello 主要集區中的 hello 主要區域為線上。</span><span class="sxs-lookup"><span data-stu-id="f6119-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![圖 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="f6119-145">hello 金鑰**獲益**是此策略就是資料層備援性低進行中的成本。</span><span class="sxs-lookup"><span data-stu-id="f6119-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="f6119-146">Hello 與任何應用程式重寫並不需要額外成本，SQL Database 服務會自動執行備份。</span><span class="sxs-lookup"><span data-stu-id="f6119-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="f6119-147">還原 hello 彈性資料庫時，才造成 hello 成本。</span><span class="sxs-lookup"><span data-stu-id="f6119-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="f6119-148">hello**取捨**是 hello 完成資料庫復原的所有租用戶要花很長的時間。</span><span class="sxs-lookup"><span data-stu-id="f6119-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="f6119-149">hello 的時間長度取決於 hello 總數還原您起始 hello DR 的區域和租用戶資料庫 hello 的整體大小。</span><span class="sxs-lookup"><span data-stu-id="f6119-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="f6119-150">即使您設定一些租用戶還原優先順序透過其他人時，您就會競爭以所有 hello 起始其他還原 hello 相同的區域為 hello 服務 arbitrates 並節流 toominimize hello hello 現有客戶的資料庫的整體影響。</span><span class="sxs-lookup"><span data-stu-id="f6119-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="f6119-151">此外之前建立 hello 新彈性集區 hello DR 區域中的,，無法啟動 hello hello 租用戶資料庫復原。</span><span class="sxs-lookup"><span data-stu-id="f6119-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="f6119-152">案例 2.</span><span class="sxs-lookup"><span data-stu-id="f6119-152">Scenario 2.</span></span> <span data-ttu-id="f6119-153">具有分層服務的成熟應用程式</span><span class="sxs-lookup"><span data-stu-id="f6119-153">Mature application with tiered service</span></span>
<span data-ttu-id="f6119-154"><i>我已熟悉試用版客戶和付費客戶具有分層服務提供項目和不同 SLA 的 SaaS 應用程式。Hello 試用的客戶，我有成本盡可能 tooreduce hello。試用的客戶可以接受的停機時間，但我想 tooreduce 的可能性。Hello 付費客戶，任何停機時間是飛行風險。所以我想確定付費客戶一定都能 tooaccess toomake 其資料。</i></span><span class="sxs-lookup"><span data-stu-id="f6119-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="f6119-155">此案例中，個別 hello 試用租用戶從 toosupport 支付租用戶的將它們放入個別的彈性集區。</span><span class="sxs-lookup"><span data-stu-id="f6119-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="f6119-156">hello 試用的客戶會有較低的 eDTU，每個租用戶和較低的 SLA，較長的復原時間。</span><span class="sxs-lookup"><span data-stu-id="f6119-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="f6119-157">hello 付費客戶是每個租用戶和更高的 SLA 更高的 eDTU 與集區中。</span><span class="sxs-lookup"><span data-stu-id="f6119-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="f6119-158">tooguarantee hello 最低復原時間，hello 付費客戶的租用戶資料庫的地理複寫。</span><span class="sxs-lookup"><span data-stu-id="f6119-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="f6119-159">在 hello 下圖說明此組態。</span><span class="sxs-lookup"><span data-stu-id="f6119-159">This configuration is illustrated on hello next diagram.</span></span> 

![圖 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="f6119-161">如同 hello 第一個案例中，因此您對它 (1) 使用單一的地理複寫資料庫，會相當啟用 hello 管理資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="f6119-162">這可確保新的客戶訂用帳戶、 設定檔更新和其他管理操作 hello 可預測的效能。</span><span class="sxs-lookup"><span data-stu-id="f6119-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="f6119-163">hello hello 混雜的 hello 管理資料庫所在的區域是 hello 主要區域，而 hello 的 hello 管理資料庫的次要資料庫所在的 hello 區域是 hello DR 區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="f6119-164">hello 付費客戶租用戶資料庫使用中的資料庫中有 「 付費 」 集區佈建 hello 主要區域中的 hello。</span><span class="sxs-lookup"><span data-stu-id="f6119-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="f6119-165">佈建第二個集區以相同的名稱，在 hello DR 區域中的 hello。</span><span class="sxs-lookup"><span data-stu-id="f6119-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="f6119-166">每個租用戶是地理複寫 toohello 次要集區 (2)。</span><span class="sxs-lookup"><span data-stu-id="f6119-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="f6119-167">這會使用容錯移轉來快速復原所有租用戶資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="f6119-168">如果發生中斷 hello 主要區域，hello 復原步驟 toobring 中您的應用程式上線 hello 下圖所示：</span><span class="sxs-lookup"><span data-stu-id="f6119-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![圖 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="f6119-170">立即容錯移轉 hello 管理資料庫 toohello DR 區域 (3)。</span><span class="sxs-lookup"><span data-stu-id="f6119-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="f6119-171">變更 hello 應用程式的連接字串 toopoint toohello DR 地區。</span><span class="sxs-lookup"><span data-stu-id="f6119-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="f6119-172">現在所有新帳戶和租用戶資料庫建立 hello DR 區域中。</span><span class="sxs-lookup"><span data-stu-id="f6119-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="f6119-173">hello 現有試用的客戶會看到其資料暫時無法使用。</span><span class="sxs-lookup"><span data-stu-id="f6119-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="f6119-174">容錯移轉 hello 付費 hello DR 區域 tooimmediately 中的租用戶資料庫 toohello 集區還原其可用性 (4)。</span><span class="sxs-lookup"><span data-stu-id="f6119-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="f6119-175">由於 hello 容錯移轉是快速的中繼資料的層級變更，請考慮的最佳化 hello 個別的容錯移轉，依需求觸發 hello 使用者連接。</span><span class="sxs-lookup"><span data-stu-id="f6119-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="f6119-176">如果因為 hello 次要資料庫僅需要的 hello 容量 tooprocess hello 變更記錄時，它們是次要資料庫，立即增加 hello 集區容量低於主要 hello 您的第二個集區 eDTU 大小，而現在 tooaccommodate hello 完整所有租用戶 (5) 的工作負載。</span><span class="sxs-lookup"><span data-stu-id="f6119-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="f6119-177">建立 hello 新彈性集區以相同的名稱和 hello 相同的 hello hello 試用客戶的資料庫 (6) 的 hello DR 區域中的組態。</span><span class="sxs-lookup"><span data-stu-id="f6119-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="f6119-178">Hello 試用客戶的集區建立之後，使用地理還原 toorestore hello 個別的試用版租用戶資料庫到 hello 新集區 (7)。</span><span class="sxs-lookup"><span data-stu-id="f6119-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="f6119-179">請考慮觸發 hello 個別還原 hello 使用者連接，或使用某些其他應用程式特定優先順序的架構。</span><span class="sxs-lookup"><span data-stu-id="f6119-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="f6119-180">此時您的應用程式在 hello DR 區域中已回復連線。</span><span class="sxs-lookup"><span data-stu-id="f6119-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="f6119-181">所有的付費客戶預設具有存取 tootheir 資料時 hello 試用的客戶時存取其資料時遇到延遲。</span><span class="sxs-lookup"><span data-stu-id="f6119-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="f6119-182">當復原 Azure hello 主要區域*之後*還原 hello hello DR 區域，您可以繼續執行在該區域中的 hello 應用程式中的應用程式，或者您可以決定 toofail 後 toohello 主要區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="f6119-183">如果復原 hello 主要區域*之前*hello 容錯移轉程序完成，立即失敗後請考慮。</span><span class="sxs-lookup"><span data-stu-id="f6119-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="f6119-184">hello 容錯回復採用 hello hello 下圖中所述的步驟：</span><span class="sxs-lookup"><span data-stu-id="f6119-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![圖 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="f6119-186">取消所有未處理的異地還原要求。</span><span class="sxs-lookup"><span data-stu-id="f6119-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="f6119-187">容錯移轉 hello 管理資料庫 (8)。</span><span class="sxs-lookup"><span data-stu-id="f6119-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="f6119-188">Hello 區域復原後，hello 舊的主要自動成為次要 hello。</span><span class="sxs-lookup"><span data-stu-id="f6119-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="f6119-189">現在它會變成 hello 主要一次。</span><span class="sxs-lookup"><span data-stu-id="f6119-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="f6119-190">容錯移轉 hello 付費的租用戶資料庫 (9)。</span><span class="sxs-lookup"><span data-stu-id="f6119-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="f6119-191">同樣地，hello 區域復原後，hello 舊主要複本會自動成為 hello 次要資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="f6119-192">現在就會將 hello 主要複本會變成一次。</span><span class="sxs-lookup"><span data-stu-id="f6119-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="f6119-193">設定 hello 還原試用 hello DR 區域僅 tooread (10) 中已變更的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="f6119-194">Hello 試用的客戶 DR 的集區中變更過 hello 復原每個資料庫，重新命名或刪除 hello hello 試用的客戶主要集區 (11) 中對應的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="f6119-195">複製 hello 更新 hello DR 集區 toohello 主要集區 (12) 的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="f6119-196">刪除 hello DR 集區 (13)</span><span class="sxs-lookup"><span data-stu-id="f6119-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="f6119-197">hello 容錯移轉作業是非同步。</span><span class="sxs-lookup"><span data-stu-id="f6119-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="f6119-198">toominimize hello 的復原時間很重要，您至少 20 個資料庫的批次執行 hello 租用戶資料庫的容錯移轉命令。</span><span class="sxs-lookup"><span data-stu-id="f6119-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="f6119-199">hello 金鑰**獲益**是此策略，是它提供 hello 最高 SLA 的付費客戶 hello。</span><span class="sxs-lookup"><span data-stu-id="f6119-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="f6119-200">它也會保證 hello 新試用已解除封鎖，因為建立 hello 試用 DR 集區。</span><span class="sxs-lookup"><span data-stu-id="f6119-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="f6119-201">hello**取捨**此安裝程式會增加 hello 的總成本 hello 租用戶資料庫 hello 成本 hello 次要 DR 集區的付費客戶。</span><span class="sxs-lookup"><span data-stu-id="f6119-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="f6119-202">此外，如果 hello 次要集區有不同的大小，hello 付費客戶遇到較低的效能在容錯移轉之後 hello hello DR 區域中的集區升級直到完成為止。</span><span class="sxs-lookup"><span data-stu-id="f6119-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="f6119-203">案例 3.</span><span class="sxs-lookup"><span data-stu-id="f6119-203">Scenario 3.</span></span> <span data-ttu-id="f6119-204">具有分層服務的分散式應用程式</span><span class="sxs-lookup"><span data-stu-id="f6119-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="f6119-205"><i>我已有完善且提供分層服務的 SaaS 應用程式。我想 toooffer 非常主動的 SLA toomy 付費客戶，而且即使短暫中斷可能會造成客戶不滿，因為發生中斷時，將 hello 風險的影響降至最低。請務必付款客戶該 hello 永遠可以存取其資料。hello 試用可用而且 hello 試用期間，不提供 SLA。</i></span><span class="sxs-lookup"><span data-stu-id="f6119-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="f6119-206">toosupport 這種情況下，使用三個個別彈性集區。</span><span class="sxs-lookup"><span data-stu-id="f6119-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="f6119-207">佈建兩個相同大小集區中兩個不同的區域 toocontain hello 每個資料庫的高 Edtu 付費客戶的租用戶資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="f6119-208">包含 hello 試用租用戶 hello 第三個集區可以有較低的 Edtu，每個資料庫，並佈建中的其中一個 hello 兩個區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="f6119-209">tooguarantee hello 最低復原時間的中斷期間，hello 付費客戶的租用戶資料庫的 50%的 hello 主要資料庫中的 hello 兩個區域的每個地理複寫。</span><span class="sxs-lookup"><span data-stu-id="f6119-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="f6119-210">同樣地，每個區域有 50%的 hello 次要資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="f6119-211">如此一來，如果區域已離線，只達 50%的 hello 付費客戶的資料庫受到影響，並對 toofail。</span><span class="sxs-lookup"><span data-stu-id="f6119-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="f6119-212">hello 其他資料庫仍維持不變。</span><span class="sxs-lookup"><span data-stu-id="f6119-212">hello other databases remain intact.</span></span> <span data-ttu-id="f6119-213">在 hello 下列圖表說明此組態：</span><span class="sxs-lookup"><span data-stu-id="f6119-213">This configuration is illustrated in hello following diagram:</span></span>

![圖 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="f6119-215">相當 active hello 管理資料庫是在 hello 前一個案例中，因此將其設定為單一地理區域複寫資料庫 (1)。</span><span class="sxs-lookup"><span data-stu-id="f6119-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="f6119-216">這可確保 hello hello 新客戶訂用帳戶、 設定檔更新和其他管理作業的可預測的效能。</span><span class="sxs-lookup"><span data-stu-id="f6119-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="f6119-217">區域 A 與 hello hello 管理資料庫的主要區域，並用 hello 管理資料庫的復原 hello 區域 B。</span><span class="sxs-lookup"><span data-stu-id="f6119-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="f6119-218">hello 付費客戶的租用戶資料庫也是地理複寫，但次要複本與主要複本會分割成區域 A 與區域 B (2)。</span><span class="sxs-lookup"><span data-stu-id="f6119-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="f6119-219">如此一來，受到 hello 中斷 hello 租用戶主要資料庫可以容錯移轉 toohello 其他區也可供使用。</span><span class="sxs-lookup"><span data-stu-id="f6119-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="f6119-220">hello 另一半 hello 租用戶資料庫都不會影響所有。</span><span class="sxs-lookup"><span data-stu-id="f6119-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="f6119-221">hello 下圖說明 hello 復原步驟 tootake，如果發生中斷在區域 a</span><span class="sxs-lookup"><span data-stu-id="f6119-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![圖 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="f6119-223">立即容錯移轉 hello 管理資料庫 tooregion B (3)。</span><span class="sxs-lookup"><span data-stu-id="f6119-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="f6119-224">變更 hello 應用程式的連接字串 toopoint toohello 管理資料庫中區域 b 修改 hello 管理資料庫 toomake 確定 hello 新帳戶和租用戶資料庫會建立區域 B 中，而且會那里尋找 hello 現有的租用戶資料庫做為區域。</span><span class="sxs-lookup"><span data-stu-id="f6119-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="f6119-225">hello 現有試用的客戶會看到其資料暫時無法使用。</span><span class="sxs-lookup"><span data-stu-id="f6119-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="f6119-226">容錯移轉 hello 付費的租用戶資料庫 toopool 2 區域 B tooimmediately 還原其可用性 (4)。</span><span class="sxs-lookup"><span data-stu-id="f6119-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="f6119-227">由於 hello 容錯移轉是快速的中繼資料的層級變更，您可以考慮的最佳化 hello 個別的容錯移轉，依需求觸發 hello 使用者連接。</span><span class="sxs-lookup"><span data-stu-id="f6119-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="f6119-228">由於集區 2 包含只有主要資料庫，現在 hello hello 的增加集區中的總工作負載，而且可以立即增加其 eDTU 大小 (5)。</span><span class="sxs-lookup"><span data-stu-id="f6119-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="f6119-229">建立 hello 新彈性集區以相同的名稱和 hello 相同的 hello hello 區域 B 的 hello 試用客戶的資料庫 (6) 中的組態。</span><span class="sxs-lookup"><span data-stu-id="f6119-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="f6119-230">一次 hello 建立集區使用 「 地理還原 toorestore hello 個別的試用版租用戶資料庫到 hello 集區 (7)。</span><span class="sxs-lookup"><span data-stu-id="f6119-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="f6119-231">您可以考慮觸發 hello 個別還原 hello 使用者連接，或使用某些其他應用程式特定優先順序的架構。</span><span class="sxs-lookup"><span data-stu-id="f6119-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="f6119-232">hello 容錯移轉作業是非同步。</span><span class="sxs-lookup"><span data-stu-id="f6119-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="f6119-233">toominimize hello 復原時間，請務必至少 20 個資料庫的批次執行 hello 租用戶資料庫的容錯移轉命令。</span><span class="sxs-lookup"><span data-stu-id="f6119-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="f6119-234">此時您的應用程式處於上線區域 b。所有的付費客戶預設具有存取 tootheir 資料時 hello 試用的客戶時存取其資料時遇到延遲。</span><span class="sxs-lookup"><span data-stu-id="f6119-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="f6119-235">如果要 toouse 區域 B 試用的客戶或錯誤後回復 toousing hello 試用的客戶集區在區域 a 區域 A 則在復原時需要 「 toodecide一個準則可能 hello %的試用版租用戶 hello 復原後修改的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="f6119-236">不論該決策，您需要兩個集區之間 toore 平衡 hello 付費的租用戶。</span><span class="sxs-lookup"><span data-stu-id="f6119-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="f6119-237">hello 下圖說明當 hello 試用版租用戶資料庫失敗後 tooregion A.hello 程序</span><span class="sxs-lookup"><span data-stu-id="f6119-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![圖 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="f6119-239">取消所有未處理的 「 地理還原要求 tootrial DR 集區。</span><span class="sxs-lookup"><span data-stu-id="f6119-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="f6119-240">容錯移轉 hello 管理資料庫 (8)。</span><span class="sxs-lookup"><span data-stu-id="f6119-240">Fail over hello management database (8).</span></span> <span data-ttu-id="f6119-241">Hello 區域復原後，hello 舊的主要自動變為 hello 次要版本。</span><span class="sxs-lookup"><span data-stu-id="f6119-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="f6119-242">現在它會變成 hello 主要一次。</span><span class="sxs-lookup"><span data-stu-id="f6119-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="f6119-243">選取哪些付費的租用戶資料庫失敗後 toopool 1 到起始容錯移轉 tootheir 次要 (9)。</span><span class="sxs-lookup"><span data-stu-id="f6119-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="f6119-244">Hello 區域復原後，集區 1 中的所有資料庫會自動都變成次要資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="f6119-245">現在，其中的 50% 會再次變成主要。</span><span class="sxs-lookup"><span data-stu-id="f6119-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="f6119-246">減少 hello 大小集區 2 toohello 原始 eDTU (10)。</span><span class="sxs-lookup"><span data-stu-id="f6119-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="f6119-247">設定所有還原 hello 區域 B tooread 專用 (11) 中的試用版資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="f6119-248">Hello 試用 DR 的集區中變更過 hello 復原每個資料庫，重新命名或刪除 hello hello 試用主要集區 (12) 中對應的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="f6119-249">複製 hello 更新 hello DR 集區 toohello 主要集區 (13) 的資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="f6119-250">刪除 hello DR 集區 (14)</span><span class="sxs-lookup"><span data-stu-id="f6119-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="f6119-251">hello 金鑰**優點**的這項策略：</span><span class="sxs-lookup"><span data-stu-id="f6119-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="f6119-252">它支援 hello 最積極 SLA hello 付費客戶，因為它會確保中斷不會影響超過 50%的 hello 租用戶資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="f6119-253">它可以保證 hello 新試用已解除封鎖，因為 hello 復原期間建立 hello 軌跡 DR 集區。</span><span class="sxs-lookup"><span data-stu-id="f6119-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="f6119-254">它可讓更有效率地使用 hello 集區容量為 50%的集區 1 中的次要資料庫，而且集區 2 會保證 toobe 少時比 hello 主要資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="f6119-255">主要的 hello**取捨**是：</span><span class="sxs-lookup"><span data-stu-id="f6119-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="f6119-256">hello CRUD 作業，針對 hello 管理資料庫有 hello 連線的終端使用者 tooregion A 比 hello 連線的終端使用者 tooregion B 的較低的延遲，針對 hello 主要 hello 管理資料庫的執行。</span><span class="sxs-lookup"><span data-stu-id="f6119-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="f6119-257">它需要更複雜的設計 hello 管理資料庫。</span><span class="sxs-lookup"><span data-stu-id="f6119-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="f6119-258">例如，每個租用戶記錄有位置標記需要 toobe 容錯移轉和容錯回復期間變更。</span><span class="sxs-lookup"><span data-stu-id="f6119-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="f6119-259">hello 付款客戶可能會遇到較低的效能比平常 hello 區域 B 的集區升級直到完成為止。</span><span class="sxs-lookup"><span data-stu-id="f6119-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="f6119-260">摘要</span><span class="sxs-lookup"><span data-stu-id="f6119-260">Summary</span></span>
<span data-ttu-id="f6119-261">本文著重在 hello SaaS ISV 多租用戶應用程式所使用的資料庫層的 hello 嚴重損壞修復策略。</span><span class="sxs-lookup"><span data-stu-id="f6119-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="f6119-262">hello 您選擇的策略根據 hello 需求 hello 應用程式，例如 hello 的商務模型，hello SLA 您希望 toooffer tooyour 客戶、 預算限制等。每個描述策略外框 hello 優點和取捨讓您無法做出明智的決策。</span><span class="sxs-lookup"><span data-stu-id="f6119-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="f6119-263">此外，特定應用程式可能包含其他 Azure 元件。</span><span class="sxs-lookup"><span data-stu-id="f6119-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="f6119-264">讓您檢閱其業務續航力指引，以及協調 hello 與它們的資料庫層的 hello 復原。</span><span class="sxs-lookup"><span data-stu-id="f6119-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="f6119-265">進一步了解管理在 Azure 中，資料庫應用程式的復原 toolearn 參照太[設計災害復原的雲端解決方案](sql-database-designing-cloud-solutions-for-disaster-recovery.md)。</span><span class="sxs-lookup"><span data-stu-id="f6119-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="f6119-266">後續步驟</span><span class="sxs-lookup"><span data-stu-id="f6119-266">Next steps</span></span>
* <span data-ttu-id="f6119-267">toolearn 有關自動化 Azure SQL Database 備份，請參閱[SQL 資料庫自動備份](sql-database-automated-backups.md)。</span><span class="sxs-lookup"><span data-stu-id="f6119-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="f6119-268">如需商務持續性概觀和案例，請參閱 [商務持續性概觀](sql-database-business-continuity.md)。</span><span class="sxs-lookup"><span data-stu-id="f6119-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="f6119-269">toolearn 有關使用自動的備份進行復原，請參閱[hello 服務起始的備份還原的資料庫](sql-database-recovery-using-backups.md)。</span><span class="sxs-lookup"><span data-stu-id="f6119-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="f6119-270">toolearn 有關更快速的復原選項，請參閱[作用中地理複寫](sql-database-geo-replication-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="f6119-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="f6119-271">toolearn 有關用於自動的備份封存，請參閱[資料庫複製](sql-database-copy.md)。</span><span class="sxs-lookup"><span data-stu-id="f6119-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

