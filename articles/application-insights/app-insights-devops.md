---
title: "aaaWeb 應用程式效能監視-Azure Application Insights |Microsoft 文件"
description: "Application Insights 如何融入 hello devOps 循環"
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: 479522a9-ff5c-471e-a405-b8fa221aedb3
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: bba2d6c59de1794adcbf8e298d0ef4f0dbaa700f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="deep-diagnostics-for-web-apps-and-services-with-application-insights"></a><span data-ttu-id="7a6e0-103">使用 Application Insights 深入診斷 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="7a6e0-103">Deep diagnostics for web apps and services with Application Insights</span></span>
## <a name="why-do-i-need-application-insights"></a><span data-ttu-id="7a6e0-104">我為什麼需要 Application Insights 呢？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-104">Why do I need Application Insights?</span></span>
<span data-ttu-id="7a6e0-105">Application Insights 會監視您正在執行的 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-105">Application Insights monitors your running web app.</span></span> <span data-ttu-id="7a6e0-106">它會告訴您有關失敗和效能的問題，並協助您分析客戶如何使用您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-106">It tells you about failures and performance issues, and helps you analyze how customers use your app.</span></span> <span data-ttu-id="7a6e0-107">它適用於許多平台 (ASP.NET、 J2EE，Node.js，...) 上執行的應用程式，而裝載在 hello 雲端或內部部署。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-107">It works for apps running on many platforms (ASP.NET, J2EE, Node.js, ...) and is hosted either in hello Cloud or on-premises.</span></span> 

![Hello 複雜度傳遞 web 應用程式的層面](./media/app-insights-devops/010.png)

<span data-ttu-id="7a6e0-109">在執行時，它是不可或缺的 toomonitor 現代應用程式。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-109">It's essential toomonitor a modern application while it is running.</span></span> <span data-ttu-id="7a6e0-110">最重要的是，您會想 toodetect 失敗之前執行大部分的客戶。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-110">Most importantly, you want toodetect failures before most of your customers do.</span></span> <span data-ttu-id="7a6e0-111">您也想 toodiscover，並修正效能問題，而不嚴重，可能是作業變慢或會導致某些不便 tooyour 使用者。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-111">You also want toodiscover and fix performance issues that, while not catastrophic, perhaps slow things down or cause some inconvenience tooyour users.</span></span> <span data-ttu-id="7a6e0-112">和 hello 系統執行 tooyour 滿意度，當您想要哪些 hello 使用者所運用的 tooknow： 它們使用 hello 最新功能？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-112">And when hello system is performing tooyour satisfaction, you want tooknow what hello users are doing with it: Are they using hello latest feature?</span></span> <span data-ttu-id="7a6e0-113">是否已成功使用它？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-113">Are they succeeding with it?</span></span>

<span data-ttu-id="7a6e0-114">現代化 web 應用程式會以循環的持續傳遞開發： 發行的新功能或改進。觀察程度這也適用於 hello 使用者。規劃 hello 開發該知識為基礎的下一個遞增值。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-114">Modern web applications are developed in a cycle of continuous delivery: release a new feature or improvement; observe how well it works for hello users; plan hello next increment of development based on that knowledge.</span></span> <span data-ttu-id="7a6e0-115">這個循環的主要部分是 hello 觀察階段。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-115">A key part of this cycle is hello observation phase.</span></span> <span data-ttu-id="7a6e0-116">Application Insights 提供 hello 工具 toomonitor 效能和使用方式的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-116">Application Insights provides hello tools toomonitor a web application for performance and usage.</span></span>

<span data-ttu-id="7a6e0-117">此程序的 hello 最重要層面是診斷和診斷。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-117">hello most important aspect of this process is diagnostics and diagnosis.</span></span> <span data-ttu-id="7a6e0-118">如果 hello 應用程式失敗，會在遺失商務。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-118">If hello application fails, then business is being lost.</span></span> <span data-ttu-id="7a6e0-119">hello 主要角色的監視架構因此 toodetect 失敗會可靠地，通知您立即和 toopresent hello 資訊所需 toodiagnose hello 問題。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-119">hello prime role of a monitoring framework is therefore toodetect failures reliably, notify you immediately, and toopresent you with hello information needed toodiagnose hello problem.</span></span> <span data-ttu-id="7a6e0-120">這就是 Application Insights 的確實功用。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-120">This is exactly what Application Insights does.</span></span>

### <a name="where-do-bugs-come-from"></a><span data-ttu-id="7a6e0-121">Bug 來自何處？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-121">Where do bugs come from?</span></span>
<span data-ttu-id="7a6e0-122">Web 系統中的失敗通常是由組態問題或其許多元件之間的互動不良所引起。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-122">Failures in web systems typically arise from configuration issues or bad interactions between their many components.</span></span> <span data-ttu-id="7a6e0-123">hello 第一項工作時處理即時網站事件所以 hello 問題的 tooidentify hello locus： 哪些元件或關聯性是 hello 原因？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-123">hello first task when tackling a live site incident is therefore tooidentify hello locus of hello problem: which component or relationship is hello cause?</span></span>

<span data-ttu-id="7a6e0-124">我們之中有些人 (灰白頭髮的那些人) 可能還記得那個電腦程式只在一部電腦中執行的單純年代。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-124">Some of us, those with gray hair, can remember a simpler era in which a computer program ran in one computer.</span></span> <span data-ttu-id="7a6e0-125">hello 開發人員會進行完整的測試之前傳送。擁有出貨，很少會看到，或可再考慮這個。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-125">hello developers would test it thoroughly before shipping it; and having shipped it, would rarely see or think about it again.</span></span> <span data-ttu-id="7a6e0-126">hello 使用者會 tooput 最多有的 hello 剩餘 bug 多年。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-126">hello users would have tooput up with hello residual bugs for many years.</span></span> 

<span data-ttu-id="7a6e0-127">但現在的情況已變得非常不同。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-127">Things are so very different now.</span></span> <span data-ttu-id="7a6e0-128">應用程式，有不同的裝置 toorun 的可能很難 tooguarantee hello 完全相同的行為在每一個。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-128">Your app has a plethora of different devices toorun on, and it can be difficult tooguarantee hello exact same behavior on each one.</span></span> <span data-ttu-id="7a6e0-129">裝載 hello 雲端中的應用程式表示快速、 修正 bug，但這也表示連續競爭和 hello 期望的新功能頻繁的間隔。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-129">Hosting apps in hello cloud means bugs can be fixed fast, but it also means continuous competition and hello expectation of new features at frequent intervals.</span></span> 

<span data-ttu-id="7a6e0-130">在這些情況下，hello hello bug 計數確實有控制項只方式 tookeep 自動化單元測試。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-130">In these conditions, hello only way tookeep a firm control on hello bug count is automated unit testing.</span></span> <span data-ttu-id="7a6e0-131">不可能 toomanually 重新測試上每一次傳遞的所有內容。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-131">It would be impossible toomanually re-test everything on every delivery.</span></span> <span data-ttu-id="7a6e0-132">單元測試是 hello 的現在經常一部分建置流程。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-132">Unit test is now a commonplace part of hello build process.</span></span> <span data-ttu-id="7a6e0-133">Hello Xamarin Test Cloud 等工具協助提供自動化的 UI 測試多個瀏覽器版本上。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-133">Tools such as hello Xamarin Test Cloud help by providing automated UI testing on multiple browser versions.</span></span> <span data-ttu-id="7a6e0-134">這些測試區域可讓我們 toohope 該 hello 應用程式內找到的 bug 就能夠維持速率 tooa 最小值。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-134">These testing regimes allow us toohope that hello rate of bugs found inside an app can be kept tooa minimum.</span></span>

<span data-ttu-id="7a6e0-135">典型的 Web 應用程式有許多即時元件。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-135">Typical web applications have many live components.</span></span> <span data-ttu-id="7a6e0-136">在加法 toohello 用戶端 （瀏覽器或裝置的應用程式），而且 hello web 伺服器，則可能 toobe 大幅的後端處理。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-136">In addition toohello client (in a browser or device app) and hello web server, there's likely toobe substantial backend processing.</span></span> <span data-ttu-id="7a6e0-137">或許 hello 後端是管線元件中或更加鬆散的共同作業的項目集合。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-137">Perhaps hello backend is a pipeline of components, or a looser collection of collaborating pieces.</span></span> <span data-ttu-id="7a6e0-138">此外，它們其中有許多都不在您的控制內 - 它們是您所需的外部服務。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-138">And many of them won't be in your control - they're external services on which you depend.</span></span>

<span data-ttu-id="7a6e0-139">這類的組態，它可以是，會發生困難而且 uneconomical tootest 或預期，每個可能的失敗模式，除了在 hello 即時系統本身。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-139">In configurations like these, it can be difficult and uneconomical tootest for, or foresee, every possible failure mode, other than in hello live system itself.</span></span> 

### <a name="questions-"></a><span data-ttu-id="7a6e0-140">問題 ...</span><span class="sxs-lookup"><span data-stu-id="7a6e0-140">Questions ...</span></span>
<span data-ttu-id="7a6e0-141">當我們開發 Web 系統時，會自問數個問題：</span><span class="sxs-lookup"><span data-stu-id="7a6e0-141">Some questions we ask when we're developing a web system:</span></span>

* <span data-ttu-id="7a6e0-142">我的應用程式會當機嗎？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-142">Is my app crashing?</span></span> 
* <span data-ttu-id="7a6e0-143">實際發生什麼事？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-143">What exactly happened?</span></span> <span data-ttu-id="7a6e0-144">-如果要求失敗，我要如何進入那里 tooknow。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-144">- If it failed a request, I want tooknow how it got there.</span></span> <span data-ttu-id="7a6e0-145">我們需要追蹤事件 ...</span><span class="sxs-lookup"><span data-stu-id="7a6e0-145">We need a trace of events...</span></span>
* <span data-ttu-id="7a6e0-146">我的應用程式速度夠快嗎？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-146">Is my app fast enough?</span></span> <span data-ttu-id="7a6e0-147">多久花費 toorespond tootypical 要求？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-147">How long does it take toorespond tootypical requests?</span></span>
* <span data-ttu-id="7a6e0-148">可以載入 hello 伺服器控制代碼 hello 嗎？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-148">Can hello server handle hello load?</span></span> <span data-ttu-id="7a6e0-149">當要求的 hello 速率上升時，未 hello 回應時間會保有穩定嗎？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-149">When hello rate of requests rises, does hello response time hold steady?</span></span>
* <span data-ttu-id="7a6e0-150">回應速度是我的相依性-hello REST Api，資料庫和我的應用程式呼叫其他元件。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-150">How responsive are my dependencies - hello REST APIs, databases and other components that my app calls.</span></span> <span data-ttu-id="7a6e0-151">特別是，如果 hello 系統是慢速，是我的元件，還是我會收到回應變慢其他人？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-151">In particular, if hello system is slow, is it my component, or am I getting slow responses from someone else?</span></span>
* <span data-ttu-id="7a6e0-152">我的應用程式是否正在運作？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-152">Is my app Up or Down?</span></span> <span data-ttu-id="7a6e0-153">可以看到它從 hello 世界各地嗎？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-153">Can it be seen from around hello world?</span></span> <span data-ttu-id="7a6e0-154">讓我知道它是否會停止...</span><span class="sxs-lookup"><span data-stu-id="7a6e0-154">Let me know if it stops....</span></span>
* <span data-ttu-id="7a6e0-155">Hello 根本原因為何？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-155">What is hello root cause?</span></span> <span data-ttu-id="7a6e0-156">已在我的元件或相依性的 hello 失敗？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-156">Was hello failure in my component or a dependency?</span></span> <span data-ttu-id="7a6e0-157">是通訊問題嗎？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-157">Is it a communication issue?</span></span>
* <span data-ttu-id="7a6e0-158">有多少使用者受到影響？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-158">How many users are impacted?</span></span> <span data-ttu-id="7a6e0-159">如果我有一個以上的問題 tootackle，這是最重要的 hello？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-159">If I have more than one issue tootackle, which is hello most important?</span></span>

## <a name="what-is-application-insights"></a><span data-ttu-id="7a6e0-160">什麼是 Application Insights？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-160">What is Application Insights?</span></span>
![Application Insights 的基本工作流程](./media/app-insights-devops/020.png)

1. <span data-ttu-id="7a6e0-162">Application Insights 檢測您的應用程式，並傳送遙測資訊，請參閱 hello 應用程式執行時。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-162">Application Insights instruments your app and sends telemetry about it while hello app is running.</span></span> <span data-ttu-id="7a6e0-163">您可以建立 hello Application Insights SDK 至 hello 應用程式，或是您可以套用在執行階段檢測。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-163">Either you can build hello Application Insights SDK into hello app, or you can apply instrumentation at runtime.</span></span> <span data-ttu-id="7a6e0-164">您可以加入您自己的遙測 toohello 一般模組 hello 前一個方法是更有彈性。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-164">hello former method is more flexible, as you can add your own telemetry toohello regular modules.</span></span>
2. <span data-ttu-id="7a6e0-165">hello 遙測傳送 toohello Application Insights 入口網站，它會在其中儲存及處理。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-165">hello telemetry is sent toohello Application Insights portal, where it is stored and processed.</span></span> <span data-ttu-id="7a6e0-166">(雖然 Application Insights 裝載於 Microsoft Azure 中，但是它可以監視任何 Web 應用程式，而不只是 Azure 應用程式)。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-166">(Although Application Insights is hosted in Microsoft Azure, it can monitor any web apps - not just Azure apps.)</span></span>
3. <span data-ttu-id="7a6e0-167">hello 遙測會顯示 tooyou hello 表單的圖表和資料表的事件中。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-167">hello telemetry is presented tooyou in hello form of charts and tables of events.</span></span>

<span data-ttu-id="7a6e0-168">遙測有兩種主要類型︰彙總與原始執行個體。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-168">There are two main types of telemetry: aggregated and raw instances.</span></span> 

* <span data-ttu-id="7a6e0-169">例如，執行個體資料包含您的 Web 應用程式所收到的要求報告。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-169">Instance data includes, for example, a report of a request that has been received by your web app.</span></span> <span data-ttu-id="7a6e0-170">您可以尋找並檢查 hello hello Application Insights 入口網站中使用 hello 搜尋工具之要求詳細資料。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-170">You can find for and inspect hello details of a request using hello Search tool in hello Application Insights portal.</span></span> <span data-ttu-id="7a6e0-171">hello 執行個體會包含資料，例如您的應用程式花費了 toorespond toohello 要求，時間長度，以及 hello 要求的 URL、 用戶端 hello 的約略位置和其他資料。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-171">hello instance would include data such as how long your app took toorespond toohello request, as well as hello requested URL, approximate location of hello client, and other data.</span></span>
* <span data-ttu-id="7a6e0-172">彙總的資料包含每單位時間的事件計數，因此您可以比較 hello hello 回應時間的要求率。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-172">Aggregated data includes counts of events per unit time, so that you can compare hello rate of requests with hello response times.</span></span> <span data-ttu-id="7a6e0-173">它也包含像是要求回應時間的計量資訊。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-173">It also includes averages of metrics such as request response times.</span></span>

<span data-ttu-id="7a6e0-174">hello 資料主要類別如下：</span><span class="sxs-lookup"><span data-stu-id="7a6e0-174">hello main categories of data are:</span></span>

* <span data-ttu-id="7a6e0-175">要求 tooyour 應用程式 （通常是 HTTP 要求） 的 URL、 回應時間及成功或失敗的資料。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-175">Requests tooyour app (usually HTTP requests), with data on URL, response time, and success or failure.</span></span>
* <span data-ttu-id="7a6e0-176">相依性 - 您的應用程式所進行的 REST 和 SQL 呼叫，也包含 URI、回應時間和成功</span><span class="sxs-lookup"><span data-stu-id="7a6e0-176">Dependencies - REST and SQL calls made by your app, also with URI, response times and success</span></span>
* <span data-ttu-id="7a6e0-177">例外狀況，包括堆疊追蹤。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-177">Exceptions, including stack traces.</span></span>
* <span data-ttu-id="7a6e0-178">頁面檢視資料，來自 hello 使用者的瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-178">Page view data, which come from hello users' browsers.</span></span>
* <span data-ttu-id="7a6e0-179">計量資訊 (例如效能計數器)，以及您自行撰寫的計量。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-179">Metrics such as performance counters, as well as metrics you write yourself.</span></span> 
* <span data-ttu-id="7a6e0-180">您可以使用 tootrack 商務事件的自訂事件</span><span class="sxs-lookup"><span data-stu-id="7a6e0-180">Custom events that you can use tootrack business events</span></span>
* <span data-ttu-id="7a6e0-181">用來偵錯的記錄追蹤。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-181">Log traces used for debugging.</span></span>

## <a name="case-study-real-madrid-fc"></a><span data-ttu-id="7a6e0-182">案例研究：西班牙皇家馬德里隊</span><span class="sxs-lookup"><span data-stu-id="7a6e0-182">Case Study: Real Madrid F.C.</span></span>
<span data-ttu-id="7a6e0-183">hello 的 web 服務[真實馬德里 Football 社團](http://www.realmadrid.com/)做大約 450 百萬風扇 hello 世界各地。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-183">hello web service of [Real Madrid Football Club](http://www.realmadrid.com/) serves about 450 million fans around hello world.</span></span> <span data-ttu-id="7a6e0-184">風扇透過網頁瀏覽器進行存取，這兩個，而 hello 社團的行動裝置應用程式。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-184">Fans access it both through web browsers and hello Club's mobile apps.</span></span> <span data-ttu-id="7a6e0-185">球迷不只可預約門票，也能存取比賽結果、選手及即將舉行的比賽相關資訊和影片剪輯。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-185">Fans can not only book tickets, but also access information and video clips on results, players and upcoming games.</span></span> <span data-ttu-id="7a6e0-186">他們會使用像是得分進球數等篩選條件進行搜尋。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-186">They can search with filters such as numbers of goals scored.</span></span> <span data-ttu-id="7a6e0-187">也有連結 toosocial 媒體。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-187">There are also links toosocial media.</span></span> <span data-ttu-id="7a6e0-188">hello 使用者經驗高度個人化，並設計做為雙向通訊 tooengage 風扇。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-188">hello user experience is highly personalized, and is designed as a two-way communication tooengage fans.</span></span>

<span data-ttu-id="7a6e0-189">hello 方案[是服務和應用程式在 Microsoft Azure 上的系統](https://www.microsoft.com/en-us/enterprise/microsoftcloud/realmadrid.aspx)。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-189">hello solution [is a system of services and applications on Microsoft Azure](https://www.microsoft.com/en-us/enterprise/microsoftcloud/realmadrid.aspx).</span></span> <span data-ttu-id="7a6e0-190">延展性是關鍵需求︰流量變化無常，而且可在比賽期間和接近比賽時達到非常高的量。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-190">Scalability is a key requirement: traffic is variable and can reach very high volumes during and around matches.</span></span>

<span data-ttu-id="7a6e0-191">用於真實馬德里，很重要的 toomonitor hello 系統的效能。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-191">For Real Madrid, it's vital toomonitor hello system's performance.</span></span> <span data-ttu-id="7a6e0-192">Azure 的 Application Insights 提供全方位的視野 hello 系統，確保可靠且高的服務層級。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-192">Azure Application Insights provides a comprehensive view across hello system, ensuring a reliable and high level of service.</span></span> 

<span data-ttu-id="7a6e0-193">hello 社團也會取得深入了解其風扇的： 它們的位置 （只有 3%是在西班牙），它們在播放程式、 歷程記錄的結果和即將發行的遊戲，以及他們如何回應 toomatch 結果中有哪些感興趣。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-193">hello Club also gets in-depth understanding of its fans: where they are (only 3% are in Spain), what interest they have in players, historical results, and upcoming games, and how they respond toomatch outcomes.</span></span>

<span data-ttu-id="7a6e0-194">其中大多數遙測資料會自動收集與任何加入的程式碼，簡化 hello 方案，並降低操作的複雜性。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-194">Most of this telemetry data is automatically collected with no added code, which  simplified hello solution and reduced operational complexity.</span></span>  <span data-ttu-id="7a6e0-195">對於皇家馬德里而言，Application Insights 每個月可處理 38 億個遙測點。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-195">For Real Madrid, Application Insights deals with 3.8 billion telemetry points each month.</span></span>

<span data-ttu-id="7a6e0-196">實際馬德里使用 hello Power BI 模組 tooview 其遙測。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-196">Real Madrid uses hello Power BI module tooview their telemetry.</span></span>

![Application Insights 遙測的 Power BI 檢視](./media/app-insights-devops/080.png)

## <a name="smart-detection"></a><span data-ttu-id="7a6e0-198">智慧型偵測</span><span class="sxs-lookup"><span data-stu-id="7a6e0-198">Smart detection</span></span>
<span data-ttu-id="7a6e0-199">[主動診斷](app-insights-proactive-diagnostics.md)是一項最新功能。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-199">[Proactive diagnostics](app-insights-proactive-diagnostics.md) is a recent feature.</span></span> <span data-ttu-id="7a6e0-200">您不需提供任何特殊組態，Application Insights 就會自動偵測並警示您，關於您應用程式中異常提高的失敗率。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-200">Without any special configuration by you, Application Insights automatically detects and alerts you about unusual rises in failure rates in your app.</span></span> <span data-ttu-id="7a6e0-201">它是聰明 tooignore 背景為偶爾的失敗，而且也會上升只需按比例 tooa 升高要求。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-201">It's smart enough tooignore a background of occasional failures, and also rises that are simply proportionate tooa rise in requests.</span></span> <span data-ttu-id="7a6e0-202">例如，如果其中一種您而定，hello 服務失敗，或新的 hello 建置您剛剛所部署無法運作太好，則只要您查看您的電子郵件，您愈了解它。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-202">So for example, if there's a failure in one of hello services you depend on, or if hello new build you just deployed isn't working so well, then you'll know about it as soon as you look at your email.</span></span> <span data-ttu-id="7a6e0-203">(而且會提供 Webhook，讓您能夠觸發其他應用程式)。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-203">(And there are webhooks so that you can trigger other apps.)</span></span>

<span data-ttu-id="7a6e0-204">這項功能的另一個層面會執行您的遙測，尋找的異常模式的效能，會永久 toodiscover 每日深入分析。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-204">Another aspect of this feature performs a daily in-depth analysis of your telemetry, looking for unusual patterns of performance that are hard toodiscover.</span></span> <span data-ttu-id="7a6e0-205">例如，它會找到與特定地理區域或特定瀏覽器版本相關聯的慢速效能。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-205">For example, it can find slow performance associated with a particular geographical area, or with a particular browser version.</span></span>

<span data-ttu-id="7a6e0-206">在這兩種情況下，hello 警示不只會告知 hello 徵狀探索，但也可讓您的資料需要 toohelp 診斷 hello 問題，例如相關的例外狀況報告。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-206">In both cases, hello alert not only tells you hello symptoms it's discovered, but also gives you data you need toohelp diagnose hello problem, such as relevant exception reports.</span></span>

![來自主動診斷的電子郵件](./media/app-insights-devops/030.png)

<span data-ttu-id="7a6e0-208">客戶 Samtec 說：「在最近的功能快速轉換期間，我們發現低於調整規模的資料庫已到達它的資源限制並導致逾時。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-208">Customer Samtec said: "During a recent feature cutover, we found an under-scaled database that was hitting its resource limits and causing timeouts.</span></span> <span data-ttu-id="7a6e0-209">主動式偵測警示來自所通告，我們已分級非常接近即時的 hello 問題為常值。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-209">Proactive detection alerts came through literally as we were triaging hello issue, very near real time as advertised.</span></span> <span data-ttu-id="7a6e0-210">與 hello Azure 平台警示結合此警示可協助我們幾乎可立即修正 hello 問題。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-210">This alert coupled with hello Azure platform alerts helped us almost instantly fix hello issue.</span></span> <span data-ttu-id="7a6e0-211">總停機時間 < 10 分鐘。」</span><span class="sxs-lookup"><span data-stu-id="7a6e0-211">Total downtime < 10 minutes."</span></span>

## <a name="live-metrics-stream"></a><span data-ttu-id="7a6e0-212">即時計量串流</span><span class="sxs-lookup"><span data-stu-id="7a6e0-212">Live Metrics Stream</span></span>
<span data-ttu-id="7a6e0-213">部署最新組建的 hello 可以想的體驗。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-213">Deploying hello latest build can be an anxious experience.</span></span> <span data-ttu-id="7a6e0-214">如果有任何問題，您想要 tooknow 資訊，請立即，如此如有必要，您可以將。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-214">If there are any problems, you want tooknow about them right away, so that you can back out if necessary.</span></span> <span data-ttu-id="7a6e0-215">即時計量串流可為您提供大約 1 秒延遲的關鍵計量。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-215">Live Metrics Stream gives you key metrics with a latency of about one second.</span></span>

![即時計量](./media/app-insights-devops/040.png)

<span data-ttu-id="7a6e0-217">並可讓您立即檢查任何失敗或例外狀況的樣本。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-217">And lets you immediately inspect a sample of any failures or exceptions.</span></span>

![即時失敗事件](./media/app-insights-devops/live-stream-failures.png)

## <a name="application-map"></a><span data-ttu-id="7a6e0-219">應用程式對應</span><span class="sxs-lookup"><span data-stu-id="7a6e0-219">Application Map</span></span>
<span data-ttu-id="7a6e0-220">應用程式對應會自動探索您的應用程式的拓撲，用來配置 hello toolet 輕鬆地在您的分散式環境中識別效能瓶頸和有問題的流程，其最上層的效能資訊。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-220">Application Map automatically discovers your application topology, laying hello performance information on top of it, toolet you easily identify performance bottlenecks and problematic flows across your distributed environment.</span></span> <span data-ttu-id="7a6e0-221">它可讓您 toodiscover 應用程式相依性 Azure 服務上。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-221">It allows you toodiscover application dependencies on Azure Services.</span></span> <span data-ttu-id="7a6e0-222">您可以了解如果是程式碼相關或相關的相依性分級 hello 問題，而且從單一位置下鑽研至相關的診斷經驗。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-222">You can triage hello problem by understanding if it is code-related or dependency related and from a single place drill into related diagnostics experience.</span></span> <span data-ttu-id="7a6e0-223">比方說，您的應用程式中的 SQL 層的 tooperformance 降低因失敗。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-223">For example, your application may be failing due tooperformance degradation in SQL tier.</span></span> <span data-ttu-id="7a6e0-224">與應用程式對應可以立即看到它，並向下切入到 hello SQL 索引建議程式或查詢 Insights 經驗。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-224">With application map, you can see it immediately and drill into hello SQL Index Advisor or Query Insights experience.</span></span>

![應用程式對應](./media/app-insights-devops/050.png)

## <a name="application-insights-analytics"></a><span data-ttu-id="7a6e0-226">Application Insights 分析</span><span class="sxs-lookup"><span data-stu-id="7a6e0-226">Application Insights Analytics</span></span>
<span data-ttu-id="7a6e0-227">使用 [分析](app-insights-analytics.md)，您就能利用功能強大的 SQL 式語言撰寫任意查詢。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-227">With [Analytics](app-insights-analytics.md), you can write arbitrary queries in a powerful SQL-like language.</span></span>  <span data-ttu-id="7a6e0-228">診斷跨 hello 整個應用程式堆疊會變得簡單連接各種不同觀點以及您可以詢問 hello 適當的問題 toocorrelate 服務效能的商務計量與客戶經驗。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-228">Diagnosing across hello entire app stack becomes easy as various perspectives get connected and you can ask hello right questions toocorrelate Service Performance with Business Metrics and Customer Experience.</span></span> 

<span data-ttu-id="7a6e0-229">您可以查詢所有遙測的執行個體和度量的未經處理資料儲存在 hello 入口網站中。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-229">You can query all your telemetry instance and metric raw data stored in hello portal.</span></span> <span data-ttu-id="7a6e0-230">hello 語言包括篩選、 聯結、 彙總和其他作業。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-230">hello language includes filter, join, aggregation, and other operations.</span></span> <span data-ttu-id="7a6e0-231">您可以計算欄位並執行統計分析。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-231">You can calculate fields and perform statistical analysis.</span></span> <span data-ttu-id="7a6e0-232">目前提供表格式和圖形視覺效果。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-232">There are both tabular and graphical visualizations.</span></span>

![分析查詢和結果圖表](./media/app-insights-devops/025.png)

<span data-ttu-id="7a6e0-234">例如，很容易：</span><span class="sxs-lookup"><span data-stu-id="7a6e0-234">For example, it's easy to:</span></span>

* <span data-ttu-id="7a6e0-235">分割應用程式的要求效能資料，客戶層 toounderstand 經驗。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-235">Segment your application’s request performance data by customer tiers toounderstand their experience.</span></span>
* <span data-ttu-id="7a6e0-236">在即時網站調查期間，搜尋特定錯誤碼或自訂的事件名稱。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-236">Search for specific error codes or custom event names during live site investigations.</span></span>
* <span data-ttu-id="7a6e0-237">向下鑽研至特定客戶 toounderstand hello 應用程式使用功能，如何取得並採用。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-237">Drill down into hello app usage of specific customers toounderstand how features are acquired and adopted.</span></span>
* <span data-ttu-id="7a6e0-238">追蹤工作階段與特定使用者 tooenable 支援和作業團隊 tooprovide 立即客戶支援服務的回應時間。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-238">Track sessions and response times for specific users tooenable support and operations teams tooprovide instant customer support.</span></span>
* <span data-ttu-id="7a6e0-239">判斷常用的應用程式功能 tooanswer 功能優先順序的問題。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-239">Determine frequently used app features tooanswer feature prioritization questions.</span></span>

<span data-ttu-id="7a6e0-240">客戶 DNN 說: 「 Application Insights 提供以 hello 遺漏 hello 方程式所能 toocombine、 排序、 查詢和篩選資料所需的部分。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-240">Customer DNN said: "Application Insights has provided us with hello missing part of hello equation for being able toocombine, sort, query, and filter data as needed.</span></span> <span data-ttu-id="7a6e0-241">讓我們的團隊 toouse 自己精巧和體驗 toofind 使用功能強大的查詢語言的資料已允許我們 toofind insights 及解決的問題，我們還不知道我們必須。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-241">Allowing our team toouse their own ingenuity and experience toofind data with a powerful query language has allowed us toofind insights and solve problems we didn't even know we had.</span></span> <span data-ttu-id="7a6e0-242">許多有趣的答案來自 hello 問題開頭*' 我奇觀 if...'。*"</span><span class="sxs-lookup"><span data-stu-id="7a6e0-242">A lot of interesting answers come from hello questions starting with *'I wonder if...'.*"</span></span>

## <a name="development-tools-integration"></a><span data-ttu-id="7a6e0-243">開發工具整合</span><span class="sxs-lookup"><span data-stu-id="7a6e0-243">Development tools integration</span></span>
### <a name="configuring-application-insights"></a><span data-ttu-id="7a6e0-244">設定 Application Insights</span><span class="sxs-lookup"><span data-stu-id="7a6e0-244">Configuring Application Insights</span></span>
<span data-ttu-id="7a6e0-245">Visual Studio 和 Eclipse 有工具 tooconfigure hello 正確 SDK 套件 hello 專案所開發。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-245">Visual Studio and Eclipse have tools tooconfigure hello correct SDK packages for hello project you are developing.</span></span> <span data-ttu-id="7a6e0-246">沒有功能表命令 tooadd Application Insights。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-246">There's a menu command tooadd Application Insights.</span></span>

<span data-ttu-id="7a6e0-247">若您使用的追蹤記錄架構，例如 Log4N、 NLog 或 System.Diagnostics.Trace toobe，然後您取得 hello 選項 toosend hello 記錄 tooApplication Insights hello 與其他遙測，以便輕鬆地將要求與 hello 追蹤相互關聯相依性呼叫和例外狀況。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-247">If you happen toobe using a trace logging framework such as Log4N, NLog, or System.Diagnostics.Trace, then you get hello option toosend hello logs tooApplication Insights along with hello other telemetry, so that you can easily correlate hello traces with requests, dependency calls, and exceptions.</span></span>

### <a name="search-telemetry-in-visual-studio"></a><span data-ttu-id="7a6e0-248">在 Visual Studio 中搜尋遙測</span><span class="sxs-lookup"><span data-stu-id="7a6e0-248">Search telemetry in Visual Studio</span></span>
<span data-ttu-id="7a6e0-249">在開發和偵錯功能，您可以檢視和搜尋 hello 直接在 Visual Studio 中使用相同搜尋機關以 hello web 入口網站中的 hello 的遙測。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-249">While developing and debugging a feature, you can view and search hello telemetry directly in Visual Studio, using hello same search facilities as in hello web portal.</span></span>

<span data-ttu-id="7a6e0-250">當 Application Insights 記錄例外狀況時，您還可以和在 Visual Studio 中檢視 hello 資料點跳直線 toohello 相關的程式碼。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-250">And when Application Insights logs an exception, you can view hello data point in Visual Studio and jump straight toohello relevant code.</span></span>

![Visual Studio 搜尋](./media/app-insights-devops/060.png)

<span data-ttu-id="7a6e0-252">偵錯期間，您在 hello 選項 tookeep hello 遙測在開發電腦、 Visual Studio 中，但不將它傳送 toohello 入口網站加以檢視。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-252">During debugging, you have hello option tookeep hello telemetry in your development machine, viewing it in Visual Studio but without sending it toohello portal.</span></span> <span data-ttu-id="7a6e0-253">此本機選項可避免與生產環境的遙測偵錯混合在一起。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-253">This local option avoids mixing debugging with production telemetry.</span></span>

### <a name="build-annotations"></a><span data-ttu-id="7a6e0-254">建置註解</span><span class="sxs-lookup"><span data-stu-id="7a6e0-254">Build annotations</span></span>
<span data-ttu-id="7a6e0-255">如果您使用 Visual Studio Team Services toobuild 並部署您的應用程式時，部署註解顯示 hello 入口網站中的圖表上。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-255">If you use Visual Studio Team Services toobuild and deploy your app, deployment annotations show up on charts in hello portal.</span></span> <span data-ttu-id="7a6e0-256">如果您的最新版本沒有 hello 標準的任何作用，它就很明顯。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-256">If your latest release had any effect on hello metrics, it becomes obvious.</span></span>

![建置註解](./media/app-insights-devops/070.png)

### <a name="work-items"></a><span data-ttu-id="7a6e0-258">工作項目</span><span class="sxs-lookup"><span data-stu-id="7a6e0-258">Work items</span></span>
<span data-ttu-id="7a6e0-259">產生警示時，Application Insights 可以在您的工作追蹤系統中自動建立工作項目。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-259">When an alert is raised, Application Insights can automatically create a work item in your work tracking system.</span></span>

## <a name="but-what-about"></a><span data-ttu-id="7a6e0-260">但是，您認為...？</span><span class="sxs-lookup"><span data-stu-id="7a6e0-260">But what about...?</span></span>
* <span data-ttu-id="7a6e0-261">[隱私權和儲存體](app-insights-data-retention-privacy.md) - 您的遙測會保留於 Azure 安全伺服器上。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-261">[Privacy and storage](app-insights-data-retention-privacy.md) - Your telemetry is kept on Azure secure servers.</span></span>
* <span data-ttu-id="7a6e0-262">效能-hello 影響是非常低。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-262">Performance - hello impact is very low.</span></span> <span data-ttu-id="7a6e0-263">遙測會進行批次處理。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-263">Telemetry is batched.</span></span>
* <span data-ttu-id="7a6e0-264">[價格](app-insights-pricing.md) - 您可以開始免費使用，當您處於低用量期間可繼續使用。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-264">[Pricing](app-insights-pricing.md) - You can get started for free, and that continues while you're in low volume.</span></span>


## <a name="video"></a><span data-ttu-id="7a6e0-265">影片</span><span class="sxs-lookup"><span data-stu-id="7a6e0-265">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/112/player]

## <a name="next-steps"></a><span data-ttu-id="7a6e0-266">後續步驟</span><span class="sxs-lookup"><span data-stu-id="7a6e0-266">Next steps</span></span>
<span data-ttu-id="7a6e0-267">開始使用 Application Insights 很簡單。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-267">Getting started with Application Insights is easy.</span></span> <span data-ttu-id="7a6e0-268">hello 主要選項包括：</span><span class="sxs-lookup"><span data-stu-id="7a6e0-268">hello main options are:</span></span>

* <span data-ttu-id="7a6e0-269">檢測已在執行的 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-269">Instrument an already-running web app.</span></span> <span data-ttu-id="7a6e0-270">這可讓您所有的 hello 內建的效能遙測資料。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-270">This gives you all hello built-in performance telemetry.</span></span> <span data-ttu-id="7a6e0-271">其適用於 [Java](app-insights-java-live.md) 和 [IIS 伺服器](app-insights-monitor-performance-live-website-now.md)，以及 [Azure Web 應用程式](app-insights-azure.md)。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-271">It's available for [Java](app-insights-java-live.md) and [IIS servers](app-insights-monitor-performance-live-website-now.md), and also for [Azure web apps](app-insights-azure.md).</span></span>
* <span data-ttu-id="7a6e0-272">在開發期間檢測您的專案。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-272">Instrument your project during development.</span></span> <span data-ttu-id="7a6e0-273">您可以針對 [ASP.NET](app-insights-asp-net.md) 或 [Java](app-insights-java-get-started.md) 應用程式，以及 [Node.js](app-insights-nodejs.md) 和許多[其他類型](app-insights-platforms.md)執行此動作。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-273">You can do this for [ASP.NET](app-insights-asp-net.md) or [Java](app-insights-java-get-started.md) apps, as well as [Node.js](app-insights-nodejs.md) and a host of [other types](app-insights-platforms.md).</span></span> 
* <span data-ttu-id="7a6e0-274">藉由新增簡短的程式碼片段來檢測 [任何網頁](app-insights-javascript.md) 。</span><span class="sxs-lookup"><span data-stu-id="7a6e0-274">Instrument [any web page](app-insights-javascript.md) by adding a short code snippet.</span></span>

