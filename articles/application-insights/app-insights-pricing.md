---
title: "管理 Azure Application Insights 的價格和資料量 | Microsoft Docs"
description: "在 Application Insights 中管理遙測量和監視成本。"
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: ebd0d843-4780-4ff3-bc68-932aa44185f6
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 05/10/2017
ms.author: bwren
ms.openlocfilehash: 65d11d30e23cd7671b769c3c17e4aba32c432340
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/18/2017
---
# <a name="manage-pricing-and-data-volume-in-application-insights"></a><span data-ttu-id="81f61-103">管理 Application Insights 的價格和資料量</span><span class="sxs-lookup"><span data-stu-id="81f61-103">Manage pricing and data volume in Application Insights</span></span>


<span data-ttu-id="81f61-104">[Azure Application Insights][start] 的價格是根據每個應用程式的資料量而定。</span><span class="sxs-lookup"><span data-stu-id="81f61-104">Pricing for [Azure Application Insights][start] is based on data volume per application.</span></span> <span data-ttu-id="81f61-105">開發期間或小型應用程式的低使用量可能是免費的，因為每個月有 1 GB 的遙測資料額度。</span><span class="sxs-lookup"><span data-stu-id="81f61-105">Low usage during development or for a small app is likely to be free, because there's a 1 GB monthly allowance of telemetry data.</span></span>

<span data-ttu-id="81f61-106">每項 Application Insights 資源的收費方式採個別服務計價，並計入您 Azure 訂用帳戶的帳單。</span><span class="sxs-lookup"><span data-stu-id="81f61-106">Each Application Insights resource is charged as a separate service, and contributes to the bill for your subscription to Azure.</span></span>

<span data-ttu-id="81f61-107">價格方案有兩個。</span><span class="sxs-lookup"><span data-stu-id="81f61-107">There are two pricing plans.</span></span> <span data-ttu-id="81f61-108">預設方案稱為「基本」。</span><span class="sxs-lookup"><span data-stu-id="81f61-108">The default plan is called Basic.</span></span> <span data-ttu-id="81f61-109">您可以選擇「企業」方案，該方案有每日費用，但可使用某些特定功能，例如[連續匯出](app-insights-export-telemetry.md)。</span><span class="sxs-lookup"><span data-stu-id="81f61-109">You can opt for the Enterprise plan, which has a daily charge, but enables certain additional features such as [continuous export](app-insights-export-telemetry.md).</span></span>

<span data-ttu-id="81f61-110">如果您對 Application Insights 的定價有疑問，歡迎隨時在[論壇](https://social.msdn.microsoft.com/Forums/en-US/home?forum=ApplicationInsights)中張貼問題。</span><span class="sxs-lookup"><span data-stu-id="81f61-110">If you have questions about how pricing works for Application Insights, feel free to post a question in our [forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=ApplicationInsights).</span></span> 

## <a name="the-price-plans"></a><span data-ttu-id="81f61-111">價格方案</span><span class="sxs-lookup"><span data-stu-id="81f61-111">The price plans</span></span>

<span data-ttu-id="81f61-112">如需您的貨幣的目前價格，請參閱[Application Insights 價格頁面][pricing]。</span><span class="sxs-lookup"><span data-stu-id="81f61-112">See the [Application Insights pricing page][pricing] for current prices in your currency.</span></span>

### <a name="basic-plan"></a><span data-ttu-id="81f61-113">基本方案</span><span class="sxs-lookup"><span data-stu-id="81f61-113">Basic plan</span></span>

<span data-ttu-id="81f61-114">建立新的 Application Insights 資源時，基本方案是預設方案，應可滿足大部分客戶的需要。</span><span class="sxs-lookup"><span data-stu-id="81f61-114">The Basic plan is the default when a new Application Insights resource is created, and will suffice for most customers.</span></span>

* <span data-ttu-id="81f61-115">基本方案是依照您的資料量收費︰Application Insights 接收的遙測位元組數。</span><span class="sxs-lookup"><span data-stu-id="81f61-115">In the Basic plan, you are charged by data volume: number of bytes of telemetry received by Application Insights.</span></span> <span data-ttu-id="81f61-116">資料量是測量 Application Insights 從應用程式收到的未壓縮 JSON 資料套件的大小。</span><span class="sxs-lookup"><span data-stu-id="81f61-116">Data volume is measured as the size of the uncompressed JSON data package received by Application Insights from your application.</span></span>
<span data-ttu-id="81f61-117">對於[匯入分析的表格式資料](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-analytics-import)，資料磁碟區會測量為傳送至 Application Insights 之檔案的解壓縮大小。</span><span class="sxs-lookup"><span data-stu-id="81f61-117">For [tabular data imported into Analytics](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-analytics-import), the data volume is measured as the uncompressed size of files sent to Application Insights.</span></span>  
* <span data-ttu-id="81f61-118">每個應用程式的第一個 1 GB 是免費的，因此如果只是實驗或開發，您可能不需要付費。</span><span class="sxs-lookup"><span data-stu-id="81f61-118">Your first 1 GB for each app is free, so if you're just experimenting or developing, you're unlikely to have to pay.</span></span>
* <span data-ttu-id="81f61-119">[即時計量串流](app-insights-live-stream.md)資料不會計入價格用途。</span><span class="sxs-lookup"><span data-stu-id="81f61-119">[Live Metrics Stream](app-insights-live-stream.md) data isn't counted for pricing purposes.</span></span>
* <span data-ttu-id="81f61-120">在基本方案中，可以依照每一 GB 額外付費使用[連續匯出](app-insights-export-telemetry.md)。</span><span class="sxs-lookup"><span data-stu-id="81f61-120">[Continuous Export](app-insights-export-telemetry.md) is available for an extra per-GB charge in the Basic plan.</span></span>

### <a name="enterprise-plan"></a><span data-ttu-id="81f61-121">企業方案</span><span class="sxs-lookup"><span data-stu-id="81f61-121">Enterprise plan</span></span>

* <span data-ttu-id="81f61-122">在企業方案中，您的應用程式可以使用 Application Insights 的所有功能。</span><span class="sxs-lookup"><span data-stu-id="81f61-122">In the Enterprise plan, your app can use all the features of Application Insights.</span></span> <span data-ttu-id="81f61-123">[連續匯出](app-insights-export-telemetry.md)和</span><span class="sxs-lookup"><span data-stu-id="81f61-123">[Continuous Export](app-insights-export-telemetry.md) and</span></span> 

<span data-ttu-id="81f61-124">[Log Analytics 連接器](https://go.microsoft.com/fwlink/?LinkId=833039&amp;clcid=0x409)在企業方案中為免費，無需任何額外的費用。</span><span class="sxs-lookup"><span data-stu-id="81f61-124">[Log Analytics connector](https://go.microsoft.com/fwlink/?LinkId=833039&amp;clcid=0x409) are available without any extra charge in the Enterprise plan.</span></span>
* <span data-ttu-id="81f61-125">在企業方案中，是依照傳送所有應用程式遙測的每一節點付費。</span><span class="sxs-lookup"><span data-stu-id="81f61-125">You pay per node that is sending telemetry for any apps in the Enterprise plan.</span></span> 
 * <span data-ttu-id="81f61-126">「節點」是裝載應用程式的實體或虛擬伺服器機器，或是平台即服務 (PaaS) 角色執行個體。</span><span class="sxs-lookup"><span data-stu-id="81f61-126">A *node* is a physical or virtual server machine, or a Platform-as-a-Service role instance, that hosts your app.</span></span>
 * <span data-ttu-id="81f61-127">開發用電腦、用戶端瀏覽器、行動裝置不算節點。</span><span class="sxs-lookup"><span data-stu-id="81f61-127">Development machines, client browsers, and mobile devices are not counted as nodes.</span></span>
 * <span data-ttu-id="81f61-128">如果您的應用程式有數個會傳送遙測的元件，例如 Web 服務和後端背景工作，會將它們分開計算。</span><span class="sxs-lookup"><span data-stu-id="81f61-128">If your app has several components that send telemetry, such as a web service and a back-end worker, they are counted separately.</span></span>
 * <span data-ttu-id="81f61-129">[即時計量資料流](app-insights-live-stream.md)資料不會針對價格目的進行計算。* 橫跨訂用帳戶，您的費用是針對每個節點，而不是每個應用程式。</span><span class="sxs-lookup"><span data-stu-id="81f61-129">[Live Metrics Stream](app-insights-live-stream.md) data isn't counted for pricing purposes.* Across a subscription, your charges are per node, not per app.</span></span> <span data-ttu-id="81f61-130">如果您有五個節點傳送 12 個應用程式的遙測，則是以五個節點計算收費。</span><span class="sxs-lookup"><span data-stu-id="81f61-130">If you have five nodes sending telemetry for 12 apps, then the charge is for five nodes.</span></span>
* <span data-ttu-id="81f61-131">雖然費用是按月報價，您的收費僅適用於一個節點從一個應用程式傳送遙測的任何小時。</span><span class="sxs-lookup"><span data-stu-id="81f61-131">Although charges are quoted per month, you're charged only for any hour in which a node sends telemetry from an app.</span></span> <span data-ttu-id="81f61-132">每小時的費用是月費報價 / 744 (一個月 31 天的小時數)。</span><span class="sxs-lookup"><span data-stu-id="81f61-132">The hourly charge is the quoted monthly charge / 744 (the number of hours in a 31-day month).</span></span>
* <span data-ttu-id="81f61-133">每個節點 (資料粒度為小時) 偵測每日 200 MB 的資料量配置。</span><span class="sxs-lookup"><span data-stu-id="81f61-133">A data volume allocation of 200 MB per day is given for each node detected (with hourly granularity).</span></span> <span data-ttu-id="81f61-134">未使用的資料配置不會帶到隔天。</span><span class="sxs-lookup"><span data-stu-id="81f61-134">Unused data allocation is not carried over from one day to the next.</span></span>
 * <span data-ttu-id="81f61-135">如果您選擇企業價格方案，每個訂用帳戶會根據傳送遙測資料至該訂用帳戶中 Application Insights 資源的節點數，得到每日資料額度。</span><span class="sxs-lookup"><span data-stu-id="81f61-135">If you choose the Enterprise pricing option, each subscription gets a daily allowance of data based on the number of nodes sending telemetry to the Application Insights resources in that subscription.</span></span> <span data-ttu-id="81f61-136">因此，如果您有 5 個節點全天候傳送資料，您會有合起來 1GB 的資料額度，套用至該訂用帳戶中的所有 Application Insights 資源。</span><span class="sxs-lookup"><span data-stu-id="81f61-136">So if you have 5 nodes sending data all day, you will have a pooled allowance of 1 GB applied to all the Application Insights resources in that subscription.</span></span> <span data-ttu-id="81f61-137">由於內含資料會在所有節點之間共用，因此特定節點所傳送的資料是否超過其他節點並無妨。</span><span class="sxs-lookup"><span data-stu-id="81f61-137">It doesn't matter if certain nodes are sending more data than other nodes because the included data is shared across all nodes.</span></span> <span data-ttu-id="81f61-138">如果某一天，Application Insights 資源收到超過此訂用帳戶的每日資料配置，則會按 GB 收取資料超量費用。</span><span class="sxs-lookup"><span data-stu-id="81f61-138">If, on a given day, the Application Insights resources receive more data than is included in the daily data allocation for this subscription, the per-GB overage data charges apply.</span></span> 
 * <span data-ttu-id="81f61-139">每日資料額度的計算方式，是每個節點在當天傳送遙測資料的時數 (使用 UTC) 除以 24 再乘以 200 MB。</span><span class="sxs-lookup"><span data-stu-id="81f61-139">The daily data allowance is calculated as the number of hours in the day (using UTC) that each node is sending telemetry divided by 24 times 200 MB.</span></span> <span data-ttu-id="81f61-140">因此，如果您有 4 個節點在一天 24 個小時的 15 個小時內傳送遙測資料，則當天內含資料量會是 ((4 x 15) / 24) x 200 MB = 500 MB。</span><span class="sxs-lookup"><span data-stu-id="81f61-140">So if you have 4 nodes sending telemetry during 15 of the 24 hours in the day, the included data for that day would be ((4 x 15) / 24) x 200 MB = 500 MB.</span></span> <span data-ttu-id="81f61-141">以資料超量每一 GB 的價格是 2.30 美元來說，如果節點那一天會傳送 1 GB 的資料，費用會是 1.15 美元。</span><span class="sxs-lookup"><span data-stu-id="81f61-141">At the price of 2.30 USD per GB for data overage, the charge for would be 1.15 USD if the nodes send 1 GB of data that day.</span></span>
 * <span data-ttu-id="81f61-142">請注意，「企業」方案的每日額度不能與已選擇「基本」方案的應用程式共用，且未使用的額度也不能帶到隔天。</span><span class="sxs-lookup"><span data-stu-id="81f61-142">Note that the Enterprise plan's daily allowance is not shared with applications for which you have chosen the Basic option and unused allowance is not carried over from day-to-day.</span></span> 
* <span data-ttu-id="81f61-143">以下是判斷不同節點計數的一些範例︰</span><span class="sxs-lookup"><span data-stu-id="81f61-143">Here are some examples of determining distinct node count:</span></span>
| <span data-ttu-id="81f61-144">案例</span><span class="sxs-lookup"><span data-stu-id="81f61-144">Scenario</span></span>                               | <span data-ttu-id="81f61-145">每日節點總數</span><span class="sxs-lookup"><span data-stu-id="81f61-145">Total daily node count</span></span> |
|:---------------------------------------|:----------------:|
| <span data-ttu-id="81f61-146">1 個應用程式使用 3 個 Azure App Service 執行個體和 1 個虛擬伺服器</span><span class="sxs-lookup"><span data-stu-id="81f61-146">1 application is using 3 Azure App Service instances and 1 virtual server</span></span> | <span data-ttu-id="81f61-147">4</span><span class="sxs-lookup"><span data-stu-id="81f61-147">4</span></span> |
| <span data-ttu-id="81f61-148">3 個應用程式在 2 個 VM 上執行，而這些應用程式的 Application Insights 資源位於相同的訂用帳戶中，且採用「企業」方案</span><span class="sxs-lookup"><span data-stu-id="81f61-148">3 applications running on 2 VMs, and the Application Insights resources for these applications are in the same subscription and in the Enterprise plan</span></span> | <span data-ttu-id="81f61-149">2</span><span class="sxs-lookup"><span data-stu-id="81f61-149">2</span></span> | 
| <span data-ttu-id="81f61-150">4 個應用程式，其 Application Insights 資源位於相同訂用帳戶中。</span><span class="sxs-lookup"><span data-stu-id="81f61-150">4 applications whose Applications Insights resources are in the same subscription.</span></span> <span data-ttu-id="81f61-151">在 16 小時的離峰時間裡每個應用程式執行 2 個執行個體，在 8 小時的尖峰時間裡執行 4 個執行個體。</span><span class="sxs-lookup"><span data-stu-id="81f61-151">Each application runs 2 instances during 16 off-peak hours, and 4 instances during 8 peak hours.</span></span> | <span data-ttu-id="81f61-152">13.33</span><span class="sxs-lookup"><span data-stu-id="81f61-152">13.33</span></span> | 
| <span data-ttu-id="81f61-153">雲端服務有 1 個背景工作角色和 1 個 Web 角色，各執行 2 個執行個體</span><span class="sxs-lookup"><span data-stu-id="81f61-153">Cloud services with 1 Worker Role and 1 Web Role, each running 2 instances</span></span> | <span data-ttu-id="81f61-154">4</span><span class="sxs-lookup"><span data-stu-id="81f61-154">4</span></span> | 
| <span data-ttu-id="81f61-155">5 個節的 Service Fabric 叢集執行 50 個微服務，每個微服務執行 3 個執行個體</span><span class="sxs-lookup"><span data-stu-id="81f61-155">5-node Service Fabric Cluster running 50 micro-services, each micro-service running 3 instances</span></span> | <span data-ttu-id="81f61-156">5</span><span class="sxs-lookup"><span data-stu-id="81f61-156">5</span></span>|

* <span data-ttu-id="81f61-157">節點的精確計算行為取決於您的應用程式使用哪個 Application Insights SDK。</span><span class="sxs-lookup"><span data-stu-id="81f61-157">The precise node counting behavior depends on which Application Insights SDK your application is using.</span></span> 
  * <span data-ttu-id="81f61-158">若是 SDK 2.2 及之後的版本，Application Insights [Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) 或 [Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) 會將每個應用程式主機當做節點報告，例如實體伺服器與 VM 主機的電腦名稱 (在雲端服務的案例中則是執行個體名稱)。</span><span class="sxs-lookup"><span data-stu-id="81f61-158">In SDK versions 2.2 and onwards, both the Application Insights [Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) or [Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) will report each application host as a node, for example the computer name for physical server and VM hosts or the instance name in the case of cloud services.</span></span>  <span data-ttu-id="81f61-159">唯一的例外是只使用 [.NET Core](https://dotnet.github.io/) 和 Application Insights Core SDK 的應用程式，此情況下，所有主機只會報告一個節點，因為不知道主機名稱。</span><span class="sxs-lookup"><span data-stu-id="81f61-159">The only exception is applications only using [.NET Core](https://dotnet.github.io/) and the Application Insights Core SDK, in which case only one node will be reported for all hosts because the host name is not available.</span></span> 
  * <span data-ttu-id="81f61-160">對於較早版本的 SDK，[Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) 的行為就和較新版的 SDK 一樣，不過不論實際應用程式主機的數目是多少，[Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) 都只會報告一個節點。</span><span class="sxs-lookup"><span data-stu-id="81f61-160">For earlier versions of the SDK, the [Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) will behave just as the newer SDK versions, however the [Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) will report only one node regardless of the number of actual application hosts.</span></span> 
  * <span data-ttu-id="81f61-161">請注意，如果您的應用程式使用 SDK 將 roleInstance 設為某個自訂值，依預設會用相同的值來判斷節點數目。</span><span class="sxs-lookup"><span data-stu-id="81f61-161">Note that if your application is using the SDK to set roleInstance to a custom value, by default that same value will be used to determine the count of nodes.</span></span> 
  * <span data-ttu-id="81f61-162">如果您使用新的 SDK 版本，搭配從用戶端電腦或行動裝置執行的應用程式，則節點數目可能會傳回很大的數字 (來自大量的用戶端電腦或行動裝置)。</span><span class="sxs-lookup"><span data-stu-id="81f61-162">If you are using a new SDK version with an app that is run from client machines or mobile devices, it is possible that the count of nodes might return a number which is very large (from the large number of client machines or mobile devices).</span></span> 

### <a name="multi-step-web-tests"></a><span data-ttu-id="81f61-163">多重步驟 Web 測試</span><span class="sxs-lookup"><span data-stu-id="81f61-163">Multi-step web tests</span></span>

<span data-ttu-id="81f61-164">[多步驟 Web 測試](app-insights-monitor-web-app-availability.md#multi-step-web-tests)會有一項額外的費用。</span><span class="sxs-lookup"><span data-stu-id="81f61-164">There's an additional charge for [multi-step web tests](app-insights-monitor-web-app-availability.md#multi-step-web-tests).</span></span> <span data-ttu-id="81f61-165">這是指執行連續動作的 Web 測試。</span><span class="sxs-lookup"><span data-stu-id="81f61-165">This refers to web tests that perform a sequence of actions.</span></span> 

<span data-ttu-id="81f61-166">單一頁面的 ping 測試沒有另外的費用。</span><span class="sxs-lookup"><span data-stu-id="81f61-166">There is no separate charge for 'ping tests' of a single page.</span></span> <span data-ttu-id="81f61-167">來自 ping 測試和多步驟測試的遙測，會與來自您應用程式的其他遙測一起計費。</span><span class="sxs-lookup"><span data-stu-id="81f61-167">Telemetry from both ping tests and multi-step tests is charged along with other telemetry from your app.</span></span>
 
## <a name="operations-management-suite-subscription-entitlement"></a><span data-ttu-id="81f61-168">Operations Management Suite 訂用帳戶權利</span><span class="sxs-lookup"><span data-stu-id="81f61-168">Operations Management Suite subscription entitlement</span></span>

<span data-ttu-id="81f61-169">在[最近宣布](https://blogs.technet.microsoft.com/msoms/2017/05/19/azure-application-insights-enterprise-as-part-of-operations-management-suite-subscription/)，購買 Microsoft Operations Management Suite E1 和 E2 的客戶可以取得 Application Insights Enterprise 作為額外的元件，不需其他成本。</span><span class="sxs-lookup"><span data-stu-id="81f61-169">As [recently announced](https://blogs.technet.microsoft.com/msoms/2017/05/19/azure-application-insights-enterprise-as-part-of-operations-management-suite-subscription/), customers who purchase Microsoft Operations Management Suite E1 and E2 are able to get Application Insights Enterprise as an additional component at no additional cost.</span></span> <span data-ttu-id="81f61-170">具體來說，Operations Management Suite E1 和 E2 的每個單位包含 1 個 Application Insights Enterprise 方案節點的權利。</span><span class="sxs-lookup"><span data-stu-id="81f61-170">Specifically, each unit of Operations Management Suite E1 and E2 includes an entitlement to 1 node of the Enterprise plan of Application Insights.</span></span> <span data-ttu-id="81f61-171">如先前所述，每個 Application Insights 節點包含每天最多 200 MB 的內嵌資料 (獨立於 Log Analytics 資料擷取)，具有 90 天資料保留期，不需其他費用。</span><span class="sxs-lookup"><span data-stu-id="81f61-171">As noted above, each Application Insights node includes up to 200 MB of data ingested per day (separate from Log Analytics data ingestion), with 90-day data retention at no additional cost.</span></span> 

> [!NOTE]
> <span data-ttu-id="81f61-172">若要確保您取得此權利，您的 Application Insights 資源必須在 Enterprise 定價方案中。</span><span class="sxs-lookup"><span data-stu-id="81f61-172">To ensure that you get this entitlement, you must have your Application Insights resources in the Enterprise pricing plan.</span></span> <span data-ttu-id="81f61-173">此權利僅適用作為節點，因此基本方案中的 Application Insights 資源不會帶來任何效益。</span><span class="sxs-lookup"><span data-stu-id="81f61-173">This entitlement applies only as nodes, so Application Insights resources in the Basic plan will not realize any benefit.</span></span> <span data-ttu-id="81f61-174">請注意，此權利將不會顯示在 [功能 + 定價] 刀鋒視窗上顯示的估計成本。</span><span class="sxs-lookup"><span data-stu-id="81f61-174">Note that this entitlement will not be visible on the estimated costs shown on the Features + pricing blade.</span></span> 
>
 
## <a name="review-pricing-plans-and-estimate-costs"></a><span data-ttu-id="81f61-175">檢閱定價方案和估計成本</span><span class="sxs-lookup"><span data-stu-id="81f61-175">Review pricing plans and estimate costs</span></span>

<span data-ttu-id="81f61-176">Applicaition Insights 可讓您輕鬆地了解可用的定價方案，以及根據最近的使用模式可能的成本。</span><span class="sxs-lookup"><span data-stu-id="81f61-176">Applicaition Insights makes it easy to understand the pricing plans available and what the costs are likely be be based on recent usage patterns.</span></span> <span data-ttu-id="81f61-177">從開啟 Azure 入口網站之 Application Insights 資源中的 [功能 + 定價] 刀鋒視窗開始：</span><span class="sxs-lookup"><span data-stu-id="81f61-177">Start by opening the **Features + Pricing** blade in the Application Insights resource in the Azure portal:</span></span>

![選擇價格。](./media/app-insights-pricing/01-pricing.png)

<span data-ttu-id="81f61-179">**a.**</span><span class="sxs-lookup"><span data-stu-id="81f61-179">**a.**</span></span> <span data-ttu-id="81f61-180">檢閱當月的資料量。</span><span class="sxs-lookup"><span data-stu-id="81f61-180">Review your data volume for the month.</span></span> <span data-ttu-id="81f61-181">這包括從您的伺服器和用戶端應用程式，以及從可用性測試接收並保留的所有資料 (在任何[取樣](app-insights-sampling.md)之後)。</span><span class="sxs-lookup"><span data-stu-id="81f61-181">This includes all the data received and retained (after any [sampling](app-insights-sampling.md) from your server and client apps, and from availability tests.</span></span>

<span data-ttu-id="81f61-182">**b.**</span><span class="sxs-lookup"><span data-stu-id="81f61-182">**b.**</span></span> <span data-ttu-id="81f61-183">進行[多步驟 Web 測試](app-insights-monitor-web-app-availability.md#multi-step-web-tests)需另外收費。</span><span class="sxs-lookup"><span data-stu-id="81f61-183">A separate charge is made for [multi-step web tests](app-insights-monitor-web-app-availability.md#multi-step-web-tests).</span></span> <span data-ttu-id="81f61-184">(這不包括簡單的可用性測試，其已包含在資料量費用中。)</span><span class="sxs-lookup"><span data-stu-id="81f61-184">(This doesn't include simple availability tests, which are included in the data volume charge.)</span></span>

<span data-ttu-id="81f61-185">**c.**</span><span class="sxs-lookup"><span data-stu-id="81f61-185">**c.**</span></span> <span data-ttu-id="81f61-186">啟用企業方案。</span><span class="sxs-lookup"><span data-stu-id="81f61-186">Enable the Enterprise plan.</span></span>

<span data-ttu-id="81f61-187">**d.**</span><span class="sxs-lookup"><span data-stu-id="81f61-187">**d.**</span></span> <span data-ttu-id="81f61-188">逐一點選資料管理選項，以檢視上個月的資料量，並設定每日上限或設定擷取取樣。</span><span class="sxs-lookup"><span data-stu-id="81f61-188">Click through to data management options to view data volume for the last month, set a daily cap or set ingestion sampling.</span></span>

<span data-ttu-id="81f61-189">Application Insights 費用會加到您的 Azure 帳單中。</span><span class="sxs-lookup"><span data-stu-id="81f61-189">Application Insights charges are added to your Azure bill.</span></span> <span data-ttu-id="81f61-190">您可以在 Azure 入口網站中的 [帳務] 區段中，或在 [Azure 計費入口網站](https://account.windowsazure.com/Subscriptions)中，查看 Azure 帳單的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="81f61-190">You can see details of your Azure bill on the Billing section of the Azure portal or in the [Azure Billing Portal](https://account.windowsazure.com/Subscriptions).</span></span> 

![選擇側邊功能表中的 [帳務]。](./media/app-insights-pricing/02-billing.png)

## <a name="data-rate"></a><span data-ttu-id="81f61-192">資料速率</span><span class="sxs-lookup"><span data-stu-id="81f61-192">Data rate</span></span>
<span data-ttu-id="81f61-193">有三種方式可限制您傳送的資料量︰</span><span class="sxs-lookup"><span data-stu-id="81f61-193">There are three ways in which the volume you send data is limited:</span></span>

* <span data-ttu-id="81f61-194">**取樣︰**這個機制可用來減少您的伺服器和用戶端應用程式所傳送的遙測量，計量的扭曲程度最小。</span><span class="sxs-lookup"><span data-stu-id="81f61-194">**Sampling:** This mechanism can be used reduce the amount of telemetry sent from your server and client apps, with minimal distortion of metrics.</span></span> <span data-ttu-id="81f61-195">這是您調整資料量的主要工具。</span><span class="sxs-lookup"><span data-stu-id="81f61-195">This is the primary tool you have to tune the amount of data.</span></span> <span data-ttu-id="81f61-196">深入了解[取樣功能](app-insights-sampling.md)。</span><span class="sxs-lookup"><span data-stu-id="81f61-196">Learn more about [sampling features](app-insights-sampling.md).</span></span> 
* <span data-ttu-id="81f61-197">**每日上限：**從 Azure 入口網站建立 Application Insights 資源時，會將此設為每日 500 GB。</span><span class="sxs-lookup"><span data-stu-id="81f61-197">**Daily cap:** When creating an Application Insights resource from the Azure portal this is set to 500 GB/day.</span></span> <span data-ttu-id="81f61-198">從 Visual Studio 建立 Application Insights 資源時的預設值很小 (只有 32.3 MB/天)，僅旨在協助測試。</span><span class="sxs-lookup"><span data-stu-id="81f61-198">The default when creating an Application Insights resource from Visual Studio, is small (only 32.3 MB/day) which is intended only to faciliate testing.</span></span> <span data-ttu-id="81f61-199">在此情況下，用意在於使用者在將應用程式部署至實際執行環境之前，會提高每日的上限。</span><span class="sxs-lookup"><span data-stu-id="81f61-199">In this case it is intended that the user will raise the daily cap before deploying the app into production.</span></span> <span data-ttu-id="81f61-200">除非您針對高流量的應用程式要求更高的最大值，否則每日的最高上限是 500 GB。</span><span class="sxs-lookup"><span data-stu-id="81f61-200">The maximum cap is 500 GB/day unless you have requested a higher maximum for a high traffic application.</span></span> <span data-ttu-id="81f61-201">設定每日的上限時請留意，您的目標應該是**絕不達到每日上限**，因為這樣一來您將會遺失每日剩餘項目的資料，且無法監視您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="81f61-201">Use care when setting the daily cap, as your intent should be **never to hit the daily cap**, because you will then lose data for the remainder of the day and be unable to monitor your application.</span></span> <span data-ttu-id="81f61-202">若要變更，請從 [資料量管理] 刀鋒視窗連結來使用 [每日用量上限] 刀鋒視窗 (如下所示)。</span><span class="sxs-lookup"><span data-stu-id="81f61-202">To change it, use the Daily volume cap blade, linked from the Data Volume Management blade (see below).</span></span> <span data-ttu-id="81f61-203">請注意，有些訂用帳戶類型的信用額度無法用於 Application Insights。</span><span class="sxs-lookup"><span data-stu-id="81f61-203">Note that some subscription types have credit which cannot be used for Application Insights.</span></span> <span data-ttu-id="81f61-204">如果訂用帳戶內含消費限制，則 [每日上限] 刀鋒視窗中會有指示，說明如何將它移除，並讓每日上限提高至每天 32.3 MB。</span><span class="sxs-lookup"><span data-stu-id="81f61-204">If the subscription has a spending limit, the daily cap blade will have instructions how to remove it and enable the daily cap to be raised beyond 32.3 MB/day.</span></span>  
* <span data-ttu-id="81f61-205">**節流：**這會將資料速率限制在每秒 32,000 個事件，平均超過 1 分鐘。</span><span class="sxs-lookup"><span data-stu-id="81f61-205">**Throttling:** This limits the data rate to 32 k events per second, averaged over 1 minute.</span></span> 


<span data-ttu-id="81f61-206">如果應用程式超過節流速率會發生什麼事？</span><span class="sxs-lookup"><span data-stu-id="81f61-206">*What happens if my app exceeds the throttling rate?*</span></span>

* <span data-ttu-id="81f61-207">系統會每分鐘評估應用程式傳送的資料量。</span><span class="sxs-lookup"><span data-stu-id="81f61-207">The volume of data that your app sends is assessed every minute.</span></span> <span data-ttu-id="81f61-208">如果每秒速率超過每分鐘平均值，伺服器會拒絕部分要求。</span><span class="sxs-lookup"><span data-stu-id="81f61-208">If it exceeds the per-second rate averaged over the minute, the server refuses some requests.</span></span> <span data-ttu-id="81f61-209">SDK 會緩衝處理資料，然後嘗試重新傳送，大量傳播幾分鐘。</span><span class="sxs-lookup"><span data-stu-id="81f61-209">The SDK buffers the data and then tries to resend, spreading a surge out over several minutes.</span></span> <span data-ttu-id="81f61-210">如果應用程式始終以高於節流速率的方式傳送資料，有些資料會遭到捨棄 </span><span class="sxs-lookup"><span data-stu-id="81f61-210">If your app consistently sends data at above the throttling rate, some data will be dropped.</span></span> <span data-ttu-id="81f61-211">(ASP.NET、Java 和 JavaScript SDK 會嘗試以此方式重新傳送，其他 SDK 則可能直接捨棄節流的資料)。當節流發生時，您會看到警告您這種情況已發生的通知。</span><span class="sxs-lookup"><span data-stu-id="81f61-211">(The ASP.NET, Java, and JavaScript SDKs try to resend in this way; other SDKs might simply drop throttled data.) If throttling occurs, you'll see a notification warning that this has happened.</span></span>

<span data-ttu-id="81f61-212">如何知道應用程式正在傳送多少資料？</span><span class="sxs-lookup"><span data-stu-id="81f61-212">*How do I know how much data my app is sending?*</span></span>

* <span data-ttu-id="81f61-213">開啟 [資料量管理] 刀鋒視窗，查看每日資料量的圖表。</span><span class="sxs-lookup"><span data-stu-id="81f61-213">Open the **Data volume management** blade to see the Daily data volume chart.</span></span> 
* <span data-ttu-id="81f61-214">或在 [計量瀏覽器] 中，新增新的圖表，然後選取 [資料點數量] 做為其計量。</span><span class="sxs-lookup"><span data-stu-id="81f61-214">Or in Metrics Explorer, add a new chart and select **Data point volume** as its metric.</span></span> <span data-ttu-id="81f61-215">切換群組，並依 [資料類型] 分組。</span><span class="sxs-lookup"><span data-stu-id="81f61-215">Switch on Grouping, and group by **Data type**.</span></span>

## <a name="to-reduce-your-data-rate"></a><span data-ttu-id="81f61-216">降低資料速率</span><span class="sxs-lookup"><span data-stu-id="81f61-216">To reduce your data rate</span></span>
<span data-ttu-id="81f61-217">以下是您可進行以減少資料量的一些事項︰</span><span class="sxs-lookup"><span data-stu-id="81f61-217">Here are some things you can do to reduce your data volume:</span></span>

* <span data-ttu-id="81f61-218">使用 [取樣](app-insights-sampling.md)。</span><span class="sxs-lookup"><span data-stu-id="81f61-218">Use [Sampling](app-insights-sampling.md).</span></span> <span data-ttu-id="81f61-219">這項技術可減少資料率而不會曲解您的計量，且不會中斷在 [搜尋] 中於相關項目之間瀏覽的能力。</span><span class="sxs-lookup"><span data-stu-id="81f61-219">This technology reduces data rate without skewing your metrics, and without disrupting the ability to navigate between related items in Search.</span></span> <span data-ttu-id="81f61-220">在伺服器應用程式，它會自動運作。</span><span class="sxs-lookup"><span data-stu-id="81f61-220">In server apps, it operates automatically.</span></span>
* <span data-ttu-id="81f61-221">[限制可回報的 Ajax 呼叫次數](app-insights-javascript.md#detailed-configuration) (在每個頁面檢視中) 或關閉 Ajax 報告功能。</span><span class="sxs-lookup"><span data-stu-id="81f61-221">[Limit the number of Ajax calls that can be reported](app-insights-javascript.md#detailed-configuration) in every page view, or switch off Ajax reporting.</span></span>
* <span data-ttu-id="81f61-222">藉由 [編輯 ApplicationInsights.config](app-insights-configuration-with-applicationinsights-config.md)來關閉您不需要的集合模組。例如，您可能會決定效能計數器或相依性資料是不必要的。</span><span class="sxs-lookup"><span data-stu-id="81f61-222">Switch off collection modules you don't need by [editing ApplicationInsights.config](app-insights-configuration-with-applicationinsights-config.md). For example, you might decide that performance counters or dependency data are inessential.</span></span>
* <span data-ttu-id="81f61-223">分割您的遙測，以區隔檢測金鑰。</span><span class="sxs-lookup"><span data-stu-id="81f61-223">Split your telemetry to separate instrumentation keys.</span></span> 
* <span data-ttu-id="81f61-224">預先彙總度量。</span><span class="sxs-lookup"><span data-stu-id="81f61-224">Pre-aggregate metrics.</span></span> <span data-ttu-id="81f61-225">如果您在應用程式中呼叫 TrackMetric，您可以使用接受批次測量之平均及標準差計算的多載來減少流量。</span><span class="sxs-lookup"><span data-stu-id="81f61-225">If you have put calls to TrackMetric in your app, you can reduce traffic by using the overload that accepts your calculation of the average and standard deviation of a batch of measurements.</span></span> <span data-ttu-id="81f61-226">您也可以使用 [預先彙總套件](https://www.myget.org/gallery/applicationinsights-sdk-labs)。</span><span class="sxs-lookup"><span data-stu-id="81f61-226">Or you can use a [pre-aggregating package](https://www.myget.org/gallery/applicationinsights-sdk-labs).</span></span>

## <a name="managing-the-maximum-daily-data-volume"></a><span data-ttu-id="81f61-227">管理最大每日資料量</span><span class="sxs-lookup"><span data-stu-id="81f61-227">Managing the maximum daily data volume</span></span>

<span data-ttu-id="81f61-228">您可以使用每日用量上限來限制收集的資料量，但如果達到該上限，您便會失去當天接下來所有來自應用程式的遙測。</span><span class="sxs-lookup"><span data-stu-id="81f61-228">You can use the daily volume cap to limit the data collected, but if the cap is met, it will result in a loss of all telemetery sent from your application for the remainder of the day.</span></span> <span data-ttu-id="81f61-229">我們「不建議」讓您的應用程式達到每日上限，因為在達到該上限後，您將無法追蹤應用程式的健康狀態和效能。</span><span class="sxs-lookup"><span data-stu-id="81f61-229">It is **not advisable** to have your application to hit the daily cap since you are unable to track the health and performance of your application after it is hit.</span></span> 

<span data-ttu-id="81f61-230">請改為使用[取樣](app-insights-sampling.md)來將資料量調整到您所需的程度，並只將每日上限做為「最後的手段」，以防您的應用程式開始未預期地傳送大量遙測。</span><span class="sxs-lookup"><span data-stu-id="81f61-230">Instead, use  [Sampling](app-insights-sampling.md) to tune the data volume to the level you'd like, and use the daily cap only as a "last resort" in case your application starts sending much higher volumes of telemetery unexpectedly.</span></span> 

<span data-ttu-id="81f61-231">若要變更每日上限，請在您 Application Insights 的 [設定] 區段中依序按一下 [資料量管理]、[每日上限]。</span><span class="sxs-lookup"><span data-stu-id="81f61-231">To change the daily cap, in the Configure section of your Application Insihgts resource, click **Data volume management** then **Daily Cap**.</span></span>

![調整每日遙測資料量上限](./media/app-insights-pricing/daily-cap.png) 

## <a name="sampling"></a><span data-ttu-id="81f61-233">取樣</span><span class="sxs-lookup"><span data-stu-id="81f61-233">Sampling</span></span>
<span data-ttu-id="81f61-234">[取樣](app-insights-sampling.md) 可以降低將遙測傳送到您 App 的速率，同時仍保留在診斷搜尋時尋找相關事件的功能，並保有正確的事件計數。</span><span class="sxs-lookup"><span data-stu-id="81f61-234">[Sampling](app-insights-sampling.md) is a method of reducing the rate at which telemetry is sent to your app, while still retaining the ability to find related events during diagnostic searches, and still retaining correct event counts.</span></span> 

<span data-ttu-id="81f61-235">取樣可有效減少費用並維持在每月配額內。</span><span class="sxs-lookup"><span data-stu-id="81f61-235">Sampling is an effective way to reduce charges and stay within your monthly quota.</span></span> <span data-ttu-id="81f61-236">取樣演算法會保留遙測的相關項目，例如：使用「搜尋」時，可以找到與特定例外狀況相關的要求。</span><span class="sxs-lookup"><span data-stu-id="81f61-236">The sampling algorithm retains related items of telemetry, so that, for example, when you use Search, you can find the request related to a particular exception.</span></span> <span data-ttu-id="81f61-237">此演算法也會保留正確的計數，方便您在計量瀏覽器中查看正確的要求率、例外狀況率，以及其他計數等數值。</span><span class="sxs-lookup"><span data-stu-id="81f61-237">The algorithm also retains correct counts, so that you see the correct values in Metric Explorer for request rates, exception rates, and other counts.</span></span>

<span data-ttu-id="81f61-238">取樣有數種形式。</span><span class="sxs-lookup"><span data-stu-id="81f61-238">There are several forms of sampling.</span></span>

* <span data-ttu-id="81f61-239">[調適性取樣](app-insights-sampling.md) 是 ASP.NET SDK 的預設值，它能自動針對應用程式所傳送的遙測量進行調整。</span><span class="sxs-lookup"><span data-stu-id="81f61-239">[Adaptive sampling](app-insights-sampling.md) is the default for the ASP.NET SDK, which automatically adjusts to the volume of telemetry that your app sends.</span></span> <span data-ttu-id="81f61-240">這會自動在 Web 應用程式中的 SDK 運作，所以能降低網路上的遙測流量。</span><span class="sxs-lookup"><span data-stu-id="81f61-240">It operates automatically in the SDK in your web app, so that the telemetry traffic on the network is reduced.</span></span> 
* <span data-ttu-id="81f61-241"> 是替代方法，它會在遙測從應用程式進入 Application Insights 服務時運作。</span><span class="sxs-lookup"><span data-stu-id="81f61-241">*Ingestion sampling* is an alternative that operates at the point where telemetry from your app enters the Application Insights service.</span></span> <span data-ttu-id="81f61-242">它並不會影響從應用程式傳送的遙測大小，但可減少服務保留的大小。</span><span class="sxs-lookup"><span data-stu-id="81f61-242">It doesn't affect the volume of telemetry sent from your app, but it reduces the volume retained by the service.</span></span> <span data-ttu-id="81f61-243">您可以用它來減少瀏覽器和其他 SDK 遙測所用的配額。</span><span class="sxs-lookup"><span data-stu-id="81f61-243">You can use it to reduce the quota used up by telemetry from browsers and other SDKs.</span></span>

<span data-ttu-id="81f61-244">若要設定擷取取樣，請在 [價格] 刀鋒視窗中設定控制項：</span><span class="sxs-lookup"><span data-stu-id="81f61-244">To set ingestion sampling, set the control in the Pricing blade:</span></span>

![在 [配額和價格] 刀鋒視窗中，按一下 [範例] 磚，然後選取取樣分數。](./media/app-insights-pricing/04.png)

> [!WARNING]
> <span data-ttu-id="81f61-246">[資料取樣] 刀鋒視窗只會控制擷取取樣的值。</span><span class="sxs-lookup"><span data-stu-id="81f61-246">The Data sampling blade only controls the value of ingestion sampling.</span></span> <span data-ttu-id="81f61-247">它並不會反映應用程式中的 Application Insights SDK 所套用的取樣率。</span><span class="sxs-lookup"><span data-stu-id="81f61-247">It doesn't reflect the sampling rate that is being applied by the Application Insights SDK in your app.</span></span> <span data-ttu-id="81f61-248">如果已在 SDK 進行連入遙測的取樣，則不適用擷取取樣。</span><span class="sxs-lookup"><span data-stu-id="81f61-248">If the incoming telemetry has already been sampled at the SDK, ingestion sampling is not applied.</span></span>
> 

<span data-ttu-id="81f61-249">若要找出實際的取樣率 (不論是否已套用)，請使用如下所示的 [分析查詢](app-insights-analytics.md) ︰</span><span class="sxs-lookup"><span data-stu-id="81f61-249">To discover the actual sampling rate no matter where it has been applied, use an [Analytics query](app-insights-analytics.md) such as this:</span></span>

    requests | where timestamp > ago(1d)
    | summarize 100/avg(itemCount) by bin(timestamp, 1h) 
    | render areachart 

<span data-ttu-id="81f61-250">在每筆保留的記錄中， `itemCount` 表示它所代表的原始記錄筆數，其等於 1 + 先前捨棄的記錄筆數。</span><span class="sxs-lookup"><span data-stu-id="81f61-250">In each retained record, `itemCount` indicates the number of original records that it represents, equal to 1 + the number of previous discarded records.</span></span> 


## <a name="automation"></a><span data-ttu-id="81f61-251">自動化</span><span class="sxs-lookup"><span data-stu-id="81f61-251">Automation</span></span>

<span data-ttu-id="81f61-252">您可以使用 Azure 資源管理撰寫指令碼，以設定價格方案。</span><span class="sxs-lookup"><span data-stu-id="81f61-252">You can write a script to set the price plan, using Azure Resource Management.</span></span> <span data-ttu-id="81f61-253">[了解作法](app-insights-powershell.md#price)。</span><span class="sxs-lookup"><span data-stu-id="81f61-253">[Learn how](app-insights-powershell.md#price).</span></span>

## <a name="limits-summary"></a><span data-ttu-id="81f61-254">限制摘要</span><span class="sxs-lookup"><span data-stu-id="81f61-254">Limits summary</span></span>
[!INCLUDE [application-insights-limits](../../includes/application-insights-limits.md)]

## <a name="next-steps"></a><span data-ttu-id="81f61-255">後續步驟</span><span class="sxs-lookup"><span data-stu-id="81f61-255">Next steps</span></span>

* [<span data-ttu-id="81f61-256">取樣</span><span class="sxs-lookup"><span data-stu-id="81f61-256">Sampling</span></span>](app-insights-sampling.md)

<!--Link references-->

[api]: app-insights-api-custom-events-metrics.md
[apiproperties]: app-insights-api-custom-events-metrics.md#properties
[start]: app-insights-overview.md
[pricing]: http://azure.microsoft.com/pricing/details/application-insights/

