---
title: "串流分析簡介 | Microsoft Docs"
description: "了解串流分析，這是可協助您即時分析物聯網 (IoT) 資料流的受管理服務。"
keywords: "分析服務, 受管理服務, 串流處理, 串流分析, 什麼是串流分析"
services: stream-analytics
documentationcenter: 
author: jenniehubbard
manager: jhubbard
editor: cgronlun
ms.assetid: 613c9b01-d103-46e0-b0ca-0839fee94ca8
ms.service: stream-analytics
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 08/08/2017
ms.author: jhubbard
ms.openlocfilehash: daaec2b986af8b3f2fc020e01d8fb0f47ffb2df0
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="what-is-stream-analytics"></a><span data-ttu-id="1779e-104">什麼是串流分析？</span><span class="sxs-lookup"><span data-stu-id="1779e-104">What is Stream Analytics?</span></span>

<span data-ttu-id="1779e-105">Azure 串流分析是可完全管理的事件處理引擎，可讓您設定串流資料的即時分析計算。</span><span class="sxs-lookup"><span data-stu-id="1779e-105">Azure Stream Analytics is a fully managed event-processing engine that lets you set up real-time analytic computations on streaming data.</span></span> <span data-ttu-id="1779e-106">資料可來自裝置、感應器、網站、社交媒體摘要、應用程式和基礎結構系統等等。</span><span class="sxs-lookup"><span data-stu-id="1779e-106">The data can come from devices, sensors, web sites, social media feeds, applications, infrastructure systems, and more.</span></span> 

## <a name="what-can-i-do-with-stream-analytics"></a><span data-ttu-id="1779e-107">如何使用串流分析？</span><span class="sxs-lookup"><span data-stu-id="1779e-107">What can I do with Stream Analytics?</span></span>

<span data-ttu-id="1779e-108">使用串流分析檢查來自裝置或處理程序的大量資料流、從資料流擷取資訊，以及尋找模式、趨勢和關聯性。</span><span class="sxs-lookup"><span data-stu-id="1779e-108">Use Stream Analytics to examine high volumes of data flowing from devices or processes, extract information from the data stream, and look for patterns, trends, and relationships.</span></span> <span data-ttu-id="1779e-109">根據資料的內容，您可以接著執行應用程式工作。</span><span class="sxs-lookup"><span data-stu-id="1779e-109">Based on what's in the data, you can then perform application tasks.</span></span> <span data-ttu-id="1779e-110">例如，您可以引發警示、開始進行自動化工作流程、將資訊提供給 Power BI 等報表工具，或是儲存資料，以便之後進行調查。</span><span class="sxs-lookup"><span data-stu-id="1779e-110">For example, you might raise alerts, kick off automation workflows, feed information to a reporting tool such as Power BI, or store data for later investigation.</span></span> 

<span data-ttu-id="1779e-111">範例：</span><span class="sxs-lookup"><span data-stu-id="1779e-111">Examples:</span></span>

* <span data-ttu-id="1779e-112">由金融服務公司所提供的個人化即時股票交易分析和警示。</span><span class="sxs-lookup"><span data-stu-id="1779e-112">Personalized, real-time stock-trading analysis and alerts offered by financial services companies.</span></span>
* <span data-ttu-id="1779e-113">透過檢查交易資料即時偵測詐騙行動。</span><span class="sxs-lookup"><span data-stu-id="1779e-113">Real-time fraud detection based on examining transaction data.</span></span> 
* <span data-ttu-id="1779e-114">資料與身分識別保護服務。</span><span class="sxs-lookup"><span data-stu-id="1779e-114">Data and identity protection services.</span></span>
* <span data-ttu-id="1779e-115">分析實體物件 (物聯網或 IoT) 中裝載的感應器和傳動器所產生的資料。</span><span class="sxs-lookup"><span data-stu-id="1779e-115">Analysis of data generated by sensors and actuators embedded in physical objects (Internet of Things, or IoT).</span></span>
* <span data-ttu-id="1779e-116">Web 點選流分析。</span><span class="sxs-lookup"><span data-stu-id="1779e-116">Web clickstream analytics.</span></span>
* <span data-ttu-id="1779e-117">客戶關係管理 (CRM) 應用程式，例如當客戶體驗的表現在某段時間內變差時發出警示。</span><span class="sxs-lookup"><span data-stu-id="1779e-117">Customer relationship management (CRM) applications, such as issuing alerts when customer experience within a time frame is degraded.</span></span>

## <a name="how-does-stream-analytics-work"></a><span data-ttu-id="1779e-118">串流分析如何運作？</span><span class="sxs-lookup"><span data-stu-id="1779e-118">How does Stream Analytics work?</span></span>

<span data-ttu-id="1779e-119">此圖說明串流分析的流程，您將了解如何擷取、分析，並將資料傳送出去進行簡報或執行動作。</span><span class="sxs-lookup"><span data-stu-id="1779e-119">This diagram illustrates the Stream Analytics pipeline, showing how data is ingested, analyzed, and then sent for presentation or action.</span></span> 

![串流分析流程](./media/stream-analytics-introduction/stream_analytics_intro_pipeline.png)

<span data-ttu-id="1779e-121">串流分析會從串流資料的來源開始。</span><span class="sxs-lookup"><span data-stu-id="1779e-121">Stream Analytics starts with a source of streaming data.</span></span> <span data-ttu-id="1779e-122">透過 Azure 事件中樞或 IoT 中樞，您可以將資料從裝置擷取至 Azure。</span><span class="sxs-lookup"><span data-stu-id="1779e-122">The data can be ingested into Azure from a device using an Azure event hub or IoT hub.</span></span> <span data-ttu-id="1779e-123">也可以從 Azure Blob 儲存體等資料存放區提取資料。</span><span class="sxs-lookup"><span data-stu-id="1779e-123">The data can also be pulled from a data store like Azure Blob Storage.</span></span> 

<span data-ttu-id="1779e-124">若要檢查資料流，您可以建立指定資料來源的串流分析作業。</span><span class="sxs-lookup"><span data-stu-id="1779e-124">To examine the stream, you create a Stream Analytics *job* that specifies where the data is coming from.</span></span> <span data-ttu-id="1779e-125">該作業也會指定「轉換」&mdash;功能如何尋找資料、模式或關聯性。</span><span class="sxs-lookup"><span data-stu-id="1779e-125">The job also specifies a *transformation*&mdash;how to look for data, patterns, or relationships.</span></span> <span data-ttu-id="1779e-126">針對這項工作，串流分析支援類似 SQL 的查詢語言，可讓您篩選、排序、彙總和聯結一段時間內的串流資料。</span><span class="sxs-lookup"><span data-stu-id="1779e-126">For this task, Stream Analytics supports a SQL-like query language that lets you filter, sort, aggregate, and join streaming data over a time period.</span></span>

<span data-ttu-id="1779e-127">最後，該作業會指定輸出以傳送轉換的資料。</span><span class="sxs-lookup"><span data-stu-id="1779e-127">Finally, the job specifies an output to send the transformed data to.</span></span> <span data-ttu-id="1779e-128">這可讓您控制要執行什麼工作來回應分析的資訊。</span><span class="sxs-lookup"><span data-stu-id="1779e-128">This lets you control what to do in response to the information you've analyzed.</span></span> <span data-ttu-id="1779e-129">例如，您可以執行以下動作來回應分析：</span><span class="sxs-lookup"><span data-stu-id="1779e-129">For example, in response to analysis, you might:</span></span>

* <span data-ttu-id="1779e-130">傳送命令以變更裝置的設定。</span><span class="sxs-lookup"><span data-stu-id="1779e-130">Send a command to change a device's settings.</span></span> 
* <span data-ttu-id="1779e-131">將資料傳送至由處理程序監視的佇列，處理程序會根據找到的內容採取動作。</span><span class="sxs-lookup"><span data-stu-id="1779e-131">Send data to a queue that's monitored by a process that takes action based on what it finds.</span></span> 
* <span data-ttu-id="1779e-132">將資料傳送至 Power BI 儀表板以產生報表。</span><span class="sxs-lookup"><span data-stu-id="1779e-132">Send data to a Power BI dashboard for reporting.</span></span>
* <span data-ttu-id="1779e-133">將資料傳送至儲存體，例如 Data Lake Store、SQL Server 資料庫或 Azure Blob 或表格儲存體等。</span><span class="sxs-lookup"><span data-stu-id="1779e-133">Send data to storage like Data Lake Store, SQL Server database, or Azure Blob or Table storage.</span></span>

<span data-ttu-id="1779e-134">執行作業時，您可以監視作業和調整其每秒處理的事件數。</span><span class="sxs-lookup"><span data-stu-id="1779e-134">You can monitor it and adjust how many events it processes per second while a job is running.</span></span> <span data-ttu-id="1779e-135">您也可以取得作業的產生診斷記錄，以便進行移難排解。</span><span class="sxs-lookup"><span data-stu-id="1779e-135">You can also have jobs produce diagnostic logs for troubleshooting.</span></span>

## <a name="key-capabilities-and-benefits"></a><span data-ttu-id="1779e-136">主要功能和優點</span><span class="sxs-lookup"><span data-stu-id="1779e-136">Key capabilities and benefits</span></span>

<span data-ttu-id="1779e-137">串流分析的設計訴求是方便使用、具靈活性、適用於任何作業大小，以及經濟實惠。</span><span class="sxs-lookup"><span data-stu-id="1779e-137">Stream Analytics is designed to be easy to use, flexible, scalable to any job size, and economical.</span></span>

### <a name="connectivity-to-many-inputs-and-outputs"></a><span data-ttu-id="1779e-138">可與許多輸入和輸出連線</span><span class="sxs-lookup"><span data-stu-id="1779e-138">Connectivity to many inputs and outputs</span></span>

<span data-ttu-id="1779e-139">串流分析會直接連線到 [Azure 事件中樞](https://azure.microsoft.com/services/event-hubs/)和 [Azure IoT 中樞](https://azure.microsoft.com/services/iot-hub/)進行串流擷取，並連線到 [Azure Blob 儲存體服務](https://docs.microsoft.com/azure/storage/storage-introduction#blob-storage-accounts)以取得歷史資料。</span><span class="sxs-lookup"><span data-stu-id="1779e-139">Stream Analytics connects directly to [Azure Event Hubs](https://azure.microsoft.com/services/event-hubs/) and [Azure IoT Hub](https://azure.microsoft.com/services/iot-hub/) for stream ingestion, and the [Azure Blob storage service](https://docs.microsoft.com/azure/storage/storage-introduction#blob-storage-accounts) to ingest historical data.</span></span> <span data-ttu-id="1779e-140">如果您從事件中樞取得資料，可以結合串流分析與其他資料來源和處理引擎。</span><span class="sxs-lookup"><span data-stu-id="1779e-140">If you get data from event hubs, you can combine Stream Analytics with other data sources and processing engines.</span></span>

<span data-ttu-id="1779e-141">作業輸入也可以包含參考資料 (靜態或變更緩慢的資料)。</span><span class="sxs-lookup"><span data-stu-id="1779e-141">Job input can also include reference data (static or slow-changing data).</span></span> <span data-ttu-id="1779e-142">您可以將串流資料加入此參考資料，並使用與進行資料庫查詢相同的方式執行查閱作業。</span><span class="sxs-lookup"><span data-stu-id="1779e-142">You can join streaming data to this reference data to perform lookup operations the same way you would with database queries.</span></span>

<span data-ttu-id="1779e-143">以許多方向路由傳送串流分析作業輸出。</span><span class="sxs-lookup"><span data-stu-id="1779e-143">Route Stream Analytics job output in many directions.</span></span> <span data-ttu-id="1779e-144">您可以寫入至儲存體，例如 Azure 儲存體 Blob 或表格、Azure SQL DB、Azure Data Lake Store 或 Azure Cosmos DB。</span><span class="sxs-lookup"><span data-stu-id="1779e-144">You can write to storage, such as Azure Storage blobs or tables, Azure SQL DB, Azure Data Lake Stores, or Azure Cosmos DB.</span></span> <span data-ttu-id="1779e-145">資料可以在這些儲存體中透過 Azure HDInsight 進行批次分析。</span><span class="sxs-lookup"><span data-stu-id="1779e-145">From there, the data might go for batch analytics via Azure HDInsight.</span></span> <span data-ttu-id="1779e-146">您可以將輸出傳送至另一個服務，以便另一個處理程序使用，例如事件中樞、Azure 服務匯流排主題或佇列。</span><span class="sxs-lookup"><span data-stu-id="1779e-146">You might send the output to another service for consumption by another process, such as event hubs, Azure Service Bus topics, or queues.</span></span> <span data-ttu-id="1779e-147">您可以將輸出傳送至 Power BI 以視覺效果呈現。</span><span class="sxs-lookup"><span data-stu-id="1779e-147">You might send the output to Power BI for visualization.</span></span>

### <a name="ease-of-use"></a><span data-ttu-id="1779e-148">容易使用</span><span class="sxs-lookup"><span data-stu-id="1779e-148">Ease of use</span></span>

<span data-ttu-id="1779e-149">若要定義轉換，可以使用簡單及敘述性的[串流分析查詢語言](https://msdn.microsoft.com/library/azure/dn834998.aspx)，讓您無須程式設計即可建立複雜的分析。</span><span class="sxs-lookup"><span data-stu-id="1779e-149">To define transformations, you use a simple, declarative [Stream Analytics query language](https://msdn.microsoft.com/library/azure/dn834998.aspx) that lets you create sophisticated analyses with no programming.</span></span> <span data-ttu-id="1779e-150">查詢語言會採用串流資料作為輸入。</span><span class="sxs-lookup"><span data-stu-id="1779e-150">The query language takes streaming data as its input.</span></span> <span data-ttu-id="1779e-151">接著您可以篩選和排序資料、彙總值、執行計算、加入資料 (加入至資料流或參考資料)，並使用地理空間函式。</span><span class="sxs-lookup"><span data-stu-id="1779e-151">You can then filter and sort the data, aggregate values, perform calculations, join data (within a stream or to reference data), and use geospatial functions.</span></span> <span data-ttu-id="1779e-152">您可以在入口網站中編輯查詢 (使用 IntelliSense 和語法檢查)，然後使用從即時資料流中擷取的範例資料測試查詢。</span><span class="sxs-lookup"><span data-stu-id="1779e-152">You can edit queries in the portal, using IntelliSense and syntax checking, and you can test queries using sample data that you can extract from the live stream.</span></span>

### <a name="extensible-query-language"></a><span data-ttu-id="1779e-153">可延伸的查詢語言</span><span class="sxs-lookup"><span data-stu-id="1779e-153">Extensible query language</span></span>

<span data-ttu-id="1779e-154">您可以透過定義和叫用其他函式來延伸查詢語言的功能。</span><span class="sxs-lookup"><span data-stu-id="1779e-154">You can extend the capabilities of the query language by defining and invoking additional functions.</span></span> <span data-ttu-id="1779e-155">您可以在 Azure 機器學習服務中定義函式呼叫，以充分運用 Azure 機器學習解決方案。</span><span class="sxs-lookup"><span data-stu-id="1779e-155">You can define function calls in the Azure Machine Learning service to take advantage of Azure Machine Learning solutions.</span></span> <span data-ttu-id="1779e-156">若要執行作為串流分析查詢一部分的複雜計算，也可以整合 JavaScript 使用者定義函式 (UDFs)。</span><span class="sxs-lookup"><span data-stu-id="1779e-156">You can also integrate JavaScript user-defined functions (UDFs) in order to perform complex calculations as part a Stream Analytics query.</span></span>

### <a name="scalability"></a><span data-ttu-id="1779e-157">延展性</span><span class="sxs-lookup"><span data-stu-id="1779e-157">Scalability</span></span>

<span data-ttu-id="1779e-158">串流分析每秒可處理 1 GB 的傳入資料。</span><span class="sxs-lookup"><span data-stu-id="1779e-158">Stream Analytics can handle up to 1 GB of incoming data per second.</span></span> <span data-ttu-id="1779e-159">與 [Azure 事件中樞](https://azure.microsoft.com/services/event-hubs/)和 [Azure IoT 中樞](https://azure.microsoft.com/services/iot-hub/)整合，可讓作業每秒擷取數百萬來自連線裝置、點擊資料流及記錄檔等項目的事件。</span><span class="sxs-lookup"><span data-stu-id="1779e-159">Integration with [Azure Event Hubs](https://azure.microsoft.com/services/event-hubs/) and [Azure IoT Hub](https://azure.microsoft.com/services/iot-hub/) allows jobs to ingest millions of events per second coming from connected devices, clickstreams, and log files, to name a few.</span></span> <span data-ttu-id="1779e-160">透過事件中樞的分割功能，您可以將計算分割為邏輯步驟，而每個步驟都可以再進一步地分割來增加延展性。</span><span class="sxs-lookup"><span data-stu-id="1779e-160">Using the partition feature of event hubs, you can partition computations into logical steps, each with the ability to be further partitioned to increase scalability.</span></span>

### <a name="low-cost"></a><span data-ttu-id="1779e-161">低成本</span><span class="sxs-lookup"><span data-stu-id="1779e-161">Low cost</span></span>

<span data-ttu-id="1779e-162">作為雲端服務，串流分析已進行最佳化，讓您以低成本執行分析作業。</span><span class="sxs-lookup"><span data-stu-id="1779e-162">As a cloud service, Stream Analytics is optimized to let you get going at low cost.</span></span> <span data-ttu-id="1779e-163">您可根據串流單位使用量和系統處理的資料量執行隨用隨付。</span><span class="sxs-lookup"><span data-stu-id="1779e-163">You pay as you go based on streaming-unit usage and the amount of data processed by the system.</span></span> <span data-ttu-id="1779e-164">使用量衍生自所處理的事件量，以及佈建在叢集內，用來處理串流分析工作的計算能力。</span><span class="sxs-lookup"><span data-stu-id="1779e-164">Usage is derived based on the volume of events processed and the amount of compute power provisioned within the cluster to handle Stream Analytics jobs.</span></span>

### <a name="reliability-quick-recovery-and-repeatability"></a><span data-ttu-id="1779e-165">可靠性、快速修復和可重複性</span><span class="sxs-lookup"><span data-stu-id="1779e-165">Reliability, quick recovery, and repeatability</span></span>

<span data-ttu-id="1779e-166">作為雲端中受管理的服務，串流分析可協助防止資料遺失，並提供業務續航力。</span><span class="sxs-lookup"><span data-stu-id="1779e-166">As a managed service in the cloud, Stream Analytics helps prevent data loss and provides business continuity.</span></span> <span data-ttu-id="1779e-167">如果發生失敗，該服務會提供內建的修復功能。</span><span class="sxs-lookup"><span data-stu-id="1779e-167">If failures occur, the service provides built-in recovery capabilities.</span></span> <span data-ttu-id="1779e-168">此服務具備內部維護狀態的能力，因此會提供可重複的結果，確保能封存事件並在日後重新套用處理，且一律取得相同的結果。</span><span class="sxs-lookup"><span data-stu-id="1779e-168">With the ability to internally maintain state, the service provides repeatable results ensuring it is possible to archive events and reapply processing in the future, always getting the same results.</span></span> <span data-ttu-id="1779e-169">這項功能可讓您及時回頭檢視，並在執行根本原因分析和假設狀況分析等案例時調查計算方式。</span><span class="sxs-lookup"><span data-stu-id="1779e-169">This enables you to go back in time and investigate computations when doing root-cause analysis, what-if analysis, and so on.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1779e-170">後續步驟</span><span class="sxs-lookup"><span data-stu-id="1779e-170">Next steps</span></span>

* <span data-ttu-id="1779e-171">先從[嘗試從 IoT 裝置執行匯入和查詢](stream-analytics-get-started-with-azure-stream-analytics-to-process-data-from-iot-devices.md)開始。</span><span class="sxs-lookup"><span data-stu-id="1779e-171">Get started by [experimenting with inputs and queries from IoT devices](stream-analytics-get-started-with-azure-stream-analytics-to-process-data-from-iot-devices.md).</span></span>
* <span data-ttu-id="1779e-172">建置[端對端串流分析解決方案](stream-analytics-real-time-fraud-detection.md)，透過檢查電話中繼資料以找出詐騙電話。</span><span class="sxs-lookup"><span data-stu-id="1779e-172">Build an [end-to-end Stream Analytics solution](stream-analytics-real-time-fraud-detection.md) that examines telephone metadata to look for fraudulent calls.</span></span>
* <span data-ttu-id="1779e-173">了解用於串流分析且類似 SQL 的查詢語言，以及[視窗函式](stream-analytics-window-functions.md)等獨特概念。</span><span class="sxs-lookup"><span data-stu-id="1779e-173">Learn about the SQL-like query language for Stream Analytics, and about unique concepts like [window functions](stream-analytics-window-functions.md).</span></span>
* <span data-ttu-id="1779e-174">了解如何[調整串流分析工作](stream-analytics-scale-jobs.md)。</span><span class="sxs-lookup"><span data-stu-id="1779e-174">Learn how to [scale Stream Analytics jobs](stream-analytics-scale-jobs.md).</span></span> 
* <span data-ttu-id="1779e-175">了解如何[整合串流分析和 Azure 機器學習](stream-analytics-machine-learning-integration-tutorial.md)。</span><span class="sxs-lookup"><span data-stu-id="1779e-175">Learn how to [integrate Stream Analytics and Azure Machine Learning](stream-analytics-machine-learning-integration-tutorial.md).</span></span>
* <span data-ttu-id="1779e-176">在 [Azure 串流分析論壇](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics)中尋找串流分析問題的答案。</span><span class="sxs-lookup"><span data-stu-id="1779e-176">Find answers to your Stream Analytics questions in the [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

