---
title: "Azure 計費 API | Microsoft Docs"
description: "了解 Azure 計費使用情況和 RateCard API，其可用來提供 Azure 資源耗用量和趨勢的見解。"
services: 
documentationcenter: 
author: BryanLa
manager: tonguyen
editor: 
tags: billing
ms.assetid: 3e817b43-0696-400c-a02e-47b7817f9b77
ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 04/18/2017
ms.author: mobandyo;bryanla
ms.openlocfilehash: 394ed29ed468fe80f47a6517c9521a81a5ddb7fd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="use-azure-billing-apis-to-programmatically-get-insight-into-your-azure-usage"></a><span data-ttu-id="5adc1-103">使用 Azure 計費 API 來以程式設計方式深入了解 Azure 使用情況</span><span class="sxs-lookup"><span data-stu-id="5adc1-103">Use Azure Billing APIs to programmatically get insight into your Azure usage</span></span>
<span data-ttu-id="5adc1-104">使用 Azure 計費 API 將使用情況和資源資料提取到您慣用的資料分析工具。</span><span class="sxs-lookup"><span data-stu-id="5adc1-104">Use Azure Billing APIs to pull usage and resource data into your preferred data analysis tools.</span></span> <span data-ttu-id="5adc1-105">Azure 資源使用情況和 RateCard API 可協助您準確地預測並管理成本。</span><span class="sxs-lookup"><span data-stu-id="5adc1-105">The Azure Resource Usage and RateCard APIs can help you accurately predict and manage your costs.</span></span> <span data-ttu-id="5adc1-106">這些 API 會實作為資源提供者，並成為 Azure Resource Manager 所公開之 API 系列的一部分。</span><span class="sxs-lookup"><span data-stu-id="5adc1-106">The APIs are implemented as a Resource Provider and part of the family of APIs exposed by the Azure Resource Manager.</span></span>  

## <a name="azure-invoice-download-api-preview"></a><span data-ttu-id="5adc1-107">Azure 發票下載 API (預覽)</span><span class="sxs-lookup"><span data-stu-id="5adc1-107">Azure Invoice Download API (Preview)</span></span>
<span data-ttu-id="5adc1-108">[完成加入](billing-manage-access.md#opt-in)之後，請使用預覽版[發票 API](/rest/api/billing) 來下載發票。</span><span class="sxs-lookup"><span data-stu-id="5adc1-108">Once the [opt-in has been complete](billing-manage-access.md#opt-in), download invoices using the preview version of [Invoice API](/rest/api/billing).</span></span> <span data-ttu-id="5adc1-109">這些功能包括：</span><span class="sxs-lookup"><span data-stu-id="5adc1-109">The features include:</span></span>

* <span data-ttu-id="5adc1-110">**Azure 角色型存取控制** - 在 [Azure 入口網站](https://portal.azure.com)上或透過 [Azure PowerShell Cmdlet](/powershell/azure/overview) 設定存取原則，以指定哪些使用者或應用程式可以存取訂用帳戶的使用情況資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-110">**Azure Role-based Access Control** - Configure access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the subscription’s usage data.</span></span> <span data-ttu-id="5adc1-111">呼叫端必須使用標準的 Azure Active Directory 權杖進行驗證。</span><span class="sxs-lookup"><span data-stu-id="5adc1-111">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="5adc1-112">將呼叫端新增到「發票讀者」、「讀者」、「擁有者」或「參與者」角色，以存取特定 Azure 訂用帳戶的使用情況資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-112">Add the caller to either the Billing Reader, Reader, Owner, or Contributor role to get access to the usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="5adc1-113">**日期篩選** - 使用 `$filter` 參數可依發票期間結束日期的相反時間順序取得所有發票。</span><span class="sxs-lookup"><span data-stu-id="5adc1-113">**Date Filtering** - Use the `$filter` parameter to get all the invoices in reverse chronological order by the invoice period end date.</span></span> 

> [!NOTE]
> <span data-ttu-id="5adc1-114">此功能目前為第一個預覽版本，可能會進行與舊版不相容的變更。</span><span class="sxs-lookup"><span data-stu-id="5adc1-114">This feature is in first version of preview and may be subject to backward-incompatible changes.</span></span> <span data-ttu-id="5adc1-115">目前，某些訂用帳戶優惠 (不支援 EA、CSP、AIO) 和 Azure 德國無法使用此功能。</span><span class="sxs-lookup"><span data-stu-id="5adc1-115">Currently, it's not available for certain subscription offers (EA, CSP, AIO not supported) and Azure Germany.</span></span>

## <a name="azure-resource-usage-api-preview"></a><span data-ttu-id="5adc1-116">Azure 資源使用情況 API (預覽)</span><span class="sxs-lookup"><span data-stu-id="5adc1-116">Azure Resource Usage API (Preview)</span></span>
<span data-ttu-id="5adc1-117">使用 Azure [資源使用情況 API](https://msdn.microsoft.com/library/azure/mt219003) 來取得預估的 Azure 耗用量資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-117">Use the Azure [Resource Usage API](https://msdn.microsoft.com/library/azure/mt219003) to get your estimated Azure consumption data.</span></span> <span data-ttu-id="5adc1-118">此 API 包含︰</span><span class="sxs-lookup"><span data-stu-id="5adc1-118">The API includes:</span></span>

* <span data-ttu-id="5adc1-119">**Azure 角色型存取控制** - 在 [Azure 入口網站](https://portal.azure.com)上或透過 [Azure PowerShell Cmdlet](/powershell/azure/overview) 設定存取原則，以指定哪些使用者或應用程式可以存取訂用帳戶的使用情況資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-119">**Azure Role-based Access Control** - Configure access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the subscription’s usage data.</span></span> <span data-ttu-id="5adc1-120">呼叫端必須使用標準的 Azure Active Directory 權杖進行驗證。</span><span class="sxs-lookup"><span data-stu-id="5adc1-120">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="5adc1-121">將呼叫端新增到「發票讀者」、「讀者」、「擁有者」或「參與者」角色，以存取特定 Azure 訂用帳戶的使用情況資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-121">Add the caller to either the Billing Reader, Reader, Owner, or Contributor role to get access to the usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="5adc1-122">**每小時或每日彙總** - 呼叫端可以指定要 Azure 使用情況資料的每小時值區或每日值區。</span><span class="sxs-lookup"><span data-stu-id="5adc1-122">**Hourly or Daily Aggregations** - Callers can specify whether they want their Azure usage data in hourly buckets or daily buckets.</span></span> <span data-ttu-id="5adc1-123">預設值為每日值區。</span><span class="sxs-lookup"><span data-stu-id="5adc1-123">The default is daily.</span></span>
* <span data-ttu-id="5adc1-124">**執行個體中繼資料 (包括資源標記)** – 取得執行個體層級詳細資料，例如完整的資源 uri (/subscriptions/{subscription-id}/..)、資源群組資訊與資源標記。</span><span class="sxs-lookup"><span data-stu-id="5adc1-124">**Instance metadata (includes resource tags)** – Get instance-level detail like the fully qualified resource uri (/subscriptions/{subscription-id}/..), the resource group information, and resource tags.</span></span> <span data-ttu-id="5adc1-125">此中繼資料可協助您以決定性及程式設計方式，根據標記為跨領域收費之類的使用案例配置使用量。</span><span class="sxs-lookup"><span data-stu-id="5adc1-125">This metadata helps you deterministically and programmatically allocate usage by the tags, for use-cases like cross-charging.</span></span>
* <span data-ttu-id="5adc1-126">**資源中繼資料** - 資源詳細資料 (例如計量名稱、計量類別、計量子類別、單位和區域) 可讓呼叫端深入了解耗用的內容。</span><span class="sxs-lookup"><span data-stu-id="5adc1-126">**Resource metadata** - Resource details such as the meter name, meter category, meter sub category, unit, and region give the caller a better understanding of what was consumed.</span></span> <span data-ttu-id="5adc1-127">我們也致力於跨 Azure 入口網站、Azure 使用情況 CSV、EA 計費 CSV 和其他向外公開的體驗統一資源中繼資料術語，以讓您跨體驗將資料相互關聯。</span><span class="sxs-lookup"><span data-stu-id="5adc1-127">We're also working to align resource metadata terminology across the Azure portal, Azure usage CSV, EA billing CSV, and other public-facing experiences, to let you correlate data across experiences.</span></span>
* <span data-ttu-id="5adc1-128">**所有優惠類型的使用情況** – 所有優惠類型 (例如隨收隨付、MSDN、貨幣承諾、貨幣信用額度和 EA) 皆有提供使用情況資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-128">**Usage for all offer types** – Usage data is available for all offer types like Pay-as-you-go, MSDN, Monetary commitment, Monetary credit, and EA.</span></span>

## <a name="azure-resource-ratecard-api-preview"></a><span data-ttu-id="5adc1-129">Azure 資源 RateCard API (預覽)</span><span class="sxs-lookup"><span data-stu-id="5adc1-129">Azure Resource RateCard API (Preview)</span></span>
<span data-ttu-id="5adc1-130">使用 [Azure 資源 RateCard API](https://msdn.microsoft.com/library/azure/mt219005) 來取得可用 Azure 資源的清單，以及每個資源的預估價格資訊。</span><span class="sxs-lookup"><span data-stu-id="5adc1-130">Use the [Azure Resource RateCard API](https://msdn.microsoft.com/library/azure/mt219005) to get the list of available Azure resources and estimated pricing information for each.</span></span> <span data-ttu-id="5adc1-131">此 API 包含︰</span><span class="sxs-lookup"><span data-stu-id="5adc1-131">The API includes:</span></span>

* <span data-ttu-id="5adc1-132">**Azure 角色型存取控制** - 在 [Azure 入口網站](https://portal.azure.com)上或透過 [Azure PowerShell Cmdlet](/powershell/azure/overview) 設定存取原則，以指定哪些使用者或應用程式可以存取 RateCard 資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-132">**Azure Role-based Access Control** - Configure your access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the RateCard data.</span></span> <span data-ttu-id="5adc1-133">呼叫端必須使用標準的 Azure Active Directory 權杖進行驗證。</span><span class="sxs-lookup"><span data-stu-id="5adc1-133">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="5adc1-134">將呼叫端新增至讀取者、擁有者或參與者角色，以存取特定 Azure 訂用帳戶的使用情況資料。</span><span class="sxs-lookup"><span data-stu-id="5adc1-134">Add the caller to either the Reader, Owner, or Contributor role to get access to the usage data for a particular Azure subscription.</span></span>
* <span data-ttu-id="5adc1-135">**支援隨收隨付、MSDN、貨幣承諾、貨幣信用額度優惠 (不支援 EA)** - 此 API 提供 Azure 優惠層級費率資訊。</span><span class="sxs-lookup"><span data-stu-id="5adc1-135">**Support for Pay-as-you-go, MSDN, Monetary commitment, and Monetary credit offers (EA not supported)** - This API provides Azure offer-level rate information.</span></span>  <span data-ttu-id="5adc1-136">此 API 的呼叫端必須輸入優惠資訊以取得資源詳細資料和費率。</span><span class="sxs-lookup"><span data-stu-id="5adc1-136">The caller of this API must pass in the offer information to get resource details and rates.</span></span> <span data-ttu-id="5adc1-137">由於 EA 優惠已自訂每個註冊的費率，所以我們目前無法提供 EA 費率。</span><span class="sxs-lookup"><span data-stu-id="5adc1-137">We're currently unable to provide EA rates because EA offers have customized rates per enrollment.</span></span> 

## <a name="scenarios"></a><span data-ttu-id="5adc1-138">案例</span><span class="sxs-lookup"><span data-stu-id="5adc1-138">Scenarios</span></span>
<span data-ttu-id="5adc1-139">以下是一些案例，可產生使用情況和 RateCard API 的組合：</span><span class="sxs-lookup"><span data-stu-id="5adc1-139">Here are some of the scenarios that are made possible with the combination of the Usage and the RateCard APIs:</span></span>

* <span data-ttu-id="5adc1-140">**Azure 月份花費** - 使用使用情況和 RateCard API 的組合，來取得當月份雲端花費的更佳見解。</span><span class="sxs-lookup"><span data-stu-id="5adc1-140">**Azure spend during the month** - Use the combination of the Usage and RateCard APIs to get better insights into your cloud spend during the month.</span></span> <span data-ttu-id="5adc1-141">您可以分析每小時和每天的使用情況及收費評估值區。</span><span class="sxs-lookup"><span data-stu-id="5adc1-141">You can analyze the hourly and daily buckets of usage and charge estimates.</span></span>
* <span data-ttu-id="5adc1-142">**設定警示** – 使用使用情況和 RateCard API 來取得預估的雲端耗用量和收費，並設定以資源為基礎或以貨幣為基礎的警示。</span><span class="sxs-lookup"><span data-stu-id="5adc1-142">**Set up alerts** – Use the Usage and the RateCard APIs to get estimated cloud consumption and charges, and set up resource-based or monetary-based alerts.</span></span>
* <span data-ttu-id="5adc1-143">**預測計費** – 取得預估的耗用量及雲端花費，並應用機器學習演算法來預測在計費週期結束時的計費情形。</span><span class="sxs-lookup"><span data-stu-id="5adc1-143">**Predict bill** – Get your estimated consumption and cloud spend, and apply machine learning algorithms to predict what the bill would be at the end of the billing cycle.</span></span>
* <span data-ttu-id="5adc1-144">**耗用前成本分析** – 使用 RateCard API 來預測當您將工作負載移至 Azure 時，所預期的使用量需要多少費用。</span><span class="sxs-lookup"><span data-stu-id="5adc1-144">**Pre-consumption cost analysis** – Use the RateCard API to predict how much your bill would be for your expected usage when you move your workloads to Azure.</span></span> <span data-ttu-id="5adc1-145">如果您有其他雲端或私用雲端中的現有工作負載，您也可以對應您的使用情況和 Azure 費率，以取得 Azure 花費的較佳評估。</span><span class="sxs-lookup"><span data-stu-id="5adc1-145">If you have existing workloads in other clouds or private clouds, you can also map your usage with the Azure rates to get a better estimate of Azure spend.</span></span> <span data-ttu-id="5adc1-146">此預估可讓您以優惠為依據來進行選擇，並比較和對比隨收隨付以外的不同優惠類型，包含貨幣承諾和貨幣信用額度。</span><span class="sxs-lookup"><span data-stu-id="5adc1-146">This estimate gives you the ability to pivot on offer, and compare and contrast between the different offer types beyond Pay-As-You-Go, like Monetary commitment and Monetary credit.</span></span> <span data-ttu-id="5adc1-147">此 API 也可讓您依區域查看成本差異，並可讓您執行假設成本分析，以幫助您做出部署決定。</span><span class="sxs-lookup"><span data-stu-id="5adc1-147">The API also gives you the ability to see cost differences by region and allows you to do a what-if cost analysis to help you make deployment decisions.</span></span>
* <span data-ttu-id="5adc1-148">**假設分析** -</span><span class="sxs-lookup"><span data-stu-id="5adc1-148">**What-if analysis** -</span></span>
  
  * <span data-ttu-id="5adc1-149">您可以判斷是在另一個區域執行工作負載，還是在 Azure 資源的另一個組態上執行工作負載會比較符合成本效益。</span><span class="sxs-lookup"><span data-stu-id="5adc1-149">You can determine whether it is more cost-effective to run workloads in another region, or on another configuration of the Azure resource.</span></span> <span data-ttu-id="5adc1-150">Azure 資源成本可能會因為您所使用的 Azure 區域而有所不同。</span><span class="sxs-lookup"><span data-stu-id="5adc1-150">Azure resource costs may differ based on the Azure region you're using.</span></span>
  * <span data-ttu-id="5adc1-151">您也可以判斷另一個 Azure 優惠類型是否會在 Azure 資源上提供更好的費率。</span><span class="sxs-lookup"><span data-stu-id="5adc1-151">You can also determine if another Azure offer type gives a better rate on an Azure resource.</span></span>
  
## <a name="partner-solutions"></a><span data-ttu-id="5adc1-152">合作夥伴解決方案</span><span class="sxs-lookup"><span data-stu-id="5adc1-152">Partner solutions</span></span>
<span data-ttu-id="5adc1-153">[Microsoft Azure 使用情況和 RateCard API 可讓 Cloudyn 為客戶提供 ITFM](billing-usage-rate-card-partner-solution-cloudyn.md) 描述 Azure 計費 API 合作夥伴 [Cloudyn](https://www.cloudyn.com/microsoft-azure/) 所提供的整合經驗。</span><span class="sxs-lookup"><span data-stu-id="5adc1-153">[Microsoft Azure Usage and RateCard APIs Enable Cloudyn to Provide ITFM for Customers](billing-usage-rate-card-partner-solution-cloudyn.md) describes the integration experience offered by Azure Billing API partner [Cloudyn](https://www.cloudyn.com/microsoft-azure/).</span></span> <span data-ttu-id="5adc1-154">本文探討他們的使用經驗，並有影片來顯示如何使用 Cloudyn 和 Azure 計費 API 以從 Azure 耗用量資料取得見解。</span><span class="sxs-lookup"><span data-stu-id="5adc1-154">This article talks about their experiences and includes a video that shows how you can use Cloudyn and the Azure Billing APIs to get insights from Azure consumption data.</span></span>

<span data-ttu-id="5adc1-155">[Cloud Cruiser 和 Microsoft Azure 計費 API 整合](billing-usage-rate-card-partner-solution-cloudcruiser.md)描述 [Azure Pack 適用的 Cloud Cruiser Express](http://www.cloudcruiser.com/partners/microsoft/)如何直接從 Windows Azure Pack (WAP) 入口網站運作。</span><span class="sxs-lookup"><span data-stu-id="5adc1-155">[Cloud Cruiser and Microsoft Azure Billing API Integration](billing-usage-rate-card-partner-solution-cloudcruiser.md) describes how [Cloud Cruiser's Express for Azure Pack](http://www.cloudcruiser.com/partners/microsoft/) works directly from the Windows Azure Pack (WAP) portal.</span></span> <span data-ttu-id="5adc1-156">您可以順暢地從單一使用者介面管理 Microsoft Azure 私人或託管公用雲端的作業和財務等方面。</span><span class="sxs-lookup"><span data-stu-id="5adc1-156">You can seamlessly manage both the operational and financial aspects of the Microsoft Azure private or hosted public cloud from a single user interface.</span></span>   

## <a name="next-steps"></a><span data-ttu-id="5adc1-157">後續步驟</span><span class="sxs-lookup"><span data-stu-id="5adc1-157">Next steps</span></span>
* <span data-ttu-id="5adc1-158">查看 GitHub 上的程式碼範例：</span><span class="sxs-lookup"><span data-stu-id="5adc1-158">Check out the code samples on GitHub:</span></span>
  * [<span data-ttu-id="5adc1-159">發票 API 程式碼範例 (英文)</span><span class="sxs-lookup"><span data-stu-id="5adc1-159">Invoice API code sample</span></span>](https://go.microsoft.com/fwlink/?linkid=845124)

  * [<span data-ttu-id="5adc1-160">使用情況 API 程式碼範例 (英文)</span><span class="sxs-lookup"><span data-stu-id="5adc1-160">Usage API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-usage-api)

  * [<span data-ttu-id="5adc1-161">RateCard API 程式碼範例 (英文)</span><span class="sxs-lookup"><span data-stu-id="5adc1-161">RateCard API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-ratecard-api)

* <span data-ttu-id="5adc1-162">若要深入了解 Azure Resource Manager，請參閱 [Azure Resource Manager 概觀](../azure-resource-manager/resource-group-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="5adc1-162">To learn more about the Azure Resource Manager, see [Azure Resource Manager Overview](../azure-resource-manager/resource-group-overview.md).</span></span> 

* <span data-ttu-id="5adc1-163">如需可協助您了解雲端花費之必要工具套件的詳細資訊，請參閱 Gartner 文章 [IT 財務管理 (ITFM) 工具的市場指南](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb)。</span><span class="sxs-lookup"><span data-stu-id="5adc1-163">For more information on the suite of tools necessary to help you get an understanding of cloud spend, see the Gartner article [Market Guide for IT Financial Management (ITFM) Tools](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).</span></span>

