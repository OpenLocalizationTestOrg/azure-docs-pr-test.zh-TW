---
title: "建立多位元速率資料流-Azure 的內部編碼器使用 live aaaStream |Microsoft 文件"
description: "本主題描述如何接收多位元速率建立通道 tooset 即時資料流，從內部部署編碼器。 hello 資料流就可以傳送 tooclient 播放應用程式可以透過一個或多個串流端點，使用其中一種 hello 遵循適應性串流通訊協定： HLS、 Smooth Streaming、 DASH。"
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 00709cecfc3b5b5dcfaa8f1e4b25bcf9d470d50b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="0713c-104">使用會建立多位元速率串流的內部部署編碼器執行即時串流</span><span class="sxs-lookup"><span data-stu-id="0713c-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="0713c-105">概觀</span><span class="sxs-lookup"><span data-stu-id="0713c-105">Overview</span></span>
<span data-ttu-id="0713c-106">在 Azure 媒體服務中，通道代表處理即時串流內容的管線。</span><span class="sxs-lookup"><span data-stu-id="0713c-106">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="0713c-107">通道會以兩種方式之一收到即時輸入串流：</span><span class="sxs-lookup"><span data-stu-id="0713c-107">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="0713c-108">在內部部署即時編碼器會傳送多位元速率 RTMP 或 Smooth Streaming (分散 MP4) 資料流 toohello 通道不啟用的 tooperform 即時使用 Media Services 編碼。</span><span class="sxs-lookup"><span data-stu-id="0713c-108">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream toohello channel that is not enabled tooperform live encoding with Media Services.</span></span> <span data-ttu-id="0713c-109">hello 內嵌資料流通過通道而不需任何進一步處理。</span><span class="sxs-lookup"><span data-stu-id="0713c-109">hello ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="0713c-110">此方法稱為 *傳遞*。</span><span class="sxs-lookup"><span data-stu-id="0713c-110">This method is called *pass-through*.</span></span> <span data-ttu-id="0713c-111">您可以使用下列有多位元速率 Smooth Streaming 做為輸出的即時編碼器的 hello： 媒體 Excel、 Ateme、 想像通訊、 Envivio、 Cisco、 和元素。</span><span class="sxs-lookup"><span data-stu-id="0713c-111">You can use hello following live encoders that have multi-bitrate Smooth Streaming as output: Media Excel, Ateme, Imagine Communications, Envivio, Cisco, and Elemental.</span></span> <span data-ttu-id="0713c-112">下列即時編碼器的 hello 有做為輸出 RTMP: Adobe Flash 媒體即時編碼器、 Telestream wirecast 編碼、 Haivision、 Teradek 和 tricaster 轉錄。</span><span class="sxs-lookup"><span data-stu-id="0713c-112">hello following live encoders have RTMP as output: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek, and TriCaster.</span></span> <span data-ttu-id="0713c-113">即時編碼器也可以傳送即時編碼請未啟用的單一位元速率資料流 tooa 通道，但我們不建議。</span><span class="sxs-lookup"><span data-stu-id="0713c-113">A live encoder can also send a single-bitrate stream tooa channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="0713c-114">媒體服務會傳遞給要求 hello 資料流 toocustomers。</span><span class="sxs-lookup"><span data-stu-id="0713c-114">Media Services delivers hello stream toocustomers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="0713c-115">使用傳遞的方法是 hello toodo 即時串流處理最經濟的方式。</span><span class="sxs-lookup"><span data-stu-id="0713c-115">Using a pass-through method is hello most economical way toodo live streaming.</span></span>


* <span data-ttu-id="0713c-116">在內部部署即時編碼器會將傳送的單一位元速率串流 toohello 頻道時，啟用即時使用其中一種 hello 下列格式的媒體服務編碼 tooperform: RTP (MPEG-TS)、 RTMP、 或 Smooth Streaming (分散 MP4)。</span><span class="sxs-lookup"><span data-stu-id="0713c-116">An on-premises live encoder sends a single-bitrate stream toohello channel that is enabled tooperform live encoding with Media Services in one of hello following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="0713c-117">hello 通道之後會執行即時 hello 連入單一位元速率串流 tooa 多位元速率 （自動調整） 視訊資料流的編碼。</span><span class="sxs-lookup"><span data-stu-id="0713c-117">hello channel then performs live encoding of hello incoming single-bitrate stream tooa multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="0713c-118">媒體服務會傳遞給要求 hello 資料流 toocustomers。</span><span class="sxs-lookup"><span data-stu-id="0713c-118">Media Services delivers hello stream toocustomers who request it.</span></span>

<span data-ttu-id="0713c-119">Hello 媒體服務 2.10 從版本開始，當您建立的通道，您可以指定您要如何您通道 tooreceive hello 輸入資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-119">Starting with hello Media Services 2.10 release, when you create a channel, you can specify how you want your channel tooreceive hello input stream.</span></span> <span data-ttu-id="0713c-120">您也可以指定是否要 hello 通道 tooperform 即時將資料流的編碼方式。</span><span class="sxs-lookup"><span data-stu-id="0713c-120">You can also specify whether you want hello channel tooperform live encoding of your stream.</span></span> <span data-ttu-id="0713c-121">您有兩個選擇：</span><span class="sxs-lookup"><span data-stu-id="0713c-121">You have two options:</span></span>

* <span data-ttu-id="0713c-122">**Pass Through**： 指定這個值，如果您計劃 toouse 在內部部署即時編碼器，會將多位元速率串流 （傳遞資料流） 做為輸出。</span><span class="sxs-lookup"><span data-stu-id="0713c-122">**Pass Through**: Specify this value if you plan toouse an on-premises live encoder that will have a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="0713c-123">在此情況下，透過 toohello 輸出而不經過任何編碼傳送 hello 內送資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-123">In this case, hello incoming stream passes through toohello output without any encoding.</span></span> <span data-ttu-id="0713c-124">這是通道的 hello hello 2.10 版前行為。</span><span class="sxs-lookup"><span data-stu-id="0713c-124">This is hello behavior of a channel before hello 2.10 release.</span></span> <span data-ttu-id="0713c-125">本主題提供有關使用此類型通道的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="0713c-125">This topic gives details about working with channels of this type.</span></span>
* <span data-ttu-id="0713c-126">**即時編碼**： 如果您計劃 toouse Media Services tooencode 單一位元速率即時串流 tooa 多位元速率串流，請選擇此值。</span><span class="sxs-lookup"><span data-stu-id="0713c-126">**Live Encoding**: Choose this value if you plan toouse Media Services tooencode your single-bitrate live stream tooa multi-bitrate stream.</span></span> <span data-ttu-id="0713c-127">請注意，在**執行**狀態中離開即時編碼通道將會產生費用。</span><span class="sxs-lookup"><span data-stu-id="0713c-127">Be aware that leaving a live encoding channel in a **Running** state will incur billing charges.</span></span> <span data-ttu-id="0713c-128">我們建議您即時資料流的事件之後立即停止執行的頻道是完整 tooavoid 額外每小時費用。</span><span class="sxs-lookup"><span data-stu-id="0713c-128">We recommend that you immediately stop your running channels after your live-streaming event is complete tooavoid extra hourly charges.</span></span> <span data-ttu-id="0713c-129">媒體服務會傳遞給要求 hello 資料流 toocustomers。</span><span class="sxs-lookup"><span data-stu-id="0713c-129">Media Services delivers hello stream toocustomers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="0713c-130">本主題討論屬性未啟用的通道 tooperform 即時編碼。</span><span class="sxs-lookup"><span data-stu-id="0713c-130">This topic discusses attributes of channels that are not enabled tooperform live encoding.</span></span> <span data-ttu-id="0713c-131">如需使用通道資訊啟用 tooperform 即時編碼，請參閱 <<c0> [ 使用 Azure Media Services toocreate 多位元速率串流的即時串流](media-services-manage-live-encoder-enabled-channels.md)。</span><span class="sxs-lookup"><span data-stu-id="0713c-131">For information about working with channels that are enabled tooperform live encoding, see [Live streaming using Azure Media Services toocreate multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
>

<span data-ttu-id="0713c-132">下列圖表中的 hello 表示會使用內部部署即時編碼器 toohave 多位元速率 RTMP 或分散的 MP4 (Smooth Streaming) 資料流，做為輸出的即時資料流工作流程。</span><span class="sxs-lookup"><span data-stu-id="0713c-132">hello following diagram represents a live-streaming workflow that uses an on-premises live encoder toohave multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![即時工作流程][live-overview]

## <span data-ttu-id="0713c-134"><a id="scenario"></a>常見即時串流案例</span><span class="sxs-lookup"><span data-stu-id="0713c-134"><a id="scenario"></a>Common live-streaming scenario</span></span>
<span data-ttu-id="0713c-135">hello 下列步驟說明有關建立常見即時資料流的應用程式的工作。</span><span class="sxs-lookup"><span data-stu-id="0713c-135">hello following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="0713c-136">視訊攝影機 tooa 電腦連線。</span><span class="sxs-lookup"><span data-stu-id="0713c-136">Connect a video camera tooa computer.</span></span> <span data-ttu-id="0713c-137">啟動並設定內部部署即時編碼器，讓它以多位元速率 RTMP 或 Fragmented MP4 (Smooth Streaming) 串流做為輸出。</span><span class="sxs-lookup"><span data-stu-id="0713c-137">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="0713c-138">如需詳細資訊，請參閱 [Azure 媒體服務 RTMP 支援和即時編碼器](http://go.microsoft.com/fwlink/?LinkId=532824)。</span><span class="sxs-lookup"><span data-stu-id="0713c-138">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="0713c-139">您也可以在建立通道之後執行此步驟。</span><span class="sxs-lookup"><span data-stu-id="0713c-139">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="0713c-140">建立並啟動通道。</span><span class="sxs-lookup"><span data-stu-id="0713c-140">Create and start a channel.</span></span>

3. <span data-ttu-id="0713c-141">擷取 hello 通道的內嵌 URL。</span><span class="sxs-lookup"><span data-stu-id="0713c-141">Retrieve hello channel ingest URL.</span></span>

    <span data-ttu-id="0713c-142">hello 即時編碼器會使用 hello 內嵌 URL toosend hello 資料流 toohello 通道。</span><span class="sxs-lookup"><span data-stu-id="0713c-142">hello live encoder uses hello ingest URL toosend hello stream toohello channel.</span></span>
4. <span data-ttu-id="0713c-143">擷取 hello 通道預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="0713c-143">Retrieve hello channel preview URL.</span></span>

    <span data-ttu-id="0713c-144">使用您的通道可正常接收即時資料流 hello 這個 URL tooverify。</span><span class="sxs-lookup"><span data-stu-id="0713c-144">Use this URL tooverify that your channel is properly receiving hello live stream.</span></span>
5. <span data-ttu-id="0713c-145">建立程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-145">Create a program.</span></span>

    <span data-ttu-id="0713c-146">當您使用 hello Azure 入口網站時，建立程式也會建立資產。</span><span class="sxs-lookup"><span data-stu-id="0713c-146">When you use hello Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="0713c-147">當您使用 hello.NET SDK 或 REST 時，您需要 toocreate 資產，並指定 toouse 此資產時建立程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-147">When you use hello .NET SDK or REST, you need toocreate an asset and specify toouse this asset when creating a program.</span></span>
6. <span data-ttu-id="0713c-148">發佈與 hello 程式相關聯的 hello 資產。</span><span class="sxs-lookup"><span data-stu-id="0713c-148">Publish hello asset that's associated with hello program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="0713c-149">建立 Azure Media Services 帳戶時，**預設**串流端點就會加入 tooyour 帳戶 hello**已停止**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-149">When your Azure Media Services account is created, a **default** streaming endpoint is added tooyour account in hello **Stopped** state.</span></span> <span data-ttu-id="0713c-150">hello 串流的端點要從中 toostream 內容已經在 hello toobe**執行**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-150">hello streaming endpoint from which you want toostream content has toobe in hello **Running** state.</span></span>

7. <span data-ttu-id="0713c-151">當您準備好 toostart 串流並封存，請啟動 hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-151">Start hello program when you're ready toostart streaming and archiving.</span></span>

8. <span data-ttu-id="0713c-152">（選擇性） hello 即時編碼器可以信號的 toostart 公告。</span><span class="sxs-lookup"><span data-stu-id="0713c-152">Optionally, hello live encoder can be signaled toostart an advertisement.</span></span> <span data-ttu-id="0713c-153">hello 公告 hello 輸出資料流中插入。</span><span class="sxs-lookup"><span data-stu-id="0713c-153">hello advertisement is inserted in hello output stream.</span></span>

9. <span data-ttu-id="0713c-154">每當您想 toostop 串流並封存 hello 事件時，請停止 hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-154">Stop hello program whenever you want toostop streaming and archiving hello event.</span></span>

10. <span data-ttu-id="0713c-155">刪除 hello 程式 （並選擇性地刪除 hello 資產）。</span><span class="sxs-lookup"><span data-stu-id="0713c-155">Delete hello program (and optionally delete hello asset).</span></span>     

## <span data-ttu-id="0713c-156"><a id="channel"></a>通道和其相關元件的說明</span><span class="sxs-lookup"><span data-stu-id="0713c-156"><a id="channel"></a>Description of a channel and its related components</span></span>
### <span data-ttu-id="0713c-157"><a id="channel_input"></a>頻道輸入 (內嵌) 組態</span><span class="sxs-lookup"><span data-stu-id="0713c-157"><a id="channel_input"></a>Channel input (ingest) configurations</span></span>
#### <span data-ttu-id="0713c-158"><a id="ingest_protocols"></a>嵌入串流通訊協定</span><span class="sxs-lookup"><span data-stu-id="0713c-158"><a id="ingest_protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="0713c-159">媒體服務會使用多位元速率分散 MP4 和多位元速率 RTMP 做為串流通訊協定來支援內嵌即時摘要。</span><span class="sxs-lookup"><span data-stu-id="0713c-159">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="0713c-160">當 hello RTMP 內嵌串流通訊協定已選取時，兩個內嵌 （輸入） 端點會建立 hello 通道：</span><span class="sxs-lookup"><span data-stu-id="0713c-160">When hello RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for hello channel:</span></span>

* <span data-ttu-id="0713c-161">**主要 URL**： 指定 hello 完整的 URL 的 hello 通道主要 RTMP 內嵌端點。</span><span class="sxs-lookup"><span data-stu-id="0713c-161">**Primary URL**: Specifies hello fully qualified URL of hello channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="0713c-162">**次要 URL** （選擇性）： 指定 hello 完整的 URL 的 hello 通道次要 RTMP 內嵌端點。</span><span class="sxs-lookup"><span data-stu-id="0713c-162">**Secondary URL** (optional): Specifies hello fully qualified URL of hello channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="0713c-163">Hello 次要 URL 適用於您想 tooimprove hello 持久性與容錯您內嵌資料流 （以及編碼器容錯移轉及容錯功能），特別是針對下列案例的 hello:</span><span class="sxs-lookup"><span data-stu-id="0713c-163">Use hello secondary URL if you want tooimprove hello durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for hello following scenarios:</span></span>

- <span data-ttu-id="0713c-164">單一雙推送 tooboth 主要及次要 Url 的編碼器：</span><span class="sxs-lookup"><span data-stu-id="0713c-164">Single encoder double-pushing tooboth primary and secondary URLs:</span></span>

    <span data-ttu-id="0713c-165">hello 這個案例的主要用途是 tooprovide 復原 toonetwork 波動越來越 jitters。</span><span class="sxs-lookup"><span data-stu-id="0713c-165">hello main purpose of this scenario is tooprovide more resiliency toonetwork fluctuations and jitters.</span></span> <span data-ttu-id="0713c-166">部分 RTMP 編碼器無法妥善處理網路中斷連線。</span><span class="sxs-lookup"><span data-stu-id="0713c-166">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="0713c-167">網路中斷連接發生失敗時，可能會停止編碼編碼器，與然後不會傳送 hello 緩衝處理資料時重新連線。</span><span class="sxs-lookup"><span data-stu-id="0713c-167">When a network disconnect happens, an encoder might stop encoding and then not send hello buffered data when a reconnect happens.</span></span> <span data-ttu-id="0713c-168">這會導致不連續和資料遺失。</span><span class="sxs-lookup"><span data-stu-id="0713c-168">This causes discontinuities and data loss.</span></span> <span data-ttu-id="0713c-169">網路中斷連線可能因為網路錯誤或維護 hello Azure 端上。</span><span class="sxs-lookup"><span data-stu-id="0713c-169">Network disconnects can happen because of a bad network or maintenance on hello Azure side.</span></span> <span data-ttu-id="0713c-170">主要/次要 Url 減少 hello 網路問題，並提供受控制的升級程序。</span><span class="sxs-lookup"><span data-stu-id="0713c-170">Primary/secondary URLs reduce hello network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="0713c-171">每次發生排程的網路中斷連接，Media Services 會管理 hello 主要和次要資料庫中斷連接，以及提供延遲 hello 兩者之間中斷連線。</span><span class="sxs-lookup"><span data-stu-id="0713c-171">Each time a scheduled network disconnect happens, Media Services manages hello primary and secondary disconnects and provides a delayed disconnect between hello two.</span></span> <span data-ttu-id="0713c-172">編碼器有時間 tookeep 傳送資料，然後重新連接一次。</span><span class="sxs-lookup"><span data-stu-id="0713c-172">Encoders then have time tookeep sending data and reconnect again.</span></span> <span data-ttu-id="0713c-173">hello hello 順序中斷連線可以是隨機的但永遠之間會有延遲主要/次要資料庫或次要/主要資料庫的 Url。</span><span class="sxs-lookup"><span data-stu-id="0713c-173">hello order of hello disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="0713c-174">在此案例中，hello 編碼器仍是 hello 單一失敗點。</span><span class="sxs-lookup"><span data-stu-id="0713c-174">In this scenario, hello encoder is still hello single point of failure.</span></span>

- <span data-ttu-id="0713c-175">多個編碼器，以每個編碼器發送 tooa 專用點：</span><span class="sxs-lookup"><span data-stu-id="0713c-175">Multiple encoders, with each encoder pushing tooa dedicated point:</span></span>

    <span data-ttu-id="0713c-176">這種情況下會提供兩個編碼器和擷取備援。</span><span class="sxs-lookup"><span data-stu-id="0713c-176">This scenario provides both encoder and ingest redundancy.</span></span> <span data-ttu-id="0713c-177">在此案例中，encoder1 推播通知 toohello 主要 URL，並 encoder2 將推送 toohello 次要 URL。</span><span class="sxs-lookup"><span data-stu-id="0713c-177">In this scenario, encoder1 pushes toohello primary URL, and encoder2 pushes toohello secondary URL.</span></span> <span data-ttu-id="0713c-178">當編碼器失敗時，hello 其他編碼器可以保留傳送資料。</span><span class="sxs-lookup"><span data-stu-id="0713c-178">When an encoder fails, hello other encoder can keep sending data.</span></span> <span data-ttu-id="0713c-179">可以維護資料冗餘，因為媒體服務不會中斷 hello 在主要和次要 Url 相同的時間。</span><span class="sxs-lookup"><span data-stu-id="0713c-179">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at hello same time.</span></span> <span data-ttu-id="0713c-180">此案例假設編碼器會進行同步處理的時間，並完全提供 hello 相同的資料。</span><span class="sxs-lookup"><span data-stu-id="0713c-180">This scenario assumes that encoders are time synced and provide exactly hello same data.</span></span>  

- <span data-ttu-id="0713c-181">雙推送 tooboth 主要及次要 Url 的多個編碼器：</span><span class="sxs-lookup"><span data-stu-id="0713c-181">Multiple encoders double-pushing tooboth primary and secondary URLs:</span></span>

    <span data-ttu-id="0713c-182">在此案例中，這兩個編碼器發送資料 tooboth 主要及次要 Url。</span><span class="sxs-lookup"><span data-stu-id="0713c-182">In this scenario, both encoders push data tooboth primary and secondary URLs.</span></span> <span data-ttu-id="0713c-183">這提供 hello 最佳可靠性和容錯功能，以及資料重複。</span><span class="sxs-lookup"><span data-stu-id="0713c-183">This provides hello best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="0713c-184">此案例可容許兩個編碼器皆失敗並且中斷連線，即使一個編碼器停止運作。</span><span class="sxs-lookup"><span data-stu-id="0713c-184">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="0713c-185">假設編碼器會進行同步處理的時間，並且提供完全 hello 相同的資料。</span><span class="sxs-lookup"><span data-stu-id="0713c-185">It assumes that encoders are time synced and provide exactly hello same data.</span></span>  

<span data-ttu-id="0713c-186">如需 RTMP 即時編碼器的詳細資訊，請參閱 [Azure 媒體服務 RTMP 支援和即時編碼器](http://go.microsoft.com/fwlink/?LinkId=532824)。</span><span class="sxs-lookup"><span data-stu-id="0713c-186">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="0713c-187">內嵌 URL (端點)</span><span class="sxs-lookup"><span data-stu-id="0713c-187">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="0713c-188">通道所提供的輸入的端點 （內嵌 URL） 您指定在 hello 即時編碼程式，讓可以推送 hello 編碼器串流 tooyour 通道。</span><span class="sxs-lookup"><span data-stu-id="0713c-188">A channel provides an input endpoint (ingest URL) that you specify in hello live encoder, so hello encoder can push streams tooyour channels.</span></span>   

<span data-ttu-id="0713c-189">您可以取得 hello 內嵌 Url，當您建立 hello 通道。</span><span class="sxs-lookup"><span data-stu-id="0713c-189">You can get hello ingest URLs when you create hello channel.</span></span> <span data-ttu-id="0713c-190">針對您 tooget 這些 Url，hello 通道中並沒有 toobe hello**執行**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-190">For you tooget these URLs, hello channel does not have toobe in hello **Running** state.</span></span> <span data-ttu-id="0713c-191">當您準備好 toostart 推送資料 toohello 通道時，必須在 hello hello 通道**執行**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-191">When you're ready toostart pushing data toohello channel, hello channel must be in hello **Running** state.</span></span> <span data-ttu-id="0713c-192">Hello 通道開始擷取資料之後，您可以預覽您的資料流透過 hello 預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="0713c-192">After hello channel starts ingesting data, you can preview your stream through hello preview URL.</span></span>

<span data-ttu-id="0713c-193">您可以選擇透過 SSL 連線來內嵌 Fragmented MP4 (Smooth Streaming) 即時資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-193">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="0713c-194">tooingest over SSL，請確定 tooupdate hello 內嵌 URL tooHTTPS。</span><span class="sxs-lookup"><span data-stu-id="0713c-194">tooingest over SSL, make sure tooupdate hello ingest URL tooHTTPS.</span></span> <span data-ttu-id="0713c-195">目前，您無法內嵌 RTMP over SSL。</span><span class="sxs-lookup"><span data-stu-id="0713c-195">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <span data-ttu-id="0713c-196"><a id="keyframe_interval"></a>主要畫面格間隔</span><span class="sxs-lookup"><span data-stu-id="0713c-196"><a id="keyframe_interval"></a>Keyframe interval</span></span>
<span data-ttu-id="0713c-197">當您使用內部部署即時編碼器 toogenerate 多位元速率串流時，hello 主要畫面格間隔可指定所使用的外部編碼器的 hello 的 hello 圖片群組 (GOP) 的持續時間。</span><span class="sxs-lookup"><span data-stu-id="0713c-197">When you're using an on-premises live encoder toogenerate multi-bitrate stream, hello keyframe interval specifies hello duration of hello group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="0713c-198">Hello 通道收到此連入的資料流之後，您可以提供您的即時串流 tooclient 播放應用程式中任何 hello 下列格式： Smooth Streaming、 HTTP （虛線） 和 HTTP Live Streaming (HLS) 透過動態彈性資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-198">After hello channel receives this incoming stream, you can deliver your live stream tooclient playback applications in any of hello following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="0713c-199">在執行即時資料流時，會一律動態封裝 HLS。</span><span class="sxs-lookup"><span data-stu-id="0713c-199">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="0713c-200">根據預設，媒體服務會自動計算 hello HLS 區段封裝比率 （每個區段的片段） 接收來自即時編碼程式 hello hello 主要畫面格間隔為基礎。</span><span class="sxs-lookup"><span data-stu-id="0713c-200">By default, Media Services automatically calculates hello HLS segment packaging ratio (fragments per segment) based on hello keyframe interval that's received from hello live encoder.</span></span>

<span data-ttu-id="0713c-201">下表中的 hello 顯示 hello 區段持續時間的計算方式：</span><span class="sxs-lookup"><span data-stu-id="0713c-201">hello following table shows how hello segment duration is calculated:</span></span>

| <span data-ttu-id="0713c-202">主要畫面格間隔</span><span class="sxs-lookup"><span data-stu-id="0713c-202">Keyframe interval</span></span> | <span data-ttu-id="0713c-203">HLS 區段封裝比例 (FragmentsPerSegment)</span><span class="sxs-lookup"><span data-stu-id="0713c-203">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="0713c-204">範例</span><span class="sxs-lookup"><span data-stu-id="0713c-204">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0713c-205">小於或等於 too3 秒</span><span class="sxs-lookup"><span data-stu-id="0713c-205">Less than or equal too3 seconds</span></span> |<span data-ttu-id="0713c-206">3:1</span><span class="sxs-lookup"><span data-stu-id="0713c-206">3:1</span></span> |<span data-ttu-id="0713c-207">如果 KeyFrameInterval （或 GOP） 是 2 秒，hello 預設 HLS 區段封裝比率會是 3 too1。</span><span class="sxs-lookup"><span data-stu-id="0713c-207">If KeyFrameInterval (or GOP) is 2 seconds, hello default HLS segment packaging ratio is 3 too1.</span></span> <span data-ttu-id="0713c-208">這會建立 6 秒 HLS 區段。</span><span class="sxs-lookup"><span data-stu-id="0713c-208">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="0713c-209">3 too5 秒</span><span class="sxs-lookup"><span data-stu-id="0713c-209">3 too5 seconds</span></span> |<span data-ttu-id="0713c-210">2:1</span><span class="sxs-lookup"><span data-stu-id="0713c-210">2:1</span></span> |<span data-ttu-id="0713c-211">如果 KeyFrameInterval （或 GOP） 是 4 秒，hello 預設 HLS 區段封裝比率會是 2 too1。</span><span class="sxs-lookup"><span data-stu-id="0713c-211">If KeyFrameInterval (or GOP) is 4 seconds, hello default HLS segment packaging ratio is 2 too1.</span></span> <span data-ttu-id="0713c-212">這會建立 8 秒 HLS 區段。</span><span class="sxs-lookup"><span data-stu-id="0713c-212">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="0713c-213">大於 5 秒</span><span class="sxs-lookup"><span data-stu-id="0713c-213">Greater than 5 seconds</span></span> |<span data-ttu-id="0713c-214">1:1</span><span class="sxs-lookup"><span data-stu-id="0713c-214">1:1</span></span> |<span data-ttu-id="0713c-215">如果 KeyFrameInterval （或 GOP） 6 秒，hello 預設 HLS 區段封裝比率會是 1 too1。</span><span class="sxs-lookup"><span data-stu-id="0713c-215">If KeyFrameInterval (or GOP) is 6 seconds, hello default HLS segment packaging ratio is 1 too1.</span></span> <span data-ttu-id="0713c-216">這會建立 6 秒 HLS 區段。</span><span class="sxs-lookup"><span data-stu-id="0713c-216">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="0713c-217">您可以變更設定 hello 通道的輸出和設定上 ChannelOutputHls FragmentsPerSegment hello 每個區段的片段比率。</span><span class="sxs-lookup"><span data-stu-id="0713c-217">You can change hello fragments-per-segment ratio by configuring hello channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="0713c-218">您也可以設定上 ChanneInput hello KeyFrameInterval 屬性，以變更 hello 主要畫面格間隔值。</span><span class="sxs-lookup"><span data-stu-id="0713c-218">You can also change hello keyframe interval value by setting hello KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="0713c-219">如果您明確設定 KeyFrameInterval，hello FragmentsPerSegment 透過先前所述的 hello 規則計算 HLS 區段封裝比率。</span><span class="sxs-lookup"><span data-stu-id="0713c-219">If you explicitly set KeyFrameInterval, hello HLS segment packaging ratio FragmentsPerSegment is calculated via hello rules described previously.</span></span>  

<span data-ttu-id="0713c-220">如果您明確設定 KeyFrameInterval 和 FragmentsPerSegment，Media Services 會使用您設定的 hello 值。</span><span class="sxs-lookup"><span data-stu-id="0713c-220">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services will use hello values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="0713c-221">允許的 IP 位址</span><span class="sxs-lookup"><span data-stu-id="0713c-221">Allowed IP addresses</span></span>
<span data-ttu-id="0713c-222">您可以定義可允許 toopublish 視訊 toothis 通道的 hello IP 位址。</span><span class="sxs-lookup"><span data-stu-id="0713c-222">You can define hello IP addresses that are allowed toopublish video toothis channel.</span></span> <span data-ttu-id="0713c-223">允許的 IP 位址可以指定為 hello 下列其中一種：</span><span class="sxs-lookup"><span data-stu-id="0713c-223">An allowed IP address can be specified as one of hello following:</span></span>

* <span data-ttu-id="0713c-224">單一 IP 位址 (例如 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="0713c-224">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="0713c-225">使用 IP 位址和 CIDR 子網路遮罩的 IP 範圍 (例如 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="0713c-225">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="0713c-226">使用 IP 位址和小數點十進位子網路遮罩的 IP 範圍 (例如 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="0713c-226">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="0713c-227">如果未指定 IP 位址而且也未定義規則，則任何 IP 位址都不允許。</span><span class="sxs-lookup"><span data-stu-id="0713c-227">If no IP addresses are specified and there's no rule definition, then no IP address will be allowed.</span></span> <span data-ttu-id="0713c-228">tooallow 任何 IP 位址，建立一個規則，並設定 0.0.0.0/0。</span><span class="sxs-lookup"><span data-stu-id="0713c-228">tooallow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="0713c-229">通道預覽</span><span class="sxs-lookup"><span data-stu-id="0713c-229">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="0713c-230">預覽 URL</span><span class="sxs-lookup"><span data-stu-id="0713c-230">Preview URLs</span></span>
<span data-ttu-id="0713c-231">通道提供預覽端點 (預覽 URL) toopreview 並驗證您的資料流，然後再進一步處理和傳遞。</span><span class="sxs-lookup"><span data-stu-id="0713c-231">Channels provide a preview endpoint (preview URL) that you use toopreview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="0713c-232">當您建立 hello 通道時，您可以取得 hello 預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="0713c-232">You can get hello preview URL when you create hello channel.</span></span> <span data-ttu-id="0713c-233">對於您 tooget hello URL，hello 通道中並沒有 toobe hello**執行**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-233">For you tooget hello URL, hello channel does not have toobe in hello **Running** state.</span></span> <span data-ttu-id="0713c-234">Hello 通道開始擷取資料之後，您可以預覽您的資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-234">After hello channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="0713c-235">目前，傳送 hello 預覽資料流，只能在分散 MP4 (Smooth Streaming) 格式，不論 hello 指定的輸入的類型。</span><span class="sxs-lookup"><span data-stu-id="0713c-235">Currently, hello preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of hello specified input type.</span></span> <span data-ttu-id="0713c-236">您可以使用 hello [Smooth Streaming 的健全狀況監視器](http://smf.cloudapp.net/healthmonitor)player tootest hello smooth streaming。</span><span class="sxs-lookup"><span data-stu-id="0713c-236">You can use hello [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) player tootest hello smooth stream.</span></span> <span data-ttu-id="0713c-237">您也可以使用播放程式裝載在 Azure 入口網站 tooview hello 您的資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-237">You can also use a player that's hosted in hello Azure portal tooview your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="0713c-238">允許的 IP 位址</span><span class="sxs-lookup"><span data-stu-id="0713c-238">Allowed IP addresses</span></span>
<span data-ttu-id="0713c-239">您可以定義可允許 tooconnect toohello 預覽端點的 hello IP 位址。</span><span class="sxs-lookup"><span data-stu-id="0713c-239">You can define hello IP addresses that are allowed tooconnect toohello preview endpoint.</span></span> <span data-ttu-id="0713c-240">如果沒有指定 IP 位址，將會允許任何 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="0713c-240">If no IP addresses are specified, any IP address will be allowed.</span></span> <span data-ttu-id="0713c-241">允許的 IP 位址可以指定為 hello 下列其中一種：</span><span class="sxs-lookup"><span data-stu-id="0713c-241">An allowed IP address can be specified as one of hello following:</span></span>

* <span data-ttu-id="0713c-242">單一 IP 位址 (例如 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="0713c-242">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="0713c-243">使用 IP 位址和 CIDR 子網路遮罩的 IP 範圍 (例如 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="0713c-243">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="0713c-244">使用 IP 位址和小數點十進位子網路遮罩的 IP 範圍 (例如 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="0713c-244">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="0713c-245">通道輸出</span><span class="sxs-lookup"><span data-stu-id="0713c-245">Channel output</span></span>
<span data-ttu-id="0713c-246">通道輸出的相關資訊，請參閱 hello[主要畫面格間隔](#keyframe_interval)> 一節。</span><span class="sxs-lookup"><span data-stu-id="0713c-246">For information about channel output, see hello [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="0713c-247">通道管理程式</span><span class="sxs-lookup"><span data-stu-id="0713c-247">Channel-managed programs</span></span>
<span data-ttu-id="0713c-248">通道是與程式，您可以使用 toocontrol hello 發佈和儲存區段中的即時資料流相關聯。</span><span class="sxs-lookup"><span data-stu-id="0713c-248">A channel is associated with programs that you can use toocontrol hello publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="0713c-249">通道會管理程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-249">Channels manage programs.</span></span> <span data-ttu-id="0713c-250">hello 通道和程式的關聯性是內容的非常類似 tootraditional 媒體，其中通道具有常數資料流，而程式是內容的該頻道上的已設定領域的 toosome 逾時事件。</span><span class="sxs-lookup"><span data-stu-id="0713c-250">hello channel and program relationship is very similar tootraditional media, where a channel has a constant stream of content and a program is scoped toosome timed event on that channel.</span></span>

<span data-ttu-id="0713c-251">您可以指定您想要 tooretain hello 記錄內容 hello 程式設定 hello 的 hello 數**封存時間長度**長度。</span><span class="sxs-lookup"><span data-stu-id="0713c-251">You can specify hello number of hours you want tooretain hello recorded content for hello program by setting hello **Archive Window** length.</span></span> <span data-ttu-id="0713c-252">這個值可以設定為 5 分鐘 tooa 最多 25 個小時的最小值。</span><span class="sxs-lookup"><span data-stu-id="0713c-252">This value can be set from a minimum of 5 minutes tooa maximum of 25 hours.</span></span> <span data-ttu-id="0713c-253">封存時間長度也會規定 hello 最大用戶端可以從 hello 目前即時位置搜尋的時間量。</span><span class="sxs-lookup"><span data-stu-id="0713c-253">Archive window length also dictates hello maximum amount of time clients can seek back in time from hello current live position.</span></span> <span data-ttu-id="0713c-254">程式可以透過 hello 指定時間內，執行但落後 hello 時間長度的內容會持續遭到捨棄。</span><span class="sxs-lookup"><span data-stu-id="0713c-254">Programs can run over hello specified amount of time, but content that falls behind hello window length is continuously discarded.</span></span> <span data-ttu-id="0713c-255">這個屬性的值也會決定資訊清單所能成長的時間長度 hello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="0713c-255">This value of this property also determines how long hello client manifests can grow.</span></span>

<span data-ttu-id="0713c-256">每個程式都與儲存 hello 串流處理內容的資產。</span><span class="sxs-lookup"><span data-stu-id="0713c-256">Each program is associated with an asset that stores hello streamed content.</span></span> <span data-ttu-id="0713c-257">資產是 hello Azure 儲存體帳戶中，對應的 tooa 區塊 blob 容器和 hello 資產中的 hello 檔案會儲存成該容器中的 blob。</span><span class="sxs-lookup"><span data-stu-id="0713c-257">An asset is mapped tooa block blob container in hello Azure storage account, and hello files in hello asset are stored as blobs in that container.</span></span> <span data-ttu-id="0713c-258">toopublish hello 程式讓您的客戶可以檢視 hello 資料流中，您必須建立 OnDemand 定位器 hello 相關聯的資產。</span><span class="sxs-lookup"><span data-stu-id="0713c-258">toopublish hello program so your customers can view hello stream, you must create an OnDemand locator for hello associated asset.</span></span> <span data-ttu-id="0713c-259">您可以使用這個定位器 toobuild 您可以提供 tooyour 用戶端的串流 URL。</span><span class="sxs-lookup"><span data-stu-id="0713c-259">You can use this locator toobuild a streaming URL that you can provide tooyour clients.</span></span>

<span data-ttu-id="0713c-260">一個通道可支援同時執行的程式，因此您可以建立多個封存 hello toothree 註冊相同的傳入資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-260">A channel supports up toothree concurrently running programs, so you can create multiple archives of hello same incoming stream.</span></span> <span data-ttu-id="0713c-261">您可以視需要發行和封存事件的不同部分。</span><span class="sxs-lookup"><span data-stu-id="0713c-261">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="0713c-262">例如，假設您的商務需求是 tooarchive 6 小時的程式，但 toobroadcast 只有 hello 過去 10 分鐘。</span><span class="sxs-lookup"><span data-stu-id="0713c-262">For example, imagine that your business requirement is tooarchive 6 hours of a program, but toobroadcast only hello last 10 minutes.</span></span> <span data-ttu-id="0713c-263">tooaccomplish，您需要 toocreate 兩個同時執行的程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-263">tooaccomplish this, you need toocreate two concurrently running programs.</span></span> <span data-ttu-id="0713c-264">一個程式設 tooarchive 6 小時的 hello 事件，但 hello 程式不會發行。</span><span class="sxs-lookup"><span data-stu-id="0713c-264">One program is set tooarchive 6 hours of hello event, but hello program is not published.</span></span> <span data-ttu-id="0713c-265">hello 其他程式的組 tooarchive 為 10 分鐘，並發佈此程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-265">hello other program is set tooarchive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="0713c-266">您不應該將現有程式重複用於新的事件。</span><span class="sxs-lookup"><span data-stu-id="0713c-266">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="0713c-267">而是針對每個事件建立新的程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-267">Instead, create a new program for each event.</span></span> <span data-ttu-id="0713c-268">當您準備好 toostart 串流並封存，請啟動 hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-268">Start hello program when you're ready toostart streaming and archiving.</span></span> <span data-ttu-id="0713c-269">每當您想 toostop 串流並封存 hello 事件時，請停止 hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-269">Stop hello program whenever you want toostop streaming and archiving hello event.</span></span>

<span data-ttu-id="0713c-270">toodelete 封存內容時，會停止和刪除 hello 程式，然後再刪除 hello 相關聯的資產。</span><span class="sxs-lookup"><span data-stu-id="0713c-270">toodelete archived content, stop and delete hello program, and then delete hello associated asset.</span></span> <span data-ttu-id="0713c-271">如果程式使用資產，則無法刪除它。</span><span class="sxs-lookup"><span data-stu-id="0713c-271">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="0713c-272">必須先刪除 hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-272">hello program must be deleted first.</span></span>

<span data-ttu-id="0713c-273">即使您停止並刪除 hello 程式之後，則使用者可以在直到您刪除 hello 資產串流處理將封存的內容，視視訊。</span><span class="sxs-lookup"><span data-stu-id="0713c-273">Even after you stop and delete hello program, users can stream your archived content as a video on demand, until you delete hello asset.</span></span> <span data-ttu-id="0713c-274">如果您想 tooretain hello 封存的內容，但沒有可供串流處理它，請刪除串流定位器 hello。</span><span class="sxs-lookup"><span data-stu-id="0713c-274">If you want tooretain hello archived content but not have it available for streaming, delete hello streaming locator.</span></span>

## <span data-ttu-id="0713c-275"><a id="states"></a>通道狀態和計費</span><span class="sxs-lookup"><span data-stu-id="0713c-275"><a id="states"></a>Channel states and billing</span></span>
<span data-ttu-id="0713c-276">Hello 之通道的目前狀態的可能值包括：</span><span class="sxs-lookup"><span data-stu-id="0713c-276">Possible values for hello current state of a channel include:</span></span>

* <span data-ttu-id="0713c-277">**停止**： 這是在建立之後的 hello 通道 hello 初始狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-277">**Stopped**: This is hello initial state of hello channel after its creation.</span></span> <span data-ttu-id="0713c-278">處於此狀態，可以更新 hello 通道內容，但不是允許串流。</span><span class="sxs-lookup"><span data-stu-id="0713c-278">In this state, hello channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="0713c-279">**啟動**: hello 通道正在啟動。</span><span class="sxs-lookup"><span data-stu-id="0713c-279">**Starting**: hello channel is being started.</span></span> <span data-ttu-id="0713c-280">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="0713c-280">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="0713c-281">Hello 通道發生錯誤時，傳回 toohello**已停止**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-281">If an error occurs, hello channel returns toohello **Stopped** state.</span></span>
* <span data-ttu-id="0713c-282">**執行**: hello 通道能夠處理即時資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-282">**Running**: hello channel can process live streams.</span></span>
* <span data-ttu-id="0713c-283">**停止**: hello 通道正在停止。</span><span class="sxs-lookup"><span data-stu-id="0713c-283">**Stopping**: hello channel is being stopped.</span></span> <span data-ttu-id="0713c-284">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="0713c-284">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="0713c-285">**刪除**： 正在刪除 hello 通道。</span><span class="sxs-lookup"><span data-stu-id="0713c-285">**Deleting**: hello channel is being deleted.</span></span> <span data-ttu-id="0713c-286">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="0713c-286">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="0713c-287">hello 下表顯示如何通道狀態地圖 toohello 計費模式。</span><span class="sxs-lookup"><span data-stu-id="0713c-287">hello following table shows how channel states map toohello billing mode.</span></span>

| <span data-ttu-id="0713c-288">通道狀態</span><span class="sxs-lookup"><span data-stu-id="0713c-288">Channel state</span></span> | <span data-ttu-id="0713c-289">入口網站 UI 指標</span><span class="sxs-lookup"><span data-stu-id="0713c-289">Portal UI indicators</span></span> | <span data-ttu-id="0713c-290">是否計費？</span><span class="sxs-lookup"><span data-stu-id="0713c-290">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0713c-291">**啟動中**</span><span class="sxs-lookup"><span data-stu-id="0713c-291">**Starting**</span></span> |<span data-ttu-id="0713c-292">**啟動中**</span><span class="sxs-lookup"><span data-stu-id="0713c-292">**Starting**</span></span> |<span data-ttu-id="0713c-293">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="0713c-293">No (transient state)</span></span> |
| <span data-ttu-id="0713c-294">**執行中**</span><span class="sxs-lookup"><span data-stu-id="0713c-294">**Running**</span></span> |<span data-ttu-id="0713c-295">**就緒** (沒有執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="0713c-295">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="0713c-296">或</span><span class="sxs-lookup"><span data-stu-id="0713c-296">or</span></span><p><span data-ttu-id="0713c-297">**串流** (至少一個執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="0713c-297">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="0713c-298">是</span><span class="sxs-lookup"><span data-stu-id="0713c-298">Yes</span></span> |
| <span data-ttu-id="0713c-299">**停止中**</span><span class="sxs-lookup"><span data-stu-id="0713c-299">**Stopping**</span></span> |<span data-ttu-id="0713c-300">**停止中**</span><span class="sxs-lookup"><span data-stu-id="0713c-300">**Stopping**</span></span> |<span data-ttu-id="0713c-301">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="0713c-301">No (transient state)</span></span> |
| <span data-ttu-id="0713c-302">**已停止**</span><span class="sxs-lookup"><span data-stu-id="0713c-302">**Stopped**</span></span> |<span data-ttu-id="0713c-303">**已停止**</span><span class="sxs-lookup"><span data-stu-id="0713c-303">**Stopped**</span></span> |<span data-ttu-id="0713c-304">否</span><span class="sxs-lookup"><span data-stu-id="0713c-304">No</span></span> |

## <span data-ttu-id="0713c-305"><a id="cc_and_ads"></a>隱藏式字幕和廣告插入</span><span class="sxs-lookup"><span data-stu-id="0713c-305"><a id="cc_and_ads"></a>Closed captioning and ad insertion</span></span>
<span data-ttu-id="0713c-306">下表中的 hello 示範字幕和廣告插入支援的標準。</span><span class="sxs-lookup"><span data-stu-id="0713c-306">hello following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="0713c-307">標準</span><span class="sxs-lookup"><span data-stu-id="0713c-307">Standard</span></span> | <span data-ttu-id="0713c-308">注意事項</span><span class="sxs-lookup"><span data-stu-id="0713c-308">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="0713c-309">CEA-708 和 EIA-608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="0713c-309">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="0713c-310">Cea-708 和 eia-608 是字幕 hello 美國和加拿大地區的標準。</span><span class="sxs-lookup"><span data-stu-id="0713c-310">CEA-708 and EIA-608 are closed-captioning standards for hello United States and Canada.</span></span><p><p><span data-ttu-id="0713c-311">目前，字幕功能才會支援傳送嗨編碼的輸入資料流中。</span><span class="sxs-lookup"><span data-stu-id="0713c-311">Currently, captioning is supported only if carried in hello encoded input stream.</span></span> <span data-ttu-id="0713c-312">您需要 toouse 即時媒體編碼程式可以將 608 或 708 字幕插入傳送 tooMedia 服務的 hello 編碼資料流中。</span><span class="sxs-lookup"><span data-stu-id="0713c-312">You need toouse a live media encoder that can insert 608 or 708 captions in hello encoded stream that's sent tooMedia Services.</span></span> <span data-ttu-id="0713c-313">Media Services 來提供 hello 與插入的字幕 tooyour 檢視器的內容。</span><span class="sxs-lookup"><span data-stu-id="0713c-313">Media Services delivers hello content with inserted captions tooyour viewers.</span></span> |
| <span data-ttu-id="0713c-314">.ismt 裡面附帶字幕 (Smooth Streaming 文字播放軌)</span><span class="sxs-lookup"><span data-stu-id="0713c-314">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="0713c-315">Media Services 動態封裝可讓您的用戶端 toostream 內容中任何 hello 下列格式： DASH、 HLS 或 Smooth Streaming。</span><span class="sxs-lookup"><span data-stu-id="0713c-315">Media Services dynamic packaging enables your clients toostream content in any of hello following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="0713c-316">不過，如果您所擷取的分散 MP4 (Smooth Streaming) 含有.ismt （Smooth Streaming 文字播放軌） 內的標題，您可以傳送 hello 資料流 tooonly Smooth Streaming 用戶端。</span><span class="sxs-lookup"><span data-stu-id="0713c-316">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver hello stream tooonly Smooth Streaming clients.</span></span> |
| <span data-ttu-id="0713c-317">SCTE-35</span><span class="sxs-lookup"><span data-stu-id="0713c-317">SCTE-35</span></span> |<span data-ttu-id="0713c-318">Scte-35 是已使用 toocue 廣告插入的數位訊號系統。</span><span class="sxs-lookup"><span data-stu-id="0713c-318">SCTE-35 is a digital signaling system that's used toocue advertising insertion.</span></span> <span data-ttu-id="0713c-319">下游接收器會使用 hello 訊號 toosplice 廣告插入 hello 資料流 hello 分配的時間。</span><span class="sxs-lookup"><span data-stu-id="0713c-319">Downstream receivers use hello signal toosplice advertising into hello stream for hello allotted time.</span></span> <span data-ttu-id="0713c-320">Scte-35 必須以疏鬆播放軌 hello 輸入資料流中傳送。</span><span class="sxs-lookup"><span data-stu-id="0713c-320">SCTE-35 must be sent as a sparse track in hello input stream.</span></span><p><p><span data-ttu-id="0713c-321">分散帶有廣告訊號的 hello 只支援輸入資料流格式的目前 MP4 (Smooth Streaming)。</span><span class="sxs-lookup"><span data-stu-id="0713c-321">Currently, hello only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="0713c-322">hello，才支援輸出格式也是 Smooth Streaming。</span><span class="sxs-lookup"><span data-stu-id="0713c-322">hello only supported output format is also Smooth Streaming.</span></span> |

## <span data-ttu-id="0713c-323"><a id="considerations"></a>考量</span><span class="sxs-lookup"><span data-stu-id="0713c-323"><a id="considerations"></a>Considerations</span></span>
<span data-ttu-id="0713c-324">當您使用內部部署即時編碼器 toosend 多位元速率串流 tooa 通道時，適用於下列條件約束的 hello:</span><span class="sxs-lookup"><span data-stu-id="0713c-324">When you're using an on-premises live encoder toosend a multi-bitrate stream tooa channel, hello following constraints apply:</span></span>

* <span data-ttu-id="0713c-325">請確定您有足夠可用網際網路連線 toosend 資料 toohello 內嵌點。</span><span class="sxs-lookup"><span data-stu-id="0713c-325">Make sure you have sufficient free Internet connectivity toosend data toohello ingest points.</span></span>
* <span data-ttu-id="0713c-326">使用次要內嵌 URL 時會佔用額外的頻寬。</span><span class="sxs-lookup"><span data-stu-id="0713c-326">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="0713c-327">hello 傳入多位元速率串流可以有 10 個視訊的品質等級 （層級） 的最大值和最多 5 個音訊音軌。</span><span class="sxs-lookup"><span data-stu-id="0713c-327">hello incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="0713c-328">hello 最高平均位元速率 hello 視訊品質等級的其中之一應少於 10 Mbps。</span><span class="sxs-lookup"><span data-stu-id="0713c-328">hello highest average bitrate for any of hello video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="0713c-329">hello hello 平均彈性位元速率所有 hello 視訊和音訊資料流的彙總應少於 25 Mbps。</span><span class="sxs-lookup"><span data-stu-id="0713c-329">hello aggregate of hello average bitrates for all hello video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="0713c-330">您無法變更 hello hello 通道時的輸入通訊協定，或其相關聯的程式正在執行。</span><span class="sxs-lookup"><span data-stu-id="0713c-330">You cannot change hello input protocol while hello channel or its associated programs are running.</span></span> <span data-ttu-id="0713c-331">如果您需要不同的通訊協定，則應該為每個輸入通訊協定建立個別的通道。</span><span class="sxs-lookup"><span data-stu-id="0713c-331">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="0713c-332">您可以在通道中內嵌單一位元速率。</span><span class="sxs-lookup"><span data-stu-id="0713c-332">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="0713c-333">但因為 hello 通道不會處理 hello 資料流，hello 用戶端應用程式也會收到單一位元速率資料流。</span><span class="sxs-lookup"><span data-stu-id="0713c-333">But because hello channel does not process hello stream, hello client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="0713c-334">(不建議這個選項。)</span><span class="sxs-lookup"><span data-stu-id="0713c-334">(We don't recommend this option.)</span></span>

<span data-ttu-id="0713c-335">以下是其他考量相關的 tooworking 與通道和相關的元件：</span><span class="sxs-lookup"><span data-stu-id="0713c-335">Here are other considerations related tooworking with channels and related components:</span></span>

* <span data-ttu-id="0713c-336">每次您重新設定 hello 即時編碼器，呼叫 hello**重設**hello 通道上的方法。</span><span class="sxs-lookup"><span data-stu-id="0713c-336">Every time you reconfigure hello live encoder, call hello **Reset** method on hello channel.</span></span> <span data-ttu-id="0713c-337">您重設 hello 通道之前，您會有 toostop hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-337">Before you reset hello channel, you have toostop hello program.</span></span> <span data-ttu-id="0713c-338">在重設 hello 通道之後，重新啟動 hello 程式。</span><span class="sxs-lookup"><span data-stu-id="0713c-338">After you reset hello channel, restart hello program.</span></span>
* <span data-ttu-id="0713c-339">只有當它在 hello 時才能停止通道**執行**狀態和 hello 通道上的所有程式都已停止。</span><span class="sxs-lookup"><span data-stu-id="0713c-339">A channel can be stopped only when it's in hello **Running** state and all programs on hello channel have been stopped.</span></span>
* <span data-ttu-id="0713c-340">根據預設，您可以加入只有 5 個通道 tooyour Media Services 帳戶。</span><span class="sxs-lookup"><span data-stu-id="0713c-340">By default, you can add only 5 channels tooyour Media Services account.</span></span> <span data-ttu-id="0713c-341">如需詳細資訊，請參閱 [配額和限制](media-services-quotas-and-limitations.md)。</span><span class="sxs-lookup"><span data-stu-id="0713c-341">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="0713c-342">您會在通道處於 hello 時，才需要付費**執行**狀態。</span><span class="sxs-lookup"><span data-stu-id="0713c-342">You are billed only when your channel is in hello **Running** state.</span></span> <span data-ttu-id="0713c-343">如需詳細資訊，請參閱 toohello[通道狀態和計費](media-services-live-streaming-with-onprem-encoders.md#states)> 一節。</span><span class="sxs-lookup"><span data-stu-id="0713c-343">For more information, refer toohello [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="0713c-344">媒體服務學習路徑</span><span class="sxs-lookup"><span data-stu-id="0713c-344">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="0713c-345">意見反應</span><span class="sxs-lookup"><span data-stu-id="0713c-345">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="0713c-346">相關主題</span><span class="sxs-lookup"><span data-stu-id="0713c-346">Related topics</span></span>
[<span data-ttu-id="0713c-347">Azure 媒體服務的分散 MP4 即時內嵌規格</span><span class="sxs-lookup"><span data-stu-id="0713c-347">Azure Media Services fragmented MP4 live ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="0713c-348">Azure 媒體服務概觀和常見案例</span><span class="sxs-lookup"><span data-stu-id="0713c-348">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="0713c-349">媒體服務概念</span><span class="sxs-lookup"><span data-stu-id="0713c-349">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
