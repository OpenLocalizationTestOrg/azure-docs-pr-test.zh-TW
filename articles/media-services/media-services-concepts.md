---
title: "Azure 媒體服務概念 | Microsoft Docs"
description: "本主題提供 Azure 媒體服務概念的概觀"
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: dcefc8bc-e2ea-4b38-a643-9010f4436fb5
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/07/2017
ms.author: juliako
ms.openlocfilehash: 5322b5f3231b067937b685c69b916ed74dfe9a6e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="azure-media-services-concepts"></a><span data-ttu-id="0e149-103">Azure 媒體服務概念</span><span class="sxs-lookup"><span data-stu-id="0e149-103">Azure Media Services concepts</span></span>
<span data-ttu-id="0e149-104">本主題提供媒體服務概念的最重要概觀。</span><span class="sxs-lookup"><span data-stu-id="0e149-104">This topic gives an overview of the most important Media Services concepts.</span></span>

## <span data-ttu-id="0e149-105"><a id="assets"></a>資產和儲存體</span><span class="sxs-lookup"><span data-stu-id="0e149-105"><a id="assets"></a>Assets and Storage</span></span>
### <a name="assets"></a><span data-ttu-id="0e149-106">Assets</span><span class="sxs-lookup"><span data-stu-id="0e149-106">Assets</span></span>
<span data-ttu-id="0e149-107">[資產](https://docs.microsoft.com/rest/api/media/operations/asset) 包含數位檔案 (包括視訊、音訊、影像、縮圖集合、文字播放軌和隱藏式輔助字幕檔案)，以及這些檔案的相關中繼資料。</span><span class="sxs-lookup"><span data-stu-id="0e149-107">An [Asset](https://docs.microsoft.com/rest/api/media/operations/asset) contains digital files (including video, audio, images, thumbnail collections, text tracks and closed caption files) and the metadata about these files.</span></span> <span data-ttu-id="0e149-108">將數位檔案上傳到資產之後，可以用於媒體服務編碼和串流工作流程。</span><span class="sxs-lookup"><span data-stu-id="0e149-108">After the digital files are uploaded into an asset, they could be used in the Media Services encoding and streaming workflows.</span></span>

<span data-ttu-id="0e149-109">資產會對應到 Azure 儲存體帳戶中的 blob 容器，且資產中的檔案會儲存為該容器中的區塊 Blob。</span><span class="sxs-lookup"><span data-stu-id="0e149-109">An asset is mapped to a blob container in the Azure Storage account and the files in the asset are stored as block blobs in that container.</span></span> <span data-ttu-id="0e149-110">Azure 媒體服務不支援分頁 Blob。</span><span class="sxs-lookup"><span data-stu-id="0e149-110">Page blobs are not supported by Azure Media Services.</span></span>

<span data-ttu-id="0e149-111">決定要在資產中上傳及儲存何種媒體內容時，適用下列考量：</span><span class="sxs-lookup"><span data-stu-id="0e149-111">When deciding what media content to upload and store in an asset, the following considerations apply:</span></span>

* <span data-ttu-id="0e149-112">資產應該只包含一個唯一的媒體內容執行個體。</span><span class="sxs-lookup"><span data-stu-id="0e149-112">An asset should contain only a single, unique instance of media content.</span></span> <span data-ttu-id="0e149-113">例如，一份電視影集、電影或廣告的剪輯。</span><span class="sxs-lookup"><span data-stu-id="0e149-113">For example, a single edit of a TV episode, movie, or advertisement.</span></span>
* <span data-ttu-id="0e149-114">資產不應包含多份視聽檔案的轉譯或剪輯。</span><span class="sxs-lookup"><span data-stu-id="0e149-114">An asset should not contain multiple renditions or edits of an audiovisual file.</span></span> <span data-ttu-id="0e149-115">不當使用資產的例子是嘗試在資產內儲存一份以上電視影集、廣告或同一作品的多個拍攝角度。</span><span class="sxs-lookup"><span data-stu-id="0e149-115">One example of an improper usage of an Asset would be attempting to store more than one TV episode, advertisement, or multiple camera angles from a single production inside an asset.</span></span> <span data-ttu-id="0e149-116">在資產內儲存多份視聽檔案的轉譯或剪輯，可能會在工作流程稍後的提交編碼工作、串流處理和保護資產傳遞時造成問題。</span><span class="sxs-lookup"><span data-stu-id="0e149-116">Storing multiple renditions or edits of an audiovisual file in an asset can result in difficulties submitting encoding jobs, streaming and securing the delivery of the asset later in the workflow.</span></span>  

### <a name="asset-file"></a><span data-ttu-id="0e149-117">資產檔案</span><span class="sxs-lookup"><span data-stu-id="0e149-117">Asset file</span></span>
<span data-ttu-id="0e149-118">[AssetFile](https://docs.microsoft.com/rest/api/media/operations/assetfile) 代表儲存在 blob 容器中的實際視訊或音訊檔案。</span><span class="sxs-lookup"><span data-stu-id="0e149-118">An [AssetFile](https://docs.microsoft.com/rest/api/media/operations/assetfile) represents an actual video or audio file that is stored in a blob container.</span></span> <span data-ttu-id="0e149-119">資產檔案一律會與資產相關聯，一個資產可包含一或多個檔案。</span><span class="sxs-lookup"><span data-stu-id="0e149-119">An asset file is always associated with an asset, and an asset may contain one or many files.</span></span> <span data-ttu-id="0e149-120">如果資產檔案物件並未與 blob 容器中的數位檔案相關聯，媒體服務編碼器工作將會失敗。</span><span class="sxs-lookup"><span data-stu-id="0e149-120">The Media Services Encoder task fails if an asset file object is not associated with a digital file in a blob container.</span></span>

<span data-ttu-id="0e149-121">**AssetFile** 執行個體和實際媒體檔是兩個不同的物件。</span><span class="sxs-lookup"><span data-stu-id="0e149-121">The **AssetFile** instance and the actual media file are two distinct objects.</span></span> <span data-ttu-id="0e149-122">AssetFile 執行個體包含媒體檔案的相關中繼資料，而媒體檔案包含實際的媒體內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-122">The AssetFile instance contains metadata about the media file, while the media file contains the actual media content.</span></span>

<span data-ttu-id="0e149-123">請勿在不使用媒體服務 API 的情況下，嘗試變更由媒體服務所產生的 blob 容器內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-123">You should not attempt to change the contents of blob containers that were generated by Media Services without using Media Service APIs.</span></span>

### <a name="asset-encryption-options"></a><span data-ttu-id="0e149-124">資產加密選項</span><span class="sxs-lookup"><span data-stu-id="0e149-124">Asset encryption options</span></span>
<span data-ttu-id="0e149-125">根據您想要上傳、儲存和傳遞的內容類型，媒體服務會提供各種加密選項供您選擇。</span><span class="sxs-lookup"><span data-stu-id="0e149-125">Depending on the type of content you want to upload, store, and deliver, Media Services provides various encryption options that you can choose from.</span></span>

>[!NOTE]
><span data-ttu-id="0e149-126">不使用加密。</span><span class="sxs-lookup"><span data-stu-id="0e149-126">No encryption is used.</span></span> <span data-ttu-id="0e149-127">這是預設值。</span><span class="sxs-lookup"><span data-stu-id="0e149-127">This is the default value.</span></span> <span data-ttu-id="0e149-128">使用此選項時，您的內容在傳輸或儲存體中靜止時不會受到保護。</span><span class="sxs-lookup"><span data-stu-id="0e149-128">When using this option your content is not protected in transit or at rest in storage.</span></span>

<span data-ttu-id="0e149-129">如果您計劃使用漸進式下載傳遞 MP4，請使用此選項來上傳內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-129">If you plan to deliver an MP4 using progressive download, use this option to upload your content.</span></span>

<span data-ttu-id="0e149-130">**StorageEncrypted** - 使用此選項，使用 AES 256 位元加密對您的純文字內容進行本機加密，然後將它上傳到已靜止加密儲存的 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="0e149-130">**StorageEncrypted** – Use this option to encrypt your clear content locally using AES 256 bit encryption and then upload it to Azure Storage where it is stored encrypted at rest.</span></span> <span data-ttu-id="0e149-131">使用儲存體加密保護的資產會在編碼之前自動解除加密並放在加密的檔案系統中，並且選擇性地在上傳為新的輸出資產之前重新加密。</span><span class="sxs-lookup"><span data-stu-id="0e149-131">Assets protected with storage encryption are automatically unencrypted and placed in an encrypted file system prior to encoding, and optionally re-encrypted prior to uploading back as a new output asset.</span></span> <span data-ttu-id="0e149-132">儲存體加密的主要使用案例是當您想要使用強式加密保護靜止在磁碟上的高品質輸入媒體檔案時。</span><span class="sxs-lookup"><span data-stu-id="0e149-132">The primary use case for storage encryption is when you want to secure your high quality input media files with strong encryption at rest on disk.</span></span> 

<span data-ttu-id="0e149-133">若要傳遞儲存體加密資產，您必須設定資產的傳遞原則，讓媒體服務知道您的內容傳遞方式。</span><span class="sxs-lookup"><span data-stu-id="0e149-133">In order to deliver a storage encrypted asset, you must configure the asset’s delivery policy so Media Services knows how you want to deliver your content.</span></span> <span data-ttu-id="0e149-134">串流處理資產之前，串流伺服器會移除儲存體加密，並使用指定的傳遞原則來串流處理您的內容 (例如，AES、PlayReady 或不加密)。</span><span class="sxs-lookup"><span data-stu-id="0e149-134">Before your asset can be streamed, the streaming server removes the storage encryption and streams your content using the specified delivery policy (for example, AES, PlayReady, or no encryption).</span></span> 

<span data-ttu-id="0e149-135">**CommonEncryptionProtected** - 如果您想要使用一般加密或 PlayReady DRM (例如，受到 PlayReady DRM 保護的 Smooth Streaming) 來加密 (或上傳已加密) 內容，請使用此選項。</span><span class="sxs-lookup"><span data-stu-id="0e149-135">**CommonEncryptionProtected** - Use this option if you want to encrypt (or upload already encrypted) content with Common Encryption or PlayReady DRM (for example, Smooth Streaming protected with PlayReady DRM).</span></span>

<span data-ttu-id="0e149-136">**EnvelopeEncryptionProtected** - 如果您想要保護利用進階加密標準 (AES) 所加密的 HTTP 即時串流 (HLS) 或上傳利用相同標準所加密的已保護 HTTP 即時串流 (HLS)，請使用此選項。</span><span class="sxs-lookup"><span data-stu-id="0e149-136">**EnvelopeEncryptionProtected** – Use this option if you want to protect (or upload already protected) HTTP Live Streaming (HLS) encrypted with Advanced Encryption Standard (AES).</span></span> <span data-ttu-id="0e149-137">如果您上傳已透過 AES 加密的 HLS，它必須是由 Transform Manager 加密。</span><span class="sxs-lookup"><span data-stu-id="0e149-137">If you are uploading HLS already encrypted with AES, it must have been encrypted by Transform Manager.</span></span>

### <a name="access-policy"></a><span data-ttu-id="0e149-138">存取原則</span><span class="sxs-lookup"><span data-stu-id="0e149-138">Access policy</span></span>
<span data-ttu-id="0e149-139">[AccessPolicy](https://docs.microsoft.com/rest/api/media/operations/accesspolicy) 定義資產存取的權限 (例如讀取、寫入和清單) 和持續時間。</span><span class="sxs-lookup"><span data-stu-id="0e149-139">An [AccessPolicy](https://docs.microsoft.com/rest/api/media/operations/accesspolicy) defines permissions (like read, write, and list) and duration of access to an asset.</span></span> <span data-ttu-id="0e149-140">您通常會傳遞 AccessPolicy 物件到定位器，接著再用來存取資產中包含的檔案。</span><span class="sxs-lookup"><span data-stu-id="0e149-140">You would usually pass an AccessPolicy object to a locator that would then be used to access the files contained in an asset.</span></span>

>[!NOTE]
><span data-ttu-id="0e149-141">對於不同的 AMS 原則 (例如 Locator 原則或 ContentKeyAuthorizationPolicy) 有 1,000,000 個原則的限制。</span><span class="sxs-lookup"><span data-stu-id="0e149-141">There is a limit of 1,000,000 policies for different AMS policies (for example, for Locator policy or ContentKeyAuthorizationPolicy).</span></span> <span data-ttu-id="0e149-142">如果您一律使用相同的日期 / 存取權限，例如，要長時間維持就地 (非上載原則) 的定位器原則，您應該使用相同的原則識別碼。</span><span class="sxs-lookup"><span data-stu-id="0e149-142">You should use the same policy ID if you are always using the same days / access permissions, for example, policies for locators that are intended to remain in place for a long time (non-upload policies).</span></span> <span data-ttu-id="0e149-143">如需詳細資訊，請參閱 [這個](media-services-dotnet-manage-entities.md#limit-access-policies) 主題。</span><span class="sxs-lookup"><span data-stu-id="0e149-143">For more information, see [this](media-services-dotnet-manage-entities.md#limit-access-policies) topic.</span></span>

### <a name="blob-container"></a><span data-ttu-id="0e149-144">Blob 容器</span><span class="sxs-lookup"><span data-stu-id="0e149-144">Blob container</span></span>
<span data-ttu-id="0e149-145">Blob 容器提供一組 blob。</span><span class="sxs-lookup"><span data-stu-id="0e149-145">A blob container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="0e149-146">Blob 容器在媒體服務中是做為存取控制的分界點，以及資產上的共用存取簽章 (SAS) 定位器。</span><span class="sxs-lookup"><span data-stu-id="0e149-146">Blob containers are used in Media Services as boundary point for access control, and Shared Access Signature (SAS) locators on assets.</span></span> <span data-ttu-id="0e149-147">Azure 儲存體帳戶可以包含無限多個 blob 容器。</span><span class="sxs-lookup"><span data-stu-id="0e149-147">An Azure Storage account can contain an unlimited number of blob containers.</span></span> <span data-ttu-id="0e149-148">容器可以儲存無限制的 Blob。</span><span class="sxs-lookup"><span data-stu-id="0e149-148">A container can store an unlimited number of blobs.</span></span>

>[!NOTE]
> <span data-ttu-id="0e149-149">請勿在不使用媒體服務 API 的情況下，嘗試變更由媒體服務所產生的 blob 容器內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-149">You should not attempt to change the contents of blob containers that were generated by Media Services without using Media Service APIs.</span></span>
> 
> 

### <span data-ttu-id="0e149-150"><a id="locators"></a>定位器</span><span class="sxs-lookup"><span data-stu-id="0e149-150"><a id="locators"></a>Locators</span></span>
<span data-ttu-id="0e149-151">[定位器](https://docs.microsoft.com/rest/api/media/operations/locator)提供一個進入點，可供存取資產中包含的檔案。</span><span class="sxs-lookup"><span data-stu-id="0e149-151">[Locator](https://docs.microsoft.com/rest/api/media/operations/locator)s provide an entry point to access the files contained in an asset.</span></span> <span data-ttu-id="0e149-152">存取原則用來定義用戶端可存取特定資產的權限與持續時間。</span><span class="sxs-lookup"><span data-stu-id="0e149-152">An access policy is used to define the permissions and duration that a client has access to a given asset.</span></span> <span data-ttu-id="0e149-153">定位器對存取原則可以有多對一關聯性，以便在所有用戶端都使用相同的權限與持續時間設定時，可以讓不同定位器對不同的用戶端提供不同的開始時間和連線類型；不過，由於 Azure 儲存體服務所設定的共用存取原則限制，特定資產一次不能有超過五個唯一定位器與之相關聯。</span><span class="sxs-lookup"><span data-stu-id="0e149-153">Locators can have a many to one relationship with an access policy, such that different locators can provide different start times and connection types to different clients while all using the same permission and duration settings; however, because of a shared access policy restriction set by Azure storage services, you cannot have more than five unique locators associated with a given asset at one time.</span></span> 

<span data-ttu-id="0e149-154">媒體服務支援兩種類型的定位器：一個是 OnDemandOrigin 定位器，用於串流媒體 (例如 MPEG DASH、HLS 或 Smooth Streaming)，或漸進式下載媒體；另一個則是 SAS URL 定位器，用於上傳媒體檔案至 Azure 儲存體或從 Azure 儲存體下載媒體檔案。</span><span class="sxs-lookup"><span data-stu-id="0e149-154">Media Services supports two types of locators: OnDemandOrigin locators, used to stream media (for example, MPEG DASH, HLS, or Smooth Streaming) or progressively download media and SAS URL locators, used to upload or download media files to\from Azure storage.</span></span> 

>[!NOTE]
><span data-ttu-id="0e149-155">建立 OnDemandOrigin 定位器時，不應使用清單權限 (AccessPermissions.List)。</span><span class="sxs-lookup"><span data-stu-id="0e149-155">The list permission (AccessPermissions.List) should not be used when creating an OnDemandOrigin locator.</span></span> 

### <a name="storage-account"></a><span data-ttu-id="0e149-156">儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="0e149-156">Storage account</span></span>
<span data-ttu-id="0e149-157">所有對 Azure 儲存體的存取都是透過儲存體帳戶進行。</span><span class="sxs-lookup"><span data-stu-id="0e149-157">All access to Azure Storage is done through a storage account.</span></span> <span data-ttu-id="0e149-158">媒體服務帳戶可以與一個或多個儲存體帳戶產生關聯。</span><span class="sxs-lookup"><span data-stu-id="0e149-158">A Media Service account can associate with one or more storage accounts.</span></span> <span data-ttu-id="0e149-159">帳戶可以包含不限數目的容器，只要它們的大小總計低於每個儲存體帳戶 500TB 即可。</span><span class="sxs-lookup"><span data-stu-id="0e149-159">An account can contain an unlimited number of containers, as long as their total size is under 500TB per storage account.</span></span>  <span data-ttu-id="0e149-160">媒體服務提供 SDK 層級工具，可讓您管理多個儲存體帳戶，以及在上傳至這些帳戶期間根據計量或隨機分佈，負載平衡資產的分佈。</span><span class="sxs-lookup"><span data-stu-id="0e149-160">Media Services provides SDK level tooling to allow you to manage multiple storage accounts and load balance the distribution of your assets during upload to these accounts based on metrics or random distribution.</span></span> <span data-ttu-id="0e149-161">如需詳細資訊，請參閱「使用 [Azure 儲存體](https://msdn.microsoft.com/library/azure/dn767951.aspx)」。</span><span class="sxs-lookup"><span data-stu-id="0e149-161">For more information, see Working with [Azure Storage](https://msdn.microsoft.com/library/azure/dn767951.aspx).</span></span> 

## <a name="jobs-and-tasks"></a><span data-ttu-id="0e149-162">工作 (Job) 和工作 (Task)</span><span class="sxs-lookup"><span data-stu-id="0e149-162">Jobs and tasks</span></span>
<span data-ttu-id="0e149-163">[工作](https://https://docs.microsoft.com/rest/api/media/operations/job) 通常用來處理 (例如索引或編碼) 一個音訊/視訊簡報。</span><span class="sxs-lookup"><span data-stu-id="0e149-163">A [job](https://https://docs.microsoft.com/rest/api/media/operations/job) is typically used to process (for example, index or encode) one audio/video presentation.</span></span> <span data-ttu-id="0e149-164">如果您要處理多個視訊，請為每個要編碼的視訊各建立一個工作。</span><span class="sxs-lookup"><span data-stu-id="0e149-164">If you are processing multiple videos, create a job for each video to be encoded.</span></span>

<span data-ttu-id="0e149-165">工作包含要進行之處理的相關中繼資料。</span><span class="sxs-lookup"><span data-stu-id="0e149-165">A job contains metadata about the processing to be performed.</span></span> <span data-ttu-id="0e149-166">每個工作 (Job) 包含一或多個 [工作 (Task)](https://docs.microsoft.com/rest/api/media/operations/task)，該工作 (Task) 指定不可部分完成的處理工作、該處理工作的輸入資產、輸出資產、媒體處理器和其相關設定。</span><span class="sxs-lookup"><span data-stu-id="0e149-166">Each job contains one or more [task](https://docs.microsoft.com/rest/api/media/operations/task)s that specify an atomic processing task, its input Assets, output Assets, a media processor and its associated settings.</span></span> <span data-ttu-id="0e149-167">工作 (Job) 中的工作 (Task) 可以鏈結在一起，其中一項工作 (Task) 的輸出資產指定為下一個工作 (Task) 的輸入資產。</span><span class="sxs-lookup"><span data-stu-id="0e149-167">Tasks within a job can be chained together, where the output asset of one task is given as the input asset to the next task.</span></span> <span data-ttu-id="0e149-168">透過這種方式，一項工作 (Job) 可以包含一個媒體簡報所需的所有處理。</span><span class="sxs-lookup"><span data-stu-id="0e149-168">In this way one job can contain all of the processing necessary for a media presentation.</span></span>

## <span data-ttu-id="0e149-169"><a id="encoding"></a>編碼</span><span class="sxs-lookup"><span data-stu-id="0e149-169"><a id="encoding"></a>Encoding</span></span>
<span data-ttu-id="0e149-170">Azure 媒體服務提供多個用於將雲端中之媒體編碼的選項。</span><span class="sxs-lookup"><span data-stu-id="0e149-170">Azure Media Services provides multiple options for the encoding of media in the cloud.</span></span>

<span data-ttu-id="0e149-171">開始使用媒體服務時，請務必了解轉碼器和檔案格式之間的差異。</span><span class="sxs-lookup"><span data-stu-id="0e149-171">When starting out with Media Services, it is important to understand the difference between codecs and file formats.</span></span>
<span data-ttu-id="0e149-172">轉碼器是實作壓縮/解壓縮演算法的軟體，而檔案格式是保存已壓縮視訊的容器。</span><span class="sxs-lookup"><span data-stu-id="0e149-172">Codecs are the software that implements the compression/decompression algorithms whereas file formats are containers that hold the compressed video.</span></span>

<span data-ttu-id="0e149-173">媒體服務提供動態封裝，這讓您以媒體服務支援的串流格式 (MPEG DASH、HLS、Smooth Streaming) 提供調適性位元速率 MP4 或 Smooth Streaming 編碼內容，而不必重新封裝成這些串流格式。</span><span class="sxs-lookup"><span data-stu-id="0e149-173">Media Services provides dynamic packaging which allows you to deliver your adaptive bitrate MP4 or Smooth Streaming encoded content in streaming formats supported by Media Services (MPEG DASH, HLS, Smooth Streaming) without you having to re-package into these streaming formats.</span></span>

<span data-ttu-id="0e149-174">若要利用[動態封裝](media-services-dynamic-packaging-overview.md)功能，您必須將您的夾層 (來源) 檔編碼為一組調適性位元速率 MP4 檔案或調適性位元速率 Smooth Streaming 檔案，且至少要有一個標準或進階串流端點處於已啟動狀態。</span><span class="sxs-lookup"><span data-stu-id="0e149-174">To take advantage of [dynamic packaging](media-services-dynamic-packaging-overview.md), you need to encode your mezzanine (source) file into a set of adaptive bitrate MP4 files or adaptive bitrate Smooth Streaming files and have at least one standard or premium streaming endpoint in started state.</span></span>

<span data-ttu-id="0e149-175">媒體服務支援本文中所描述的下列隨選編碼器：</span><span class="sxs-lookup"><span data-stu-id="0e149-175">Media Services supports the following on-demand encoders that are described in this article:</span></span>

* [<span data-ttu-id="0e149-176">Media Encoder Standard</span><span class="sxs-lookup"><span data-stu-id="0e149-176">Media Encoder Standard</span></span>](media-services-encode-asset.md#media-encoder-standard)
* [<span data-ttu-id="0e149-177">Media Encoder Premium Workflow</span><span class="sxs-lookup"><span data-stu-id="0e149-177">Media Encoder Premium Workflow</span></span>](media-services-encode-asset.md#media-encoder-premium-workflow)

<span data-ttu-id="0e149-178">如需支援編碼器的相關資訊，請參閱「 [編碼器](media-services-encode-asset.md)」。</span><span class="sxs-lookup"><span data-stu-id="0e149-178">For information about supported encoders, see [Encoders](media-services-encode-asset.md).</span></span>

## <a name="live-streaming"></a><span data-ttu-id="0e149-179">即時資料流</span><span class="sxs-lookup"><span data-stu-id="0e149-179">Live Streaming</span></span>
<span data-ttu-id="0e149-180">在 Azure 媒體服務中，通道代表處理即時串流內容的管線。</span><span class="sxs-lookup"><span data-stu-id="0e149-180">In Azure Media Services, a Channel represents a pipeline for processing live streaming content.</span></span> <span data-ttu-id="0e149-181">通道會以兩種方式之一收到即時輸入串流：</span><span class="sxs-lookup"><span data-stu-id="0e149-181">A Channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="0e149-182">內部部署即時編碼器會傳送多位元速率 RTMP 或 Smooth Streaming (分散的 MP4) 到通道。</span><span class="sxs-lookup"><span data-stu-id="0e149-182">An on-premises live encoder sends multi-bitrate RTMP or Smooth Streaming (Fragmented MP4) to the Channel.</span></span> <span data-ttu-id="0e149-183">您可以使用下列輸出多位元速率 Smooth Streaming 的即時編碼器：MediaExcel、Ateme、Imagine Communications、Envivio、Cisco 和 Elemental。</span><span class="sxs-lookup"><span data-stu-id="0e149-183">You can use the following live encoders that output multi-bitrate Smooth Streaming: MediaExcel, Ateme, Imagine Communications, Envivio, Cisco and Elemental.</span></span> <span data-ttu-id="0e149-184">下列即時編碼器會輸出 RTMP：Adobe Flash Live Encoder、Telestream Wirecast、Teradek、Haivision 和 Tricaster 編碼器。</span><span class="sxs-lookup"><span data-stu-id="0e149-184">The following live encoders output RTMP: Adobe Flash Live Encoder, Telestream Wirecast, Teradek, Haivision and Tricaster encoders.</span></span> <span data-ttu-id="0e149-185">內嵌的串流會通過「通道」，而不需任何進一步的轉碼和編碼。</span><span class="sxs-lookup"><span data-stu-id="0e149-185">The ingested streams pass through Channels without any further transcoding and encoding.</span></span> <span data-ttu-id="0e149-186">接到要求時，媒體服務會傳遞串流給客戶。</span><span class="sxs-lookup"><span data-stu-id="0e149-186">When requested, Media Services delivers the stream to customers.</span></span>
* <span data-ttu-id="0e149-187">單一位元速率串流 (下列格式之一：RTP (MPEG-TS))、RTMP 或 Smooth Streaming (分散的 MP4)) 會傳送至通道來執行啟用的通道來以媒體服務執行即時編碼。</span><span class="sxs-lookup"><span data-stu-id="0e149-187">A single bitrate stream (in one of the following formats: RTP (MPEG-TS)), RTMP, or Smooth Streaming (Fragmented MP4)) is sent to the Channel that is enabled to perform live encoding with Media Services.</span></span> <span data-ttu-id="0e149-188">通道接著會執行即時編碼，將連入的單一位元速率串流編碼成多位元速率 (自動調整) 視訊串流。</span><span class="sxs-lookup"><span data-stu-id="0e149-188">The Channel then performs live encoding of the incoming single bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="0e149-189">接到要求時，媒體服務會傳遞串流給客戶。</span><span class="sxs-lookup"><span data-stu-id="0e149-189">When requested, Media Services delivers the stream to customers.</span></span>

### <a name="channel"></a><span data-ttu-id="0e149-190">通道</span><span class="sxs-lookup"><span data-stu-id="0e149-190">Channel</span></span>
<span data-ttu-id="0e149-191">在媒體服務中， [通道](https://docs.microsoft.com/rest/api/media/operations/channel)負責處理即時資料流內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-191">In Media Services, [Channel](https://docs.microsoft.com/rest/api/media/operations/channel)s are responsible for processing live streaming content.</span></span> <span data-ttu-id="0e149-192">通道會提供輸入端點 (內嵌 URL)，接著您再提供給即時轉碼器。</span><span class="sxs-lookup"><span data-stu-id="0e149-192">A Channel provides an input endpoint (ingest URL) that you then provide to a live transcoder.</span></span> <span data-ttu-id="0e149-193">通道從即時轉碼器接收即時輸入資料流，再透過一或多個 StreamingEndpoint 進行串流處理。</span><span class="sxs-lookup"><span data-stu-id="0e149-193">The channel receives live input streams from the live transcoder and makes it available for streaming through one or more StreamingEndpoints.</span></span> <span data-ttu-id="0e149-194">通道也會提供預覽端點 (預覽 URL)，您可在進一步處理和傳遞之前先用來預覽及驗證您的資料流。</span><span class="sxs-lookup"><span data-stu-id="0e149-194">Channels also provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="0e149-195">您可在建立通道時取得內嵌 URL 和預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="0e149-195">You can get the ingest URL and the preview URL when you create the channel.</span></span> <span data-ttu-id="0e149-196">通道不需處於啟動狀態也可以取得這些 URL。</span><span class="sxs-lookup"><span data-stu-id="0e149-196">To get these URLs, the channel does not have to be in the started state.</span></span> <span data-ttu-id="0e149-197">當您準備好要開始從即時轉碼器推播資料給通道時，就必須先啟動通道。</span><span class="sxs-lookup"><span data-stu-id="0e149-197">When you are ready to start pushing data from a live transcoder into the channel, the channel must be started.</span></span> <span data-ttu-id="0e149-198">即時轉碼器開始內嵌資料後，您就可以預覽您的資料流。</span><span class="sxs-lookup"><span data-stu-id="0e149-198">Once the live transcoder starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="0e149-199">每個媒體服務帳戶可以包含多個通道、多個程式和多個 StreamingEndpoints。</span><span class="sxs-lookup"><span data-stu-id="0e149-199">Each Media Services account can contain multiple Channels, multiple Programs, and multiple StreamingEndpoints.</span></span> <span data-ttu-id="0e149-200">根據頻寬和安全性需求，StreamingEndpoint 服務可以專屬於一或多個通道。</span><span class="sxs-lookup"><span data-stu-id="0e149-200">Depending on the bandwidth and security needs, StreamingEndpoint services can be dedicated to one or more channels.</span></span> <span data-ttu-id="0e149-201">任何 StreamingEndpoint 可以從任何通道中提取。</span><span class="sxs-lookup"><span data-stu-id="0e149-201">Any StreamingEndpoint can pull from any Channel.</span></span>

### <a name="program-event"></a><span data-ttu-id="0e149-202">程式 (事件)</span><span class="sxs-lookup"><span data-stu-id="0e149-202">Program (event)</span></span>
<span data-ttu-id="0e149-203">[程式 (事件)](https://docs.microsoft.com/rest/api/media/operations/program) 可讓您控制即時資料流區段的發佈和儲存體。</span><span class="sxs-lookup"><span data-stu-id="0e149-203">A [Program (event)](https://docs.microsoft.com/rest/api/media/operations/program) enables you to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="0e149-204">通道會管理程式 (事件)。</span><span class="sxs-lookup"><span data-stu-id="0e149-204">Channels manage Programs (events).</span></span> <span data-ttu-id="0e149-205">通道和程式的關聯性類似於傳統媒體，此處的通道有常數內容資料流，而程式的範圍是該通道上的某些計時事件。</span><span class="sxs-lookup"><span data-stu-id="0e149-205">The Channel and Program relationship is similar to traditional media where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>
<span data-ttu-id="0e149-206">您可以透過設定 **ArchiveWindowLength** 屬性，指定您想要保留已記錄程式內容的時數。</span><span class="sxs-lookup"><span data-stu-id="0e149-206">You can specify the number of hours you want to retain the recorded content for the program by setting the **ArchiveWindowLength** property.</span></span> <span data-ttu-id="0e149-207">此值最小可以設定為 5 分鐘，最大可以設定為 25 個小時。</span><span class="sxs-lookup"><span data-stu-id="0e149-207">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span>

<span data-ttu-id="0e149-208">ArchiveWindowLength 也指定用戶端可從目前即時位置往回搜尋的最大時間量。</span><span class="sxs-lookup"><span data-stu-id="0e149-208">ArchiveWindowLength also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="0e149-209">程式可以執行超過指定的時間量，但是超過此時間長度的內容會被持續捨棄。</span><span class="sxs-lookup"><span data-stu-id="0e149-209">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="0e149-210">此屬性的這個值也會決定用戶端資訊清單可以成長為多長的時間。</span><span class="sxs-lookup"><span data-stu-id="0e149-210">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="0e149-211">每個程式 (事件) 都是與「資產」相關聯。</span><span class="sxs-lookup"><span data-stu-id="0e149-211">Each program (event) is associated with an Asset.</span></span> <span data-ttu-id="0e149-212">若要發佈程式，您必須建立相關資產的定位器。</span><span class="sxs-lookup"><span data-stu-id="0e149-212">To publish the program you must create a locator for the associated asset.</span></span> <span data-ttu-id="0e149-213">擁有此定位器，可讓您建置可提供給用戶端的串流 URL。</span><span class="sxs-lookup"><span data-stu-id="0e149-213">Having this locator will enable you to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="0e149-214">通道支援最多三個同時執行的程式，因此您可以建立相同內送串流的多個封存。</span><span class="sxs-lookup"><span data-stu-id="0e149-214">A channel supports up to three concurrently running programs so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="0e149-215">這可讓您視需要發行和封存事件的不同部分。</span><span class="sxs-lookup"><span data-stu-id="0e149-215">This allows you to publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="0e149-216">例如，您的商務需求是封存 6 小時的程式，但只廣播最後 10 分鐘。</span><span class="sxs-lookup"><span data-stu-id="0e149-216">For example, your business requirement is to archive 6 hours of a program, but to broadcast only last 10 minutes.</span></span> <span data-ttu-id="0e149-217">為了達成此目的，您必須建立兩個同時執行的程式。</span><span class="sxs-lookup"><span data-stu-id="0e149-217">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="0e149-218">其中一個程式設定為封存 6 小時的事件，但是未發行該程式。</span><span class="sxs-lookup"><span data-stu-id="0e149-218">One program is set to archive 6 hours of the event but the program is not published.</span></span> <span data-ttu-id="0e149-219">另一個程式則設定為封存 10 分鐘，並發佈程式。</span><span class="sxs-lookup"><span data-stu-id="0e149-219">The other program is set to archive for 10 minutes and this program is published.</span></span>

<span data-ttu-id="0e149-220">如需詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="0e149-220">For more information, see:</span></span>

* [<span data-ttu-id="0e149-221">使用啟用的通道來以 Azure 媒體服務執行即時編碼</span><span class="sxs-lookup"><span data-stu-id="0e149-221">Working with Channels that are Enabled to Perform Live Encoding with Azure Media Services</span></span>](media-services-manage-live-encoder-enabled-channels.md)
* [<span data-ttu-id="0e149-222">使用通道，從內部部署編碼器接收多位元速率即時串流</span><span class="sxs-lookup"><span data-stu-id="0e149-222">Working with Channels that Receive Multi-bitrate Live Stream from On-premises Encoders</span></span>](media-services-live-streaming-with-onprem-encoders.md)
* <span data-ttu-id="0e149-223">[配額和限制](media-services-quotas-and-limitations.md)。</span><span class="sxs-lookup"><span data-stu-id="0e149-223">[Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>

## <a name="protecting-content"></a><span data-ttu-id="0e149-224">保護內容</span><span class="sxs-lookup"><span data-stu-id="0e149-224">Protecting content</span></span>
### <a name="dynamic-encryption"></a><span data-ttu-id="0e149-225">動態加密</span><span class="sxs-lookup"><span data-stu-id="0e149-225">Dynamic encryption</span></span>
<span data-ttu-id="0e149-226">Azure 媒體服務可讓您保護媒體從離開電腦到進行儲存、處理和傳遞時的安全。</span><span class="sxs-lookup"><span data-stu-id="0e149-226">Azure Media Services enables you to secure your media from the time it leaves your computer through storage, processing, and delivery.</span></span> <span data-ttu-id="0e149-227">媒體服務可讓您傳遞利用進階加密標準 (AES) (使用 128 位元加密金鑰) 動態加密和使用 PlayReady 和/或 Widevine DRM 的一般加密 (CENC) 的內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-227">Media Services allows you to deliver your content encrypted dynamically with Advanced Encryption Standard (AES) (using 128-bit encryption keys) and common encryption (CENC) using PlayReady and/or Widevine DRM.</span></span> <span data-ttu-id="0e149-228">媒體服務也提供服務，傳遞 AES 金鑰和 PlayReady 授權給授權用戶端。</span><span class="sxs-lookup"><span data-stu-id="0e149-228">Media Services also provides a service for delivering AES keys and PlayReady licenses to authorized clients.</span></span>

<span data-ttu-id="0e149-229">目前，您可以加密下列串流格式：HLS、MPEG DASH 和 Smooth Streaming。</span><span class="sxs-lookup"><span data-stu-id="0e149-229">Currently, you can encrypt the following streaming formats: HLS, MPEG DASH, and Smooth Streaming.</span></span> <span data-ttu-id="0e149-230">您無法加密漸進式下載。</span><span class="sxs-lookup"><span data-stu-id="0e149-230">You cannot encrypt progressive downloads.</span></span>

<span data-ttu-id="0e149-231">如果您想要媒體服務加密資產，則需要建立加密金鑰 (CommonEncryption 或 EnvelopeEncryption) 與資產的關聯，同時設定金鑰的授權原則。</span><span class="sxs-lookup"><span data-stu-id="0e149-231">If you want for Media Services to encrypt an asset, you need to associate an encryption key (CommonEncryption or EnvelopeEncryption) with your asset and also configure authorization policies for the key.</span></span>

<span data-ttu-id="0e149-232">如果您要串流儲存體加密資產，您必須設定資產的傳遞原則，以指定資產的傳遞方式。</span><span class="sxs-lookup"><span data-stu-id="0e149-232">If you want to stream a storage encrypted asset, you must configure the asset's delivery policy in order to specify how you want to deliver your asset.</span></span>

<span data-ttu-id="0e149-233">播放程式要求串流時，媒體服務便會使用信封加密 (使用 AES) 或一般加密 (使用 PlayReady 或 Widevine)，並使用指定的金鑰動態加密您的內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-233">When a stream is requested by a player, Media Services uses the specified key to dynamically encrypt your content using an envelope encryption (with AES) or common encryption (with PlayReady  or Widevine).</span></span> <span data-ttu-id="0e149-234">為了將串流解密，播放程式將從金鑰傳遞服務要求金鑰。</span><span class="sxs-lookup"><span data-stu-id="0e149-234">To decrypt the stream, the player will request the key from the key delivery service.</span></span> <span data-ttu-id="0e149-235">為了決定使用者是否有權取得金鑰，服務會評估為金鑰指定的授權原則。</span><span class="sxs-lookup"><span data-stu-id="0e149-235">To decide whether or not the user is authorized to get the key, the service evaluates the authorization policies that you specified for the key.</span></span>

### <a name="token-restriction"></a><span data-ttu-id="0e149-236">權杖限制</span><span class="sxs-lookup"><span data-stu-id="0e149-236">Token restriction</span></span>
<span data-ttu-id="0e149-237">內容金鑰授權原則可能會有一個或多個授權限制：Open、權杖限制或 IP 限制。</span><span class="sxs-lookup"><span data-stu-id="0e149-237">The content key authorization policy could have one or more authorization restrictions: open, token restriction, or IP restriction.</span></span> <span data-ttu-id="0e149-238">權杖限制原則必須伴隨著安全權杖服務 (STS) 所發出的權杖。</span><span class="sxs-lookup"><span data-stu-id="0e149-238">The token restricted policy must be accompanied by a token issued by a Secure Token Service (STS).</span></span> <span data-ttu-id="0e149-239">媒體服務支援簡單 Web 權杖 (SWT) 格式和 JSON Web 權杖 (JWT) 格式的權杖。</span><span class="sxs-lookup"><span data-stu-id="0e149-239">Media Services supports tokens in the Simple Web Tokens (SWT) format and JSON Web Token (JWT) format.</span></span> <span data-ttu-id="0e149-240">媒體服務不提供安全權杖服務。</span><span class="sxs-lookup"><span data-stu-id="0e149-240">Media Services does not provide Secure Token Services.</span></span> <span data-ttu-id="0e149-241">您可以建立自訂 STS，或利用 Microsoft Azure ACS 來發行權杖。</span><span class="sxs-lookup"><span data-stu-id="0e149-241">You can create a custom STS or leverage Microsoft Azure ACS to issue tokens.</span></span> <span data-ttu-id="0e149-242">STS 必須設定為建立使用指定的索引鍵和問題宣告您在權杖限制組態中指定簽署的權杖。</span><span class="sxs-lookup"><span data-stu-id="0e149-242">The STS must be configured to create a token signed with the specified key and issue claims that you specified in the token restriction configuration.</span></span> <span data-ttu-id="0e149-243">如果權杖有效，且權杖中的宣告符合針對金鑰 (或授權) 所設定的宣告，媒體服務金鑰傳遞服務會將所要求的金鑰 (或授權) 傳回給用戶端。</span><span class="sxs-lookup"><span data-stu-id="0e149-243">The Media Services key delivery service will return the requested key (or license) to the client if the token is valid and the claims in the token match those configured for the key (or license).</span></span>

<span data-ttu-id="0e149-244">設定 token 限制原則時，您必須指定主要驗證金鑰、簽發者和對象參數。</span><span class="sxs-lookup"><span data-stu-id="0e149-244">When configuring the token restricted policy, you must specify the primary verification key, issuer and audience parameters.</span></span> <span data-ttu-id="0e149-245">主要驗證金鑰包含簽署權杖使用的金鑰，簽發者是發行權杖的安全權杖服務。</span><span class="sxs-lookup"><span data-stu-id="0e149-245">The primary verification key contains the key that the token was signed with, issuer is the secure token service that issues the token.</span></span> <span data-ttu-id="0e149-246">對象 (有時稱為範圍) 描述權杖或權杖獲授權存取之資源的用途。</span><span class="sxs-lookup"><span data-stu-id="0e149-246">The audience (sometimes called scope) describes the intent of the token or the resource the token authorizes access to.</span></span> <span data-ttu-id="0e149-247">媒體服務金鑰傳遞服務會驗證權杖中的這些值符合在範本中的值。</span><span class="sxs-lookup"><span data-stu-id="0e149-247">The Media Services key delivery service validates that these values in the token match the values in the template.</span></span>

<span data-ttu-id="0e149-248">如需詳細資訊，請參閱下列文章：</span><span class="sxs-lookup"><span data-stu-id="0e149-248">For more information, see the following articles:</span></span>

<span data-ttu-id="0e149-249">[保護內容概觀](media-services-content-protection-overview.md)
[使用 AES-128 保護](media-services-protect-with-aes128.md)
[使用 DRM 保護](media-services-protect-with-drm.md)</span><span class="sxs-lookup"><span data-stu-id="0e149-249">[Protect content overview](media-services-content-protection-overview.md)
[Protect with AES-128](media-services-protect-with-aes128.md)
[Protect with DRM](media-services-protect-with-drm.md)</span></span>

## <a name="delivering"></a><span data-ttu-id="0e149-250">傳遞</span><span class="sxs-lookup"><span data-stu-id="0e149-250">Delivering</span></span>
### <span data-ttu-id="0e149-251"><a id="dynamic_packaging"></a>動態封裝</span><span class="sxs-lookup"><span data-stu-id="0e149-251"><a id="dynamic_packaging"></a>Dynamic packaging</span></span>
<span data-ttu-id="0e149-252">使用媒體服務時，建議您將夾層檔案的編碼設為調適性位元速率 MP4 集，然後使用[動態封裝](media-services-dynamic-packaging-overview.md)將該 MP4 集轉換為需要的格式。</span><span class="sxs-lookup"><span data-stu-id="0e149-252">When working with Media Services, it is recommended to encode your mezzanine files into an adaptive bitrate MP4 set and then convert the set to the desired format using the [Dynamic Packaging](media-services-dynamic-packaging-overview.md).</span></span>

### <a name="streaming-endpoint"></a><span data-ttu-id="0e149-253">串流端點</span><span class="sxs-lookup"><span data-stu-id="0e149-253">Streaming endpoint</span></span>
<span data-ttu-id="0e149-254">StreamingEndpoint 代表可以直接將內容傳遞給用戶端播放程式應用程式，或傳遞給內容傳遞網路 (CDN) 進行進一步發佈的串流服務 (Azure 媒體服務現在提供 Azure CDN 整合)。來自串流端點服務的輸出串流可以是即時資料流，或媒體服務帳戶中的隨選視訊資產。</span><span class="sxs-lookup"><span data-stu-id="0e149-254">A StreamingEndpoint represents a streaming service that can deliver content directly to a client player application, or to a Content Delivery Network (CDN) for further distribution (Azure Media Services now provides the Azure CDN integration.) The outbound stream from a streaming endpoint service can be a live stream, or a video on-demand Asset in your Media Services account.</span></span> <span data-ttu-id="0e149-255">媒體服務客戶可根據其需求，選擇一個**標準**串流端點，或選擇一或多個**進階**串流端點。</span><span class="sxs-lookup"><span data-stu-id="0e149-255">Media Services customers choose either a **Standard** streaming endpoint or one or more **Premium** streaming endpoints, according to their needs.</span></span> <span data-ttu-id="0e149-256">大多數的串流工作負載都適合使用標準串流端點。</span><span class="sxs-lookup"><span data-stu-id="0e149-256">Standard streaming endpoint is suitable for most streaming workloads.</span></span> 

<span data-ttu-id="0e149-257">大多數的串流工作負載都適合使用標準串流端點。</span><span class="sxs-lookup"><span data-stu-id="0e149-257">Standard Streaming Endpoint is suitable for most streaming workloads.</span></span> <span data-ttu-id="0e149-258">標準串流端點可以透過動態封裝至 HLS、MPEG DASH 和 Smooth Streaming，靈活地將您的內容傳遞至幾乎每個裝置，也支援 Microsoft PlayReady、Google Widevine、Apple Fairplay 和 AES128 的動態加密。</span><span class="sxs-lookup"><span data-stu-id="0e149-258">Standard Streaming Endpoints offer the flexibility to deliver your content to virtually every device through dynamic packaging into HLS, MPEG-DASH, and Smooth Streaming as well as dynamic encryption for Microsoft PlayReady, Google Widevine, Apple Fairplay, and AES128.</span></span>  <span data-ttu-id="0e149-259">透過 Azure CDN 整合，還能從極少觀眾調整到超大量的觀眾，加上數以千計的並行觀賞者。</span><span class="sxs-lookup"><span data-stu-id="0e149-259">They also scale from very small to very large audiences with thousands of concurrent viewers through Azure CDN integration.</span></span> <span data-ttu-id="0e149-260">如果您的進階工作負載或串流容量需求不符合標準串流端點輸送量目標，或您想要控制 StreamingEndpoint 服務的容量來因應不斷成長的頻寬需求，則建議配置縮放單位 (也稱為進階串流單位)。</span><span class="sxs-lookup"><span data-stu-id="0e149-260">If you have an advanced workload or your streaming capacity requirements don't fit to standard streaming endpoint throughput targets or you want to control the capacity of the StreamingEndpoint service to handle growing bandwidth needs,  it is recommended to allocate scale units(also known as premium streaming units).</span></span>

<span data-ttu-id="0e149-261">建議您使用動態封裝和/或動態加密。</span><span class="sxs-lookup"><span data-stu-id="0e149-261">It is recommended to use dynamic packaging and/or dynamic encryption.</span></span>

>[!NOTE]
><span data-ttu-id="0e149-262">建立 AMS 帳戶時，**預設**串流端點會新增至 [已停止] 狀態的帳戶。</span><span class="sxs-lookup"><span data-stu-id="0e149-262">When your AMS account is created a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="0e149-263">若要開始串流內容並利用動態封裝和動態加密功能，您想要串流內容的串流端點必須處於 [執行中] 狀態。</span><span class="sxs-lookup"><span data-stu-id="0e149-263">To start streaming your content and take advantage of dynamic packaging and dynamic encryption, the streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span> 

<span data-ttu-id="0e149-264">如需詳細資訊，請參閱 [這個](media-services-portal-manage-streaming-endpoints.md) 主題。</span><span class="sxs-lookup"><span data-stu-id="0e149-264">For more information, see [this](media-services-portal-manage-streaming-endpoints.md) topic.</span></span>

<span data-ttu-id="0e149-265">依預設，您最多可以在媒體服務帳戶中加入 2 個串流端點。</span><span class="sxs-lookup"><span data-stu-id="0e149-265">By default you can have up to 2 streaming endpoints in your Media Services account.</span></span> <span data-ttu-id="0e149-266">如欲要求放寬限制，請參閱「 [配額和限制](media-services-quotas-and-limitations.md)」。</span><span class="sxs-lookup"><span data-stu-id="0e149-266">To request a higher limit, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>

<span data-ttu-id="0e149-267">只有 StreamingEndpoint 處於執行中狀態時，才會向您收取費用。</span><span class="sxs-lookup"><span data-stu-id="0e149-267">You are only billed when your StreamingEndpoint is in running state.</span></span>

### <a name="asset-delivery-policy"></a><span data-ttu-id="0e149-268">資產傳遞原則</span><span class="sxs-lookup"><span data-stu-id="0e149-268">Asset delivery policy</span></span>
<span data-ttu-id="0e149-269">媒體服務內容傳遞工作流程的其中一個步驟，是設定您要串流的 [資產的傳遞原則 ](https://docs.microsoft.com/rest/api/media/operations/assetdeliverypolicy)。</span><span class="sxs-lookup"><span data-stu-id="0e149-269">One of the steps in the Media Services content delivery workflow is configuring [delivery policies for assets ](https://docs.microsoft.com/rest/api/media/operations/assetdeliverypolicy)that you want to be streamed.</span></span> <span data-ttu-id="0e149-270">資產傳遞原則會告訴媒體服務您想要如何傳遞資產：您的資產應該動態封裝成哪個串流通訊協定 (如 MPEG DASH、HLS、Smooth Streaming 或所有)，您是否想要動態加密您的資產及其方式 (信封或一般加密)。</span><span class="sxs-lookup"><span data-stu-id="0e149-270">The asset delivery policy tells Media Services how you want for your asset to be delivered: into which streaming protocol should your asset be dynamically packaged (for example, MPEG DASH, HLS, Smooth Streaming, or all), whether or not you want to dynamically encrypt your asset and how (envelope or common encryption).</span></span>

<span data-ttu-id="0e149-271">如果您有儲存體加密的資產，在可以串流處理資產之前，串流伺服器會先移除儲存體加密，並使用指定的傳遞原則來串流您的內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-271">If you have a storage encrypted asset, before your asset can be streamed, the streaming server removes the storage encryption and streams your content using the specified delivery policy.</span></span> <span data-ttu-id="0e149-272">例如，若要傳遞使用進階加密標準 (AES) 加密金鑰加密的資產，請將原則類型設定為 DynamicEnvelopeEncryption。</span><span class="sxs-lookup"><span data-stu-id="0e149-272">For example, to deliver your asset encrypted with Advanced Encryption Standard (AES) encryption key, set the policy type to DynamicEnvelopeEncryption.</span></span> <span data-ttu-id="0e149-273">如果您要移除儲存體加密，並且不受阻礙地串流資產，請將原則類型設定為 NoDynamicEncryption。</span><span class="sxs-lookup"><span data-stu-id="0e149-273">To remove storage encryption and stream the asset in the clear, set the policy type to NoDynamicEncryption.</span></span>

### <a name="progressive-download"></a><span data-ttu-id="0e149-274">漸進式下載</span><span class="sxs-lookup"><span data-stu-id="0e149-274">Progressive download</span></span>
<span data-ttu-id="0e149-275">漸進式下載可以在下載完整檔案前就開始播放媒體。</span><span class="sxs-lookup"><span data-stu-id="0e149-275">Progressive download allows you to start playing media before the entire file has been downloaded.</span></span> <span data-ttu-id="0e149-276">只能漸進式下載 MP4 檔案。</span><span class="sxs-lookup"><span data-stu-id="0e149-276">You can only progressively download an MP4 file.</span></span>

>[!NOTE]
><span data-ttu-id="0e149-277">如果希望加密的資產可供漸進式下載，您必須先將其解密。</span><span class="sxs-lookup"><span data-stu-id="0e149-277">You must decrypt encrypted assets if you wish for them to be available for progressive download.</span></span>

<span data-ttu-id="0e149-278">若要提供漸進式下載 URL 給使用者，您必須先建立 OnDemandOrigin 定位器。</span><span class="sxs-lookup"><span data-stu-id="0e149-278">To provide users with progressive download URLs, you first must create an OnDemandOrigin locator.</span></span> <span data-ttu-id="0e149-279">建立定位器會提供資產的基底路徑。</span><span class="sxs-lookup"><span data-stu-id="0e149-279">Creating the locator, gives you the base Path to the asset.</span></span> <span data-ttu-id="0e149-280">接著您必須附加上 MP4 檔案的名稱。</span><span class="sxs-lookup"><span data-stu-id="0e149-280">You then need to append the name of MP4 file.</span></span> <span data-ttu-id="0e149-281">例如：</span><span class="sxs-lookup"><span data-stu-id="0e149-281">For example:</span></span>

<span data-ttu-id="0e149-282">http://amstest1.streaming.mediaservices.windows.net/3c5fe676-199c-4620-9b03-ba014900f214/BigBuckBunny_H264_650kbps_AAC_und_ch2_96kbps.mp4</span><span class="sxs-lookup"><span data-stu-id="0e149-282">http://amstest1.streaming.mediaservices.windows.net/3c5fe676-199c-4620-9b03-ba014900f214/BigBuckBunny_H264_650kbps_AAC_und_ch2_96kbps.mp4</span></span>

### <a name="streaming-urls"></a><span data-ttu-id="0e149-283">串流 URL</span><span class="sxs-lookup"><span data-stu-id="0e149-283">Streaming URLs</span></span>
<span data-ttu-id="0e149-284">將內容串流到用戶端。</span><span class="sxs-lookup"><span data-stu-id="0e149-284">Streaming your content to clients.</span></span> <span data-ttu-id="0e149-285">若要提供漸進式下載 URL 給使用者，您必須先建立 OnDemandOrigin 定位器。</span><span class="sxs-lookup"><span data-stu-id="0e149-285">To provide users with streaming URLs, you first must create an OnDemandOrigin locator.</span></span> <span data-ttu-id="0e149-286">建立定位器可針對其中包含您要串流之內容的資產，提供其基底路徑。</span><span class="sxs-lookup"><span data-stu-id="0e149-286">Creating the locator, gives you the base Path to the asset that contains the content you want to stream.</span></span> <span data-ttu-id="0e149-287">不過，若要能夠串流此內容，您還需要進一步修改此路徑。</span><span class="sxs-lookup"><span data-stu-id="0e149-287">However, to be able to stream this content you need to modify this path further.</span></span> <span data-ttu-id="0e149-288">若要建構串流資訊清單檔案的完整 URL，您必須串連定位器的 Path 值和資訊清單 (filename.ism) 的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="0e149-288">To construct a full URL to the streaming manifest file, you must concatenate the locator’s Path value and the manifest (filename.ism) file name.</span></span> <span data-ttu-id="0e149-289">接著，在定位器路徑後面附加 /Manifest 和適當的格式 (如果需要)。</span><span class="sxs-lookup"><span data-stu-id="0e149-289">Then, append /Manifest and an appropriate format (if needed) to the locator path.</span></span>

<span data-ttu-id="0e149-290">您也可以透過 SSL 連線串流您的內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-290">You can also stream your content over an SSL connection.</span></span> <span data-ttu-id="0e149-291">若要這樣做，請確定您的串流 URL 以 HTTPS 開頭。</span><span class="sxs-lookup"><span data-stu-id="0e149-291">To do this, make sure your streaming URLs start with HTTPS.</span></span> <span data-ttu-id="0e149-292">目前 AMS 不支援使用 SSL 搭配自訂網域。</span><span class="sxs-lookup"><span data-stu-id="0e149-292">Currently, AMS doesn’t support SSL with custom domains.</span></span>  

>[!NOTE]
><span data-ttu-id="0e149-293">只有當您傳遞內容的來源串流端點是在 2014 年 9 月 10 日之後建立時，才能透過 SSL 串流。</span><span class="sxs-lookup"><span data-stu-id="0e149-293">You can only stream over SSL if the streaming endpoint from which you deliver your content was created after September 10th, 2014.</span></span> <span data-ttu-id="0e149-294">如果您的串流 URL 是根據 9 月 10 日之後建立的串流端點，則 URL 會包含 "streaming.mediaservices.windows.net" (新格式)。</span><span class="sxs-lookup"><span data-stu-id="0e149-294">If your streaming URLs are based on the streaming endpoints created after September 10th, the URL contains "streaming.mediaservices.windows.net" (the new format).</span></span> <span data-ttu-id="0e149-295">包含 "origin.mediaservices.windows.net" (舊格式) 的串流 URL 不支援 SSL。</span><span class="sxs-lookup"><span data-stu-id="0e149-295">Streaming URLs that contain "origin.mediaservices.windows.net" (the old format) do not support SSL.</span></span> <span data-ttu-id="0e149-296">如果您的 URL 是舊格式，而且您希望能夠透過 SSL 串流，請建立新的串流端點。</span><span class="sxs-lookup"><span data-stu-id="0e149-296">If your URL is in the old format and you want to be able to stream over SSL, create a new streaming endpoint.</span></span> <span data-ttu-id="0e149-297">使用根據新的串流端點建立的 URL，透過 SSL 串流處理內容。</span><span class="sxs-lookup"><span data-stu-id="0e149-297">Use URLs created based on the new streaming endpoint to stream your content over SSL.</span></span>

<span data-ttu-id="0e149-298">下列清單說明不同的串流格式，並提供範例：</span><span class="sxs-lookup"><span data-stu-id="0e149-298">The following list describes different streaming formats and gives examples:</span></span>

* <span data-ttu-id="0e149-299">Smooth Streaming</span><span class="sxs-lookup"><span data-stu-id="0e149-299">Smooth Streaming</span></span>

<span data-ttu-id="0e149-300">{串流端點名稱-媒體服務帳戶名稱}.streaming.mediaservices.windows.net/{定位器識別碼}/{檔案名稱}.ism/Manifest</span><span class="sxs-lookup"><span data-stu-id="0e149-300">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest</span></span>

<span data-ttu-id="0e149-301">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest</span><span class="sxs-lookup"><span data-stu-id="0e149-301">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest</span></span>

* <span data-ttu-id="0e149-302">MPEG DASH</span><span class="sxs-lookup"><span data-stu-id="0e149-302">MPEG DASH</span></span>

<span data-ttu-id="0e149-303">{串流端點名稱-媒體服務帳戶名稱}.streaming.mediaservices.windows.net/{定位器識別碼}/{檔案名稱}.ism/Manifest(format=mpd-time-csf)</span><span class="sxs-lookup"><span data-stu-id="0e149-303">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=mpd-time-csf)</span></span>

<span data-ttu-id="0e149-304">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf)</span><span class="sxs-lookup"><span data-stu-id="0e149-304">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf)</span></span>

* <span data-ttu-id="0e149-305">Apple HTTP 即時資料流 (HLS) V4</span><span class="sxs-lookup"><span data-stu-id="0e149-305">Apple HTTP Live Streaming (HLS) V4</span></span>

<span data-ttu-id="0e149-306">{串流端點名稱-媒體服務帳戶名稱}.streaming.mediaservices.windows.net/{定位器識別碼}/{檔案名稱}.ism/Manifest(format=m3u8-aapl)</span><span class="sxs-lookup"><span data-stu-id="0e149-306">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=m3u8-aapl)</span></span>

<span data-ttu-id="0e149-307">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl)</span><span class="sxs-lookup"><span data-stu-id="0e149-307">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl)</span></span>

* <span data-ttu-id="0e149-308">Apple HTTP 即時資料流 (HLS) V3</span><span class="sxs-lookup"><span data-stu-id="0e149-308">Apple HTTP Live Streaming (HLS) V3</span></span>

<span data-ttu-id="0e149-309">{串流端點名稱-媒體服務帳戶名稱}.streaming.mediaservices.windows.net/{定位器識別碼}/{檔案名稱}.ism/Manifest(format=m3u8-aapl-v3)</span><span class="sxs-lookup"><span data-stu-id="0e149-309">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=m3u8-aapl-v3)</span></span>

<span data-ttu-id="0e149-310">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3)</span><span class="sxs-lookup"><span data-stu-id="0e149-310">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3)</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="0e149-311">媒體服務學習路徑</span><span class="sxs-lookup"><span data-stu-id="0e149-311">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="0e149-312">提供意見反應</span><span class="sxs-lookup"><span data-stu-id="0e149-312">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

