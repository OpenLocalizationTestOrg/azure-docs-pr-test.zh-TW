---
title: "使用 Azure 媒體服務執行即時串流，以建立多位元速率串流 | Microsoft Docs"
description: "本主題描述如何設定通道，從內部部署編碼器接收單一位元速率即時串流，再利用媒體服務將此串流即時編碼為自動調整位元速率串流。 串流可以隨即透過一或多個串流端點傳遞給用戶端播放應用程式，使用下列其中一個自動調整串流通訊協定：HLS、Smooth Streaming、MPEG DASH。"
services: media-services
documentationcenter: 
author: anilmur
manager: cfowler
editor: 
ms.assetid: 30ce6556-b0ff-46d8-a15d-5f10e4c360e2
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/09/2017
ms.author: juliako;anilmur
ms.openlocfilehash: d5f76d532b236e67a4e69eb820e2cfc3033a80c6
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="live-streaming-using-azure-media-services-to-create-multi-bitrate-streams"></a><span data-ttu-id="cdacc-104">使用 Azure 媒體服務執行即時串流，以建立多位元速率串流</span><span class="sxs-lookup"><span data-stu-id="cdacc-104">Live streaming using Azure Media Services to create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="cdacc-105">Overview</span><span class="sxs-lookup"><span data-stu-id="cdacc-105">Overview</span></span>
<span data-ttu-id="cdacc-106">在 Azure 媒體服務 (AMS) 中， **通道** 代表一個管線，負責處理即時資料流內容。</span><span class="sxs-lookup"><span data-stu-id="cdacc-106">In Azure Media Services (AMS), a **Channel** represents a pipeline for processing live streaming content.</span></span> <span data-ttu-id="cdacc-107">**通道** 會以兩種方式之一收到即時輸入串流：</span><span class="sxs-lookup"><span data-stu-id="cdacc-107">A **Channel** receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="cdacc-108">內部部署即時編碼器會傳送單一位元速率串流至通道，可以使用下列格式之一，以媒體服務執行即時編碼：RTP (MPEG-TS)、RTMP 或 Smooth Streaming (分散的 MP4) 。</span><span class="sxs-lookup"><span data-stu-id="cdacc-108">An on-premises live encoder sends a single-bitrate stream to the Channel that is enabled to perform live encoding with Media Services in one of the following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (Fragmented MP4).</span></span> <span data-ttu-id="cdacc-109">通道接著會執行即時編碼，將連入的單一位元速率串流編碼成多位元速率 (自動調整) 視訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-109">The Channel then performs live encoding of the incoming single bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="cdacc-110">接到要求時，媒體服務會傳遞串流給客戶。</span><span class="sxs-lookup"><span data-stu-id="cdacc-110">When requested, Media Services delivers the stream to customers.</span></span>
* <span data-ttu-id="cdacc-111">內部部署即時編碼器會將多位元速率 **RTMP** 或 **Smooth Streaming** (分散式 MP4) 傳送到未啟用執行 AMS 即時編碼的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-111">An on-premises live encoder sends a multi-bitrate **RTMP** or **Smooth Streaming** (Fragmented MP4) to the Channel that is not enabled to perform live encoding with AMS.</span></span> <span data-ttu-id="cdacc-112">內嵌的串流會通過 **通道**，而不需任何進一步處理。</span><span class="sxs-lookup"><span data-stu-id="cdacc-112">The ingested streams pass through **Channel**s without any further processing.</span></span> <span data-ttu-id="cdacc-113">此方法稱為 **傳遞**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-113">This method is called **pass-through**.</span></span> <span data-ttu-id="cdacc-114">您可以使用下列輸出多位元速率 Smooth Streaming 的即時編碼器：MediaExcel、Ateme、Imagine Communications、Envivio、Cisco 和 Elemental。</span><span class="sxs-lookup"><span data-stu-id="cdacc-114">You can use the following live encoders that output multi-bitrate Smooth Streaming: MediaExcel, Ateme, Imagine Communications, Envivio, Cisco and Elemental.</span></span> <span data-ttu-id="cdacc-115">下列即時編碼器會輸出 RTMP：Adobe Flash Media Live Encoder (FMLE)、Telestream Wirecast、Haivision、Teradek 和 Tricaster 編碼器。</span><span class="sxs-lookup"><span data-stu-id="cdacc-115">The following live encoders output RTMP: Adobe Flash Media Live Encoder (FMLE), Telestream Wirecast, Haivision, Teradek and Tricaster encoders.</span></span>  <span data-ttu-id="cdacc-116">即時編碼器也會將單一位元速率串流傳送至無法用於即時編碼的通道，但是不建議您使用此方法。</span><span class="sxs-lookup"><span data-stu-id="cdacc-116">A live encoder can also send a single bitrate stream to a channel that is not enabled for live encoding, but that is not recommended.</span></span> <span data-ttu-id="cdacc-117">接到要求時，媒體服務會傳遞串流給客戶。</span><span class="sxs-lookup"><span data-stu-id="cdacc-117">When requested, Media Services delivers the stream to customers.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="cdacc-118">使用傳遞方法是進行即時串流的最經濟實惠方式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-118">Using a pass-through method is the most economical way to do live streaming.</span></span>
  > 
  > 

<span data-ttu-id="cdacc-119">自媒體服務 2.10 版起，當您建立通道時，您可以指定您希望通道接收輸入串流的方式，以及您是否想要通道執行串流的即時編碼。</span><span class="sxs-lookup"><span data-stu-id="cdacc-119">Starting with the Media Services 2.10 release, when you create a Channel, you can specify in which way you want for your channel to receive the input stream and whether or not you want for the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="cdacc-120">您有兩個選擇：</span><span class="sxs-lookup"><span data-stu-id="cdacc-120">You have two options:</span></span>

* <span data-ttu-id="cdacc-121">**無** – 如果您想要使用會輸出多位元速率串流 (傳遞串流) 的內部部署即時編碼器，請指定這個值。</span><span class="sxs-lookup"><span data-stu-id="cdacc-121">**None** – Specify this value, if you plan to use an on-premises live encoder which will output multi-bitrate stream (a pass-through stream).</span></span> <span data-ttu-id="cdacc-122">在此情況下，連入的串流會傳遞至輸出，無須任何編碼。</span><span class="sxs-lookup"><span data-stu-id="cdacc-122">In this case, the incoming stream passed through to the output without any encoding.</span></span> <span data-ttu-id="cdacc-123">這是在 2.10 版以前的通道行為。</span><span class="sxs-lookup"><span data-stu-id="cdacc-123">This is the behavior of a Channel prior to 2.10 release.</span></span>  <span data-ttu-id="cdacc-124">如需使用此種通道類型的詳細資訊，請參閱[使用會從建立多位元速率串流的內部部署編碼器執行即時串流](media-services-live-streaming-with-onprem-encoders.md)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-124">For more detailed information about working with channels of this type, see [Live streaming with on-premises encoders that create multi-bitrate streams](media-services-live-streaming-with-onprem-encoders.md).</span></span>
* <span data-ttu-id="cdacc-125">**標準** – 如果您打算使用媒體服務將單一位元速率即時串流編碼成多位元速率串流，請選擇這個值。</span><span class="sxs-lookup"><span data-stu-id="cdacc-125">**Standard** – Choose this value, if you plan to use Media Services to encode your single bitrate live stream to multi-bitrate stream.</span></span> <span data-ttu-id="cdacc-126">請注意即時編碼有計費影響，而且您應該記住將即時編碼通道保持在「執行中」狀態會產生費用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-126">Be aware that there is a billing impact for live encoding and you should remember that leaving a live encoding channel in the "Running" state will incur billing charges.</span></span>  <span data-ttu-id="cdacc-127">建議您在即時串流事件完成之後立即停止執行的通道，以避免額外的每小時費用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-127">It is recommended that you immediately stop your running channels after your live streaming event is complete to avoid extra hourly charges.</span></span>

> [!NOTE]
> <span data-ttu-id="cdacc-128">本主題討論通道的屬性，這些通道是啟用來執行即時編碼的 (**標準** 編碼類型)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-128">This topic discusses attributes of channels that are enabled to perform live encoding (**Standard** encoding type).</span></span> <span data-ttu-id="cdacc-129">如需使用未啟用執行即時編碼之通道的資訊，請參閱[使用會建立多位元速率串流的內部部署編碼器執行即時串流](media-services-live-streaming-with-onprem-encoders.md)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-129">For information about working with channels that are not enabled to perform live encoding, see [Live streaming with on-premises encoders that create multi-bitrate streams](media-services-live-streaming-with-onprem-encoders.md).</span></span>
> 
> <span data-ttu-id="cdacc-130">請務必閱讀 [考量](media-services-manage-live-encoder-enabled-channels.md#Considerations) 一節。</span><span class="sxs-lookup"><span data-stu-id="cdacc-130">Make sure to review the [Considerations](media-services-manage-live-encoder-enabled-channels.md#Considerations) section.</span></span>
> 
> 

## <a name="billing-implications"></a><span data-ttu-id="cdacc-131">計費影響</span><span class="sxs-lookup"><span data-stu-id="cdacc-131">Billing Implications</span></span>
<span data-ttu-id="cdacc-132">即時編碼通道只要其狀態透過 API 轉換為「執行中」，即會開始計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-132">A live encoding channel begins billing as soon as it's state transitions to "Running" via the API.</span></span>   <span data-ttu-id="cdacc-133">您也可以在 Azure 入口網站或 Azure 媒體服務總管工具 (http://aka.ms/amse) 中檢視狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-133">You can also view the state in the Azure portal, or in the Azure Media Services Explorer tool (http://aka.ms/amse).</span></span>

<span data-ttu-id="cdacc-134">下表顯示通道狀態如何對應至 API 和 Azure 入口網站的計費狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-134">The following table shows how Channel states map to billing states in the API and Azure portal.</span></span> <span data-ttu-id="cdacc-135">請注意，API 和入口網站 UX 之間的狀態稍有不同。</span><span class="sxs-lookup"><span data-stu-id="cdacc-135">Note that the states are slightly different between the API and Portal UX.</span></span> <span data-ttu-id="cdacc-136">一旦通道透過 API 處於「執行中」狀態，或在 Azure 入口網站中處於「就緒」或「串流」狀態，就會開始計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-136">As soon as a channel is in the "Running" state via the API, or in the "Ready" or "Streaming" state in the Azure portal, billing will be active.</span></span>
<span data-ttu-id="cdacc-137">若要停止通道進一步向您計費，您必須停止透過 API 或在 Azure 入口網站中的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-137">To stop the Channel from billing you further, you have to Stop the Channel via the API or in the Azure portal.</span></span>
<span data-ttu-id="cdacc-138">您必須負責在完成即時編碼通道時停止您的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-138">You are responsible for stopping your channels when you are done with the live encoding channel.</span></span>  <span data-ttu-id="cdacc-139">無法停止編碼通道將會導致持續計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-139">Failure to stop an encoding channel will result in continued billing.</span></span>

### <span data-ttu-id="cdacc-140"><a id="states"></a>通道狀態和狀態如何對應至計費模式</span><span class="sxs-lookup"><span data-stu-id="cdacc-140"><a id="states"></a>Channel states and how they map to the billing mode</span></span>
<span data-ttu-id="cdacc-141">通道的目前狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-141">The current state of a Channel.</span></span> <span data-ttu-id="cdacc-142">可能的值包括：</span><span class="sxs-lookup"><span data-stu-id="cdacc-142">Possible values include:</span></span>

* <span data-ttu-id="cdacc-143">**已停止**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-143">**Stopped**.</span></span> <span data-ttu-id="cdacc-144">這是通道建立後的初始狀態 (除非在入口網站中選取自動啟動)。此狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-144">This is the initial state of the Channel after its creation (unless autostart was selected in the portal.) No billing occurs in this state.</span></span> <span data-ttu-id="cdacc-145">在此狀態下，通道屬性可以更新，但是不允許串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-145">In this state, the Channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="cdacc-146">**啟動中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-146">**Starting**.</span></span> <span data-ttu-id="cdacc-147">正在啟動通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-147">The Channel is being started.</span></span> <span data-ttu-id="cdacc-148">此狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-148">No billing occurs in this state.</span></span> <span data-ttu-id="cdacc-149">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-149">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="cdacc-150">如果發生錯誤，通道會回到已停止狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-150">If an error occurs, the Channel returns to the Stopped state.</span></span>
* <span data-ttu-id="cdacc-151">**執行中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-151">**Running**.</span></span> <span data-ttu-id="cdacc-152">通道能夠處理即時串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-152">The Channel is capable of processing live streams.</span></span> <span data-ttu-id="cdacc-153">現在針對使用量計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-153">It is now billing usage.</span></span> <span data-ttu-id="cdacc-154">您必須停止通道來防止進一步計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-154">You must stop the channel to prevent further billing.</span></span> 
* <span data-ttu-id="cdacc-155">**停止中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-155">**Stopping**.</span></span> <span data-ttu-id="cdacc-156">正在停止通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-156">The Channel is being stopped.</span></span> <span data-ttu-id="cdacc-157">此暫時性狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-157">No billing occurs in this transient state.</span></span> <span data-ttu-id="cdacc-158">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-158">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="cdacc-159">**刪除中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-159">**Deleting**.</span></span> <span data-ttu-id="cdacc-160">正在刪除通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-160">The Channel is being deleted.</span></span> <span data-ttu-id="cdacc-161">此暫時性狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-161">No billing occurs in this transient state.</span></span> <span data-ttu-id="cdacc-162">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-162">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="cdacc-163">下表顯示通道狀態如何對應至計費模式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-163">The following table shows how Channel states map to the billing mode.</span></span> 

| <span data-ttu-id="cdacc-164">通道狀態</span><span class="sxs-lookup"><span data-stu-id="cdacc-164">Channel state</span></span> | <span data-ttu-id="cdacc-165">入口網站 UI 指標</span><span class="sxs-lookup"><span data-stu-id="cdacc-165">Portal UI Indicators</span></span> | <span data-ttu-id="cdacc-166">會計費嗎？</span><span class="sxs-lookup"><span data-stu-id="cdacc-166">Is it Billing?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="cdacc-167">啟動中</span><span class="sxs-lookup"><span data-stu-id="cdacc-167">Starting</span></span> |<span data-ttu-id="cdacc-168">啟動中</span><span class="sxs-lookup"><span data-stu-id="cdacc-168">Starting</span></span> |<span data-ttu-id="cdacc-169">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="cdacc-169">No (transient state)</span></span> |
| <span data-ttu-id="cdacc-170">執行中</span><span class="sxs-lookup"><span data-stu-id="cdacc-170">Running</span></span> |<span data-ttu-id="cdacc-171">就緒 (沒有執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="cdacc-171">Ready (no running programs)</span></span><br/><span data-ttu-id="cdacc-172">或</span><span class="sxs-lookup"><span data-stu-id="cdacc-172">or</span></span><br/><span data-ttu-id="cdacc-173">串流 (至少一個執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="cdacc-173">Streaming (at least one running program)</span></span> |<span data-ttu-id="cdacc-174">是</span><span class="sxs-lookup"><span data-stu-id="cdacc-174">YES</span></span> |
| <span data-ttu-id="cdacc-175">停止中</span><span class="sxs-lookup"><span data-stu-id="cdacc-175">Stopping</span></span> |<span data-ttu-id="cdacc-176">停止中</span><span class="sxs-lookup"><span data-stu-id="cdacc-176">Stopping</span></span> |<span data-ttu-id="cdacc-177">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="cdacc-177">No (transient state)</span></span> |
| <span data-ttu-id="cdacc-178">已停止</span><span class="sxs-lookup"><span data-stu-id="cdacc-178">Stopped</span></span> |<span data-ttu-id="cdacc-179">已停止</span><span class="sxs-lookup"><span data-stu-id="cdacc-179">Stopped</span></span> |<span data-ttu-id="cdacc-180">否</span><span class="sxs-lookup"><span data-stu-id="cdacc-180">No</span></span> |

### <a name="automatic-shut-off-for-unused-channels"></a><span data-ttu-id="cdacc-181">自動關閉未使用的通道</span><span class="sxs-lookup"><span data-stu-id="cdacc-181">Automatic shut-off for unused Channels</span></span>
<span data-ttu-id="cdacc-182">自 2016 年 1 月 25 日開始，媒體服務推出的更新會在 (啟用即時編碼的) 通道已長時間處於未使用的狀態時，自動停止該通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-182">Starting with January 25, 2016, Media Services rolled out an update that automatically stops a Channel (with live encoding enabled) after it has been running in an unused state for a long period.</span></span> <span data-ttu-id="cdacc-183">這適用沒有使用中程式的通道，以及已長時間未收到輸入發佈摘要的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-183">This applies to Channels that have no active Programs, and which have not received an input contribution feed for an extended period of time.</span></span>

<span data-ttu-id="cdacc-184">未使用時間的臨界值在表面上是 12 小時，但這是可以變更的。</span><span class="sxs-lookup"><span data-stu-id="cdacc-184">The threshold for an unused period is nominally 12 hours, but is subject to change.</span></span>

## <a name="live-encoding-workflow"></a><span data-ttu-id="cdacc-185">即時編碼工作流程</span><span class="sxs-lookup"><span data-stu-id="cdacc-185">Live Encoding Workflow</span></span>
<span data-ttu-id="cdacc-186">下圖代表即時串流工作流程，其中通道可使用下列其中一種通訊協定接收單一位元速率串流：RTMP、Smooth Streaming 或 RTP (MPEG-TS)；然後它會將串流編碼為多位元速率串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-186">The following diagram represents a live streaming workflow where a channel receives a single bitrate stream in one of the following protocols: RTMP, Smooth Streaming, or RTP (MPEG-TS); it then encodes the stream to a multi-bitrate stream.</span></span> 

![即時工作流程][live-overview]

## <span data-ttu-id="cdacc-188"><a id="scenario"></a>常見即時串流案例</span><span class="sxs-lookup"><span data-stu-id="cdacc-188"><a id="scenario"></a>Common Live Streaming Scenario</span></span>
<span data-ttu-id="cdacc-189">下列是建立常見即時串流應用程式所含的一般步驟。</span><span class="sxs-lookup"><span data-stu-id="cdacc-189">The following are general steps involved in creating common live streaming applications.</span></span>

> [!NOTE]
> <span data-ttu-id="cdacc-190">目前，即時事件的最大建議持續時間是 8 小時。</span><span class="sxs-lookup"><span data-stu-id="cdacc-190">Currently, the max recommended duration of a live event is 8 hours.</span></span> <span data-ttu-id="cdacc-191">如果您需要執行通道更久的時間，請連絡 amslived@Microsoft.com。請注意即時編碼有計費影響，而且您應該記住將即時編碼通道保持在「執行中」狀態會產生每小時的計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-191">Please contact  amslived at Microsoft.com if you need to run a Channel for longer periods of time.Be aware that there is a billing impact for live encoding and you should remember that leaving a live encoding channel in the "Running" state will incur hourly billing charges.</span></span>  <span data-ttu-id="cdacc-192">建議您在即時串流事件完成之後立即停止執行的通道，以避免額外的每小時費用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-192">It is recommended that you immediately stop your running channels after your live streaming event is complete to avoid extra hourly charges.</span></span> 
> 
> 

1. <span data-ttu-id="cdacc-193">將攝影機連接到電腦。</span><span class="sxs-lookup"><span data-stu-id="cdacc-193">Connect a video camera to a computer.</span></span> <span data-ttu-id="cdacc-194">啟動和設定可使用下列其中一種通訊協定輸出 **單一** 位元速率串流的內部部署即時編碼器：RTMP、Smooth Streaming 或 RTP (MPEG-TS)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-194">Launch and configure an on-premises live encoder that can output a **single** bitrate stream in one of the following protocols: RTMP, Smooth Streaming, or RTP (MPEG-TS).</span></span> 
   
    <span data-ttu-id="cdacc-195">此步驟也可以在您建立通道之後執行。</span><span class="sxs-lookup"><span data-stu-id="cdacc-195">This step could also be performed after you create your Channel.</span></span>
2. <span data-ttu-id="cdacc-196">建立並啟動通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-196">Create and start a Channel.</span></span> 
3. <span data-ttu-id="cdacc-197">擷取通道內嵌 URL。</span><span class="sxs-lookup"><span data-stu-id="cdacc-197">Retrieve the Channel ingest URL.</span></span> 
   
    <span data-ttu-id="cdacc-198">內嵌 URL 可供即時編碼器用來傳送串流到通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-198">The ingest URL is used by the live encoder to send the stream to the Channel.</span></span>
4. <span data-ttu-id="cdacc-199">擷取通道預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="cdacc-199">Retrieve the Channel preview URL.</span></span> 
   
    <span data-ttu-id="cdacc-200">使用此 URL 來確認您的通道會正確接收即時串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-200">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="cdacc-201">建立程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-201">Create a program.</span></span> 
   
    <span data-ttu-id="cdacc-202">使用 Azure 入口網站時，建立程式也會建立資產。</span><span class="sxs-lookup"><span data-stu-id="cdacc-202">When using the Azure portal, creating a program also creates an asset.</span></span> 
   
    <span data-ttu-id="cdacc-203">使用 .NET SDK 或 REST 時，您必須建立資產並指定要在建立程式時使用此資產。</span><span class="sxs-lookup"><span data-stu-id="cdacc-203">When using .NET SDK or REST you need to create an asset and specify to use this asset when creating a Program.</span></span> 
6. <span data-ttu-id="cdacc-204">發行與程式相關聯的資產。</span><span class="sxs-lookup"><span data-stu-id="cdacc-204">Publish the asset associated with the program.</span></span>   
   
    >[!NOTE]
    ><span data-ttu-id="cdacc-205">建立 AMS 帳戶時，**預設**串流端點會新增至 [已停止] 狀態的帳戶。</span><span class="sxs-lookup"><span data-stu-id="cdacc-205">When your AMS account is created a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="cdacc-206">您想要串流內容的串流端點必須處於 [執行中] 狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-206">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span> 
    
7. <span data-ttu-id="cdacc-207">當您準備好開始串流和封存時，請啟動程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-207">Start the program when you are ready to start streaming and archiving.</span></span>
8. <span data-ttu-id="cdacc-208">即時編碼器會收到啟動公告的信號 (選擇性)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-208">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="cdacc-209">公告會插入輸出串流中。</span><span class="sxs-lookup"><span data-stu-id="cdacc-209">The advertisement is inserted in the output stream.</span></span>
9. <span data-ttu-id="cdacc-210">每當您想要停止串流處理和封存事件時，請停止程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-210">Stop the program whenever you want to stop streaming and archiving the event.</span></span>
10. <span data-ttu-id="cdacc-211">刪除程式 (並選擇性地刪除資產)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-211">Delete the Program (and optionally delete the asset).</span></span>   

> [!NOTE]
> <span data-ttu-id="cdacc-212">切記停止即時編碼通道非常重要。</span><span class="sxs-lookup"><span data-stu-id="cdacc-212">It is very important not to forget to Stop a Live Encoding Channel.</span></span> <span data-ttu-id="cdacc-213">請注意即時編碼有每小時計費影響，而且您應該記住將即時編碼通道保持在「執行中」狀態會產生費用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-213">Be aware that there is an hourly billing impact for live encoding and you should remember that leaving a live encoding channel in the "Running" state will incur billing charges.</span></span>  <span data-ttu-id="cdacc-214">建議您在即時串流事件完成之後立即停止執行的通道，以避免額外的每小時費用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-214">It is recommended that you immediately stop your running channels after your live streaming event is complete to avoid extra hourly charges.</span></span> 
> 
> 

## <span data-ttu-id="cdacc-215"><a id="channel"></a>通道的輸入 (嵌入) 組態</span><span class="sxs-lookup"><span data-stu-id="cdacc-215"><a id="channel"></a>Channel's input (ingest) configurations</span></span>
### <span data-ttu-id="cdacc-216"><a id="Ingest_Protocols"></a>嵌入串流通訊協定</span><span class="sxs-lookup"><span data-stu-id="cdacc-216"><a id="Ingest_Protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="cdacc-217">如果**編碼器類型**設為**標準**，有效的選項如下：</span><span class="sxs-lookup"><span data-stu-id="cdacc-217">If the **Encoder Type** is set to **Standard**, valid options are:</span></span>

* <span data-ttu-id="cdacc-218">**RTP** (MPEG-TS)：透過 RTP 的 MPEG-2 傳輸串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-218">**RTP** (MPEG-TS): MPEG-2 Transport Stream over RTP.</span></span>  
* <span data-ttu-id="cdacc-219">單一位元速率 **RTMP**</span><span class="sxs-lookup"><span data-stu-id="cdacc-219">Single bitrate **RTMP**</span></span>
* <span data-ttu-id="cdacc-220">單一位元速率 **分散的 MP4** (Smooth Streaming)</span><span class="sxs-lookup"><span data-stu-id="cdacc-220">Single bitrate **Fragmented MP4** (Smooth Streaming)</span></span>

#### <a name="rtp-mpeg-ts---mpeg-2-transport-stream-over-rtp"></a><span data-ttu-id="cdacc-221">RTP (MPEG-TS) - 透過 RTP 的 MPEG-2 傳輸串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-221">RTP (MPEG-TS) - MPEG-2 Transport Stream over RTP.</span></span>
<span data-ttu-id="cdacc-222">典型的使用案例：</span><span class="sxs-lookup"><span data-stu-id="cdacc-222">Typical use case:</span></span> 

<span data-ttu-id="cdacc-223">專業的廣播器通常使用供應商 (如 Elemental Technologies、Ericsson、Ateme、Imagine 或 Envivio) 提供的高階內部部署即時編碼器來傳送串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-223">Professional broadcasters typically work with high-end on-premises live encoders from vendors like Elemental Technologies, Ericsson, Ateme, Imagine or Envivio to send a stream.</span></span> <span data-ttu-id="cdacc-224">通常會和 IT 部門和私人網路一起使用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-224">Often used in conjunction with  an IT department and private networks.</span></span>

<span data-ttu-id="cdacc-225">考量：</span><span class="sxs-lookup"><span data-stu-id="cdacc-225">Considerations:</span></span>

* <span data-ttu-id="cdacc-226">強烈建議使用單一程式傳輸串流 (SPTS) 輸入。</span><span class="sxs-lookup"><span data-stu-id="cdacc-226">The use of a single program transport stream (SPTS) input is strongly recommended.</span></span> 
* <span data-ttu-id="cdacc-227">您可以透過 RTP 使用 MPEG-2 TS 輸入最多 8 個音訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-227">You can input up to 8 audio streams using MPEG-2 TS over RTP.</span></span> 
* <span data-ttu-id="cdacc-228">視訊串流的平均位元速率應低於 15 Mbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-228">The video stream should have an average bitrate below 15 Mbps</span></span>
* <span data-ttu-id="cdacc-229">視訊串流的彙總平均位元速率應低於 1 Mbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-229">The aggregate average bitrate of the audio streams should be below 1 Mbps</span></span>
* <span data-ttu-id="cdacc-230">以下是支援的轉碼器：</span><span class="sxs-lookup"><span data-stu-id="cdacc-230">Following are the supported codecs:</span></span>
  
  * <span data-ttu-id="cdacc-231">Mpeg-2 / H.262 視訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-231">MPEG-2 / H.262 Video</span></span> 
    
    * <span data-ttu-id="cdacc-232">主要設定檔 (4:2:0)</span><span class="sxs-lookup"><span data-stu-id="cdacc-232">Main Profile (4:2:0)</span></span>
    * <span data-ttu-id="cdacc-233">高設定檔 (4:2:0, 4:2:2)</span><span class="sxs-lookup"><span data-stu-id="cdacc-233">High Profile (4:2:0, 4:2:2)</span></span>
    * <span data-ttu-id="cdacc-234">422 設定檔 (4:2:0, 4:2:2)</span><span class="sxs-lookup"><span data-stu-id="cdacc-234">422 Profile (4:2:0, 4:2:2)</span></span>
  * <span data-ttu-id="cdacc-235">MPEG-4 AVC / H.264 視訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-235">MPEG-4 AVC / H.264 Video</span></span>  
    
    * <span data-ttu-id="cdacc-236">基準、主要、高設定檔 (8-bit 4:2:0)</span><span class="sxs-lookup"><span data-stu-id="cdacc-236">Baseline, Main, High Profile (8-bit 4:2:0)</span></span>
    * <span data-ttu-id="cdacc-237">高 10 設定檔 (10 位元 4:2:0)</span><span class="sxs-lookup"><span data-stu-id="cdacc-237">High 10 Profile (10-bit 4:2:0)</span></span>
    * <span data-ttu-id="cdacc-238">高 422 設定檔 (10 位元 4:2:2)</span><span class="sxs-lookup"><span data-stu-id="cdacc-238">High 422 Profile (10-bit 4:2:2)</span></span>
  * <span data-ttu-id="cdacc-239">Mpeg-2 AAC-LC 音訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-239">MPEG-2 AAC-LC Audio</span></span> 
    
    * <span data-ttu-id="cdacc-240">單聲道、立體聲、環繞 (5.1、7.1)</span><span class="sxs-lookup"><span data-stu-id="cdacc-240">Mono, Stereo, Surround (5.1, 7.1)</span></span>
    * <span data-ttu-id="cdacc-241">MPEG-2 樣式 ADTS 封裝</span><span class="sxs-lookup"><span data-stu-id="cdacc-241">MPEG-2 style ADTS packaging</span></span>
  * <span data-ttu-id="cdacc-242">Dolby Digital (AC-3) 音訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-242">Dolby Digital (AC-3) Audio</span></span> 
    
    * <span data-ttu-id="cdacc-243">單聲道、立體聲、環繞 (5.1、7.1)</span><span class="sxs-lookup"><span data-stu-id="cdacc-243">Mono, Stereo, Surround (5.1, 7.1)</span></span>
  * <span data-ttu-id="cdacc-244">MPEG 音訊 (Layer II 和 III)</span><span class="sxs-lookup"><span data-stu-id="cdacc-244">MPEG Audio (Layer II and III)</span></span> 
    
    * <span data-ttu-id="cdacc-245">單聲道、立體聲</span><span class="sxs-lookup"><span data-stu-id="cdacc-245">Mono, Stereo</span></span>
* <span data-ttu-id="cdacc-246">建議的廣播編碼器包含：</span><span class="sxs-lookup"><span data-stu-id="cdacc-246">Recommended broadcast encoders include:</span></span>
  
  * <span data-ttu-id="cdacc-247">Imagine Communications Selenio ENC 1</span><span class="sxs-lookup"><span data-stu-id="cdacc-247">Imagine Communications Selenio ENC 1</span></span>
  * <span data-ttu-id="cdacc-248">Imagine Communications Selenio ENC 2</span><span class="sxs-lookup"><span data-stu-id="cdacc-248">Imagine Communications Selenio ENC 2</span></span>
  * <span data-ttu-id="cdacc-249">Elemental Live</span><span class="sxs-lookup"><span data-stu-id="cdacc-249">Elemental Live</span></span>

#### <span data-ttu-id="cdacc-250"><a id="single_bitrate_RTMP"></a>單一位元速率 RTMP</span><span class="sxs-lookup"><span data-stu-id="cdacc-250"><a id="single_bitrate_RTMP"></a>Single bitrate RTMP</span></span>
<span data-ttu-id="cdacc-251">考量：</span><span class="sxs-lookup"><span data-stu-id="cdacc-251">Considerations:</span></span>

* <span data-ttu-id="cdacc-252">連入串流不能包含多位元速率視訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-252">The incoming stream cannot contain multi-bitrate video</span></span>
* <span data-ttu-id="cdacc-253">視訊串流的平均位元速率應低於 15 Mbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-253">The video stream should have an average bitrate below 15 Mbps</span></span>
* <span data-ttu-id="cdacc-254">視訊串流的平均位元速率應低於 1 Mbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-254">The audio stream should have an average bitrate below 1 Mbps</span></span>
* <span data-ttu-id="cdacc-255">以下是支援的轉碼器：</span><span class="sxs-lookup"><span data-stu-id="cdacc-255">Following are the supported codecs:</span></span>
* <span data-ttu-id="cdacc-256">MPEG-4 AVC / H.264 視訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-256">MPEG-4 AVC / H.264 Video</span></span>
* <span data-ttu-id="cdacc-257">基準、主要、高設定檔 (8-bit 4:2:0)</span><span class="sxs-lookup"><span data-stu-id="cdacc-257">Baseline, Main, High Profile (8-bit 4:2:0)</span></span>
* <span data-ttu-id="cdacc-258">高 10 設定檔 (10 位元 4:2:0)</span><span class="sxs-lookup"><span data-stu-id="cdacc-258">High 10 Profile (10-bit 4:2:0)</span></span>
* <span data-ttu-id="cdacc-259">高 422 設定檔 (10 位元 4:2:2)</span><span class="sxs-lookup"><span data-stu-id="cdacc-259">High 422 Profile (10-bit 4:2:2)</span></span>
* <span data-ttu-id="cdacc-260">Mpeg-2 AAC-LC 音訊</span><span class="sxs-lookup"><span data-stu-id="cdacc-260">MPEG-2 AAC-LC Audio</span></span>
* <span data-ttu-id="cdacc-261">單聲道、立體聲、環繞 (5.1、7.1)</span><span class="sxs-lookup"><span data-stu-id="cdacc-261">Mono, Stereo, Surround (5.1, 7.1)</span></span>
* <span data-ttu-id="cdacc-262">44.1 kHz 範例速率</span><span class="sxs-lookup"><span data-stu-id="cdacc-262">44.1 kHz sampling rate</span></span>
* <span data-ttu-id="cdacc-263">MPEG-2 樣式 ADTS 封裝</span><span class="sxs-lookup"><span data-stu-id="cdacc-263">MPEG-2 style ADTS packaging</span></span>
* <span data-ttu-id="cdacc-264">建議的編碼器包括：</span><span class="sxs-lookup"><span data-stu-id="cdacc-264">Recommended encoders include:</span></span>
* <span data-ttu-id="cdacc-265">Telestream Wirecast</span><span class="sxs-lookup"><span data-stu-id="cdacc-265">Telestream Wirecast</span></span>
* <span data-ttu-id="cdacc-266">Flash Media Live Encoder</span><span class="sxs-lookup"><span data-stu-id="cdacc-266">Flash Media Live Encoder</span></span>

#### <a name="single-bitrate-fragmented-mp4-smooth-streaming"></a><span data-ttu-id="cdacc-267">單一位元速率的分散 MP4 (Smooth Streaming)</span><span class="sxs-lookup"><span data-stu-id="cdacc-267">Single bitrate Fragmented MP4 (Smooth Streaming)</span></span>
<span data-ttu-id="cdacc-268">典型的使用案例：</span><span class="sxs-lookup"><span data-stu-id="cdacc-268">Typical use case:</span></span>

<span data-ttu-id="cdacc-269">使用廠商 (如 Elemental Technologies、Ericsson、Ateme、Envivio) 提供的內部部屬即時編碼器，透過開放式網際網路將輸入串流傳送至附近的 Azure 資料中心。</span><span class="sxs-lookup"><span data-stu-id="cdacc-269">Use on-premises live encoders from vendors like Elemental Technologies, Ericsson, Ateme, Envivio to send the input stream over the open internet to a nearby Azure data center.</span></span>

<span data-ttu-id="cdacc-270">考量：</span><span class="sxs-lookup"><span data-stu-id="cdacc-270">Considerations:</span></span>

<span data-ttu-id="cdacc-271">對於 [單一位元速率 RTMP](media-services-manage-live-encoder-enabled-channels.md#single_bitrate_RTMP)也一樣。</span><span class="sxs-lookup"><span data-stu-id="cdacc-271">Same as for [single bitrate RTMP](media-services-manage-live-encoder-enabled-channels.md#single_bitrate_RTMP).</span></span>

#### <a name="other-considerations"></a><span data-ttu-id="cdacc-272">其他考量</span><span class="sxs-lookup"><span data-stu-id="cdacc-272">Other considerations</span></span>
* <span data-ttu-id="cdacc-273">通道或其相關聯程式正在執行時，您無法變更輸入通訊協定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-273">You cannot change the input protocol while the Channel or its associated programs are running.</span></span> <span data-ttu-id="cdacc-274">如果您需要不同的通訊協定，則應該為每個輸入通訊協定建立個別的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-274">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="cdacc-275">連入的視訊串流最大解析度是 1920x1080，若為交錯式，最多 60 欄位/秒，若為漸進式，最多 30 框架/秒。</span><span class="sxs-lookup"><span data-stu-id="cdacc-275">Maximum resolution for the incoming video stream is 1920x1080, and at most 60 fields/second if interlaced, or 30 frames/second if progressive.</span></span>

### <a name="ingest-urls-endpoints"></a><span data-ttu-id="cdacc-276">內嵌 URL (端點)</span><span class="sxs-lookup"><span data-stu-id="cdacc-276">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="cdacc-277">通道會提供您在即時編碼器中指定的輸入端點 (內嵌 URL)，因此編碼器可以將串流推入您的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-277">A Channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your Channels.</span></span>

<span data-ttu-id="cdacc-278">建立通道之後，您可以取得內嵌 URL。</span><span class="sxs-lookup"><span data-stu-id="cdacc-278">You can get the ingest URLs once you create a Channel.</span></span> <span data-ttu-id="cdacc-279">若要取得這些 URL，通道不一定要在 **執行** 狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-279">To get these URLs, the Channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="cdacc-280">當您準備好開始將資料推入通道，它必須處於 **執行** 狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-280">When you are ready to start pushing data into the Channel, it must be in the **Running** state.</span></span> <span data-ttu-id="cdacc-281">一旦通道開始內嵌資料，您就可以透過預覽 URL 預覽您的串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-281">Once the Channel starts ingesting data, you can preview your stream through the preview URL.</span></span>

<span data-ttu-id="cdacc-282">您可以透過 SSL 連線選擇內嵌的分散 MP4 (Smooth Streaming) 即時串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-282">You have an option of ingesting Fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="cdacc-283">若要透過 SSL 擷取，請務必將擷取 URL 更新為 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="cdacc-283">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span></span> <span data-ttu-id="cdacc-284">請注意，目前 AMS 不支援使用 SSL 搭配自訂網域。</span><span class="sxs-lookup"><span data-stu-id="cdacc-284">Note that, currently, AMS doesn’t support SSL with custom domains.</span></span>  

### <a name="allowed-ip-addresses"></a><span data-ttu-id="cdacc-285">允許的 IP 位址</span><span class="sxs-lookup"><span data-stu-id="cdacc-285">Allowed IP addresses</span></span>
<span data-ttu-id="cdacc-286">您可以定義允許將視訊發行到這個通道的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="cdacc-286">You can define the IP addresses that are allowed to publish video to this channel.</span></span> <span data-ttu-id="cdacc-287">允許的 IP 位址可以指定為單一 IP 位址 (例如'10.0.0.1')、使用 IP 位址和 CIDR 子網路遮罩的 IP 範圍 (例如'10.0.0.1/22’)，或使用 IP 位址和以點分隔十進位子網路遮罩的 IP 範圍 (例如'10.0.0.1(255.255.252.0)')。</span><span class="sxs-lookup"><span data-stu-id="cdacc-287">Allowed IP addresses can be specified as either a single IP address (e.g. '10.0.0.1'), an IP range using an IP address and a CIDR subnet mask (e.g. ‘10.0.0.1/22’), or an IP range using an IP address and a dotted decimal subnet mask (e.g. '10.0.0.1(255.255.252.0)').</span></span>

<span data-ttu-id="cdacc-288">如果未指定 IP 位址，而且沒有任何規則定義，則不允許任何 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="cdacc-288">If no IP addresses are specified and there is no rule definition then no IP address will be allowed.</span></span> <span data-ttu-id="cdacc-289">若要允許任何 IP 位址，請建立規則，並設定 0.0.0.0/0。</span><span class="sxs-lookup"><span data-stu-id="cdacc-289">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>

## <a name="channel-preview"></a><span data-ttu-id="cdacc-290">通道預覽</span><span class="sxs-lookup"><span data-stu-id="cdacc-290">Channel preview</span></span>
### <a name="preview-urls"></a><span data-ttu-id="cdacc-291">預覽 URL</span><span class="sxs-lookup"><span data-stu-id="cdacc-291">Preview URLs</span></span>
<span data-ttu-id="cdacc-292">通道會在進一步處理和傳遞之前，提供您用來預覽及驗證串流的預覽端點 (預覽 URL)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-292">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="cdacc-293">當您建立通道時，您可以取得預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="cdacc-293">You can get the preview URL when you create the channel.</span></span> <span data-ttu-id="cdacc-294">若要取得此 URL，通道不一定要在 **執行** 狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-294">To get the URL, the channel does not have to be in the **Running** state.</span></span>

<span data-ttu-id="cdacc-295">通道開始內嵌資料後，您就可以預覽您的資料流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-295">Once the Channel starts ingesting data, you can preview your stream.</span></span>

> [!NOTE]
> <span data-ttu-id="cdacc-296">無論指定的輸入類型為何，目前預覽串流都只能以分散式 MP4 (Smooth Streaming) 格式傳遞。</span><span class="sxs-lookup"><span data-stu-id="cdacc-296">Currently the preview stream can only be delivered in Fragmented MP4 (Smooth Streaming) format regardless of the specified input type.</span></span> <span data-ttu-id="cdacc-297">您可以使用 [http://smf.cloudapp.net/healthmonitor](http://smf.cloudapp.net/healthmonitor) 播放器測試 Smooth Stream。</span><span class="sxs-lookup"><span data-stu-id="cdacc-297">You can use the [http://smf.cloudapp.net/healthmonitor](http://smf.cloudapp.net/healthmonitor) player to test the Smooth Stream.</span></span> <span data-ttu-id="cdacc-298">您也可以使用裝載於 Azure 入口網站中的播放器來檢視您的串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-298">You can also use a player hosted in the Azure portal to view your stream.</span></span>
> 
> 

### <a name="allowed-ip-addresses"></a><span data-ttu-id="cdacc-299">允許的 IP 位址</span><span class="sxs-lookup"><span data-stu-id="cdacc-299">Allowed IP Addresses</span></span>
<span data-ttu-id="cdacc-300">您可以定義允許連接到預覽端點的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="cdacc-300">You can define the IP addresses that are allowed to connect to the preview endpoint.</span></span> <span data-ttu-id="cdacc-301">如果沒有指定 IP 位址，將會允許任何 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="cdacc-301">If no IP addresses are specified any IP address will be allowed.</span></span> <span data-ttu-id="cdacc-302">允許的 IP 位址可以指定為單一 IP 位址 (例如'10.0.0.1')、使用 IP 位址和 CIDR 子網路遮罩的 IP 範圍 (例如'10.0.0.1/22’)，或使用 IP 位址和以點分隔十進位子網路遮罩的 IP 範圍 (例如‘10.0.0.1(255.255.252.0)’)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-302">Allowed IP addresses can be specified as either a single IP address (e.g. ‘10.0.0.1’), an IP range using an IP address and a CIDR subnet mask (e.g. ‘10.0.0.1/22’), or an IP range using an IP address and a dotted decimal subnet mask (e.g. ‘10.0.0.1(255.255.252.0)’).</span></span>

## <a name="live-encoding-settings"></a><span data-ttu-id="cdacc-303">即時編碼設定</span><span class="sxs-lookup"><span data-stu-id="cdacc-303">Live encoding settings</span></span>
<span data-ttu-id="cdacc-304">本節說明通道的**編碼類型**設為**標準**時，如何調整通道中即時編碼器的設定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-304">This section describes how the settings for the live encoder within the Channel can be adjusted, when the **Encoding Type** of a Channel is set to **Standard**.</span></span>

> [!NOTE]
> <span data-ttu-id="cdacc-305">使用 Azure 輸入多個語言資料軌及執行即時編碼時，多語言輸入僅支援 RTP。</span><span class="sxs-lookup"><span data-stu-id="cdacc-305">When inputting multiple language tracks and doing live encoding with Azure, only RTP is supported for multi-language input.</span></span> <span data-ttu-id="cdacc-306">您可以透過 RTP 使用 MPEG-2 TS 定義最多 8 個音訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-306">You can define up to 8 audio streams using MPEG-2 TS over RTP.</span></span> <span data-ttu-id="cdacc-307">目前不支援使用 RTMP 或 Smooth Streaming 內嵌多個音軌。</span><span class="sxs-lookup"><span data-stu-id="cdacc-307">Ingesting multiple audio tracks with RTMP or Smooth streaming is currently not supported.</span></span> <span data-ttu-id="cdacc-308">使用 [內部部署即時編碼器](media-services-live-streaming-with-onprem-encoders.md)執行即時編碼時，並沒有這類限制，因為傳送至 AMS 的所有項目都會通過通道，而不需要進一步處理。</span><span class="sxs-lookup"><span data-stu-id="cdacc-308">When doing live encoding with [on-premises live encodes](media-services-live-streaming-with-onprem-encoders.md), there is no such limitation because whatever is sent to AMS passes through a channel without any further processing.</span></span>
> 
> 

### <a name="ad-marker-source"></a><span data-ttu-id="cdacc-309">Ad 標記來源</span><span class="sxs-lookup"><span data-stu-id="cdacc-309">Ad marker source</span></span>
<span data-ttu-id="cdacc-310">您可以指定 ad 標記信號的來源。</span><span class="sxs-lookup"><span data-stu-id="cdacc-310">You can specify the source for ad markers signals.</span></span> <span data-ttu-id="cdacc-311">預設值為 **Api**，其指出通道內的即時編碼器應該接聽非同步 **Ad 標記 API**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-311">Default value is **Api**, which indicates that the live encoder within the Channel should listen to an asynchronous **Ad Marker API**.</span></span>

<span data-ttu-id="cdacc-312">另一個有效的選項是 **Scte35** (只有內嵌串流通訊協定設為 RTP (MPEG-TS) 時才允許。</span><span class="sxs-lookup"><span data-stu-id="cdacc-312">The other valid option is **Scte35** (allowed only if the ingest streaming protocol is set to RTP (MPEG-TS).</span></span> <span data-ttu-id="cdacc-313">指定 Scte35 時，即時編碼器將會剖析來自輸入 RTP (MPEG-TS) 串流的 SCTE 35 信號。</span><span class="sxs-lookup"><span data-stu-id="cdacc-313">When Scte35 is specified, the live encoder will parse SCTE-35 signals from the input RTP (MPEG-TS) stream.</span></span>

### <a name="cea-708-closed-captions"></a><span data-ttu-id="cdacc-314">CEA 708 隱藏式輔助字幕</span><span class="sxs-lookup"><span data-stu-id="cdacc-314">CEA 708 Closed Captions</span></span>
<span data-ttu-id="cdacc-315">選擇性旗標會通知即時編碼器略過任何內嵌於連入視訊的 CEA 708 字幕資料。</span><span class="sxs-lookup"><span data-stu-id="cdacc-315">An optional flag which tells the live encoder to ignore any CEA 708 captions data embedded in the incoming video.</span></span> <span data-ttu-id="cdacc-316">當旗標設為 false (預設值) 時，編碼器會偵測 CEA 708 資料並將其重新插入至輸出視訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-316">When the flag is set to false (default), the encoder will detect and re-insert CEA 708 data into the output video streams.</span></span>

### <a name="video-stream"></a><span data-ttu-id="cdacc-317">視訊串流</span><span class="sxs-lookup"><span data-stu-id="cdacc-317">Video Stream</span></span>
<span data-ttu-id="cdacc-318">選用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-318">Optional.</span></span> <span data-ttu-id="cdacc-319">描述輸入視訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-319">Describes the input video stream.</span></span> <span data-ttu-id="cdacc-320">如果未指定此欄位，則會使用預設值。</span><span class="sxs-lookup"><span data-stu-id="cdacc-320">If this field is not specified, the default value is used.</span></span> <span data-ttu-id="cdacc-321">輸入串流通訊協定設為 RTP (MPEG-TS) 時，才允許這項設定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-321">This setting is allowed only if the input streaming protocol is set to RTP (MPEG-TS).</span></span>

#### <a name="index"></a><span data-ttu-id="cdacc-322">索引</span><span class="sxs-lookup"><span data-stu-id="cdacc-322">Index</span></span>
<span data-ttu-id="cdacc-323">以零起始的索引，會指定通道內的即時編碼器應處理哪一個輸入視訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-323">A zero-based index that specifies which input video stream should be processed by the live encoder within the Channel.</span></span> <span data-ttu-id="cdacc-324">只有當內嵌串流通訊協定是 RTP (MPEG-TS) 時才適用此設定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-324">This setting applies only if ingest streaming protocol is RTP (MPEG-TS).</span></span>

<span data-ttu-id="cdacc-325">預設值為零。</span><span class="sxs-lookup"><span data-stu-id="cdacc-325">Default value is zero.</span></span> <span data-ttu-id="cdacc-326">建議您傳送單一程式傳輸串流 (SPTS)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-326">It is recommended to send in a single program transport stream (SPTS).</span></span> <span data-ttu-id="cdacc-327">如果輸入串流包含多個程式，即時編碼器會剖析輸入中的程式對應資料表 (PMT)、識別具有串流類型名稱 MPEG-2 視訊或 H.264 的輸入，並以 PMT 中指定的順序加以排列。</span><span class="sxs-lookup"><span data-stu-id="cdacc-327">If the input stream contains multiple programs, the live encoder parses the Program Map Table (PMT) in the input, identifies the inputs that have a stream type name of MPEG-2 Video or H.264, and arranges them in the order specified in the PMT.</span></span> <span data-ttu-id="cdacc-328">接著會使用以零起始的索引，在排列中挑選第 n 個項目。</span><span class="sxs-lookup"><span data-stu-id="cdacc-328">The zero-based index is then used to pick up the n-th entry in that arrangement.</span></span>

### <a name="audio-stream"></a><span data-ttu-id="cdacc-329">音訊串流</span><span class="sxs-lookup"><span data-stu-id="cdacc-329">Audio Stream</span></span>
<span data-ttu-id="cdacc-330">選用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-330">Optional.</span></span> <span data-ttu-id="cdacc-331">描述輸入音訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-331">Describes the input audio streams.</span></span> <span data-ttu-id="cdacc-332">如果未指定此欄位，則會套用預設值。</span><span class="sxs-lookup"><span data-stu-id="cdacc-332">If this field is not specified, the default values specified apply.</span></span> <span data-ttu-id="cdacc-333">輸入串流通訊協定設為 RTP (MPEG-TS) 時，才允許這項設定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-333">This setting is allowed only if the input streaming protocol is set to RTP (MPEG-TS).</span></span>

#### <a name="index"></a><span data-ttu-id="cdacc-334">索引</span><span class="sxs-lookup"><span data-stu-id="cdacc-334">Index</span></span>
<span data-ttu-id="cdacc-335">建議您傳送單一程式傳輸串流 (SPTS)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-335">It is recommended to send in a single program transport stream (SPTS).</span></span> <span data-ttu-id="cdacc-336">如果輸入串流包含多個程式，通道內的即時編碼器會剖析輸入中的程式對應資料表 (PMT)、識別具有串流類型名稱 MPEG-2 AAC ADTS 或 AC-3 System-A 或 AC-3 System-B 或 MPEG-2 Private PES 或 MPEG-1 音訊或 MPEG-2 音訊的輸入，並以 PMT 中指定的順序加以排列。</span><span class="sxs-lookup"><span data-stu-id="cdacc-336">If the input stream contains multiple programs, the live encoder within the Channel parses the Program Map Table (PMT) in the input, identifies the inputs that have a stream type name of MPEG-2 AAC ADTS or AC-3 System-A or AC-3 System-B or MPEG-2 Private PES or MPEG-1 Audio or MPEG-2 Audio, and arranges them in the order specified in the PMT.</span></span> <span data-ttu-id="cdacc-337">接著會使用以零起始的索引，在排列中挑選第 n 個項目。</span><span class="sxs-lookup"><span data-stu-id="cdacc-337">The zero-based index is then used to pick up the n-th entry in that arrangement.</span></span>

#### <a name="language"></a><span data-ttu-id="cdacc-338">語言</span><span class="sxs-lookup"><span data-stu-id="cdacc-338">Language</span></span>
<span data-ttu-id="cdacc-339">音訊串流的語言識別碼，符合 ISO 639-2，例如 ENG。</span><span class="sxs-lookup"><span data-stu-id="cdacc-339">The language identifier of the audio stream, conforming to ISO 639-2, such as ENG.</span></span> <span data-ttu-id="cdacc-340">如果不存在，則預設為 UND (未定義)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-340">If not present, the default is UND (undefined).</span></span>

<span data-ttu-id="cdacc-341">如果通道的輸入是透過 RTP 的 MPEG-2，則可指定高達 8 個音訊串流集。</span><span class="sxs-lookup"><span data-stu-id="cdacc-341">There can be up to 8 audio stream sets specified if the input to the Channel is MPEG-2 TS over RTP.</span></span> <span data-ttu-id="cdacc-342">不過，不會有具備相同索引值的兩個項目。</span><span class="sxs-lookup"><span data-stu-id="cdacc-342">However, there can be no two entries with the same value of Index.</span></span>

### <span data-ttu-id="cdacc-343"><a id="preset"></a>系統預設</span><span class="sxs-lookup"><span data-stu-id="cdacc-343"><a id="preset"></a>System Preset</span></span>
<span data-ttu-id="cdacc-344">指定由此通道內之即時編碼器所使用的預設內容。</span><span class="sxs-lookup"><span data-stu-id="cdacc-344">Specifies the preset to be used by the live encoder within this Channel.</span></span> <span data-ttu-id="cdacc-345">目前，唯一允許的值是 **Default720p** (預設值)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-345">Currently, the only allowed value is **Default720p** (default).</span></span>

<span data-ttu-id="cdacc-346">請注意如果您需要自訂的預設設定，您應該在 Microsoft.com 上連絡 amslived。</span><span class="sxs-lookup"><span data-stu-id="cdacc-346">Note that if you need custom presets, you should contact  amslived at Microsoft.com.</span></span>

<span data-ttu-id="cdacc-347">**Default720p** 會將視訊編碼成下列 7 個層。</span><span class="sxs-lookup"><span data-stu-id="cdacc-347">**Default720p** will encode the video into the following 7 layers.</span></span>

#### <a name="output-video-stream"></a><span data-ttu-id="cdacc-348">輸出視訊串流</span><span class="sxs-lookup"><span data-stu-id="cdacc-348">Output Video Stream</span></span>
| <span data-ttu-id="cdacc-349">位元速率</span><span class="sxs-lookup"><span data-stu-id="cdacc-349">BitRate</span></span> | <span data-ttu-id="cdacc-350">寬度</span><span class="sxs-lookup"><span data-stu-id="cdacc-350">Width</span></span> | <span data-ttu-id="cdacc-351">高度</span><span class="sxs-lookup"><span data-stu-id="cdacc-351">Height</span></span> | <span data-ttu-id="cdacc-352">MaxFPS</span><span class="sxs-lookup"><span data-stu-id="cdacc-352">MaxFPS</span></span> | <span data-ttu-id="cdacc-353">設定檔</span><span class="sxs-lookup"><span data-stu-id="cdacc-353">Profile</span></span> | <span data-ttu-id="cdacc-354">輸出串流名稱</span><span class="sxs-lookup"><span data-stu-id="cdacc-354">Output Stream Name</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="cdacc-355">3500</span><span class="sxs-lookup"><span data-stu-id="cdacc-355">3500</span></span> |<span data-ttu-id="cdacc-356">1280</span><span class="sxs-lookup"><span data-stu-id="cdacc-356">1280</span></span> |<span data-ttu-id="cdacc-357">720</span><span class="sxs-lookup"><span data-stu-id="cdacc-357">720</span></span> |<span data-ttu-id="cdacc-358">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-358">30</span></span> |<span data-ttu-id="cdacc-359">高</span><span class="sxs-lookup"><span data-stu-id="cdacc-359">High</span></span> |<span data-ttu-id="cdacc-360">Video_1280x720_3500kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-360">Video_1280x720_3500kbps</span></span> |
| <span data-ttu-id="cdacc-361">2200</span><span class="sxs-lookup"><span data-stu-id="cdacc-361">2200</span></span> |<span data-ttu-id="cdacc-362">960</span><span class="sxs-lookup"><span data-stu-id="cdacc-362">960</span></span> |<span data-ttu-id="cdacc-363">540</span><span class="sxs-lookup"><span data-stu-id="cdacc-363">540</span></span> |<span data-ttu-id="cdacc-364">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-364">30</span></span> |<span data-ttu-id="cdacc-365">主要區段</span><span class="sxs-lookup"><span data-stu-id="cdacc-365">Main</span></span> |<span data-ttu-id="cdacc-366">Video_960x540_2200kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-366">Video_960x540_2200kbps</span></span> |
| <span data-ttu-id="cdacc-367">1350</span><span class="sxs-lookup"><span data-stu-id="cdacc-367">1350</span></span> |<span data-ttu-id="cdacc-368">704</span><span class="sxs-lookup"><span data-stu-id="cdacc-368">704</span></span> |<span data-ttu-id="cdacc-369">396</span><span class="sxs-lookup"><span data-stu-id="cdacc-369">396</span></span> |<span data-ttu-id="cdacc-370">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-370">30</span></span> |<span data-ttu-id="cdacc-371">主要區段</span><span class="sxs-lookup"><span data-stu-id="cdacc-371">Main</span></span> |<span data-ttu-id="cdacc-372">Video_704x396_1350kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-372">Video_704x396_1350kbps</span></span> |
| <span data-ttu-id="cdacc-373">850</span><span class="sxs-lookup"><span data-stu-id="cdacc-373">850</span></span> |<span data-ttu-id="cdacc-374">512</span><span class="sxs-lookup"><span data-stu-id="cdacc-374">512</span></span> |<span data-ttu-id="cdacc-375">288</span><span class="sxs-lookup"><span data-stu-id="cdacc-375">288</span></span> |<span data-ttu-id="cdacc-376">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-376">30</span></span> |<span data-ttu-id="cdacc-377">主要區段</span><span class="sxs-lookup"><span data-stu-id="cdacc-377">Main</span></span> |<span data-ttu-id="cdacc-378">Video_512x288_850kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-378">Video_512x288_850kbps</span></span> |
| <span data-ttu-id="cdacc-379">550</span><span class="sxs-lookup"><span data-stu-id="cdacc-379">550</span></span> |<span data-ttu-id="cdacc-380">384</span><span class="sxs-lookup"><span data-stu-id="cdacc-380">384</span></span> |<span data-ttu-id="cdacc-381">216</span><span class="sxs-lookup"><span data-stu-id="cdacc-381">216</span></span> |<span data-ttu-id="cdacc-382">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-382">30</span></span> |<span data-ttu-id="cdacc-383">主要區段</span><span class="sxs-lookup"><span data-stu-id="cdacc-383">Main</span></span> |<span data-ttu-id="cdacc-384">Video_384x216_550kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-384">Video_384x216_550kbps</span></span> |
| <span data-ttu-id="cdacc-385">350</span><span class="sxs-lookup"><span data-stu-id="cdacc-385">350</span></span> |<span data-ttu-id="cdacc-386">340</span><span class="sxs-lookup"><span data-stu-id="cdacc-386">340</span></span> |<span data-ttu-id="cdacc-387">192</span><span class="sxs-lookup"><span data-stu-id="cdacc-387">192</span></span> |<span data-ttu-id="cdacc-388">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-388">30</span></span> |<span data-ttu-id="cdacc-389">基準</span><span class="sxs-lookup"><span data-stu-id="cdacc-389">Baseline</span></span> |<span data-ttu-id="cdacc-390">Video_340x192_350kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-390">Video_340x192_350kbps</span></span> |
| <span data-ttu-id="cdacc-391">200</span><span class="sxs-lookup"><span data-stu-id="cdacc-391">200</span></span> |<span data-ttu-id="cdacc-392">340</span><span class="sxs-lookup"><span data-stu-id="cdacc-392">340</span></span> |<span data-ttu-id="cdacc-393">192</span><span class="sxs-lookup"><span data-stu-id="cdacc-393">192</span></span> |<span data-ttu-id="cdacc-394">30</span><span class="sxs-lookup"><span data-stu-id="cdacc-394">30</span></span> |<span data-ttu-id="cdacc-395">基準</span><span class="sxs-lookup"><span data-stu-id="cdacc-395">Baseline</span></span> |<span data-ttu-id="cdacc-396">Video_340x192_200kbps</span><span class="sxs-lookup"><span data-stu-id="cdacc-396">Video_340x192_200kbps</span></span> |

#### <a name="output-audio-stream"></a><span data-ttu-id="cdacc-397">輸出音訊串流</span><span class="sxs-lookup"><span data-stu-id="cdacc-397">Output Audio Stream</span></span>
<span data-ttu-id="cdacc-398">音訊編碼為 64 kbps 的立體聲 AAC-LC，取樣率為 44.1 kHz。</span><span class="sxs-lookup"><span data-stu-id="cdacc-398">Audio is encoded to stereo AAC-LC at 64 kbps, sampling rate of 44.1 kHz.</span></span>

## <a name="signaling-advertisements"></a><span data-ttu-id="cdacc-399">發出信號的廣告</span><span class="sxs-lookup"><span data-stu-id="cdacc-399">Signaling Advertisements</span></span>
<span data-ttu-id="cdacc-400">當您的通道啟用即時編碼時，您會在處理視訊的管線中具有元件，並可加以操作。</span><span class="sxs-lookup"><span data-stu-id="cdacc-400">When your Channel has Live Encoding enabled, you have a component in your pipeline that is processing video, and can manipulate it.</span></span> <span data-ttu-id="cdacc-401">您可以發出信號給通道以將 Slate 及/或廣告插入連出的自動調整位元速率串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-401">You can signal for the Channel to insert slates and/or advertisements into the outgoing adaptive bitrate stream.</span></span> <span data-ttu-id="cdacc-402">Slate 是靜止映像，您可以用來在某些情況下遮蓋輸入的即時摘要 (例如廣告插播期間)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-402">Slates are still images that you can use to cover up the input live feed in certain cases (for example during a commercial break).</span></span> <span data-ttu-id="cdacc-403">廣告信號是您嵌入連外串流的時間同步處理信號，告知視訊播放器採取特殊動作 – 例如在適當時機切換到廣告。</span><span class="sxs-lookup"><span data-stu-id="cdacc-403">Advertising signals, are time-synchronized signals you embed into the outgoing stream to tell the video player to take special action – such as to switch to an advertisement at the appropriate time.</span></span> <span data-ttu-id="cdacc-404">如需此用途的 SCTE 35 信號發送機制的概觀，請參閱此 [部落格](https://codesequoia.wordpress.com/2014/02/24/understanding-scte-35/) 。</span><span class="sxs-lookup"><span data-stu-id="cdacc-404">See this [blog](https://codesequoia.wordpress.com/2014/02/24/understanding-scte-35/) for an overview of the SCTE-35 signaling mechanism used for this purpose.</span></span> <span data-ttu-id="cdacc-405">以下是您可以在即時事件中實作的典型案例。</span><span class="sxs-lookup"><span data-stu-id="cdacc-405">Below is a typical scenario you could implement in your live event.</span></span>

1. <span data-ttu-id="cdacc-406">讓您的檢視器在事件開始前取得  PRE-EVENT 映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-406">Have your viewers get a PRE-EVENT image before the event starts.</span></span>
2. <span data-ttu-id="cdacc-407">讓您的檢視器在事件開始前取得 POST-EVENT 映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-407">Have your viewers get a POST-EVENT image after the event ends.</span></span>
3. <span data-ttu-id="cdacc-408">在事件期間發生問題時 (例如場地中的電源中斷)，請讓您的檢視器取得 ERROR-EVENT 映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-408">Have your viewers get an ERROR-EVENT image if there is a problem during the event (for example, power failure in the stadium).</span></span>
4. <span data-ttu-id="cdacc-409">傳送 AD-BREAK 映像來隱藏廣告插播期間的即時事件摘要。</span><span class="sxs-lookup"><span data-stu-id="cdacc-409">Send an AD-BREAK image to hide the live event feed during a commercial break.</span></span>

<span data-ttu-id="cdacc-410">以下是發送信號給廣告時，您可以設定的屬性。</span><span class="sxs-lookup"><span data-stu-id="cdacc-410">The following are the properties you can set when signaling advertisements.</span></span> 

### <a name="duration"></a><span data-ttu-id="cdacc-411">持續時間</span><span class="sxs-lookup"><span data-stu-id="cdacc-411">Duration</span></span>
<span data-ttu-id="cdacc-412">廣告插播的持續時間，以秒為單位。</span><span class="sxs-lookup"><span data-stu-id="cdacc-412">The duration, in seconds, of the commercial break.</span></span> <span data-ttu-id="cdacc-413">必須為非零的正整數值才能開始廣告插播。</span><span class="sxs-lookup"><span data-stu-id="cdacc-413">This has to be a non-zero positive value in order to start the commercial break.</span></span> <span data-ttu-id="cdacc-414">當廣告插播正在進行中，持續時間設為零，且 CueId 符合正在進行的廣告插播，則會取消插播。</span><span class="sxs-lookup"><span data-stu-id="cdacc-414">When a commercial break is in progress, and the duration is set to zero with the CueId matching the on-going commercial break, then that break is canceled.</span></span>

### <a name="cueid"></a><span data-ttu-id="cdacc-415">CueId</span><span class="sxs-lookup"><span data-stu-id="cdacc-415">CueId</span></span>
<span data-ttu-id="cdacc-416">廣告插播的唯一識別碼，可供下游應用程式用來採取適當的動作。</span><span class="sxs-lookup"><span data-stu-id="cdacc-416">A Unique ID for the commercial break, to be used by downstream application to take appropriate action(s).</span></span> <span data-ttu-id="cdacc-417">必須是正整數。</span><span class="sxs-lookup"><span data-stu-id="cdacc-417">Needs to be a positive integer.</span></span> <span data-ttu-id="cdacc-418">您可以將此值設定為任何隨機正整數，或使用上游系統來追蹤 Cue Id。</span><span class="sxs-lookup"><span data-stu-id="cdacc-418">You can set this value to any random positive integer or use an upstream system to track the Cue Ids.</span></span> <span data-ttu-id="cdacc-419">請務必在透過 API 送出任何識別碼前將其標準化為正整數。</span><span class="sxs-lookup"><span data-stu-id="cdacc-419">Make certain to normalize any ids to positive integers before submitting through the API.</span></span>

### <a name="show-slate"></a><span data-ttu-id="cdacc-420">顯示 slate</span><span class="sxs-lookup"><span data-stu-id="cdacc-420">Show slate</span></span>
<span data-ttu-id="cdacc-421">選用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-421">Optional.</span></span> <span data-ttu-id="cdacc-422">在廣告插播期間發送信號給即時編碼器以切換至 [預設 slate](media-services-manage-live-encoder-enabled-channels.md#default_slate) 映像，並隱藏連入的視訊摘要。</span><span class="sxs-lookup"><span data-stu-id="cdacc-422">Signals the live encoder to switch to the [default slate](media-services-manage-live-encoder-enabled-channels.md#default_slate) image during a commercial break and hide the incoming video feed.</span></span> <span data-ttu-id="cdacc-423">在 slate 期間也要使音訊靜音。</span><span class="sxs-lookup"><span data-stu-id="cdacc-423">Audio is also muted during slate.</span></span> <span data-ttu-id="cdacc-424">預設值為 **false**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-424">Default is **false**.</span></span> 

<span data-ttu-id="cdacc-425">在建立通道時會透過預設 slate 資產識別碼屬性指定要使用的映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-425">The image used will be the one specified via the default slate asset Id property at the time of the channel creation.</span></span> <span data-ttu-id="cdacc-426">slate 將會延伸到符合顯示映像大小。</span><span class="sxs-lookup"><span data-stu-id="cdacc-426">The slate will be stretched to fit the display image size.</span></span> 

## <a name="insert-slate--images"></a><span data-ttu-id="cdacc-427">插入靜態圖像映像</span><span class="sxs-lookup"><span data-stu-id="cdacc-427">Insert Slate  images</span></span>
<span data-ttu-id="cdacc-428">通道內的即時編碼器會收到切換至 slate 映像的信號。</span><span class="sxs-lookup"><span data-stu-id="cdacc-428">The live encoder within the Channel can be signaled to switch to a slate image.</span></span> <span data-ttu-id="cdacc-429">它也會收到結束進行中 slate 的信號。</span><span class="sxs-lookup"><span data-stu-id="cdacc-429">It can also be signaled to end an on-going slate.</span></span> 

<span data-ttu-id="cdacc-430">即時編碼器可設定為切換至 slate 映像，並在某些情況下隱藏連入的視訊信號 – 例如在廣告插播期間。</span><span class="sxs-lookup"><span data-stu-id="cdacc-430">The live encoder can be configured to switch to a slate image and hide the incoming video signal in certain situations – for example, during an ad break.</span></span> <span data-ttu-id="cdacc-431">如果未設定此 slate，就不會在廣告插播期間遮罩處理輸入視訊。</span><span class="sxs-lookup"><span data-stu-id="cdacc-431">If such a slate is not configured, input video is not masked during that ad break.</span></span>

### <a name="duration"></a><span data-ttu-id="cdacc-432">持續時間</span><span class="sxs-lookup"><span data-stu-id="cdacc-432">Duration</span></span>
<span data-ttu-id="cdacc-433">slate 的持續時間，以秒為單位。</span><span class="sxs-lookup"><span data-stu-id="cdacc-433">The duration of the slate in seconds.</span></span> <span data-ttu-id="cdacc-434">必須為非零的正整數值才能開始 slate。</span><span class="sxs-lookup"><span data-stu-id="cdacc-434">This has to be a non-zero positive value in order to start the slate.</span></span> <span data-ttu-id="cdacc-435">如果沒有進行中的 slate，就會指定玲為持續時間，進行中的 slate 就會終止。</span><span class="sxs-lookup"><span data-stu-id="cdacc-435">If there is an on-going slate, and a duration of zero is specified, then that on-going slate will be terminated.</span></span>

### <a name="insert-slate-on-ad-marker"></a><span data-ttu-id="cdacc-436">插入 ad 標記上的 slate</span><span class="sxs-lookup"><span data-stu-id="cdacc-436">Insert slate on ad marker</span></span>
<span data-ttu-id="cdacc-437">設為 true 時，此設定會將即時編碼器設為在廣告插播期間插入 slate 映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-437">When set to true, this setting configures the live encoder to insert a slate image during an ad break.</span></span> <span data-ttu-id="cdacc-438">預設值為 true。</span><span class="sxs-lookup"><span data-stu-id="cdacc-438">The default value is true.</span></span> 

### <span data-ttu-id="cdacc-439"><a id="default_slate"></a>預設靜態圖像資產識別碼</span><span class="sxs-lookup"><span data-stu-id="cdacc-439"><a id="default_slate"></a>Default slate Asset Id</span></span>

<span data-ttu-id="cdacc-440">選用。</span><span class="sxs-lookup"><span data-stu-id="cdacc-440">Optional.</span></span> <span data-ttu-id="cdacc-441">指定包含 slate 映像之媒體服務資產的資產識別碼。</span><span class="sxs-lookup"><span data-stu-id="cdacc-441">Specifies the Asset Id of the Media Services Asset which contains the slate image.</span></span> <span data-ttu-id="cdacc-442">預設值為 null。</span><span class="sxs-lookup"><span data-stu-id="cdacc-442">Default is null.</span></span> 


>[!NOTE] 
><span data-ttu-id="cdacc-443">建立通道之前，具有下列限制的靜態圖像映像應上傳做為專用的資產 (此資產中應該沒有其他檔案)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-443">Before creating the Channel, the slate image with the following constraints should be uploaded as a dedicated asset (no other files should be in this asset).</span></span> <span data-ttu-id="cdacc-444">只有在即時編碼器因為廣告中斷而插入靜態圖像時，或者已明確發出訊號來插入靜態圖像時，才會使用此映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-444">This image is used only when the live encoder is inserting a slate due to an ad break, or has been explicitly signaled to insert a slate.</span></span> <span data-ttu-id="cdacc-445">即時編碼器也可以在發生特定的錯誤情況期間鍵入靜態圖像模式 - 例如，如果遺失輸入訊號。</span><span class="sxs-lookup"><span data-stu-id="cdacc-445">The live encoder can also go into a slate mode during certain error conditions – for example if the input signal is lost.</span></span> <span data-ttu-id="cdacc-446">目前沒有任何選項可在即時編碼器進入這類「輸入訊號遺失」狀態時使用自訂映像。</span><span class="sxs-lookup"><span data-stu-id="cdacc-446">There is currently no option to use a custom image when the live encoder enters such an 'input signal lost' state.</span></span> <span data-ttu-id="cdacc-447">您可以在[這裡](https://feedback.azure.com/forums/169396-azure-media-services/suggestions/10190457-define-custom-slate-image-on-a-live-encoder-channel)投此功能一票。</span><span class="sxs-lookup"><span data-stu-id="cdacc-447">You can vote for this feature [here](https://feedback.azure.com/forums/169396-azure-media-services/suggestions/10190457-define-custom-slate-image-on-a-live-encoder-channel).</span></span>


* <span data-ttu-id="cdacc-448">最多 1920 x 1080 的解析度。</span><span class="sxs-lookup"><span data-stu-id="cdacc-448">At most 1920x1080 in resolution.</span></span>
* <span data-ttu-id="cdacc-449">最多 3 Mb 的大小。</span><span class="sxs-lookup"><span data-stu-id="cdacc-449">At most 3 Mbytes in size.</span></span>
* <span data-ttu-id="cdacc-450">檔案名稱必須有 *.jpg 副檔名。</span><span class="sxs-lookup"><span data-stu-id="cdacc-450">The file name must have a *.jpg extension.</span></span>
* <span data-ttu-id="cdacc-451">影像必須上傳到資產做為唯一的 AssetFile，資產和此 AssetFile 應該標示為主要檔案。</span><span class="sxs-lookup"><span data-stu-id="cdacc-451">The image must be uploaded into an Asset as the only AssetFile in that Asset and this AssetFile should be marked as the primary file.</span></span> <span data-ttu-id="cdacc-452">此資產不可為加密的儲存體。</span><span class="sxs-lookup"><span data-stu-id="cdacc-452">The Asset cannot be storage encrypted.</span></span>

<span data-ttu-id="cdacc-453">如果未指定**預設 slate 資產識別碼**，且 **ad 標記上的插入 slate** 設為 **true**，將使用預設 Azure 媒體服務來隱藏輸入視訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-453">If the **default slate Asset Id** is not specified, and **insert slate on ad marker** is set to **true**, a default Azure Media Services image will be used to hide the input video stream.</span></span> <span data-ttu-id="cdacc-454">在 slate 期間也要使音訊靜音。</span><span class="sxs-lookup"><span data-stu-id="cdacc-454">Audio is also muted during slate.</span></span> 

## <a name="channels-programs"></a><span data-ttu-id="cdacc-455">通道的程式</span><span class="sxs-lookup"><span data-stu-id="cdacc-455">Channel's programs</span></span>
<span data-ttu-id="cdacc-456">通道與程式相關聯，而程式可讓您控制即時串流中區段的發行和儲存。</span><span class="sxs-lookup"><span data-stu-id="cdacc-456">A channel is associated with programs that enable you to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="cdacc-457">通道會管理程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-457">Channels manage Programs.</span></span> <span data-ttu-id="cdacc-458">「通道」與「程式」之間的關係與傳統媒體十分類似，通道在其中具有固定的內容串流，而且程式的範圍會設定為該通道上的某個計時事件。</span><span class="sxs-lookup"><span data-stu-id="cdacc-458">The Channel and Program relationship is very similar to traditional media where a Channel has a constant stream of content and a program is scoped to some timed event on that Channel.</span></span>

<span data-ttu-id="cdacc-459">設定 **封存時間範圍** 長度，即可指定您想要保留程式之錄製內容的時數。</span><span class="sxs-lookup"><span data-stu-id="cdacc-459">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span></span> <span data-ttu-id="cdacc-460">此值可以設為最少 5 分鐘到最多 25 個小時。</span><span class="sxs-lookup"><span data-stu-id="cdacc-460">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="cdacc-461">封存時間範圍長度也會指出用戶端可以從目前即時位置及時往回搜尋的最大時間量。</span><span class="sxs-lookup"><span data-stu-id="cdacc-461">Archive window length also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="cdacc-462">程式在超過指定的時間量後還是可以執行，但是會持續捨棄落後時間範圍長度的內容。</span><span class="sxs-lookup"><span data-stu-id="cdacc-462">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="cdacc-463">此屬性的這個值也會決定用戶端資訊清單可以成長為多長的時間。</span><span class="sxs-lookup"><span data-stu-id="cdacc-463">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="cdacc-464">每個程式都與儲存串流內容的資產相關聯。</span><span class="sxs-lookup"><span data-stu-id="cdacc-464">Each program is associated with an Asset which stores the streamed content.</span></span> <span data-ttu-id="cdacc-465">資產會對應到「Azure 儲存體」帳戶中的區塊 Blob 容器，而資產中的檔案則會儲存為該容器中的 Blob。</span><span class="sxs-lookup"><span data-stu-id="cdacc-465">An asset is mapped to a block blob container in the Azure Storage account and the files in the asset are stored as blobs in that container.</span></span> <span data-ttu-id="cdacc-466">若要發行程式讓您的客戶檢視串流，您必須建立相關聯資產的隨選定位器。</span><span class="sxs-lookup"><span data-stu-id="cdacc-466">To publish the program so your customers can view the stream you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="cdacc-467">擁有此定位器，可讓您建置可提供給用戶端的串流 URL。</span><span class="sxs-lookup"><span data-stu-id="cdacc-467">Having this locator will enable you to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="cdacc-468">通道可支援最多三個同時執行的程式，因此您可以建立相同連入串流的多個封存。</span><span class="sxs-lookup"><span data-stu-id="cdacc-468">A Channel supports up to three concurrently running programs so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="cdacc-469">這可讓您視需要發行和封存事件的不同部分。</span><span class="sxs-lookup"><span data-stu-id="cdacc-469">This allows you to publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="cdacc-470">例如，您的商務需求是封存 6 小時的程式，但只廣播最後 10 分鐘。</span><span class="sxs-lookup"><span data-stu-id="cdacc-470">For example, your business requirement is to archive 6 hours of a program, but to broadcast only last 10 minutes.</span></span> <span data-ttu-id="cdacc-471">為了達成此目的，您必須建立兩個同時執行的程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-471">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="cdacc-472">其中一個程式設定為封存 6 小時的事件，但是未發行該程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-472">One program is set to archive 6 hours of the event but the program is not published.</span></span> <span data-ttu-id="cdacc-473">另一個程式則設定為封存 10 分鐘，並發行程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-473">The other program is set to archive for 10 minutes and this program is published.</span></span>

<span data-ttu-id="cdacc-474">您不應該將現有程式重複用於新的事件。</span><span class="sxs-lookup"><span data-stu-id="cdacc-474">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="cdacc-475">而是為每個事件建立並啟動新的程式 (如＜程式設計即時串流應用程式＞一節中所述)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-475">Instead, create and start a new program for each event as described in the Programming Live Streaming Applications section.</span></span>

<span data-ttu-id="cdacc-476">當您準備好開始串流和封存時，請啟動程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-476">Start the program when you are ready to start streaming and archiving.</span></span> <span data-ttu-id="cdacc-477">每當您想要停止串流處理和封存事件時，請停止程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-477">Stop the program whenever you want to stop streaming and archiving the event.</span></span> 

<span data-ttu-id="cdacc-478">若要刪除封存的內容，請停止並刪除程式，然後刪除相關聯的資產。</span><span class="sxs-lookup"><span data-stu-id="cdacc-478">To delete archived content, stop and delete the program and then delete the associated asset.</span></span> <span data-ttu-id="cdacc-479">如果程式使用資產，則無法刪除資產；必須先刪除程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-479">An asset cannot be deleted if it is used by a program; the program must be deleted first.</span></span> 

<span data-ttu-id="cdacc-480">只要您未刪除資產，即使在停止並刪除程式之後，使用者還是可以視需求將封存的內容串流為視訊。</span><span class="sxs-lookup"><span data-stu-id="cdacc-480">Even after you stop and delete the program, the users would be able to stream your archived content as a video on demand, for as long as you do not delete the asset.</span></span>

<span data-ttu-id="cdacc-481">如果想要保留封存的內容，但不要讓它可進行串流，請刪除串流定位器。</span><span class="sxs-lookup"><span data-stu-id="cdacc-481">If you do want to retain the archived content, but not have it available for streaming, delete the streaming locator.</span></span>

## <a name="getting-a-thumbnail-preview-of-a-live-feed"></a><span data-ttu-id="cdacc-482">取得即時摘要的縮圖預覽</span><span class="sxs-lookup"><span data-stu-id="cdacc-482">Getting a thumbnail preview of a live feed</span></span>
<span data-ttu-id="cdacc-483">啟用即時編碼時，您現在可以在即時摘要抵達通道時取得其預覽。</span><span class="sxs-lookup"><span data-stu-id="cdacc-483">When Live Encoding is enabled, you can now get a preview of the live feed as it reaches the Channel.</span></span> <span data-ttu-id="cdacc-484">這是重要的工具，可檢查您的即時摘要是否真的抵達通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-484">This can be a valuable tool to check whether your live feed is actually reaching the Channel.</span></span> 

## <span data-ttu-id="cdacc-485"><a id="states"></a>通道狀態和狀態如何對應至計費模式</span><span class="sxs-lookup"><span data-stu-id="cdacc-485"><a id="states"></a>Channel states and how states map to the billing mode</span></span>
<span data-ttu-id="cdacc-486">通道的目前狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-486">The current state of a Channel.</span></span> <span data-ttu-id="cdacc-487">可能的值包括：</span><span class="sxs-lookup"><span data-stu-id="cdacc-487">Possible values include:</span></span>

* <span data-ttu-id="cdacc-488">**已停止**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-488">**Stopped**.</span></span> <span data-ttu-id="cdacc-489">這是通道建立後的初始狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-489">This is the initial state of the Channel after its creation.</span></span> <span data-ttu-id="cdacc-490">在此狀態下，通道屬性可以更新，但是不允許串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-490">In this state, the Channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="cdacc-491">**啟動中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-491">**Starting**.</span></span> <span data-ttu-id="cdacc-492">正在啟動通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-492">The Channel is being started.</span></span> <span data-ttu-id="cdacc-493">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-493">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="cdacc-494">如果發生錯誤，通道會回到已停止狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-494">If an error occurs, the Channel returns to the Stopped state.</span></span>
* <span data-ttu-id="cdacc-495">**執行中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-495">**Running**.</span></span> <span data-ttu-id="cdacc-496">通道能夠處理即時串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-496">The Channel is capable of processing live streams.</span></span>
* <span data-ttu-id="cdacc-497">**停止中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-497">**Stopping**.</span></span> <span data-ttu-id="cdacc-498">正在停止通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-498">The Channel is being stopped.</span></span> <span data-ttu-id="cdacc-499">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-499">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="cdacc-500">**刪除中**。</span><span class="sxs-lookup"><span data-stu-id="cdacc-500">**Deleting**.</span></span> <span data-ttu-id="cdacc-501">正在刪除通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-501">The Channel is being deleted.</span></span> <span data-ttu-id="cdacc-502">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-502">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="cdacc-503">下表顯示通道狀態如何對應至計費模式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-503">The following table shows how Channel states map to the billing mode.</span></span> 

| <span data-ttu-id="cdacc-504">通道狀態</span><span class="sxs-lookup"><span data-stu-id="cdacc-504">Channel state</span></span> | <span data-ttu-id="cdacc-505">入口網站 UI 指標</span><span class="sxs-lookup"><span data-stu-id="cdacc-505">Portal UI Indicators</span></span> | <span data-ttu-id="cdacc-506">是否計費？</span><span class="sxs-lookup"><span data-stu-id="cdacc-506">Billed?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="cdacc-507">啟動中</span><span class="sxs-lookup"><span data-stu-id="cdacc-507">Starting</span></span> |<span data-ttu-id="cdacc-508">啟動中</span><span class="sxs-lookup"><span data-stu-id="cdacc-508">Starting</span></span> |<span data-ttu-id="cdacc-509">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="cdacc-509">No (transient state)</span></span> |
| <span data-ttu-id="cdacc-510">執行中</span><span class="sxs-lookup"><span data-stu-id="cdacc-510">Running</span></span> |<span data-ttu-id="cdacc-511">就緒 (沒有執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="cdacc-511">Ready (no running programs)</span></span><br/><span data-ttu-id="cdacc-512">或</span><span class="sxs-lookup"><span data-stu-id="cdacc-512">or</span></span><br/><span data-ttu-id="cdacc-513">串流 (至少一個執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="cdacc-513">Streaming (at least one running program)</span></span> |<span data-ttu-id="cdacc-514">是</span><span class="sxs-lookup"><span data-stu-id="cdacc-514">Yes</span></span> |
| <span data-ttu-id="cdacc-515">停止中</span><span class="sxs-lookup"><span data-stu-id="cdacc-515">Stopping</span></span> |<span data-ttu-id="cdacc-516">停止中</span><span class="sxs-lookup"><span data-stu-id="cdacc-516">Stopping</span></span> |<span data-ttu-id="cdacc-517">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="cdacc-517">No (transient state)</span></span> |
| <span data-ttu-id="cdacc-518">已停止</span><span class="sxs-lookup"><span data-stu-id="cdacc-518">Stopped</span></span> |<span data-ttu-id="cdacc-519">已停止</span><span class="sxs-lookup"><span data-stu-id="cdacc-519">Stopped</span></span> |<span data-ttu-id="cdacc-520">否</span><span class="sxs-lookup"><span data-stu-id="cdacc-520">No</span></span> |

> [!NOTE]
> <span data-ttu-id="cdacc-521">目前的通道啟動平均大約是 2 分鐘，但是有時可能需要多達 20 分鐘以上的時間。</span><span class="sxs-lookup"><span data-stu-id="cdacc-521">Currently, the Channel start average is about 2 minutes, but at times could take up to 20+ minutes.</span></span> <span data-ttu-id="cdacc-522">重設通道可能需要最多 5 分鐘。</span><span class="sxs-lookup"><span data-stu-id="cdacc-522">Channel resets can take up to 5 minutes.</span></span>
> 
> 

## <span data-ttu-id="cdacc-523"><a id="Considerations"></a>考量</span><span class="sxs-lookup"><span data-stu-id="cdacc-523"><a id="Considerations"></a>Considerations</span></span>
* <span data-ttu-id="cdacc-524">當 **標準** 編碼類型的通道發生遺失輸入來源/發佈摘要時，它會透過取代含有錯誤靜態圖像與無聲的來源視訊/音訊來補償它。</span><span class="sxs-lookup"><span data-stu-id="cdacc-524">When a Channel of **Standard** encoding type experiences a loss of input source/contribution feed, it compensates for it by replacing the source video/audio with an error slate and silence.</span></span> <span data-ttu-id="cdacc-525">通道將會繼續發出靜態圖像，直到輸入/發佈補償恢復為止。</span><span class="sxs-lookup"><span data-stu-id="cdacc-525">The Channel will continue to emit a slate until the input/contribution feed resumes.</span></span> <span data-ttu-id="cdacc-526">我們建議不要讓即時通道停留在此狀態超過 2 個小時。</span><span class="sxs-lookup"><span data-stu-id="cdacc-526">We recommend that a live channel not be left in such a state for longer than 2 hours.</span></span> <span data-ttu-id="cdacc-527">超過該時間點，就無法保證通道在輸入重新連線時的行為，也無法保證其回應重設命令的行為。</span><span class="sxs-lookup"><span data-stu-id="cdacc-527">Beyond that point, the behavior of the Channel on input reconnection is not guaranteed, neither is its behavior in response to a Reset command.</span></span> <span data-ttu-id="cdacc-528">您將必須停止通道、將它刪除，以及建立新的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-528">You will have to stop the Channel, delete it and create a new one.</span></span>
* <span data-ttu-id="cdacc-529">通道或其相關聯程式正在執行時，您無法變更輸入通訊協定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-529">You cannot change the input protocol while the Channel or its associated programs are running.</span></span> <span data-ttu-id="cdacc-530">如果您需要不同的通訊協定，則應該為每個輸入通訊協定建立個別的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-530">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="cdacc-531">每當您重新設定即時編碼器，請呼叫通道上的 **重設** 方法。</span><span class="sxs-lookup"><span data-stu-id="cdacc-531">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span></span> <span data-ttu-id="cdacc-532">重設通道之前，您必須停止程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-532">Before you reset the channel, you have to stop the program.</span></span> <span data-ttu-id="cdacc-533">重設通道之後，請重新啟動程式。</span><span class="sxs-lookup"><span data-stu-id="cdacc-533">After you reset the channel, restart the program.</span></span>
* <span data-ttu-id="cdacc-534">只有當通道處於執行中的狀態，且通道上的所有程式皆已停止時，才能停止通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-534">A channel can be stopped only when it is in the Running state, and all programs on the channel have been stopped.</span></span>
* <span data-ttu-id="cdacc-535">根據預設，您只能加入最多 5 個通道到媒體服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="cdacc-535">By default you can only add 5 channels to your Media Services account.</span></span> <span data-ttu-id="cdacc-536">這是所有新帳戶的彈性配額。</span><span class="sxs-lookup"><span data-stu-id="cdacc-536">This is a soft quota on all new accounts.</span></span> <span data-ttu-id="cdacc-537">如需詳細資訊，請參閱 [配額和限制](media-services-quotas-and-limitations.md)。</span><span class="sxs-lookup"><span data-stu-id="cdacc-537">For more information, see [Quotas and Limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="cdacc-538">通道或其相關聯程式正在執行時，您無法變更輸入通訊協定。</span><span class="sxs-lookup"><span data-stu-id="cdacc-538">You cannot change the input protocol while the Channel or its associated programs are running.</span></span> <span data-ttu-id="cdacc-539">如果您需要不同的通訊協定，則應該為每個輸入通訊協定建立個別的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-539">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="cdacc-540">只有當您的通道處於 **執行中** 狀態時，才會向您計費。</span><span class="sxs-lookup"><span data-stu-id="cdacc-540">You are only billed when your Channel is in the **Running** state.</span></span> <span data-ttu-id="cdacc-541">若需詳細資訊，請參閱 [這個](media-services-manage-live-encoder-enabled-channels.md#states) 章節。</span><span class="sxs-lookup"><span data-stu-id="cdacc-541">For more information, refer to [this](media-services-manage-live-encoder-enabled-channels.md#states) section.</span></span>
* <span data-ttu-id="cdacc-542">目前，即時事件的最大建議持續時間是 8 小時。</span><span class="sxs-lookup"><span data-stu-id="cdacc-542">Currently, the max recommended duration of a live event is 8 hours.</span></span> <span data-ttu-id="cdacc-543">如果您需要較長的時間來執行通道，請連絡 amslived@Microsoft.com。</span><span class="sxs-lookup"><span data-stu-id="cdacc-543">Please contact  amslived at Microsoft.com if you need to run a Channel for longer periods of time.</span></span>
* <span data-ttu-id="cdacc-544">確定您想要串流內容的串流端點已處於 [執行中] 狀態。</span><span class="sxs-lookup"><span data-stu-id="cdacc-544">Make sure to have the streaming endpoint from which you want to stream content in the **Running** state.</span></span>
* <span data-ttu-id="cdacc-545">使用 Azure 輸入多個語言資料軌及執行即時編碼時，多語言輸入僅支援 RTP。</span><span class="sxs-lookup"><span data-stu-id="cdacc-545">When inputting multiple language tracks and doing live encoding with Azure, only RTP is supported for multi-language input.</span></span> <span data-ttu-id="cdacc-546">您可以透過 RTP 使用 MPEG-2 TS 定義最多 8 個音訊串流。</span><span class="sxs-lookup"><span data-stu-id="cdacc-546">You can define up to 8 audio streams using MPEG-2 TS over RTP.</span></span> <span data-ttu-id="cdacc-547">目前不支援使用 RTMP 或 Smooth Streaming 內嵌多個音軌。</span><span class="sxs-lookup"><span data-stu-id="cdacc-547">Ingesting multiple audio tracks with RTMP or Smooth streaming is currently not supported.</span></span> <span data-ttu-id="cdacc-548">使用 [內部部署即時編碼器](media-services-live-streaming-with-onprem-encoders.md)執行即時編碼時，並沒有這類限制，因為傳送至 AMS 的所有項目都會通過通道，而不需要進一步處理。</span><span class="sxs-lookup"><span data-stu-id="cdacc-548">When doing live encoding with [on-premises live encodes](media-services-live-streaming-with-onprem-encoders.md), there is no such limitation because whatever is sent to AMS passes through a channel without any further processing.</span></span>
* <span data-ttu-id="cdacc-549">編碼預設採用「畫面播放速率上限」30fps 的概念。</span><span class="sxs-lookup"><span data-stu-id="cdacc-549">The encoding preset uses the notion of "max frame rate" of 30 fps.</span></span> <span data-ttu-id="cdacc-550">因此，如果輸入是 60fps/59.97i，輸入畫面會降低/去交錯為 30/29.97 fps。</span><span class="sxs-lookup"><span data-stu-id="cdacc-550">So if the input is 60fps/59.97i, the input frames are dropped/de-interlaced to 30/29.97 fps.</span></span> <span data-ttu-id="cdacc-551">如果輸入是 50fps/50i，輸入畫面會降低/去交錯為 25 fps。</span><span class="sxs-lookup"><span data-stu-id="cdacc-551">If the input is 50fps/50i, the input frames are dropped/de-interlaced to 25 fps.</span></span> <span data-ttu-id="cdacc-552">如果輸入是 25 fps，輸出會保持為 25 fps。</span><span class="sxs-lookup"><span data-stu-id="cdacc-552">If the input is 25 fps, output remains at 25 fps.</span></span>
* <span data-ttu-id="cdacc-553">切記在完成時停止您的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-553">Don't forget to STOP YOUR CHANNELS when done.</span></span> <span data-ttu-id="cdacc-554">如果您忘記，計費會繼續。</span><span class="sxs-lookup"><span data-stu-id="cdacc-554">If you don't, billing will continue.</span></span>

## <a name="known-issues"></a><span data-ttu-id="cdacc-555">已知問題</span><span class="sxs-lookup"><span data-stu-id="cdacc-555">Known Issues</span></span>
* <span data-ttu-id="cdacc-556">通道啟動時間也改進至平均 2 分鐘，但是有時候因為需求增加，可能仍然需要多達 20 分鐘以上的時間。</span><span class="sxs-lookup"><span data-stu-id="cdacc-556">Channel start up time has been improved to an average of 2 minutes, but at times of increased demand could still take up to 20+ minutes.</span></span>
* <span data-ttu-id="cdacc-557">為專業的廣播者建立 RTP 支援。</span><span class="sxs-lookup"><span data-stu-id="cdacc-557">RTP support is catered towards professional broadcasters.</span></span> <span data-ttu-id="cdacc-558">請先檢閱 [這個](https://azure.microsoft.com/blog/2015/04/13/an-introduction-to-live-encoding-with-azure-media-services/) 部落格中的 RTP 注意事項。</span><span class="sxs-lookup"><span data-stu-id="cdacc-558">Please review the notes on RTP in [this](https://azure.microsoft.com/blog/2015/04/13/an-introduction-to-live-encoding-with-azure-media-services/) blog.</span></span>
* <span data-ttu-id="cdacc-559">靜態圖像映像應該符合 [這裡](media-services-manage-live-encoder-enabled-channels.md#default_slate)所述的限制。</span><span class="sxs-lookup"><span data-stu-id="cdacc-559">Slate images should conform to restrictions described [here](media-services-manage-live-encoder-enabled-channels.md#default_slate).</span></span> <span data-ttu-id="cdacc-560">如果您嘗試建立預設 slate 大於 1920 x 1080 的通道，要求最後將會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="cdacc-560">If you attempt create a Channel with a default slate that is larger than 1920x1080, the request will eventually error out.</span></span>
* <span data-ttu-id="cdacc-561">再次重申....切記在完成串流時停止您的通道。</span><span class="sxs-lookup"><span data-stu-id="cdacc-561">Once again....don't forget to STOP YOUR CHANNELS when you are done streaming.</span></span> <span data-ttu-id="cdacc-562">如果您忘記，計費會繼續。</span><span class="sxs-lookup"><span data-stu-id="cdacc-562">If you don't, billing will continue.</span></span>

## <a name="next-step"></a><span data-ttu-id="cdacc-563">後續步驟</span><span class="sxs-lookup"><span data-stu-id="cdacc-563">Next step</span></span>
<span data-ttu-id="cdacc-564">檢閱媒體服務學習路徑。</span><span class="sxs-lookup"><span data-stu-id="cdacc-564">Review Media Services learning paths.</span></span>

[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="cdacc-565">提供意見反應</span><span class="sxs-lookup"><span data-stu-id="cdacc-565">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="cdacc-566">相關主題</span><span class="sxs-lookup"><span data-stu-id="cdacc-566">Related topics</span></span>
[<span data-ttu-id="cdacc-567">使用 Azure 媒體服務傳遞即時串流事件</span><span class="sxs-lookup"><span data-stu-id="cdacc-567">Delivering Live Streaming Events with Azure Media Services</span></span>](media-services-overview.md)

[<span data-ttu-id="cdacc-568">使用入口網站建立通道，以執行從單一位元速率到自適性串流的即時編碼</span><span class="sxs-lookup"><span data-stu-id="cdacc-568">Create channels that perform live encoding from a singe bitrate to adaptive bitrate stream with Portal</span></span>](media-services-portal-creating-live-encoder-enabled-channel.md)

[<span data-ttu-id="cdacc-569">使用 .NET SDK 建立通道，以執行從單一位元速率到自適性串流的即時編碼</span><span class="sxs-lookup"><span data-stu-id="cdacc-569">Create channels that perform live encoding from a singe bitrate to adaptive bitrate stream with .NET SDK</span></span>](media-services-dotnet-creating-live-encoder-enabled-channel.md)

[<span data-ttu-id="cdacc-570">使用 REST API 管理通道 (英文)</span><span class="sxs-lookup"><span data-stu-id="cdacc-570">Manage channels with REST API</span></span>](https://docs.microsoft.com/rest/api/media/operations/channel)
 
[<span data-ttu-id="cdacc-571">媒體服務概念</span><span class="sxs-lookup"><span data-stu-id="cdacc-571">Media Services Concepts</span></span>](media-services-concepts.md)

[<span data-ttu-id="cdacc-572">Azure 媒體服務的分散 MP4 即時內嵌規格</span><span class="sxs-lookup"><span data-stu-id="cdacc-572">Azure Media Services Fragmented MP4 Live Ingest Specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[live-overview]: ./media/media-services-manage-live-encoder-enabled-channels/media-services-live-streaming-new.png

