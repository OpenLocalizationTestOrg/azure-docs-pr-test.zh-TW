---
title: "使用 Azure 媒體服務之即時串流的概觀 | Microsoft Docs"
description: "本主題提供了使用 Azure 媒體服務之即時串流的概觀。"
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: fb63502e-914d-4c1f-853c-4a7831bb08e8
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 6f500f25129470a679c75cae6cd1abc9d71b72a7
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="overview-of-live-streaming-using-azure-media-services"></a><span data-ttu-id="177f9-103">使用 Azure 媒體服務之即時串流的概觀</span><span class="sxs-lookup"><span data-stu-id="177f9-103">Overview of Live Streaming using Azure Media Services</span></span>
## <a name="overview"></a><span data-ttu-id="177f9-104">概觀</span><span class="sxs-lookup"><span data-stu-id="177f9-104">Overview</span></span>
<span data-ttu-id="177f9-105">使用 Azure 媒體服務傳遞即時串流時，通常涉及下列元件：</span><span class="sxs-lookup"><span data-stu-id="177f9-105">When delivering live streaming events with Azure Media Services the following components are commonly involved:</span></span>

* <span data-ttu-id="177f9-106">相機，用來廣播事件。</span><span class="sxs-lookup"><span data-stu-id="177f9-106">A camera that is used to broadcast an event.</span></span>
* <span data-ttu-id="177f9-107">即時視訊編碼器，它會將相機中的訊號轉換成資料流，然後再傳送至即時資料流服務。</span><span class="sxs-lookup"><span data-stu-id="177f9-107">A live video encoder that converts signals from the camera to streams that are sent to a live streaming service.</span></span>

    <span data-ttu-id="177f9-108">(選擇性) 多個即時同步處理的編碼器。</span><span class="sxs-lookup"><span data-stu-id="177f9-108">Optionally, multiple live time synchronized encoders.</span></span> <span data-ttu-id="177f9-109">針對某些需要相當高度可用性與高品質經驗的重要即時事件，建議使用主動對主動備援編碼器搭配時間同步處理，以便順利進行容錯移轉，而不會遺失資料。</span><span class="sxs-lookup"><span data-stu-id="177f9-109">For certain critical live events that demand very high availability and quality of experience, it is recommended to employ active-active redundant encoders with time synchronization to achieve seamless failover with no data loss.</span></span>
* <span data-ttu-id="177f9-110">即時串流服務可讓您執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="177f9-110">A live streaming service that enables you to do the following:</span></span>

  * <span data-ttu-id="177f9-111">使用各種即時串流處理通訊協定 (例如 RTMP 或 Smooth Streaming) 擷取即時內容，</span><span class="sxs-lookup"><span data-stu-id="177f9-111">ingest live content using various live streaming protocols (for example RTMP or Smooth Streaming),</span></span>
  * <span data-ttu-id="177f9-112">(選擇性) 將您的串流編碼成調適性位元速率串流</span><span class="sxs-lookup"><span data-stu-id="177f9-112">(optionally) encode your stream into adaptive bitrate stream</span></span>
  * <span data-ttu-id="177f9-113">預覽您的即時串流，</span><span class="sxs-lookup"><span data-stu-id="177f9-113">preview your live stream,</span></span>
  * <span data-ttu-id="177f9-114">記錄並儲存擷取的內容以於稍後進行串流 (隨選視訊)</span><span class="sxs-lookup"><span data-stu-id="177f9-114">record and store the ingested content in order to be streamed later (Video-on-Demand)</span></span>
  * <span data-ttu-id="177f9-115">透過一般串流通訊協定 (例如，MPEG DASH、Smooth、HLS) 直接將內容傳遞給客戶，或傳遞至內容傳遞網路 (CDN) 供進一步的發佈。</span><span class="sxs-lookup"><span data-stu-id="177f9-115">deliver the content through common streaming protocols (for example, MPEG DASH, Smooth, HLS) directly to your customers, or to a Content Delivery Network (CDN) for further distribution.</span></span>

<span data-ttu-id="177f9-116">**Microsoft Azure 媒體服務** (AMS) 提供擷取、編碼、預覽、儲存和傳遞即時串流內容的能力。</span><span class="sxs-lookup"><span data-stu-id="177f9-116">**Microsoft Azure Media Services** (AMS) provides the ability to ingest,  encode, preview, store, and deliver your live streaming content.</span></span>

<span data-ttu-id="177f9-117">當您將內容傳遞給客戶時，您的目標是在不同的網路條件下將高品質的視訊傳遞到各種裝置。</span><span class="sxs-lookup"><span data-stu-id="177f9-117">When delivering your content to customers your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="177f9-118">為達成此目的，請使用即時編碼器將您的串流編碼成多位元速率 (調適性位元速率) 視訊串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-118">To achieve this, use live encoders to encode your stream to a multi-bitrate (adaptive bitrate) video stream.</span></span>  <span data-ttu-id="177f9-119">請注意不同裝置上的串流，使用媒體服務 [動態封裝](media-services-dynamic-packaging-overview.md) 將串流動態地重新封裝至不同的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="177f9-119">To take care of streaming on different devices, use Media Services [dynamic packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream to different protocols.</span></span> <span data-ttu-id="177f9-120">媒體服務支援傳遞下列自適性串流技術：HTTP 即時串流 (HLS)、Smooth Streaming、MPEG DASH。</span><span class="sxs-lookup"><span data-stu-id="177f9-120">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, MPEG DASH.</span></span>

<span data-ttu-id="177f9-121">在 Azure 媒體服務中，**通道**、**程式**及 **StreamingEndpoints** 會處理所有的即時串流功能，包括內嵌、格式化、DVR、安全性、延展性和備援能力。</span><span class="sxs-lookup"><span data-stu-id="177f9-121">In Azure Media Services, **Channels**, **Programs**, and **StreamingEndpoints** handle all the live streaming functionalities including ingest, formatting, DVR, security, scalability and redundancy.</span></span>

<span data-ttu-id="177f9-122">在 Azure 媒體服務中， **通道** 代表處理即時串流內容的管線。</span><span class="sxs-lookup"><span data-stu-id="177f9-122">A **Channel** represents a pipeline for processing live streaming content.</span></span> <span data-ttu-id="177f9-123">通道可以用下列方式接收即時輸入串流：</span><span class="sxs-lookup"><span data-stu-id="177f9-123">A Channel can receive a live input streams in the following ways:</span></span>

* <span data-ttu-id="177f9-124">內部部署即時編碼器會傳送多位元速率 **RTMP** 或 **Smooth Streaming** (分散的 MP4) 到針對**即時通行**傳遞所設定的通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-124">An on-premises live encoder sends multi-bitrate **RTMP** or **Smooth Streaming** (fragmented MP4) to the Channel that is configured for **pass-through** delivery.</span></span> <span data-ttu-id="177f9-125">**即時通行**傳遞就是擷取的串流會通過**通道**，無需進一步的處理。</span><span class="sxs-lookup"><span data-stu-id="177f9-125">The **pass-through** delivery is when the ingested streams pass through **Channel**s without any further processing.</span></span> <span data-ttu-id="177f9-126">您可以使用下列輸出多位元速率 Smooth Streaming 的即時編碼器：MediaExcel、Ateme、Imagine Communications、Envivio、Cisco 和 Elemental。</span><span class="sxs-lookup"><span data-stu-id="177f9-126">You can use the following live encoders that output multi-bitrate Smooth Streaming: MediaExcel, Ateme, Imagine Communications, Envivio, Cisco and Elemental.</span></span> <span data-ttu-id="177f9-127">下列即時編碼器會輸出 RTMP：Adobe Flash Media Live Encoder (FMLE)、Telestream Wirecast、Haivision、Teradek 和 Tricaster 轉碼器。</span><span class="sxs-lookup"><span data-stu-id="177f9-127">The following live encoders output RTMP: Adobe Flash Media Live Encoder (FMLE), Telestream Wirecast, Haivision, Teradek and Tricaster transcoders.</span></span>  <span data-ttu-id="177f9-128">即時編碼器也會將單一位元速率串流傳送至無法用於即時編碼的通道，但是不建議您使用此方法。</span><span class="sxs-lookup"><span data-stu-id="177f9-128">A live encoder can also send a single bitrate stream to a channel that is not enabled for live encoding, but that is not recommended.</span></span> <span data-ttu-id="177f9-129">接到要求時，媒體服務會傳遞串流給客戶。</span><span class="sxs-lookup"><span data-stu-id="177f9-129">When requested, Media Services delivers the stream to customers.</span></span>

  > [!NOTE]
  > <span data-ttu-id="177f9-130">如果您在很長一段時間內進行多個事件，而且已投資內部部署編碼器時，使用傳遞方法是進行即時串流的最經濟實惠方式。</span><span class="sxs-lookup"><span data-stu-id="177f9-130">Using a pass-through method is the most economical way to do live streaming when you are doing multiple events over a long period of time, and you have already invested in on-premises encoders.</span></span> <span data-ttu-id="177f9-131">請參閱 [價格](https://azure.microsoft.com/pricing/details/media-services/) 詳細資料。</span><span class="sxs-lookup"><span data-stu-id="177f9-131">See [pricing](https://azure.microsoft.com/pricing/details/media-services/) details.</span></span>
  > 
  > 
* <span data-ttu-id="177f9-132">內部部署即時編碼器會將單一位元速率串流傳送至通道，可以使用下列格式之一，以媒體服務執行即時編碼：RTMP 或 Smooth Streaming (分散的 MP4)。</span><span class="sxs-lookup"><span data-stu-id="177f9-132">An on-premises live encoder sends a single-bitrate stream to the Channel that is enabled to perform live encoding with Media Services in one of the following formats: RTMP or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="177f9-133">也支援 RTP (MPEG-TS)，可提供您連接至 Azure 資料中心的專用連接。</span><span class="sxs-lookup"><span data-stu-id="177f9-133">RTP (MPEG-TS) is also supported, provided you have a dedicated connection to the Azure data center.</span></span> <span data-ttu-id="177f9-134">下列包含 RTMP 輸出的即時編碼器已知可與以下類型的通道協同作業：Telestream Wirecast 和 FMLE。</span><span class="sxs-lookup"><span data-stu-id="177f9-134">The following live encoders with RTMP output are known to work with channels of this type: Telestream Wirecast, FMLE.</span></span> <span data-ttu-id="177f9-135">通道接著會執行即時編碼，將連入的單一位元速率串流編碼成多位元速率 (自動調整) 視訊串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-135">The Channel then performs live encoding of the incoming single bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="177f9-136">接到要求時，媒體服務會傳遞串流給客戶。</span><span class="sxs-lookup"><span data-stu-id="177f9-136">When requested, Media Services delivers the stream to customers.</span></span>

<span data-ttu-id="177f9-137">自媒體服務 2.10 版起，當您建立通道時，您可以指定您希望通道接收輸入串流的方式，以及您是否想要通道執行串流的即時編碼。</span><span class="sxs-lookup"><span data-stu-id="177f9-137">Starting with the Media Services 2.10 release, when you create a Channel, you can specify in which way you want for your channel to receive the input stream and whether or not you want for the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="177f9-138">您有兩個選擇：</span><span class="sxs-lookup"><span data-stu-id="177f9-138">You have two options:</span></span>

* <span data-ttu-id="177f9-139">**無** (傳遞) – 如果您想要使用會輸出多位元速率串流 (傳遞串流) 的內部部署即時編碼器，請指定這個值。</span><span class="sxs-lookup"><span data-stu-id="177f9-139">**None** (pass-through) – Specify this value, if you plan to use an on-premises live encoder which will output multi-bitrate stream (a pass-through stream).</span></span> <span data-ttu-id="177f9-140">在此情況下，連入的串流會傳遞至輸出，無須任何編碼。</span><span class="sxs-lookup"><span data-stu-id="177f9-140">In this case, the incoming stream passed through to the output without any encoding.</span></span> <span data-ttu-id="177f9-141">這是在 2.10 版以前的通道行為。</span><span class="sxs-lookup"><span data-stu-id="177f9-141">This is the behavior of a Channel prior to 2.10 release.</span></span>  
* <span data-ttu-id="177f9-142">**標準** – 如果您打算使用媒體服務將單一位元速率即時串流編碼成多位元速率串流，請選擇這個值。</span><span class="sxs-lookup"><span data-stu-id="177f9-142">**Standard** – Choose this value, if you plan to use Media Services to encode your single bitrate live stream to multi-bitrate stream.</span></span> <span data-ttu-id="177f9-143">對於快速相應增加的非頻繁事件來說，這是較為經濟的方法。</span><span class="sxs-lookup"><span data-stu-id="177f9-143">This method is more economical for scaling up quickly for infrequent events.</span></span> <span data-ttu-id="177f9-144">請注意即時編碼有計費影響，而且您應該記住將即時編碼通道保持在「執行中」狀態會產生費用。</span><span class="sxs-lookup"><span data-stu-id="177f9-144">Be aware that there is a billing impact for live encoding and you should remember that leaving a live encoding channel in the "Running" state will incur billing charges.</span></span>  <span data-ttu-id="177f9-145">建議您在即時串流事件完成之後立即停止執行的通道，以避免額外的每小時費用。</span><span class="sxs-lookup"><span data-stu-id="177f9-145">It is recommended that you immediately stop your running channels after your live streaming event is complete to avoid extra hourly charges.</span></span>

## <a name="comparison-of-channel-types"></a><span data-ttu-id="177f9-146">通道類型的比較</span><span class="sxs-lookup"><span data-stu-id="177f9-146">Comparison of Channel Types</span></span>
<span data-ttu-id="177f9-147">下表提供了媒體服務所支援的兩種通道類型比較指南</span><span class="sxs-lookup"><span data-stu-id="177f9-147">Following table provides a guide to comparing the two Channel types supported in Media Services</span></span>

| <span data-ttu-id="177f9-148">功能</span><span class="sxs-lookup"><span data-stu-id="177f9-148">Feature</span></span> | <span data-ttu-id="177f9-149">傳遞通道</span><span class="sxs-lookup"><span data-stu-id="177f9-149">Pass-through Channel</span></span> | <span data-ttu-id="177f9-150">標準通道</span><span class="sxs-lookup"><span data-stu-id="177f9-150">Standard Channel</span></span> |
| --- | --- | --- |
| <span data-ttu-id="177f9-151">單一位元速率輸入會在雲端編碼為多重位元速率</span><span class="sxs-lookup"><span data-stu-id="177f9-151">Single bitrate input is encoded into multiple bitrates in the cloud</span></span> |<span data-ttu-id="177f9-152">否</span><span class="sxs-lookup"><span data-stu-id="177f9-152">No</span></span> |<span data-ttu-id="177f9-153">是</span><span class="sxs-lookup"><span data-stu-id="177f9-153">Yes</span></span> |
| <span data-ttu-id="177f9-154">最大解析度、分層數目</span><span class="sxs-lookup"><span data-stu-id="177f9-154">Maximum resolution, number of layers</span></span> |<span data-ttu-id="177f9-155">1080p、8 層、60+fps</span><span class="sxs-lookup"><span data-stu-id="177f9-155">1080p, 8 layers, 60+fps</span></span> |<span data-ttu-id="177f9-156">720p、6 層、30 fps</span><span class="sxs-lookup"><span data-stu-id="177f9-156">720p, 6 layers, 30 fps</span></span> |
| <span data-ttu-id="177f9-157">輸入通訊協定</span><span class="sxs-lookup"><span data-stu-id="177f9-157">Input protocols</span></span> |<span data-ttu-id="177f9-158">RTMP、Smooth Streaming</span><span class="sxs-lookup"><span data-stu-id="177f9-158">RTMP, Smooth Streaming</span></span> |<span data-ttu-id="177f9-159">RTMP、Smooth Streaming 和 RTP</span><span class="sxs-lookup"><span data-stu-id="177f9-159">RTMP, Smooth Streaming, and RTP</span></span> |
| <span data-ttu-id="177f9-160">價格</span><span class="sxs-lookup"><span data-stu-id="177f9-160">Price</span></span> |<span data-ttu-id="177f9-161">請參閱 [定價頁面](https://azure.microsoft.com/pricing/details/media-services/) 並按一下 [即時影片] 索引標籤</span><span class="sxs-lookup"><span data-stu-id="177f9-161">See the [pricing page](https://azure.microsoft.com/pricing/details/media-services/) and click on "Live Video" tab</span></span> |<span data-ttu-id="177f9-162">請參閱 [定價頁面](https://azure.microsoft.com/pricing/details/media-services/)</span><span class="sxs-lookup"><span data-stu-id="177f9-162">See the [pricing page](https://azure.microsoft.com/pricing/details/media-services/)</span></span> |
| <span data-ttu-id="177f9-163">最長執行時間</span><span class="sxs-lookup"><span data-stu-id="177f9-163">Maximum run time</span></span> |<span data-ttu-id="177f9-164">全天候</span><span class="sxs-lookup"><span data-stu-id="177f9-164">24x7</span></span> |<span data-ttu-id="177f9-165">8 小時</span><span class="sxs-lookup"><span data-stu-id="177f9-165">8 hours</span></span> |
| <span data-ttu-id="177f9-166">插入靜態圖像支援</span><span class="sxs-lookup"><span data-stu-id="177f9-166">Support for inserting slates</span></span> |<span data-ttu-id="177f9-167">否</span><span class="sxs-lookup"><span data-stu-id="177f9-167">No</span></span> |<span data-ttu-id="177f9-168">是</span><span class="sxs-lookup"><span data-stu-id="177f9-168">Yes</span></span> |
| <span data-ttu-id="177f9-169">廣告訊號支援</span><span class="sxs-lookup"><span data-stu-id="177f9-169">Support for ad signaling</span></span> |<span data-ttu-id="177f9-170">否</span><span class="sxs-lookup"><span data-stu-id="177f9-170">No</span></span> |<span data-ttu-id="177f9-171">是</span><span class="sxs-lookup"><span data-stu-id="177f9-171">Yes</span></span> |
| <span data-ttu-id="177f9-172">傳遞 CEA 608/708 字幕</span><span class="sxs-lookup"><span data-stu-id="177f9-172">Pass-through CEA 608/708 captions</span></span> |<span data-ttu-id="177f9-173">是</span><span class="sxs-lookup"><span data-stu-id="177f9-173">Yes</span></span> |<span data-ttu-id="177f9-174">是</span><span class="sxs-lookup"><span data-stu-id="177f9-174">Yes</span></span> |
| <span data-ttu-id="177f9-175">在比重摘要內能從短暫延遲中復原的能力</span><span class="sxs-lookup"><span data-stu-id="177f9-175">Ability to recover from brief stalls in contribution feed</span></span> |<span data-ttu-id="177f9-176">是</span><span class="sxs-lookup"><span data-stu-id="177f9-176">Yes</span></span> |<span data-ttu-id="177f9-177">否 (經過 6 秒以上且未有任何輸入資料時，通道便會中斷)</span><span class="sxs-lookup"><span data-stu-id="177f9-177">No (Channel will begin slating after 6+ seconds w/o input data)</span></span> |
| <span data-ttu-id="177f9-178">支援未統一輸入的 GOP</span><span class="sxs-lookup"><span data-stu-id="177f9-178">Support for non-uniform input GOPs</span></span> |<span data-ttu-id="177f9-179">是</span><span class="sxs-lookup"><span data-stu-id="177f9-179">Yes</span></span> |<span data-ttu-id="177f9-180">否 – 輸入必須為固定式 2 秒 GOP</span><span class="sxs-lookup"><span data-stu-id="177f9-180">No – input must be fixed 2sec GOPs</span></span> |
| <span data-ttu-id="177f9-181">支援變動畫面播放速率輸入</span><span class="sxs-lookup"><span data-stu-id="177f9-181">Support for variable frame rate input</span></span> |<span data-ttu-id="177f9-182">是</span><span class="sxs-lookup"><span data-stu-id="177f9-182">Yes</span></span> |<span data-ttu-id="177f9-183">否 – 輸入必須為固定畫面播放速率。</span><span class="sxs-lookup"><span data-stu-id="177f9-183">No – input must be fixed frame rate.</span></span><br/><span data-ttu-id="177f9-184">輕微的差異可以接受，例如：處於高速動態場景的情況。</span><span class="sxs-lookup"><span data-stu-id="177f9-184">Minor variations are tolerated, for example, during high motion scenes.</span></span> <span data-ttu-id="177f9-185">但編碼器無法降至 10 個畫面/秒的標準。</span><span class="sxs-lookup"><span data-stu-id="177f9-185">But encoder cannot drop to 10 frames/sec.</span></span> |
| <span data-ttu-id="177f9-186">在輸入摘要遺失時自動關閉通道</span><span class="sxs-lookup"><span data-stu-id="177f9-186">Auto-shutoff of Channels when input feed is lost</span></span> |<span data-ttu-id="177f9-187">否</span><span class="sxs-lookup"><span data-stu-id="177f9-187">No</span></span> |<span data-ttu-id="177f9-188">經過 12 個小時，如果沒有程式仍在執行</span><span class="sxs-lookup"><span data-stu-id="177f9-188">After 12 hours, if there is no Program running</span></span> |

## <a name="working-with-channels-that-receive-multi-bitrate-live-stream-from-on-premises-encoders-pass-through"></a><span data-ttu-id="177f9-189">使用可從內部部署編碼器接收多位元速率即時串流的通道 (傳遞)</span><span class="sxs-lookup"><span data-stu-id="177f9-189">Working with Channels that receive multi-bitrate live stream from on-premises encoders (pass-through)</span></span>
<span data-ttu-id="177f9-190">下圖顯示 **即時通行** 工作流程中涉及的 AMS 平台主要部分。</span><span class="sxs-lookup"><span data-stu-id="177f9-190">The following diagram shows the major parts of the AMS platform that are involved in the **pass-through** workflow.</span></span>

![即時工作流程](./media/media-services-live-streaming-workflow/media-services-live-streaming-current.png)

<span data-ttu-id="177f9-192">如需詳細資訊，請參閱 [使用通道，從內部部署編碼器接收多位元速率即時串流](media-services-live-streaming-with-onprem-encoders.md)。</span><span class="sxs-lookup"><span data-stu-id="177f9-192">For more information, see [Working with Channels that Receive Multi-bitrate Live Stream from On-premises Encoders](media-services-live-streaming-with-onprem-encoders.md).</span></span>

## <a name="working-with-channels-that-are-enabled-to-perform-live-encoding-with-azure-media-services"></a><span data-ttu-id="177f9-193">使用啟用的通道來以 Azure 媒體服務執行即時編碼</span><span class="sxs-lookup"><span data-stu-id="177f9-193">Working with Channels that are enabled to perform live encoding with Azure Media Services</span></span>
<span data-ttu-id="177f9-194">下圖顯示 AMS 平台的主要部分，與通道可以使用媒體服務執行即時編碼的即時串流工作流程有關。</span><span class="sxs-lookup"><span data-stu-id="177f9-194">The following diagram shows the major parts of the AMS platform that are involved in Live Streaming workflow where a Channel is enabled to perform live encoding with Media Services.</span></span>

![即時工作流程](./media/media-services-live-streaming-workflow/media-services-live-streaming-new.png)

<span data-ttu-id="177f9-196">如需詳細資訊，請參閱 [使用啟用的通道來以 Azure 媒體服務執行即時編碼](media-services-manage-live-encoder-enabled-channels.md)。</span><span class="sxs-lookup"><span data-stu-id="177f9-196">For more information, see [Working with Channels that are Enabled to Perform Live Encoding with Azure Media Services](media-services-manage-live-encoder-enabled-channels.md).</span></span>

## <a name="description-of-a-channel-and-its-related-components"></a><span data-ttu-id="177f9-197">通道和其相關元件的說明</span><span class="sxs-lookup"><span data-stu-id="177f9-197">Description of a Channel and its related components</span></span>
### <a name="channel"></a><span data-ttu-id="177f9-198">通道</span><span class="sxs-lookup"><span data-stu-id="177f9-198">Channel</span></span>
<span data-ttu-id="177f9-199">在媒體服務中， [通道](https://docs.microsoft.com/rest/api/media/operations/channel)負責處理即時資料流內容。</span><span class="sxs-lookup"><span data-stu-id="177f9-199">In Media Services, [Channel](https://docs.microsoft.com/rest/api/media/operations/channel)s are responsible for processing live streaming content.</span></span> <span data-ttu-id="177f9-200">通道會提供輸入端點 (內嵌 URL)，接著您再提供給即時轉碼器。</span><span class="sxs-lookup"><span data-stu-id="177f9-200">A Channel provides an input endpoint (ingest URL) that you then provide to a live transcoder.</span></span> <span data-ttu-id="177f9-201">通道從即時轉碼器接收即時輸入資料流，再透過一或多個 StreamingEndpoint 進行串流處理。</span><span class="sxs-lookup"><span data-stu-id="177f9-201">The channel receives live input streams from the live transcoder and makes it available for streaming through one or more StreamingEndpoints.</span></span> <span data-ttu-id="177f9-202">通道也會提供預覽端點 (預覽 URL)，您可在進一步處理和傳遞之前先用來預覽及驗證您的資料流。</span><span class="sxs-lookup"><span data-stu-id="177f9-202">Channels also provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="177f9-203">您可在建立通道時取得內嵌 URL 和預覽 URL。</span><span class="sxs-lookup"><span data-stu-id="177f9-203">You can get the ingest URL and the preview URL when you create the channel.</span></span> <span data-ttu-id="177f9-204">通道不需處於啟動狀態也可以取得這些 URL。</span><span class="sxs-lookup"><span data-stu-id="177f9-204">To get these URLs, the channel does not have to be in the started state.</span></span> <span data-ttu-id="177f9-205">當您準備好要開始從即時轉碼器推播資料給通道時，就必須先啟動通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-205">When you are ready to start pushing data from a live transcoder into the channel, the channel must be started.</span></span> <span data-ttu-id="177f9-206">即時轉碼器開始內嵌資料後，您就可以預覽您的資料流。</span><span class="sxs-lookup"><span data-stu-id="177f9-206">Once the live transcoder starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="177f9-207">每個媒體服務帳戶可以包含多個通道、多個程式和多個 StreamingEndpoints。</span><span class="sxs-lookup"><span data-stu-id="177f9-207">Each Media Services account can contain multiple Channels, multiple Programs, and multiple StreamingEndpoints.</span></span> <span data-ttu-id="177f9-208">根據頻寬和安全性需求，StreamingEndpoint 服務可以專屬於一或多個通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-208">Depending on the bandwidth and security needs, StreamingEndpoint services can be dedicated to one or more channels.</span></span> <span data-ttu-id="177f9-209">任何 StreamingEndpoint 可以從任何通道中提取。</span><span class="sxs-lookup"><span data-stu-id="177f9-209">Any StreamingEndpoint can pull from any Channel.</span></span>

### <a name="program"></a><span data-ttu-id="177f9-210">程式</span><span class="sxs-lookup"><span data-stu-id="177f9-210">Program</span></span>
<span data-ttu-id="177f9-211">[程式](https://docs.microsoft.com/rest/api/media/operations/program) 可讓您控制即時資料流區段的發佈和儲存體。</span><span class="sxs-lookup"><span data-stu-id="177f9-211">A [Program](https://docs.microsoft.com/rest/api/media/operations/program) enables you to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="177f9-212">通道會管理程式。</span><span class="sxs-lookup"><span data-stu-id="177f9-212">Channels manage Programs.</span></span> <span data-ttu-id="177f9-213">通道和程式的關聯性非常類似於傳統媒體，此處的通道有常數內容資料流，而程式的範圍是該通道上的某些計時事件。</span><span class="sxs-lookup"><span data-stu-id="177f9-213">The Channel and Program relationship is very similar to traditional media where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>
<span data-ttu-id="177f9-214">您可以透過設定 **ArchiveWindowLength** 屬性，指定您想要保留已記錄程式內容的時數。</span><span class="sxs-lookup"><span data-stu-id="177f9-214">You can specify the number of hours you want to retain the recorded content for the program by setting the **ArchiveWindowLength** property.</span></span> <span data-ttu-id="177f9-215">此值最小可以設定為 5 分鐘，最大可以設定為 25 個小時。</span><span class="sxs-lookup"><span data-stu-id="177f9-215">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span>

<span data-ttu-id="177f9-216">ArchiveWindowLength 也指定用戶端可從目前即時位置往回搜尋的最大時間量。</span><span class="sxs-lookup"><span data-stu-id="177f9-216">ArchiveWindowLength also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="177f9-217">程式可以執行超過指定的時間量，但是超過此時間長度的內容會被持續捨棄。</span><span class="sxs-lookup"><span data-stu-id="177f9-217">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="177f9-218">此屬性的這個值也會決定用戶端資訊清單可以成長多長的時間。</span><span class="sxs-lookup"><span data-stu-id="177f9-218">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="177f9-219">每個程式都是與「資產」相關聯。</span><span class="sxs-lookup"><span data-stu-id="177f9-219">Each program is associated with an Asset.</span></span> <span data-ttu-id="177f9-220">若要發佈程式，您必須建立相關資產的定位器。</span><span class="sxs-lookup"><span data-stu-id="177f9-220">To publish the program you must create a locator for the associated asset.</span></span> <span data-ttu-id="177f9-221">擁有此定位器，可讓您建置可提供給用戶端的串流 URL。</span><span class="sxs-lookup"><span data-stu-id="177f9-221">Having this locator will enable you to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="177f9-222">通道支援最多三個同時執行的程式，因此您可以建立相同內送串流的多個封存。</span><span class="sxs-lookup"><span data-stu-id="177f9-222">A channel supports up to three concurrently running programs so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="177f9-223">這可讓您視需要發行和封存事件的不同部分。</span><span class="sxs-lookup"><span data-stu-id="177f9-223">This allows you to publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="177f9-224">例如，您的商務需求是封存 6 小時的程式，但只廣播最後 10 分鐘。</span><span class="sxs-lookup"><span data-stu-id="177f9-224">For example, your business requirement is to archive 6 hours of a program, but to broadcast only last 10 minutes.</span></span> <span data-ttu-id="177f9-225">為了達成此目的，您必須建立兩個同時執行的程式。</span><span class="sxs-lookup"><span data-stu-id="177f9-225">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="177f9-226">其中一個程式設定為封存 6 小時的事件，但是未發行該程式。</span><span class="sxs-lookup"><span data-stu-id="177f9-226">One program is set to archive 6 hours of the event but the program is not published.</span></span> <span data-ttu-id="177f9-227">另一個程式則設定為封存 10 分鐘，並發行程式。</span><span class="sxs-lookup"><span data-stu-id="177f9-227">The other program is set to archive for 10 minutes and this program is published.</span></span>

## <a name="billing-implications"></a><span data-ttu-id="177f9-228">計費影響</span><span class="sxs-lookup"><span data-stu-id="177f9-228">Billing Implications</span></span>
<span data-ttu-id="177f9-229">通道只要其狀態透過 API 轉換為「執行中」，即會開始計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-229">A channel begins billing as soon as it's state transitions to "Running" via the API.</span></span>  

<span data-ttu-id="177f9-230">下表顯示通道狀態如何對應至 API 和 Azure 入口網站的計費狀態。</span><span class="sxs-lookup"><span data-stu-id="177f9-230">The following table shows how Channel states map to billing states in the API and Azure portal.</span></span> <span data-ttu-id="177f9-231">請注意，API 和入口網站 UX 之間的狀態稍有不同。</span><span class="sxs-lookup"><span data-stu-id="177f9-231">Note that the states are slightly different between the API and Portal UX.</span></span> <span data-ttu-id="177f9-232">一旦通道透過 API 處於「執行中」狀態，或在 Azure 入口網站中處於「就緒」或「串流」狀態，就會開始計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-232">As soon as a channel is in the "Running" state via the API, or in the "Ready" or "Streaming" state in the Azure portal, billing will be active.</span></span>

<span data-ttu-id="177f9-233">若要停止通道進一步向您計費，您必須停止透過 API 或在 Azure 入口網站中的通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-233">To stop the Channel from billing you further, you have to Stop the Channel via the API or in the Azure portal.</span></span>
<span data-ttu-id="177f9-234">您必須負責在完成通道時停止您的通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-234">You are responsible for stopping your channels when you are done with the channel.</span></span> <span data-ttu-id="177f9-235">無法停止通道將會導致持續計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-235">Failure to stop the channel will result in continued billing.</span></span>

> [!NOTE]
> <span data-ttu-id="177f9-236">使用標準通道時，在輸入饋送遺失 12 小時之後且沒有執行任何程式時，AMS 會自動關閉仍處於「執行中」狀態的任何通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-236">When working with Standard channels, AMS will auto shutoff any Channel that is still in “Running” state 12 hours after the input feed is lost, and there are no Programs running.</span></span> <span data-ttu-id="177f9-237">不過，您將還是需要支付通道處於「執行中」狀態時間的費用。</span><span class="sxs-lookup"><span data-stu-id="177f9-237">However, you will still be billed for the time the Channel was in “Running” state.</span></span>
>
>

### <span data-ttu-id="177f9-238"><a id="states"></a>通道狀態和狀態如何對應至計費模式</span><span class="sxs-lookup"><span data-stu-id="177f9-238"><a id="states"></a>Channel states and how they map to the billing mode</span></span>
<span data-ttu-id="177f9-239">通道的目前狀態。</span><span class="sxs-lookup"><span data-stu-id="177f9-239">The current state of a Channel.</span></span> <span data-ttu-id="177f9-240">可能的值包括：</span><span class="sxs-lookup"><span data-stu-id="177f9-240">Possible values include:</span></span>

* <span data-ttu-id="177f9-241">**已停止**。</span><span class="sxs-lookup"><span data-stu-id="177f9-241">**Stopped**.</span></span> <span data-ttu-id="177f9-242">這是通道建立後的初始狀態 (除非在入口網站中選取自動啟動)。此狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-242">This is the initial state of the Channel after its creation (unless autostart was selected in the portal.) No billing occurs in this state.</span></span> <span data-ttu-id="177f9-243">在此狀態下，通道屬性可以更新，但是不允許串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-243">In this state, the Channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="177f9-244">**啟動中**。</span><span class="sxs-lookup"><span data-stu-id="177f9-244">**Starting**.</span></span> <span data-ttu-id="177f9-245">正在啟動通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-245">The Channel is being started.</span></span> <span data-ttu-id="177f9-246">此狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-246">No billing occurs in this state.</span></span> <span data-ttu-id="177f9-247">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-247">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="177f9-248">如果發生錯誤，通道會回到已停止狀態。</span><span class="sxs-lookup"><span data-stu-id="177f9-248">If an error occurs, the Channel returns to the Stopped state.</span></span>
* <span data-ttu-id="177f9-249">**執行中**。</span><span class="sxs-lookup"><span data-stu-id="177f9-249">**Running**.</span></span> <span data-ttu-id="177f9-250">通道能夠處理即時串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-250">The Channel is capable of processing live streams.</span></span> <span data-ttu-id="177f9-251">現在針對使用量計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-251">It is now billing usage.</span></span> <span data-ttu-id="177f9-252">您必須停止通道來防止進一步計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-252">You must stop the channel to prevent further billing.</span></span>
* <span data-ttu-id="177f9-253">**停止中**。</span><span class="sxs-lookup"><span data-stu-id="177f9-253">**Stopping**.</span></span> <span data-ttu-id="177f9-254">正在停止通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-254">The Channel is being stopped.</span></span> <span data-ttu-id="177f9-255">此暫時性狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-255">No billing occurs in this transient state.</span></span> <span data-ttu-id="177f9-256">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-256">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="177f9-257">**刪除中**。</span><span class="sxs-lookup"><span data-stu-id="177f9-257">**Deleting**.</span></span> <span data-ttu-id="177f9-258">正在刪除通道。</span><span class="sxs-lookup"><span data-stu-id="177f9-258">The Channel is being deleted.</span></span> <span data-ttu-id="177f9-259">此暫時性狀態中不會計費。</span><span class="sxs-lookup"><span data-stu-id="177f9-259">No billing occurs in this transient state.</span></span> <span data-ttu-id="177f9-260">在此狀態期間允許任何更新或串流。</span><span class="sxs-lookup"><span data-stu-id="177f9-260">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="177f9-261">下表顯示通道狀態如何對應至計費模式。</span><span class="sxs-lookup"><span data-stu-id="177f9-261">The following table shows how Channel states map to the billing mode.</span></span>

| <span data-ttu-id="177f9-262">通道狀態</span><span class="sxs-lookup"><span data-stu-id="177f9-262">Channel state</span></span> | <span data-ttu-id="177f9-263">入口網站 UI 指標</span><span class="sxs-lookup"><span data-stu-id="177f9-263">Portal UI Indicators</span></span> | <span data-ttu-id="177f9-264">會計費嗎？</span><span class="sxs-lookup"><span data-stu-id="177f9-264">Is it Billing?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="177f9-265">啟動中</span><span class="sxs-lookup"><span data-stu-id="177f9-265">Starting</span></span> |<span data-ttu-id="177f9-266">啟動中</span><span class="sxs-lookup"><span data-stu-id="177f9-266">Starting</span></span> |<span data-ttu-id="177f9-267">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="177f9-267">No (transient state)</span></span> |
| <span data-ttu-id="177f9-268">執行中</span><span class="sxs-lookup"><span data-stu-id="177f9-268">Running</span></span> |<span data-ttu-id="177f9-269">就緒 (沒有執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="177f9-269">Ready (no running programs)</span></span><br/><span data-ttu-id="177f9-270">或</span><span class="sxs-lookup"><span data-stu-id="177f9-270">or</span></span><br/><span data-ttu-id="177f9-271">串流 (至少一個執行中的程式)</span><span class="sxs-lookup"><span data-stu-id="177f9-271">Streaming (at least one running program)</span></span> |<span data-ttu-id="177f9-272">是</span><span class="sxs-lookup"><span data-stu-id="177f9-272">YES</span></span> |
| <span data-ttu-id="177f9-273">停止中</span><span class="sxs-lookup"><span data-stu-id="177f9-273">Stopping</span></span> |<span data-ttu-id="177f9-274">停止中</span><span class="sxs-lookup"><span data-stu-id="177f9-274">Stopping</span></span> |<span data-ttu-id="177f9-275">無 (暫時性狀態)</span><span class="sxs-lookup"><span data-stu-id="177f9-275">No (transient state)</span></span> |
| <span data-ttu-id="177f9-276">已停止</span><span class="sxs-lookup"><span data-stu-id="177f9-276">Stopped</span></span> |<span data-ttu-id="177f9-277">已停止</span><span class="sxs-lookup"><span data-stu-id="177f9-277">Stopped</span></span> |<span data-ttu-id="177f9-278">否</span><span class="sxs-lookup"><span data-stu-id="177f9-278">No</span></span> |

## <a name="media-services-learning-paths"></a><span data-ttu-id="177f9-279">媒體服務學習路徑</span><span class="sxs-lookup"><span data-stu-id="177f9-279">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="177f9-280">提供意見反應</span><span class="sxs-lookup"><span data-stu-id="177f9-280">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="177f9-281">相關主題</span><span class="sxs-lookup"><span data-stu-id="177f9-281">Related topics</span></span>
[<span data-ttu-id="177f9-282">Azure 媒體服務的分散 MP4 即時內嵌規格</span><span class="sxs-lookup"><span data-stu-id="177f9-282">Azure Media Services Fragmented MP4 Live Ingest Specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="177f9-283">使用啟用的通道來以 Azure 媒體服務執行即時編碼</span><span class="sxs-lookup"><span data-stu-id="177f9-283">Working with Channels that are Enabled to Perform Live Encoding with Azure Media Services</span></span>](media-services-manage-live-encoder-enabled-channels.md)

[<span data-ttu-id="177f9-284">使用通道，從內部部署編碼器接收多位元速率即時串流</span><span class="sxs-lookup"><span data-stu-id="177f9-284">Working with Channels that Receive Multi-bitrate Live Stream from On-premises Encoders</span></span>](media-services-live-streaming-with-onprem-encoders.md)

<span data-ttu-id="177f9-285">[配額和限制](media-services-quotas-and-limitations.md)。</span><span class="sxs-lookup"><span data-stu-id="177f9-285">[Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>  

[<span data-ttu-id="177f9-286">媒體服務概念</span><span class="sxs-lookup"><span data-stu-id="177f9-286">Media Services Concepts</span></span>](media-services-concepts.md)
