---
title: "Azure API 管理常見問題集 | Microsoft Docs"
description: "了解 Azure API 管理中常見問題、模式和最佳作法的答案。"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 2fa193cd-ea71-4b33-a5ca-1f55e5351e23
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: apimpm
ms.openlocfilehash: a0bf8995913511b0e14304a1259f13de4aa9e04b
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="azure-api-management-faqs"></a><span data-ttu-id="04fc1-103">Azure API 管理常見問題集</span><span class="sxs-lookup"><span data-stu-id="04fc1-103">Azure API Management FAQs</span></span>
<span data-ttu-id="04fc1-104">得到 Azure API 管理常見問題、模式和最佳作法的答案。</span><span class="sxs-lookup"><span data-stu-id="04fc1-104">Get the answers to common questions, patterns, and best practices for Azure API Management.</span></span>

## <a name="contact-us"></a><span data-ttu-id="04fc1-105">與我們連絡</span><span class="sxs-lookup"><span data-stu-id="04fc1-105">Contact us</span></span>
* [<span data-ttu-id="04fc1-106">如何向 Microsoft Azure API 管理小組詢問問題？</span><span class="sxs-lookup"><span data-stu-id="04fc1-106">How can I ask the Microsoft Azure API Management team a question?</span></span>](#how-can-i-ask-the-microsoft-azure-api-management-team-a-question)


## <a name="frequently-asked-questions"></a><span data-ttu-id="04fc1-107">常見問題集</span><span class="sxs-lookup"><span data-stu-id="04fc1-107">Frequently asked questions</span></span>
* [<span data-ttu-id="04fc1-108">功能預覽中是什麼意思？</span><span class="sxs-lookup"><span data-stu-id="04fc1-108">What does it mean when a feature is in preview?</span></span>](#what-does-it-mean-when-a-feature-is-in-preview)
* [<span data-ttu-id="04fc1-109">如何保護 API 管理閘道與後端服務之間的連線安全？</span><span class="sxs-lookup"><span data-stu-id="04fc1-109">How can I secure the connection between the API Management gateway and my back-end services?</span></span>](#how-can-i-secure-the-connection-between-the-api-management-gateway-and-my-back-end-services)
* [<span data-ttu-id="04fc1-110">如何將我的 API 管理服務執行個體複製到新的執行個體？</span><span class="sxs-lookup"><span data-stu-id="04fc1-110">How do I copy my API Management service instance to a new instance?</span></span>](#how-do-i-copy-my-api-management-service-instance-to-a-new-instance)
* [<span data-ttu-id="04fc1-111">我可以透過程式設計方式管理我的 API 管理執行個體嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-111">Can I manage my API Management instance programmatically?</span></span>](#can-i-manage-my-api-management-instance-programmatically)
* [<span data-ttu-id="04fc1-112">如何將使用者新增至 Administrators 群組？</span><span class="sxs-lookup"><span data-stu-id="04fc1-112">How do I add a user to the Administrators group?</span></span>](#how-do-i-add-a-user-to-the-administrators-group)
* [<span data-ttu-id="04fc1-113">為什麼「我想要新增」的原則無法用於原則編輯器？</span><span class="sxs-lookup"><span data-stu-id="04fc1-113">Why is the policy that I want to add unavailable in the policy editor?</span></span>](#why-is-the-policy-that-i-want-to-add-unavailable-in-the-policy-editor)
* [<span data-ttu-id="04fc1-114">如何在 API 管理中使用 API 版本設定？</span><span class="sxs-lookup"><span data-stu-id="04fc1-114">How do I use API versioning in API Management?</span></span>](#how-do-i-use-api-versioning-in-api-management)
* [<span data-ttu-id="04fc1-115">如何在單一 API 中設定多個環境？</span><span class="sxs-lookup"><span data-stu-id="04fc1-115">How do I set up multiple environments in a single API?</span></span>](#how-do-i-set-up-multiple-environments-in-a-single-api)
* [<span data-ttu-id="04fc1-116">可以使用 SOAP 搭配 API 管理嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-116">Can I use SOAP with API Management?</span></span>](#can-i-use-soap-with-api-management)
* [<span data-ttu-id="04fc1-117">API 管理閘道 IP 位址是否固定？我可以用在防火牆規則嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-117">Is the API Management gateway IP address constant? Can I use it in firewall rules?</span></span>](#is-the-api-management-gateway-ip-address-constant-can-i-use-it-in-firewall-rules)
* [<span data-ttu-id="04fc1-118">可以設定具有 AD FS 安全性的 OAUth 2.0 授權伺服器嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-118">Can I configure an OAuth 2.0 authorization server with AD FS security?</span></span>](#can-i-configure-an-oauth-20-authorization-server-with-adfs-security)
* [<span data-ttu-id="04fc1-119">API 管理在部署到多個地理位置時使用何種路由方法？</span><span class="sxs-lookup"><span data-stu-id="04fc1-119">What routing method does API Management use in deployments to multiple geographic locations?</span></span>](#what-routing-method-does-api-management-use-in-deployments-to-multiple-geographic-locations)
* [<span data-ttu-id="04fc1-120">可以使用 Azure Resource Manager 範本建立 API 管理服務執行個體嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-120">Can I use an Azure Resource Manager template to create an API Management service instance?</span></span>](#can-i-use-an-azure-resource-manager-template-to-create-an-api-management-service-instance)
* [<span data-ttu-id="04fc1-121">是否可以對後端使用自我簽署的 SSL 憑證？</span><span class="sxs-lookup"><span data-stu-id="04fc1-121">Can I use a self-signed SSL certificate for a back end?</span></span>](#can-i-use-a-self-signed-ssl-certificate-for-a-back-end)
* [<span data-ttu-id="04fc1-122">為什麼我在嘗試複製 GIT 儲存機制時會發生驗證失敗？</span><span class="sxs-lookup"><span data-stu-id="04fc1-122">Why do I get an authentication failure when I try to clone a GIT repository?</span></span>](#why-do-i-get-an-authentication-failure-when-i-try-to-clone-a-git-repository)
* [<span data-ttu-id="04fc1-123">API 管理是否能搭配 Azure ExpressRoute 運作？</span><span class="sxs-lookup"><span data-stu-id="04fc1-123">Does API Management work with Azure ExpressRoute?</span></span>](#does-api-management-work-with-azure-expressroute)
* [<span data-ttu-id="04fc1-124">為什麼將「API 管理」部署到 Resource Manager 樣式的 VNET 中時，我們需要在這些 VNET 中有一個專用子網路？</span><span class="sxs-lookup"><span data-stu-id="04fc1-124">Why do we require a dedicated subnet in Resource Manager style VNETs when API Management is deployed into them?</span></span>](#why-do-we-require-a-dedicated-subnet-in-resource-manager-style-vnets-when-api-management-is-deployed-into-them)
* [<span data-ttu-id="04fc1-125">將「API 管理」部署到 VNET 中時，所需的子網路大小下限是多少？</span><span class="sxs-lookup"><span data-stu-id="04fc1-125">What is the minimum subnet size needed when deploying API Management into a VNET?</span></span>](#what-is-the-minimum-subnet-size-needed-when-deploying-api-management-into-a-vnet)
* [<span data-ttu-id="04fc1-126">可以將 API 管理服務從某一個訂用帳戶移至另一個嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-126">Can I move an API Management service from one subscription to another?</span></span>](#can-i-move-an-api-management-service-from-one-subscription-to-another)
* [<span data-ttu-id="04fc1-127">匯入 API 有任何限制或已知的問題嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-127">Are there restrictions on or known issues with importing my API?</span></span>](#are-there-restrictions-on-or-known-issues-with-importing-my-api)

### <a name="how-can-i-ask-the-microsoft-azure-api-management-team-a-question"></a><span data-ttu-id="04fc1-128">如何向 Microsoft Azure API 管理小組詢問問題？</span><span class="sxs-lookup"><span data-stu-id="04fc1-128">How can I ask the Microsoft Azure API Management team a question?</span></span>
<span data-ttu-id="04fc1-129">您可以使用下列其中一個選項與我們連絡︰</span><span class="sxs-lookup"><span data-stu-id="04fc1-129">You can contact us by using one of these options:</span></span>

* <span data-ttu-id="04fc1-130">將問題張貼在我們的 [API 管理 MSDN 論壇](https://social.msdn.microsoft.com/forums/azure/home?forum=azureapimgmt)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-130">Post your questions in our [API Management MSDN forum](https://social.msdn.microsoft.com/forums/azure/home?forum=azureapimgmt).</span></span>
* <span data-ttu-id="04fc1-131">將電子郵件傳送至 <mailto:apimgmt@microsoft.com> 。</span><span class="sxs-lookup"><span data-stu-id="04fc1-131">Send an email to <mailto:apimgmt@microsoft.com>.</span></span>
* <span data-ttu-id="04fc1-132">在 [Azure 意見反應論壇](https://feedback.azure.com/forums/248703-api-management)將功能要求傳送給我們。</span><span class="sxs-lookup"><span data-stu-id="04fc1-132">Send us a feature request in the [Azure feedback forum](https://feedback.azure.com/forums/248703-api-management).</span></span>

### <a name="what-does-it-mean-when-a-feature-is-in-preview"></a><span data-ttu-id="04fc1-133">功能預覽中是什麼意思？</span><span class="sxs-lookup"><span data-stu-id="04fc1-133">What does it mean when a feature is in preview?</span></span>
<span data-ttu-id="04fc1-134">當功能預覽中時，這表示我們正積極尋求您對於功能運作情況的意見反應。</span><span class="sxs-lookup"><span data-stu-id="04fc1-134">When a feature is in preview, it means that we're actively seeking feedback on how the feature is working for you.</span></span> <span data-ttu-id="04fc1-135">預覽中的功能具備完整功能，但我們可能會進行中斷變更，以回應客戶的意見反應。</span><span class="sxs-lookup"><span data-stu-id="04fc1-135">A feature in preview is functionally complete, but it's possible that we'll make a breaking change in response to customer feedback.</span></span> <span data-ttu-id="04fc1-136">我們建議您不要依賴您生產環境中處於預覽狀態的功能。</span><span class="sxs-lookup"><span data-stu-id="04fc1-136">We recommend that you don't depend on a feature that is in preview in your production environment.</span></span> <span data-ttu-id="04fc1-137">如果您對於預覽功能有任何意見反應，請透過[如何向 Microsoft Azure API 管理小組詢問問題？](#how-can-i-ask-the-microsoft-azure-api-management-team-a-question)的其中一個連絡選項，讓我們知道。</span><span class="sxs-lookup"><span data-stu-id="04fc1-137">If you have any feedback on preview features, please let us know through one of the contact options in [How can I ask the Microsoft Azure API Management team a question?](#how-can-i-ask-the-microsoft-azure-api-management-team-a-question).</span></span>

### <a name="how-can-i-secure-the-connection-between-the-api-management-gateway-and-my-back-end-services"></a><span data-ttu-id="04fc1-138">如何保護 API 管理閘道與後端服務之間的連線安全？</span><span class="sxs-lookup"><span data-stu-id="04fc1-138">How can I secure the connection between the API Management gateway and my back-end services?</span></span>
<span data-ttu-id="04fc1-139">您有幾個選項可以保護 API 管理閘道與後端服務之間的連線安全。</span><span class="sxs-lookup"><span data-stu-id="04fc1-139">You have several options to secure the connection between the API Management gateway and your back-end services.</span></span> <span data-ttu-id="04fc1-140">您可以：</span><span class="sxs-lookup"><span data-stu-id="04fc1-140">You can:</span></span>

* <span data-ttu-id="04fc1-141">使用 HTTP 基本驗證。</span><span class="sxs-lookup"><span data-stu-id="04fc1-141">Use HTTP basic authentication.</span></span> <span data-ttu-id="04fc1-142">如需詳細資訊，請參閱 [設定 API 設定](api-management-howto-create-apis.md#configure-api-settings)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-142">For more information, see [Configure API settings](api-management-howto-create-apis.md#configure-api-settings).</span></span>
* <span data-ttu-id="04fc1-143">依照[如何使用 Azure API 管理中的用戶端憑證驗證保護後端服務](api-management-howto-mutual-certificates.md)所述，使用 SSL 相互驗證。</span><span class="sxs-lookup"><span data-stu-id="04fc1-143">Use SSL mutual authentication as described in [How to secure back-end services by using client certificate authentication in Azure API Management](api-management-howto-mutual-certificates.md).</span></span>
* <span data-ttu-id="04fc1-144">在您的後端服務上使用 IP 允許清單。</span><span class="sxs-lookup"><span data-stu-id="04fc1-144">Use IP whitelisting on your back-end service.</span></span> <span data-ttu-id="04fc1-145">如果您有標準或高階層 API 管理執行個體，閘道的 IP 位址會保持不變。</span><span class="sxs-lookup"><span data-stu-id="04fc1-145">If you have a Standard or Premium tier API Management instance, the IP address of the gateway remains constant.</span></span> <span data-ttu-id="04fc1-146">您可以設定您的允許清單來允許此 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="04fc1-146">You can set your whitelist to allow this IP address.</span></span> <span data-ttu-id="04fc1-147">您可以在 Azure 入口網站中的 [儀表板] 上取得API 管理執行個體的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="04fc1-147">You can get the IP address of your API Management instance on the Dashboard in the Azure portal.</span></span>
* <span data-ttu-id="04fc1-148">將您的 API 管理執行個體連接至 Azure 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="04fc1-148">Connect your API Management instance to an Azure Virtual Network.</span></span>

### <a name="how-do-i-copy-my-api-management-service-instance-to-a-new-instance"></a><span data-ttu-id="04fc1-149">如何將我的 API 管理服務執行個體複製到新的執行個體？</span><span class="sxs-lookup"><span data-stu-id="04fc1-149">How do I copy my API Management service instance to a new instance?</span></span>
<span data-ttu-id="04fc1-150">如果您要將 API 管理執行個體複製到新的執行個體，您有幾個選項可用。</span><span class="sxs-lookup"><span data-stu-id="04fc1-150">You have several options if you want to copy an API Management instance to a new instance.</span></span> <span data-ttu-id="04fc1-151">您可以：</span><span class="sxs-lookup"><span data-stu-id="04fc1-151">You can:</span></span>

* <span data-ttu-id="04fc1-152">使用 API 管理的備份與還原功能。</span><span class="sxs-lookup"><span data-stu-id="04fc1-152">Use the backup and restore function in API Management.</span></span> <span data-ttu-id="04fc1-153">如需詳細資訊，請參閱[如何在 Azure API 管理中使用服務備份和還原實作災害復原](api-management-howto-disaster-recovery-backup-restore.md)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-153">For more information, see [How to implement disaster recovery by using service backup and restore in Azure API Management](api-management-howto-disaster-recovery-backup-restore.md).</span></span>
* <span data-ttu-id="04fc1-154">使用 [API 管理 REST API](https://msdn.microsoft.com/library/azure/dn776326.aspx) 建立自己的備份和還原功能。</span><span class="sxs-lookup"><span data-stu-id="04fc1-154">Create your own backup and restore feature by using the [API Management REST API](https://msdn.microsoft.com/library/azure/dn776326.aspx).</span></span> <span data-ttu-id="04fc1-155">使用 REST API，從您想要的服務執行個體儲存和還原實體。</span><span class="sxs-lookup"><span data-stu-id="04fc1-155">Use the REST API to save and restore the entities from the service instance that you want.</span></span>
* <span data-ttu-id="04fc1-156">使用 Git 下載服務組態，然後將它上傳至新的執行個體。</span><span class="sxs-lookup"><span data-stu-id="04fc1-156">Download the service configuration by using Git, and then upload it to a new instance.</span></span> <span data-ttu-id="04fc1-157">如需詳細資訊，請參閱[如何使用 Git 儲存和設定您的 API 管理服務組態](api-management-configuration-repository-git.md)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-157">For more information, see [How to save and configure your API Management service configuration by using Git](api-management-configuration-repository-git.md).</span></span>

### <a name="can-i-manage-my-api-management-instance-programmatically"></a><span data-ttu-id="04fc1-158">我可以透過程式設計方式管理我的 API 管理執行個體嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-158">Can I manage my API Management instance programmatically?</span></span>
<span data-ttu-id="04fc1-159">可以，您可以使用下列各項，以程式設計方式管理 API 管理：</span><span class="sxs-lookup"><span data-stu-id="04fc1-159">Yes, you can manage API Management programmatically by using:</span></span>

* <span data-ttu-id="04fc1-160">[API 管理 REST API](https://msdn.microsoft.com/library/azure/dn776326.aspx)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-160">The [API Management REST API](https://msdn.microsoft.com/library/azure/dn776326.aspx).</span></span>
* <span data-ttu-id="04fc1-161">[Microsoft Azure ApiManagement 服務管理資源庫 SDK](http://aka.ms/apimsdk)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-161">The [Microsoft Azure ApiManagement Service Management Library SDK](http://aka.ms/apimsdk).</span></span>
* <span data-ttu-id="04fc1-162">[服務部署](https://msdn.microsoft.com/library/mt619282.aspx)和[服務管理](https://msdn.microsoft.com/library/mt613507.aspx) PowerShell Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="04fc1-162">The [Service deployment](https://msdn.microsoft.com/library/mt619282.aspx) and [Service management](https://msdn.microsoft.com/library/mt613507.aspx) PowerShell cmdlets.</span></span>

### <a name="how-do-i-add-a-user-to-the-administrators-group"></a><span data-ttu-id="04fc1-163">如何將使用者新增至 Administrators 群組？</span><span class="sxs-lookup"><span data-stu-id="04fc1-163">How do I add a user to the Administrators group?</span></span>
<span data-ttu-id="04fc1-164">將使用者新增至 Administrators 群組的步驟如下：</span><span class="sxs-lookup"><span data-stu-id="04fc1-164">Here's how you can add a user to the Administrators group:</span></span>

1. <span data-ttu-id="04fc1-165">登入 [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-165">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="04fc1-166">移至包含您要更新之 API 管理執行個體的資源群組。</span><span class="sxs-lookup"><span data-stu-id="04fc1-166">Go to the resource group that has the API Management instance you want to update.</span></span>
3. <span data-ttu-id="04fc1-167">在 API 管理中，將 [Api 管理參與者] 角色指派給使用者。</span><span class="sxs-lookup"><span data-stu-id="04fc1-167">In API Management, assign the **Api Management Contributor** role to the user.</span></span>

<span data-ttu-id="04fc1-168">新增的參與者現在即可使用 Azure PowerShell [Cmdlet](https://msdn.microsoft.com/library/mt613507.aspx)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-168">Now the newly added contributor can use Azure PowerShell [cmdlets](https://msdn.microsoft.com/library/mt613507.aspx).</span></span> <span data-ttu-id="04fc1-169">以系統管理員身分登入的步驟如下︰</span><span class="sxs-lookup"><span data-stu-id="04fc1-169">Here's how to sign in as an administrator:</span></span>

1. <span data-ttu-id="04fc1-170">使用 `Login-AzureRmAccount` Cmdlet 進行登入。</span><span class="sxs-lookup"><span data-stu-id="04fc1-170">Use the `Login-AzureRmAccount` cmdlet to sign in.</span></span>
2. <span data-ttu-id="04fc1-171">使用 `Set-AzureRmContext -SubscriptionID <subscriptionGUID>` 將內容設定為具有服務的訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="04fc1-171">Set the context to the subscription that has the service by using `Set-AzureRmContext -SubscriptionID <subscriptionGUID>`.</span></span>
3. <span data-ttu-id="04fc1-172">使用 `Get-AzureRmApiManagementSsoToken -ResourceGroupName <rgName> -Name <serviceName>` 取得單一登入 URL。</span><span class="sxs-lookup"><span data-stu-id="04fc1-172">Get a single sign-on URL by using `Get-AzureRmApiManagementSsoToken -ResourceGroupName <rgName> -Name <serviceName>`.</span></span>
4. <span data-ttu-id="04fc1-173">使用此 URL 來存取系統管理入口網站。</span><span class="sxs-lookup"><span data-stu-id="04fc1-173">Use the URL to access the admin portal.</span></span>

### <a name="why-is-the-policy-that-i-want-to-add-unavailable-in-the-policy-editor"></a><span data-ttu-id="04fc1-174">為什麼「我想要新增」的原則無法用於原則編輯器？</span><span class="sxs-lookup"><span data-stu-id="04fc1-174">Why is the policy that I want to add unavailable in the policy editor?</span></span>
<span data-ttu-id="04fc1-175">如果您想要新增的原則在原則編輯器中呈暗灰色，請確定您是在該原則的正確範圍內。</span><span class="sxs-lookup"><span data-stu-id="04fc1-175">If the policy that you want to add appears dimmed or shaded in the policy editor, be sure that you are in the correct scope for the policy.</span></span> <span data-ttu-id="04fc1-176">每個原則陳述式都是為您在特定範圍和原則區段中使用所設計。</span><span class="sxs-lookup"><span data-stu-id="04fc1-176">Each policy statement is designed for you to use in specific scopes and policy sections.</span></span> <span data-ttu-id="04fc1-177">若要檢閱原則的原則區段和範圍，請參閱 [API 管理原則](https://msdn.microsoft.com/library/azure/dn894080.aspx)中原則的「使用方式」一節。</span><span class="sxs-lookup"><span data-stu-id="04fc1-177">To review the policy sections and scopes for a policy, see the policy's Usage section in [API Management policies](https://msdn.microsoft.com/library/azure/dn894080.aspx).</span></span>

### <a name="how-do-i-use-api-versioning-in-api-management"></a><span data-ttu-id="04fc1-178">如何在 API 管理中使用 API 版本設定？</span><span class="sxs-lookup"><span data-stu-id="04fc1-178">How do I use API versioning in API Management?</span></span>
<span data-ttu-id="04fc1-179">您有一些選項可在 API 管理中使用 API 版本設定：</span><span class="sxs-lookup"><span data-stu-id="04fc1-179">You have a few options to use API versioning in API Management:</span></span>

* <span data-ttu-id="04fc1-180">在 API 管理中，您可以設定 API 來代表不同的版本。</span><span class="sxs-lookup"><span data-stu-id="04fc1-180">In API Management, you can configure APIs to represent different versions.</span></span> <span data-ttu-id="04fc1-181">例如，您可能有兩個不同的 API (MyAPIv1 和 MyAPIv2)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-181">For example, you might have two different APIs, MyAPIv1 and MyAPIv2.</span></span> <span data-ttu-id="04fc1-182">開發人員可以選擇開發人員想要使用的版本。</span><span class="sxs-lookup"><span data-stu-id="04fc1-182">A developer can choose the version that the developer wants to use.</span></span>
* <span data-ttu-id="04fc1-183">您也可以使用不包含版本區段的服務 URL (例如 https://my.api) 來設定您的 API。</span><span class="sxs-lookup"><span data-stu-id="04fc1-183">You also can configure your API with a service URL that doesn't include a version segment, for example, https://my.api.</span></span> <span data-ttu-id="04fc1-184">接著，在每個作業的[重寫 URL](https://msdn.microsoft.com/library/azure/dn894083.aspx#RewriteURL) 範本上設定版本區段。</span><span class="sxs-lookup"><span data-stu-id="04fc1-184">Then, configure a version segment on each operation's [Rewrite URL](https://msdn.microsoft.com/library/azure/dn894083.aspx#RewriteURL) template.</span></span> <span data-ttu-id="04fc1-185">例如，您的作業可以有名為 /resource 的 [URL 範本](api-management-howto-add-operations.md#url-template)和名為 /v1/Resource 的[重寫 URL](api-management-howto-add-operations.md#rewrite-url-template) 範本。</span><span class="sxs-lookup"><span data-stu-id="04fc1-185">For example, you can have an operation with a [URL template](api-management-howto-add-operations.md#url-template) called /resource and a [Rewrite URL](api-management-howto-add-operations.md#rewrite-url-template) template called /v1/Resource.</span></span> <span data-ttu-id="04fc1-186">您可以分別變更每個作業的版本區段值。</span><span class="sxs-lookup"><span data-stu-id="04fc1-186">You can change the version segment value separately for each operation.</span></span>
* <span data-ttu-id="04fc1-187">如果您想要在 API 的服務 URL 中保留「預設」版本區段，請在選取的作業上設定一個原則，以使用[設定後端服務](https://msdn.microsoft.com/library/azure/dn894083.aspx#SetBackendService)原則來變更後端要求路徑。</span><span class="sxs-lookup"><span data-stu-id="04fc1-187">If you'd like to keep a "default" version segment in the API's service URL, on selected operations, set a policy that uses the [Set backend service](https://msdn.microsoft.com/library/azure/dn894083.aspx#SetBackendService) policy to change the back-end request path.</span></span>

### <a name="how-do-i-set-up-multiple-environments-in-a-single-api"></a><span data-ttu-id="04fc1-188">如何在單一 API 中設定多個環境？</span><span class="sxs-lookup"><span data-stu-id="04fc1-188">How do I set up multiple environments in a single API?</span></span>
<span data-ttu-id="04fc1-189">若要在單一 API 中設定多個環境 (例如一個測試環境和一個生產環境)，您有兩個選項。</span><span class="sxs-lookup"><span data-stu-id="04fc1-189">To set up multiple environments, for example, a test environment and a production environment, in a single API, you have two options.</span></span> <span data-ttu-id="04fc1-190">您可以：</span><span class="sxs-lookup"><span data-stu-id="04fc1-190">You can:</span></span>

* <span data-ttu-id="04fc1-191">在相同租用戶上裝載不同的 API。</span><span class="sxs-lookup"><span data-stu-id="04fc1-191">Host different APIs on the same tenant.</span></span>
* <span data-ttu-id="04fc1-192">在不同租用戶上裝載相同的 API。</span><span class="sxs-lookup"><span data-stu-id="04fc1-192">Host the same APIs on different tenants.</span></span>

### <a name="can-i-use-soap-with-api-management"></a><span data-ttu-id="04fc1-193">可以使用 SOAP 搭配 API 管理嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-193">Can I use SOAP with API Management?</span></span>
<span data-ttu-id="04fc1-194">現在可以使用 [SOAP 傳遞](http://blogs.msdn.microsoft.com/apimanagement/2016/10/13/soap-pass-through/)支援。</span><span class="sxs-lookup"><span data-stu-id="04fc1-194">[SOAP pass-through](http://blogs.msdn.microsoft.com/apimanagement/2016/10/13/soap-pass-through/) support is now available.</span></span> <span data-ttu-id="04fc1-195">系統管理員可以匯入其 SOAP 服務的 WSDL，而 Azure API 管理將會建立 SOAP 前端。</span><span class="sxs-lookup"><span data-stu-id="04fc1-195">Administrators can import the WSDL of their SOAP service, and Azure API Management will create a SOAP front end.</span></span> <span data-ttu-id="04fc1-196">開發人員入口網站文件、測試主控台、原則和分析全都適用於 SOAP 服務。</span><span class="sxs-lookup"><span data-stu-id="04fc1-196">Developer portal documentation, test console, policies and analytics are all available for SOAP services.</span></span>

### <a name="is-the-api-management-gateway-ip-address-constant-can-i-use-it-in-firewall-rules"></a><span data-ttu-id="04fc1-197">API 管理閘道 IP 位址是否固定？</span><span class="sxs-lookup"><span data-stu-id="04fc1-197">Is the API Management gateway IP address constant?</span></span> <span data-ttu-id="04fc1-198">我可以用在防火牆規則嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-198">Can I use it in firewall rules?</span></span>
<span data-ttu-id="04fc1-199">在標準和進階層，API 管理租用戶的公用 IP 位址 (VIP) 在租用戶的存留期內是靜態的，但有一些例外狀況。</span><span class="sxs-lookup"><span data-stu-id="04fc1-199">At the Standard and Premium tiers, the public IP address (VIP) of the API Management tenant is static for the lifetime of the tenant, with some exceptions.</span></span> <span data-ttu-id="04fc1-200">在下列情況下，IP 位址會變更︰</span><span class="sxs-lookup"><span data-stu-id="04fc1-200">The IP address changes in these circumstances:</span></span>

* <span data-ttu-id="04fc1-201">服務遭到刪除，然後又重新建立。</span><span class="sxs-lookup"><span data-stu-id="04fc1-201">The service is deleted and then re-created.</span></span>
* <span data-ttu-id="04fc1-202">服務訂用帳戶遭到[暫止](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states)或[警告](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) (例如，因為未付款)，然後又恢復。</span><span class="sxs-lookup"><span data-stu-id="04fc1-202">The service subscription is [suspended](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) or [warned](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) (for example, for nonpayment) and then reinstated.</span></span>
* <span data-ttu-id="04fc1-203">您新增或移除「Azure 虛擬網路」(您只能在「開發人員」或「進階」層使用「虛擬網路」)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-203">You add or remove Azure Virtual Network (you can use Virtual Network only at the Developer and Premium tier).</span></span>

<span data-ttu-id="04fc1-204">對於多重區域的部署，如果區域被清空而後恢復，區域位址則會變更 (您只能在進階層使用多重區域部署)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-204">For multi-region deployments, the regional address changes if the region is vacated and then reinstated (you can use multi-region deployment only at the Premium tier).</span></span>

<span data-ttu-id="04fc1-205">針對多重區域部署設定的進階層租用戶，每個區域會被指派一個公用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="04fc1-205">Premium tier tenants that are configured for multi-region deployment are assigned one public IP address per region.</span></span>

<span data-ttu-id="04fc1-206">您可以在 Azure 入口網站的租用戶頁面上取得您的 IP 位址 (或在多重區域部署中取得多個位址)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-206">You can get your IP address (or addresses, in a multi-region deployment) on the tenant page in the Azure portal.</span></span>

### <a name="can-i-configure-an-oauth-20-authorization-server-with-ad-fs-security"></a><span data-ttu-id="04fc1-207">可以設定具有 AD FS 安全性的 OAUth 2.0 授權伺服器嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-207">Can I configure an OAuth 2.0 authorization server with AD FS security?</span></span>
<span data-ttu-id="04fc1-208">若要了解如何使用 Active Directory Federation Services (AD FS) 安全性來設定 OAuth 2.0 授權伺服器，請參閱[在 API 管理中使用 ADFS](https://phvbaars.wordpress.com/2016/02/06/using-adfs-in-api-management/)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-208">To learn how to configure an OAuth 2.0 authorization server with Active Directory Federation Services (AD FS) security, see [Using ADFS in API Management](https://phvbaars.wordpress.com/2016/02/06/using-adfs-in-api-management/).</span></span>

### <a name="what-routing-method-does-api-management-use-in-deployments-to-multiple-geographic-locations"></a><span data-ttu-id="04fc1-209">API 管理在部署到多個地理位置時使用何種路由方法？</span><span class="sxs-lookup"><span data-stu-id="04fc1-209">What routing method does API Management use in deployments to multiple geographic locations?</span></span>
<span data-ttu-id="04fc1-210">API 管理會在部署到多個地理位置時，使用[效能流量路由方法](../traffic-manager/traffic-manager-routing-methods.md#priority)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-210">API Management uses the [performance traffic routing method](../traffic-manager/traffic-manager-routing-methods.md#priority) in deployments to multiple geographic locations.</span></span> <span data-ttu-id="04fc1-211">連入流量會傳送至最接近的 API 閘道。</span><span class="sxs-lookup"><span data-stu-id="04fc1-211">Incoming traffic is routed to the closest API gateway.</span></span> <span data-ttu-id="04fc1-212">如果一個區域離線，則連入流量會自動路由傳送至下一個最接近的閘道。</span><span class="sxs-lookup"><span data-stu-id="04fc1-212">If one region goes offline, incoming traffic is automatically routed to the next closest gateway.</span></span> <span data-ttu-id="04fc1-213">深入了解[流量管理員路由方法](../traffic-manager/traffic-manager-routing-methods.md)中的路由方法。</span><span class="sxs-lookup"><span data-stu-id="04fc1-213">Learn more about routing methods in [Traffic Manager routing methods](../traffic-manager/traffic-manager-routing-methods.md).</span></span>

### <a name="can-i-use-an-azure-resource-manager-template-to-create-an-api-management-service-instance"></a><span data-ttu-id="04fc1-214">可以使用 Azure Resource Manager 範本建立 API 管理服務執行個體嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-214">Can I use an Azure Resource Manager template to create an API Management service instance?</span></span>
<span data-ttu-id="04fc1-215">是。</span><span class="sxs-lookup"><span data-stu-id="04fc1-215">Yes.</span></span> <span data-ttu-id="04fc1-216">請參閱 [Azure API 管理服務](http://aka.ms/apimtemplate)快速入門範本。</span><span class="sxs-lookup"><span data-stu-id="04fc1-216">See the [Azure API Management Service](http://aka.ms/apimtemplate) QuickStart templates.</span></span>

### <a name="can-i-use-a-self-signed-ssl-certificate-for-a-back-end"></a><span data-ttu-id="04fc1-217">是否可以對後端使用自我簽署的 SSL 憑證？</span><span class="sxs-lookup"><span data-stu-id="04fc1-217">Can I use a self-signed SSL certificate for a back end?</span></span>
<span data-ttu-id="04fc1-218">是。</span><span class="sxs-lookup"><span data-stu-id="04fc1-218">Yes.</span></span> <span data-ttu-id="04fc1-219">對後端使用自我簽署安全通訊端層 (SSL) 憑證的步驟如下：</span><span class="sxs-lookup"><span data-stu-id="04fc1-219">Here's how to use a self-signed Secure Sockets Layer (SSL) certificate for a back end:</span></span>

1. <span data-ttu-id="04fc1-220">使用 API 管理建立[後端](https://msdn.microsoft.com/library/azure/dn935030.aspx)實體。</span><span class="sxs-lookup"><span data-stu-id="04fc1-220">Create a [Backend](https://msdn.microsoft.com/library/azure/dn935030.aspx) entity by using API Management.</span></span>
2. <span data-ttu-id="04fc1-221">將 **skipCertificateChainValidation** 屬性設定為 **true**。</span><span class="sxs-lookup"><span data-stu-id="04fc1-221">Set the **skipCertificateChainValidation** property to **true**.</span></span>
3. <span data-ttu-id="04fc1-222">如果您不想再允許自我簽署的憑證，請刪除後端實體或將 **skipCertificateChainValidation** 屬性設定為 **false**。</span><span class="sxs-lookup"><span data-stu-id="04fc1-222">If you no longer want to allow self-signed certificates, delete the Backend entity, or set the **skipCertificateChainValidation** property to **false**.</span></span>

### <a name="why-do-i-get-an-authentication-failure-when-i-try-to-clone-a-git-repository"></a><span data-ttu-id="04fc1-223">為什麼我在嘗試複製 Git 儲存機制時會發生驗證失敗？</span><span class="sxs-lookup"><span data-stu-id="04fc1-223">Why do I get an authentication failure when I try to clone a Git repository?</span></span>
<span data-ttu-id="04fc1-224">如果您使用 Git 認證管理員，或如果您嘗試使用 Visual Studio 複製 Git 儲存機制，您可能會遇到 Windows 認證對話方塊的已知問題。</span><span class="sxs-lookup"><span data-stu-id="04fc1-224">If you use Git Credential Manager, or if you're trying to clone a Git repository by using Visual Studio, you might run into a known issue with the Windows credentials dialog box.</span></span> <span data-ttu-id="04fc1-225">此對話方塊會將密碼長度限制為 127 個字元，並且截斷 Microsoft 所產生的密碼。</span><span class="sxs-lookup"><span data-stu-id="04fc1-225">The dialog box limits password length to 127 characters, and it truncates the Microsoft-generated password.</span></span> <span data-ttu-id="04fc1-226">我們正在努力縮短密碼。</span><span class="sxs-lookup"><span data-stu-id="04fc1-226">We are working on shortening the password.</span></span> <span data-ttu-id="04fc1-227">目前，請使用 Git Bash 來複製 Git 儲存機制。</span><span class="sxs-lookup"><span data-stu-id="04fc1-227">For now, please use Git Bash to clone your Git repository.</span></span>

### <a name="does-api-management-work-with-azure-expressroute"></a><span data-ttu-id="04fc1-228">API 管理是否能搭配 Azure ExpressRoute 運作？</span><span class="sxs-lookup"><span data-stu-id="04fc1-228">Does API Management work with Azure ExpressRoute?</span></span>
<span data-ttu-id="04fc1-229">是。</span><span class="sxs-lookup"><span data-stu-id="04fc1-229">Yes.</span></span> <span data-ttu-id="04fc1-230">API 管理能搭配 Azure ExpressRoute 運作。</span><span class="sxs-lookup"><span data-stu-id="04fc1-230">API Management works with Azure ExpressRoute.</span></span>

### <a name="why-do-we-require-a-dedicated-subnet-in-resource-manager-style-vnets-when-api-management-is-deployed-into-them"></a><span data-ttu-id="04fc1-231">為什麼將「API 管理」部署到 Resource Manager 樣式的 VNET 中時，我們需要在這些 VNET 中有一個專用子網路？</span><span class="sxs-lookup"><span data-stu-id="04fc1-231">Why do we require a dedicated subnet in Resource Manager style VNETs when API Management is deployed into them?</span></span>
<span data-ttu-id="04fc1-232">「API 管理」的專用子網路需求來自於一個事實，就是它是建置在「傳統」(PAAS V1 層) 部署模型的基礎上。</span><span class="sxs-lookup"><span data-stu-id="04fc1-232">The dedicated subnet requirement for API Management comes from the fact, that it is built on Classic (PAAS V1 layer) deployment model.</span></span> <span data-ttu-id="04fc1-233">雖然我們可以部署到 Resource Manager VNET (V2 層) 中，但是會有後果。</span><span class="sxs-lookup"><span data-stu-id="04fc1-233">While we can deploy into a Resource Manager VNET (V2 layer), there are consequences to that.</span></span> <span data-ttu-id="04fc1-234">Azure 中的「傳統」部署模型並未與 Resource Manager 模型緊密結合，因此，如果您在 V2 層中建立一項資源，V1 層並不會知道它，而問題就可能發生，例如「API 管理」嘗試使用已經配置給某個 NIC (建置在 V2 上) 的 IP。</span><span class="sxs-lookup"><span data-stu-id="04fc1-234">The Classic deployment model in Azure is not tightly coupled with the Resource Manager model and so if you create a resource in V2 layer, the V1 layer doesn't know about it and problems can happen, such as API Management trying to use an IP that is already allocated to a NIC (built on V2).</span></span>
<span data-ttu-id="04fc1-235">若要深入了解 Azure 中「傳統」模型與 Resource Manager 模型的差異，請參閱[部署模型中的差異](../azure-resource-manager/resource-manager-deployment-model.md)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-235">To learn more about difference of Classic and Resource Manager models in Azure refer to [difference in deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span>

### <a name="what-is-the-minimum-subnet-size-needed-when-deploying-api-management-into-a-vnet"></a><span data-ttu-id="04fc1-236">將「API 管理」部署到 VNET 中時，所需的子網路大小下限是多少？</span><span class="sxs-lookup"><span data-stu-id="04fc1-236">What is the minimum subnet size needed when deploying API Management into a VNET?</span></span>
<span data-ttu-id="04fc1-237">部署「API 管理」所需的子網路大小下限是 [/29](../virtual-network/virtual-networks-faq.md#configuration)，這是 Azure 支援的子網路大小下限。</span><span class="sxs-lookup"><span data-stu-id="04fc1-237">The minimum subnet size needed to deploy API Management is [/29](../virtual-network/virtual-networks-faq.md#configuration), which is the minimum subnet size that Azure supports.</span></span>

### <a name="can-i-move-an-api-management-service-from-one-subscription-to-another"></a><span data-ttu-id="04fc1-238">可以將 API 管理服務從某一個訂用帳戶移至另一個嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-238">Can I move an API Management service from one subscription to another?</span></span>
<span data-ttu-id="04fc1-239">是。</span><span class="sxs-lookup"><span data-stu-id="04fc1-239">Yes.</span></span> <span data-ttu-id="04fc1-240">若要了解作法，請參閱[將資源移至新的資源群組或訂用帳戶](../azure-resource-manager/resource-group-move-resources.md)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-240">To learn how, see [Move resources to a new resource group or subscription](../azure-resource-manager/resource-group-move-resources.md).</span></span>

### <a name="are-there-restrictions-on-or-known-issues-with-importing-my-api"></a><span data-ttu-id="04fc1-241">匯入 API 有任何限制或已知的問題嗎？</span><span class="sxs-lookup"><span data-stu-id="04fc1-241">Are there restrictions on or known issues with importing my API?</span></span>
<span data-ttu-id="04fc1-242">Open API(Swagger)、WSDL 及 WADL 格式的[已知問題和限制](api-management-api-import-restrictions.md)。</span><span class="sxs-lookup"><span data-stu-id="04fc1-242">[Known issues and restrictions](api-management-api-import-restrictions.md) for Open API(Swagger), WSDL and WADL formats.</span></span>
