---
title: "使用範本自訂 API 管理開發人員入口網站 - Azure | Microsoft Docs"
description: "了解如何使用範本自訂 Azure API 管理開發人員入口網站。"
services: api-management
documentationcenter: 
author: steved0x
manager: erikre
editor: 
ms.assetid: a195675b-f7d0-4fc9-90bf-860e6f17ccf7
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/09/2017
ms.author: apimpm
ms.openlocfilehash: 40d25726d31d2018785b77d169a8811c565316bf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-customize-the-azure-api-management-developer-portal-using-templates"></a><span data-ttu-id="f381d-103">如何使用範本自訂 Azure API 管理開發人員入口網站。</span><span class="sxs-lookup"><span data-stu-id="f381d-103">How to customize the Azure API Management developer portal using templates</span></span>

<span data-ttu-id="f381d-104">在 Azure API 管理中自訂開發人員入口網站的基本方式有三種：</span><span class="sxs-lookup"><span data-stu-id="f381d-104">There are three fundamental ways to customize the developer portal in Azure API Management:</span></span>

* <span data-ttu-id="f381d-105">[編輯靜態頁面和頁面配置元素的內容][modify-content-layout]</span><span class="sxs-lookup"><span data-stu-id="f381d-105">[Edit the contents of static pages and page layout elements][modify-content-layout]</span></span>
* <span data-ttu-id="f381d-106">[更新用於開發人員入口網站上頁面元素的樣式][customize-styles]</span><span class="sxs-lookup"><span data-stu-id="f381d-106">[Update the styles used for page elements across the developer portal][customize-styles]</span></span>
* <span data-ttu-id="f381d-107">[修改網站所產生來用於網頁的範本][portal-templates] (本指南會說明)</span><span class="sxs-lookup"><span data-stu-id="f381d-107">[Modify the templates used for pages generated by the portal][portal-templates] (explained in this guide)</span></span>

<span data-ttu-id="f381d-108">範本可用來自訂系統產生之開發人員入口網站網頁的內容 (例如 API 文件、產品、使用者驗證等)。</span><span class="sxs-lookup"><span data-stu-id="f381d-108">Templates are used to customize the content of system-generated developer portal pages (e.g. API docs, products, user authentication, etc.).</span></span> <span data-ttu-id="f381d-109">使用 [DotLiquid](http://dotliquidmarkup.org/) 語法及一組提供的當地語系化字串資源、圖示和頁面控制項，您可以依照您的想法自由靈活地設定頁面內容。</span><span class="sxs-lookup"><span data-stu-id="f381d-109">Using [DotLiquid](http://dotliquidmarkup.org/) syntax, and a provided set of localized string resources, icons, and page controls, you have great flexibility to configure the content of the pages as you see fit.</span></span>

## <a name="developer-portal-templates-overview"></a><span data-ttu-id="f381d-110">開發人員入口網站範本概觀</span><span class="sxs-lookup"><span data-stu-id="f381d-110">Developer portal templates overview</span></span>
<span data-ttu-id="f381d-111">當您以系統管理員身分登入時，可從 [開發人員入口網站] 編輯範本。</span><span class="sxs-lookup"><span data-stu-id="f381d-111">Editing templates is done from the **Developer portal** while being logged in as an administrator.</span></span> <span data-ttu-id="f381d-112">若要到達該處，請開啟 Azure 入口網站，然後從 API 管理執行個體的服務工具列按一下 [發行者入口網站]。</span><span class="sxs-lookup"><span data-stu-id="f381d-112">To get there first open the Azure Portal and  click **Publisher portal** from the service toolbar of your API Management instance.</span></span>

![發行者入口網站][api-management-management-console]

<span data-ttu-id="f381d-114">接著按一下右上角的 [開發人員入口網站]。</span><span class="sxs-lookup"><span data-stu-id="f381d-114">Then click on **Developer portal** on the top-right.</span></span> 

![開發人員入口網站功能表][api-management-developer-portal-menu]

<span data-ttu-id="f381d-116">若要存取開發人員入口網站範本，請按一下左側的自訂圖示，顯示 [自訂] 功能表，然後按一下 [範本] 。</span><span class="sxs-lookup"><span data-stu-id="f381d-116">To access the developer portal templates, click the customize icon on the left to display the customization menu, and click **Templates**.</span></span>

![開發人員入口網站範本][api-management-customize-menu]

<span data-ttu-id="f381d-118">[範本] 清單會顯示數個範本類別，涵蓋開發人員入口網站的不同頁面。</span><span class="sxs-lookup"><span data-stu-id="f381d-118">The templates list displays several categories of templates covering the different pages in the developer portal.</span></span> <span data-ttu-id="f381d-119">每個範本各不相同，但是編輯和發佈變更的步驟是一樣的。</span><span class="sxs-lookup"><span data-stu-id="f381d-119">Each template is different, but the steps to edit them and publish the changes are the same.</span></span> <span data-ttu-id="f381d-120">若要編輯範本，請按一下範本的名稱。</span><span class="sxs-lookup"><span data-stu-id="f381d-120">To edit a template, click the name of the template.</span></span>

![開發人員入口網站範本][api-management-templates-menu]

<span data-ttu-id="f381d-122">按一下範本即會將您帶到可使用該範本自訂的開發人員入口網站頁面。</span><span class="sxs-lookup"><span data-stu-id="f381d-122">Clicking a template takes you to the developer portal page that is customizable by that template.</span></span> <span data-ttu-id="f381d-123">這個範例會顯示 **產品清單** 範本。</span><span class="sxs-lookup"><span data-stu-id="f381d-123">In this example the **Product list** template is displayed.</span></span> <span data-ttu-id="f381d-124">**產品清單** 範本控制的畫面區域會以紅色矩形表示。</span><span class="sxs-lookup"><span data-stu-id="f381d-124">The **Product list** template controls the area of the screen indicated by the red rectangle.</span></span> 

![產品清單範本][api-management-developer-portal-templates-overview]

<span data-ttu-id="f381d-126">有些範本，像是 **使用者設定檔** 範本，自訂的是同一頁面的不同部分。</span><span class="sxs-lookup"><span data-stu-id="f381d-126">Some templates, like the **User Profile** templates, customize different parts of the same page.</span></span> 

![使用者設定檔範本][api-management-user-profile-templates]

<span data-ttu-id="f381d-128">每個開發人員入口網站範本的編輯器都會在頁面底部顯示兩個區段。</span><span class="sxs-lookup"><span data-stu-id="f381d-128">The editor for each developer portal template has two sections displayed at the bottom of the page.</span></span> <span data-ttu-id="f381d-129">左側顯示範本的編輯窗格，右側顯示範本的資料模型。</span><span class="sxs-lookup"><span data-stu-id="f381d-129">The left-hand side displays the editing pane for the template, and the right-hand side displays the data model for the template.</span></span> 

<span data-ttu-id="f381d-130">範本編輯窗格包含的標記，可控制開發人員入口網站中對應頁面的外觀和行為。</span><span class="sxs-lookup"><span data-stu-id="f381d-130">The template editing pane contains the markup that controls the appearance and behavior of the corresponding page in the developer portal.</span></span> <span data-ttu-id="f381d-131">範本中的標記會使用 [DotLiquid](http://dotliquidmarkup.org/) 語法。</span><span class="sxs-lookup"><span data-stu-id="f381d-131">The markup in the template uses the [DotLiquid](http://dotliquidmarkup.org/) syntax.</span></span> <span data-ttu-id="f381d-132">常用的 DotLiquid 編輯器是 [DotLiquid for Designers](https://github.com/dotliquid/dotliquid/wiki/DotLiquid-for-Designers)。</span><span class="sxs-lookup"><span data-stu-id="f381d-132">One popular editor for DotLiquid is [DotLiquid for Designers](https://github.com/dotliquid/dotliquid/wiki/DotLiquid-for-Designers).</span></span> <span data-ttu-id="f381d-133">在編輯期間對範本進行的任何變更都會即時顯示在瀏覽器中，但您的客戶要到您[儲存](#to-save-a-template)和[發佈](#to-publish-a-template)範本後才看得到。</span><span class="sxs-lookup"><span data-stu-id="f381d-133">Any changes made to the template during editing are displayed in real-time in the browser, but are not visible to your customers until you [save](#to-save-a-template) and [publish](#to-publish-a-template) the template.</span></span>

![範本標記][api-management-template]

<span data-ttu-id="f381d-135">[範本資料]  窗格可為能在特定範本中使用的實體，提供有關資料模型的指南。</span><span class="sxs-lookup"><span data-stu-id="f381d-135">The **Template data** pane provides a guide to the data model for the entities that are available for use in a particular template.</span></span> <span data-ttu-id="f381d-136">它提供這份指南的方法是顯示開發人員入口網站中目前顯示的即時資料。</span><span class="sxs-lookup"><span data-stu-id="f381d-136">It provides this guide by displaying the live data that are currently displayed in the developer portal.</span></span> <span data-ttu-id="f381d-137">您可以按一下 [範本資料]  窗格右上角的矩形，展開範本窗格。</span><span class="sxs-lookup"><span data-stu-id="f381d-137">You can expand the template panes by clicking the rectangle in the upper-right corner of the **Template data** pane.</span></span>

![範本資料模型][api-management-template-data]

<span data-ttu-id="f381d-139">上述範例在開發人員入口網站中顯示了兩項產品，擷取自 [範本資料]  窗格顯示的資料，如下例所示。</span><span class="sxs-lookup"><span data-stu-id="f381d-139">In the previous example there are two products displayed in the developer portal that were retrieved from the data displayed in the **Template data** pane, as shown in the following example.</span></span>

```json
{
    "Paging": {
        "Page": 1,
        "PageSize": 10,
        "TotalItemCount": 2,
        "ShowAll": false,
        "PageCount": 1
    },
    "Filtering": {
        "Pattern": null,
        "Placeholder": "Search products"
    },
    "Products": [
        {
            "Id": "56ec64c380ed850042060001",
            "Title": "Starter",
            "Description": "Subscribers will be able to run 5 calls/minute up to a maximum of 100 calls/week.",
            "Terms": "",
            "ProductState": 1,
            "AllowMultipleSubscriptions": false,
            "MultipleSubscriptionsCount": 1
        },
        {
            "Id": "56ec64c380ed850042060002",
            "Title": "Unlimited",
            "Description": "Subscribers have completely unlimited access to the API. Administrator approval is required.",
            "Terms": null,
            "ProductState": 1,
            "AllowMultipleSubscriptions": false,
            "MultipleSubscriptionsCount": 1
        }
    ]
}
```

<span data-ttu-id="f381d-140">**產品清單** 範本中的標記會處理資料，逐一查看產品集合，顯示每項個別產品的資訊和連結，來提供所需的輸出。</span><span class="sxs-lookup"><span data-stu-id="f381d-140">The markup in the **Product list** template processes the data to provide the desired output by iterating through the collection of products to display information and a link to each individual product.</span></span> <span data-ttu-id="f381d-141">請注意標記中的 `<search-control>` 和 `<page-control>` 元素。</span><span class="sxs-lookup"><span data-stu-id="f381d-141">Note the `<search-control>` and `<page-control>` elements in the markup.</span></span> <span data-ttu-id="f381d-142">這些控制項會顯示頁面的搜尋和分頁控制項。</span><span class="sxs-lookup"><span data-stu-id="f381d-142">These control the display of the searching and paging controls on the page.</span></span> <span data-ttu-id="f381d-143">`ProductsStrings|PageTitleProducts` 是當地語系化的字串參考，其中包含頁面的 `h2` 標頭文字。</span><span class="sxs-lookup"><span data-stu-id="f381d-143">`ProductsStrings|PageTitleProducts` is a localized string reference that contains the `h2` header text for the page.</span></span> <span data-ttu-id="f381d-144">如需字串資源、頁面控制項和開發人員入口網站範本可用圖示的清單，請參閱 [API 管理開發人員入口網站範本參考](api-management-developer-portal-templates-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="f381d-144">For a list of string resources, page controls, and icons available for use in developer portal templates, see [API Management developer portal templates reference](api-management-developer-portal-templates-reference.md).</span></span>

```html
<search-control></search-control>
<div class="row">
    <div class="col-md-9">
        <h2>{% localized "ProductsStrings|PageTitleProducts" %}</h2>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
    {% if products.size > 0 %}
    <ul class="list-unstyled">
    {% for product in products %}
        <li>
            <h3><a href="/products/{{product.id}}">{{product.title}}</a></h3>
            {{product.description}}
        </li>    
    {% endfor %}
    </ul>
    <paging-control></paging-control>
    {% else %}
    {% localized "CommonResources|NoItemsToDisplay" %}
    {% endif %}
    </div>
</div>
```

## <a name="to-save-a-template"></a><span data-ttu-id="f381d-145">儲存範本</span><span class="sxs-lookup"><span data-stu-id="f381d-145">To save a template</span></span>
<span data-ttu-id="f381d-146">若要儲存範本，請按一下範本編輯器的 [儲存]。</span><span class="sxs-lookup"><span data-stu-id="f381d-146">To save a template, click save in the template editor.</span></span>

![儲存範本][api-management-save-template]

<span data-ttu-id="f381d-148">儲存的變更不會即時顯示在開發人員入口網站中，要發佈後才會顯示。</span><span class="sxs-lookup"><span data-stu-id="f381d-148">Saved changes are not live in the developer portal until they are published.</span></span>

## <a name="to-publish-a-template"></a><span data-ttu-id="f381d-149">發佈範本</span><span class="sxs-lookup"><span data-stu-id="f381d-149">To publish a template</span></span>
<span data-ttu-id="f381d-150">儲存的範本可以個別或一起發佈。</span><span class="sxs-lookup"><span data-stu-id="f381d-150">Saved templates can be published either individually, or all together.</span></span> <span data-ttu-id="f381d-151">若要發佈個別的範本，請按一下範本編輯器的 [發佈]。</span><span class="sxs-lookup"><span data-stu-id="f381d-151">To publish an individual template, click publish in the template editor.</span></span>

![發佈範本][api-management-publish-template]

<span data-ttu-id="f381d-153">按一下 [是]  確認，並讓範本即時顯示在開發人員入口網站中。</span><span class="sxs-lookup"><span data-stu-id="f381d-153">Click **Yes** to confirm and make the template live on the developer portal.</span></span>

![確認發佈][api-management-publish-template-confirm]

<span data-ttu-id="f381d-155">若要發佈目前所有尚未發佈的範本版本，請按一下範本清單的 [發佈]。</span><span class="sxs-lookup"><span data-stu-id="f381d-155">To publish all currently unpublished template versions, click **Publish** in the templates list.</span></span> <span data-ttu-id="f381d-156">未發佈的範本會在範本名稱後面標記星號。</span><span class="sxs-lookup"><span data-stu-id="f381d-156">Unpublished templates are designated by an asterisk following the template name.</span></span> <span data-ttu-id="f381d-157">本例中要發佈**產品清單**和**產品**範本。</span><span class="sxs-lookup"><span data-stu-id="f381d-157">In this example, the **Product list** and **Product** templates are being published.</span></span>

![發佈範本][api-management-publish-templates]

<span data-ttu-id="f381d-159">請按一下 [Publish customizations]\(發佈自訂)  確認。</span><span class="sxs-lookup"><span data-stu-id="f381d-159">Click **Publish customizations** to confirm.</span></span>

![確認發佈][api-management-publish-customizations]

<span data-ttu-id="f381d-161">新發佈的範本在開發人員入口網站中會立即生效。</span><span class="sxs-lookup"><span data-stu-id="f381d-161">Newly published templates are effective immediately in the developer portal.</span></span>

## <a name="to-revert-a-template-to-the-previous-version"></a><span data-ttu-id="f381d-162">將範本還原成先前的版本</span><span class="sxs-lookup"><span data-stu-id="f381d-162">To revert a template to the previous version</span></span>
<span data-ttu-id="f381d-163">若要將範本還原為先前發佈的版本，請按一下範本編輯器的 [還原]。</span><span class="sxs-lookup"><span data-stu-id="f381d-163">To revert a template to the previous published version, click revert in the template editor.</span></span>

![還原範本][api-management-revert-template]

<span data-ttu-id="f381d-165">按一下 [ **是** ] 以確認。</span><span class="sxs-lookup"><span data-stu-id="f381d-165">Click **Yes** to confirm.</span></span>

![Confirm][api-management-revert-template-confirm]

<span data-ttu-id="f381d-167">還原作業一完成，先前發佈的範本版本就會立即顯示在開發人員入口網站中。</span><span class="sxs-lookup"><span data-stu-id="f381d-167">The previously published version of a template is live in the developer portal once the revert operation is complete.</span></span>

## <a name="to-restore-a-template-to-the-default-version"></a><span data-ttu-id="f381d-168">將範本還原成預設的版本</span><span class="sxs-lookup"><span data-stu-id="f381d-168">To restore a template to the default version</span></span>
<span data-ttu-id="f381d-169">將範本還原成預設版本的程序有兩個步驟。</span><span class="sxs-lookup"><span data-stu-id="f381d-169">Restoring templates to their default version is a two-step process.</span></span> <span data-ttu-id="f381d-170">首先必須還原範本，然後一定要發佈還原的版本。</span><span class="sxs-lookup"><span data-stu-id="f381d-170">First the templates must be restored, and then the restored versions must be published.</span></span>

<span data-ttu-id="f381d-171">若要還原單一範本的預設版本，請按一下範本編輯器的 [還原]。</span><span class="sxs-lookup"><span data-stu-id="f381d-171">To restore a single template to the default version click restore in the template editor.</span></span>

![還原範本][api-management-reset-template]

<span data-ttu-id="f381d-173">按一下 [ **是** ] 以確認。</span><span class="sxs-lookup"><span data-stu-id="f381d-173">Click **Yes** to confirm.</span></span>

![Confirm][api-management-reset-template-confirm]

<span data-ttu-id="f381d-175">若要還原所有範本的預設版本，請按一下範本清單的 [Restore default templates]\(還原預設範本)  。</span><span class="sxs-lookup"><span data-stu-id="f381d-175">To restore all templates to their default versions, click **Restore default templates** on the template list.</span></span>

![還原範本][api-management-restore-templates]

<span data-ttu-id="f381d-177">已還原的範本必須個別發佈，或依照 [發佈範本](#to-publish-a-template)的步驟一次全部發佈。</span><span class="sxs-lookup"><span data-stu-id="f381d-177">The restored templates must then be published individually or all at once by following the steps in [To publish a template](#to-publish-a-template).</span></span>

## <a name="next-steps"></a><span data-ttu-id="f381d-178">後續步驟</span><span class="sxs-lookup"><span data-stu-id="f381d-178">Next steps</span></span>
<span data-ttu-id="f381d-179">如需開發人員入口網站範本、字串資源、圖示和頁面控制項的參考資訊，請參閱 [API 管理開發人員入口網站範本參考](api-management-developer-portal-templates-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="f381d-179">For reference information for developer portal templates, string resources, icons, and page controls, see [API Management developer portal templates reference](api-management-developer-portal-templates-reference.md).</span></span>

[modify-content-layout]: api-management-modify-content-layout.md
[customize-styles]: api-management-customize-styles.md
[portal-templates]: api-management-developer-portal-templates.md

[api-management-customize-menu]: ./media/api-management-developer-portal-templates/api-management-customize-menu.png
[api-management-templates-menu]: ./media/api-management-developer-portal-templates/api-management-templates-menu.png
[api-management-developer-portal-templates-overview]: ./media/api-management-developer-portal-templates/api-management-developer-portal-templates-overview.png
[api-management-template]: ./media/api-management-developer-portal-templates/api-management-template.png
[api-management-template-data]: ./media/api-management-developer-portal-templates/api-management-template-data.png
[api-management-developer-portal-menu]: ./media/api-management-developer-portal-templates/api-management-developer-portal-menu.png
[api-management-management-console]: ./media/api-management-developer-portal-templates/api-management-management-console.png
[api-management-browse]: ./media/api-management-developer-portal-templates/api-management-browse.png
[api-management-user-profile-templates]: ./media/api-management-developer-portal-templates/api-management-user-profile-templates.png
[api-management-save-template]: ./media/api-management-developer-portal-templates/api-management-save-template.png
[api-management-publish-template]: ./media/api-management-developer-portal-templates/api-management-publish-template.png
[api-management-publish-template-confirm]: ./media/api-management-developer-portal-templates/api-management-publish-template-confirm.png
[api-management-publish-templates]: ./media/api-management-developer-portal-templates/api-management-publish-templates.png
[api-management-publish-customizations]: ./media/api-management-developer-portal-templates/api-management-publish-customizations.png
[api-management-revert-template]: ./media/api-management-developer-portal-templates/api-management-revert-template.png
[api-management-revert-template-confirm]: ./media/api-management-developer-portal-templates/api-management-revert-template-confirm.png
[api-management-reset-template]: ./media/api-management-developer-portal-templates/api-management-reset-template.png
[api-management-reset-template-confirm]: ./media/api-management-developer-portal-templates/api-management-reset-template-confirm.png
[api-management-restore-templates]: ./media/api-management-developer-portal-templates/api-management-restore-templates.png







