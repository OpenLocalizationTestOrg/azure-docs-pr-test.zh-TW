---
title: "在 Azure API 管理原則中處理 aaaError |Microsoft 文件"
description: "了解如何 toorespond tooerror 條件期間可能發生的 hello Azure API 管理中的要求處理。"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 3c777964-02b2-4f55-8731-8c3bd3c0ae27
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/09/2017
ms.author: apimpm
ms.openlocfilehash: 002c65f21e763fd644da61b6a11685ffd97488c7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="error-handling-in-api-management-policies"></a><span data-ttu-id="0dfdf-103">API 管理原則中的錯誤處理</span><span class="sxs-lookup"><span data-stu-id="0dfdf-103">Error handling in API Management policies</span></span>
<span data-ttu-id="0dfdf-104">Azure API 管理可讓 「 發行者 」 所提供的要求 toohello proxy hello 處理期間可能發生的 toorespond tooerror 條件`ProxyError`物件。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-104">Azure API Management allows publishers toorespond tooerror conditions that may occur during hello processing of requests toohello proxy by providing a `ProxyError` object.</span></span> <span data-ttu-id="0dfdf-105">hello`ProxyError`物件經由 hello[內容。LastError](api-management-policy-expressions.md#ContextVariables)屬性和可供在 hello 原則`on-error`原則 > 一節。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-105">hello `ProxyError` object is accessed through hello [context.LastError](api-management-policy-expressions.md#ContextVariables) property and can be used by policies in hello `on-error` policy section.</span></span> <span data-ttu-id="0dfdf-106">本主題提供的參考 hello 錯誤處理功能，在 Azure API 管理。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-106">This topic provides a reference for hello error handling capabilities in Azure API Management.</span></span>  
  
## <a name="error-handling-in-api-management"></a><span data-ttu-id="0dfdf-107">API 管理中的錯誤處理</span><span class="sxs-lookup"><span data-stu-id="0dfdf-107">Error handling in API Management</span></span>  
 <span data-ttu-id="0dfdf-108">在 Azure API 管理原則可分為`inbound`， `backend`， `outbound`，和`on-error`區段 hello 下列範例所示。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-108">Policies in Azure API Management are divided into `inbound`, `backend`, `outbound`, and `on-error` sections as shown in hello following example.</span></span>  
  
```xml  
<policies>  
  <inbound>  
    <!-- statements toobe applied toohello request go here -->  
  </inbound>  
  <backend>  
    <!-- statements toobe applied before hello request is   
         forwarded toohello backend service go here -->  
    </backend>  
    <outbound>  
      <!-- statements toobe applied toohello response go here -->  
    </outbound>  
    <on-error>  
        <!-- statements toobe applied if there is an error   
             condition go here -->  
  </on-error>  
</policies>  
```  
  
 <span data-ttu-id="0dfdf-109">Hello 在處理期間的要求，以及在 hello 要求的範圍內的任何原則執行內建的步驟。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-109">During hello processing of a request, built-in steps are executed along with any policies that are in scope for hello request.</span></span> <span data-ttu-id="0dfdf-110">如果發生錯誤時，會立即處理跳 toohello`on-error`原則 > 一節。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-110">If an error occurs, processing immediately jumps toohello `on-error` policy section.</span></span> <span data-ttu-id="0dfdf-111">hello`on-error`原則 區段中可用在任何範圍，而且應用程式開發介面的 「 發行者 」 可以設定自訂的行為，例如記錄 hello 錯誤 tooevent 集線器或建立新的回應 tooreturn toohello 呼叫端。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-111">hello `on-error` policy section can be used at any scope, and API publishers can configure custom behavior such as logging hello error tooevent hubs or creating a new response tooreturn toohello caller.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0dfdf-112">hello`on-error`區段不存在預設原則中。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-112">hello `on-error` section is not present in policies by default.</span></span> <span data-ttu-id="0dfdf-113">tooadd hello`on-error`區段 tooa 原則，瀏覽 hello 原則編輯器 中的預期 toohello 原則並將它加入。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-113">tooadd hello `on-error` section tooa policy, browse toohello desired policy in hello policy editor and add it.</span></span> <span data-ttu-id="0dfdf-114">如需如何設定原則的詳細資訊，請參閱 [API 管理中的原則](https://azure.microsoft.com/documentation/articles/api-management-howto-policies/)。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-114">For more information about configuring policies, see [Policies in API Management](https://azure.microsoft.com/documentation/articles/api-management-howto-policies/).</span></span>  
>   
>  <span data-ttu-id="0dfdf-115">如果沒有 `on-error` 區段，在發生錯誤狀況時，呼叫端將會收到 400 或 500 HTTP 回應訊息。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-115">If there is no `on-error` section, callers will receive 400 or 500 HTTP response messages if an error condition occurs.</span></span>  
  
### <a name="policies-allowed-in-on-error"></a><span data-ttu-id="0dfdf-116">on-error 中允許的原則</span><span class="sxs-lookup"><span data-stu-id="0dfdf-116">Policies allowed in on-error</span></span>  
 <span data-ttu-id="0dfdf-117">hello 下列原則可用於 hello`on-error`原則 > 一節。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-117">hello following policies can be used in hello `on-error` policy section.</span></span>  
  
-   [<span data-ttu-id="0dfdf-118">choose</span><span class="sxs-lookup"><span data-stu-id="0dfdf-118">choose</span></span>](api-management-advanced-policies.md#choose)  
  
-   [<span data-ttu-id="0dfdf-119">set-variable</span><span class="sxs-lookup"><span data-stu-id="0dfdf-119">set-variable</span></span>](api-management-advanced-policies.md#set-variable)  
  
-   [<span data-ttu-id="0dfdf-120">find-and-replace</span><span class="sxs-lookup"><span data-stu-id="0dfdf-120">find-and-replace</span></span>](api-management-transformation-policies.md#Findandreplacestringinbody)  
  
-   [<span data-ttu-id="0dfdf-121">return-response</span><span class="sxs-lookup"><span data-stu-id="0dfdf-121">return-response</span></span>](api-management-advanced-policies.md#ReturnResponse)  
  
-   [<span data-ttu-id="0dfdf-122">set-header</span><span class="sxs-lookup"><span data-stu-id="0dfdf-122">set-header</span></span>](api-management-transformation-policies.md#SetHTTPheader)  
  
-   [<span data-ttu-id="0dfdf-123">set-method</span><span class="sxs-lookup"><span data-stu-id="0dfdf-123">set-method</span></span>](api-management-advanced-policies.md#SetRequestMethod)  
  
-   [<span data-ttu-id="0dfdf-124">set-status</span><span class="sxs-lookup"><span data-stu-id="0dfdf-124">set-status</span></span>](api-management-advanced-policies.md#SetStatus)  
  
-   [<span data-ttu-id="0dfdf-125">send-request</span><span class="sxs-lookup"><span data-stu-id="0dfdf-125">send-request</span></span>](api-management-advanced-policies.md#SendRequest)  
  
-   [<span data-ttu-id="0dfdf-126">send-one-way-request</span><span class="sxs-lookup"><span data-stu-id="0dfdf-126">send-one-way-request</span></span>](api-management-advanced-policies.md#SendOneWayRequest)  
  
-   [<span data-ttu-id="0dfdf-127">log-to-eventhub</span><span class="sxs-lookup"><span data-stu-id="0dfdf-127">log-to-eventhub</span></span>](api-management-advanced-policies.md#log-to-eventhub)  
  
-   [<span data-ttu-id="0dfdf-128">json-to-xml</span><span class="sxs-lookup"><span data-stu-id="0dfdf-128">json-to-xml</span></span>](api-management-transformation-policies.md#ConvertJSONtoXML)  
  
-   [<span data-ttu-id="0dfdf-129">xml-to-json</span><span class="sxs-lookup"><span data-stu-id="0dfdf-129">xml-to-json</span></span>](api-management-transformation-policies.md#ConvertXMLtoJSON)  
  
## <a name="lasterror"></a><span data-ttu-id="0dfdf-130">LastError</span><span class="sxs-lookup"><span data-stu-id="0dfdf-130">LastError</span></span>  
 <span data-ttu-id="0dfdf-131">當發生錯誤，並控制跳躍 toohello `on-error` hello 錯誤會儲存原則 區段中，在[內容。LastError](api-management-policy-expressions.md#ContextVariables)屬性可存取的原則中 hello`on-error`區段，並具有下列屬性的 hello。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-131">When an error occurs and control jumps toohello `on-error` policy section, hello error is stored in  [context.LastError](api-management-policy-expressions.md#ContextVariables) property which can be accessed by policies in hello `on-error` section and has hello following properties.</span></span>  
  
|<span data-ttu-id="0dfdf-132">名稱</span><span class="sxs-lookup"><span data-stu-id="0dfdf-132">Name</span></span>|<span data-ttu-id="0dfdf-133">類型</span><span class="sxs-lookup"><span data-stu-id="0dfdf-133">Type</span></span>|<span data-ttu-id="0dfdf-134">說明</span><span class="sxs-lookup"><span data-stu-id="0dfdf-134">Description</span></span>|<span data-ttu-id="0dfdf-135">必要</span><span class="sxs-lookup"><span data-stu-id="0dfdf-135">Required</span></span>|  
|----------|----------|-----------------|--------------|  
|<span data-ttu-id="0dfdf-136">來源</span><span class="sxs-lookup"><span data-stu-id="0dfdf-136">Source</span></span>|<span data-ttu-id="0dfdf-137">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-137">string</span></span>|<span data-ttu-id="0dfdf-138">發生錯誤 hello 名稱 hello 項目。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-138">Names hello element where hello error occurred.</span></span> <span data-ttu-id="0dfdf-139">可能是原則或內建的管線步驟名稱。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-139">Could be either policy or a  built-in pipeline step name.</span></span>|<span data-ttu-id="0dfdf-140">是</span><span class="sxs-lookup"><span data-stu-id="0dfdf-140">Yes</span></span>|  
|<span data-ttu-id="0dfdf-141">原因</span><span class="sxs-lookup"><span data-stu-id="0dfdf-141">Reason</span></span>|<span data-ttu-id="0dfdf-142">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-142">string</span></span>|<span data-ttu-id="0dfdf-143">方便電腦理解的錯誤碼，可用於處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-143">Machine-friendly error code, which could be used in error handling.</span></span>|<span data-ttu-id="0dfdf-144">否</span><span class="sxs-lookup"><span data-stu-id="0dfdf-144">No</span></span>|  
|<span data-ttu-id="0dfdf-145">訊息</span><span class="sxs-lookup"><span data-stu-id="0dfdf-145">Message</span></span>|<span data-ttu-id="0dfdf-146">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-146">string</span></span>|<span data-ttu-id="0dfdf-147">人類可以看懂的錯誤描述。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-147">Human-readable error description.</span></span>|<span data-ttu-id="0dfdf-148">是</span><span class="sxs-lookup"><span data-stu-id="0dfdf-148">Yes</span></span>|  
|<span data-ttu-id="0dfdf-149">Scope</span><span class="sxs-lookup"><span data-stu-id="0dfdf-149">Scope</span></span>|<span data-ttu-id="0dfdf-150">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-150">string</span></span>|<span data-ttu-id="0dfdf-151">Hello 領域其中 hello，發生錯誤可能是其中一個 「 全域 」、 「 產品 」、 「 api 」 或 「 作業 」 的名稱</span><span class="sxs-lookup"><span data-stu-id="0dfdf-151">Name of hello scope where hello error occurred and could be one of "global", "product", "api", or "operation"</span></span>|<span data-ttu-id="0dfdf-152">否</span><span class="sxs-lookup"><span data-stu-id="0dfdf-152">No</span></span>|  
|<span data-ttu-id="0dfdf-153">區段</span><span class="sxs-lookup"><span data-stu-id="0dfdf-153">Section</span></span>|<span data-ttu-id="0dfdf-154">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-154">string</span></span>|<span data-ttu-id="0dfdf-155">發生錯誤的區段名稱，此名稱可為「輸入」、「後端」、「輸出」或「錯誤」其中之一。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-155">Section name where error occurred and could one of "inbound", "backend", "outbound", or "on-error".</span></span>|<span data-ttu-id="0dfdf-156">否</span><span class="sxs-lookup"><span data-stu-id="0dfdf-156">No</span></span>|  
|<span data-ttu-id="0dfdf-157">Path</span><span class="sxs-lookup"><span data-stu-id="0dfdf-157">Path</span></span>|<span data-ttu-id="0dfdf-158">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-158">string</span></span>|<span data-ttu-id="0dfdf-159">指定巢狀原則，例如「choose[3]/when[2]」。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-159">Specifies nested policy, e.g. "choose[3]/when[2]".</span></span>|<span data-ttu-id="0dfdf-160">否</span><span class="sxs-lookup"><span data-stu-id="0dfdf-160">No</span></span>|  
|<span data-ttu-id="0dfdf-161">PolicyId</span><span class="sxs-lookup"><span data-stu-id="0dfdf-161">PolicyId</span></span>|<span data-ttu-id="0dfdf-162">字串</span><span class="sxs-lookup"><span data-stu-id="0dfdf-162">string</span></span>|<span data-ttu-id="0dfdf-163">值為 hello`id`屬性，如果指定 hello 客戶，hello 原則時發生錯誤</span><span class="sxs-lookup"><span data-stu-id="0dfdf-163">Value of hello `id` attribute, if specified by hello customer, on hello policy where error occurred</span></span>|<span data-ttu-id="0dfdf-164">否</span><span class="sxs-lookup"><span data-stu-id="0dfdf-164">No</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="0dfdf-165">所有的原則有選用`id`hello 原則 toohello 根項目可加入的屬性。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-165">All policies have an optional `id` attribute that can be added toohello root element of hello policy.</span></span> <span data-ttu-id="0dfdf-166">如果這個屬性在原則中的錯誤狀況發生時，則可以使用 hello 擷取 hello hello 屬性值`context.LastError.PolicyId`屬性。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-166">If this attribute is present in a policy when an error condition occurs, hello value of hello attribute can be retrieved using hello `context.LastError.PolicyId` property.</span></span>  
  
## <a name="predefined-errors-for-built-in-steps"></a><span data-ttu-id="0dfdf-167">內建步驟的預先定義錯誤</span><span class="sxs-lookup"><span data-stu-id="0dfdf-167">Predefined errors for built-in steps</span></span>  
 <span data-ttu-id="0dfdf-168">hello 下列錯誤已預先定義的內建的處理步驟的 hello 評估期間可能發生的錯誤狀況。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-168">hello following errors are predefined for error conditions that can occur during hello evaluation of built-in processing steps.</span></span>  
  
|<span data-ttu-id="0dfdf-169">來源</span><span class="sxs-lookup"><span data-stu-id="0dfdf-169">Source</span></span>|<span data-ttu-id="0dfdf-170">條件</span><span class="sxs-lookup"><span data-stu-id="0dfdf-170">Condition</span></span>|<span data-ttu-id="0dfdf-171">原因</span><span class="sxs-lookup"><span data-stu-id="0dfdf-171">Reason</span></span>|<span data-ttu-id="0dfdf-172">訊息</span><span class="sxs-lookup"><span data-stu-id="0dfdf-172">Message</span></span>|  
|------------|---------------|------------|-------------|  
|<span data-ttu-id="0dfdf-173">組態</span><span class="sxs-lookup"><span data-stu-id="0dfdf-173">configuration</span></span>|<span data-ttu-id="0dfdf-174">Uri 不符合 tooany 應用程式開發介面或作業</span><span class="sxs-lookup"><span data-stu-id="0dfdf-174">Uri doesn't match tooany Api or Operation</span></span>|<span data-ttu-id="0dfdf-175">OperationNotFound</span><span class="sxs-lookup"><span data-stu-id="0dfdf-175">OperationNotFound</span></span>|<span data-ttu-id="0dfdf-176">內送要求 tooan 作業無法 toomatch。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-176">Unable toomatch incoming request tooan operation.</span></span>|  
|<span data-ttu-id="0dfdf-177">授權</span><span class="sxs-lookup"><span data-stu-id="0dfdf-177">authorization</span></span>|<span data-ttu-id="0dfdf-178">未提供訂用帳戶金鑰</span><span class="sxs-lookup"><span data-stu-id="0dfdf-178">Subscription key not supplied</span></span>|<span data-ttu-id="0dfdf-179">SubscriptionKeyNotFound</span><span class="sxs-lookup"><span data-stu-id="0dfdf-179">SubscriptionKeyNotFound</span></span>|<span data-ttu-id="0dfdf-180">存取被拒，因為 toomissing 訂閱金鑰。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-180">Access denied due toomissing subscription key.</span></span> <span data-ttu-id="0dfdf-181">進行要求 toothis API 時，請確定 tooinclude 訂閱金鑰。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-181">Make sure tooinclude subscription key when making requests toothis API.</span></span>|  
|<span data-ttu-id="0dfdf-182">授權</span><span class="sxs-lookup"><span data-stu-id="0dfdf-182">authorization</span></span>|<span data-ttu-id="0dfdf-183">訂用帳戶金鑰值無效</span><span class="sxs-lookup"><span data-stu-id="0dfdf-183">Subscription key value is invalid</span></span>|<span data-ttu-id="0dfdf-184">SubscriptionKeyInvalid</span><span class="sxs-lookup"><span data-stu-id="0dfdf-184">SubscriptionKeyInvalid</span></span>|<span data-ttu-id="0dfdf-185">存取被拒，因為 tooinvalid 訂閱金鑰。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-185">Access denied due tooinvalid subscription key.</span></span> <span data-ttu-id="0dfdf-186">請確定 tooprovide 有效的訂用帳戶的有效索引鍵。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-186">Make sure tooprovide a valid key for an active subscription.</span></span>|  
  
## <a name="predefined-errors-for-policies"></a><span data-ttu-id="0dfdf-187">原則的預先定義錯誤</span><span class="sxs-lookup"><span data-stu-id="0dfdf-187">Predefined errors for policies</span></span>  
 <span data-ttu-id="0dfdf-188">hello 下列錯誤會預先定義的原則評估期間可能發生的錯誤狀況。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-188">hello following errors are predefined for error conditions that can occur during policy evaluation.</span></span>  
  
|<span data-ttu-id="0dfdf-189">來源</span><span class="sxs-lookup"><span data-stu-id="0dfdf-189">Source</span></span>|<span data-ttu-id="0dfdf-190">條件</span><span class="sxs-lookup"><span data-stu-id="0dfdf-190">Condition</span></span>|<span data-ttu-id="0dfdf-191">原因</span><span class="sxs-lookup"><span data-stu-id="0dfdf-191">Reason</span></span>|<span data-ttu-id="0dfdf-192">訊息</span><span class="sxs-lookup"><span data-stu-id="0dfdf-192">Message</span></span>|  
|------------|---------------|------------|-------------|  
|<span data-ttu-id="0dfdf-193">rate-limit</span><span class="sxs-lookup"><span data-stu-id="0dfdf-193">rate-limit</span></span>|<span data-ttu-id="0dfdf-194">超過了速率限制</span><span class="sxs-lookup"><span data-stu-id="0dfdf-194">Rate limit exceeded</span></span>|<span data-ttu-id="0dfdf-195">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="0dfdf-195">RateLimitExceeded</span></span>|<span data-ttu-id="0dfdf-196">超過速率限制</span><span class="sxs-lookup"><span data-stu-id="0dfdf-196">Rate limit is exceeded</span></span>|  
|<span data-ttu-id="0dfdf-197">quota</span><span class="sxs-lookup"><span data-stu-id="0dfdf-197">quota</span></span>|<span data-ttu-id="0dfdf-198">超過配額</span><span class="sxs-lookup"><span data-stu-id="0dfdf-198">Quota exceeded</span></span>|<span data-ttu-id="0dfdf-199">QuotaExceeded</span><span class="sxs-lookup"><span data-stu-id="0dfdf-199">QuotaExceeded</span></span>|<span data-ttu-id="0dfdf-200">呼叫量配額不足。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-200">Out of call volume quota.</span></span> <span data-ttu-id="0dfdf-201">會在 xx:xx:xx 中補充配額。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-201">Quota will be replenished in xx:xx:xx.</span></span> <span data-ttu-id="0dfdf-202">-或- 頻寬配額不足。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-202">-or- Out of bandwidth quota.</span></span> <span data-ttu-id="0dfdf-203">會在 xx:xx:xx 中補充配額。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-203">Quota will be replenished in xx:xx:xx.</span></span>|  
|<span data-ttu-id="0dfdf-204">jsonp</span><span class="sxs-lookup"><span data-stu-id="0dfdf-204">jsonp</span></span>|<span data-ttu-id="0dfdf-205">回呼參數值無效 (包含錯誤的字元)</span><span class="sxs-lookup"><span data-stu-id="0dfdf-205">Callback parameter value is invalid (contains wrong characters)</span></span>|<span data-ttu-id="0dfdf-206">CallbackParameterInvalid</span><span class="sxs-lookup"><span data-stu-id="0dfdf-206">CallbackParameterInvalid</span></span>|<span data-ttu-id="0dfdf-207">回呼參數 {callback-parameter-name} 的值不是有效的 JavaScript 識別碼。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-207">Value of callback parameter {callback-parameter-name} is not a valid JavaScript identifier.</span></span>|  
|<span data-ttu-id="0dfdf-208">ip-filter</span><span class="sxs-lookup"><span data-stu-id="0dfdf-208">ip-filter</span></span>|<span data-ttu-id="0dfdf-209">從要求失敗的 tooparse 呼叫端 IP</span><span class="sxs-lookup"><span data-stu-id="0dfdf-209">Failed tooparse caller IP from request</span></span>|<span data-ttu-id="0dfdf-210">FailedToParseCallerIP</span><span class="sxs-lookup"><span data-stu-id="0dfdf-210">FailedToParseCallerIP</span></span>|<span data-ttu-id="0dfdf-211">無法 tooestablish hello 呼叫端的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-211">Failed tooestablish IP address for hello caller.</span></span> <span data-ttu-id="0dfdf-212">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-212">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-213">ip-filter</span><span class="sxs-lookup"><span data-stu-id="0dfdf-213">ip-filter</span></span>|<span data-ttu-id="0dfdf-214">呼叫端 IP 不在允許清單中</span><span class="sxs-lookup"><span data-stu-id="0dfdf-214">Caller IP is not in allowed list</span></span>|<span data-ttu-id="0dfdf-215">CallerIpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="0dfdf-215">CallerIpNotAllowed</span></span>|<span data-ttu-id="0dfdf-216">不允許呼叫端 IP 位址 {ip-address}。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-216">Caller IP address {ip-address} is not allowed.</span></span> <span data-ttu-id="0dfdf-217">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-217">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-218">ip-filter</span><span class="sxs-lookup"><span data-stu-id="0dfdf-218">ip-filter</span></span>|<span data-ttu-id="0dfdf-219">呼叫端 IP 位於封鎖清單中</span><span class="sxs-lookup"><span data-stu-id="0dfdf-219">Caller IP is in blocked list</span></span>|<span data-ttu-id="0dfdf-220">CallerIpBlocked</span><span class="sxs-lookup"><span data-stu-id="0dfdf-220">CallerIpBlocked</span></span>|<span data-ttu-id="0dfdf-221">呼叫端 IP 位址遭到封鎖。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-221">Caller IP address is blocked.</span></span> <span data-ttu-id="0dfdf-222">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-222">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-223">check-header</span><span class="sxs-lookup"><span data-stu-id="0dfdf-223">check-header</span></span>|<span data-ttu-id="0dfdf-224">所需標頭不存在或找不到值</span><span class="sxs-lookup"><span data-stu-id="0dfdf-224">Required header not presented or value is missing</span></span>|<span data-ttu-id="0dfdf-225">HeaderNotFound</span><span class="sxs-lookup"><span data-stu-id="0dfdf-225">HeaderNotFound</span></span>|<span data-ttu-id="0dfdf-226">Hello 要求中找不到標頭 {標頭-名稱}。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-226">Header {header-name} was not found in hello request.</span></span> <span data-ttu-id="0dfdf-227">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-227">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-228">check-header</span><span class="sxs-lookup"><span data-stu-id="0dfdf-228">check-header</span></span>|<span data-ttu-id="0dfdf-229">所需標頭不存在或找不到值</span><span class="sxs-lookup"><span data-stu-id="0dfdf-229">Required header not presented or value is missing</span></span>|<span data-ttu-id="0dfdf-230">HeaderValueNotAllowed</span><span class="sxs-lookup"><span data-stu-id="0dfdf-230">HeaderValueNotAllowed</span></span>|<span data-ttu-id="0dfdf-231">不允許標頭 {header-name} 值 {header-value}。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-231">Header {header-name} value of {header-value} is not allowed.</span></span> <span data-ttu-id="0dfdf-232">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-232">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-233">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-233">validate-jwt</span></span>|<span data-ttu-id="0dfdf-234">要求中沒有 Jwt 權杖</span><span class="sxs-lookup"><span data-stu-id="0dfdf-234">Jwt token is missing in request</span></span>|<span data-ttu-id="0dfdf-235">TokenNotFound</span><span class="sxs-lookup"><span data-stu-id="0dfdf-235">TokenNotFound</span></span>|<span data-ttu-id="0dfdf-236">JWT hello 要求中找不到。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-236">JWT not found in hello request.</span></span> <span data-ttu-id="0dfdf-237">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-237">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-238">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-238">validate-jwt</span></span>|<span data-ttu-id="0dfdf-239">簽章驗證失敗</span><span class="sxs-lookup"><span data-stu-id="0dfdf-239">Signature validation failed</span></span>|<span data-ttu-id="0dfdf-240">TokenSignatureInvalid</span><span class="sxs-lookup"><span data-stu-id="0dfdf-240">TokenSignatureInvalid</span></span>|<span data-ttu-id="0dfdf-241"><來自 jwt 程式庫的訊息\>。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-241"><message from jwt library\>.</span></span> <span data-ttu-id="0dfdf-242">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-242">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-243">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-243">validate-jwt</span></span>|<span data-ttu-id="0dfdf-244">無效的對象</span><span class="sxs-lookup"><span data-stu-id="0dfdf-244">Invalid audience</span></span>|<span data-ttu-id="0dfdf-245">TokenAudienceNotAllowed</span><span class="sxs-lookup"><span data-stu-id="0dfdf-245">TokenAudienceNotAllowed</span></span>|<span data-ttu-id="0dfdf-246"><來自 jwt 程式庫的訊息\>。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-246"><message from jwt library\>.</span></span> <span data-ttu-id="0dfdf-247">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-247">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-248">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-248">validate-jwt</span></span>|<span data-ttu-id="0dfdf-249">無效的簽發者</span><span class="sxs-lookup"><span data-stu-id="0dfdf-249">Invalid issuer</span></span>|<span data-ttu-id="0dfdf-250">TokenIssuerNotAllowed</span><span class="sxs-lookup"><span data-stu-id="0dfdf-250">TokenIssuerNotAllowed</span></span>|<span data-ttu-id="0dfdf-251"><來自 jwt 程式庫的訊息\>。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-251"><message from jwt library\>.</span></span> <span data-ttu-id="0dfdf-252">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-252">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-253">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-253">validate-jwt</span></span>|<span data-ttu-id="0dfdf-254">權杖過期</span><span class="sxs-lookup"><span data-stu-id="0dfdf-254">Token expired</span></span>|<span data-ttu-id="0dfdf-255">TokenExpired</span><span class="sxs-lookup"><span data-stu-id="0dfdf-255">TokenExpired</span></span>|<span data-ttu-id="0dfdf-256"><來自 jwt 程式庫的訊息\>。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-256"><message from jwt library\>.</span></span> <span data-ttu-id="0dfdf-257">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-257">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-258">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-258">validate-jwt</span></span>|<span data-ttu-id="0dfdf-259">識別碼未解析簽章金鑰</span><span class="sxs-lookup"><span data-stu-id="0dfdf-259">Signature key was not resolved by id</span></span>|<span data-ttu-id="0dfdf-260">TokenSignatureKeyNotFound</span><span class="sxs-lookup"><span data-stu-id="0dfdf-260">TokenSignatureKeyNotFound</span></span>|<span data-ttu-id="0dfdf-261"><來自 jwt 程式庫的訊息\>。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-261"><message from jwt library\>.</span></span> <span data-ttu-id="0dfdf-262">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-262">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-263">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-263">validate-jwt</span></span>|<span data-ttu-id="0dfdf-264">權杖中沒有必要的宣告</span><span class="sxs-lookup"><span data-stu-id="0dfdf-264">Required claims are missing from token</span></span>|<span data-ttu-id="0dfdf-265">TokenClaimNotFound</span><span class="sxs-lookup"><span data-stu-id="0dfdf-265">TokenClaimNotFound</span></span>|<span data-ttu-id="0dfdf-266">JWT 權杖中遺漏 hello 下列宣告： < c1\>，< c2\>，...</span><span class="sxs-lookup"><span data-stu-id="0dfdf-266">JWT token is missing hello following claims: <c1\>, <c2\>, …</span></span> <span data-ttu-id="0dfdf-267">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-267">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-268">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-268">validate-jwt</span></span>|<span data-ttu-id="0dfdf-269">宣告值不相符</span><span class="sxs-lookup"><span data-stu-id="0dfdf-269">Claim values mismatch</span></span>|<span data-ttu-id="0dfdf-270">TokenClaimValueNotAllowed</span><span class="sxs-lookup"><span data-stu-id="0dfdf-270">TokenClaimValueNotAllowed</span></span>|<span data-ttu-id="0dfdf-271">不允許宣告 {claim-name} 值 {claim-value}。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-271">Claim {claim-name} value of {claim-value} is not allowed.</span></span> <span data-ttu-id="0dfdf-272">拒絕存取。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-272">Access denied.</span></span>|  
|<span data-ttu-id="0dfdf-273">validate-jwt</span><span class="sxs-lookup"><span data-stu-id="0dfdf-273">validate-jwt</span></span>|<span data-ttu-id="0dfdf-274">其他驗證失敗</span><span class="sxs-lookup"><span data-stu-id="0dfdf-274">Other validation failures</span></span>|<span data-ttu-id="0dfdf-275">JwtInvalid</span><span class="sxs-lookup"><span data-stu-id="0dfdf-275">JwtInvalid</span></span>|<span data-ttu-id="0dfdf-276"><來自 jwt 程式庫的訊息\></span><span class="sxs-lookup"><span data-stu-id="0dfdf-276"><message from jwt library\></span></span>|

## <a name="next-steps"></a><span data-ttu-id="0dfdf-277">後續步驟</span><span class="sxs-lookup"><span data-stu-id="0dfdf-277">Next steps</span></span>
<span data-ttu-id="0dfdf-278">如需有關使用原則的詳細資訊，請參閱 [API 管理中的原則](api-management-howto-policies.md)。</span><span class="sxs-lookup"><span data-stu-id="0dfdf-278">For more information working with policies, see [Policies in API Management](api-management-howto-policies.md).</span></span>  