---
title: "在 Azure API 管理角色型存取控制的 aaaHow tooUse |Microsoft 文件"
description: "了解 toouse hello 內建的角色，並在 Azure API 管理中建立自訂角色"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 364cd53e-88fb-4301-a093-f132fa1f88f5
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/30/2017
ms.author: apimpm
ms.openlocfilehash: c51da2ff6886ebcaf796022e3a759c67f36670a4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="how-toouse-role-based-access-control-in-azure-api-management"></a><span data-ttu-id="b6ee9-103">TooUse 角色型存取控制的方式在 Azure API 管理</span><span class="sxs-lookup"><span data-stu-id="b6ee9-103">How tooUse Role-Based Access Control in Azure API Management</span></span>
<span data-ttu-id="b6ee9-104">Azure API 管理會依賴的 API 管理服務和實體 （例如，應用程式開發介面，原則） 的所有存取控制 (RBAC) tooenable 精細存取管理。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-104">Azure API Management relies on Azure Role-Based Access Control (RBAC) tooenable fine-grained access management for API Management services and entities (e.g., APIs, policies).</span></span> <span data-ttu-id="b6ee9-105">這篇文章提供您的 hello 內建和自訂角色概觀 API 管理中。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-105">This article gives you an overview of hello built-in and custom roles in API Management.</span></span> <span data-ttu-id="b6ee9-106">如果您想需 hello Azure 入口網站中存取管理的詳細資訊，請參閱[hello Azure 入口網站中存取管理使用者入門](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="b6ee9-106">If you want more details on access management in hello Azure portal, see [Get started with access management in hello Azure portal](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span></span>

## <a name="built-in-roles"></a><span data-ttu-id="b6ee9-107">內建角色</span><span class="sxs-lookup"><span data-stu-id="b6ee9-107">Built-in Roles</span></span>
<span data-ttu-id="b6ee9-108">API 管理目前提供 3 內建的角色，並將在未來附近 hello 中加入 2 個角色。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-108">API Management currently provides 3 built-in roles and will add 2 more roles in hello near future.</span></span> <span data-ttu-id="b6ee9-109">這些角色可以指派到不同的範圍，包括訂用帳戶、資源群組，以及個別 API 管理執行個體。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-109">These roles can be assigned at differnt scopes including subscription, resource group, and individual API Management instance.</span></span> <span data-ttu-id="b6ee9-110">比方說，如果 hello"Azure API 管理服務讀取器 」 角色被指派 tooan hello 資源群組層級的使用者，則 hello 使用者將有 hello 資源群組內的讀取權限 tooall API 管理執行個體。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-110">For instance, if hello "Azure API Management Service Reader" role is assigned tooan user at hello resource group level, then hello user will have read access tooall API Management instances inside hello resource group.</span></span> 

<span data-ttu-id="b6ee9-111">hello 下表提供的 hello 的簡短說明內建的角色。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-111">hello following table provides brief descriptions of hello built-in roles.</span></span> <span data-ttu-id="b6ee9-112">您可以指派這些角色使用 hello Azure 入口網站或其他工具，包括 Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell)，Azure[命令列介面](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli)，和[REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest)。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-112">You can assign these roles using hello Azure Portal or other tools including Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [Command-line interface](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), and [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span></span> <span data-ttu-id="b6ee9-113">如需詳細資訊，關於如何 tooassign 內建的角色，請參閱[使用角色指派 toomanage 存取 tooyour Azure 訂用帳戶資源](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-113">For details about how tooassign built-in roles, see [Use role assignments toomanage access tooyour Azure subscription resources](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span></span>

| <span data-ttu-id="b6ee9-114">角色</span><span class="sxs-lookup"><span data-stu-id="b6ee9-114">Role</span></span>          | <span data-ttu-id="b6ee9-115">讀取權限<sup>[1]</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-115">Read access<sup>[1]</sup></span></span> | <span data-ttu-id="b6ee9-116">寫入權限<sup>[2]</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-116">Write access<sup>[2]</sup></span></span> | <span data-ttu-id="b6ee9-117">服務建立、刪除、調整，VPN 及自訂網域設定</span><span class="sxs-lookup"><span data-stu-id="b6ee9-117">Service creation, deletion, scaling, VPN and custom domain configuration</span></span> | <span data-ttu-id="b6ee9-118">存取 toolegacy Publsiher 入口網站</span><span class="sxs-lookup"><span data-stu-id="b6ee9-118">Access toolegacy Publsiher Portal</span></span> | <span data-ttu-id="b6ee9-119">說明</span><span class="sxs-lookup"><span data-stu-id="b6ee9-119">Description</span></span>
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| <span data-ttu-id="b6ee9-120">Azure API 管理服務參與者</span><span class="sxs-lookup"><span data-stu-id="b6ee9-120">Azure API Management Service Contributor</span></span> | <span data-ttu-id="b6ee9-121">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-121">✓</span></span> | <span data-ttu-id="b6ee9-122">✓ </span><span class="sxs-lookup"><span data-stu-id="b6ee9-122">✓</span></span> | <span data-ttu-id="b6ee9-123">✓ </span><span class="sxs-lookup"><span data-stu-id="b6ee9-123">✓</span></span> | <span data-ttu-id="b6ee9-124">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-124">✓</span></span> | <span data-ttu-id="b6ee9-125">進階使用者。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-125">Super user.</span></span> <span data-ttu-id="b6ee9-126">具有完整的 CRUD 存取 tooAPI 管理服務和實體 （例如，應用程式開發介面、 原則）。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-126">Has full CRUD access tooAPI Management services and entities (e.g., APIs, Policies).</span></span> <span data-ttu-id="b6ee9-127">具有存取 toohello 舊版發行者入口網站。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-127">Has access toohello legacy publisher portal.</span></span> |
| <span data-ttu-id="b6ee9-128">Azure API 管理服務讀者</span><span class="sxs-lookup"><span data-stu-id="b6ee9-128">Azure API Management Service Reader</span></span> | <span data-ttu-id="b6ee9-129">✓ </span><span class="sxs-lookup"><span data-stu-id="b6ee9-129">✓</span></span> | | || <span data-ttu-id="b6ee9-130">具有唯讀存取 tooAPI 管理服務和實體。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-130">Has read-only access tooAPI Management services and entities.</span></span> |
| <span data-ttu-id="b6ee9-131">Azure API 管理服務操作員</span><span class="sxs-lookup"><span data-stu-id="b6ee9-131">Azure API Management Service Operator</span></span> | <span data-ttu-id="b6ee9-132">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-132">✓</span></span> | | <span data-ttu-id="b6ee9-133">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-133">✓</span></span> | | <span data-ttu-id="b6ee9-134">可以管理 API 管理服務，但無法管理實體。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-134">Can manage API Management services but not entities.</span></span>|
| <span data-ttu-id="b6ee9-135">Azure API 管理服務編輯者<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-135">Azure API Management Service Editor<sup>*</sup></span></span> | <span data-ttu-id="b6ee9-136">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-136">✓</span></span> | <span data-ttu-id="b6ee9-137">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-137">✓</span></span> | |  | <span data-ttu-id="b6ee9-138">可以管理 API 管理實體，但無法管理服務。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-138">Can manage API Management entities but not services.</span></span>|
| <span data-ttu-id="b6ee9-139">Azure API 管理內容管理員<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-139">Azure API Management Content Manager<sup>*</sup></span></span> | <span data-ttu-id="b6ee9-140">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-140">✓</span></span> | | | <span data-ttu-id="b6ee9-141">✓</span><span class="sxs-lookup"><span data-stu-id="b6ee9-141">✓</span></span> | <span data-ttu-id="b6ee9-142">可以管理開發人員入口網站。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-142">Can manage developer portal.</span></span> <span data-ttu-id="b6ee9-143">唯讀存取 tooservices 和實體。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-143">Read-only access tooservices and entities.</span></span>|

<span data-ttu-id="b6ee9-144"><sup>[1] 的讀取權限 tooAPI 管理服務和實體 （例如，應用程式開發介面，原則）</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-144"><sup>[1] Read access tooAPI Management services and entities (e.g., APIs, policies)</sup></span></span>

<span data-ttu-id="b6ee9-145"><sup>[2] 寫入權限 tooAPI 管理服務和實體，除了下列 opeartions: 1） 執行個體建立、 刪除和調整 2) VPN 組態 3） 自訂網域名稱設定</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-145"><sup>[2] Write access tooAPI Management services and entities except following opeartions: 1) Instance creation, deletion, and scaling 2) VPN configuration  3) Custom domain name setup</sup></span></span>

<span data-ttu-id="b6ee9-146"><sup>\*hello 服務編輯器角色後才能我們移轉所有 admin UI 中從 hello 現有發行者入口網站 toohello Azure 入口網站。hello 內容管理員角色可 tooonly hello 發行者入口網站，將會重構之後包含功能相關的 toomanaging hello 開發人員入口網站。</sup></span><span class="sxs-lookup"><span data-stu-id="b6ee9-146"><sup>\* hello Service Editor role will be available after we migrate all admin UI from hello existing publisher portal toohello Azure portal. hello Content Manager role will be available after hello publisher portal is refactored tooonly contain functionalities related toomanaging hello developer portal.</sup></span></span>  


## <a name="custom-roles"></a><span data-ttu-id="b6ee9-147">自訂角色</span><span class="sxs-lookup"><span data-stu-id="b6ee9-147">Custom Roles</span></span>
<span data-ttu-id="b6ee9-148">如果 hello 內建角色都不符合您的特定需求，自訂角色可以建立 tooprovide 更精細存取管理 API 管理的實體。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-148">If none of hello built-in roles meet your specific needs, custom roles can be created tooprovide more granular access management for API Management entities.</span></span> <span data-ttu-id="b6ee9-149">例如，您可以建立自訂安全性角色的唯讀存取 tooan API 管理服務，但僅有寫入權限 tooone 特定 API。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-149">For example, you can create a custom role which has read-only access tooan API Management service but only has write access tooone specific API.</span></span> <span data-ttu-id="b6ee9-150">toolearn 更多詳細的自訂角色，請參閱[Azure rbac 進行中的自訂角色](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-150">toolearn more details about custom roles, see [Custom Roles in Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span></span> 

<span data-ttu-id="b6ee9-151">當您建立自訂安全性角色時，很容易 toostart 與其中一個 hello 內建角色。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-151">When you create a custom role, it is easier toostart with one of hello built-in roles.</span></span> <span data-ttu-id="b6ee9-152">編輯 hello 屬性 tooadd hello 動作、 NotActions 或 AssignableScopes，然後儲存 hello 變更為新的角色。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-152">Edit hello attributes tooadd hello Actions, NotActions, or AssignableScopes, then save hello changes as a new role.</span></span> <span data-ttu-id="b6ee9-153">hello 下列範例會開始與 hello"Azure API 管理服務讀取器 」 角色並建立自訂安全性角色稱為 「 計算機 API 編輯器 」。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-153">hello following example begins with hello "Azure API Managment Service Reader" role and creates a custom role called "Calculator API Editor".</span></span> <span data-ttu-id="b6ee9-154">只有 tooa 特定 API 因此將只具有存取 toothat API hello 自訂角色指派。</span><span class="sxs-lookup"><span data-stu-id="b6ee9-154">hello custom role can be assigned only tooa specific API therefore will only has access toothat API.</span></span> 

```
$role = Get-AzureRmRoleDefinition "API Management Service Reader Role"
$role.Id = $null
$role.Name = 'Calculator API Contributor'
$role.Description = 'Has read access tooContoso APIM instance and write access toohello Calculator API.'
$role.Actions.Add('Microsoft.ApiManagement/service/apis/write')
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add('/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>')
New-AzureRmRoleDefinition -Role $role
New-AzureRmRoleAssignment -ObjectId <object ID of hello user account> -RoleDefinitionName 'Calculator API Contributor' -Scope '/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>'
```

## <a name="watch-a-video-overview"></a><span data-ttu-id="b6ee9-155">觀看影片概觀</span><span class="sxs-lookup"><span data-stu-id="b6ee9-155">Watch a Video Overview</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/AzureApiMgmt/Role-Based-Access-Control-in-API-Management/player]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="b6ee9-156">後續步驟</span><span class="sxs-lookup"><span data-stu-id="b6ee9-156">Next Steps</span></span>

* <span data-ttu-id="b6ee9-157">深入了解 Azure 中的角色型存取控制</span><span class="sxs-lookup"><span data-stu-id="b6ee9-157">Learn more about Role-Based Access Control in Azure</span></span>
  * [<span data-ttu-id="b6ee9-158">開始使用 hello Azure 入口網站中存取管理</span><span class="sxs-lookup"><span data-stu-id="b6ee9-158">Get started with access management in hello Azure portal</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="b6ee9-159">使用角色指派 toomanage 存取 tooyour Azure 訂用帳戶資源</span><span class="sxs-lookup"><span data-stu-id="b6ee9-159">Use role assignments toomanage access tooyour Azure subscription resources</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="b6ee9-160">Azure RBAC 中的自訂角色</span><span class="sxs-lookup"><span data-stu-id="b6ee9-160">Custom Roles in Azure RBAC</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)
