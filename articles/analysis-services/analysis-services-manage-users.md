---
title: "Azure Analysis Services 中的驗證和使用者權限 | Microsoft Docs"
description: "了解 Azure Analysis Services 中的驗證和使用者權限。"
services: analysis-services
documentationcenter: 
author: minewiskan
manager: erikre
editor: 
tags: 
ms.assetid: 
ms.service: analysis-services
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 08/15/2017
ms.author: owend
ms.openlocfilehash: 80dd9abdd6fd1e6bf024c1dd976466ff79ff98e7
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="authentication-and-user-permissions"></a><span data-ttu-id="04c56-103">驗證和使用者權限</span><span class="sxs-lookup"><span data-stu-id="04c56-103">Authentication and user permissions</span></span>
<span data-ttu-id="04c56-104">Azure Analysis Services 會使用 Azure Active Directory (Azure AD) 進行身分識別管理和使用者驗證。</span><span class="sxs-lookup"><span data-stu-id="04c56-104">Azure Analysis Services uses Azure Active Directory (Azure AD) for identity management and user authentication.</span></span> <span data-ttu-id="04c56-105">任何建立、管理或連線到 Azure Analysis Services 伺服器的使用者在相同的訂用帳戶中必須 [Azure AD 租用戶](../active-directory/active-directory-administer.md)的有效使用者身分識別。</span><span class="sxs-lookup"><span data-stu-id="04c56-105">Any user creating, managing, or connecting to an Azure Analysis Services server must have a valid user identity in an [Azure AD tenant](../active-directory/active-directory-administer.md) in the same subscription.</span></span>

<span data-ttu-id="04c56-106">Azure Analysis Services 支援 [Azure AD B2B 共同作業](../active-directory/active-directory-b2b-what-is-azure-ad-b2b.md)。</span><span class="sxs-lookup"><span data-stu-id="04c56-106">Azure Analysis Services supports [Azure AD B2B collaboration](../active-directory/active-directory-b2b-what-is-azure-ad-b2b.md).</span></span> <span data-ttu-id="04c56-107">透過 B2B，組織外部的使用者可以受邀成為 Azure AD 目錄中的來賓使用者。</span><span class="sxs-lookup"><span data-stu-id="04c56-107">With B2B, users from outside an organization can be invited as guest users in an Azure AD directory.</span></span> <span data-ttu-id="04c56-108">來賓可以來自另一個 Azure AD 租用戶目錄或任何有效的電子郵件地址。</span><span class="sxs-lookup"><span data-stu-id="04c56-108">Guests can be from another Azure AD tenant directory or any valid email address.</span></span> <span data-ttu-id="04c56-109">使用者一旦受邀並接受 Azure 透過電子郵件傳送的邀請，使用者身分識別就會新增至租用戶目錄。</span><span class="sxs-lookup"><span data-stu-id="04c56-109">Once invited and the user accepts the invitation sent by email from Azure, the user identity is added to the tenant directory.</span></span> <span data-ttu-id="04c56-110">這些身分識別可以接著新增至安全性群組或成為伺服器管理員或資料庫角色的成員。</span><span class="sxs-lookup"><span data-stu-id="04c56-110">Those identities can then be added to security groups or as members of a server administrator or database role.</span></span>

![Azure Analysis Services 驗證架構](./media/analysis-services-manage-users/aas-manage-users-arch.png)

## <a name="authentication"></a><span data-ttu-id="04c56-112">驗證</span><span class="sxs-lookup"><span data-stu-id="04c56-112">Authentication</span></span>
<span data-ttu-id="04c56-113">所有用戶端應用程式和工具會使用一或多個 Analysis Services [用戶端程式庫](analysis-services-data-providers.md) (AMO、MSOLAP、ADOMD) 連線到伺服器。</span><span class="sxs-lookup"><span data-stu-id="04c56-113">All client applications and tools use one or more of the Analysis Services [client libraries](analysis-services-data-providers.md) (AMO, MSOLAP, ADOMD) to connect to a server.</span></span> 

<span data-ttu-id="04c56-114">這三個用戶端程式庫全都支援 Azure AD 互動式流程和非互動式驗證方法。</span><span class="sxs-lookup"><span data-stu-id="04c56-114">All three client libraries support both Azure AD interactive flow, and non-interactive authentication methods.</span></span> <span data-ttu-id="04c56-115">兩種非互動式方法 (Active Directory 密碼和 Active Directory 整合式驗證) 可以在利用 AMOMD 和 MSOLAP 的應用程式中使用。</span><span class="sxs-lookup"><span data-stu-id="04c56-115">The two non-interactive methods, Active Directory Password and Active Directory Integrated Authentication methods can be used in applications utilizing AMOMD and MSOLAP.</span></span> <span data-ttu-id="04c56-116">這兩種方法絕對不會產生快顯對話方塊。</span><span class="sxs-lookup"><span data-stu-id="04c56-116">These two methods never result in pop-up dialog boxes.</span></span>

<span data-ttu-id="04c56-117">Excel 和 Power BI Desktop 等用戶端應用程式，以及 SSMS 和 SSDT 等工具會在更新至最新版本時，安裝最新版的程式庫。</span><span class="sxs-lookup"><span data-stu-id="04c56-117">Client applications like Excel and Power BI Desktop, and tools like SSMS and SSDT install the latest versions of the libraries when updated to the latest release.</span></span> <span data-ttu-id="04c56-118">Power BI Desktop、SSMS 和 SSDT 會每月更新。</span><span class="sxs-lookup"><span data-stu-id="04c56-118">Power BI Desktop, SSMS, and SSDT are updated monthly.</span></span> <span data-ttu-id="04c56-119">Excel 會[與 Office 365 一起更新](https://support.office.com/en-us/article/When-do-I-get-the-newest-features-in-Office-2016-for-Office-365-da36192c-58b9-4bc9-8d51-bb6eed468516)。</span><span class="sxs-lookup"><span data-stu-id="04c56-119">Excel is [updated with Office 365](https://support.office.com/en-us/article/When-do-I-get-the-newest-features-in-Office-2016-for-Office-365-da36192c-58b9-4bc9-8d51-bb6eed468516).</span></span> <span data-ttu-id="04c56-120">Office 365 更新較不頻繁，而且有些組織會使用延遲的通道，這表示更新會延遲多達三個月。</span><span class="sxs-lookup"><span data-stu-id="04c56-120">Office 365 updates are less frequent, and some organizations use the deferred channel, meaning updates are deferred up to three months.</span></span>

 <span data-ttu-id="04c56-121">視您使用的用戶端應用程式或工具而定，驗證類型和登入方式可能會不同。</span><span class="sxs-lookup"><span data-stu-id="04c56-121">Depending on the client application or tool you use, the type of authentication and how you sign in may be different.</span></span> <span data-ttu-id="04c56-122">每個應用程式支援使用不同的功能來連線到 Azure Analysis Services 等雲端服務。</span><span class="sxs-lookup"><span data-stu-id="04c56-122">Each application may support different features for connecting to cloud services like Azure Analysis Services.</span></span>


### <a name="sql-server-management-studio-ssms"></a><span data-ttu-id="04c56-123">SQL Server Management Studio (SSMS)</span><span class="sxs-lookup"><span data-stu-id="04c56-123">SQL Server Management Studio (SSMS)</span></span>
<span data-ttu-id="04c56-124">Azure Analysis Services 伺服器使用 Windows 驗證、Active Directory 密碼驗證和 Active Directory 通用驗證，支援來自 [SSMS V17.1](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms) 和更高版本的連線。</span><span class="sxs-lookup"><span data-stu-id="04c56-124">Azure Analysis Services servers support connections from [SSMS V17.1](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms) and higher by using Windows Authentication, Active Directory Password Authentication, and Active Directory Universal Authentication.</span></span> <span data-ttu-id="04c56-125">一般而言，建議您使用 Active Directory 通用驗證，因為：</span><span class="sxs-lookup"><span data-stu-id="04c56-125">In general, it's recommended you use Active Directory Universal Authentication because:</span></span>

*  <span data-ttu-id="04c56-126">支援互動式和非互動式驗證方法。</span><span class="sxs-lookup"><span data-stu-id="04c56-126">Supports interactive and non-interactive authentication methods.</span></span>

*  <span data-ttu-id="04c56-127">支援受邀加入 AS Azure 租用戶的 Azure B2B 來賓使用者。</span><span class="sxs-lookup"><span data-stu-id="04c56-127">Supports Azure B2B guest users invited into the Azure AS tenant.</span></span> <span data-ttu-id="04c56-128">連線到伺服器時，來賓使用者必須選取 Active Directory 通用驗證。</span><span class="sxs-lookup"><span data-stu-id="04c56-128">When connecting to a server, guest users must select Active Directory Universal Authentication when connecting to the server.</span></span>

*  <span data-ttu-id="04c56-129">支援 Multi-Factor Authentication (MFA)。</span><span class="sxs-lookup"><span data-stu-id="04c56-129">Supports Multi-Factor Authentication (MFA).</span></span> <span data-ttu-id="04c56-130">Azure MFA 以一系列驗證選項協助保護資料和應用程式的存取：電話、簡訊、含有 PIN 的智慧卡或行動應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="04c56-130">Azure MFA helps safeguard access to data and applications with a range of verification options: phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="04c56-131">搭配 Azure AD 使用互動式 MFA 時，會出現快顯對話方塊以進行驗證。</span><span class="sxs-lookup"><span data-stu-id="04c56-131">Interactive MFA with Azure AD can result in a pop-up dialog box for validation.</span></span>

### <a name="sql-server-data-tools-ssdt"></a><span data-ttu-id="04c56-132">SQL Server 資料工具 (SSDT)</span><span class="sxs-lookup"><span data-stu-id="04c56-132">SQL Server Data Tools (SSDT)</span></span>
<span data-ttu-id="04c56-133">SSDT 會使用 Active Directory 通用驗證搭配 MFA 支援來連線到 Azure Analysis Services。</span><span class="sxs-lookup"><span data-stu-id="04c56-133">SSDT connects to Azure Analysis Services by using Active Directory Universal Authentication with MFA support.</span></span> <span data-ttu-id="04c56-134">系統會提示使用者在首次部署時使用其組織識別碼 (電子郵件) 來登入 Azure。</span><span class="sxs-lookup"><span data-stu-id="04c56-134">Users are prompted to sign in to Azure on the first deployment by using their organizational ID (email).</span></span> <span data-ttu-id="04c56-135">使用者必須在其部署至的伺服器上，使用具有伺服器管理員權限的帳戶登入 Azure 。</span><span class="sxs-lookup"><span data-stu-id="04c56-135">Users must sign in to Azure with an account with server administrator permissions on the server they are deploying to.</span></span> <span data-ttu-id="04c56-136">第一次登入 Azure 時會指派權杖。</span><span class="sxs-lookup"><span data-stu-id="04c56-136">When signing in to Azure the first time, a token is assigned.</span></span> <span data-ttu-id="04c56-137">SSDT 會快取記憶體內部的權杖，以供未來重新連線。</span><span class="sxs-lookup"><span data-stu-id="04c56-137">SSDT caches the token in-memory for future reconnects.</span></span>

### <a name="power-bi-desktop"></a><span data-ttu-id="04c56-138">Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="04c56-138">Power BI Desktop</span></span>
<span data-ttu-id="04c56-139">Power BI Desktop 會使用 Active Directory 通用驗證搭配 MFA 支援來連線到 Azure Analysis Services。</span><span class="sxs-lookup"><span data-stu-id="04c56-139">Power BI Desktop connects to Azure Analysis Services using Active Directory Universal Authentication with MFA support.</span></span> <span data-ttu-id="04c56-140">系統會提示使用者在首次連線時使用其組織識別碼 (電子郵件) 來登入 Azure。</span><span class="sxs-lookup"><span data-stu-id="04c56-140">Users are prompted to sign in to Azure on the first connection by using their organizational ID (email).</span></span> <span data-ttu-id="04c56-141">使用者必須使用伺服器管理員或資料庫角色隨附的帳戶來登入 Azure。</span><span class="sxs-lookup"><span data-stu-id="04c56-141">Users must sign in to Azure with an account that is included in a server administrator or database role.</span></span>

### <a name="excel"></a><span data-ttu-id="04c56-142">Excel</span><span class="sxs-lookup"><span data-stu-id="04c56-142">Excel</span></span>
<span data-ttu-id="04c56-143">Excel 使用者可以使用 Windows 帳戶、組織識別碼 (電子郵件地址) 或外部電子郵件地址，連線到伺服器。</span><span class="sxs-lookup"><span data-stu-id="04c56-143">Excel users can connect to a server by using a Windows account, an organization ID (email address), or an external email address.</span></span> <span data-ttu-id="04c56-144">外部電子郵件身分識別必須以來賓使用者的身分存在於 Azure AD 中。</span><span class="sxs-lookup"><span data-stu-id="04c56-144">External email identities must exist in the Azure AD as a guest user.</span></span>

## <a name="user-permissions"></a><span data-ttu-id="04c56-145">使用者權限</span><span class="sxs-lookup"><span data-stu-id="04c56-145">User permissions</span></span>

<span data-ttu-id="04c56-146">**伺服器管理員**專屬於 Azure Analysis Services 伺服器執行個體。</span><span class="sxs-lookup"><span data-stu-id="04c56-146">**Server administrators** are specific to an Azure Analysis Services server instance.</span></span> <span data-ttu-id="04c56-147">他們會使用 Azure 入口網站、SSMS 和 SSDT 等工具進行連線，以執行新增資料庫新增和管理使用者角色等工作。</span><span class="sxs-lookup"><span data-stu-id="04c56-147">They connect with tools like Azure portal, SSMS, and SSDT to perform tasks like adding databases and managing user roles.</span></span> <span data-ttu-id="04c56-148">根據預設，系統會將建立伺服器的使用者自動新增成為 Analysis Services 伺服器管理員。</span><span class="sxs-lookup"><span data-stu-id="04c56-148">By default, the user that creates the server is automatically added as an Analysis Services server administrator.</span></span> <span data-ttu-id="04c56-149">使用 Azure 入口網站或 SSMS，可以新增其他系統管理員。</span><span class="sxs-lookup"><span data-stu-id="04c56-149">Other administrators can be added by using Azure portal or SSMS.</span></span> <span data-ttu-id="04c56-150">伺服器管理員必須在相同的訂用帳戶中具有 Azure AD 租用戶的帳戶。</span><span class="sxs-lookup"><span data-stu-id="04c56-150">Server administrators must have an account in the Azure AD tenant in the same subscription.</span></span> <span data-ttu-id="04c56-151">若要深入了解，請參閱[管理伺服器管理員](analysis-services-server-admins.md)。</span><span class="sxs-lookup"><span data-stu-id="04c56-151">To learn more, see [Manage server administrators](analysis-services-server-admins.md).</span></span> 


<span data-ttu-id="04c56-152">**資料庫使用者**會使用 Excel 或 Power BI 等用戶端應用程式來連線到模型資料庫。</span><span class="sxs-lookup"><span data-stu-id="04c56-152">**Database users** connect to model databases by using client applications like Excel or Power BI.</span></span> <span data-ttu-id="04c56-153">使用者必須新增到資料庫角色。</span><span class="sxs-lookup"><span data-stu-id="04c56-153">Users must be added to database roles.</span></span> <span data-ttu-id="04c56-154">資料庫角色會定義資料庫的系統管理員、處理或讀取權限。</span><span class="sxs-lookup"><span data-stu-id="04c56-154">Database roles define administrator, process, or read permissions for a database.</span></span> <span data-ttu-id="04c56-155">請務必了解具有系統管理員權限之角色的資料庫使用者與伺服器管理員不同。</span><span class="sxs-lookup"><span data-stu-id="04c56-155">It's important to understand database users in a role with administrator permissions is different than server administrators.</span></span> <span data-ttu-id="04c56-156">不過，根據預設，伺服器管理員也是資料庫管理員。</span><span class="sxs-lookup"><span data-stu-id="04c56-156">However, by default, server administrators are also database administrators.</span></span> <span data-ttu-id="04c56-157">若要深入了解，請參閱[管理資料庫角色和使用者](analysis-services-database-users.md)。</span><span class="sxs-lookup"><span data-stu-id="04c56-157">To learn more, see [Manage database roles and users](analysis-services-database-users.md).</span></span>

<span data-ttu-id="04c56-158">**Azure 資源擁有者**。</span><span class="sxs-lookup"><span data-stu-id="04c56-158">**Azure resource owners**.</span></span> <span data-ttu-id="04c56-159">資源擁有者可管理 Azure 訂用帳戶的資源。</span><span class="sxs-lookup"><span data-stu-id="04c56-159">Resource owners manage resources for an Azure subscription.</span></span> <span data-ttu-id="04c56-160">資源擁有者可以使用 Azure 入口網站中的 [存取控制]，或使用 Azure Resource Manager 範本，將 Azure AD 使用者身分識別新增至訂用帳戶內的擁有者或參與者角色。</span><span class="sxs-lookup"><span data-stu-id="04c56-160">Resource owners can add Azure AD user identities to Owner or Contributor Roles within a subscription by using **Access control** in Azure portal, or with Azure Resource Manager templates.</span></span> 

![Azure 入口網站中的存取控制](./media/analysis-services-manage-users/aas-manage-users-rbac.png)

<span data-ttu-id="04c56-162">此層級的角色會套用到使用者或帳戶，讓他們可在入口網站或使用 Azure Resource Manager 範本完成需要執行的工作。</span><span class="sxs-lookup"><span data-stu-id="04c56-162">Roles at this level apply to users or accounts that need to perform tasks that can be completed in the portal or by using Azure Resource Manager templates.</span></span> <span data-ttu-id="04c56-163">若要深入了解，請參閱[角色型存取控制](../active-directory/role-based-access-control-what-is.md)。</span><span class="sxs-lookup"><span data-stu-id="04c56-163">To learn more, see [Role-Based Access Control](../active-directory/role-based-access-control-what-is.md).</span></span> 


## <a name="database-roles"></a><span data-ttu-id="04c56-164">資料庫角色</span><span class="sxs-lookup"><span data-stu-id="04c56-164">Database roles</span></span>

 <span data-ttu-id="04c56-165">針對表格式模型定義的角色為資料庫角色。</span><span class="sxs-lookup"><span data-stu-id="04c56-165">Roles defined for a tabular model are database roles.</span></span> <span data-ttu-id="04c56-166">也就是，這些角色的成員是由具有特定權限的 Azure AD 使用者和安全性群組所組成，而這些權限會定義成員可對模型資料庫採取的動作。</span><span class="sxs-lookup"><span data-stu-id="04c56-166">That is, the roles contain members consisting of Azure AD users and security groups that have specific permissions that define the action those members can take on a model database.</span></span> <span data-ttu-id="04c56-167">資料庫角色會建立為資料庫中的個別物件，而且只適用於該角色建立所在的資料庫。</span><span class="sxs-lookup"><span data-stu-id="04c56-167">A database role is created as a separate object in the database, and applies only to the database in which that role is created.</span></span>   
  
 <span data-ttu-id="04c56-168">根據預設，當您建立新的表格式模型專案時，模型專案沒有任何角色。</span><span class="sxs-lookup"><span data-stu-id="04c56-168">By default, when you create a new tabular model project, the model project does not have any roles.</span></span> <span data-ttu-id="04c56-169">在 SSDT 中可以使用 [角色管理員] 對話方塊來定義角色。</span><span class="sxs-lookup"><span data-stu-id="04c56-169">Roles can be defined by using the Role Manager dialog box in SSDT.</span></span> <span data-ttu-id="04c56-170">在模型專案設計期間定義角色時，它們只會套用至模型工作區資料庫。</span><span class="sxs-lookup"><span data-stu-id="04c56-170">When roles are defined during model project design, they are applied only to the model workspace database.</span></span> <span data-ttu-id="04c56-171">部署模型時，相同的角色會套用至已部署的模型。</span><span class="sxs-lookup"><span data-stu-id="04c56-171">When the model is deployed, the same roles are applied to the deployed model.</span></span> <span data-ttu-id="04c56-172">部署模型之後，伺服器和資料庫管理員可以使用 SSMS 來管理角色和成員。</span><span class="sxs-lookup"><span data-stu-id="04c56-172">After a model has been deployed, server and database administrators can manage roles and members by using SSMS.</span></span> <span data-ttu-id="04c56-173">若要深入了解，請參閱[管理資料庫角色和使用者](analysis-services-database-users.md)。</span><span class="sxs-lookup"><span data-stu-id="04c56-173">To learn more, see [Manage database roles and users](analysis-services-database-users.md).</span></span>
  


## <a name="next-steps"></a><span data-ttu-id="04c56-174">後續步驟</span><span class="sxs-lookup"><span data-stu-id="04c56-174">Next steps</span></span>

<span data-ttu-id="04c56-175">[使用 Azure Active Directory 群組來管理資源的存取權](../active-directory/active-directory-manage-groups.md) </span><span class="sxs-lookup"><span data-stu-id="04c56-175">[Manage access to resources with Azure Active Directory groups](../active-directory/active-directory-manage-groups.md) </span></span>  
[<span data-ttu-id="04c56-176">管理資料庫角色和使用者</span><span class="sxs-lookup"><span data-stu-id="04c56-176">Manage database roles and users</span></span>](analysis-services-database-users.md)  
[<span data-ttu-id="04c56-177">管理伺服器管理員</span><span class="sxs-lookup"><span data-stu-id="04c56-177">Manage server administrators</span></span>](analysis-services-server-admins.md)  
[<span data-ttu-id="04c56-178">角色型存取控制</span><span class="sxs-lookup"><span data-stu-id="04c56-178">Role-Based Access Control</span></span>](../active-directory/role-based-access-control-what-is.md)  