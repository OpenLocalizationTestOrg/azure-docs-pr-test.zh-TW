---
title: "什麼是 Operations Management Suite (OMS) 中的 Log Analytics？ | Microsoft Docs"
description: "Log Analytics 是 Operations Management Suite (OMS) 中的一項服務，可協助您收集和分析雲端和內部部署環境中的資源所產生的操作資料。  本文提供 Log Analytics 之不同元件的簡短概觀，以及詳細內容的連結。"
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: bd90b460-bacf-4345-ae31-26e155beac0e
ms.service: log-analytics
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/12/2017
ms.author: bwren
ms.openlocfilehash: 9fcf23f5ff47bd7457e5afa69eb2b9b33e0bf0fe
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="what-is-log-analytics"></a><span data-ttu-id="f4c70-105">什麼是 Log Analytics？</span><span class="sxs-lookup"><span data-stu-id="f4c70-105">What is Log Analytics?</span></span>
<span data-ttu-id="f4c70-106">Log Analytics 是 [Operations Management Suite \(OMS\)](../operations-management-suite/operations-management-suite-overview.md) 中的一項服務，可監視您的雲端和內部部署環境，以維護其可用性和效能。</span><span class="sxs-lookup"><span data-stu-id="f4c70-106">Log Analytics is a service in [Operations Management Suite \(OMS\)](../operations-management-suite/operations-management-suite-overview.md) that monitors your cloud and on-premises environments to maintain their availability and performance.</span></span>  <span data-ttu-id="f4c70-107">它會收集您的雲端和內部部署環境中的資源所產生的資料，以及從其他監視工具提供橫跨多個來源的分析。</span><span class="sxs-lookup"><span data-stu-id="f4c70-107">It collects data generated by resources in your cloud and on-premises environments and from other monitoring tools to provide analysis across multiple sources.</span></span>  <span data-ttu-id="f4c70-108">本文提供 Log Analytics 所提供值的簡短討論、其運作方式的概觀，並連結至更詳細的內容，以便您進一步探究。</span><span class="sxs-lookup"><span data-stu-id="f4c70-108">This article provides a brief discussion of the value that Log Analytics provides, an overview of how it operates, and links to more detailed content so you can dig further.</span></span>

## <a name="is-log-analytics-for-you"></a><span data-ttu-id="f4c70-109">您適合使用 Log Analytics 嗎？</span><span class="sxs-lookup"><span data-stu-id="f4c70-109">Is Log Analytics for you?</span></span>
<span data-ttu-id="f4c70-110">如果您的 Azure 環境目前並未採用任何監視機制，您應該開始使用 [Azure 監視器](../monitoring-and-diagnostics/monitoring-overview.md)，其可收集並分析 Azure 資源的監視資料。</span><span class="sxs-lookup"><span data-stu-id="f4c70-110">If you have no current monitoring in place for your Azure environment, you should start with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) which collects and analyzes monitoring data for your Azure resources.</span></span>  <span data-ttu-id="f4c70-111">Log Analytics 可以[從 Azure 監視器收集資料](log-analytics-azure-storage.md)，使它與其他資料相互關聯並提供其他分析。</span><span class="sxs-lookup"><span data-stu-id="f4c70-111">Log Analytics can [collect data from Azure Monitor](log-analytics-azure-storage.md) to correlate it with other data and provide additional analysis.</span></span>

<span data-ttu-id="f4c70-112">如果您想要監視內部部署環境，或具有使用 Azure 監視器或 System Center Operations Manager 等服務的現有監視機制，則 Log Analytics 可帶來重要價值。</span><span class="sxs-lookup"><span data-stu-id="f4c70-112">If you want to monitor your on-premises environment or you have existing monitoring using services such as Azure Monitor or System Center Operations Manager, then Log Analytics can add significant value.</span></span>  <span data-ttu-id="f4c70-113">它可以直接從您的代理程式，也可以從其他工具將資料收集到單一存放庫中。</span><span class="sxs-lookup"><span data-stu-id="f4c70-113">It can collect data directly from your agents and also from these other tools into a single repository.</span></span>  <span data-ttu-id="f4c70-114">Log Analytics 中的分析工具 (例如記錄搜尋、檢視和解決方案) 可處理所有收集的資料，進而為您提供整個環境的集中式分析。</span><span class="sxs-lookup"><span data-stu-id="f4c70-114">Analysis tools in Log Analytics such as log searches, views, and solutions work against all collected data providing you with centralized analysis of your entire environment.</span></span>


## <a name="using-log-analytics"></a><span data-ttu-id="f4c70-115">使用 Log Analytics</span><span class="sxs-lookup"><span data-stu-id="f4c70-115">Using Log Analytics</span></span>
<span data-ttu-id="f4c70-116">您可以透過 OMS 入口網站或 Azure 入口網站存取 Log Analytics，它可在任何瀏覽器中執行並且供您存取組態設定和多項工具來分析及處理收集到的資料。</span><span class="sxs-lookup"><span data-stu-id="f4c70-116">You can access Log Analytics through the OMS portal or the Azure portal which run in any browser and provide you with access to configuration settings and multiple tools to analyze and act on collected data.</span></span>  <span data-ttu-id="f4c70-117">從入口網站，您可以利用[記錄搜尋](log-analytics-log-searches.md)建構查詢以分析收集的資料、您可以使用由最有價值之搜尋的圖形檢視所自訂的[儀表板](log-analytics-dashboards.md)，和提供額外功能和分析工具的[方案](log-analytics-add-solutions.md)。</span><span class="sxs-lookup"><span data-stu-id="f4c70-117">From the portal you can leverage [log searches](log-analytics-log-searches.md) where you construct queries to analyze collected data, [dashboards](log-analytics-dashboards.md) which you can customize with graphical views of your most valuable searches, and [solutions](log-analytics-add-solutions.md) which provide additional functionality and analysis tools.</span></span>

<span data-ttu-id="f4c70-118">下圖取自 OMS 入口網站，其顯示的儀表板會顯示工作區中已安裝[解決方案](#add-functionality-with-management-solutions)的摘要資訊。</span><span class="sxs-lookup"><span data-stu-id="f4c70-118">The image below is from the OMS portal which shows the dashboard that displays summary information for the [solutions](#add-functionality-with-management-solutions) that are installed in the workspace.</span></span>  <span data-ttu-id="f4c70-119">您可以按一下任何圖格，進一步切入至該解決方案的資料。</span><span class="sxs-lookup"><span data-stu-id="f4c70-119">You can click on any tile to drill further into the data for that solution.</span></span>

![OMS 入口網站](media/log-analytics-overview/portal.png)

<span data-ttu-id="f4c70-121">Log Analytics 包含可快速擷取及彙總存放庫中資料的查詢語言。</span><span class="sxs-lookup"><span data-stu-id="f4c70-121">Log Analytics includes a query language to quickly retrieve and consolidate data in the repository.</span></span>  <span data-ttu-id="f4c70-122">您可以建立並儲存[記錄搜尋](log-analytics-log-searches.md)，直接在入口網站中分析資料，或讓記錄搜尋自動執行，以在查詢的結果表示重要狀況時建立警示。</span><span class="sxs-lookup"><span data-stu-id="f4c70-122">You can create and save [Log Searches](log-analytics-log-searches.md) to directly analyze data in the portal or have log searches run automatically to create an alert if the results of the query indicate an important condition.</span></span>

![記錄搜尋](media/log-analytics-overview/log-search.png)

<span data-ttu-id="f4c70-124">為了快速取得整體環境健全狀況的圖形化檢視，您可以將儲存記錄搜尋的視覺效果新增至您的 [儀表板](log-analytics-dashboards.md)。</span><span class="sxs-lookup"><span data-stu-id="f4c70-124">To get a quick graphical view of the health of your overall environment, you can add visualizations for saved log searches to your [dashboard](log-analytics-dashboards.md).</span></span>   

![儀表板](media/log-analytics-overview/dashboard.png)

<span data-ttu-id="f4c70-126">為了在 Log Analytics 外分析資料，您可以將資料從 OMS 存放庫工具匯出到例如 [Power BI](log-analytics-powerbi.md) 或 Excel 的工具。</span><span class="sxs-lookup"><span data-stu-id="f4c70-126">In order to analyze data outside of Log Analytics, you can export the data from the OMS repository into tools such as [Power BI](log-analytics-powerbi.md) or Excel.</span></span>  <span data-ttu-id="f4c70-127">您也可以利用 [記錄搜尋 API](log-analytics-log-search-api.md) 建置運用 Log Analytics 資料的自訂方案，或與其他系統整合。</span><span class="sxs-lookup"><span data-stu-id="f4c70-127">You can also leverage the [Log Search API](log-analytics-log-search-api.md) to build custom solutions that leverage Log Analytics data or to integrate with other systems.</span></span>

## <a name="add-functionality-with-management-solutions"></a><span data-ttu-id="f4c70-128">透過管理解決方案新增功能</span><span class="sxs-lookup"><span data-stu-id="f4c70-128">Add functionality with management solutions</span></span>
<span data-ttu-id="f4c70-129">[管理解決方案](log-analytics-add-solutions.md)可將功能新增至 OMS，以提供其他資料和分析工具給 Log Analytics。</span><span class="sxs-lookup"><span data-stu-id="f4c70-129">[Management solutions](log-analytics-add-solutions.md) add functionality to OMS, providing additional data and analysis tools to Log Analytics.</span></span>  <span data-ttu-id="f4c70-130">它們也可以定義要收集的新記錄類型，可以使用記錄搜尋進行分析，或是藉由儀表板方案所提供的其他使用者介面進行分析。</span><span class="sxs-lookup"><span data-stu-id="f4c70-130">They may also define new record types to be collected that can be analyzed with Log Searches or by additional user interface provided by the solution in the dashboard.</span></span>  <span data-ttu-id="f4c70-131">以下的範例圖顯示[變更追蹤解決方案](log-analytics-change-tracking.md)</span><span class="sxs-lookup"><span data-stu-id="f4c70-131">The example image below shows the [Change Tracking solution](log-analytics-change-tracking.md)</span></span>

![資料追蹤方案](media/log-analytics-overview/change-tracking.png)

<span data-ttu-id="f4c70-133">有些解決方案適用於各種功能，而其他解決方案則會以一致的方式新增。</span><span class="sxs-lookup"><span data-stu-id="f4c70-133">Solutions are available for a variety of functions, and additional solutions are consistently being added.</span></span>  <span data-ttu-id="f4c70-134">您可以輕鬆地瀏覽可用的解決方案，並從方案庫或 Azure Marketplace [將它們新增至 OMS 工作區](log-analytics-add-solutions.md)。</span><span class="sxs-lookup"><span data-stu-id="f4c70-134">You can easily browse available solutions and [add them to your OMS workspace](log-analytics-add-solutions.md) from the Solutions Gallery or Azure Marketplace.</span></span>  <span data-ttu-id="f4c70-135">許多將會自動部署並立即開始運作，而有些則可能需要適度設定。</span><span class="sxs-lookup"><span data-stu-id="f4c70-135">Many will be automatically deployed and start working immediately while others may require moderate configuration.</span></span>

![方案庫](media/log-analytics-overview/solution-gallery.png)

## <a name="log-analytics-components"></a><span data-ttu-id="f4c70-137">Log Analytics 元件</span><span class="sxs-lookup"><span data-stu-id="f4c70-137">Log Analytics components</span></span>
<span data-ttu-id="f4c70-138">Log Analytics 的中心是裝載在 Azure 雲端的 OMS 存放庫。</span><span class="sxs-lookup"><span data-stu-id="f4c70-138">At the center of Log Analytics is the OMS repository which is hosted in the Azure cloud.</span></span>  <span data-ttu-id="f4c70-139">資料會藉由設定資料來源以及將方案新增至訂用帳戶中，而從連接的來源收集到存放庫。</span><span class="sxs-lookup"><span data-stu-id="f4c70-139">Data is collected into the repository from connected sources by configuring data sources and adding solutions to your subscription.</span></span>  <span data-ttu-id="f4c70-140">資料來源和方案都會建立不同的記錄類型，它們具有自己的屬性集，但仍可以一起分析，以便查詢存放庫。</span><span class="sxs-lookup"><span data-stu-id="f4c70-140">Data sources and solutions will each create different record types that have their own set of properties but may still be analyzed together in queries to the repository.</span></span>  <span data-ttu-id="f4c70-141">這可讓您使用相同的工具和方法，來處理由不同來源收集的不同類型的資料。</span><span class="sxs-lookup"><span data-stu-id="f4c70-141">This allows you to use the same tools and methods to work with different kinds of data collected by different sources.</span></span>

![OMS 存放庫](media/log-analytics-overview/overview.png)

<span data-ttu-id="f4c70-143">連接的來源是指產生 Log Analytics 所收集資料的電腦和其他資源。</span><span class="sxs-lookup"><span data-stu-id="f4c70-143">Connected sources are the computers and other resources that generate data collected by Log Analytics.</span></span>  <span data-ttu-id="f4c70-144">這可以包括安裝在直接連接的 [Windows](log-analytics-windows-agents.md) 和 [Linux](log-analytics-linux-agents.md) 電腦的代理程式，或[已連線的 System Center Operations Manager 管理群組](log-analytics-om-agents.md)中的代理程式。</span><span class="sxs-lookup"><span data-stu-id="f4c70-144">This can include agents installed on [Windows](log-analytics-windows-agents.md) and [Linux](log-analytics-linux-agents.md) computers that connect directly or agents in a [connected System Center Operations Manager management group](log-analytics-om-agents.md).</span></span>  <span data-ttu-id="f4c70-145">對於 Azure 資源，Log Analytics 會從 [Azure 監視器和 Azure 診斷](log-analytics-azure-storage.md)收集資料。</span><span class="sxs-lookup"><span data-stu-id="f4c70-145">For Azure resources, Log Analytics collects data from [Azure Monitor and Azure Diagnostics](log-analytics-azure-storage.md).</span></span>

<span data-ttu-id="f4c70-146">[資料來源](log-analytics-data-sources.md) 是從每一個已連接來源收集的不同種類的資料。</span><span class="sxs-lookup"><span data-stu-id="f4c70-146">[Data sources](log-analytics-data-sources.md) are the different kinds of data collected from each connected source.</span></span>  <span data-ttu-id="f4c70-147">這包括來自 [Windows](log-analytics-data-sources-windows-events.md) 和 Linux 代理程式的[事件](log-analytics-data-sources-windows-events.md)和[效能資料](log-analytics-data-sources-performance-counters.md)，以及例如 [IIS 記錄](log-analytics-data-sources-iis-logs.md)和[自訂文字記錄](log-analytics-data-sources-custom-logs.md)等來源。</span><span class="sxs-lookup"><span data-stu-id="f4c70-147">This includes [events](log-analytics-data-sources-windows-events.md) and [performance data](log-analytics-data-sources-performance-counters.md) from [Windows](log-analytics-data-sources-windows-events.md) and Linux agents in addition to sources such as [IIS logs](log-analytics-data-sources-iis-logs.md), and [custom text logs](log-analytics-data-sources-custom-logs.md).</span></span>  <span data-ttu-id="f4c70-148">您設定想要收集的每個資料來源，組態會自動傳遞到每一個已連接的來源。</span><span class="sxs-lookup"><span data-stu-id="f4c70-148">You configure each data source that you want to collect, and the configuration is automatically delivered to each connected source.</span></span>

<span data-ttu-id="f4c70-149">如果您有自訂需求，則可以使用 [HTTP 資料收集器 API](log-analytics-data-collector-api.md)，將資料從 REST API 用戶端寫入至存放庫。</span><span class="sxs-lookup"><span data-stu-id="f4c70-149">If you have custom requirements, then you can use the [HTTP Data Collector API](log-analytics-data-collector-api.md) to write data to the repository from a REST API client.</span></span>

## <a name="log-analytics-architecture"></a><span data-ttu-id="f4c70-150">Log Analytics 架構</span><span class="sxs-lookup"><span data-stu-id="f4c70-150">Log Analytics architecture</span></span>
<span data-ttu-id="f4c70-151">Log Analytics 的部署需求非常少，因為中心元件託管於 Azure 雲端。</span><span class="sxs-lookup"><span data-stu-id="f4c70-151">The deployment requirements of Log Analytics are minimal since the central components are hosted in the Azure cloud.</span></span>  <span data-ttu-id="f4c70-152">這包括存放庫，以及可讓您關聯與分析所收集資料的服務。</span><span class="sxs-lookup"><span data-stu-id="f4c70-152">This includes the repository in addition to the services that allow you to correlate and analyze collected data.</span></span>  <span data-ttu-id="f4c70-153">可以從任何瀏覽器存取入口網站，因此不需要用戶端軟體。</span><span class="sxs-lookup"><span data-stu-id="f4c70-153">The portal can be accessed from any browser so there is no requirement for client software.</span></span>

<span data-ttu-id="f4c70-154">您必須在 [Windows](log-analytics-windows-agents.md) 和 [Linux](log-analytics-linux-agents.md) 電腦上安裝代理程式，但已經是[連線的 SCOM 管理群組](log-analytics-om-agents.md)成員的電腦則不需要其他代理程式。</span><span class="sxs-lookup"><span data-stu-id="f4c70-154">You must install agents on [Windows](log-analytics-windows-agents.md) and [Linux](log-analytics-linux-agents.md) computers, but there is no additional agent required for computers that are already members of a [connected SCOM management group](log-analytics-om-agents.md).</span></span>  <span data-ttu-id="f4c70-155">SCOM 代理程式將會繼續與管理伺服器通訊，管理伺服器會將其資料轉送至 Log Analytics。</span><span class="sxs-lookup"><span data-stu-id="f4c70-155">SCOM agents will continue to communicate with management servers which will forward their data to Log Analytics.</span></span>  <span data-ttu-id="f4c70-156">不過，某些方案需要代理程式以便直接與 Log Analytics 通訊。</span><span class="sxs-lookup"><span data-stu-id="f4c70-156">Some solutions though will require agents to communicate directly with Log Analytics.</span></span>  <span data-ttu-id="f4c70-157">每個方案的文件將詳述其通訊需求。</span><span class="sxs-lookup"><span data-stu-id="f4c70-157">The documentation for each solution will specify its communication requirements.</span></span>

<span data-ttu-id="f4c70-158">當您 [註冊 Log Analytics](log-analytics-get-started.md)時，會建立一個 OMS 工作區。</span><span class="sxs-lookup"><span data-stu-id="f4c70-158">When you [sign up for Log Analytics](log-analytics-get-started.md), you will create an OMS workspace.</span></span>  <span data-ttu-id="f4c70-159">您可以將工作區視為唯一的 Log Analytics 環境，有其自己的資料存放庫、資料來源和方案。</span><span class="sxs-lookup"><span data-stu-id="f4c70-159">You can think of the workspace as a unique Log Analytics environment with its own data repository, data sources, and solutions.</span></span> <span data-ttu-id="f4c70-160">您可以在訂用帳戶中建立多個工作區以支援多個環境，例如生產環境和測試環境。</span><span class="sxs-lookup"><span data-stu-id="f4c70-160">You may create multiple workspaces in your subscription to support multiple environments such as production and test.</span></span>

![Log Analytics 架構](media/log-analytics-overview/architecture.png)

## <a name="next-steps"></a><span data-ttu-id="f4c70-162">後續步驟</span><span class="sxs-lookup"><span data-stu-id="f4c70-162">Next steps</span></span>
* <span data-ttu-id="f4c70-163">[申請免費的 Log Analytics 帳戶](log-analytics-get-started.md) ，在自己的環境中測試。</span><span class="sxs-lookup"><span data-stu-id="f4c70-163">[Sign up for a free Log Analytics account](log-analytics-get-started.md) to test in your own environment.</span></span>
* <span data-ttu-id="f4c70-164">檢視可用來將資料收集到 OMS 存放庫的不同 [資料來源](log-analytics-data-sources.md) 。</span><span class="sxs-lookup"><span data-stu-id="f4c70-164">View the different [Data Sources](log-analytics-data-sources.md) available to collect data into the OMS repository.</span></span>
* <span data-ttu-id="f4c70-165">[瀏覽方案庫中可用的方案](log-analytics-add-solutions.md)，將功能新增至 Log Analytics。</span><span class="sxs-lookup"><span data-stu-id="f4c70-165">[Browse the available solutions in the Solutions Gallery](log-analytics-add-solutions.md) to add functionality to Log Analytics.</span></span>

