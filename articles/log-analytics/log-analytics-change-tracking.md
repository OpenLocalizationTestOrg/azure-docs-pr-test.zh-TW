---
title: "使用 Azure Log Analytics 追蹤變更 | Microsoft Docs"
description: "Log Analytics 中的「變更追蹤」解決方案可協助您識別您環境中發生的軟體及 Windows 服務變更。"
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: f8040d5d-3c89-4f0c-8520-751c00251cb7
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: banders
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 57af000e47188786a77cdb84ebb6ffb5c50eafaa
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/18/2017
---
# <a name="track-software-changes-in-your-environment-with-the-change-tracking-solution"></a><span data-ttu-id="5b213-103">使用變更追蹤解決方案來追蹤環境中的軟體變更</span><span class="sxs-lookup"><span data-stu-id="5b213-103">Track software changes in your environment with the Change Tracking solution</span></span>

![變更追蹤符號](./media/log-analytics-change-tracking/change-tracking-symbol.png)

<span data-ttu-id="5b213-105">本文將協助您使用 Log Analytics 中的變更追蹤解決方案，輕鬆地找出您環境中的變更。</span><span class="sxs-lookup"><span data-stu-id="5b213-105">This article helps you use the Change Tracking solution in Log Analytics to easily identify changes in your environment.</span></span> <span data-ttu-id="5b213-106">這個解決方案會追蹤 Windows 與 Linux 軟體、Windows 檔案和登錄機碼、Windows 服務以及 Linux 精靈的變更。</span><span class="sxs-lookup"><span data-stu-id="5b213-106">The solution tracks changes to Windows and Linux software, Windows files and registry keys, Windows services, and Linux daemons.</span></span> <span data-ttu-id="5b213-107">識別組態變更可協助您找出操作問題。</span><span class="sxs-lookup"><span data-stu-id="5b213-107">Identifying configuration changes can help you pinpoint operational issues.</span></span>

<span data-ttu-id="5b213-108">您需要安裝此方案以更新您已安裝的代理程式類型。</span><span class="sxs-lookup"><span data-stu-id="5b213-108">You install the solution to update the type of agent that you have installed.</span></span> <span data-ttu-id="5b213-109">系統會讀取受監視伺服器上對已安裝程式、Windows 服務及 Linux 精靈所做的變更。</span><span class="sxs-lookup"><span data-stu-id="5b213-109">Changes to installed software, Windows services, and Linux daemons on the monitored servers are read.</span></span> <span data-ttu-id="5b213-110">之後會將資料傳送至雲端的 Log Analytics 服務處理。</span><span class="sxs-lookup"><span data-stu-id="5b213-110">Then, the data is sent to the Log Analytics service in the cloud for processing.</span></span> <span data-ttu-id="5b213-111">會將邏輯套用至接收的資料，且雲端服務會記錄資料。</span><span class="sxs-lookup"><span data-stu-id="5b213-111">Logic is applied to the received data and the cloud service records the data.</span></span> <span data-ttu-id="5b213-112">使用 [變更追蹤] 儀表板上的資訊，您可以輕鬆地看到您的伺服器基礎結構中所做的變更。</span><span class="sxs-lookup"><span data-stu-id="5b213-112">By using the information on the Change Tracking dashboard, you can easily see the changes that were made in your server infrastructure.</span></span>

## <a name="installing-and-configuring-the-solution"></a><span data-ttu-id="5b213-113">安裝和設定方案</span><span class="sxs-lookup"><span data-stu-id="5b213-113">Installing and configuring the solution</span></span>
<span data-ttu-id="5b213-114">請使用下列資訊來安裝和設定方案。</span><span class="sxs-lookup"><span data-stu-id="5b213-114">Use the following information to install and configure the solution.</span></span>

* <span data-ttu-id="5b213-115">您要監視變更的每部電腦上都必須有 [Windows](log-analytics-windows-agents.md)、[Operations Manager](log-analytics-om-agents.md) 或 [Linux](log-analytics-linux-agents.md)代理程式。</span><span class="sxs-lookup"><span data-stu-id="5b213-115">You must have a [Windows](log-analytics-windows-agents.md), [Operations Manager](log-analytics-om-agents.md), or [Linux](log-analytics-linux-agents.md) agent on each computer where you want to monitor changes.</span></span>
* <span data-ttu-id="5b213-116">從 [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.ChangeTrackingOMS?tab=Overview) 新增變更追蹤解決方案至您的 OMS 工作區。</span><span class="sxs-lookup"><span data-stu-id="5b213-116">Add the Change Tracking solution to your OMS workspace from the [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.ChangeTrackingOMS?tab=Overview).</span></span> <span data-ttu-id="5b213-117">也可以運用[從方案庫加入 Log Analytics 方案](log-analytics-add-solutions.md)一文中提供的資訊來新增解決方案。</span><span class="sxs-lookup"><span data-stu-id="5b213-117">Or, you can add the solution using the information in [Add Log Analytics solutions from the Solutions Gallery](log-analytics-add-solutions.md).</span></span> <span data-ttu-id="5b213-118">不需要進一步設定。</span><span class="sxs-lookup"><span data-stu-id="5b213-118">No further configuration is required.</span></span>

### <a name="configure-linux-files-to-track"></a><span data-ttu-id="5b213-119">設定要追蹤的 Linux 檔案</span><span class="sxs-lookup"><span data-stu-id="5b213-119">Configure Linux files to track</span></span>
<span data-ttu-id="5b213-120">使用下列步驟，設定要在 Linux 電腦上追蹤的檔案。</span><span class="sxs-lookup"><span data-stu-id="5b213-120">Use the following steps to configure files to track on Linux computers.</span></span>

1. <span data-ttu-id="5b213-121">在 OMS 入口網站中，按一下 **[設定]** \(齒輪符號)。</span><span class="sxs-lookup"><span data-stu-id="5b213-121">In the OMS portal, click **Settings** (the gear symbol).</span></span>
2. <span data-ttu-id="5b213-122">在 [設定] 頁面上，按一下 [資料]，然後按一下 [Linux 檔案追蹤]。</span><span class="sxs-lookup"><span data-stu-id="5b213-122">On the **Settings** page, click **Data**, and then click **Linux File Tracking**.</span></span>
3. <span data-ttu-id="5b213-123">在 [Linux 檔案變更追蹤] 下，輸入整個路徑 (包含您要追蹤之檔案的檔案名稱)，然後按一下 [新增] 符號。</span><span class="sxs-lookup"><span data-stu-id="5b213-123">Under Linux File Change Tracking, type the entire path, including the file name of the file that you want to track and then click the **Add** symbol.</span></span> <span data-ttu-id="5b213-124">例如："/etc/*.conf"</span><span class="sxs-lookup"><span data-stu-id="5b213-124">For example: "/etc/*.conf"</span></span>
4. <span data-ttu-id="5b213-125">按一下 [儲存] 。</span><span class="sxs-lookup"><span data-stu-id="5b213-125">Click **Save**.</span></span>  

> [!NOTE]
> <span data-ttu-id="5b213-126">Linux 檔案追蹤具有其他功能，包括目錄追蹤、透過目錄遞迴以及萬用字元追蹤。</span><span class="sxs-lookup"><span data-stu-id="5b213-126">Linux file tracking has additional capabilities including directory tracking, recrusion through directories, and wildcard tracking.</span></span>

### <a name="configure-windows-files-to-track"></a><span data-ttu-id="5b213-127">設定要追蹤的 Windows 檔案</span><span class="sxs-lookup"><span data-stu-id="5b213-127">Configure Windows files to track</span></span>
<span data-ttu-id="5b213-128">使用下列步驟，設定要在 Windows 電腦上追蹤的檔案。</span><span class="sxs-lookup"><span data-stu-id="5b213-128">Use the following steps to configure files to track on Windows computers.</span></span>

1. <span data-ttu-id="5b213-129">在 OMS 入口網站中，按一下 **[設定]** \(齒輪符號)。</span><span class="sxs-lookup"><span data-stu-id="5b213-129">In the OMS portal, click **Settings** (the gear symbol).</span></span>
2. <span data-ttu-id="5b213-130">在 **[設定]** 頁面上，按一下 **[資料]**，然後按一下 **[Windows 檔案追蹤]**。</span><span class="sxs-lookup"><span data-stu-id="5b213-130">On the **Settings** page, click **Data**, and then click **Windows File Tracking**.</span></span>
3. <span data-ttu-id="5b213-131">在 [Windows 檔案變更追蹤] 下，輸入整個路徑 (包含您要追蹤之檔案的檔案名稱)，然後按一下 [新增] 符號。</span><span class="sxs-lookup"><span data-stu-id="5b213-131">Under Windows File Change Tracking, type the entire path, including the file name of the file that you want to track and then click the **Add** symbol.</span></span> <span data-ttu-id="5b213-132">例如：C:\Program Files (x86)\Internet Explorer\iexplore.exe 或 C:\Windows\System32\drivers\etc\hosts。</span><span class="sxs-lookup"><span data-stu-id="5b213-132">For example: C:\Program Files (x86)\Internet Explorer\iexplore.exe or C:\Windows\System32\drivers\etc\hosts.</span></span>
4. <span data-ttu-id="5b213-133">按一下 [儲存] 。</span><span class="sxs-lookup"><span data-stu-id="5b213-133">Click **Save**.</span></span>  
   <span data-ttu-id="5b213-134">![Windows 檔案變更追蹤](./media/log-analytics-change-tracking/windows-file-change-tracking.png)</span><span class="sxs-lookup"><span data-stu-id="5b213-134">![Windows File Change Tracking](./media/log-analytics-change-tracking/windows-file-change-tracking.png)</span></span>

### <a name="configure-windows-registry-keys-to-track"></a><span data-ttu-id="5b213-135">設定要追蹤的 Windows 登錄機碼</span><span class="sxs-lookup"><span data-stu-id="5b213-135">Configure Windows registry keys to track</span></span>
<span data-ttu-id="5b213-136">使用下列步驟，設定要在 Windows 電腦上追蹤的登錄機碼。</span><span class="sxs-lookup"><span data-stu-id="5b213-136">Use the following steps to configure registry keys to track on Windows computers.</span></span>

1. <span data-ttu-id="5b213-137">在 OMS 入口網站中，按一下 **[設定]** \(齒輪符號)。</span><span class="sxs-lookup"><span data-stu-id="5b213-137">In the OMS portal, click **Settings** (the gear symbol).</span></span>
2. <span data-ttu-id="5b213-138">在 [設定] 頁面上，按一下 [資料]，然後按一下 [Windows 登錄追蹤]。</span><span class="sxs-lookup"><span data-stu-id="5b213-138">On the **Settings** page, click **Data**, and then click **Windows Registry Tracking**.</span></span>
3. <span data-ttu-id="5b213-139">在 [Windows 登錄變更追蹤] 下方，輸入您要追蹤的整個金鑰，然後按一下 [新增] 符號。</span><span class="sxs-lookup"><span data-stu-id="5b213-139">Under Windows Registry Change Tracking, type the entire key that you want to track and then click the **Add** symbol.</span></span>
4. <span data-ttu-id="5b213-140">按一下 [儲存] 。</span><span class="sxs-lookup"><span data-stu-id="5b213-140">Click **Save**.</span></span>  
   <span data-ttu-id="5b213-141">![Windows 登錄變更追蹤](./media/log-analytics-change-tracking/windows-registry-change-tracking.png)</span><span class="sxs-lookup"><span data-stu-id="5b213-141">![Windows Registry Change Tracking](./media/log-analytics-change-tracking/windows-registry-change-tracking.png)</span></span>

### <a name="explanation-of-linux-file-collection-properties"></a><span data-ttu-id="5b213-142">Linux 檔案收集屬性的說明</span><span class="sxs-lookup"><span data-stu-id="5b213-142">Explanation of Linux File Collection Properties</span></span>
1. <span data-ttu-id="5b213-143">**類型**</span><span class="sxs-lookup"><span data-stu-id="5b213-143">**Type**</span></span>
   * <span data-ttu-id="5b213-144">**檔案** (報告檔案中繼資料 - 大小、修改日期、雜湊等)</span><span class="sxs-lookup"><span data-stu-id="5b213-144">**File** (Report file metadata - size, modification date, hash, etc.)</span></span>
   * <span data-ttu-id="5b213-145">**目錄** (報告目錄中繼資料 -大小、修改日期等)</span><span class="sxs-lookup"><span data-stu-id="5b213-145">**Directory** (Report directory metadata - size, modification date, etc.)</span></span>
2. <span data-ttu-id="5b213-146">**連結** (處理其他檔案或目錄的 Linux 符號連結參考)</span><span class="sxs-lookup"><span data-stu-id="5b213-146">**Links** (Handling Linux symlink references to other files or directories)</span></span>
   * <span data-ttu-id="5b213-147">**忽略** (忽略遞迴期間的符號連結，而不包含參考的檔案/目錄)</span><span class="sxs-lookup"><span data-stu-id="5b213-147">**Ignore** (Ignore symlinks during recurions to not include the files/directories referenced)</span></span>
   * <span data-ttu-id="5b213-148">**遵循** (遵循遞迴期間的符號連結，以同時包含參考的檔案/目錄)</span><span class="sxs-lookup"><span data-stu-id="5b213-148">**Follow** (Follow the symlinks during recursion to also include the files/directories referenced)</span></span>
   * <span data-ttu-id="5b213-149">**管理** (遵循符號連結並變更所傳回內容的處理方式)</span><span class="sxs-lookup"><span data-stu-id="5b213-149">**Manage** (Follow the symlinks and alter the treatment of returned content)</span></span>

   > [!NOTE]   
   > <span data-ttu-id="5b213-150">不建議選擇「管理」連結選項。</span><span class="sxs-lookup"><span data-stu-id="5b213-150">The "Manage" links option is not recommended.</span></span> <span data-ttu-id="5b213-151">不支援檔案內容擷取。</span><span class="sxs-lookup"><span data-stu-id="5b213-151">File content retrieval is not supported.</span></span>

3. <span data-ttu-id="5b213-152">**遞迴** (遞迴所有資料夾層級及追蹤符合路徑陳述式的所有檔案)</span><span class="sxs-lookup"><span data-stu-id="5b213-152">**Recurse** (Recurse through folder levels and track all files meeting the path statement)</span></span>
4. <span data-ttu-id="5b213-153">**Sudo** (能夠存取需要 sudo 權限的檔案或目錄)</span><span class="sxs-lookup"><span data-stu-id="5b213-153">**Sudo** (Enable access files or directories that require sudo privilege)</span></span>

### <a name="limitations"></a><span data-ttu-id="5b213-154">限制</span><span class="sxs-lookup"><span data-stu-id="5b213-154">Limitations</span></span>
<span data-ttu-id="5b213-155">變更追蹤解決方案目前不支援下列項目︰</span><span class="sxs-lookup"><span data-stu-id="5b213-155">The Change Tracking solution does not currently support the following items:</span></span>

* <span data-ttu-id="5b213-156">Windows 檔案追蹤的資料夾 (目錄)</span><span class="sxs-lookup"><span data-stu-id="5b213-156">Folders (directories) for Windows File Tracking</span></span>
* <span data-ttu-id="5b213-157">Windows 檔案追蹤的遞迴</span><span class="sxs-lookup"><span data-stu-id="5b213-157">Recursion for Windows File Tracking</span></span>
* <span data-ttu-id="5b213-158">Windows 檔案追蹤的萬用字元</span><span class="sxs-lookup"><span data-stu-id="5b213-158">Wild cards for Windows File Tracking</span></span>
* <span data-ttu-id="5b213-159">路徑變數</span><span class="sxs-lookup"><span data-stu-id="5b213-159">Path variables</span></span>
* <span data-ttu-id="5b213-160">網路檔案系統</span><span class="sxs-lookup"><span data-stu-id="5b213-160">Network file systems</span></span>
* <span data-ttu-id="5b213-161">檔案內容</span><span class="sxs-lookup"><span data-stu-id="5b213-161">File Content</span></span>

<span data-ttu-id="5b213-162">其他限制：</span><span class="sxs-lookup"><span data-stu-id="5b213-162">Other limitations:</span></span>

* <span data-ttu-id="5b213-163">[最大檔案大小] 資料行和值未用於目前實作中。</span><span class="sxs-lookup"><span data-stu-id="5b213-163">The **Max File Size** column and values are unused in the current implementation.</span></span>
* <span data-ttu-id="5b213-164">如果您在 30 分鐘的收集週期收集超過 2500 個檔案，則解決方案效能可能會下降。</span><span class="sxs-lookup"><span data-stu-id="5b213-164">If you collect more than 2500 files in the 30-minute collection cycle, solution performance might be degraded.</span></span>
* <span data-ttu-id="5b213-165">網路流量高時，變更記錄最多可能需要六個小時來顯示。</span><span class="sxs-lookup"><span data-stu-id="5b213-165">When network traffic is high, change records may take up to a maximum of six hours to display.</span></span>
* <span data-ttu-id="5b213-166">如果您在關閉電腦時修改組態，電腦可能提出隸屬先前組態的檔案變更。</span><span class="sxs-lookup"><span data-stu-id="5b213-166">If you modify the configuration while a computer is shut down, the computer might post file changes that belonged to the previous configuration.</span></span>

## <a name="change-tracking-data-collection-details"></a><span data-ttu-id="5b213-167">「變更追蹤」資料收集詳細資訊</span><span class="sxs-lookup"><span data-stu-id="5b213-167">Change Tracking data collection details</span></span>
<span data-ttu-id="5b213-168">變更追蹤會使用您已啟用的代理程式，來收集軟體清查和 Windows 服務中繼資料。</span><span class="sxs-lookup"><span data-stu-id="5b213-168">Change Tracking collects software inventory and Windows Service metadata using the agents that you have enabled.</span></span>

<span data-ttu-id="5b213-169">下表顯示變更追蹤的資料收集方法及如何收集資料的其他詳細資料。</span><span class="sxs-lookup"><span data-stu-id="5b213-169">The following table shows data collection methods and other details about how data is collected for Change Tracking.</span></span>

| <span data-ttu-id="5b213-170">平台</span><span class="sxs-lookup"><span data-stu-id="5b213-170">platform</span></span> | <span data-ttu-id="5b213-171">直接代理程式</span><span class="sxs-lookup"><span data-stu-id="5b213-171">Direct Agent</span></span> | <span data-ttu-id="5b213-172">Operations Manager 代理程式</span><span class="sxs-lookup"><span data-stu-id="5b213-172">Operations Manager agent</span></span> | <span data-ttu-id="5b213-173">Linux 代理程式</span><span class="sxs-lookup"><span data-stu-id="5b213-173">Linux agent</span></span> | <span data-ttu-id="5b213-174">Azure 儲存體</span><span class="sxs-lookup"><span data-stu-id="5b213-174">Azure Storage</span></span> | <span data-ttu-id="5b213-175">是否需要 Operations Manager？</span><span class="sxs-lookup"><span data-stu-id="5b213-175">Operations Manager required?</span></span> | <span data-ttu-id="5b213-176">透過管理群組傳送的 Operations Manager 代理程式資料</span><span class="sxs-lookup"><span data-stu-id="5b213-176">Operations Manager agent data sent via management group</span></span> | <span data-ttu-id="5b213-177">收集頻率</span><span class="sxs-lookup"><span data-stu-id="5b213-177">collection frequency</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="5b213-178">Windows 和 Linux</span><span class="sxs-lookup"><span data-stu-id="5b213-178">Windows and Linux</span></span> | <span data-ttu-id="5b213-179">&#8226;</span><span class="sxs-lookup"><span data-stu-id="5b213-179">&#8226;</span></span> | <span data-ttu-id="5b213-180">&#8226;</span><span class="sxs-lookup"><span data-stu-id="5b213-180">&#8226;</span></span> | <span data-ttu-id="5b213-181">&#8226;</span><span class="sxs-lookup"><span data-stu-id="5b213-181">&#8226;</span></span> |  |  | <span data-ttu-id="5b213-182">&#8226;</span><span class="sxs-lookup"><span data-stu-id="5b213-182">&#8226;</span></span> | <span data-ttu-id="5b213-183">視變更類型而定，5 分鐘到 50 分鐘。</span><span class="sxs-lookup"><span data-stu-id="5b213-183">5 minutes to 50 minutes, depending on the change type.</span></span> <span data-ttu-id="5b213-184">如需詳細資訊，請參閱下列表格。</span><span class="sxs-lookup"><span data-stu-id="5b213-184">See the following table for more information.</span></span> |


<span data-ttu-id="5b213-185">下表顯示各變更類型的資料收集頻率。</span><span class="sxs-lookup"><span data-stu-id="5b213-185">The following table shows the data collection frequency for the types of changes.</span></span>

| <span data-ttu-id="5b213-186">**變更類型**</span><span class="sxs-lookup"><span data-stu-id="5b213-186">**change type**</span></span> | <span data-ttu-id="5b213-187">**頻率**</span><span class="sxs-lookup"><span data-stu-id="5b213-187">**frequency**</span></span> | <span data-ttu-id="5b213-188">**代理程式****是否會傳送所找到的差異？**</span><span class="sxs-lookup"><span data-stu-id="5b213-188">**Does**  **agent**  **send differences when found?**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5b213-189">Windows 登錄</span><span class="sxs-lookup"><span data-stu-id="5b213-189">Windows registry</span></span> | <span data-ttu-id="5b213-190">50 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-190">50 minutes</span></span> | <span data-ttu-id="5b213-191">否</span><span class="sxs-lookup"><span data-stu-id="5b213-191">No</span></span> |
| <span data-ttu-id="5b213-192">Windows 檔案</span><span class="sxs-lookup"><span data-stu-id="5b213-192">Windows file</span></span> | <span data-ttu-id="5b213-193">30 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-193">30 minutes</span></span> | <span data-ttu-id="5b213-194">是。</span><span class="sxs-lookup"><span data-stu-id="5b213-194">Yes.</span></span> <span data-ttu-id="5b213-195">如果 24 小時內沒有任何變更，則會傳送快照集。</span><span class="sxs-lookup"><span data-stu-id="5b213-195">If there is no change in 24 hours, a snapshot is sent.</span></span> |
| <span data-ttu-id="5b213-196">Linux 檔案</span><span class="sxs-lookup"><span data-stu-id="5b213-196">Linux file</span></span> | <span data-ttu-id="5b213-197">15 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-197">15 minutes</span></span> | <span data-ttu-id="5b213-198">是。</span><span class="sxs-lookup"><span data-stu-id="5b213-198">Yes.</span></span> <span data-ttu-id="5b213-199">如果 24 小時內沒有任何變更，則會傳送快照集。</span><span class="sxs-lookup"><span data-stu-id="5b213-199">If there is no change in 24 hours, a snapshot is sent.</span></span> |
| <span data-ttu-id="5b213-200">Windows 服務</span><span class="sxs-lookup"><span data-stu-id="5b213-200">Windows services</span></span> | <span data-ttu-id="5b213-201">30 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-201">30 minutes</span></span> | <span data-ttu-id="5b213-202">是，找到變更時，每隔 30 分鐘傳送一次。</span><span class="sxs-lookup"><span data-stu-id="5b213-202">Yes, every 30 minutes when changes are found.</span></span> <span data-ttu-id="5b213-203">每隔 24 小時傳送一次快照集 (不論是否有變更)。</span><span class="sxs-lookup"><span data-stu-id="5b213-203">Every 24 hours a snapshot is sent, regardless of change.</span></span> <span data-ttu-id="5b213-204">因此，即使沒有任何變更也會傳送快照集。</span><span class="sxs-lookup"><span data-stu-id="5b213-204">So, the snapshot is sent even where there are no changes.</span></span> |
| <span data-ttu-id="5b213-205">Linux 精靈</span><span class="sxs-lookup"><span data-stu-id="5b213-205">Linux daemons</span></span> | <span data-ttu-id="5b213-206">5 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-206">5 minutes</span></span> | <span data-ttu-id="5b213-207">是。</span><span class="sxs-lookup"><span data-stu-id="5b213-207">Yes.</span></span> <span data-ttu-id="5b213-208">如果 24 小時內沒有任何變更，則會傳送快照集。</span><span class="sxs-lookup"><span data-stu-id="5b213-208">If there is no change in 24 hours, a snapshot is sent.</span></span> |
| <span data-ttu-id="5b213-209">Windows 軟體</span><span class="sxs-lookup"><span data-stu-id="5b213-209">Windows software</span></span> | <span data-ttu-id="5b213-210">30 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-210">30 minutes</span></span> | <span data-ttu-id="5b213-211">是，找到變更時，每隔 30 分鐘傳送一次。</span><span class="sxs-lookup"><span data-stu-id="5b213-211">Yes, every 30 minutes when changes are found.</span></span> <span data-ttu-id="5b213-212">每隔 24 小時傳送一次快照集 (不論是否有變更)。</span><span class="sxs-lookup"><span data-stu-id="5b213-212">Every 24 hours a snapshot is sent, regardless of change.</span></span> <span data-ttu-id="5b213-213">因此，即使沒有任何變更也會傳送快照集。</span><span class="sxs-lookup"><span data-stu-id="5b213-213">So, the snapshot is sent even where there are no changes.</span></span> |
| <span data-ttu-id="5b213-214">Linux 軟體軟體</span><span class="sxs-lookup"><span data-stu-id="5b213-214">Linux software</span></span> | <span data-ttu-id="5b213-215">5 分鐘</span><span class="sxs-lookup"><span data-stu-id="5b213-215">5 minutes</span></span> | <span data-ttu-id="5b213-216">是。</span><span class="sxs-lookup"><span data-stu-id="5b213-216">Yes.</span></span> <span data-ttu-id="5b213-217">如果 24 小時內沒有任何變更，則會傳送快照集。</span><span class="sxs-lookup"><span data-stu-id="5b213-217">If there is no change in 24 hours, a snapshot is sent.</span></span> |

### <a name="registry-key-change-tracking"></a><span data-ttu-id="5b213-218">登錄機碼變更追蹤</span><span class="sxs-lookup"><span data-stu-id="5b213-218">Registry key change tracking</span></span>

<span data-ttu-id="5b213-219">Log Analytics 會使用「變更追蹤」解決方案來執行 Windows 登錄監視和追蹤。</span><span class="sxs-lookup"><span data-stu-id="5b213-219">Log Analytics performs Windows registry monitoring and tracking with the Change Tracking solution.</span></span> <span data-ttu-id="5b213-220">監視登錄機碼變更的目的是找出第三方程式碼和惡意程式碼可啟用的擴充點。</span><span class="sxs-lookup"><span data-stu-id="5b213-220">The purpose of monitoring changes to registry keys is to pinpoint extensibility points where third-party code and malware can activate.</span></span> <span data-ttu-id="5b213-221">下列清單顯示解決方案所追蹤的預設登錄機碼和其追蹤原因。</span><span class="sxs-lookup"><span data-stu-id="5b213-221">The following list shows the default registry keys that are tracked by the solution and why each is tracked.</span></span>

- <span data-ttu-id="5b213-222">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Group Policy\Scripts\Startup</span><span class="sxs-lookup"><span data-stu-id="5b213-222">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Group Policy\Scripts\Startup</span></span>
    - <span data-ttu-id="5b213-223">監視在啟動時執行的指令碼。</span><span class="sxs-lookup"><span data-stu-id="5b213-223">Monitors scripts that run at startup.</span></span>
- <span data-ttu-id="5b213-224">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Group Policy\Scripts\Shutdown</span><span class="sxs-lookup"><span data-stu-id="5b213-224">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Group Policy\Scripts\Shutdown</span></span>
    - <span data-ttu-id="5b213-225">監視在關機時執行的指令碼。</span><span class="sxs-lookup"><span data-stu-id="5b213-225">Monitors scripts that run at shutdown.</span></span>
- <span data-ttu-id="5b213-226">HKEY\_LOCAL\_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Windows\CurrentVersion\Run</span><span class="sxs-lookup"><span data-stu-id="5b213-226">HKEY\_LOCAL\_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Windows\CurrentVersion\Run</span></span>
    - <span data-ttu-id="5b213-227">監視使用者登入其 Windows 帳戶之前載入的金鑰。</span><span class="sxs-lookup"><span data-stu-id="5b213-227">Monitors keys that are loaded before the user signs in to their Windows account.</span></span> <span data-ttu-id="5b213-228">此金鑰供 64 位元電腦上執行的 32 位元程式使用。</span><span class="sxs-lookup"><span data-stu-id="5b213-228">The key is used for 32-bit programs running on 64-bit computers.</span></span>
- <span data-ttu-id="5b213-229">HKEY\_LOCAL\_MACHINE\SOFTWARE\Microsoft\Active Setup\Installed Components</span><span class="sxs-lookup"><span data-stu-id="5b213-229">HKEY\_LOCAL\_MACHINE\SOFTWARE\Microsoft\Active Setup\Installed Components</span></span>
    - <span data-ttu-id="5b213-230">監視應用程式設定的變更。</span><span class="sxs-lookup"><span data-stu-id="5b213-230">Monitors changes to application settings.</span></span>
- <span data-ttu-id="5b213-231">HKEY\_LOCAL\_MACHINE\Software\Classes\Directory\ShellEx\ContextMenuHandlers</span><span class="sxs-lookup"><span data-stu-id="5b213-231">HKEY\_LOCAL\_MACHINE\Software\Classes\Directory\ShellEx\ContextMenuHandlers</span></span>
    - <span data-ttu-id="5b213-232">監視一般自動啟動項目，而這些項目直接連結到 Windows 檔案總管，而且通常會使用 Explorer.exe 以內含方式執行。</span><span class="sxs-lookup"><span data-stu-id="5b213-232">Monitors common autostart entries that hook directly into Windows Explorer and usually run in-process with Explorer.exe.</span></span>
- <span data-ttu-id="5b213-233">HKEY\_LOCAL\_MACHINE\Software\Classes\Directory\Shellex\CopyHookHandlers</span><span class="sxs-lookup"><span data-stu-id="5b213-233">HKEY\_LOCAL\_MACHINE\Software\Classes\Directory\Shellex\CopyHookHandlers</span></span>
    - <span data-ttu-id="5b213-234">監視一般自動啟動項目，而這些項目直接連結到 Windows 檔案總管，而且通常會使用 Explorer.exe 以內含方式執行。</span><span class="sxs-lookup"><span data-stu-id="5b213-234">Monitors common autostart entries that hook directly into Windows Explorer and usually run in-process with Explorer.exe.</span></span>
- <span data-ttu-id="5b213-235">HKEY\_LOCAL\_MACHINE\Software\Classes\Directory\Background\ShellEx\ContextMenuHandlers</span><span class="sxs-lookup"><span data-stu-id="5b213-235">HKEY\_LOCAL\_MACHINE\Software\Classes\Directory\Background\ShellEx\ContextMenuHandlers</span></span>
    - <span data-ttu-id="5b213-236">監視一般自動啟動項目，而這些項目直接連結到 Windows 檔案總管，而且通常會使用 Explorer.exe 以內含方式執行。</span><span class="sxs-lookup"><span data-stu-id="5b213-236">Monitors common autostart entries that hook directly into Windows Explorer and usually run in-process with Explorer.exe.</span></span>
- <span data-ttu-id="5b213-237">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Explorer\ShellIconOverlayIdentifiers</span><span class="sxs-lookup"><span data-stu-id="5b213-237">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Explorer\ShellIconOverlayIdentifiers</span></span>
    - <span data-ttu-id="5b213-238">監視圖示覆疊處理常式註冊。</span><span class="sxs-lookup"><span data-stu-id="5b213-238">Monitors for icon overlay handler registration.</span></span>
- <span data-ttu-id="5b213-239">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Windows\CurrentVersion\Explorer\ShellIconOverlayIdentifiers</span><span class="sxs-lookup"><span data-stu-id="5b213-239">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Windows\CurrentVersion\Explorer\ShellIconOverlayIdentifiers</span></span>
    - <span data-ttu-id="5b213-240">針對在 64 位元電腦上執行的 32 位元程式，監視圖示覆疊處理常式註冊。</span><span class="sxs-lookup"><span data-stu-id="5b213-240">Monitors for icon overlay handler registration for 32-bit programs running on 64-bit computers.</span></span>
- <span data-ttu-id="5b213-241">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Explorer\Browser Helper Objects</span><span class="sxs-lookup"><span data-stu-id="5b213-241">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows\CurrentVersion\Explorer\Browser Helper Objects</span></span>
    - <span data-ttu-id="5b213-242">Internet Explorer 之新瀏覽器協助程式物件外掛程式的監視器。</span><span class="sxs-lookup"><span data-stu-id="5b213-242">Monitors for new browser helper object plugins for Internet Explorer.</span></span> <span data-ttu-id="5b213-243">用以存取當前頁面的文件物件模型 (DOM) 並控制瀏覽。</span><span class="sxs-lookup"><span data-stu-id="5b213-243">Used to access the Document Object Model (DOM) of the current page and to control navigation.</span></span>
- <span data-ttu-id="5b213-244">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Windows\CurrentVersion\Explorer\Browser Helper Objects</span><span class="sxs-lookup"><span data-stu-id="5b213-244">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Windows\CurrentVersion\Explorer\Browser Helper Objects</span></span>
    - <span data-ttu-id="5b213-245">Internet Explorer 之新瀏覽器協助程式物件外掛程式的監視器。</span><span class="sxs-lookup"><span data-stu-id="5b213-245">Monitors for new browser helper object plugins for Internet Explorer.</span></span> <span data-ttu-id="5b213-246">用以存取目前頁面的文件物件模型 (DOM) 並控制 64 位元電腦上執行之 32 位元程式的瀏覽。</span><span class="sxs-lookup"><span data-stu-id="5b213-246">Used to access the Document Object Model (DOM) of the current page and to control navigation for 32-bit programs running on 64-bit computers.</span></span>
- <span data-ttu-id="5b213-247">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Internet Explorer\Extensions</span><span class="sxs-lookup"><span data-stu-id="5b213-247">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Internet Explorer\Extensions</span></span>
    - <span data-ttu-id="5b213-248">監視新的 Internet Explorer 擴充功能，例如自訂工具功能表和自訂工具列按鈕。</span><span class="sxs-lookup"><span data-stu-id="5b213-248">Monitors for new Internet Explorer extensions, such as custom tool menus and custom toolbar buttons.</span></span>
- <span data-ttu-id="5b213-249">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Internet Explorer\Extensions</span><span class="sxs-lookup"><span data-stu-id="5b213-249">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Internet Explorer\Extensions</span></span>
    - <span data-ttu-id="5b213-250">針對在 64 位元電腦上執行的 32 位元程式，監視新的 Internet Explorer 擴充功能，例如自訂工具功能表和自訂工具列按鈕。</span><span class="sxs-lookup"><span data-stu-id="5b213-250">Monitors for new Internet Explorer extensions, such as custom tool menus and custom toolbar buttons for 32-bit programs running on 64-bit computers.</span></span>
- <span data-ttu-id="5b213-251">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Drivers32</span><span class="sxs-lookup"><span data-stu-id="5b213-251">HKEY\_LOCAL\_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Drivers32</span></span>
    - <span data-ttu-id="5b213-252">監視與 wavemapper、wave1 和 wave2、msacm.imaadpcm、.msadpcm、.msgsm610 和 vidc 相關聯的 32 位元驅動程式。</span><span class="sxs-lookup"><span data-stu-id="5b213-252">Monitors the 32-bit drivers associated with wavemapper, wave1 and wave2, msacm.imaadpcm, .msadpcm, .msgsm610, and vidc.</span></span> <span data-ttu-id="5b213-253">類似 SYSTEM.INI 檔案中的 [drivers] 區段。</span><span class="sxs-lookup"><span data-stu-id="5b213-253">Similar to the [drivers] section in the SYSTEM.INI file.</span></span>
- <span data-ttu-id="5b213-254">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Windows NT\CurrentVersion\Drivers32</span><span class="sxs-lookup"><span data-stu-id="5b213-254">HKEY\_LOCAL\_MACHINE\Software\Wow6432Node\Microsoft\Windows NT\CurrentVersion\Drivers32</span></span>
    - <span data-ttu-id="5b213-255">針對在 64 位元電腦上執行的 32 位元程式，監視與 wavemapper、wave1 和 wave2、msacm.imaadpcm、.msadpcm、.msgsm610 和 vidc 相關聯的 32 位元驅動程式。</span><span class="sxs-lookup"><span data-stu-id="5b213-255">Monitors the 32-bit drivers associated with wavemapper, wave1 and wave2, msacm.imaadpcm, .msadpcm, .msgsm610, and vidc for 32-bit programs running on 64-bit computers.</span></span> <span data-ttu-id="5b213-256">類似 SYSTEM.INI 檔案中的 [drivers] 區段。</span><span class="sxs-lookup"><span data-stu-id="5b213-256">Similar to the [drivers] section in the SYSTEM.INI file.</span></span>
- <span data-ttu-id="5b213-257">HKEY\_LOCAL\_MACHINE\System\CurrentControlSet\Control\Session Manager\KnownDlls</span><span class="sxs-lookup"><span data-stu-id="5b213-257">HKEY\_LOCAL\_MACHINE\System\CurrentControlSet\Control\Session Manager\KnownDlls</span></span>
    - <span data-ttu-id="5b213-258">監視已知或常用系統 DLL 清單；此系統可防止人員放入特洛伊木馬病毒版本的系統 DLL 來利用弱式應用程式目錄權限。</span><span class="sxs-lookup"><span data-stu-id="5b213-258">Monitors the list of known or commonly used system DLLs; this system prevents people from exploiting weak application directory permissions by dropping in Trojan horse versions of system DLLs.</span></span>
- <span data-ttu-id="5b213-259">HKEY\_LOCAL\_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\Notify</span><span class="sxs-lookup"><span data-stu-id="5b213-259">HKEY\_LOCAL\_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\Notify</span></span>
    - <span data-ttu-id="5b213-260">監視可從 Winlogon 接收事件通知的套件清單，而 Winlogon 是 Windows 作業系統的互動式登入支援模型。</span><span class="sxs-lookup"><span data-stu-id="5b213-260">Monitors the list of packages able to receive event notifications from Winlogon, the interactive logon support model for the Windows operating system.</span></span>


## <a name="use-change-tracking"></a><span data-ttu-id="5b213-261">使用變更追蹤</span><span class="sxs-lookup"><span data-stu-id="5b213-261">Use Change Tracking</span></span>
<span data-ttu-id="5b213-262">安裝此方案之後，您可以在 OMS 的 [概觀] 頁面中使用 [變更追蹤] 圖格，檢視受監視伺服器的變更摘要。</span><span class="sxs-lookup"><span data-stu-id="5b213-262">After the solution is installed, you can view the summary of changes for your monitored servers by using the **Change Tracking** tile on the **Overview** page in OMS.</span></span>

![變更追蹤磚的影像](./media/log-analytics-change-tracking/change-tracking-tile.png)

<span data-ttu-id="5b213-264">您可以檢視基礎結構的變更，然後向下鑽研下列類別的詳細資訊：</span><span class="sxs-lookup"><span data-stu-id="5b213-264">You can view changes to your infrastructure and then drill-into details for the following categories:</span></span>

* <span data-ttu-id="5b213-265">軟體和 Windows 服務的組態類型所做的變更</span><span class="sxs-lookup"><span data-stu-id="5b213-265">Changes by configuration type for software and Windows services</span></span>
* <span data-ttu-id="5b213-266">應用程式的軟體變更和個別伺服器的更新</span><span class="sxs-lookup"><span data-stu-id="5b213-266">Software changes to applications and updates for individual servers</span></span>
* <span data-ttu-id="5b213-267">每個應用程式的軟體變更總數</span><span class="sxs-lookup"><span data-stu-id="5b213-267">Total number of software changes for each application</span></span>
* <span data-ttu-id="5b213-268">Linux 套件</span><span class="sxs-lookup"><span data-stu-id="5b213-268">Linux packages</span></span>
* <span data-ttu-id="5b213-269">個別伺服器的 Windows 服務變更</span><span class="sxs-lookup"><span data-stu-id="5b213-269">Windows service changes for individual servers</span></span>
* <span data-ttu-id="5b213-270">Linux 精靈變更</span><span class="sxs-lookup"><span data-stu-id="5b213-270">Linux daemon changes</span></span>

![變更追蹤儀表板的影像](./media/log-analytics-change-tracking/change-tracking-dash01.png)

![變更追蹤儀表板的影像](./media/log-analytics-change-tracking/change-tracking-dash02.png)

### <a name="to-view-changes-for-any-change-type"></a><span data-ttu-id="5b213-273">檢視任何變更類型的變更</span><span class="sxs-lookup"><span data-stu-id="5b213-273">To view changes for any change type</span></span>
1. <span data-ttu-id="5b213-274">在 [概觀] 頁面上，按一下 [變更追蹤] 圖格。</span><span class="sxs-lookup"><span data-stu-id="5b213-274">On the **Overview** page, click the **Change Tracking** tile.</span></span>
2. <span data-ttu-id="5b213-275">在 [變更追蹤] 儀表板上，檢閱其中一個變更類型刀鋒視窗中的摘要資訊，然後按一下其中一個，在 [記錄搜尋] 頁面中檢視詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="5b213-275">On the **Change Tracking** dashboard, review the summary information in one of the change type blades and then click one to view detailed information about it in the **log search** page.</span></span>
3. <span data-ttu-id="5b213-276">您可以在任何 [記錄搜尋] 頁面上，按時間、詳細結果和您的記錄搜尋記錄來檢視結果。</span><span class="sxs-lookup"><span data-stu-id="5b213-276">On any of the log search pages, you can view results by time, detailed results, and your log search history.</span></span> <span data-ttu-id="5b213-277">您也可以按 Facet 篩選以縮減結果。</span><span class="sxs-lookup"><span data-stu-id="5b213-277">You can also filter by facets to narrow the results.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5b213-278">後續步驟</span><span class="sxs-lookup"><span data-stu-id="5b213-278">Next steps</span></span>
* <span data-ttu-id="5b213-279">使用 [Log Analytics 中的記錄檔搜尋](log-analytics-log-searches.md) ，檢視詳細的變更追蹤資料。</span><span class="sxs-lookup"><span data-stu-id="5b213-279">Use [Log searches in Log Analytics](log-analytics-log-searches.md) to view detailed change tracking data.</span></span>
