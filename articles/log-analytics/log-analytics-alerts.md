---
title: "在 Azure Log Analytics aaaUnderstanding 警示 |Microsoft 文件"
description: "警示記錄分析中的識別您的 OMS 儲存機制中的重要資訊和可以主動通知您的問題或叫用動作 tooattempt toocorrect 它們。  本文說明 hello 各種不同的警示規則和定義的方式。"
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: bwren
ms.openlocfilehash: bfa0a5aaeca81674e79a6d647f36d937efeeb439
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="understanding-alerts-in-log-analytics"></a><span data-ttu-id="cc8f1-104">了解 Log Analytics 中的警示</span><span class="sxs-lookup"><span data-stu-id="cc8f1-104">Understanding alerts in Log Analytics</span></span>

<span data-ttu-id="cc8f1-105">Log Analytics 中的警示會識別您的 Log Analytics 儲存機制中的重要資訊。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-105">Alerts in Log Analytics identify important information in your Log Analytics repository.</span></span>  <span data-ttu-id="cc8f1-106">本文提供中記錄分析工作如何警示規則的詳細資料，並描述 hello 不同類型的警示規則的差異。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-106">This article provides details of how alert rules in Log Analytics work and describes hello differences between different types of alert rules.</span></span>

<span data-ttu-id="cc8f1-107">建立警示規則的 hello 程序，請參閱下列文章的 hello:</span><span class="sxs-lookup"><span data-stu-id="cc8f1-107">For hello process of creating alert rules, see hello following articles:</span></span>

- <span data-ttu-id="cc8f1-108">使用 [Azure 入口網站](log-analytics-alerts-creating.md)建立警示規則</span><span class="sxs-lookup"><span data-stu-id="cc8f1-108">Create alert rules using [Azure portal](log-analytics-alerts-creating.md)</span></span>
- <span data-ttu-id="cc8f1-109">使用 [Resource Manager 範本](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)建立叢集規則</span><span class="sxs-lookup"><span data-stu-id="cc8f1-109">Create alert rules using [Resource Manager template](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span></span>
- <span data-ttu-id="cc8f1-110">使用 [REST API](log-analytics-api-alerts.md) 建立警示規則</span><span class="sxs-lookup"><span data-stu-id="cc8f1-110">Create alert rules using [REST API](log-analytics-api-alerts.md)</span></span>


## <a name="alert-rules"></a><span data-ttu-id="cc8f1-111">警示規則</span><span class="sxs-lookup"><span data-stu-id="cc8f1-111">Alert rules</span></span>

<span data-ttu-id="cc8f1-112">警示會由自動定期執行記錄搜尋的警示規則所建立。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-112">Alerts are created by alert rules that automatically run log searches at regular intervals.</span></span>  <span data-ttu-id="cc8f1-113">如果 hello hello 記錄搜尋結果符合特定準則，則會建立警示的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-113">If hello results of hello log search match particular criteria then an alert record is created.</span></span>  <span data-ttu-id="cc8f1-114">hello 規則然後就可以自動執行一個或多個動作 tooproactively 通知您 hello 警示，或叫用另一個處理序。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-114">hello rule can then automatically run one or more actions tooproactively notify you of hello alert or invoke another process.</span></span>  <span data-ttu-id="cc8f1-115">不同類型的警示規則會使用不同的邏輯 tooperform 這項分析。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-115">Different types of alert rules use different logic tooperform this analysis.</span></span>

![Log Analytics 警示](media/log-analytics-alerts/overview.png)

<span data-ttu-id="cc8f1-117">警示規則的定義方式 hello 下列詳細資料：</span><span class="sxs-lookup"><span data-stu-id="cc8f1-117">Alert Rules are defined by hello following details:</span></span>

- <span data-ttu-id="cc8f1-118">**記錄搜尋**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-118">**Log search**.</span></span>  <span data-ttu-id="cc8f1-119">hello 每次引發 hello 警示規則會執行的查詢。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-119">hello query that runs every time hello alert rule fires.</span></span>  <span data-ttu-id="cc8f1-120">此查詢所傳回的 hello 記錄是使用的 toodetermine 是否建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-120">hello records returned by this query is used toodetermine whether an alert is created.</span></span>
- <span data-ttu-id="cc8f1-121">**時間範圍**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-121">**Time window**.</span></span>  <span data-ttu-id="cc8f1-122">指定 hello hello 查詢的時間範圍。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-122">Specifies hello time range for hello query.</span></span>  <span data-ttu-id="cc8f1-123">hello 查詢會傳回目前時間的 hello 這個範圍內所建立的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-123">hello query returns only records that were created within this range of hello current time.</span></span>  <span data-ttu-id="cc8f1-124">可以是介於 5 分鐘與 24 小時之間的任何值。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-124">This can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="cc8f1-125">例如，如果 hello too60 分鐘和 hello 查詢設定 視窗的時間執行於 1:15 PM，會傳回 1:15 PM 12:15 PM 之間建立的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-125">For example, If hello time window is set too60 minutes, and hello query is run at 1:15 PM, only records created between 12:15 PM and 1:15 PM is returned.</span></span>
- <span data-ttu-id="cc8f1-126">**頻率**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-126">**Frequency**.</span></span>  <span data-ttu-id="cc8f1-127">指定頻率 hello 應該執行查詢。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-127">Specifies how often hello query should be run.</span></span> <span data-ttu-id="cc8f1-128">可以是介於 5 分鐘與 24 小時之間的任何值。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-128">Can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="cc8f1-129">應該是等於 tooor 小於 hello 時間間隔。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-129">Should be equal tooor less than hello time window.</span></span>  <span data-ttu-id="cc8f1-130">如果 hello 值大於 hello 的時段，然後可能會遺漏的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-130">If hello value is greater than hello time window, then you risk records being missed.</span></span><br><span data-ttu-id="cc8f1-131">例如，請考慮 30 分鐘的時間範圍，以及 60 分鐘的頻率。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-131">For example, consider a time window of 30 minutes and a frequency of 60 minutes.</span></span>  <span data-ttu-id="cc8f1-132">如果 hello 查詢 1:00 執行，它會傳回 12:30 下午 1:00 之間的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-132">If hello query is run at 1:00, it returns records between 12:30 and 1:00 PM.</span></span>  <span data-ttu-id="cc8f1-133">hello hello 查詢就會執行下一次為 2:00 時，它就會傳回 1:30 到 2:00 之間的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-133">hello next time hello query would run is 2:00 when it would return records between 1:30 and 2:00.</span></span>  <span data-ttu-id="cc8f1-134">1:00 和 1:30 之間建立的任何記錄一律不會評估。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-134">Any records created between 1:00 and 1:30 would never be evaluated.</span></span>
- <span data-ttu-id="cc8f1-135">**閾值**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-135">**Threshold**.</span></span>  <span data-ttu-id="cc8f1-136">hello hello 記錄搜尋結果會評估的 toodetermine 是否應該建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-136">hello results of hello log search are evaluated toodetermine whether an alert should be created.</span></span>  <span data-ttu-id="cc8f1-137">hello 臨界值是不同的 hello 不同類型警示的規則。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-137">hello threshold is different for hello different types of alert rules.</span></span>

<span data-ttu-id="cc8f1-138">Log Analytics 中的各個警示規則是兩種類型其中之一。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-138">Each alert rule in Log Analytics is one of two types.</span></span>  <span data-ttu-id="cc8f1-139">Hello 以下各節中詳細說明每個類型。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-139">Each of these types is described in detail in hello sections that follow.</span></span>

- <span data-ttu-id="cc8f1-140">**[結果數目](#number-of-results-alert-rules)**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-140">**[Number of results](#number-of-results-alert-rules)**.</span></span> <span data-ttu-id="cc8f1-141">建立 hello 數字的記錄傳回 hello 記錄搜尋時的單一警示超過指定數字。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-141">Single alert created when hello number records returned by hello log search exceed a specified number.</span></span>
- <span data-ttu-id="cc8f1-142">**[計量測量](#metric-measurement-alert-rules)**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-142">**[Metric measurement](#metric-measurement-alert-rules)**.</span></span>  <span data-ttu-id="cc8f1-143">Hello hello 超過指定臨界值的值的記錄搜尋結果中每個物件已建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-143">Alert created for each object in hello results of hello log search with values that exceed specified threshold.</span></span>

<span data-ttu-id="cc8f1-144">hello 警示規則類型之間的差異如下所示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-144">hello differences between alert rule types are as follows.</span></span>

- <span data-ttu-id="cc8f1-145">**結果數目**警示規則永遠會建立單一警示時**度量的度量**警示規則建立的每個物件已經超過 hello 臨界值警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-145">**Number of results** alert rule will always create a single alert while **Metric measurement** alert rule creates an alert for each object that exceeds hello threshold.</span></span>
- <span data-ttu-id="cc8f1-146">**結果數目**hello 閾值超過一次時，警示規則建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-146">**Number of results** alert rules create an alert when hello threshold is exceeded a single time.</span></span> <span data-ttu-id="cc8f1-147">**度量的度量**警示規則超過 hello 臨界值時，可以建立警示特定數目的一段特定時間間隔的時間。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-147">**Metric measurement** alert rules can create an alert when hello threshold is exceeded a certain number of times over a particular time interval.</span></span>

## <a name="number-of-results-alert-rules"></a><span data-ttu-id="cc8f1-148">結果數目警示規則</span><span class="sxs-lookup"><span data-stu-id="cc8f1-148">Number of results alert rules</span></span>
<span data-ttu-id="cc8f1-149">**結果數目**hello hello 搜尋查詢所傳回的記錄數目超過 hello 指定的臨界值時，警示規則會建立單一警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-149">**Number of results** alert rules create a single alert when hello number of records returned by hello search query exceed hello specified threshold.</span></span>

### <a name="threshold"></a><span data-ttu-id="cc8f1-150">閾值</span><span class="sxs-lookup"><span data-stu-id="cc8f1-150">Threshold</span></span>
<span data-ttu-id="cc8f1-151">hello 閾值**的結果數目**警示規則是只是大於或小於特定值。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-151">hello threshold for a **Number of results** alert rule is simply greater than or less than a particular value.</span></span>  <span data-ttu-id="cc8f1-152">如果 hello hello 記錄搜尋所傳回的記錄數目符合此準則，則會建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-152">If hello number of records returned by hello log search match this criteria, then an alert is created.</span></span>

### <a name="scenarios"></a><span data-ttu-id="cc8f1-153">案例</span><span class="sxs-lookup"><span data-stu-id="cc8f1-153">Scenarios</span></span>

#### <a name="events"></a><span data-ttu-id="cc8f1-154">事件</span><span class="sxs-lookup"><span data-stu-id="cc8f1-154">Events</span></span>
<span data-ttu-id="cc8f1-155">這種類型的警示規則適用於處理例如 Windows 事件記錄、Syslog 和自訂記錄的事件。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-155">This type of alert rule is ideal for working with events such as Windows event logs, Syslog, and Custom logs.</span></span>  <span data-ttu-id="cc8f1-156">取得建立特定的錯誤事件，或特定的時間間隔內建立多個錯誤事件時，您可能想 toocreate 警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-156">You may want toocreate an alert when a particular error event gets created, or when multiple error events are created within a particular time window.</span></span>

<span data-ttu-id="cc8f1-157">單一事件，hello 數目比 0，而 hello 頻率和時間視窗 too5 分鐘結果 toogreater tooalert。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-157">tooalert on a single event, set hello number of results toogreater than 0 and both hello frequency and time window too5 minutes.</span></span>  <span data-ttu-id="cc8f1-158">每隔 5 分鐘到 hello 次出現的單一事件，因為已執行 hello 最後一次時間 hello 查詢所建立的檢查執行 hello 查詢。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-158">That runs hello query every 5 minutes and check for hello occurrence of a single event that was created since hello last time hello query was run.</span></span>  <span data-ttu-id="cc8f1-159">較長的頻率可能會延遲 hello hello 事件所收集到 hello 警示建立時間。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-159">A longer frequency may delay hello time between hello event being collected and hello alert being created.</span></span>

<span data-ttu-id="cc8f1-160">有些應用程式可能會記錄不一定會產生警示的偶發錯誤。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-160">Some applications may log an occasional error that shouldn't necessarily raise an alert.</span></span>  <span data-ttu-id="cc8f1-161">比方說，hello 應用程式可能會重試建立 hello 錯誤事件的 hello 程序，然後成功 hello 下一次。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-161">For example, hello application may retry hello process that created hello error event and then succeed hello next time.</span></span>  <span data-ttu-id="cc8f1-162">在此情況下，您可能不想 toocreate hello 警示除非特定的時間間隔內建立多個事件。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-162">In this case, you may not want toocreate hello alert unless multiple events are created within a particular time window.</span></span>  

<span data-ttu-id="cc8f1-163">在某些情況下，您可能想 toocreate 警示，在 hello 事件不存在。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-163">In some cases, you may want toocreate an alert in hello absence of an event.</span></span>  <span data-ttu-id="cc8f1-164">例如，處理程序可能會記錄它可以正常運作的一般事件 tooindicate。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-164">For example, a process may log regular events tooindicate that it's working properly.</span></span>  <span data-ttu-id="cc8f1-165">如果它不在特定的時間範圍內記錄一個事件，則應建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-165">If it doesn't log one of these events within a particular time window, then an alert should be created.</span></span>  <span data-ttu-id="cc8f1-166">在此情況下您會設定 hello 閾值太**小於 1**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-166">In this case you would set hello threshold too**less than 1**.</span></span>

#### <a name="performance-alerts"></a><span data-ttu-id="cc8f1-167">效能警示</span><span class="sxs-lookup"><span data-stu-id="cc8f1-167">Performance alerts</span></span>
<span data-ttu-id="cc8f1-168">[效能資料](log-analytics-data-sources-performance-counters.md)儲存為 hello tooevents 類似的 OMS 儲存機制中的記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-168">[Performance data](log-analytics-data-sources-performance-counters.md) is stored as records in hello OMS repository similar tooevents.</span></span>  <span data-ttu-id="cc8f1-169">如果您想 tooalert 效能計數器超過特定閾值時，該臨界值應該包含在 hello 查詢中。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-169">If you want tooalert when a performance counter exceeds a particular threshold, then that threshold should be included in hello query.</span></span>

<span data-ttu-id="cc8f1-170">例如，如果您想 tooalert 時 hello 處理器會執行一段 90%，您會使用 hello hello hello 警示規則的臨界值與下列類似的查詢**大於 0**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-170">For example, if you wanted tooalert when hello processor runs over 90%, you would use a query like hello following with hello threshold for hello alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" CounterValue>90

<span data-ttu-id="cc8f1-171">如果您想 tooalert hello 處理器的平均值超過特定時段的 90%時，您會使用查詢，使用 hello[測量命令](log-analytics-search-reference.md#commands)像 hello hello 警示規則的臨界值與 hello 面**大於 0**.</span><span class="sxs-lookup"><span data-stu-id="cc8f1-171">If you wanted tooalert when hello processor averaged over 90% for a particular time window, you would use a query using hello [measure command](log-analytics-search-reference.md#commands) like hello following with hello threshold for hello alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer | where AggregatedValue>90

>[!NOTE]
> <span data-ttu-id="cc8f1-172">如果您的工作區已升級的 toohello[新的記錄分析查詢語言](log-analytics-log-search-upgrade.md)，然後 hello 上述查詢會變更 toohello 下列：`Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span><span class="sxs-lookup"><span data-stu-id="cc8f1-172">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span></span>


## <a name="metric-measurement-alert-rules"></a><span data-ttu-id="cc8f1-173">公制度量單位的警示規則</span><span class="sxs-lookup"><span data-stu-id="cc8f1-173">Metric measurement alert rules</span></span>

>[!NOTE]
> <span data-ttu-id="cc8f1-174">計量測量警示規則目前處於公開預覽狀態。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-174">Metric measurement alert rules are currently in public preview.</span></span>

<span data-ttu-id="cc8f1-175">**計量測量**警示規則會針對查詢中其值超過指定閾值的每個物件建立警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-175">**Metric measurement** alert rules create an alert for each object in a query with a value that exceeds a specified threshold.</span></span>  <span data-ttu-id="cc8f1-176">它們有遵循不同的差異，從 hello**的結果數目**警示規則。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-176">They have hello following distinct differences from **Number of results** alert rules.</span></span>

#### <a name="log-search"></a><span data-ttu-id="cc8f1-177">記錄搜尋</span><span class="sxs-lookup"><span data-stu-id="cc8f1-177">Log search</span></span>
<span data-ttu-id="cc8f1-178">雖然您可以使用任何查詢**的結果數目**警示規則，有特定需求 hello 查詢度量的度量的警示規則。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-178">While you can use any query for a **Number of results** alert rule, there are specific requirements hello query for a metric measurement alert rule.</span></span>  <span data-ttu-id="cc8f1-179">它必須包括[測量命令](log-analytics-search-reference.md#commands)toogroup hello 結果上的特定欄位。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-179">It must include a [Measure command](log-analytics-search-reference.md#commands) toogroup hello results on a particular field.</span></span> <span data-ttu-id="cc8f1-180">此命令必須包含下列項目 hello。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-180">This command must include hello following elements.</span></span>

- <span data-ttu-id="cc8f1-181">**彙總函式**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-181">**Aggregate function**.</span></span>  <span data-ttu-id="cc8f1-182">判斷執行 hello 計算，以及可能數字欄位 tooaggregate。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-182">Determines hello calculation that is performed and potentially a numeric field tooaggregate.</span></span>  <span data-ttu-id="cc8f1-183">例如， **count （)**會在 hello 查詢中，傳回記錄的 hello 數目**avg(CounterValue)**會傳回 hello 平均 hello CounterValue 欄位的一段 hello 間隔。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-183">For example, **count()** will return hello number of records in hello query, **avg(CounterValue)** will return hello average of hello CounterValue field over hello interval.</span></span>
- <span data-ttu-id="cc8f1-184">**群組欄位**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-184">**Group Field**.</span></span>  <span data-ttu-id="cc8f1-185">系統會為這個欄位中的每個執行個體建立帶有彙總值的記錄，而且每個執行個體都可產生警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-185">A record with an aggregated value is created for each instance of this field, and an alert can be generated for each.</span></span>  <span data-ttu-id="cc8f1-186">例如，如果您想 toogenerate 警示每一部電腦，您會使用**電腦**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-186">For example, if you wanted toogenerate an alert for each computer, you would use **by Computer**.</span></span>   
- <span data-ttu-id="cc8f1-187">**間隔**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-187">**Interval**.</span></span>  <span data-ttu-id="cc8f1-188">定義 hello hello 資料彙總經過的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-188">Defines hello time interval over which hello data is aggregated.</span></span>  <span data-ttu-id="cc8f1-189">例如，如果您指定**5**，會建立一則記錄，每隔 5 分鐘時段彙總 hello hello 警示指定 hello 群組欄位的每個執行個體。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-189">For example, if you specified **5minutes**, a record would be created for each instance of hello group field aggregated at 5 minute intervals over hello time window specified for hello alert.</span></span>

#### <a name="threshold"></a><span data-ttu-id="cc8f1-190">閾值</span><span class="sxs-lookup"><span data-stu-id="cc8f1-190">Threshold</span></span>
<span data-ttu-id="cc8f1-191">hello 度量的度量的警示規則的臨界值是由彙總的值和定義的。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-191">hello threshold for Metric measurement alert rules is defined by an aggregate value and a number of breaches.</span></span>  <span data-ttu-id="cc8f1-192">如果在 hello 記錄搜尋中任何資料點超過此值，其會被視為有入侵。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-192">If any data point in hello log search exceeds this value, it's considered a breach.</span></span>  <span data-ttu-id="cc8f1-193">如果 hello 漏洞 hello 結果中的任何物件的數目超過 hello 指定的值，然後建立該物件的警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-193">If hello number of breaches in for any object in hello results exceeds hello specified value, then an alert is created for that object.</span></span>

#### <a name="example"></a><span data-ttu-id="cc8f1-194">範例</span><span class="sxs-lookup"><span data-stu-id="cc8f1-194">Example</span></span>
<span data-ttu-id="cc8f1-195">假設您想要在任何電腦於過去 30 分鐘內發生三次處理器使用率超過 90% 時收到警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-195">Consider a scenario where you wanted an alert if any computer exceeded processor utilization of 90% three times over 30 minutes.</span></span>  <span data-ttu-id="cc8f1-196">您會建立警示規則，以 hello 下列詳細資料。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-196">You would create an alert rule with hello following details.</span></span>  

<span data-ttu-id="cc8f1-197">**查詢：**Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span><span class="sxs-lookup"><span data-stu-id="cc8f1-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span></span><br><span data-ttu-id="cc8f1-198">
**時間範圍︰**30 分鐘</span><span class="sxs-lookup"><span data-stu-id="cc8f1-198">
**Time window:** 30 minutes</span></span><br><span data-ttu-id="cc8f1-199">
**警示頻率︰**5 分鐘</span><span class="sxs-lookup"><span data-stu-id="cc8f1-199">
**Alert frequency:** 5 minutes</span></span><br><span data-ttu-id="cc8f1-200">
**彙總值︰**大於 90</span><span class="sxs-lookup"><span data-stu-id="cc8f1-200">
**Aggregate value:** Great than 90</span></span><br><span data-ttu-id="cc8f1-201">
**警示觸發依據︰**違規總數大於 5</span><span class="sxs-lookup"><span data-stu-id="cc8f1-201">
**Trigger alert based on:** Total breaches Greater than 5</span></span><br>

<span data-ttu-id="cc8f1-202">hello 查詢會建立每一部電腦的平均值在 5 分鐘的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-202">hello query would create an average value for each computer at 5 minute intervals.</span></span>  <span data-ttu-id="cc8f1-203">此查詢會執行收集的資料每隔 5 分鐘透過 hello 前 30 分鐘。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-203">This query would be run every 5 minutes for data collected over hello previous 30 minutes.</span></span>  <span data-ttu-id="cc8f1-204">三部電腦的資料範例如下所示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-204">Sample data is shown below for three computers.</span></span>

![查詢結果範例](media/log-analytics-alerts/metrics-measurement-sample-graph.png)

<span data-ttu-id="cc8f1-206">在此範例中，個別的警示會建立 srv02 和 srv03 因為它們透過 hello 時段違反 hello 90%閾值 3 次。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-206">In this example, separate alerts would be created for srv02 and srv03 since they breached hello 90% threshold 3 times over hello time window.</span></span>  <span data-ttu-id="cc8f1-207">如果 hello**警示觸發程序為基礎：**已變更過**Consecutive**則會僅針對 srv03 建立警示，因為它違反 hello 3 個連續取樣閾值。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-207">If hello **Trigger alert based on:** were changed too**Consecutive** then an alert would be created only for srv03 since it breached hello threshold for 3 consecutive samples.</span></span>

## <a name="alert-records"></a><span data-ttu-id="cc8f1-208">警示記錄</span><span class="sxs-lookup"><span data-stu-id="cc8f1-208">Alert records</span></span>
<span data-ttu-id="cc8f1-209">在 Log Analytics 中由警示規則建立的警示記錄，**Type** 為 **Alert**，**SourceSystem** 為 **OMS**。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-209">Alert records created by alert rules in Log Analytics have a **Type** of **Alert** and a **SourceSystem** of **OMS**.</span></span>  <span data-ttu-id="cc8f1-210">所以在下表中的 hello 有 hello 屬性。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-210">They have hello properties in hello following table.</span></span>

| <span data-ttu-id="cc8f1-211">屬性</span><span class="sxs-lookup"><span data-stu-id="cc8f1-211">Property</span></span> | <span data-ttu-id="cc8f1-212">說明</span><span class="sxs-lookup"><span data-stu-id="cc8f1-212">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="cc8f1-213">類型</span><span class="sxs-lookup"><span data-stu-id="cc8f1-213">Type</span></span> |<span data-ttu-id="cc8f1-214">*警示*</span><span class="sxs-lookup"><span data-stu-id="cc8f1-214">*Alert*</span></span> |
| <span data-ttu-id="cc8f1-215">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="cc8f1-215">SourceSystem</span></span> |<span data-ttu-id="cc8f1-216">*OMS*</span><span class="sxs-lookup"><span data-stu-id="cc8f1-216">*OMS*</span></span> |
| <span data-ttu-id="cc8f1-217">*Object*</span><span class="sxs-lookup"><span data-stu-id="cc8f1-217">*Object*</span></span>  | <span data-ttu-id="cc8f1-218">[度量的度量警示](#metric-measurement-alert-rules)都會有 hello 群組欄位的屬性。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-218">[Metric measurement alerts](#metric-measurement-alert-rules) will have a property for hello group field.</span></span>  <span data-ttu-id="cc8f1-219">比方說，如果 hello 記錄搜尋群組的電腦，hello 警示記錄有電腦 hello hello 電腦名稱做為 hello 值。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-219">For example, if hello log search groups on Computer, hello alert record with have a Computer field with hello name of hello computer as hello value.</span></span>
| <span data-ttu-id="cc8f1-220">AlertName</span><span class="sxs-lookup"><span data-stu-id="cc8f1-220">AlertName</span></span> |<span data-ttu-id="cc8f1-221">Hello 警示名稱。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-221">Name of hello alert.</span></span> |
| <span data-ttu-id="cc8f1-222">AlertSeverity</span><span class="sxs-lookup"><span data-stu-id="cc8f1-222">AlertSeverity</span></span> |<span data-ttu-id="cc8f1-223">Hello 警示的嚴重性層級。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-223">Severity level of hello alert.</span></span> |
| <span data-ttu-id="cc8f1-224">LinkToSearchResults</span><span class="sxs-lookup"><span data-stu-id="cc8f1-224">LinkToSearchResults</span></span> |<span data-ttu-id="cc8f1-225">連結 tooLog 分析記錄搜尋，傳回從建立 hello 警示的 hello 查詢 hello 記錄。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-225">Link tooLog Analytics log search that returns hello records from hello query that created hello alert.</span></span> |
| <span data-ttu-id="cc8f1-226">查詢</span><span class="sxs-lookup"><span data-stu-id="cc8f1-226">Query</span></span> |<span data-ttu-id="cc8f1-227">已執行的 hello 查詢的文字。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-227">Text of hello query that was run.</span></span> |
| <span data-ttu-id="cc8f1-228">QueryExecutionEndTime</span><span class="sxs-lookup"><span data-stu-id="cc8f1-228">QueryExecutionEndTime</span></span> |<span data-ttu-id="cc8f1-229">Hello hello 查詢的時間範圍的結尾。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-229">End of hello time range for hello query.</span></span> |
| <span data-ttu-id="cc8f1-230">QueryExecutionStartTime</span><span class="sxs-lookup"><span data-stu-id="cc8f1-230">QueryExecutionStartTime</span></span> |<span data-ttu-id="cc8f1-231">Hello hello 查詢的時間範圍的開頭。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-231">Start of hello time range for hello query.</span></span> |
| <span data-ttu-id="cc8f1-232">ThresholdOperator</span><span class="sxs-lookup"><span data-stu-id="cc8f1-232">ThresholdOperator</span></span> | <span data-ttu-id="cc8f1-233">Hello 警示規則所使用的運算子。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-233">Operator that was used by hello alert rule.</span></span> |
| <span data-ttu-id="cc8f1-234">ThresholdValue</span><span class="sxs-lookup"><span data-stu-id="cc8f1-234">ThresholdValue</span></span> | <span data-ttu-id="cc8f1-235">Hello 警示規則所使用的值。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-235">Value that was used by hello alert rule.</span></span> |
| <span data-ttu-id="cc8f1-236">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="cc8f1-236">TimeGenerated</span></span> |<span data-ttu-id="cc8f1-237">建立日期和時間的 hello 警示。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-237">Date and time hello alert was created.</span></span> |

<span data-ttu-id="cc8f1-238">有其他種類的 hello 所建立的警示記錄[警示管理解決方案](log-analytics-solution-alert-management.md)和[Power BI 會將匯出](log-analytics-powerbi.md)。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-238">There are other kinds of alert records created by hello [Alert Management solution](log-analytics-solution-alert-management.md) and by [Power BI exports](log-analytics-powerbi.md).</span></span>  <span data-ttu-id="cc8f1-239">這些記錄的 **Type** 均為 **Alert**，但依其 **SourceSystem** 區分。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-239">These all have a **Type** of **Alert** but are distinguished by their **SourceSystem**.</span></span>


## <a name="next-steps"></a><span data-ttu-id="cc8f1-240">後續步驟</span><span class="sxs-lookup"><span data-stu-id="cc8f1-240">Next steps</span></span>
* <span data-ttu-id="cc8f1-241">安裝 hello[警示管理解決方案](log-analytics-solution-alert-management.md)從 System Center Operations Manager 收集 tooanalyze 警示與警示一起建立記錄分析中。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-241">Install hello [Alert Management solution](log-analytics-solution-alert-management.md) tooanalyze alerts created in Log Analytics along with alerts collected from System Center Operations Manager.</span></span>
* <span data-ttu-id="cc8f1-242">深入了解可產生警示的 [記錄檔搜尋](log-analytics-log-searches.md) 。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-242">Read more about [log searches](log-analytics-log-searches.md) that can generate alerts.</span></span>
* <span data-ttu-id="cc8f1-243">完成 [設定 Webook](log-analytics-alerts-webhooks.md) 和警示規則的逐步解說。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-243">Complete a walkthrough for [configuring a webook](log-analytics-alerts-webhooks.md) with an alert rule.</span></span>  
* <span data-ttu-id="cc8f1-244">深入了解如何 toowrite [Azure 自動化中的 runbook](https://azure.microsoft.com/documentation/services/automation) tooremediate 警示所識別的問題。</span><span class="sxs-lookup"><span data-stu-id="cc8f1-244">Learn how toowrite [runbooks in Azure Automation](https://azure.microsoft.com/documentation/services/automation) tooremediate problems identified by alerts.</span></span>
