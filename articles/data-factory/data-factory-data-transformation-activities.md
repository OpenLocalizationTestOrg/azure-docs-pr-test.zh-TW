---
title: "資料轉換︰處理和轉換資料 | Microsoft Docs"
description: "深入了解如何 tootransform 資料或處理使用 Hadoop、 機器學習服務或 Azure Data Lake Analytics 的 Azure Data Factory 中的資料。"
keywords: "資料轉換, 處理資料, 轉換資料, 轉換活動"
services: data-factory
documentationcenter: 
author: sharonlo101
manager: jhubbard
editor: monicar
ms.assetid: 39786731-1e4b-40a4-81b7-d06e127427aa
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/16/2017
ms.author: shlo
ms.openlocfilehash: 917d617259699b0e71de3a0e0c17463d00f2e0a0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="transform-data-in-azure-data-factory"></a><span data-ttu-id="7950c-104">Azure Data Factory 中的資料轉換</span><span class="sxs-lookup"><span data-stu-id="7950c-104">Transform data in Azure Data Factory</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="7950c-105">Hive</span><span class="sxs-lookup"><span data-stu-id="7950c-105">Hive</span></span>](data-factory-hive-activity.md)  
> * [<span data-ttu-id="7950c-106">Pig</span><span class="sxs-lookup"><span data-stu-id="7950c-106">Pig</span></span>](data-factory-pig-activity.md)  
> * [<span data-ttu-id="7950c-107">MapReduce</span><span class="sxs-lookup"><span data-stu-id="7950c-107">MapReduce</span></span>](data-factory-map-reduce.md)  
> * [<span data-ttu-id="7950c-108">Hadoop 串流</span><span class="sxs-lookup"><span data-stu-id="7950c-108">Hadoop Streaming</span></span>](data-factory-hadoop-streaming-activity.md)
> * [<span data-ttu-id="7950c-109">機器學習服務</span><span class="sxs-lookup"><span data-stu-id="7950c-109">Machine Learning</span></span>](data-factory-azure-ml-batch-execution-activity.md) 
> * [<span data-ttu-id="7950c-110">預存程序</span><span class="sxs-lookup"><span data-stu-id="7950c-110">Stored Procedure</span></span>](data-factory-stored-proc-activity.md)
> * [<span data-ttu-id="7950c-111">Data Lake Analytics U-SQL</span><span class="sxs-lookup"><span data-stu-id="7950c-111">Data Lake Analytics U-SQL</span></span>](data-factory-usql-activity.md)
> * [<span data-ttu-id="7950c-112">.NET 自訂</span><span class="sxs-lookup"><span data-stu-id="7950c-112">.NET custom</span></span>](data-factory-use-custom-activities.md)

## <a name="overview"></a><span data-ttu-id="7950c-113">概觀</span><span class="sxs-lookup"><span data-stu-id="7950c-113">Overview</span></span>
<span data-ttu-id="7950c-114">本文說明您可以使用 tootransform，並將預測和 insights 處理未經處理資料的 Azure Data Factory 中的資料轉換活動。</span><span class="sxs-lookup"><span data-stu-id="7950c-114">This article explains data transformation activities in Azure Data Factory that you can use tootransform and processes your raw data into predictions and insights.</span></span> <span data-ttu-id="7950c-115">轉換活動會在計算環境中執行，例如 Azure HDInsight 叢集或 Azure Batch。</span><span class="sxs-lookup"><span data-stu-id="7950c-115">A transformation activity executes in a computing environment such as Azure HDInsight cluster or an Azure Batch.</span></span> <span data-ttu-id="7950c-116">它提供連結 tooarticles 並在每個轉換活動的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="7950c-116">It provides links tooarticles with detailed information on each transformation activity.</span></span>

<span data-ttu-id="7950c-117">Data Factory 支援下列資料轉換的活動太可加入的 hello[管線](data-factory-create-pipelines.md)可以個別或鏈結與另一個活動。</span><span class="sxs-lookup"><span data-stu-id="7950c-117">Data Factory supports hello following data transformation activities that can be added too[pipelines](data-factory-create-pipelines.md) either individually or chained with another activity.</span></span>

> [!NOTE]
> <span data-ttu-id="7950c-118">如需逐步解說，請參閱 [建立可 Hive 轉換的管線](data-factory-build-your-first-pipeline.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-118">For a walkthrough with step-by-step instructions, see [Create a pipeline with Hive transformation](data-factory-build-your-first-pipeline.md) article.</span></span>  
> 
> 

## <a name="hdinsight-hive-activity"></a><span data-ttu-id="7950c-119">HDInsight Hive 活動</span><span class="sxs-lookup"><span data-stu-id="7950c-119">HDInsight Hive activity</span></span>
<span data-ttu-id="7950c-120">hello HDInsight Hive 活動 Data Factory 管線中執行您自己的 Hive 查詢或隨 Windows/linux 的 HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="7950c-120">hello HDInsight Hive activity in a Data Factory pipeline executes Hive queries on your own or on-demand Windows/Linux-based HDInsight cluster.</span></span> <span data-ttu-id="7950c-121">如需此活動的詳細資訊，請參閱 [Hive 活動](data-factory-hive-activity.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-121">See [Hive Activity](data-factory-hive-activity.md) article for details about this activity.</span></span> 

## <a name="hdinsight-pig-activity"></a><span data-ttu-id="7950c-122">HDInsight Pig 活動</span><span class="sxs-lookup"><span data-stu-id="7950c-122">HDInsight Pig activity</span></span>
<span data-ttu-id="7950c-123">hello HDInsight Pig 活動 Data Factory 管線中執行您自己的 Pig 查詢或隨 Windows/linux 的 HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="7950c-123">hello HDInsight Pig activity in a Data Factory pipeline executes Pig queries on your own or on-demand Windows/Linux-based HDInsight cluster.</span></span> <span data-ttu-id="7950c-124">如需此活動的詳細資訊，請參閱 [Pig 活動](data-factory-pig-activity.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-124">See [Pig Activity](data-factory-pig-activity.md) article for details about this activity.</span></span> 

## <a name="hdinsight-mapreduce-activity"></a><span data-ttu-id="7950c-125">HDInsight MapReduce 活動</span><span class="sxs-lookup"><span data-stu-id="7950c-125">HDInsight MapReduce activity</span></span>
<span data-ttu-id="7950c-126">hello HDInsight MapReduce 活動 Data Factory 管線中執行您自己的 MapReduce 程式或隨 Windows/linux 的 HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="7950c-126">hello HDInsight MapReduce activity in a Data Factory pipeline executes MapReduce programs on your own or on-demand Windows/Linux-based HDInsight cluster.</span></span> <span data-ttu-id="7950c-127">如需此活動的詳細資訊，請參閱 [MapReduce 活動](data-factory-map-reduce.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-127">See [MapReduce Activity](data-factory-map-reduce.md) article for details about this activity.</span></span>

## <a name="hdinsight-streaming-activity"></a><span data-ttu-id="7950c-128">HDInsight 串流活動</span><span class="sxs-lookup"><span data-stu-id="7950c-128">HDInsight Streaming activity</span></span>
<span data-ttu-id="7950c-129">Data Factory 管線中的 hello HDInsight 串流活動執行您自己的 Hadoop 串流程式或隨 Windows/linux 的 HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="7950c-129">hello HDInsight Streaming Activity in a Data Factory pipeline executes Hadoop Streaming programs on your own or on-demand Windows/Linux-based HDInsight cluster.</span></span> <span data-ttu-id="7950c-130">如需此活動的詳細資訊，請參閱 [HDInsight 串流活動](data-factory-hadoop-streaming-activity.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-130">See [HDInsight Streaming activity](data-factory-hadoop-streaming-activity.md) for details about this activity.</span></span>

## <a name="hdinsight-spark-activity"></a><span data-ttu-id="7950c-131">HDInsight Spark 活動</span><span class="sxs-lookup"><span data-stu-id="7950c-131">HDInsight Spark Activity</span></span>
<span data-ttu-id="7950c-132">hello HDInsight Spark Data Factory 管線中的活動執行您自己的 HDInsight 叢集上的 Spark 程式。</span><span class="sxs-lookup"><span data-stu-id="7950c-132">hello HDInsight Spark activity in a Data Factory pipeline executes Spark programs on your own HDInsight cluster.</span></span> <span data-ttu-id="7950c-133">如需詳細資訊，請參閱[從 Azure Data Factory 叫用 Spark 程式](data-factory-spark.md)。</span><span class="sxs-lookup"><span data-stu-id="7950c-133">For details, see [Invoke Spark programs from Azure Data Factory](data-factory-spark.md).</span></span> 

## <a name="machine-learning-activities"></a><span data-ttu-id="7950c-134">Machine Learning 活動</span><span class="sxs-lookup"><span data-stu-id="7950c-134">Machine Learning activities</span></span>
<span data-ttu-id="7950c-135">Azure Data Factory 可讓您 tooeasily 建立管線，使用已發行的 Azure Machine Learning web 服務的預測分析。</span><span class="sxs-lookup"><span data-stu-id="7950c-135">Azure Data Factory enables you tooeasily create pipelines that use a published Azure Machine Learning web service for predictive analytics.</span></span> <span data-ttu-id="7950c-136">使用 hello[批次執行活動](data-factory-azure-ml-batch-execution-activity.md#invoking-a-web-service-using-batch-execution-activity)在 Azure Data Factory 管線中，您可以叫用批次中的 hello 資料機器學習 web 服務 toomake 的預測。</span><span class="sxs-lookup"><span data-stu-id="7950c-136">Using hello [Batch Execution Activity](data-factory-azure-ml-batch-execution-activity.md#invoking-a-web-service-using-batch-execution-activity) in an Azure Data Factory pipeline, you can invoke a Machine Learning web service toomake predictions on hello data in batch.</span></span>

<span data-ttu-id="7950c-137">經過一段時間，在 hello 計分實驗需要 toobe 重新定型使用全新的機器學習中的 hello 預測模型的輸入資料集。</span><span class="sxs-lookup"><span data-stu-id="7950c-137">Over time, hello predictive models in hello Machine Learning scoring experiments need toobe retrained using new input datasets.</span></span> <span data-ttu-id="7950c-138">您完成定型之後，您會想要計分 web 服務以 hello tooupdate hello 重新定型機器學習模型。</span><span class="sxs-lookup"><span data-stu-id="7950c-138">After you are done with retraining, you want tooupdate hello scoring web service with hello retrained Machine Learning model.</span></span> <span data-ttu-id="7950c-139">您可以使用 hello[更新資源活動](data-factory-azure-ml-batch-execution-activity.md#updating-models-using-update-resource-activity)tooupdate hello web 服務與 hello 定型新模型。</span><span class="sxs-lookup"><span data-stu-id="7950c-139">You can use hello [Update Resource Activity](data-factory-azure-ml-batch-execution-activity.md#updating-models-using-update-resource-activity) tooupdate hello web service with hello newly trained model.</span></span>  

<span data-ttu-id="7950c-140">如需這些機器學習活動的詳細資料，請參閱 [使用 Machine Learning 活動](data-factory-azure-ml-batch-execution-activity.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-140">See [Use Machine Learning activities](data-factory-azure-ml-batch-execution-activity.md) for details about these Machine Learning activities.</span></span> 

## <a name="stored-procedure-activity"></a><span data-ttu-id="7950c-141">預存程序活動</span><span class="sxs-lookup"><span data-stu-id="7950c-141">Stored procedure activity</span></span>
<span data-ttu-id="7950c-142">您可以使用 Data Factory 管線 tooinvoke 其中一種 hello 下列資料存放區預存程序中的 hello SQL Server 預存程序活動： Azure SQL Database、 Azure SQL 資料倉儲，在您企業中的 SQL Server 資料庫或 Azure VM。</span><span class="sxs-lookup"><span data-stu-id="7950c-142">You can use hello SQL Server Stored Procedure activity in a Data Factory pipeline tooinvoke a stored procedure in one of hello following data stores: Azure SQL Database, Azure SQL Data Warehouse, SQL Server Database in your enterprise or an Azure VM.</span></span> <span data-ttu-id="7950c-143">如需詳細資料，請參閱 [預存程序活動](data-factory-stored-proc-activity.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-143">See [Stored Procedure Activity](data-factory-stored-proc-activity.md) article for details.</span></span>  

## <a name="data-lake-analytics-u-sql-activity"></a><span data-ttu-id="7950c-144">Data Lake Analytics U-SQL 活動</span><span class="sxs-lookup"><span data-stu-id="7950c-144">Data Lake Analytics U-SQL activity</span></span>
<span data-ttu-id="7950c-145">Data Lake Analytics U-SQL 活動會在 Azure Data Lake Analytics 叢集上執行 U-SQL 指令碼。</span><span class="sxs-lookup"><span data-stu-id="7950c-145">Data Lake Analytics U-SQL Activity runs a U-SQL script on an Azure Data Lake Analytics cluster.</span></span> <span data-ttu-id="7950c-146">如需詳細資料，請參閱 [U-SQL 活動](data-factory-usql-activity.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-146">See [Data Analytics U-SQL Activity](data-factory-usql-activity.md) article for details.</span></span> 

## <a name="net-custom-activity"></a><span data-ttu-id="7950c-147">.NET 自訂活動</span><span class="sxs-lookup"><span data-stu-id="7950c-147">.NET custom activity</span></span>
<span data-ttu-id="7950c-148">如果您需要 tootransform 資料不支援的 Data Factory 的方式，您可以建立您自己的資料處理邏輯的自訂活動，並使用 hello 管線中的 hello 活動。</span><span class="sxs-lookup"><span data-stu-id="7950c-148">If you need tootransform data in a way that is not supported by Data Factory, you can create a custom activity with your own data processing logic and use hello activity in hello pipeline.</span></span> <span data-ttu-id="7950c-149">您可以設定 hello 自訂.NET 活動 toorun 使用 Azure Batch 服務或 Azure HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="7950c-149">You can configure hello custom .NET activity toorun using either an Azure Batch service or an Azure HDInsight cluster.</span></span> <span data-ttu-id="7950c-150">如需詳細資訊請參閱 [使用自訂活動](data-factory-use-custom-activities.md) 。</span><span class="sxs-lookup"><span data-stu-id="7950c-150">See [Use custom activities](data-factory-use-custom-activities.md) article for details.</span></span> 

<span data-ttu-id="7950c-151">您可以建立自訂活動 toorun R 指令碼在您的 HDInsight 叢集上使用 R 安裝。</span><span class="sxs-lookup"><span data-stu-id="7950c-151">You can create a custom activity toorun R scripts on your HDInsight cluster with R installed.</span></span> <span data-ttu-id="7950c-152">請參閱 [使用 Azure Data Factory 執行 R 指令碼](https://github.com/Azure/Azure-DataFactory/tree/master/Samples/RunRScriptUsingADFSample)。</span><span class="sxs-lookup"><span data-stu-id="7950c-152">See [Run R Script using Azure Data Factory](https://github.com/Azure/Azure-DataFactory/tree/master/Samples/RunRScriptUsingADFSample).</span></span> 

## <a name="compute-environments"></a><span data-ttu-id="7950c-153">計算環境</span><span class="sxs-lookup"><span data-stu-id="7950c-153">Compute environments</span></span>
<span data-ttu-id="7950c-154">您建立連結的服務的 hello 計算環境，然後使用連結的 hello 服務定義轉換活動時。</span><span class="sxs-lookup"><span data-stu-id="7950c-154">You create a linked service for hello compute environment and then use hello linked service when defining a transformation activity.</span></span> <span data-ttu-id="7950c-155">Data Factory 支援兩種類型的資計算環境。</span><span class="sxs-lookup"><span data-stu-id="7950c-155">There are two types of compute environments supported by Data Factory.</span></span> 

1. <span data-ttu-id="7950c-156">**視**: hello 運算環境完全在此情況下，管理由資料處理站。</span><span class="sxs-lookup"><span data-stu-id="7950c-156">**On-Demand**:  In this case, hello computing environment is fully managed by Data Factory.</span></span> <span data-ttu-id="7950c-157">它會自動建立 hello Data Factory 服務作業送出的 tooprocess 資料之前，移除 hello 工作完成時。</span><span class="sxs-lookup"><span data-stu-id="7950c-157">It is automatically created by hello Data Factory service before a job is submitted tooprocess data and removed when hello job is completed.</span></span> <span data-ttu-id="7950c-158">您可以設定及控制細微 hello 視運算環境執行的作業、 叢集管理和啟動載入動作的設定。</span><span class="sxs-lookup"><span data-stu-id="7950c-158">You can configure and control granular settings of hello on-demand compute environment for job execution, cluster management, and bootstrapping actions.</span></span> 
2. <span data-ttu-id="7950c-159">**攜帶您自己的裝置**：在此情況下，您可以註冊自己的運算環境 (例如 HDInsight 叢集)，做為 Data Factory 中的連結服務。</span><span class="sxs-lookup"><span data-stu-id="7950c-159">**Bring Your Own**: In this case, you can register your own computing environment (for example HDInsight cluster) as a linked service in Data Factory.</span></span> <span data-ttu-id="7950c-160">hello 運算環境由您管理和 hello Data Factory 服務會使用它 tooexecute hello 活動。</span><span class="sxs-lookup"><span data-stu-id="7950c-160">hello computing environment is managed by you and hello Data Factory service uses it tooexecute hello activities.</span></span> 

<span data-ttu-id="7950c-161">請參閱[計算連結服務](data-factory-compute-linked-services.md)有關的文章 toolearn 計算服務支援的 Data Factory。</span><span class="sxs-lookup"><span data-stu-id="7950c-161">See [Compute Linked Services](data-factory-compute-linked-services.md) article toolearn about compute services supported by Data Factory.</span></span> 

## <a name="summary"></a><span data-ttu-id="7950c-162">摘要</span><span class="sxs-lookup"><span data-stu-id="7950c-162">Summary</span></span>
<span data-ttu-id="7950c-163">Azure Data Factory 支援 hello 遵循資料轉換活動與 hello hello 活動的運算環境。</span><span class="sxs-lookup"><span data-stu-id="7950c-163">Azure Data Factory supports hello following data transformation activities and hello compute environments for hello activities.</span></span> <span data-ttu-id="7950c-164">hello 轉換活動可以加入的 toopipelines 可以個別或鏈結與另一個活動。</span><span class="sxs-lookup"><span data-stu-id="7950c-164">hello transformation activities can be added toopipelines either individually or chained with another activity.</span></span>

| <span data-ttu-id="7950c-165">資料轉換活動</span><span class="sxs-lookup"><span data-stu-id="7950c-165">Data transformation activity</span></span> | <span data-ttu-id="7950c-166">計算環境</span><span class="sxs-lookup"><span data-stu-id="7950c-166">Compute environment</span></span> |
|:--- |:--- |
| [<span data-ttu-id="7950c-167">Hive</span><span class="sxs-lookup"><span data-stu-id="7950c-167">Hive</span></span>](data-factory-hive-activity.md) |<span data-ttu-id="7950c-168">HDInsight [Hadoop]</span><span class="sxs-lookup"><span data-stu-id="7950c-168">HDInsight [Hadoop]</span></span> |
| [<span data-ttu-id="7950c-169">Pig</span><span class="sxs-lookup"><span data-stu-id="7950c-169">Pig</span></span>](data-factory-pig-activity.md) |<span data-ttu-id="7950c-170">HDInsight [Hadoop]</span><span class="sxs-lookup"><span data-stu-id="7950c-170">HDInsight [Hadoop]</span></span> |
| [<span data-ttu-id="7950c-171">MapReduce</span><span class="sxs-lookup"><span data-stu-id="7950c-171">MapReduce</span></span>](data-factory-map-reduce.md) |<span data-ttu-id="7950c-172">HDInsight [Hadoop]</span><span class="sxs-lookup"><span data-stu-id="7950c-172">HDInsight [Hadoop]</span></span> |
| [<span data-ttu-id="7950c-173">Hadoop 串流</span><span class="sxs-lookup"><span data-stu-id="7950c-173">Hadoop Streaming</span></span>](data-factory-hadoop-streaming-activity.md) |<span data-ttu-id="7950c-174">HDInsight [Hadoop]</span><span class="sxs-lookup"><span data-stu-id="7950c-174">HDInsight [Hadoop]</span></span> |
| [<span data-ttu-id="7950c-175">Machine Learning 活動︰批次執行和更新資源</span><span class="sxs-lookup"><span data-stu-id="7950c-175">Machine Learning activities: Batch Execution and Update Resource</span></span>](data-factory-azure-ml-batch-execution-activity.md) |<span data-ttu-id="7950c-176">Azure VM</span><span class="sxs-lookup"><span data-stu-id="7950c-176">Azure VM</span></span> |
| [<span data-ttu-id="7950c-177">預存程序</span><span class="sxs-lookup"><span data-stu-id="7950c-177">Stored Procedure</span></span>](data-factory-stored-proc-activity.md) |<span data-ttu-id="7950c-178">Azure SQL、Azure SQL 資料倉儲或 SQL Server</span><span class="sxs-lookup"><span data-stu-id="7950c-178">Azure SQL, Azure SQL Data Warehouse, or SQL Server</span></span> |
| [<span data-ttu-id="7950c-179">Data Lake Analytics U-SQL</span><span class="sxs-lookup"><span data-stu-id="7950c-179">Data Lake Analytics U-SQL</span></span>](data-factory-usql-activity.md) |<span data-ttu-id="7950c-180">Azure Data Lake Analytics</span><span class="sxs-lookup"><span data-stu-id="7950c-180">Azure Data Lake Analytics</span></span> |
| [<span data-ttu-id="7950c-181">DotNet</span><span class="sxs-lookup"><span data-stu-id="7950c-181">DotNet</span></span>](data-factory-use-custom-activities.md) |<span data-ttu-id="7950c-182">HDInsight [Hadoop] 或 Azure Batch</span><span class="sxs-lookup"><span data-stu-id="7950c-182">HDInsight [Hadoop] or Azure Batch</span></span> |

