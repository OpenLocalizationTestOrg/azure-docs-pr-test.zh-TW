---
title: "aaaPersist 結果或從記錄檔已完成的工作與工作 tooa 資料存放區-Azure 批次 |Microsoft 文件"
description: "深入了解從 Batch 工作和作業保存輸出資料的不同選項。 您可以保存資料 tooAzure 存放裝置或 tooanother 資料存放區。"
services: batch
author: tamram
manager: timlt
editor: 
ms.assetid: 16e12d0e-958c-46c2-a6b8-7843835d830e
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 06/16/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: f0b11e387f1694e1ce3e9573db7f6013f0154cad
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="persist-job-and-task-output"></a><span data-ttu-id="a58c4-104">持續作業及工作輸出</span><span class="sxs-lookup"><span data-stu-id="a58c4-104">Persist job and task output</span></span>

[!INCLUDE [batch-task-output-include](../../includes/batch-task-output-include.md)]

<span data-ttu-id="a58c4-105">工作輸出的一些常見範例包括：</span><span class="sxs-lookup"><span data-stu-id="a58c4-105">Some common examples of task output include:</span></span>

- <span data-ttu-id="a58c4-106">Hello 工作會處理輸入資料時，建立的檔案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-106">Files created when hello task processes input data.</span></span>
- <span data-ttu-id="a58c4-107">與工作執行相關聯的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="a58c4-107">Log files associated with task execution.</span></span> 

<span data-ttu-id="a58c4-108">本文說明保存工作輸出和 hello 案例每個選項是最合適的各種選項。</span><span class="sxs-lookup"><span data-stu-id="a58c4-108">This article describes various options for persisting task output and hello scenarios for which each option is most appropriate.</span></span>   

## <a name="about-hello-batch-file-conventions-standard"></a><span data-ttu-id="a58c4-109">關於 hello 批次檔慣例標準</span><span class="sxs-lookup"><span data-stu-id="a58c4-109">About hello Batch File Conventions standard</span></span>

<span data-ttu-id="a58c4-110">Batch 會定義一組選擇性的慣例，可在 Azure 儲存體中命名工作輸出檔案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-110">Batch defines an optional set of conventions for naming task output files in Azure Storage.</span></span> <span data-ttu-id="a58c4-111">hello[批次檔慣例標準](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions)描述這些慣例。</span><span class="sxs-lookup"><span data-stu-id="a58c4-111">hello [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) describes these conventions.</span></span> <span data-ttu-id="a58c4-112">hello 檔案慣例標準決定 hello hello 容器和 blob 的目的地路徑 Azure 儲存體中的 hello 作業和工作的 hello 名稱為基礎的給定的輸出檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="a58c4-112">hello File Conventions standard determines hello names of hello destination container and blob path in Azure Storage for a given output file based on hello names of hello job and task.</span></span>

<span data-ttu-id="a58c4-113">是由 tooyou 您是否決定 toouse hello 檔案慣例命名輸出資料檔案的標準。</span><span class="sxs-lookup"><span data-stu-id="a58c4-113">It's up tooyou whether you decide toouse hello File Conventions standard for naming your output data files.</span></span> <span data-ttu-id="a58c4-114">不過，您希望，您可以也命名 hello 目的地容器和 blob。</span><span class="sxs-lookup"><span data-stu-id="a58c4-114">You can also name hello destination container and blob however you wish.</span></span> <span data-ttu-id="a58c4-115">如果您使用 hello 標準檔案慣例來命名輸出檔案，則輸出檔可供檢視之 hello [Azure 入口網站][portal]。</span><span class="sxs-lookup"><span data-stu-id="a58c4-115">If you do use hello File Conventions standard for naming output files, then your output files are available for viewing in hello [Azure portal][portal].</span></span>

<span data-ttu-id="a58c4-116">有幾個不同的方式，您可以使用 hello 檔案慣例標準：</span><span class="sxs-lookup"><span data-stu-id="a58c4-116">There are a few different ways that you can use hello File Conventions standard:</span></span>

- <span data-ttu-id="a58c4-117">如果您使用 hello 批次服務 API toopersist 輸出檔案，您可以選擇 tooname 目的地容器和 blob 根據 toohello 標準檔案慣例。</span><span class="sxs-lookup"><span data-stu-id="a58c4-117">If you are using hello Batch service API toopersist output files, you can choose tooname destination containers and blobs according toohello File Conventions standard.</span></span> <span data-ttu-id="a58c4-118">hello 批次服務 API 可讓您 toopersist 輸出檔，用戶端程式碼，而不需修改應用程式工作。</span><span class="sxs-lookup"><span data-stu-id="a58c4-118">hello Batch service API enables you toopersist output files from client code, without modifying your task application.</span></span>
- <span data-ttu-id="a58c4-119">如果您正在開發的.NET，您可以使用 hello[適用於.NET 的 Azure 批次檔慣例程式庫][nuget_package]。</span><span class="sxs-lookup"><span data-stu-id="a58c4-119">If you are developing with .NET, you can use hello [Azure Batch File Conventions library for .NET][nuget_package].</span></span> <span data-ttu-id="a58c4-120">使用此程式庫的優點是它支援查詢您根據 tootheir 識別碼或用途的輸出檔案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-120">An advantage of using this library is that it supports querying your output files according tootheir ID or purpose.</span></span> <span data-ttu-id="a58c4-121">hello 內建查詢功能可讓您輕鬆 tooaccess 輸出檔案從用戶端應用程式或其他工作。</span><span class="sxs-lookup"><span data-stu-id="a58c4-121">hello built-in querying functionality makes it easy tooaccess output files from a client application or from other tasks.</span></span> <span data-ttu-id="a58c4-122">不過，您的工作應用程式必須修改的 toocall 檔案慣例程式庫。</span><span class="sxs-lookup"><span data-stu-id="a58c4-122">However, your task application must be modified toocall File Conventions library.</span></span> <span data-ttu-id="a58c4-123">如需詳細資訊，請參閱 hello hello 參考[檔案慣例.NET 程式庫](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-123">For more information, see hello reference for hello [File Conventions library for .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span></span>
- <span data-ttu-id="a58c4-124">如果您正在開發以.NET 以外的語言，您可以實作 hello 標準應用程式中的檔案慣例。</span><span class="sxs-lookup"><span data-stu-id="a58c4-124">If you are developing with a language other than .NET, you can implement hello File Conventions standard in your application.</span></span>

## <a name="design-considerations-for-persisting-output"></a><span data-ttu-id="a58c4-125">保存輸出的設計考量</span><span class="sxs-lookup"><span data-stu-id="a58c4-125">Design considerations for persisting output</span></span> 

<span data-ttu-id="a58c4-126">設計您的批次解決方案時，請考慮 hello 下列因素相關的 toojob 以及工作輸出。</span><span class="sxs-lookup"><span data-stu-id="a58c4-126">When designing your Batch solution, consider hello following factors related toojob and task outputs.</span></span>

* <span data-ttu-id="a58c4-127">**計算節點存留期**：計算節點通常是過渡性的，尤其是在啟用自動調整的集區中。</span><span class="sxs-lookup"><span data-stu-id="a58c4-127">**Compute node lifetime**: Compute nodes are often transient, especially in autoscale-enabled pools.</span></span> <span data-ttu-id="a58c4-128">只有當 hello 節點存在，而且只有在 hello 檔案保留期限內您已經設定 hello 工作時使用的節點執行的工作輸出。</span><span class="sxs-lookup"><span data-stu-id="a58c4-128">Output from a task that runs on a node is available only while hello node exists, and only within hello file retention period you've set for hello task.</span></span> <span data-ttu-id="a58c4-129">如果工作會產生 hello 工作完成之後可能需要的輸出，hello 工作必須上傳其輸出檔案 tooa 長期存放區例如 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-129">If a task produces output that may be needed after hello task is complete, then hello task must upload its output files tooa durable store such as Azure Storage.</span></span>

* <span data-ttu-id="a58c4-130">**輸出儲存體**：建議使用 Azure 儲存體作為工作輸出的資料存放區，但是您可以使用任何持久的儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-130">**Output storage**: Azure Storage is recommended as a data store for task output, but you can use any durable storage.</span></span> <span data-ttu-id="a58c4-131">寫入工作輸出 tooAzure 儲存體已整合到 hello 批次服務 API。</span><span class="sxs-lookup"><span data-stu-id="a58c4-131">Writing task output tooAzure Storage is integrated into hello Batch service API.</span></span> <span data-ttu-id="a58c4-132">如果您使用另一種持久儲存體，您將自己需要 toowrite hello 應用程式邏輯 toopersist 工作輸出。</span><span class="sxs-lookup"><span data-stu-id="a58c4-132">If you use another form of durable storage, you'll need toowrite hello application logic toopersist task output yourself.</span></span>   

* <span data-ttu-id="a58c4-133">**輸出擷取**： 您可以在擷取工作輸出直接從 hello 計算節點的 程式集區，或是從 Azure 儲存體或其他資料存放區已保存工作輸出。</span><span class="sxs-lookup"><span data-stu-id="a58c4-133">**Output retrieval**: You can retrieve task output directly from hello compute nodes in your pool, or from Azure Storage or another data store if you have persisted task output.</span></span> <span data-ttu-id="a58c4-134">tooretrieve 工作的輸出直接從運算節點，您需要 hello 檔案名稱和其 hello 節點上的輸出位置。</span><span class="sxs-lookup"><span data-stu-id="a58c4-134">tooretrieve a task's output directly from a compute node, you need hello file name and its output location on hello node.</span></span> <span data-ttu-id="a58c4-135">如果您將保存工作輸出 tooAzure 儲存體，您需要 Azure 儲存體 toodownload hello 以 hello Azure 儲存體 SDK 的輸出檔中的 hello 完整路徑 toohello 檔案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-135">If you persist task output tooAzure Storage, then you need hello full path toohello file in Azure Storage toodownload hello output files with hello Azure Storage SDK.</span></span>

* <span data-ttu-id="a58c4-136">**檢視輸出**： 當您瀏覽 tooa 批次工作，在 Azure 入口網站，並選取 hello**節點上的檔案**，您會看到與 hello 工作相關聯的所有檔案，不只是 hello 您感興趣的輸出檔。</span><span class="sxs-lookup"><span data-stu-id="a58c4-136">**Viewing output**: When you navigate tooa Batch task in hello Azure portal and select **Files on node**, you are presented with all files associated with hello task, not just hello output files you're interested in.</span></span> <span data-ttu-id="a58c4-137">同樣地，在計算節點上的檔案，則使用只有 hello 節點存在，而且只有在 hello 檔案保留的時間內您已設定 hello 工作。</span><span class="sxs-lookup"><span data-stu-id="a58c4-137">Again, files on compute nodes are available only while hello node exists and only within hello file retention time you've set for hello task.</span></span> <span data-ttu-id="a58c4-138">tooview 工作輸出，您已保存 tooAzure 儲存體，您可以使用 hello Azure 入口網站或 Azure 儲存體用戶端應用程式，例如 hello [Azure 儲存體總管][storage_explorer]。</span><span class="sxs-lookup"><span data-stu-id="a58c4-138">tooview task output that you've persisted tooAzure Storage, you can use hello Azure portal or an Azure Storage client application such as hello [Azure Storage Explorer][storage_explorer].</span></span> <span data-ttu-id="a58c4-139">tooview 輸出 Azure 儲存體中的資料與 hello 入口網站或其他工具，您必須知道 hello 檔案的位置，並直接瀏覽 tooit。</span><span class="sxs-lookup"><span data-stu-id="a58c4-139">tooview output data in Azure Storage with hello portal or another tool, you must know hello file's location and navigate tooit directly.</span></span>

## <a name="options-for-persisting-output"></a><span data-ttu-id="a58c4-140">保存輸出的選項</span><span class="sxs-lookup"><span data-stu-id="a58c4-140">Options for persisting output</span></span>

<span data-ttu-id="a58c4-141">根據您的案例中，有幾個不同的方法，您可以採取 toopersist 工作輸出：</span><span class="sxs-lookup"><span data-stu-id="a58c4-141">Depending on your scenario, there are a few different approaches you can take toopersist task output:</span></span>

- <span data-ttu-id="a58c4-142">使用 hello 批次服務 API。</span><span class="sxs-lookup"><span data-stu-id="a58c4-142">Use hello Batch service API.</span></span>  
- <span data-ttu-id="a58c4-143">使用適用於.NET 的 hello 批次檔慣例程式庫。</span><span class="sxs-lookup"><span data-stu-id="a58c4-143">Use hello Batch File Conventions library for .NET.</span></span>  
- <span data-ttu-id="a58c4-144">實作 hello 標準應用程式中的批次檔慣例。</span><span class="sxs-lookup"><span data-stu-id="a58c4-144">Implement hello Batch File Conventions standard in your application.</span></span>
- <span data-ttu-id="a58c4-145">實作自訂檔案移動解決方案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-145">Implement a custom file movement solution.</span></span>

<span data-ttu-id="a58c4-146">hello 下列各節描述每一種方法中更多詳細資料。</span><span class="sxs-lookup"><span data-stu-id="a58c4-146">hello following sections describe each approach in more detail.</span></span>

### <a name="use-hello-batch-service-api"></a><span data-ttu-id="a58c4-147">使用 hello 批次服務 API</span><span class="sxs-lookup"><span data-stu-id="a58c4-147">Use hello Batch service API</span></span>

<span data-ttu-id="a58c4-148">2017-05-01 版中，與 hello 批次服務將 Azure 儲存體中的輸出檔指定的工作資料的支援時您[加入工作 tooa 作業](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job)或[新增的工作 tooa 工作集合](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-148">With version 2017-05-01, hello Batch service adds support for specifying output files in Azure Storage for task data when you [add a task tooa job](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) or [add a collection of tasks tooa job](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job).</span></span>

<span data-ttu-id="a58c4-149">hello 批次服務應用程式開發介面支援保存的工作資料 tooan 與 hello 虛擬機器組態建立集區的 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="a58c4-149">hello Batch service API supports persisting task data tooan Azure Storage account from pools created with hello virtual machine configuration.</span></span> <span data-ttu-id="a58c4-150">以 hello 批次服務 API，您可以保存工作資料，而不需要修改您的工作執行的 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="a58c4-150">With hello Batch service API, you can persist task data without modifying hello application that your task runs.</span></span> <span data-ttu-id="a58c4-151">您可以選擇性地遵循 toohello[批次檔慣例標準](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions)hello 檔案命名您保存 tooAzure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-151">You can optionally adhere toohello [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) for naming hello files that you persist tooAzure Storage.</span></span> 

<span data-ttu-id="a58c4-152">使用 hello 批次服務 API toopersist 工作何時輸出：</span><span class="sxs-lookup"><span data-stu-id="a58c4-152">Use hello Batch service API toopersist task output when:</span></span>

- <span data-ttu-id="a58c4-153">您想要從批次工作及建立 hello 虛擬機器組態與集區中的作業管理員工作的 toopersist 資料。</span><span class="sxs-lookup"><span data-stu-id="a58c4-153">You want toopersist data from Batch tasks and job manager tasks in pools created with hello virtual machine configuration.</span></span>
- <span data-ttu-id="a58c4-154">您想使用任意名稱 toopersist 資料 tooan Azure 儲存體容器。</span><span class="sxs-lookup"><span data-stu-id="a58c4-154">You want toopersist data tooan Azure Storage container with an arbitrary name.</span></span>
- <span data-ttu-id="a58c4-155">您想要 toopersist 資料 tooan Azure 儲存體容器名稱相應 toohello[批次檔慣例標準](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-155">You want toopersist data tooan Azure Storage container named according toohello [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> 

> [!NOTE]
> <span data-ttu-id="a58c4-156">hello 批次服務應用程式開發介面不支援從與 hello 雲端服務組態建立集區中執行工作的保存資料。</span><span class="sxs-lookup"><span data-stu-id="a58c4-156">hello Batch service API does not support persisting data from tasks running in pools created with hello cloud service configuration.</span></span> <span data-ttu-id="a58c4-157">如需保存的工作輸出從集區執行 hello 雲端服務的組態資訊，請參閱[保存作業和工作資料 tooAzure 儲存體與 hello.NET toopersist 的批次檔慣例文件庫](batch-task-output-file-conventions.md)</span><span class="sxs-lookup"><span data-stu-id="a58c4-157">For information about persisting task output from pools running hello cloud services configuration, see [Persist job and task data tooAzure Storage with hello Batch File Conventions library for .NET toopersist ](batch-task-output-file-conventions.md)</span></span>
> 
> 

<span data-ttu-id="a58c4-158">如需保存的工作輸出，以 hello 批次服務 API 的詳細資訊，請參閱[保存以 hello 批次服務應用程式開發介面的工作資料 tooAzure 儲存體](batch-task-output-files.md)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-158">For more information on persisting task output with hello Batch service API, see [Persist task data tooAzure Storage with hello Batch service API](batch-task-output-files.md).</span></span> <span data-ttu-id="a58c4-159">另請參閱 hello [PersistOutputs] [github_persistoutputs] 的範例示範如何 toouse hello 批次用戶端程式庫.NET toopersist 工作輸出 toodurable 儲存體的 GitHub 上的專案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-159">Also see hello [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how toouse hello Batch client library for .NET toopersist task output toodurable storage.</span></span>

### <a name="use-hello-batch-file-conventions-library-for-net"></a><span data-ttu-id="a58c4-160">使用適用於.NET 的 hello 批次檔慣例程式庫</span><span class="sxs-lookup"><span data-stu-id="a58c4-160">Use hello Batch File Conventions library for .NET</span></span>

<span data-ttu-id="a58c4-161">建置批次解決方案使用 C# 和.NET 開發人員可以使用 hello[檔案慣例.NET 程式庫][ nuget_package] toopersist 工作資料 tooan Azure 儲存體帳戶，根據 toohello[批次檔標準的慣例](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-161">Developers building Batch solutions with C# and .NET can use hello [File Conventions library for .NET][nuget_package] toopersist task data tooan Azure Storage account, according toohello [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> <span data-ttu-id="a58c4-162">hello 檔案慣例程式庫會處理已知的方式移動的輸出檔案 tooAzure 儲存體和命名目的地容器和 blob。</span><span class="sxs-lookup"><span data-stu-id="a58c4-162">hello File Conventions library handles moving output files tooAzure Storage and naming destination containers and blobs in a well-known way.</span></span>

<span data-ttu-id="a58c4-163">hello 檔案慣例的程式庫支援查詢依識別碼或用途的輸出檔，它們不需要 hello 讓您輕鬆 toolocate 完成檔案的 Uri。</span><span class="sxs-lookup"><span data-stu-id="a58c4-163">hello File Conventions library supports querying output files by either ID or purpose, making it easy toolocate them without needing hello complete file URIs.</span></span> 

<span data-ttu-id="a58c4-164">使用.NET toopersist 工作 hello 批次檔慣例程式庫輸出時：</span><span class="sxs-lookup"><span data-stu-id="a58c4-164">Use hello Batch File Conventions library for .NET toopersist task output when:</span></span>

- <span data-ttu-id="a58c4-165">Hello 工作仍在執行時，您會想 toostream 資料 tooAzure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-165">You want toostream data tooAzure Storage while hello task is still running.</span></span>
- <span data-ttu-id="a58c4-166">您想要從以 hello 雲端服務組態或 hello 虛擬機器組態建立的集區的 toopersist 資料。</span><span class="sxs-lookup"><span data-stu-id="a58c4-166">You want toopersist data from pools created with either hello cloud service configuration or hello virtual machine configuration.</span></span>
- <span data-ttu-id="a58c4-167">用戶端應用程式或其他工作在 hello 作業需求 toolocate 和下載工作輸出檔依識別碼或依用途。</span><span class="sxs-lookup"><span data-stu-id="a58c4-167">Your client application or other tasks in hello job needs toolocate and download task output files by ID or by purpose.</span></span> 
- <span data-ttu-id="a58c4-168">您想要初始結果 tooperform 檢查指標或早期上的傳。</span><span class="sxs-lookup"><span data-stu-id="a58c4-168">You want tooperform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="a58c4-169">您想 tooview hello Azure 入口網站中的工作輸出。</span><span class="sxs-lookup"><span data-stu-id="a58c4-169">You want tooview task output in hello Azure portal.</span></span>

<span data-ttu-id="a58c4-170">For.NET 上保存的工作輸出與 hello 檔案慣例媒體櫃資訊，請參閱[保存作業和工作資料 tooAzure 儲存體與 hello.NET toopersist 的批次檔慣例文件庫](batch-task-output-file-conventions.md)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-170">For more information on persisting task output with hello File Conventions library for .NET, see [Persist job and task data tooAzure Storage with hello Batch File Conventions library for .NET toopersist ](batch-task-output-file-conventions.md).</span></span> <span data-ttu-id="a58c4-171">另請參閱 hello [PersistOutputs] [github_persistoutputs] 的範例示範如何 toouse hello 檔案慣例文件庫.NET toopersist 工作輸出 toodurable 儲存體的 GitHub 上的專案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-171">Also see hello [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how toouse hello File Conventions library for .NET toopersist task output toodurable storage.</span></span>

<span data-ttu-id="a58c4-172">hello GitHub 上的 [PersistOutputs] [github_persistoutputs] 範例專案會示範如何 toouse hello 批次用戶端程式庫.NET toopersist 工作輸出 toodurable 儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-172">hello [PersistOutputs][github_persistoutputs] sample project on GitHub demonstrates how toouse hello Batch client library for .NET toopersist task output toodurable storage.</span></span>

### <a name="implement-hello-batch-file-conventions-standard"></a><span data-ttu-id="a58c4-173">實作 hello 標準的批次檔慣例</span><span class="sxs-lookup"><span data-stu-id="a58c4-173">Implement hello Batch File Conventions standard</span></span>

<span data-ttu-id="a58c4-174">如果您使用.NET 以外的語言，您可以實作 hello[批次檔慣例標準](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions)自己的應用程式中。</span><span class="sxs-lookup"><span data-stu-id="a58c4-174">If you are using a language other than .NET, you can implement hello [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) in your own application.</span></span> 

<span data-ttu-id="a58c4-175">您可能想 tooimplement hello 檔案慣例命名標準自己想經過證實的命名配置，或者您想 tooview hello Azure 入口網站中的工作輸出時。</span><span class="sxs-lookup"><span data-stu-id="a58c4-175">You may want tooimplement hello File Conventions naming standard yourself when you want a proven naming scheme, or when you want tooview task output in hello Azure portal.</span></span>

### <a name="implement-a-custom-file-movement-solution"></a><span data-ttu-id="a58c4-176">實作自訂檔案移動解決方案</span><span class="sxs-lookup"><span data-stu-id="a58c4-176">Implement a custom file movement solution</span></span>

<span data-ttu-id="a58c4-177">您也可以實作自己的完整檔案移動解決方案。</span><span class="sxs-lookup"><span data-stu-id="a58c4-177">You can also implement your own complete file movement solution.</span></span> <span data-ttu-id="a58c4-178">使用這個方法的時機：</span><span class="sxs-lookup"><span data-stu-id="a58c4-178">Use this approach when:</span></span>

- <span data-ttu-id="a58c4-179">您想 toopersist 工作資料 tooa 資料存放區以外 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-179">You want toopersist task data tooa data store other than Azure Storage.</span></span> <span data-ttu-id="a58c4-180">tooupload 檔案 tooa 資料存放區 SQL Azure 或 Azure DataLake 等，您可以建立自訂指令碼或可執行檔 tooupload toothat 位置。</span><span class="sxs-lookup"><span data-stu-id="a58c4-180">tooupload files tooa data store like Azure SQL or Azure DataLake, you can create a custom script or executable tooupload toothat location.</span></span> <span data-ttu-id="a58c4-181">您可以接著呼叫 hello 命令列上執行您的主要可執行檔之後。</span><span class="sxs-lookup"><span data-stu-id="a58c4-181">You can then call it on hello command line after running your primary executable.</span></span> <span data-ttu-id="a58c4-182">例如，在 Windows 節點上，您可能會呼叫這兩個命令：`doMyWork.exe && uploadMyFilesToSql.exe`</span><span class="sxs-lookup"><span data-stu-id="a58c4-182">For example, on a Windows node, you might call these two commands: `doMyWork.exe && uploadMyFilesToSql.exe`</span></span>
- <span data-ttu-id="a58c4-183">您想要初始結果 tooperform 檢查指標或早期上的傳。</span><span class="sxs-lookup"><span data-stu-id="a58c4-183">You want tooperform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="a58c4-184">您想 toomaintain 更精確地控制錯誤處理。</span><span class="sxs-lookup"><span data-stu-id="a58c4-184">You want toomaintain granular control over error handling.</span></span> <span data-ttu-id="a58c4-185">比方說，您可能想的 tooimplement 自己的解決方案，如果您想 toouse 工作相依性動作 tootake 特定上載根據特定工作的結束代碼的動作。</span><span class="sxs-lookup"><span data-stu-id="a58c4-185">For example, you may want tooimplement your own solution if you want toouse task dependency actions tootake certain upload actions based on specific task exit codes.</span></span> <span data-ttu-id="a58c4-186">如需有關工作相依性動作的詳細資訊，請參閱[toorun 工作相依於其他工作建立工作的相依性](batch-task-dependencies.md)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-186">For more information on task dependency actions, see [Create task dependencies toorun tasks that depend on other tasks](batch-task-dependencies.md).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="a58c4-187">後續步驟</span><span class="sxs-lookup"><span data-stu-id="a58c4-187">Next steps</span></span>

- <span data-ttu-id="a58c4-188">探索使用中的 hello 批次服務 API toopersist 工作資料中的 hello 新功能[保存以 hello 批次服務應用程式開發介面的工作資料 tooAzure 儲存體](batch-task-output-files.md)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-188">Explore using hello new features in hello Batch service API toopersist task data in [Persist task data tooAzure Storage with hello Batch service API](batch-task-output-files.md).</span></span>
- <span data-ttu-id="a58c4-189">了解如何使用 hello 批次檔慣例文件庫中的.net[保存作業和工作資料 tooAzure 儲存體與 hello.NET toopersist 的批次檔慣例文件庫](batch-task-output-file-conventions.md)。</span><span class="sxs-lookup"><span data-stu-id="a58c4-189">Learn about using hello Batch File Conventions library for .NET in [Persist job and task data tooAzure Storage with hello Batch File Conventions library for .NET toopersist ](batch-task-output-file-conventions.md).</span></span>
- <span data-ttu-id="a58c4-190">請參閱 hello [PersistOutputs] [github_persistoutputs] GitHub，示範如何 toouse 兩者 hello 批次.NET 的用戶端程式庫和.NET toopersist 工作 hello 檔案慣例程式庫上範例專案輸出 toodurable 儲存體。</span><span class="sxs-lookup"><span data-stu-id="a58c4-190">See hello [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how toouse both hello Batch client library for .NET and hello File Conventions library for .NET toopersist task output toodurable storage.</span></span>

[nuget_package]: https://www.nuget.org/packages/Microsoft.Azure.Batch.Conventions.Files
[portal]: https://portal.azure.com
[storage_explorer]: http://storageexplorer.com/
