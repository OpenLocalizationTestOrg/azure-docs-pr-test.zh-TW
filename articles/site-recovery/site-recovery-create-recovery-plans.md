---
title: "aaaCreate 復原計劃的容錯移轉和復原在 Azure Site Recovery |Microsoft 文件"
description: "描述如何 toocreate 和自訂復原計劃在 Azure Site Recovery，toofail 透過復原 Vm 和實體伺服器"
services: site-recovery
documentationcenter: 
author: rayne-wiselman
manager: carmonm
editor: 
ms.assetid: 72408c62-fcb6-4ee2-8ff5-cab1218773f2
ms.service: site-recovery
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/23/2017
ms.author: raynew
ms.openlocfilehash: 09ca7719e92460b283947fdbe752e8654e5b9cab
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="create-recovery-plans"></a><span data-ttu-id="353d5-103">建立復原方案</span><span class="sxs-lookup"><span data-stu-id="353d5-103">Create recovery plans</span></span>


<span data-ttu-id="353d5-104">本文提供在 [Azure Site Recovery](site-recovery-overview.md) 中建立和自訂復原方案的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="353d5-104">This article provides information about creating and customizing recovery plans in [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="353d5-105">將任何註解或問題張貼在本文中，或在 hello hello 下方[Azure 復原服務論壇](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr)。</span><span class="sxs-lookup"><span data-stu-id="353d5-105">Post any comments or questions at hello bottom of this article, or on hello [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>

 <span data-ttu-id="353d5-106">建立之後復原計劃 toodo hello:</span><span class="sxs-lookup"><span data-stu-id="353d5-106">Create recovery plans toodo hello following:</span></span>

* <span data-ttu-id="353d5-107">定義會一起容錯移轉並啟動的機器群組。</span><span class="sxs-lookup"><span data-stu-id="353d5-107">Define groups of machines that fail over together, and then start up together.</span></span>
* <span data-ttu-id="353d5-108">將機器分到同一個復原計畫群組，藉以建立機器間的相依性。</span><span class="sxs-lookup"><span data-stu-id="353d5-108">Model dependencies between machines, by grouping them together into a recovery plan group.</span></span> <span data-ttu-id="353d5-109">例如，透過 toofail 並顯示特定應用程式，您分組 hello Vm hello 到該應用程式的所有相同復原計劃的群組。</span><span class="sxs-lookup"><span data-stu-id="353d5-109">For example, toofail over and bring up a specific application, you group all of hello VMs for that application into hello same recovery plan group.</span></span>
* <span data-ttu-id="353d5-110">執行容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="353d5-110">Run a failover.</span></span> <span data-ttu-id="353d5-111">您可以透過復原方案執行測試，以及執行規劃或未規劃的容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="353d5-111">You can run a test, planned, or unplanned failover on a recovery plan.</span></span>


## <a name="create-a-recovery-plan"></a><span data-ttu-id="353d5-112">建立復原計畫</span><span class="sxs-lookup"><span data-stu-id="353d5-112">Create a recovery plan</span></span>

1. <span data-ttu-id="353d5-113">按一下 [復原計畫] > [建立復原計畫]。</span><span class="sxs-lookup"><span data-stu-id="353d5-113">Click **Recovery Plans** > **Create Recovery Plan**.</span></span>
   <span data-ttu-id="353d5-114">指定 hello 復原計劃，以及來源和目標的名稱。</span><span class="sxs-lookup"><span data-stu-id="353d5-114">Specify a name for hello recovery plan, and a source and target.</span></span> <span data-ttu-id="353d5-115">hello 來源位置必須具有啟用容錯移轉和復原的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="353d5-115">hello source location must have virtual machines that are enabled for failover and recovery.</span></span>

    - <span data-ttu-id="353d5-116">對於 VMM tooVMM 複寫，請選取**來源類型** > **VMM**，和 hello 來源與目標 VMM 伺服器。</span><span class="sxs-lookup"><span data-stu-id="353d5-116">For VMM tooVMM replication, select **Source Type** > **VMM**, and hello source and target VMM servers.</span></span> <span data-ttu-id="353d5-117">按一下**HYPER-V** toosee 雲端所保護。</span><span class="sxs-lookup"><span data-stu-id="353d5-117">Click **Hyper-V** toosee clouds that are protected.</span></span>
    - <span data-ttu-id="353d5-118">針對 VMM tooAzure 選取**來源類型** > **VMM**。</span><span class="sxs-lookup"><span data-stu-id="353d5-118">For VMM tooAzure, select **Source Type** > **VMM**.</span></span>  <span data-ttu-id="353d5-119">選取 hello 來源 VMM 伺服器，和**Azure**為 hello 目標。</span><span class="sxs-lookup"><span data-stu-id="353d5-119">Select hello source VMM server, and **Azure** as hello target.</span></span>
    - <span data-ttu-id="353d5-120">HYPER-V 複寫 tooAzure （無 VMM)，請選取**來源類型** > **HYPER-V 站台**。</span><span class="sxs-lookup"><span data-stu-id="353d5-120">For Hyper-V replication tooAzure (without VMM), select **Source Type** > **Hyper-V site**.</span></span> <span data-ttu-id="353d5-121">選取 hello hello 來源站台和**Azure**為 hello 目標。</span><span class="sxs-lookup"><span data-stu-id="353d5-121">Select hello site as hello source, and **Azure** as hello target.</span></span>
    - <span data-ttu-id="353d5-122">VMware VM 或實體內部部署伺服器 tooAzure，選取設定伺服器為 hello 來源和**Azure**為 hello 目標。</span><span class="sxs-lookup"><span data-stu-id="353d5-122">For a VMware VM or a physical on-premises server tooAzure, select a configuration server as hello source, and **Azure** as hello target.</span></span>
    - <span data-ttu-id="353d5-123">對於 Azure tooAzure 復原計劃中，選取 Azure 區域為 hello 來源和次要 Azure 地區做為 hello 目標。</span><span class="sxs-lookup"><span data-stu-id="353d5-123">For a Azure tooAzure recovery plan, select a Azure region as hello source, and a secondary Azure region as hello target.</span></span> <span data-ttu-id="353d5-124">hello 次要 Azure 地區是只有這些 toowhich 虛擬機器受到保護。</span><span class="sxs-lookup"><span data-stu-id="353d5-124">hello secondary Azure regions are only those toowhich virtual machines are protected.</span></span>
2. <span data-ttu-id="353d5-125">在**選取虛擬機器**，選取 hello 虛擬機器 （或複寫群組） 的 tooadd toohello 預設群組 (群組 1) hello 復原計劃中。</span><span class="sxs-lookup"><span data-stu-id="353d5-125">In **Select virtual machines**, select hello virtual machines (or replication group) that you want tooadd toohello default group (Group 1) in hello recovery plan.</span></span>

## <a name="customize-and-extend-recovery-plans"></a><span data-ttu-id="353d5-126">自訂和擴充復原計畫</span><span class="sxs-lookup"><span data-stu-id="353d5-126">Customize and extend recovery plans</span></span>

<span data-ttu-id="353d5-127">您可以自訂和擴充復原計畫：</span><span class="sxs-lookup"><span data-stu-id="353d5-127">You can customize and extend recovery plans:</span></span>

- <span data-ttu-id="353d5-128">**新增群組**— 新增額外的復原計劃 （向上 tooseven) 群組 toohello 預設群組，然後再新增 更多的機器或複寫群組 toothose 復原計畫群組。</span><span class="sxs-lookup"><span data-stu-id="353d5-128">**Add new groups**—Add additional recovery plan groups (up tooseven) toohello default group, and then add more machines or replication groups toothose recovery plan groups.</span></span> <span data-ttu-id="353d5-129">群組會以您新增的 hello 順序編號。</span><span class="sxs-lookup"><span data-stu-id="353d5-129">Groups are numbered in hello order in which you add them.</span></span> <span data-ttu-id="353d5-130">虛擬機器或複寫群組只能包含在一個復原計畫群組中。</span><span class="sxs-lookup"><span data-stu-id="353d5-130">A virtual machine, or replication group, can only be included in one recovery plan group.</span></span>
- <span data-ttu-id="353d5-131">新增手動動作 — 您可以新增手動動作，在建立復原方案群組之前或之後執行。</span><span class="sxs-lookup"><span data-stu-id="353d5-131">**Add a manual action**—You can add manual actions that run before or after a recovery plan group.</span></span> <span data-ttu-id="353d5-132">Hello 復原計劃執行時，會在插入 hello 手動動作的 hello 點停止。</span><span class="sxs-lookup"><span data-stu-id="353d5-132">When hello recovery plan runs, it stops at hello point at which you inserted hello manual action.</span></span> <span data-ttu-id="353d5-133">出現對話方塊提示 toospecify hello 手動動作已完成。</span><span class="sxs-lookup"><span data-stu-id="353d5-133">A dialog box prompts you toospecify that hello manual action was completed.</span></span>
- <span data-ttu-id="353d5-134">新增指令碼 — 您可以新增指令碼，在建立復原計畫群組之前或之後執行。</span><span class="sxs-lookup"><span data-stu-id="353d5-134">**Add a script**—You can add scripts that run before or after a recovery plan group.</span></span> <span data-ttu-id="353d5-135">當您將指令碼時，它會加入一組新的 hello 群組的動作。</span><span class="sxs-lookup"><span data-stu-id="353d5-135">When you add a script, it adds a new set of actions for hello group.</span></span> <span data-ttu-id="353d5-136">例如，將建立一組前置步驟，針對群組 1 hello 名稱： 群組 1： 前置步驟。</span><span class="sxs-lookup"><span data-stu-id="353d5-136">For example, a set of pre-steps for Group 1 will be created with hello name: Group 1: pre-steps.</span></span> <span data-ttu-id="353d5-137">所有前置步驟都會列於此動作集中。</span><span class="sxs-lookup"><span data-stu-id="353d5-137">All pre-steps will be listed inside this set.</span></span> <span data-ttu-id="353d5-138">如果您有部署的 VMM 伺服器，可以只 hello 主要站台上將指令碼。</span><span class="sxs-lookup"><span data-stu-id="353d5-138">You can only add a script on hello primary site if you have a VMM server deployed.</span></span>
- <span data-ttu-id="353d5-139">**新增 Azure Runbook**— 您可以使用 Azure runbook 擴充復原計畫。</span><span class="sxs-lookup"><span data-stu-id="353d5-139">**Add Azure runbooks**—You can extend recovery plans with Azure runbooks.</span></span> <span data-ttu-id="353d5-140">例如，tooautomate 工作或 toocreate 單一步驟復原。</span><span class="sxs-lookup"><span data-stu-id="353d5-140">For example, tooautomate tasks, or toocreate single-step recovery.</span></span> <span data-ttu-id="353d5-141">[深入了解](site-recovery-runbook-automation.md)。</span><span class="sxs-lookup"><span data-stu-id="353d5-141">[Learn more](site-recovery-runbook-automation.md).</span></span>

## <a name="add-scripts"></a><span data-ttu-id="353d5-142">新增指令碼</span><span class="sxs-lookup"><span data-stu-id="353d5-142">Add scripts</span></span>

<span data-ttu-id="353d5-143">在您的復原計畫中，您可以使用 PowerShell 指令碼。</span><span class="sxs-lookup"><span data-stu-id="353d5-143">You can use PowerShell scripts in your recovery plans.</span></span>

 - <span data-ttu-id="353d5-144">請確定指令碼會使用 try catch 區塊，以便依正常程序處理 hello 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="353d5-144">Ensure that scripts use try-catch blocks so that hello exceptions are handled gracefully.</span></span>
    - <span data-ttu-id="353d5-145">如果沒有 hello 指令碼中的例外狀況，會停止執行，而且 hello 工作會顯示為失敗。</span><span class="sxs-lookup"><span data-stu-id="353d5-145">If there is an exception in hello script, it stops running and hello task shows as failed.</span></span>
    - <span data-ttu-id="353d5-146">如果發生錯誤，無法執行 hello 指令碼的任何其餘部分。</span><span class="sxs-lookup"><span data-stu-id="353d5-146">If an error occurs, any remaining part of hello script doesn't run.</span></span>
    - <span data-ttu-id="353d5-147">如果當您執行非計劃性容錯移轉時，也會發生錯誤，會繼續 hello 復原計劃。</span><span class="sxs-lookup"><span data-stu-id="353d5-147">If an error occurs when you run an unplanned failover, hello recovery plan continues.</span></span>
    - <span data-ttu-id="353d5-148">如果當您執行規劃的容錯移轉時，就會發生錯誤，就會停止 hello 復原計劃。</span><span class="sxs-lookup"><span data-stu-id="353d5-148">If an error occurs when you run a planned failover, hello recovery plan stops.</span></span> <span data-ttu-id="353d5-149">您需要 toofix hello 指令碼，確認它如預期執行，然後執行 hello 復原方案一次。</span><span class="sxs-lookup"><span data-stu-id="353d5-149">You need toofix hello script, check that it runs as expected, and then run hello recovery plan again.</span></span>
- <span data-ttu-id="353d5-150">hello Write-host 命令無法在復原計劃的指令碼，並 hello 指令碼會失敗。</span><span class="sxs-lookup"><span data-stu-id="353d5-150">hello Write-Host command doesn’t work in a recovery plan script, and hello script will fail.</span></span> <span data-ttu-id="353d5-151">toocreate 輸出，建立 proxy 指令碼，接著執行主要指令碼。</span><span class="sxs-lookup"><span data-stu-id="353d5-151">toocreate output, create a proxy script that in turn runs your main script.</span></span> <span data-ttu-id="353d5-152">請確定所有輸出會經由管道都輸出使用 hello >> 命令。</span><span class="sxs-lookup"><span data-stu-id="353d5-152">Make sure that all output is piped out using hello >> command.</span></span>
  * <span data-ttu-id="353d5-153">hello 指令碼逾時，如果它不會在 600 秒內傳回。</span><span class="sxs-lookup"><span data-stu-id="353d5-153">hello script times out if it doesn't return within 600 seconds.</span></span>
  * <span data-ttu-id="353d5-154">如果任何項目會寫出 tooSTDERR，hello 指令碼之分類為失敗。</span><span class="sxs-lookup"><span data-stu-id="353d5-154">If anything is written out tooSTDERR, hello script is classified as failed.</span></span> <span data-ttu-id="353d5-155">這項資訊會顯示在 hello 指令碼執行詳細資料。</span><span class="sxs-lookup"><span data-stu-id="353d5-155">This information is displayed in hello script execution details.</span></span>

<span data-ttu-id="353d5-156">如果您在部署中使用 VMM：</span><span class="sxs-lookup"><span data-stu-id="353d5-156">If you're using VMM in your deployment:</span></span>

* <span data-ttu-id="353d5-157">Hello hello VMM 服務帳戶內容中，執行復原計劃中的指令碼。</span><span class="sxs-lookup"><span data-stu-id="353d5-157">Scripts in a recovery plan run in hello context of hello VMM Service account.</span></span> <span data-ttu-id="353d5-158">請確定此帳戶具有 hello 遠端共用的 hello 指令碼所在的 「 讀取 」 權限。</span><span class="sxs-lookup"><span data-stu-id="353d5-158">Make sure this account has Read permissions for hello remote share on which hello script is located.</span></span> <span data-ttu-id="353d5-159">測試 hello 指令碼 toorun 在 hello VMM 服務帳戶權限層級。</span><span class="sxs-lookup"><span data-stu-id="353d5-159">Test hello script toorun at hello VMM service account privilege level.</span></span>
* <span data-ttu-id="353d5-160">會在 Windows PowerShell 模組中傳遞 VMM Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="353d5-160">VMM cmdlets are delivered in a Windows PowerShell module.</span></span> <span data-ttu-id="353d5-161">當您安裝 hello VMM 主控台安裝 hello 模組。</span><span class="sxs-lookup"><span data-stu-id="353d5-161">hello module is installed when you install hello VMM console.</span></span> <span data-ttu-id="353d5-162">它可以載入到您的指令碼，使用下列命令 hello 指令碼中的 hello:</span><span class="sxs-lookup"><span data-stu-id="353d5-162">It can be loaded into your script, using hello following command in hello script:</span></span>
   - <span data-ttu-id="353d5-163">Import-Module -Name virtualmachinemanager。</span><span class="sxs-lookup"><span data-stu-id="353d5-163">Import-Module -Name virtualmachinemanager.</span></span> <span data-ttu-id="353d5-164">[深入了解](https://technet.microsoft.com/library/hh875013.aspx)。</span><span class="sxs-lookup"><span data-stu-id="353d5-164">[Learn more](https://technet.microsoft.com/library/hh875013.aspx).</span></span>
* <span data-ttu-id="353d5-165">確認您的 VMM 部署中至少有一部程式庫伺服器。</span><span class="sxs-lookup"><span data-stu-id="353d5-165">Ensure you have at least one library server in your VMM deployment.</span></span> <span data-ttu-id="353d5-166">根據預設，VMM 伺服器 hello 程式庫共用路徑位於本機 hello 與 hello 資料夾名稱 MSCVMMLibrary 的 VMM 伺服器上。</span><span class="sxs-lookup"><span data-stu-id="353d5-166">By default, hello library share path for a VMM server is located locally on hello VMM server, with hello folder name MSCVMMLibrary.</span></span>
    * <span data-ttu-id="353d5-167">如果您的程式庫共用路徑遠端 （或本機但是並未與 MSCVMMLibrary 共用），請設定 hello 共用，如下所示 (使用\\libserver2.contoso.com\share\ 做為範例):</span><span class="sxs-lookup"><span data-stu-id="353d5-167">If your library share path is remote (or local but not shared with MSCVMMLibrary), configure hello share as follows (using \\libserver2.contoso.com\share\ as an example):</span></span>
      * <span data-ttu-id="353d5-168">開啟 hello 登錄編輯器並瀏覽過**HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure 網站 Recovery\Registration**。</span><span class="sxs-lookup"><span data-stu-id="353d5-168">Open hello Registry Editor and navigate too**HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**.</span></span>
      * <span data-ttu-id="353d5-169">編輯 hello 值**ScriptLibraryPath** ，並將它當做\\libserver2.contoso.com\share\.</span><span class="sxs-lookup"><span data-stu-id="353d5-169">Edit hello value **ScriptLibraryPath** and place it as \\libserver2.contoso.com\share\.</span></span> <span data-ttu-id="353d5-170">指定 hello 完整的 FQDN。</span><span class="sxs-lookup"><span data-stu-id="353d5-170">Specify hello full FQDN.</span></span> <span data-ttu-id="353d5-171">提供 toohello 共用位置的權限。</span><span class="sxs-lookup"><span data-stu-id="353d5-171">Provide permissions toohello share location.</span></span>
      * <span data-ttu-id="353d5-172">請務必測試 hello 指令碼 hello 相同的使用者帳戶權限為 hello VMM 服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="353d5-172">Ensure that you test hello script with a user account that has hello same permissions as hello VMM service account.</span></span> <span data-ttu-id="353d5-173">這會檢查該獨立測試中執行的指令碼 hello 相同方式與它們會依照復原方案。</span><span class="sxs-lookup"><span data-stu-id="353d5-173">This checks that standalone tested scripts run in hello same way as they will in recovery plans.</span></span> <span data-ttu-id="353d5-174">Hello VMM 伺服器上，設定 hello 執行原則 toobypass 如下所示：</span><span class="sxs-lookup"><span data-stu-id="353d5-174">On hello VMM server, set hello execution policy toobypass as follows:</span></span>
        * <span data-ttu-id="353d5-175">開啟 hello 64 位元 Windows PowerShell 主控台，使用提高的權限。</span><span class="sxs-lookup"><span data-stu-id="353d5-175">Open hello 64-bit Windows PowerShell console using elevated privileges.</span></span>
        * <span data-ttu-id="353d5-176">類型： **Set-executionpolicy bypass**。</span><span class="sxs-lookup"><span data-stu-id="353d5-176">Type: **Set-executionpolicy bypass**.</span></span> <span data-ttu-id="353d5-177">[深入了解](https://technet.microsoft.com/library/ee176961.aspx)。</span><span class="sxs-lookup"><span data-stu-id="353d5-177">[Learn more](https://technet.microsoft.com/library/ee176961.aspx).</span></span>

## <a name="add-a-script-or-manual-action-tooa-plan"></a><span data-ttu-id="353d5-178">新增指令碼或手動動作 tooa 計劃</span><span class="sxs-lookup"><span data-stu-id="353d5-178">Add a script or manual action tooa plan</span></span>

<span data-ttu-id="353d5-179">新增 Vm 或複寫群組 tooit，及建立 hello 計劃之後，您可以加入指令碼 toohello 預設復原計畫群組。</span><span class="sxs-lookup"><span data-stu-id="353d5-179">You can add a script toohello default recovery plan group after you've added VMs or replication groups tooit, and created hello plan.</span></span>

1. <span data-ttu-id="353d5-180">開啟 hello 復原計劃。</span><span class="sxs-lookup"><span data-stu-id="353d5-180">Open hello recovery plan.</span></span>
2. <span data-ttu-id="353d5-181">按一下項目在 hello**步驟**清單，然後再按**指令碼**或**手動動作**。</span><span class="sxs-lookup"><span data-stu-id="353d5-181">Click an item in hello **Step** list, and then click **Script** or **Manual Action**.</span></span>
3. <span data-ttu-id="353d5-182">指定 toowant tooadd hello 指令碼或動作之前或之後 hello 選取項目。</span><span class="sxs-lookup"><span data-stu-id="353d5-182">Specify whether toowant tooadd hello script or action before or after hello selected item.</span></span> <span data-ttu-id="353d5-183">使用 hello**移**和**下移**按鈕，toomove hello hello 指令碼的位置向上或向下。</span><span class="sxs-lookup"><span data-stu-id="353d5-183">Use hello **Move Up** and **Move Down**  buttons, toomove hello position of hello script up or down.</span></span>
4. <span data-ttu-id="353d5-184">如果您新增 VMM 指令碼，請選取**容錯移轉 tooVMM 指令碼**。</span><span class="sxs-lookup"><span data-stu-id="353d5-184">If you add a VMM script, select **Failover tooVMM script**.</span></span> <span data-ttu-id="353d5-185">在**指令碼路徑**，型別 hello 相對路徑 toohello 共用。</span><span class="sxs-lookup"><span data-stu-id="353d5-185">In **Script Path**, type hello relative path toohello share.</span></span> <span data-ttu-id="353d5-186">您可以在 hello VMM 面範例中，指定 hello 路徑： **\RPScripts\RPScript.PS1**。</span><span class="sxs-lookup"><span data-stu-id="353d5-186">In hello VMM example below, you specify hello path: **\RPScripts\RPScript.PS1**.</span></span>
5. <span data-ttu-id="353d5-187">如果您加入 Azure 自動化執行活頁簿時，指定 hello Azure 自動化帳戶中的 hello runbook 是 hello，並選取適當的 Azure runbook 指令碼。</span><span class="sxs-lookup"><span data-stu-id="353d5-187">If you add an Azure automation run book, specify hello Azure Automation account in which hello runbook is located, and select hello appropriate Azure runbook script.</span></span>
6. <span data-ttu-id="353d5-188">Hello 復原計劃的容錯移轉，如預期般運作 toomake 確定 hello 指令碼。</span><span class="sxs-lookup"><span data-stu-id="353d5-188">Do a failover of hello recovery plan, toomake sure hello script works as expected.</span></span>


### <a name="add-a-vmm-script"></a><span data-ttu-id="353d5-189">新增 VMM 指令碼</span><span class="sxs-lookup"><span data-stu-id="353d5-189">Add a VMM script</span></span>

<span data-ttu-id="353d5-190">如果您有 VMM 來源站台，您可以 hello VMM 伺服器上，建立指令碼，並將它包含在復原計劃。</span><span class="sxs-lookup"><span data-stu-id="353d5-190">If you have a VMM source site, you can create a script on hello VMM server, and include it in your recovery plan.</span></span>

1. <span data-ttu-id="353d5-191">Hello 程式庫共用中建立新的資料夾。</span><span class="sxs-lookup"><span data-stu-id="353d5-191">Create a new folder in hello library share.</span></span> <span data-ttu-id="353d5-192">例如，\<VMMServerName>\MSSCVMMLibrary\RPScripts。</span><span class="sxs-lookup"><span data-stu-id="353d5-192">For example, \<VMMServerName>\MSSCVMMLibrary\RPScripts.</span></span> <span data-ttu-id="353d5-193">將它放在 hello 來源與目標 VMM 伺服器。</span><span class="sxs-lookup"><span data-stu-id="353d5-193">Place it on hello source and target VMM servers.</span></span>
2. <span data-ttu-id="353d5-194">建立 hello 指令碼 (例如 RPScript)，並檢查它如預期般運作。</span><span class="sxs-lookup"><span data-stu-id="353d5-194">Create hello script (for example RPScript), and check it works as expected.</span></span>
3. <span data-ttu-id="353d5-195">Hello 指令碼置於 hello 位置\<> \MSSCVMMLibrary，hello 來源和目標 VMM 伺服器上的。</span><span class="sxs-lookup"><span data-stu-id="353d5-195">Place hello script in hello location \<VMMServerName>\MSSCVMMLibrary, on hello source and target VMM servers.</span></span>


## <a name="next-steps"></a><span data-ttu-id="353d5-196">後續步驟</span><span class="sxs-lookup"><span data-stu-id="353d5-196">Next steps</span></span>

<span data-ttu-id="353d5-197">[深入了解](site-recovery-failover.md) 如何執行容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="353d5-197">[Learn more](site-recovery-failover.md) about running failovers.</span></span>
