---
title: "在 Azure Site Recovery 中建立容錯移轉和復原的復原計劃 | Microsoft Docs"
description: "描述如何建立及自訂 Azure Site Recovery 中的復原方案，以容錯移轉和復原 VM 與實體伺服器"
services: site-recovery
documentationcenter: 
author: rayne-wiselman
manager: carmonm
editor: 
ms.assetid: 72408c62-fcb6-4ee2-8ff5-cab1218773f2
ms.service: site-recovery
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/23/2017
ms.author: raynew
ms.openlocfilehash: 1b0d64cd592c4738311797b826e490639340f92a
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/18/2017
---
# <a name="create-recovery-plans"></a><span data-ttu-id="5257c-103">建立復原方案</span><span class="sxs-lookup"><span data-stu-id="5257c-103">Create recovery plans</span></span>


<span data-ttu-id="5257c-104">本文提供在 [Azure Site Recovery](site-recovery-overview.md) 中建立和自訂復原方案的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="5257c-104">This article provides information about creating and customizing recovery plans in [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="5257c-105">在這篇文章下方或 [Azure Recovery Services Forum (Azure 復原服務論壇)](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr)中張貼意見或問題。</span><span class="sxs-lookup"><span data-stu-id="5257c-105">Post any comments or questions at the bottom of this article, or on the [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>

 <span data-ttu-id="5257c-106">建立復原方案可執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="5257c-106">Create recovery plans to do the following:</span></span>

* <span data-ttu-id="5257c-107">定義會一起容錯移轉並啟動的機器群組。</span><span class="sxs-lookup"><span data-stu-id="5257c-107">Define groups of machines that fail over together, and then start up together.</span></span>
* <span data-ttu-id="5257c-108">將機器分到同一個復原計畫群組，藉以建立機器間的相依性。</span><span class="sxs-lookup"><span data-stu-id="5257c-108">Model dependencies between machines, by grouping them together into a recovery plan group.</span></span> <span data-ttu-id="5257c-109">例如，若要執行容錯移轉，並帶出特定的應用程式，應將該應用程式的所有 VM 分到相同的復原計畫群組。</span><span class="sxs-lookup"><span data-stu-id="5257c-109">For example, to fail over and bring up a specific application, you group all of the VMs for that application into the same recovery plan group.</span></span>
* <span data-ttu-id="5257c-110">執行容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="5257c-110">Run a failover.</span></span> <span data-ttu-id="5257c-111">您可以透過復原方案執行測試，以及執行規劃或未規劃的容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="5257c-111">You can run a test, planned, or unplanned failover on a recovery plan.</span></span>


## <a name="create-a-recovery-plan"></a><span data-ttu-id="5257c-112">建立復原計畫</span><span class="sxs-lookup"><span data-stu-id="5257c-112">Create a recovery plan</span></span>

1. <span data-ttu-id="5257c-113">按一下 [復原計畫] > [建立復原計畫]。</span><span class="sxs-lookup"><span data-stu-id="5257c-113">Click **Recovery Plans** > **Create Recovery Plan**.</span></span>
   <span data-ttu-id="5257c-114">指定復原方案的名稱，以及來源和目標伺服器。</span><span class="sxs-lookup"><span data-stu-id="5257c-114">Specify a name for the recovery plan, and a source and target.</span></span> <span data-ttu-id="5257c-115">來源位置必須有已啟用容錯移轉和復原功能的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="5257c-115">The source location must have virtual machines that are enabled for failover and recovery.</span></span>

    - <span data-ttu-id="5257c-116">針對 VMM 複寫至 VMM，請選取 [來源類型]  >  [VMM]，然後選取來源和目標 VMM 伺服器。</span><span class="sxs-lookup"><span data-stu-id="5257c-116">For VMM to VMM replication, select **Source Type** > **VMM**, and the source and target VMM servers.</span></span> <span data-ttu-id="5257c-117">按一下 [Hyper-V]，查看受保護的雲端。</span><span class="sxs-lookup"><span data-stu-id="5257c-117">Click **Hyper-V** to see clouds that are protected.</span></span>
    - <span data-ttu-id="5257c-118">若為 VMM 至 Azure，請選取 [來源類型] > [VMM]。</span><span class="sxs-lookup"><span data-stu-id="5257c-118">For VMM to Azure, select **Source Type** > **VMM**.</span></span>  <span data-ttu-id="5257c-119">選取來源 VMM 伺服器及 [Azure] 做為目標。</span><span class="sxs-lookup"><span data-stu-id="5257c-119">Select the source VMM server, and **Azure** as the target.</span></span>
    - <span data-ttu-id="5257c-120">若為 Hyper-V 複寫至 Azure (無 VMM)，請選取 [來源類型] > [Hyper-V 網站]。</span><span class="sxs-lookup"><span data-stu-id="5257c-120">For Hyper-V replication to Azure (without VMM), select **Source Type** > **Hyper-V site**.</span></span> <span data-ttu-id="5257c-121">選取該網站做為來源，並選取 [Azure]做為目標。</span><span class="sxs-lookup"><span data-stu-id="5257c-121">Select the site as the source, and **Azure** as the target.</span></span>
    - <span data-ttu-id="5257c-122">若為 VMware VM 或實體內部部署伺服器至 Azure，請選取組態伺服器做為來源，並選取 [Azure] 做為目標。</span><span class="sxs-lookup"><span data-stu-id="5257c-122">For a VMware VM or a physical on-premises server to Azure, select a configuration server as the source, and **Azure** as the target.</span></span>
    - <span data-ttu-id="5257c-123">對於 Azure 至 Azure 復原計劃，請選取 Azure 區域作為來源，以及次要 Azure 區域作為目標。</span><span class="sxs-lookup"><span data-stu-id="5257c-123">For a Azure to Azure recovery plan, select a Azure region as the source, and a secondary Azure region as the target.</span></span> <span data-ttu-id="5257c-124">次要 Azure 區域只是虛擬機器受到保護的部分。</span><span class="sxs-lookup"><span data-stu-id="5257c-124">The secondary Azure regions are only those to which virtual machines are protected.</span></span>
2. <span data-ttu-id="5257c-125">在 [選取虛擬機器] 中，選取您要在復原計畫中新增至預設群組 (Group 1) 的虛擬機器 (或複寫群組)。</span><span class="sxs-lookup"><span data-stu-id="5257c-125">In **Select virtual machines**, select the virtual machines (or replication group) that you want to add to the default group (Group 1) in the recovery plan.</span></span>

## <a name="customize-and-extend-recovery-plans"></a><span data-ttu-id="5257c-126">自訂和擴充復原計畫</span><span class="sxs-lookup"><span data-stu-id="5257c-126">Customize and extend recovery plans</span></span>

<span data-ttu-id="5257c-127">您可以自訂和擴充復原計畫：</span><span class="sxs-lookup"><span data-stu-id="5257c-127">You can customize and extend recovery plans:</span></span>

- <span data-ttu-id="5257c-128">**新增群組**—將額外的復原計畫群組 (最多七個) 新增至預設群組，然後將更多電腦或複寫群組新增至這些復原計畫群組。</span><span class="sxs-lookup"><span data-stu-id="5257c-128">**Add new groups**—Add additional recovery plan groups (up to seven) to the default group, and then add more machines or replication groups to those recovery plan groups.</span></span> <span data-ttu-id="5257c-129">群組會依您加入的順序加以編號。</span><span class="sxs-lookup"><span data-stu-id="5257c-129">Groups are numbered in the order in which you add them.</span></span> <span data-ttu-id="5257c-130">虛擬機器或複寫群組只能包含在一個復原計畫群組中。</span><span class="sxs-lookup"><span data-stu-id="5257c-130">A virtual machine, or replication group, can only be included in one recovery plan group.</span></span>
- <span data-ttu-id="5257c-131">新增手動動作 — 您可以新增手動動作，在建立復原方案群組之前或之後執行。</span><span class="sxs-lookup"><span data-stu-id="5257c-131">**Add a manual action**—You can add manual actions that run before or after a recovery plan group.</span></span> <span data-ttu-id="5257c-132">執行復原計畫時，它會在您插入手動動作之處停止。</span><span class="sxs-lookup"><span data-stu-id="5257c-132">When the recovery plan runs, it stops at the point at which you inserted the manual action.</span></span> <span data-ttu-id="5257c-133">對話方塊會提示您指定手動動作已完成。</span><span class="sxs-lookup"><span data-stu-id="5257c-133">A dialog box prompts you to specify that the manual action was completed.</span></span>
- <span data-ttu-id="5257c-134">新增指令碼 — 您可以新增指令碼，在建立復原計畫群組之前或之後執行。</span><span class="sxs-lookup"><span data-stu-id="5257c-134">**Add a script**—You can add scripts that run before or after a recovery plan group.</span></span> <span data-ttu-id="5257c-135">新增指令碼後，群組中會加入新的動作集。</span><span class="sxs-lookup"><span data-stu-id="5257c-135">When you add a script, it adds a new set of actions for the group.</span></span> <span data-ttu-id="5257c-136">例如，系統會為 Group 1 建立一組前置步驟，並取名為 Group 1: Pre-steps。</span><span class="sxs-lookup"><span data-stu-id="5257c-136">For example, a set of pre-steps for Group 1 will be created with the name: Group 1: pre-steps.</span></span> <span data-ttu-id="5257c-137">所有前置步驟都會列於此動作集中。</span><span class="sxs-lookup"><span data-stu-id="5257c-137">All pre-steps will be listed inside this set.</span></span> <span data-ttu-id="5257c-138">若您已部署 VMM 伺服器，則只能在主要網站上新增指令碼。</span><span class="sxs-lookup"><span data-stu-id="5257c-138">You can only add a script on the primary site if you have a VMM server deployed.</span></span>
- <span data-ttu-id="5257c-139">**新增 Azure Runbook**— 您可以使用 Azure runbook 擴充復原計畫。</span><span class="sxs-lookup"><span data-stu-id="5257c-139">**Add Azure runbooks**—You can extend recovery plans with Azure runbooks.</span></span> <span data-ttu-id="5257c-140">例如，自動化工作或建立單步驟復原。</span><span class="sxs-lookup"><span data-stu-id="5257c-140">For example, to automate tasks, or to create single-step recovery.</span></span> <span data-ttu-id="5257c-141">[深入了解](site-recovery-runbook-automation.md)。</span><span class="sxs-lookup"><span data-stu-id="5257c-141">[Learn more](site-recovery-runbook-automation.md).</span></span>

## <a name="add-scripts"></a><span data-ttu-id="5257c-142">新增指令碼</span><span class="sxs-lookup"><span data-stu-id="5257c-142">Add scripts</span></span>

<span data-ttu-id="5257c-143">在您的復原計畫中，您可以使用 PowerShell 指令碼。</span><span class="sxs-lookup"><span data-stu-id="5257c-143">You can use PowerShell scripts in your recovery plans.</span></span>

 - <span data-ttu-id="5257c-144">請確認指令碼使用的是 Try-Catch 區塊，以便能適當地處理例外狀況。</span><span class="sxs-lookup"><span data-stu-id="5257c-144">Ensure that scripts use try-catch blocks so that the exceptions are handled gracefully.</span></span>
    - <span data-ttu-id="5257c-145">如果在指令碼中出現例外狀況，指令碼會隨即停止執行，而工作也會顯示為失敗。</span><span class="sxs-lookup"><span data-stu-id="5257c-145">If there is an exception in the script, it stops running and the task shows as failed.</span></span>
    - <span data-ttu-id="5257c-146">一旦發生錯誤，指令碼的剩餘部分將不會執行。</span><span class="sxs-lookup"><span data-stu-id="5257c-146">If an error occurs, any remaining part of the script doesn't run.</span></span>
    - <span data-ttu-id="5257c-147">如果在執行未規劃的容錯移轉時發生錯誤，復原計畫將會繼續執行。</span><span class="sxs-lookup"><span data-stu-id="5257c-147">If an error occurs when you run an unplanned failover, the recovery plan continues.</span></span>
    - <span data-ttu-id="5257c-148">如果在執行未規劃的容錯移轉時發生錯誤，復原計畫將會停止。</span><span class="sxs-lookup"><span data-stu-id="5257c-148">If an error occurs when you run a planned failover, the recovery plan stops.</span></span> <span data-ttu-id="5257c-149">您必須修正指令碼，確認其能如預期執行，然後再次執行復原方案。</span><span class="sxs-lookup"><span data-stu-id="5257c-149">You need to fix the script, check that it runs as expected, and then run the recovery plan again.</span></span>
- <span data-ttu-id="5257c-150">Write-Host 命令不會在復原方案指令碼中正常運作，指令碼將會失敗。</span><span class="sxs-lookup"><span data-stu-id="5257c-150">The Write-Host command doesn’t work in a recovery plan script, and the script will fail.</span></span> <span data-ttu-id="5257c-151">若要建立輸出，建立接著會執行主要指令碼的 proxy 指令碼。</span><span class="sxs-lookup"><span data-stu-id="5257c-151">To create output, create a proxy script that in turn runs your main script.</span></span> <span data-ttu-id="5257c-152">請確定所有的輸出會使用 >> 命令經由管道輸出。</span><span class="sxs-lookup"><span data-stu-id="5257c-152">Make sure that all output is piped out using the >> command.</span></span>
  * <span data-ttu-id="5257c-153">如果指令碼未在 600 秒內傳回則會逾時。</span><span class="sxs-lookup"><span data-stu-id="5257c-153">The script times out if it doesn't return within 600 seconds.</span></span>
  * <span data-ttu-id="5257c-154">如果有任何資料寫入至 STDERR，則該指令碼將分類為失敗。</span><span class="sxs-lookup"><span data-stu-id="5257c-154">If anything is written out to STDERR, the script is classified as failed.</span></span> <span data-ttu-id="5257c-155">此資訊會顯示在指令碼的執行詳細資料中。</span><span class="sxs-lookup"><span data-stu-id="5257c-155">This information is displayed in the script execution details.</span></span>

<span data-ttu-id="5257c-156">如果您在部署中使用 VMM：</span><span class="sxs-lookup"><span data-stu-id="5257c-156">If you're using VMM in your deployment:</span></span>

* <span data-ttu-id="5257c-157">復原方案中的指令碼會依據 VMM 服務帳戶中的內容執行。</span><span class="sxs-lookup"><span data-stu-id="5257c-157">Scripts in a recovery plan run in the context of the VMM Service account.</span></span> <span data-ttu-id="5257c-158">請確定此帳戶具有指令碼所在的遠端共用讀取權限。</span><span class="sxs-lookup"><span data-stu-id="5257c-158">Make sure this account has Read permissions for the remote share on which the script is located.</span></span> <span data-ttu-id="5257c-159">測試指令碼執行 VMM 服務帳戶權限層級。</span><span class="sxs-lookup"><span data-stu-id="5257c-159">Test the script to run at the VMM service account privilege level.</span></span>
* <span data-ttu-id="5257c-160">會在 Windows PowerShell 模組中傳遞 VMM Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="5257c-160">VMM cmdlets are delivered in a Windows PowerShell module.</span></span> <span data-ttu-id="5257c-161">安裝 VMM 主控台時，會一併安裝模組。</span><span class="sxs-lookup"><span data-stu-id="5257c-161">The module is installed when you install the VMM console.</span></span> <span data-ttu-id="5257c-162">它可以使用下列指令碼中的命令載入到您的指令碼︰</span><span class="sxs-lookup"><span data-stu-id="5257c-162">It can be loaded into your script, using the following command in the script:</span></span>
   - <span data-ttu-id="5257c-163">Import-Module -Name virtualmachinemanager。</span><span class="sxs-lookup"><span data-stu-id="5257c-163">Import-Module -Name virtualmachinemanager.</span></span> <span data-ttu-id="5257c-164">[深入了解](https://technet.microsoft.com/library/hh875013.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5257c-164">[Learn more](https://technet.microsoft.com/library/hh875013.aspx).</span></span>
* <span data-ttu-id="5257c-165">確認您的 VMM 部署中至少有一部程式庫伺服器。</span><span class="sxs-lookup"><span data-stu-id="5257c-165">Ensure you have at least one library server in your VMM deployment.</span></span> <span data-ttu-id="5257c-166">根據預設，VMM 伺服器的程式庫共用路徑位於本機的 VMM 伺服器上，資料夾名稱為 MSCVMMLibrary。</span><span class="sxs-lookup"><span data-stu-id="5257c-166">By default, the library share path for a VMM server is located locally on the VMM server, with the folder name MSCVMMLibrary.</span></span>
    * <span data-ttu-id="5257c-167">如果您的程式庫共用路徑位於遠端 (或是位於本機上，但未與 MSCVMMLibrary 共用)，請依以下所示設為共用 (以 \\libserver2.contoso.com\share\ 為例)：</span><span class="sxs-lookup"><span data-stu-id="5257c-167">If your library share path is remote (or local but not shared with MSCVMMLibrary), configure the share as follows (using \\libserver2.contoso.com\share\ as an example):</span></span>
      * <span data-ttu-id="5257c-168">開啟登錄編輯程式，並瀏覽至 **HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**。</span><span class="sxs-lookup"><span data-stu-id="5257c-168">Open the Registry Editor and navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\Azure Site Recovery\Registration**.</span></span>
      * <span data-ttu-id="5257c-169">編輯值 **ScriptLibraryPath**，並將其設為 \\libserver2.contoso.com\share\.</span><span class="sxs-lookup"><span data-stu-id="5257c-169">Edit the value **ScriptLibraryPath** and place it as \\libserver2.contoso.com\share\.</span></span> <span data-ttu-id="5257c-170">指定完整的 FQDN。</span><span class="sxs-lookup"><span data-stu-id="5257c-170">Specify the full FQDN.</span></span> <span data-ttu-id="5257c-171">提供共用位置的權限。</span><span class="sxs-lookup"><span data-stu-id="5257c-171">Provide permissions to the share location.</span></span>
      * <span data-ttu-id="5257c-172">請確定您使用與 VMM 服務帳戶具有相同權限的使用者帳戶來測試指令碼。</span><span class="sxs-lookup"><span data-stu-id="5257c-172">Ensure that you test the script with a user account that has the same permissions as the VMM service account.</span></span> <span data-ttu-id="5257c-173">這會檢查該獨立測試指令碼以它們在復原計畫中的相同方式執行。</span><span class="sxs-lookup"><span data-stu-id="5257c-173">This checks that standalone tested scripts run in the same way as they will in recovery plans.</span></span> <span data-ttu-id="5257c-174">在 VMM 伺服器上，設定要略過的執行原則，如下所示：</span><span class="sxs-lookup"><span data-stu-id="5257c-174">On the VMM server, set the execution policy to bypass as follows:</span></span>
        * <span data-ttu-id="5257c-175">以較高的權限開啟 64 位元 Windows PowerShell 主控台。</span><span class="sxs-lookup"><span data-stu-id="5257c-175">Open the 64-bit Windows PowerShell console using elevated privileges.</span></span>
        * <span data-ttu-id="5257c-176">類型： **Set-executionpolicy bypass**。</span><span class="sxs-lookup"><span data-stu-id="5257c-176">Type: **Set-executionpolicy bypass**.</span></span> <span data-ttu-id="5257c-177">[深入了解](https://technet.microsoft.com/library/ee176961.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5257c-177">[Learn more](https://technet.microsoft.com/library/ee176961.aspx).</span></span>

## <a name="add-a-script-or-manual-action-to-a-plan"></a><span data-ttu-id="5257c-178">將指令碼或手動動作新增至方案</span><span class="sxs-lookup"><span data-stu-id="5257c-178">Add a script or manual action to a plan</span></span>

<span data-ttu-id="5257c-179">將 VM 或複寫群組新增至預設的復原計畫群組並建立計畫後，可將指令碼新增至復原計畫群組。</span><span class="sxs-lookup"><span data-stu-id="5257c-179">You can add a script to the default recovery plan group after you've added VMs or replication groups to it, and created the plan.</span></span>

1. <span data-ttu-id="5257c-180">開啟復原計畫。</span><span class="sxs-lookup"><span data-stu-id="5257c-180">Open the recovery plan.</span></span>
2. <span data-ttu-id="5257c-181">按一下 [步驟] 清單中的任意項目，然後按一下 [指令碼] 或 [手動動作]。</span><span class="sxs-lookup"><span data-stu-id="5257c-181">Click an item in the **Step** list, and then click **Script** or **Manual Action**.</span></span>
3. <span data-ttu-id="5257c-182">指定要在已選取項目之前或之後新增指令碼或動作。</span><span class="sxs-lookup"><span data-stu-id="5257c-182">Specify whether to want to add the script or action before or after the selected item.</span></span> <span data-ttu-id="5257c-183">使用 [上移] 和 [下移] 按鈕，上下移動指令碼的位置。</span><span class="sxs-lookup"><span data-stu-id="5257c-183">Use the **Move Up** and **Move Down**  buttons, to move the position of the script up or down.</span></span>
4. <span data-ttu-id="5257c-184">如果您新增 VMM 指令碼，請選取 [容錯移轉至 VMM 指令碼]。</span><span class="sxs-lookup"><span data-stu-id="5257c-184">If you add a VMM script, select **Failover to VMM script**.</span></span> <span data-ttu-id="5257c-185">在**指令碼路徑**中，輸入要共用的相對路徑。</span><span class="sxs-lookup"><span data-stu-id="5257c-185">In **Script Path**, type the relative path to the share.</span></span> <span data-ttu-id="5257c-186">在下列 VMM 範例中，您指定路徑︰**\RPScripts\RPScript.PS1**。</span><span class="sxs-lookup"><span data-stu-id="5257c-186">In the VMM example below, you specify the path: **\RPScripts\RPScript.PS1**.</span></span>
5. <span data-ttu-id="5257c-187">如果新增 Azure 自動化 Runbook，請指定 Runbook 所在的 [Azure 自動化帳戶]，並選取適當的 [Azure Runbook 指令碼]。</span><span class="sxs-lookup"><span data-stu-id="5257c-187">If you add an Azure automation run book, specify the Azure Automation account in which the runbook is located, and select the appropriate Azure runbook script.</span></span>
6. <span data-ttu-id="5257c-188">執行復原方案容錯移轉，以確保指令碼可以正常運作。</span><span class="sxs-lookup"><span data-stu-id="5257c-188">Do a failover of the recovery plan, to make sure the script works as expected.</span></span>


### <a name="add-a-vmm-script"></a><span data-ttu-id="5257c-189">新增 VMM 指令碼</span><span class="sxs-lookup"><span data-stu-id="5257c-189">Add a VMM script</span></span>

<span data-ttu-id="5257c-190">如果您有 VMM 來源站台，可在 VMM 伺服器上建立指令碼，並將其納入您的復原方案。</span><span class="sxs-lookup"><span data-stu-id="5257c-190">If you have a VMM source site, you can create a script on the VMM server, and include it in your recovery plan.</span></span>

1. <span data-ttu-id="5257c-191">在程式庫共用中建立新的資料夾。</span><span class="sxs-lookup"><span data-stu-id="5257c-191">Create a new folder in the library share.</span></span> <span data-ttu-id="5257c-192">例如，\<VMMServerName>\MSSCVMMLibrary\RPScripts。</span><span class="sxs-lookup"><span data-stu-id="5257c-192">For example, \<VMMServerName>\MSSCVMMLibrary\RPScripts.</span></span> <span data-ttu-id="5257c-193">將資料夾放在來源和目標 VMM 伺服器上。</span><span class="sxs-lookup"><span data-stu-id="5257c-193">Place it on the source and target VMM servers.</span></span>
2. <span data-ttu-id="5257c-194">建立指令碼 (例如 RPScript)，並檢查其能否如預期運作。</span><span class="sxs-lookup"><span data-stu-id="5257c-194">Create the script (for example RPScript), and check it works as expected.</span></span>
3. <span data-ttu-id="5257c-195">將指令碼放在來源和目標 VMM 伺服器的 \<VMMServerName>\MSSCVMMLibrary 位置。</span><span class="sxs-lookup"><span data-stu-id="5257c-195">Place the script in the location \<VMMServerName>\MSSCVMMLibrary, on the source and target VMM servers.</span></span>


## <a name="next-steps"></a><span data-ttu-id="5257c-196">後續步驟</span><span class="sxs-lookup"><span data-stu-id="5257c-196">Next steps</span></span>

<span data-ttu-id="5257c-197">[深入了解](site-recovery-failover.md) 如何執行容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="5257c-197">[Learn more](site-recovery-failover.md) about running failovers.</span></span>
