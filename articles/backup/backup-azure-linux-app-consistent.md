---
title: "Azure 備份：Linux VM 的應用程式一致備份 | Microsoft Docs"
description: "使用指令碼 tooguarantee 應用程式一致備份 tooAzure，針對您的 Linux 虛擬機器。 hello 指令碼適用於只能在資源管理員部署; tooLinux Vmhello 指令碼不會套用 tooWindows Vm 或服務管理員部署。 這篇文章會引導您設定 hello 指令碼，包括疑難排解 hello 步驟。"
services: backup
documentationcenter: dev-center-name
author: anuragmehrotra
manager: shivamg
keywords: "應用程式一致備份; 應用程式一致 Azure VM 備份; Linux VM 備份; Azure 備份"
ms.assetid: bbb99cf2-d8c7-4b3d-8b29-eadc0fed3bef
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 4/12/2017
ms.author: anuragm;markgal
ms.openlocfilehash: d557dd973364d79bb4d8ce954f648de835dd345f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="application-consistent-backup-of-azure-linux-vms-preview"></a><span data-ttu-id="ce56f-106">Azure Linux VM 的應用程式一致備份 (預覽)</span><span class="sxs-lookup"><span data-stu-id="ce56f-106">Application-consistent backup of Azure Linux VMs (preview)</span></span>

<span data-ttu-id="ce56f-107">這篇文章討論需 hello Linux 前指令碼後置指令碼架構及方式，它可以是使用的 tootake Azure Linux Vm 的應用程式一致的備份。</span><span class="sxs-lookup"><span data-stu-id="ce56f-107">This article talks about hello Linux pre-script and post-script framework, and how it can be used tootake application-consistent backups of Azure Linux VMs.</span></span>

> [!Note]
> <span data-ttu-id="ce56f-108">hello 前指令碼和後置指令碼架構的 Azure Resource Manager 部署的 Linux 虛擬機器才支援。</span><span class="sxs-lookup"><span data-stu-id="ce56f-108">hello pre-script and post-script framework is supported only for Azure Resource Manager-deployed Linux virtual machines.</span></span> <span data-ttu-id="ce56f-109">Service Manager 所部署虛擬機器或 Windows 虛擬機器不支援應用程式一致指令碼。</span><span class="sxs-lookup"><span data-stu-id="ce56f-109">Scripts for application consistency are not supported for Service Manager-deployed virtual machines or Windows virtual machines.</span></span>
>

## <a name="how-hello-framework-works"></a><span data-ttu-id="ce56f-110">Hello 架構的運作方式</span><span class="sxs-lookup"><span data-stu-id="ce56f-110">How hello framework works</span></span>

<span data-ttu-id="ce56f-111">hello framework 會提供選項 toorun 自訂前指令碼，並後置指令碼時，您要將 VM 的快照集。</span><span class="sxs-lookup"><span data-stu-id="ce56f-111">hello framework provides an option toorun custom pre-scripts and post-scripts while you're taking VM snapshots.</span></span> <span data-ttu-id="ce56f-112">前指令碼執行之前採取 hello VM 快照，且您拍攝 hello VM 快照後立即執行後置指令碼。</span><span class="sxs-lookup"><span data-stu-id="ce56f-112">Pre-scripts are run just before you take hello VM snapshot, and post-scripts are run immediately after you take hello VM snapshot.</span></span> <span data-ttu-id="ce56f-113">這讓您 hello 彈性 toocontrol 應用程式和環境時，您要將 VM 的快照集。</span><span class="sxs-lookup"><span data-stu-id="ce56f-113">This gives you hello flexibility toocontrol your application and environment while you're taking VM snapshots.</span></span>

<span data-ttu-id="ce56f-114">在此案例中，很重要的 tooensure 應用程式一致的 VM 備份。</span><span class="sxs-lookup"><span data-stu-id="ce56f-114">In this scenario, it's important tooensure application-consistent VM backup.</span></span> <span data-ttu-id="ce56f-115">hello 前指令碼可以叫用應用程式原生 Api tooquiesce hello IOs，並清除記憶體中內容 toohello 磁碟。</span><span class="sxs-lookup"><span data-stu-id="ce56f-115">hello pre-script can invoke application-native APIs tooquiesce hello IOs and flush in-memory content toohello disk.</span></span> <span data-ttu-id="ce56f-116">這可確保該 hello 快照集是應用程式一致 (亦即該 hello 應用程式出現時 VM 會開機的 hello 還原後)。</span><span class="sxs-lookup"><span data-stu-id="ce56f-116">This ensures that hello snapshot is application-consistent (that is, that hello application comes up when hello VM is booted post-restore).</span></span> <span data-ttu-id="ce56f-117">後置指令碼可以使用的 toothaw hello IOs。</span><span class="sxs-lookup"><span data-stu-id="ce56f-117">Post-script can be used toothaw hello IOs.</span></span> <span data-ttu-id="ce56f-118">它會使用應用程式原生應用程式開發介面，以便 hello 應用程式可繼續正常作業 post VM 快照集。</span><span class="sxs-lookup"><span data-stu-id="ce56f-118">It does this by using application-native APIs so that hello application can resume normal operations post-VM snapshot.</span></span>

## <a name="steps-tooconfigure-pre-script-and-post-script"></a><span data-ttu-id="ce56f-119">步驟 tooconfigure 前指令碼和後置指令碼</span><span class="sxs-lookup"><span data-stu-id="ce56f-119">Steps tooconfigure pre-script and post-script</span></span>

1. <span data-ttu-id="ce56f-120">Hello 根使用者 toohello 要 tooback 的 Linux VM，因為在登入。</span><span class="sxs-lookup"><span data-stu-id="ce56f-120">Sign in as hello root user toohello Linux VM that you want tooback up.</span></span>

2. <span data-ttu-id="ce56f-121">下載**VMSnapshotScriptPluginConfig.json**從[GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig)，然後將它複製 toohello **/etc/hosts azure**所有您要設定 tooback hello Vm 上的資料夾。</span><span class="sxs-lookup"><span data-stu-id="ce56f-121">Download **VMSnapshotScriptPluginConfig.json** from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), and then copy it toohello **/etc/azure** folder on all hello VMs that you're going tooback up.</span></span> <span data-ttu-id="ce56f-122">建立 hello **/etc/hosts azure**目錄，如果已經存在。</span><span class="sxs-lookup"><span data-stu-id="ce56f-122">Create hello **/etc/azure** directory if it doesn't exist already.</span></span>

3. <span data-ttu-id="ce56f-123">將複製 hello 前指令碼和應用程式上所有 hello Vm 的想向上 tooback 後指令碼。</span><span class="sxs-lookup"><span data-stu-id="ce56f-123">Copy hello pre-script and post-script for your application on all hello VMs that you plan tooback up.</span></span> <span data-ttu-id="ce56f-124">您可以複製 hello VM 上的 hello 指令碼 tooany 位置。</span><span class="sxs-lookup"><span data-stu-id="ce56f-124">You can copy hello scripts tooany location on hello VM.</span></span> <span data-ttu-id="ce56f-125">可確定 tooupdate hello 完整的路徑 hello 指令碼檔案中 hello **VMSnapshotScriptPluginConfig.json**檔案。</span><span class="sxs-lookup"><span data-stu-id="ce56f-125">Be sure tooupdate hello full path of hello script files in hello **VMSnapshotScriptPluginConfig.json** file.</span></span>

4. <span data-ttu-id="ce56f-126">請確定下列這些檔案的權限的 hello:</span><span class="sxs-lookup"><span data-stu-id="ce56f-126">Ensure hello following permissions for these files:</span></span>

   - <span data-ttu-id="ce56f-127">**VMSnapshotScriptPluginConfig.json**：權限 “600”。</span><span class="sxs-lookup"><span data-stu-id="ce56f-127">**VMSnapshotScriptPluginConfig.json**: Permission “600.”</span></span> <span data-ttu-id="ce56f-128">例如，只有 「 根 」 使用者應該具有 「 讀取 」 和 「 寫入 」 權限 toothis 檔案，而使用者不應該有 「 執行 」 權限。</span><span class="sxs-lookup"><span data-stu-id="ce56f-128">For example, only “root” user should have “read” and “write” permissions toothis file, and no user should have “execute” permissions.</span></span>

   - <span data-ttu-id="ce56f-129">**前置指令碼檔案**：權限 “700”。</span><span class="sxs-lookup"><span data-stu-id="ce56f-129">**Pre-script file**: Permission “700.”</span></span>  <span data-ttu-id="ce56f-130">例如，只有 「 根 」 使用者應該具有 「 讀取 」、 「 寫入 」 和 「 執行 」 權限 toothis 檔案。</span><span class="sxs-lookup"><span data-stu-id="ce56f-130">For example, only “root” user should have “read”, “write”, and “execute” permissions toothis file.</span></span>
  
   - <span data-ttu-id="ce56f-131">**後置指令碼**：權限 “700”。</span><span class="sxs-lookup"><span data-stu-id="ce56f-131">**Post-script** Permission “700.”</span></span> <span data-ttu-id="ce56f-132">例如，只有 「 根 」 使用者應該具有 「 讀取 」、 「 寫入 」 和 「 執行 」 權限 toothis 檔案。</span><span class="sxs-lookup"><span data-stu-id="ce56f-132">For example, only “root” user should have “read”, “write”, and “execute” permissions toothis file.</span></span>

   > [!Important]
   > <span data-ttu-id="ce56f-133">hello framework 會提供強大的使用者。</span><span class="sxs-lookup"><span data-stu-id="ce56f-133">hello framework gives users a lot of power.</span></span> <span data-ttu-id="ce56f-134">請務必安全的做法是，只有 「 根 」 使用者具有存取 toocritical JSON 和指令碼檔案。</span><span class="sxs-lookup"><span data-stu-id="ce56f-134">It’s important that it's secure and that only “root” user has access toocritical JSON and script files.</span></span>
   > <span data-ttu-id="ce56f-135">如果不符合 hello 先前的需求，hello 指令碼無法執行。</span><span class="sxs-lookup"><span data-stu-id="ce56f-135">If hello previous requirements aren't met, hello script doesn't run.</span></span> <span data-ttu-id="ce56f-136">這能產生檔案系統/損毀一致的備份。</span><span class="sxs-lookup"><span data-stu-id="ce56f-136">This results in file system/crash consistent backup.</span></span>
   >

5. <span data-ttu-id="ce56f-137">如以下所述設定 VMSnapshotScriptPluginConfig.json：</span><span class="sxs-lookup"><span data-stu-id="ce56f-137">Configure **VMSnapshotScriptPluginConfig.json** as described here:</span></span>
    - <span data-ttu-id="ce56f-138">**pluginName**：將此欄位保留原狀，否則您的指令碼可能無法如預期般運作。</span><span class="sxs-lookup"><span data-stu-id="ce56f-138">**pluginName**: Leave this field as is or your scripts might not work as expected.</span></span>

    - <span data-ttu-id="ce56f-139">**preScriptLocation**: hello 的持續 toobe 備份的 VM 提供 hello hello 前指令碼的完整路徑。</span><span class="sxs-lookup"><span data-stu-id="ce56f-139">**preScriptLocation**: Provide hello full path of hello pre-script on hello VM that's going toobe backed up.</span></span>

    - <span data-ttu-id="ce56f-140">**postScriptLocation**: hello 的持續 toobe 備份的 VM 提供 hello hello 後指令碼的完整路徑。</span><span class="sxs-lookup"><span data-stu-id="ce56f-140">**postScriptLocation**: Provide hello full path of hello post-script on hello VM that's going toobe backed up.</span></span>

    - <span data-ttu-id="ce56f-141">**preScriptParams**： 提供 hello 需要 toobe 傳遞 toohello 前指令碼的選擇性參數。</span><span class="sxs-lookup"><span data-stu-id="ce56f-141">**preScriptParams**: Provide hello optional parameters that need toobe passed toohello pre-script.</span></span> <span data-ttu-id="ce56f-142">所有參數都應該以引號括住，如果有多個參數，則應以逗號分隔。</span><span class="sxs-lookup"><span data-stu-id="ce56f-142">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="ce56f-143">**postScriptParams**： 提供 hello 需要 toobe 傳遞 toohello 後指令碼的選擇性參數。</span><span class="sxs-lookup"><span data-stu-id="ce56f-143">**postScriptParams**: Provide hello optional parameters that need toobe passed toohello post-script.</span></span> <span data-ttu-id="ce56f-144">所有參數都應該以引號括住，如果有多個參數，則應以逗號分隔。</span><span class="sxs-lookup"><span data-stu-id="ce56f-144">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="ce56f-145">**preScriptNoOfRetries**： 設定應該重試 hello 前指令碼，如果沒有任何錯誤，結束之前的 hello 次數。</span><span class="sxs-lookup"><span data-stu-id="ce56f-145">**preScriptNoOfRetries**: Set hello number of times hello pre-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="ce56f-146">零表示只嘗試一次，若系統故障則不重試。</span><span class="sxs-lookup"><span data-stu-id="ce56f-146">Zero means only one try and no retry if there is a failure.</span></span>

    - <span data-ttu-id="ce56f-147">**postScriptNoOfRetries**： 設定應該重試 hello 後指令碼，如果沒有任何錯誤，結束之前的 hello 次數。</span><span class="sxs-lookup"><span data-stu-id="ce56f-147">**postScriptNoOfRetries**:  Set hello number of times hello post-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="ce56f-148">零表示只嘗試一次，若系統故障則不重試。</span><span class="sxs-lookup"><span data-stu-id="ce56f-148">Zero means only one try and no retry if there is a failure.</span></span>
    
    - <span data-ttu-id="ce56f-149">**timeoutInSeconds**： 指定個別 hello 前指令碼和 hello 後指令碼的逾時。</span><span class="sxs-lookup"><span data-stu-id="ce56f-149">**timeoutInSeconds**: Specify individual timeouts for hello pre-script and hello post-script.</span></span>

    - <span data-ttu-id="ce56f-150">**continueBackupOnFailure**： 將此值設定為太**true**如果您想 Azure Backup toofall 後 tooa 檔案系統一致/損毀一致備份前指令碼或後置指令碼會失敗。</span><span class="sxs-lookup"><span data-stu-id="ce56f-150">**continueBackupOnFailure**: Set this value too**true** if you want Azure Backup toofall back tooa file system consistent/crash consistent backup if pre-script or post-script fails.</span></span> <span data-ttu-id="ce56f-151">將此設定太**false**失敗 hello 備份時 （除了當您有單一磁碟 VM 該便在 2008 年回 toocrash 一致備份，不論此設定為何） 的指令碼失敗。</span><span class="sxs-lookup"><span data-stu-id="ce56f-151">Setting this too**false** fails hello backup in case of script failure (except when you have single-disk VM that falls back toocrash-consistent backup regardless of this setting).</span></span>

    - <span data-ttu-id="ce56f-152">**fsFreezeEnabled**： 指定當您在製作 hello VM 快照 tooensure 檔案系統一致性 Linux fsfreeze 是否應該呼叫。</span><span class="sxs-lookup"><span data-stu-id="ce56f-152">**fsFreezeEnabled**: Specify whether Linux fsfreeze should be called while you're taking hello VM snapshot tooensure file system consistency.</span></span> <span data-ttu-id="ce56f-153">我們建議您保持此設定設定值太**true**除非您的應用程式具有停用 fsfreeze 的相依性。</span><span class="sxs-lookup"><span data-stu-id="ce56f-153">We recommend keeping this setting set too**true** unless your application has a dependency on disabling fsfreeze.</span></span>

6. <span data-ttu-id="ce56f-154">現在已設定 hello 指令碼架構。</span><span class="sxs-lookup"><span data-stu-id="ce56f-154">hello script framework is now configured.</span></span> <span data-ttu-id="ce56f-155">如果已經設定 hello VM 備份，hello 下一次備份就會叫用 hello 指令碼，並觸發應用程式一致備份。</span><span class="sxs-lookup"><span data-stu-id="ce56f-155">If hello VM backup is already configured, hello next backup invokes hello scripts and triggers application-consistent backup.</span></span> <span data-ttu-id="ce56f-156">如果未設定 hello VM 備份，設定使用[備份 Azure 虛擬機器 tooRecovery 服務保存庫。](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span><span class="sxs-lookup"><span data-stu-id="ce56f-156">If hello VM backup is not configured, configure it by using [Back up Azure virtual machines tooRecovery Services vaults.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ce56f-157">疑難排解</span><span class="sxs-lookup"><span data-stu-id="ce56f-157">Troubleshooting</span></span>

<span data-ttu-id="ce56f-158">請確定您加入適當的記錄，同時在您撰寫前指令碼和後置指令碼，並檢閱您的指令碼記錄檔 toofix 指令碼中的任何問題。</span><span class="sxs-lookup"><span data-stu-id="ce56f-158">Make sure you add appropriate logging while writing your pre-script and post-script, and review your script logs toofix any script issues.</span></span> <span data-ttu-id="ce56f-159">如果您仍有執行指令碼的問題，請參閱 toohello 下列資料表的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="ce56f-159">If you still have problems running scripts, refer toohello following table for more information.</span></span>

| <span data-ttu-id="ce56f-160">錯誤</span><span class="sxs-lookup"><span data-stu-id="ce56f-160">Error</span></span> | <span data-ttu-id="ce56f-161">錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="ce56f-161">Error message</span></span> | <span data-ttu-id="ce56f-162">建議的動作</span><span class="sxs-lookup"><span data-stu-id="ce56f-162">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="ce56f-163">Pre-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="ce56f-163">Pre-ScriptExecutionFailed</span></span> |<span data-ttu-id="ce56f-164">hello 前指令碼會傳回錯誤，因此可能不是應用程式一致備份。</span><span class="sxs-lookup"><span data-stu-id="ce56f-164">hello pre-script returned an error, so backup might not be application-consistent.</span></span> | <span data-ttu-id="ce56f-165">查看您的指令碼 toofix hello 問題 hello 失敗記錄檔。</span><span class="sxs-lookup"><span data-stu-id="ce56f-165">Look at hello failure logs for your script toofix hello issue.</span></span>|  
|   <span data-ttu-id="ce56f-166">Post-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="ce56f-166">Post-ScriptExecutionFailed</span></span> |    <span data-ttu-id="ce56f-167">hello 後指令碼傳回的錯誤，可能會影響應用程式狀態。</span><span class="sxs-lookup"><span data-stu-id="ce56f-167">hello post-script returned an error that might impact application state.</span></span> |  <span data-ttu-id="ce56f-168">查看您的指令碼 toofix hello 問題 hello 失敗記錄檔，並檢查 hello 應用程式狀態。</span><span class="sxs-lookup"><span data-stu-id="ce56f-168">Look at hello failure logs for your script toofix hello issue and check hello application state.</span></span> |
| <span data-ttu-id="ce56f-169">Pre-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="ce56f-169">Pre-ScriptNotFound</span></span> |  <span data-ttu-id="ce56f-170">hello 前指令碼找不到位置 hello hello 中指定**VMSnapshotScriptPluginConfig.json**組態檔。</span><span class="sxs-lookup"><span data-stu-id="ce56f-170">hello pre-script was not found at hello location that's specified in hello **VMSnapshotScriptPluginConfig.json** config file.</span></span> | <span data-ttu-id="ce56f-171">請確定也前指令碼會出現在 hello hello 設定檔 tooensure 應用程式一致備份中所指定的路徑。</span><span class="sxs-lookup"><span data-stu-id="ce56f-171">Make sure that pre-script is present at hello path that's specified in hello config file tooensure application-consistent backup.</span></span>|
| <span data-ttu-id="ce56f-172">Post-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="ce56f-172">Post-ScriptNotFound</span></span> | <span data-ttu-id="ce56f-173">hello 後指令碼找不到位置 hello hello 中指定**VMSnapshotScriptPluginConfig.json**組態檔。</span><span class="sxs-lookup"><span data-stu-id="ce56f-173">hello post-script wasn't found at hello location that's specified in hello **VMSnapshotScriptPluginConfig.json** config file.</span></span> | <span data-ttu-id="ce56f-174">請確定也後指令碼會出現在 hello hello 設定檔 tooensure 應用程式一致備份中所指定的路徑。</span><span class="sxs-lookup"><span data-stu-id="ce56f-174">Make sure that post-script is present at hello path that's specified in hello config file tooensure application-consistent backup.</span></span>|
| <span data-ttu-id="ce56f-175">IncorrectPluginhostFile</span><span class="sxs-lookup"><span data-stu-id="ce56f-175">IncorrectPluginhostFile</span></span> | <span data-ttu-id="ce56f-176">hello **Pluginhost**隨附 hello VmSnapshotLinux 副檔名，檔案已損毀，因此前指令碼和後置指令碼無法執行，而且 hello 備份不會應用程式一致。</span><span class="sxs-lookup"><span data-stu-id="ce56f-176">hello **Pluginhost** file, which comes with hello VmSnapshotLinux extension, is corrupted, so pre-script and post-script cannot run and hello backup won't be application-consistent.</span></span>   | <span data-ttu-id="ce56f-177">解除安裝 hello **VmSnapshotLinux**延伸模組和它將會自動重新安裝與 hello 下一個備份 toofix hello 問題。</span><span class="sxs-lookup"><span data-stu-id="ce56f-177">Uninstall hello **VmSnapshotLinux** extension, and it will automatically be reinstalled with hello next backup toofix hello problem.</span></span> |
| <span data-ttu-id="ce56f-178">IncorrectJSONConfigFile</span><span class="sxs-lookup"><span data-stu-id="ce56f-178">IncorrectJSONConfigFile</span></span> | <span data-ttu-id="ce56f-179">hello **VMSnapshotScriptPluginConfig.json**檔案是不正確，因此前指令碼後置指令碼無法執行，且 hello 備份將不會在應用程式一致。</span><span class="sxs-lookup"><span data-stu-id="ce56f-179">hello **VMSnapshotScriptPluginConfig.json** file is incorrect, so pre-script and post-script cannot run and hello backup won't be application-consistent.</span></span> | <span data-ttu-id="ce56f-180">下載從 hello 複製[GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig)和設定一次。</span><span class="sxs-lookup"><span data-stu-id="ce56f-180">Download hello copy from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) and configure it again.</span></span> |
| <span data-ttu-id="ce56f-181">InsufficientPermissionforPre-Script</span><span class="sxs-lookup"><span data-stu-id="ce56f-181">InsufficientPermissionforPre-Script</span></span> | <span data-ttu-id="ce56f-182">執行指令碼，「 根 」 使用者應該在 hello hello 檔案擁有者，而且 hello 檔案包含"700 」 權限 (亦即，僅 「 擁有者 」 應該有 「 讀取 」、 「 寫入 」 和 「 執行 」 權限)。</span><span class="sxs-lookup"><span data-stu-id="ce56f-182">For running scripts, "root" user should be hello owner of hello file and hello file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="ce56f-183">請確定 「 根 」 使用者為 hello hello 指令碼檔案的 「 擁有者 」，而且，只有 「 擁有者 」 有 「 讀取 」、 「 寫入 」 和 「 執行 」 權限。</span><span class="sxs-lookup"><span data-stu-id="ce56f-183">Make sure “root” user is hello “owner” of hello script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="ce56f-184">InsufficientPermissionforPost-Script</span><span class="sxs-lookup"><span data-stu-id="ce56f-184">InsufficientPermissionforPost-Script</span></span> | <span data-ttu-id="ce56f-185">執行指令碼，根使用者應該在 hello hello 檔案擁有者，而且 hello 檔案包含"700 」 權限 (亦即，僅 「 擁有者 」 應該有 「 讀取 」、 「 寫入 」 和 「 執行 」 權限)。</span><span class="sxs-lookup"><span data-stu-id="ce56f-185">For running scripts, root user should be hello owner of hello file and hello file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="ce56f-186">請確定 「 根 」 使用者為 hello hello 指令碼檔案的 「 擁有者 」，而且，只有 「 擁有者 」 有 「 讀取 」、 「 寫入 」 和 「 執行 」 權限。</span><span class="sxs-lookup"><span data-stu-id="ce56f-186">Make sure “root” user is hello “owner” of hello script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="ce56f-187">Pre-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="ce56f-187">Pre-ScriptTimeout</span></span> | <span data-ttu-id="ce56f-188">hello hello 應用程式一致備份前指令碼執行逾時。</span><span class="sxs-lookup"><span data-stu-id="ce56f-188">hello execution of hello application-consistent backup pre-script timed-out.</span></span> | <span data-ttu-id="ce56f-189">檢查 hello 指令碼，增加逾時 hello hello **VMSnapshotScriptPluginConfig.json**檔案位於**/etc/hosts azure**。</span><span class="sxs-lookup"><span data-stu-id="ce56f-189">Check hello script and increase hello timeout in hello **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |
| <span data-ttu-id="ce56f-190">Post-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="ce56f-190">Post-ScriptTimeout</span></span> | <span data-ttu-id="ce56f-191">hello 執行 hello 應用程式一致備份後指令碼逾時。</span><span class="sxs-lookup"><span data-stu-id="ce56f-191">hello execution of hello application-consistent backup post-script timed out.</span></span> | <span data-ttu-id="ce56f-192">檢查 hello 指令碼，增加逾時 hello hello **VMSnapshotScriptPluginConfig.json**檔案位於**/etc/hosts azure**。</span><span class="sxs-lookup"><span data-stu-id="ce56f-192">Check hello script and increase hello timeout in hello **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="ce56f-193">後續步驟</span><span class="sxs-lookup"><span data-stu-id="ce56f-193">Next steps</span></span>
[<span data-ttu-id="ce56f-194">設定 VM 備份 tooa 復原服務保存庫</span><span class="sxs-lookup"><span data-stu-id="ce56f-194">Configure VM backup tooa Recovery Services vault</span></span>](https://docs.microsoft.com/azure/backup/backup-azure-arm-vms)
