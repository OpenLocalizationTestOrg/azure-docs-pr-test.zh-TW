---
title: "Azure 備份：Linux VM 的應用程式一致備份 | Microsoft Docs"
description: "使用指令碼針對 Linux 虛擬機器保證應用程式會一致地備份到 Azure。 指令碼僅適用於資源管理員部署中的 Linux VM，不適用於 Windows VM 或服務管理員部署。 這篇文章會帶領您完成設定指令碼的步驟，包括疑難排解。"
services: backup
documentationcenter: dev-center-name
author: anuragmehrotra
manager: shivamg
keywords: "應用程式一致備份; 應用程式一致 Azure VM 備份; Linux VM 備份; Azure 備份"
ms.assetid: bbb99cf2-d8c7-4b3d-8b29-eadc0fed3bef
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 4/12/2017
ms.author: anuragm;markgal
ms.openlocfilehash: 378c65bec8fd1f880ed459e76f5e4b5d85e49d2a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="application-consistent-backup-of-azure-linux-vms-preview"></a><span data-ttu-id="365d0-106">Azure Linux VM 的應用程式一致備份 (預覽)</span><span class="sxs-lookup"><span data-stu-id="365d0-106">Application-consistent backup of Azure Linux VMs (preview)</span></span>

<span data-ttu-id="365d0-107">本文討論 Linux 前置指令碼和後置指令碼架構，以及如何使用它來取得 Azure Linux VM 的應用程式一致備份。</span><span class="sxs-lookup"><span data-stu-id="365d0-107">This article talks about the Linux pre-script and post-script framework, and how it can be used to take application-consistent backups of Azure Linux VMs.</span></span>

> [!Note]
> <span data-ttu-id="365d0-108">僅 Azure Resource Manager 部署的 Linux 虛擬機器支援前置指令碼和後置指令碼架構。</span><span class="sxs-lookup"><span data-stu-id="365d0-108">The pre-script and post-script framework is supported only for Azure Resource Manager-deployed Linux virtual machines.</span></span> <span data-ttu-id="365d0-109">Service Manager 所部署虛擬機器或 Windows 虛擬機器不支援應用程式一致指令碼。</span><span class="sxs-lookup"><span data-stu-id="365d0-109">Scripts for application consistency are not supported for Service Manager-deployed virtual machines or Windows virtual machines.</span></span>
>

## <a name="how-the-framework-works"></a><span data-ttu-id="365d0-110">架構的運作方式</span><span class="sxs-lookup"><span data-stu-id="365d0-110">How the framework works</span></span>

<span data-ttu-id="365d0-111">此架構讓您在擷取 VM 快照集時可選擇執行自訂前置指令碼和後置指令碼。</span><span class="sxs-lookup"><span data-stu-id="365d0-111">The framework provides an option to run custom pre-scripts and post-scripts while you're taking VM snapshots.</span></span> <span data-ttu-id="365d0-112">前置指令碼就在您擷取 VM 快照之前執行，而後置指令碼會緊接在您擷取 VM 快照後執行。</span><span class="sxs-lookup"><span data-stu-id="365d0-112">Pre-scripts are run just before you take the VM snapshot, and post-scripts are run immediately after you take the VM snapshot.</span></span> <span data-ttu-id="365d0-113">這讓您在擷取 VM 快照時能夠彈性地控制您的應用程式與環境。</span><span class="sxs-lookup"><span data-stu-id="365d0-113">This gives you the flexibility to control your application and environment while you're taking VM snapshots.</span></span>

<span data-ttu-id="365d0-114">在此案例中，務必確保應用程式一致的 VM 備份。</span><span class="sxs-lookup"><span data-stu-id="365d0-114">In this scenario, it's important to ensure application-consistent VM backup.</span></span> <span data-ttu-id="365d0-115">前置指令碼會叫用應用程式原生 API 以停止 IO，並將記憶體中的內容排清到磁碟。</span><span class="sxs-lookup"><span data-stu-id="365d0-115">The pre-script can invoke application-native APIs to quiesce the IOs and flush in-memory content to the disk.</span></span> <span data-ttu-id="365d0-116">這可確保快照為應用程式一致 (亦即，應用程式會在 VM 於還原後開機時出現)。</span><span class="sxs-lookup"><span data-stu-id="365d0-116">This ensures that the snapshot is application-consistent (that is, that the application comes up when the VM is booted post-restore).</span></span> <span data-ttu-id="365d0-117">後置指令碼可以用來解除凍結 IO。</span><span class="sxs-lookup"><span data-stu-id="365d0-117">Post-script can be used to thaw the IOs.</span></span> <span data-ttu-id="365d0-118">做法是使用應用程式原生 API，讓應用程式可在 VM 快照集後繼續正常作業。</span><span class="sxs-lookup"><span data-stu-id="365d0-118">It does this by using application-native APIs so that the application can resume normal operations post-VM snapshot.</span></span>

## <a name="steps-to-configure-pre-script-and-post-script"></a><span data-ttu-id="365d0-119">設定前指令碼和後置指令碼的步驟</span><span class="sxs-lookup"><span data-stu-id="365d0-119">Steps to configure pre-script and post-script</span></span>

1. <span data-ttu-id="365d0-120">以根使用者身分登入您想要備份的 Linux VM。</span><span class="sxs-lookup"><span data-stu-id="365d0-120">Sign in as the root user to the Linux VM that you want to back up.</span></span>

2. <span data-ttu-id="365d0-121">從 [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) 下載 VMSnapshotScriptPluginConfig.json，然後複製到所有您要備份的 VM 上的 /etc/azure 資料夾。</span><span class="sxs-lookup"><span data-stu-id="365d0-121">Download **VMSnapshotScriptPluginConfig.json** from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), and then copy it to the **/etc/azure** folder on all the VMs that you're going to back up.</span></span> <span data-ttu-id="365d0-122">建立 **/etc/azure** 目錄 (如果不存在的話)。</span><span class="sxs-lookup"><span data-stu-id="365d0-122">Create the **/etc/azure** directory if it doesn't exist already.</span></span>

3. <span data-ttu-id="365d0-123">在所有您打算備份的 VM 上複製應用程式複製的前置指令碼與後置指令碼。</span><span class="sxs-lookup"><span data-stu-id="365d0-123">Copy the pre-script and post-script for your application on all the VMs that you plan to back up.</span></span> <span data-ttu-id="365d0-124">您可以將指令碼複製到 VM 上的任何位置。</span><span class="sxs-lookup"><span data-stu-id="365d0-124">You can copy the scripts to any location on the VM.</span></span> <span data-ttu-id="365d0-125">請務必更新 **VMSnapshotScriptPluginConfig.json** 檔案中指令碼檔案的完整路徑。</span><span class="sxs-lookup"><span data-stu-id="365d0-125">Be sure to update the full path of the script files in the **VMSnapshotScriptPluginConfig.json** file.</span></span>

4. <span data-ttu-id="365d0-126">請確定這些檔案的下列權限︰</span><span class="sxs-lookup"><span data-stu-id="365d0-126">Ensure the following permissions for these files:</span></span>

   - <span data-ttu-id="365d0-127">**VMSnapshotScriptPluginConfig.json**：權限 “600”。</span><span class="sxs-lookup"><span data-stu-id="365d0-127">**VMSnapshotScriptPluginConfig.json**: Permission “600.”</span></span> <span data-ttu-id="365d0-128">例如，只有「根」使用者能夠擁有此檔案的「讀取」與「寫入」權限，且沒有任何使用者應擁有「執行」權限。</span><span class="sxs-lookup"><span data-stu-id="365d0-128">For example, only “root” user should have “read” and “write” permissions to this file, and no user should have “execute” permissions.</span></span>

   - <span data-ttu-id="365d0-129">**前置指令碼檔案**：權限 “700”。</span><span class="sxs-lookup"><span data-stu-id="365d0-129">**Pre-script file**: Permission “700.”</span></span>  <span data-ttu-id="365d0-130">例如，只有「根」使用者擁有此檔案的「讀取」、「寫入」及「執行」權限。</span><span class="sxs-lookup"><span data-stu-id="365d0-130">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>
  
   - <span data-ttu-id="365d0-131">**後置指令碼**：權限 “700”。</span><span class="sxs-lookup"><span data-stu-id="365d0-131">**Post-script** Permission “700.”</span></span> <span data-ttu-id="365d0-132">例如，只有「根」使用者擁有此檔案的「讀取」、「寫入」及「執行」權限。</span><span class="sxs-lookup"><span data-stu-id="365d0-132">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>

   > [!Important]
   > <span data-ttu-id="365d0-133">此架構讓使用者擁有強大的能力。</span><span class="sxs-lookup"><span data-stu-id="365d0-133">The framework gives users a lot of power.</span></span> <span data-ttu-id="365d0-134">此架構必須是安全的，且只有「根」使用者能夠存取重要的 JSON 與指令碼檔案。</span><span class="sxs-lookup"><span data-stu-id="365d0-134">It’s important that it's secure and that only “root” user has access to critical JSON and script files.</span></span>
   > <span data-ttu-id="365d0-135">如果不符合前述需求，指令碼便不會執行。</span><span class="sxs-lookup"><span data-stu-id="365d0-135">If the previous requirements aren't met, the script doesn't run.</span></span> <span data-ttu-id="365d0-136">這能產生檔案系統/損毀一致的備份。</span><span class="sxs-lookup"><span data-stu-id="365d0-136">This results in file system/crash consistent backup.</span></span>
   >

5. <span data-ttu-id="365d0-137">如以下所述設定 VMSnapshotScriptPluginConfig.json：</span><span class="sxs-lookup"><span data-stu-id="365d0-137">Configure **VMSnapshotScriptPluginConfig.json** as described here:</span></span>
    - <span data-ttu-id="365d0-138">**pluginName**：將此欄位保留原狀，否則您的指令碼可能無法如預期般運作。</span><span class="sxs-lookup"><span data-stu-id="365d0-138">**pluginName**: Leave this field as is or your scripts might not work as expected.</span></span>

    - <span data-ttu-id="365d0-139">**preScriptLocation** ：在要備份的 VM 上提供前置指令碼完整路徑。</span><span class="sxs-lookup"><span data-stu-id="365d0-139">**preScriptLocation**: Provide the full path of the pre-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="365d0-140">**postScriptLocation**：在要備份的 VM 上提供後置指令碼完整路徑。</span><span class="sxs-lookup"><span data-stu-id="365d0-140">**postScriptLocation**: Provide the full path of the post-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="365d0-141">**preScriptParams**：提供必須傳遞給前置指令碼的選擇性參數。</span><span class="sxs-lookup"><span data-stu-id="365d0-141">**preScriptParams**: Provide the optional parameters that need to be passed to the pre-script.</span></span> <span data-ttu-id="365d0-142">所有參數都應該以引號括住，如果有多個參數，則應以逗號分隔。</span><span class="sxs-lookup"><span data-stu-id="365d0-142">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="365d0-143">**postScriptParams**：提供必須傳遞給前置指令碼的選擇性參數。</span><span class="sxs-lookup"><span data-stu-id="365d0-143">**postScriptParams**: Provide the optional parameters that need to be passed to the post-script.</span></span> <span data-ttu-id="365d0-144">所有參數都應該以引號括住，如果有多個參數，則應以逗號分隔。</span><span class="sxs-lookup"><span data-stu-id="365d0-144">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="365d0-145">**preScriptNoOfRetries**：設定在終止前如果發生任何錯誤，應重試前置指令碼的次數。</span><span class="sxs-lookup"><span data-stu-id="365d0-145">**preScriptNoOfRetries**: Set the number of times the pre-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="365d0-146">零表示只嘗試一次，若系統故障則不重試。</span><span class="sxs-lookup"><span data-stu-id="365d0-146">Zero means only one try and no retry if there is a failure.</span></span>

    - <span data-ttu-id="365d0-147">**postScriptNoOfRetries**：設定在終止前如果發生任何錯誤，應重試後置指令碼的次數。</span><span class="sxs-lookup"><span data-stu-id="365d0-147">**postScriptNoOfRetries**:  Set the number of times the post-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="365d0-148">零表示只嘗試一次，若系統故障則不重試。</span><span class="sxs-lookup"><span data-stu-id="365d0-148">Zero means only one try and no retry if there is a failure.</span></span>
    
    - <span data-ttu-id="365d0-149">**timeoutInSeconds**：指定前置指令碼與後置指令碼的個別逾時值。</span><span class="sxs-lookup"><span data-stu-id="365d0-149">**timeoutInSeconds**: Specify individual timeouts for the pre-script and the post-script.</span></span>

    - <span data-ttu-id="365d0-150">**continueBackupOnFailure**：如果您在前置或後置指令碼失敗時想要 Azure 備份回復使用檔案系統一致/損毀一致備份，請將這個值設定為 true。</span><span class="sxs-lookup"><span data-stu-id="365d0-150">**continueBackupOnFailure**: Set this value to **true** if you want Azure Backup to fall back to a file system consistent/crash consistent backup if pre-script or post-script fails.</span></span> <span data-ttu-id="365d0-151">若將此設定為 false，則當指令碼失敗會使備份失敗 (但當您有無論此設定為何都會回復為損毁一致備份的單磁碟 VM 時除外)。</span><span class="sxs-lookup"><span data-stu-id="365d0-151">Setting this to **false** fails the backup in case of script failure (except when you have single-disk VM that falls back to crash-consistent backup regardless of this setting).</span></span>

    - <span data-ttu-id="365d0-152">**fsFreezeEnabled**：指定當您在擷取 VM 快照時是否應該呼叫 Linux fsfreeze，以確保檔案系統一致性。</span><span class="sxs-lookup"><span data-stu-id="365d0-152">**fsFreezeEnabled**: Specify whether Linux fsfreeze should be called while you're taking the VM snapshot to ensure file system consistency.</span></span> <span data-ttu-id="365d0-153">我們建議您將這個設定保持為 true，除非您的應用程式在已停用的 fsfreeze 上具有相依性。</span><span class="sxs-lookup"><span data-stu-id="365d0-153">We recommend keeping this setting set to **true** unless your application has a dependency on disabling fsfreeze.</span></span>

6. <span data-ttu-id="365d0-154">此指令碼架構現在已設定完成。</span><span class="sxs-lookup"><span data-stu-id="365d0-154">The script framework is now configured.</span></span> <span data-ttu-id="365d0-155">如果已經設定 VM 備份，則下次備份會叫用指令碼，並觸發應用程式一致備份。</span><span class="sxs-lookup"><span data-stu-id="365d0-155">If the VM backup is already configured, the next backup invokes the scripts and triggers application-consistent backup.</span></span> <span data-ttu-id="365d0-156">如果未設定 VM 備份，則使用[將 Azure 虛擬機器備份到復原服務保存庫](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)來設定。</span><span class="sxs-lookup"><span data-stu-id="365d0-156">If the VM backup is not configured, configure it by using [Back up Azure virtual machines to Recovery Services vaults.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="365d0-157">疑難排解</span><span class="sxs-lookup"><span data-stu-id="365d0-157">Troubleshooting</span></span>

<span data-ttu-id="365d0-158">確定您在寫入前置指令碼和後置指令碼時新增適當的記錄，並檢閱您的指令碼記錄以修正任何指令碼的問題。</span><span class="sxs-lookup"><span data-stu-id="365d0-158">Make sure you add appropriate logging while writing your pre-script and post-script, and review your script logs to fix any script issues.</span></span> <span data-ttu-id="365d0-159">如果仍有執行指令碼的問題，請參閱下列表格以取得詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="365d0-159">If you still have problems running scripts, refer to the following table for more information.</span></span>

| <span data-ttu-id="365d0-160">錯誤</span><span class="sxs-lookup"><span data-stu-id="365d0-160">Error</span></span> | <span data-ttu-id="365d0-161">錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="365d0-161">Error message</span></span> | <span data-ttu-id="365d0-162">建議的動作</span><span class="sxs-lookup"><span data-stu-id="365d0-162">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="365d0-163">Pre-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="365d0-163">Pre-ScriptExecutionFailed</span></span> |<span data-ttu-id="365d0-164">前置指令碼傳回錯誤，所以備份可能無法應用程式一致。</span><span class="sxs-lookup"><span data-stu-id="365d0-164">The pre-script returned an error, so backup might not be application-consistent.</span></span>   | <span data-ttu-id="365d0-165">查看您指令碼的失敗記錄來修正此問題。</span><span class="sxs-lookup"><span data-stu-id="365d0-165">Look at the failure logs for your script to fix the issue.</span></span>|  
|   <span data-ttu-id="365d0-166">Post-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="365d0-166">Post-ScriptExecutionFailed</span></span> |    <span data-ttu-id="365d0-167">後置指令碼傳回可能會影響應用程式狀態的錯誤。</span><span class="sxs-lookup"><span data-stu-id="365d0-167">The post-script returned an error that might impact application state.</span></span> |    <span data-ttu-id="365d0-168">查看您指令碼的失敗記錄並檢查應用程式狀態來修正此問題。</span><span class="sxs-lookup"><span data-stu-id="365d0-168">Look at the failure logs for your script to fix the issue and check the application state.</span></span> |
| <span data-ttu-id="365d0-169">Pre-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="365d0-169">Pre-ScriptNotFound</span></span> |  <span data-ttu-id="365d0-170">在 VMSnapshotScriptPluginConfig.json 組態檔中指定的位置找不到前置指令碼。</span><span class="sxs-lookup"><span data-stu-id="365d0-170">The pre-script was not found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="365d0-171">確定前置指令碼會出現在組態檔中所指定的路徑，以確保應用程式一致的備份。</span><span class="sxs-lookup"><span data-stu-id="365d0-171">Make sure that pre-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="365d0-172">Post-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="365d0-172">Post-ScriptNotFound</span></span> | <span data-ttu-id="365d0-173">在 VMSnapshotScriptPluginConfig.json 組態檔中指定的位置找不到後置指令碼。</span><span class="sxs-lookup"><span data-stu-id="365d0-173">The post-script wasn't found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="365d0-174">確定後置指令碼會出現在組態檔中所指定的路徑，以確保應用程式一致的備份。</span><span class="sxs-lookup"><span data-stu-id="365d0-174">Make sure that post-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="365d0-175">IncorrectPluginhostFile</span><span class="sxs-lookup"><span data-stu-id="365d0-175">IncorrectPluginhostFile</span></span> | <span data-ttu-id="365d0-176">VmSnapshotLinux 延伸模組隨附的 Pluginhost 檔案已損毀，因此前置指令碼和後置指令碼無法執行，且備份為應用程式不一致。</span><span class="sxs-lookup"><span data-stu-id="365d0-176">The **Pluginhost** file, which comes with the VmSnapshotLinux extension, is corrupted, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="365d0-177">解除安裝 VmSnapshotLinux 延伸模組，它會自動與下一次備份重新安裝以解決問題。</span><span class="sxs-lookup"><span data-stu-id="365d0-177">Uninstall the **VmSnapshotLinux** extension, and it will automatically be reinstalled with the next backup to fix the problem.</span></span> |
| <span data-ttu-id="365d0-178">IncorrectJSONConfigFile</span><span class="sxs-lookup"><span data-stu-id="365d0-178">IncorrectJSONConfigFile</span></span> | <span data-ttu-id="365d0-179">VMSnapshotScriptPluginConfig.json 檔不正確，所以前置指令碼和後置指令碼無法執行，且備份為應用程式不一致。</span><span class="sxs-lookup"><span data-stu-id="365d0-179">The **VMSnapshotScriptPluginConfig.json** file is incorrect, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="365d0-180">從 [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) 下載副本並再設定一次。</span><span class="sxs-lookup"><span data-stu-id="365d0-180">Download the copy from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) and configure it again.</span></span> |
| <span data-ttu-id="365d0-181">InsufficientPermissionforPre-Script</span><span class="sxs-lookup"><span data-stu-id="365d0-181">InsufficientPermissionforPre-Script</span></span> | <span data-ttu-id="365d0-182">針對執行指令碼，「根」使用者應該是檔案擁有者，且檔案應具有 “700” 權限 (也就是應只有擁有者具有「讀取」、「寫入」和「執行」權限)。</span><span class="sxs-lookup"><span data-stu-id="365d0-182">For running scripts, "root" user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="365d0-183">請確定「根」使用者是指令碼檔案的「擁有者」，且只有擁有者具有「讀取」、「寫入」和「執行」權限。</span><span class="sxs-lookup"><span data-stu-id="365d0-183">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="365d0-184">InsufficientPermissionforPost-Script</span><span class="sxs-lookup"><span data-stu-id="365d0-184">InsufficientPermissionforPost-Script</span></span> | <span data-ttu-id="365d0-185">針對執行指令碼，根使用者應該是檔案擁有者，且檔案應具有 “700” 權限 (也就是應只有擁有者具有「讀取」、「寫入」和「執行」權限)。</span><span class="sxs-lookup"><span data-stu-id="365d0-185">For running scripts, root user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="365d0-186">請確定「根」使用者是指令碼檔案的「擁有者」，且只有擁有者具有「讀取」、「寫入」和「執行」權限。</span><span class="sxs-lookup"><span data-stu-id="365d0-186">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="365d0-187">Pre-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="365d0-187">Pre-ScriptTimeout</span></span> | <span data-ttu-id="365d0-188">執行應用程式一致備份前置指令碼逾時。</span><span class="sxs-lookup"><span data-stu-id="365d0-188">The execution of the application-consistent backup pre-script timed-out.</span></span> | <span data-ttu-id="365d0-189">請檢查指令碼，並增加位於 /etc/azure 的 VMSnapshotScriptPluginConfig.json 檔案中的逾時。</span><span class="sxs-lookup"><span data-stu-id="365d0-189">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |
| <span data-ttu-id="365d0-190">Post-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="365d0-190">Post-ScriptTimeout</span></span> | <span data-ttu-id="365d0-191">執行應用程式一致備份後置指令碼逾時。</span><span class="sxs-lookup"><span data-stu-id="365d0-191">The execution of the application-consistent backup post-script timed out.</span></span> | <span data-ttu-id="365d0-192">請檢查指令碼，並增加位於 /etc/azure 的 VMSnapshotScriptPluginConfig.json 檔案中的逾時。</span><span class="sxs-lookup"><span data-stu-id="365d0-192">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="365d0-193">後續步驟</span><span class="sxs-lookup"><span data-stu-id="365d0-193">Next steps</span></span>
[<span data-ttu-id="365d0-194">設定 VM 備份至復原服務保存庫</span><span class="sxs-lookup"><span data-stu-id="365d0-194">Configure VM backup to a Recovery Services vault</span></span>](https://docs.microsoft.com/azure/backup/backup-azure-arm-vms)
