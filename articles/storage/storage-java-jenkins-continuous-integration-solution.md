---
title: "aaaUsing Azure 儲存體與 Jenkins 連續整合解決方案 |Microsoft 文件"
description: "本教學課程顯示如何 toouse hello Azure blob 服務的儲存機制組建成品的 Jenkins 連續整合解決方案所建立。"
services: storage
documentationcenter: java
author: seguler
manager: jahogg
editor: tysonn
ms.assetid: f4e5ca75-f6cb-4f74-981b-2aa06bb8de45
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 02/28/2017
ms.author: seguler
ms.openlocfilehash: a8a8c6f3b03cf61d7ad98f0b38e9421dd0b47bfd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="using-azure-storage-with-a-jenkins-continuous-integration-solution"></a><span data-ttu-id="ca1e2-103">使用 Azure 儲存體搭配 Jenkins 連續整合解決方案</span><span class="sxs-lookup"><span data-stu-id="ca1e2-103">Using Azure Storage with a Jenkins Continuous Integration solution</span></span>
## <a name="overview"></a><span data-ttu-id="ca1e2-104">概觀</span><span class="sxs-lookup"><span data-stu-id="ca1e2-104">Overview</span></span>
<span data-ttu-id="ca1e2-105">hello 下列資訊會顯示 toouse Blob 儲存體組建成品的 Jenkins 連續整合 (CI) 解決方案，所建立的儲存機制，或做為來源 toobe 可下載檔案的建置流程中的使用方式。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-105">hello following information shows how toouse Blob storage as a repository of build artifacts created by a Jenkins Continuous Integration (CI) solution, or as a source of downloadable files toobe used in a build process.</span></span> <span data-ttu-id="ca1e2-106">Hello 案例，您會發現這很有用的其中一個是當您的撰寫語言敏捷式開發環境 （使用 Java 或其他語言） 中，組建正在根據持續的整合，而您需要您的組建成品儲存機制，讓您可以例如，與其他組織的成員，您的客戶分享，或保存。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-106">One of hello scenarios where you would find this useful is when you're coding in an agile development environment (using Java or other languages), builds are running based on continuous integration, and you need a repository for your build artifacts, so that you could, for example, share them with other organization members, your customers, or maintain an archive.</span></span> <span data-ttu-id="ca1e2-107">另一種情況時，您的組建工作本身需要其他檔案，比方說，相依性 toodownload 做為部分 hello 建置輸入。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-107">Another scenario is when your build job itself requires other files, for example, dependencies toodownload as part of hello build input.</span></span>

<span data-ttu-id="ca1e2-108">在此教學課程中您將使用 Azure 儲存體 Plugin hello Jenkins CI Microsoft 所提供的。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-108">In this tutorial you will be using hello Azure Storage Plugin for Jenkins CI made available by Microsoft.</span></span>

## <a name="overview-of-jenkins"></a><span data-ttu-id="ca1e2-109">Jenkins 概觀</span><span class="sxs-lookup"><span data-stu-id="ca1e2-109">Overview of Jenkins</span></span>
<span data-ttu-id="ca1e2-110">Jenkins 軟體專案藉由允許開發人員 tooeasily 整合其程式碼變更和已啟用持續整合組建產生自動和常見問題，藉此增加 hello hello 開發人員的產能。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-110">Jenkins enables continuous integration of a software project by allowing developers tooeasily integrate their code changes and have builds produced automatically and frequently, thereby increasing hello productivity of hello developers.</span></span> <span data-ttu-id="ca1e2-111">組建具有版本設定，而且組建的成品可以上傳的 toovarious 儲存機制。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-111">Builds are versioned, and build artifacts can be uploaded toovarious repositories.</span></span> <span data-ttu-id="ca1e2-112">本主題會顯示 toouse Azure blob 儲存體為 hello 組建成品的 hello 儲存機制的方式。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-112">This topic will show how toouse Azure blob storage as hello repository of hello build artifacts.</span></span> <span data-ttu-id="ca1e2-113">它也會顯示如何 toodownload 相依性，從 Azure blob 儲存體。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-113">It will also show how toodownload dependencies from Azure blob storage.</span></span>

<span data-ttu-id="ca1e2-114">如需 Jenkins 的詳細資訊，請參閱 [認識 Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins)(英文)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-114">More information about Jenkins can be found at [Meet Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins).</span></span>

## <a name="benefits-of-using-hello-blob-service"></a><span data-ttu-id="ca1e2-115">使用 hello Blob 服務的優點</span><span class="sxs-lookup"><span data-stu-id="ca1e2-115">Benefits of using hello Blob service</span></span>
<span data-ttu-id="ca1e2-116">使用 hello Blob 服務 toohost 的優點包括您靈活的開發組建成品：</span><span class="sxs-lookup"><span data-stu-id="ca1e2-116">Benefits of using hello Blob service toohost your agile development build artifacts include:</span></span>

* <span data-ttu-id="ca1e2-117">組建成品和/或可下載相依性項目的高可用性。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-117">High availability of your build artifacts and/or downloadable dependencies.</span></span>
* <span data-ttu-id="ca1e2-118">在您的 Jenkins CI 解決方案上傳組建成品時提供良好的效能。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-118">Performance when your Jenkins CI solution uploads your build artifacts.</span></span>
* <span data-ttu-id="ca1e2-119">在您的客戶和合作夥伴下載組建成品時提供良好的效能。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-119">Performance when your customers and partners download your build artifacts.</span></span>
* <span data-ttu-id="ca1e2-120">提供使用者存取原則控制，可以選擇匿名存取、期限型共用存取簽章存取、私用存取等。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-120">Control over user access policies, with a choice between anonymous access, expiration-based shared access signature access, private access, etc.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ca1e2-121">必要條件</span><span class="sxs-lookup"><span data-stu-id="ca1e2-121">Prerequisites</span></span>
<span data-ttu-id="ca1e2-122">您將需要 hello toouse hello 下列 Blob 服務與 Jenkins CI 解決方案：</span><span class="sxs-lookup"><span data-stu-id="ca1e2-122">You will need hello following toouse hello Blob service with your Jenkins CI solution:</span></span>

* <span data-ttu-id="ca1e2-123">一套 Jenkins 連續整合解決方案。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-123">A Jenkins Continuous Integration solution.</span></span>
  
    <span data-ttu-id="ca1e2-124">如果您目前沒有 Jenkins CI 解決方案，您可以執行使用下列技巧 hello 的 Jenkins CI 方案：</span><span class="sxs-lookup"><span data-stu-id="ca1e2-124">If you currently don't have a Jenkins CI solution, you can run a Jenkins CI solution using hello following technique:</span></span>
  
  1. <span data-ttu-id="ca1e2-125">在已啟用 Java 的機器上，從 <http://jenkins-ci.org> 下載 jenkins.war。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-125">On a Java-enabled machine, download jenkins.war from <http://jenkins-ci.org>.</span></span>
  2. <span data-ttu-id="ca1e2-126">在命令提示字元，其中包含 jenkins.war 開啟的 toohello 資料夾，請執行：</span><span class="sxs-lookup"><span data-stu-id="ca1e2-126">At a command prompt that is opened toohello folder that contains jenkins.war, run:</span></span>
     
      `java -jar jenkins.war`

  3. <span data-ttu-id="ca1e2-127">在瀏覽器中開啟 `http://localhost:8080/`。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-127">In your browser, open `http://localhost:8080/`.</span></span> <span data-ttu-id="ca1e2-128">這會開啟 hello Jenkins 儀表板，您將使用 tooinstall 並設定 hello Azure 儲存體外掛程式。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-128">This will open hello Jenkins dashboard, which you will use tooinstall and configure hello Azure Storage plugin.</span></span>
     
      <span data-ttu-id="ca1e2-129">一般的 Jenkins CI 解決方案會設定為服務 toorun，而在 hello 命令列執行 hello Jenkins war 將足以說明此教學課程。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-129">While a typical Jenkins CI solution would be set up toorun as a service, running hello Jenkins war at hello command line will be sufficient for this tutorial.</span></span>
* <span data-ttu-id="ca1e2-130">一個 Azure 帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-130">An Azure account.</span></span> <span data-ttu-id="ca1e2-131">您可以在 <http://www.azure.com> 註冊 Azure 帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-131">You can sign up for an Azure account at <http://www.azure.com>.</span></span>
* <span data-ttu-id="ca1e2-132">一個 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-132">An Azure storage account.</span></span> <span data-ttu-id="ca1e2-133">如果您還沒有儲存體帳戶，您可以建立一個使用 hello 步驟[建立儲存體帳戶](storage-create-storage-account.md#create-a-storage-account)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-133">If you don't already have a storage account, you can create one using hello steps at [Create a Storage Account](storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="ca1e2-134">Hello Jenkins CI 解決方案的認識，建議使用但非必要、 hello 做為儲存機制使用 Jenkins CI hello Blob 服務時所需步驟的基本範例 tooshow hello 下列內容將會使用組建成品。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-134">Familiarity with hello Jenkins CI solution is recommended but not required, as hello following content will use a basic example tooshow you hello steps needed when using hello Blob service as a repository for Jenkins CI build artifacts.</span></span>

## <a name="how-toouse-hello-blob-service-with-jenkins-ci"></a><span data-ttu-id="ca1e2-135">Toouse hello 與 Jenkins CI 的 Blob 服務的方式</span><span class="sxs-lookup"><span data-stu-id="ca1e2-135">How toouse hello Blob service with Jenkins CI</span></span>
<span data-ttu-id="ca1e2-136">jenkins toouse hello Blob 服務，您將需要 tooinstall hello Azure 儲存體外掛程式，設定 hello 外掛程式 toouse 儲存體帳戶，再建立建置後動作上傳組建成品 tooyour 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-136">toouse hello Blob service with Jenkins, you'll need tooinstall hello Azure Storage plugin, configure hello plugin toouse your storage account, and then create a post-build action that uploads your build artifacts tooyour storage account.</span></span> <span data-ttu-id="ca1e2-137">在 hello 下列各節說明這些步驟。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-137">These steps are described in hello following sections.</span></span>

## <a name="how-tooinstall-hello-azure-storage-plugin"></a><span data-ttu-id="ca1e2-138">如何 tooinstall hello Azure 儲存體外掛程式</span><span class="sxs-lookup"><span data-stu-id="ca1e2-138">How tooinstall hello Azure Storage plugin</span></span>
1. <span data-ttu-id="ca1e2-139">在 hello Jenkins 儀表板內，按一下**管理 Jenkins**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-139">Within hello Jenkins dashboard, click **Manage Jenkins**.</span></span>
2. <span data-ttu-id="ca1e2-140">在 hello**管理 Jenkins**頁面上，按一下**管理外掛程式**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-140">In hello **Manage Jenkins** page, click **Manage Plugins**.</span></span>
3. <span data-ttu-id="ca1e2-141">按一下 hello**可用** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-141">Click hello **Available** tab.</span></span>
4. <span data-ttu-id="ca1e2-142">在 hello**成品 Uploaders**區段中，按一下**Microsoft Azure 儲存體外掛程式**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-142">In hello **Artifact Uploaders** section, check **Microsoft Azure Storage plugin**.</span></span>
5. <span data-ttu-id="ca1e2-143">按一下 [直接安裝而不重新啟動] 或 [立即下載並於重新啟動後安裝]。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-143">Click either **Install without restart** or **Download now and install after restart**.</span></span>
6. <span data-ttu-id="ca1e2-144">重新啟動 Jenkins。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-144">Restart Jenkins.</span></span>

## <a name="how-tooconfigure-hello-azure-storage-plugin-toouse-your-storage-account"></a><span data-ttu-id="ca1e2-145">如何 tooconfigure 會 hello Azure 儲存體外掛程式 toouse 儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="ca1e2-145">How tooconfigure hello Azure Storage plugin toouse your storage account</span></span>
1. <span data-ttu-id="ca1e2-146">在 hello Jenkins 儀表板內，按一下**管理 Jenkins**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-146">Within hello Jenkins dashboard, click **Manage Jenkins**.</span></span>
2. <span data-ttu-id="ca1e2-147">在 hello**管理 Jenkins**頁面上，按一下**設定系統**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-147">In hello **Manage Jenkins** page, click **Configure System**.</span></span>
3. <span data-ttu-id="ca1e2-148">在 hello **Microsoft Azure 儲存體帳戶設定**> 一節：</span><span class="sxs-lookup"><span data-stu-id="ca1e2-148">In hello **Microsoft Azure Storage Account Configuration** section:</span></span>
   1. <span data-ttu-id="ca1e2-149">輸入您儲存體帳戶名稱，您可以從 hello 取得[Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-149">Enter your storage account name, which you can obtain from hello [Azure Portal](https://portal.azure.com).</span></span>
   2. <span data-ttu-id="ca1e2-150">輸入儲存體帳戶金鑰，也可行，或是從 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-150">Enter your storage account key, also obtainable from hello [Azure Portal](https://portal.azure.com).</span></span>
   3. <span data-ttu-id="ca1e2-151">使用預設值 hello **Blob 服務端點 URL**如果您使用 hello 公用 Azure 雲端。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-151">Use hello default value for **Blob Service Endpoint URL** if you are using hello public Azure cloud.</span></span> <span data-ttu-id="ca1e2-152">如果您使用不同的 Azure 雲端，做為 hello 端點中指定的 hello [Azure 入口網站](https://portal.azure.com)儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-152">If you are using a different Azure cloud, use hello endpoint as specified in hello [Azure Portal](https://portal.azure.com) for your storage account.</span></span> 
   4. <span data-ttu-id="ca1e2-153">按一下**驗證儲存體認證**toovalidate 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-153">Click **Validate storage credentials** toovalidate your storage account.</span></span> 
   5. <span data-ttu-id="ca1e2-154">[選用]如果您想要製作可用 tooyour Jenkins CI 的其他儲存體帳戶，請按一下**新增更多的儲存體帳戶**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-154">[Optional] If you have additional storage accounts that you want made available tooyour Jenkins CI, click **Add more Storage Accounts**.</span></span>
   6. <span data-ttu-id="ca1e2-155">按一下**儲存**toosave 您的設定。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-155">Click **Save** toosave your settings.</span></span>

## <a name="how-toocreate-a-post-build-action-that-uploads-your-build-artifacts-tooyour-storage-account"></a><span data-ttu-id="ca1e2-156">如何 toocreate 上傳組建成品 tooyour 儲存體帳戶的建置後動作</span><span class="sxs-lookup"><span data-stu-id="ca1e2-156">How toocreate a post-build action that uploads your build artifacts tooyour storage account</span></span>
<span data-ttu-id="ca1e2-157">基於指令，首先我們需要 toocreate 的作業，將會建立數個檔案，然後再加入 hello 建置後動作 tooupload hello 檔案 tooyour 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-157">For instruction purposes, first we'll need toocreate a job that will create several files, and then add in hello post-build action tooupload hello files tooyour storage account.</span></span>

1. <span data-ttu-id="ca1e2-158">在 hello Jenkins 儀表板內，按一下**新項目**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-158">Within hello Jenkins dashboard, click **New Item**.</span></span>
2. <span data-ttu-id="ca1e2-159">名稱 hello 工作**存放至 MyJob**，按一下**建置釋放樣式軟體專案**，然後按一下**確定**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-159">Name hello job **MyJob**, click **Build a free-style software project**, and then click **OK**.</span></span>
3. <span data-ttu-id="ca1e2-160">在 hello**建置**> 一節的 hello 工作設定，請按一下**加入建置步驟**選擇**執行 Windows 的批次命令**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-160">In hello **Build** section of hello job configuration, click **Add build step** and choose **Execute Windows batch command**.</span></span>
4. <span data-ttu-id="ca1e2-161">在**命令**，使用下列命令的 hello:</span><span class="sxs-lookup"><span data-stu-id="ca1e2-161">In **Command**, use hello following commands:</span></span>

    ```   
    md text
    cd text
    echo Hello Azure Storage from Jenkins > hello.txt
    date /t > date.txt
    time /t >> date.txt
    ```

5. <span data-ttu-id="ca1e2-162">在 hello**建置後動作**> 一節的 hello 工作設定，請按一下**加入建置後動作**，然後選擇 **上傳成品 tooAzure Blob 儲存體**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-162">In hello **Post-build Actions** section of hello job configuration, click **Add post-build action** and choose **Upload artifacts tooAzure Blob storage**.</span></span>
6. <span data-ttu-id="ca1e2-163">如**儲存體帳戶名稱**，選取 hello 儲存體帳戶 toouse。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-163">For **Storage account name**, select hello storage account toouse.</span></span>
7. <span data-ttu-id="ca1e2-164">如**容器名稱**，指定 hello 容器名稱。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-164">For **Container name**, specify hello container name.</span></span> <span data-ttu-id="ca1e2-165">（hello 容器將會建立如果它不存在時 hello 組建成品都會上傳）。您可以使用環境變數，因此此範例中輸入**${JOB_NAME}**為 hello 容器名稱。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-165">(hello container will be created if it does not already exist when hello build artifacts are uploaded.) You can use environment variables, so for this example enter **${JOB_NAME}** as hello container name.</span></span>
   
    <span data-ttu-id="ca1e2-166">**秘訣**</span><span class="sxs-lookup"><span data-stu-id="ca1e2-166">**Tip**</span></span>
   
    <span data-ttu-id="ca1e2-167">以下 hello**命令**您用來輸入的指令碼的區段**執行 Windows 的批次命令**toohello Jenkins 所辨識的環境變數是一個連結。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-167">Below hello **Command** section where you entered a script for **Execute Windows batch command** is a link toohello environment variables recognized by Jenkins.</span></span> <span data-ttu-id="ca1e2-168">按一下該連結 toolearn hello 環境變數名稱和描述。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-168">Click that link toolearn hello environment variable names and descriptions.</span></span> <span data-ttu-id="ca1e2-169">請注意該環境變數包含特殊字元，例如 hello **BUILD_URL**環境變數，不允許做為容器名稱或一般的虛擬路徑。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-169">Note that environment variables that contain special characters, such as hello **BUILD_URL** environment variable, are not allowed as a container name or common virtual path.</span></span>
8. <span data-ttu-id="ca1e2-170">在此範例中，請按一下 [Make new container public by default]。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-170">Click **Make new container public by default** for this example.</span></span> <span data-ttu-id="ca1e2-171">（如果您想 toouse 私人容器，您必須 toocreate 共用的存取簽章 tooallow 存取。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-171">(If you want toouse a private container, you'll need toocreate a shared access signature tooallow access.</span></span> <span data-ttu-id="ca1e2-172">這已超出本主題的 hello 範圍。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-172">That is beyond hello scope of this topic.</span></span> <span data-ttu-id="ca1e2-173">若要深入了解共用存取簽章，請參閱[使用共用存取簽章 (SAS)](storage-dotnet-shared-access-signature-part-1.md)。)</span><span class="sxs-lookup"><span data-stu-id="ca1e2-173">You can learn more about shared access signatures at [Using Shared Access Signatures (SAS)](storage-dotnet-shared-access-signature-part-1.md).)</span></span>
9. <span data-ttu-id="ca1e2-174">[選用]按一下**全新容器將上傳之前**如果您想 hello 容器 toobe 清理內容之前上傳組建成品 （它如果核取不想讓 hello 容器 tooclean hello 內容）。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-174">[Optional] Click **Clean container before uploading** if you want hello container toobe cleared of contents before build artifacts are uploaded (leave it unchecked if you do not want tooclean hello contents of hello container).</span></span>
10. <span data-ttu-id="ca1e2-175">如**的成品清單 tooupload**，輸入**文字 /*.txt**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-175">For **List of Artifacts tooupload**, enter **text/*.txt**.</span></span>
11. <span data-ttu-id="ca1e2-176">在 [上傳構件的常用虛擬路徑] 中，基於本教學課程的目的，輸入 **${BUILD\_ID}/${BUILD\_NUMBER}**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-176">For **Common virtual path for uploaded artifacts**, for purposes of this tutorial, enter **${BUILD\_ID}/${BUILD\_NUMBER}**.</span></span>
12. <span data-ttu-id="ca1e2-177">按一下**儲存**toosave 您的設定。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-177">Click **Save** toosave your settings.</span></span>
13. <span data-ttu-id="ca1e2-178">在 hello Jenkins 儀表板中，按一下 **現在建置**toorun**存放至 MyJob**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-178">In hello Jenkins dashboard, click **Build Now** toorun **MyJob**.</span></span> <span data-ttu-id="ca1e2-179">檢查 hello 主控台輸出的狀態。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-179">Examine hello console output for status.</span></span> <span data-ttu-id="ca1e2-180">Hello 建置後動作啟動 tooupload 組建成品時，將 hello 主控台輸出中包含 Azure 儲存體的狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-180">Status messages for Azure storage will be included in hello console output when hello post-build action starts tooupload build artifacts.</span></span>
14. <span data-ttu-id="ca1e2-181">成功完成時的 hello 作業，您可以藉由開啟 hello 公用 blob 檢查 hello 組建成品。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-181">Upon successful completion of hello job, you can examine hello build artifacts by opening hello public blob.</span></span>
    1. <span data-ttu-id="ca1e2-182">登入 toohello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-182">Login toohello [Azure Portal](https://portal.azure.com).</span></span>
    2. <span data-ttu-id="ca1e2-183">按一下 [儲存體] 。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-183">Click **Storage**.</span></span>
    3. <span data-ttu-id="ca1e2-184">按一下您要用於 Jenkins hello 儲存體帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-184">Click hello storage account name that you used for Jenkins.</span></span>
    4. <span data-ttu-id="ca1e2-185">按一下 [容器] 。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-185">Click **Containers**.</span></span>
    5. <span data-ttu-id="ca1e2-186">按一下名為 hello 容器**存放至 myjob**，hello hello 作業的名稱建立 hello Jenkins 作業時，您指派小寫的版本。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-186">Click hello container named **myjob**, which is hello lowercase version of hello job name that you assigned when you created hello Jenkins job.</span></span> <span data-ttu-id="ca1e2-187">在 Azure 儲存體中，容器名稱和 Blob 名稱皆為小寫 (並且區分大小寫)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-187">Container names and blob names are lowercase (and case-sensitive) in Azure storage.</span></span> <span data-ttu-id="ca1e2-188">Hello hello 容器名稱的 blob 清單內**存放至 myjob**您應該會看到**hello.txt**和**date.txt**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-188">Within hello list of blobs for hello container named **myjob** you should see **hello.txt** and **date.txt**.</span></span> <span data-ttu-id="ca1e2-189">複製 hello URL 的任一項目，並在您的瀏覽器中開啟它。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-189">Copy hello URL for either of these items and open it in your browser.</span></span> <span data-ttu-id="ca1e2-190">組建成品，您會看到已上傳的 hello 文字檔案。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-190">You will see hello text file that was uploaded as a build artifact.</span></span>

<span data-ttu-id="ca1e2-191">每個作業，您可以建立只有一個上傳成品 tooAzure blob 儲存體的建置後動作。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-191">Only one post-build action that uploads artifacts tooAzure blob storage can be created per job.</span></span> <span data-ttu-id="ca1e2-192">請注意 hello 單一建置後動作 tooupload 成品 tooAzure blob 儲存體，可以指定不同的檔案 （包括萬用字元） 及路徑 toofiles 內**的成品清單 tooupload**使用分號作為分隔符號。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-192">Note that hello single post-build action tooupload artifacts tooAzure blob storage can specify different files (including wildcards) and paths toofiles within **List of Artifacts tooupload** using a semi-colon as a separator.</span></span> <span data-ttu-id="ca1e2-193">例如，如果您 Jenkins 組建產生 JAR 檔案和工作區中的 TXT 檔案**建置**資料夾，而您想 tooupload tooAzure blob 儲存體，用於 hello hello 下列**的成品清單 tooupload**值：**建置 /\*d，則為建置 /\*.txt**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-193">For example, if your Jenkins build produces JAR files and TXT files in your workspace's **build** folder, and you want tooupload both tooAzure blob storage, use hello following for hello **List of Artifacts tooupload** value: **build/\*.jar;build/\*.txt**.</span></span> <span data-ttu-id="ca1e2-194">您也可以使用雙冒號語法 toospecify 路徑 toouse hello blob 名稱中。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-194">You can also use double-colon syntax toospecify a path toouse within hello blob name.</span></span> <span data-ttu-id="ca1e2-195">例如，如果您想要上傳使用 hello （每瓶) tooget**二進位檔**hello blob 路徑和 hello TXT 檔案 tooget 中上傳使用**通知**hello blob 的路徑中，用於 hello 下列 hello **清單中的成品 tooupload**值：**建置 /\*。 jar::binaries; 建置 /\*。 txt::notices**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-195">For example, if you want hello JARs tooget uploaded using **binaries** in hello blob path and hello TXT files tooget uploaded using **notices** in hello blob path, use hello following for hello **List of Artifacts tooupload** value: **build/\*.jar::binaries;build/\*.txt::notices**.</span></span>

## <a name="how-toocreate-a-build-step-that-downloads-from-azure-blob-storage"></a><span data-ttu-id="ca1e2-196">如何 toocreate 的建置步驟，下載從 Azure blob 儲存體</span><span class="sxs-lookup"><span data-stu-id="ca1e2-196">How toocreate a build step that downloads from Azure blob storage</span></span>
<span data-ttu-id="ca1e2-197">hello 下列步驟顯示如何 tooconfigure 組建從 Azure blob 儲存體中逐步 toodownload 項目。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-197">hello following steps show how tooconfigure a build step toodownload items from Azure blob storage.</span></span> <span data-ttu-id="ca1e2-198">這會是很有用，如果您想 tooinclude 項目在您的組建，例如，（每瓶)，您將保留在 Azure blob 儲存體。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-198">This would be useful if you want tooinclude items in your build, for example, JARs that you keep in Azure blob storage.</span></span>

1. <span data-ttu-id="ca1e2-199">在 hello**建置**> 一節的 hello 工作設定，請按一下**加入建置步驟**選擇**從 Azure Blob 儲存體下載**。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-199">In hello **Build** section of hello job configuration, click **Add build step** and choose **Download from Azure Blob storage**.</span></span>
2. <span data-ttu-id="ca1e2-200">如**儲存體帳戶名稱**，選取 hello 儲存體帳戶 toouse。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-200">For **Storage account name**, select hello storage account toouse.</span></span>
3. <span data-ttu-id="ca1e2-201">如**容器名稱**，指定 hello hello 容器具有您想要 toodownload hello blob 名稱。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-201">For **Container name**, specify hello name of hello container that has hello blobs you want toodownload.</span></span> <span data-ttu-id="ca1e2-202">您可以使用環境變數。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-202">You can use environment variables.</span></span>
4. <span data-ttu-id="ca1e2-203">如**Blob 名稱**，指定 hello blob 名稱。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-203">For **Blob name**, specify hello blob name.</span></span> <span data-ttu-id="ca1e2-204">您可以使用環境變數。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-204">You can use environment variables.</span></span> <span data-ttu-id="ca1e2-205">此外，您可以使用星號，做為萬用字元指定 hello 初始代號的磁碟區的 hello blob 名稱之後。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-205">Also, you can use an asterisk, as a wildcard after you specify hello initial letter(s) of hello blob name.</span></span> <span data-ttu-id="ca1e2-206">例如，**project\*** 指定名稱開頭為 **project** 的所有 Blob。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-206">For example, **project\*** would specify all blobs whose names start with **project**.</span></span>
5. <span data-ttu-id="ca1e2-207">[選用]如**下載路徑**，指定您要從 Azure blob 儲存體 toodownload 檔案 hello Jenkins 機器上 hello 路徑。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-207">[Optional] For **Download path**, specify hello path on hello Jenkins machine where you want toodownload files from Azure blob storage.</span></span> <span data-ttu-id="ca1e2-208">也可以使用環境變數</span><span class="sxs-lookup"><span data-stu-id="ca1e2-208">Environment variables can also be used.</span></span> <span data-ttu-id="ca1e2-209">(如果您未提供的值**下載路徑**，從 Azure blob 儲存體的 hello 檔案會下載的 toohello 作業的工作區。)</span><span class="sxs-lookup"><span data-stu-id="ca1e2-209">(If you do not provide a value for **Download path**, hello files from Azure blob storage will be downloaded toohello job's workspace.)</span></span>

<span data-ttu-id="ca1e2-210">如果您想 toodownload 從 Azure blob 儲存體的其他項目，您可以建立額外的建置步驟。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-210">If you have additional items you want toodownload from Azure blob storage, you can create additional build steps.</span></span>

<span data-ttu-id="ca1e2-211">執行建置後，您可以檢查 hello 建置記錄主控台輸出，或查看您的下載位置，toosee 是否 hello 已成功下載您所預期的 blob。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-211">After you run a build, you can check hello build history console output, or look at your download location, toosee whether hello blobs you expected were successfully downloaded.</span></span>  

## <a name="components-used-by-hello-blob-service"></a><span data-ttu-id="ca1e2-212">Hello Blob 服務所使用的元件</span><span class="sxs-lookup"><span data-stu-id="ca1e2-212">Components used by hello Blob service</span></span>
<span data-ttu-id="ca1e2-213">hello 以下提供 hello Blob 服務元件的概觀。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-213">hello following provides an overview of hello Blob service components.</span></span>

* <span data-ttu-id="ca1e2-214">**儲存體帳戶**： 所有存取的 tooAzure 是儲存體透過儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-214">**Storage Account**: All access tooAzure Storage is done through a storage account.</span></span> <span data-ttu-id="ca1e2-215">這是用於存取 blob 的 hello 命名空間的 hello 最高等級。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-215">This is hello highest level of hello namespace for accessing blobs.</span></span> <span data-ttu-id="ca1e2-216">帳戶可以包含不限數目的容器，只要它們的大小總計低於 100TB 即可。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-216">An account can contain an unlimited number of containers, as long as their total size is under 100TB.</span></span>
* <span data-ttu-id="ca1e2-217">**容器**：容器提供一組 Blob 的群組。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-217">**Container**: A container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="ca1e2-218">所有 Blob 都必須放在容器中。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-218">All blobs must be in a container.</span></span> <span data-ttu-id="ca1e2-219">一個帳戶可以包含的容器不限數量。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-219">An account can contain an unlimited number of containers.</span></span> <span data-ttu-id="ca1e2-220">容器可以儲存無限制的 Blob。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-220">A container can store an unlimited number of blobs.</span></span>
* <span data-ttu-id="ca1e2-221">**Blob**：任何類型和大小的檔案。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-221">**Blob**: A file of any type and size.</span></span> <span data-ttu-id="ca1e2-222">Azure 儲存中可以儲存兩種 Blob：區塊 Blob 和分頁 Blob。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-222">There are two types of blobs that can be stored in Azure Storage: block and page blobs.</span></span> <span data-ttu-id="ca1e2-223">大部分檔案都是區塊 Blob。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-223">Most files are block blobs.</span></span> <span data-ttu-id="ca1e2-224">單一區塊 blob 可以是 up too200GB 的大小。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-224">A single block blob can be up too200GB in size.</span></span> <span data-ttu-id="ca1e2-225">本教學課程使用區塊 Blob。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-225">This tutorial uses block blobs.</span></span> <span data-ttu-id="ca1e2-226">分頁 blob，另一種 blob 類型，可向上 too1TB 大小和更有效率的是檔案中的位元組範圍經常修改。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-226">Page blobs, another blob type, can be up too1TB in size, and are more efficient when ranges of bytes in a file are modified frequently.</span></span> <span data-ttu-id="ca1e2-227">如需關於 Blob 的詳細資訊，請參閱 [了解區塊 Blob、附加 Blob 及分頁 Blob](http://msdn.microsoft.com/library/azure/ee691964.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-227">For more information about blobs, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>
* <span data-ttu-id="ca1e2-228">**URL 格式**： 使用 hello 下列 URL 格式來定址 Blob:</span><span class="sxs-lookup"><span data-stu-id="ca1e2-228">**URL format**: Blobs are addressable using hello following URL format:</span></span>
  
    `http://storageaccount.blob.core.windows.net/container_name/blob_name`
  
    <span data-ttu-id="ca1e2-229">（hello 上述格式，適用於 toohello 公用 Azure 雲端。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-229">(hello format above applies toohello public Azure cloud.</span></span> <span data-ttu-id="ca1e2-230">如果您使用不同的 Azure 雲端，使用 hello 端點內 hello [Azure 入口網站](https://portal.azure.com)toodetermine URL 端點。)</span><span class="sxs-lookup"><span data-stu-id="ca1e2-230">If you are using a different Azure cloud, use hello endpoint within hello [Azure Portal](https://portal.azure.com) toodetermine your URL endpoint.)</span></span>
  
    <span data-ttu-id="ca1e2-231">上述的 hello 格式`storageaccount`代表 hello 您的儲存體帳戶名稱，`container_name`代表 hello 您的容器名稱，和`blob_name`代表 hello 您的 blob 名稱，分別。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-231">In hello format above, `storageaccount` represents hello name of your storage account, `container_name` represents hello name of your container, and `blob_name` represents hello name of your blob, respectively.</span></span> <span data-ttu-id="ca1e2-232">內 hello 容器名稱，您可以有多個以正斜線，分隔的路徑 **/** 。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-232">Within hello container name, you can have multiple paths, separated by a forward slash, **/**.</span></span> <span data-ttu-id="ca1e2-233">本教學課程中的 hello 範例容器名稱為**存放至 MyJob**，和**${建置\_識別碼} / ${建置\_數目}** hello 一般虛擬路徑，導致 hello blob 擁有使用Hello 下列表單的 URL:</span><span class="sxs-lookup"><span data-stu-id="ca1e2-233">hello example container name in this tutorial was **MyJob**, and **${BUILD\_ID}/${BUILD\_NUMBER}** was used for hello common virtual path, resulting in hello blob having a URL of hello following form:</span></span>
  
    `http://example.blob.core.windows.net/myjob/2014-04-14_23-57-00/1/hello.txt`

## <a name="next-steps"></a><span data-ttu-id="ca1e2-234">後續步驟</span><span class="sxs-lookup"><span data-stu-id="ca1e2-234">Next steps</span></span>
* [<span data-ttu-id="ca1e2-235">認識 Jenkins</span><span class="sxs-lookup"><span data-stu-id="ca1e2-235">Meet Jenkins</span></span>](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins)
* [<span data-ttu-id="ca1e2-236">Azure Storage SDK for Java</span><span class="sxs-lookup"><span data-stu-id="ca1e2-236">Azure Storage SDK for Java</span></span>](https://github.com/azure/azure-storage-java)
* [<span data-ttu-id="ca1e2-237">Azure 儲存體用戶端 SDK 參考</span><span class="sxs-lookup"><span data-stu-id="ca1e2-237">Azure Storage Client SDK Reference</span></span>](http://dl.windowsazure.com/storage/javadoc/)
* [<span data-ttu-id="ca1e2-238">Azure 儲存體服務 REST API</span><span class="sxs-lookup"><span data-stu-id="ca1e2-238">Azure Storage Services REST API</span></span>](https://msdn.microsoft.com/library/azure/dd179355.aspx)
* [<span data-ttu-id="ca1e2-239">Azure 儲存體團隊部落格</span><span class="sxs-lookup"><span data-stu-id="ca1e2-239">Azure Storage Team Blog</span></span>](http://blogs.msdn.com/b/windowsazurestorage/)

<span data-ttu-id="ca1e2-240">如需詳細資訊，請參閱 hello [Java 開發人員中心](https://azure.microsoft.com/develop/java/)。</span><span class="sxs-lookup"><span data-stu-id="ca1e2-240">For more information, also see hello [Java Developer Center](https://azure.microsoft.com/develop/java/).</span></span>
