---
title: "Azure 儲存體分析 toocollect 記錄檔和度量資料 aaaUse |Microsoft 文件"
description: "儲存體分析可讓您所有儲存體服務，tootrack 度量資料和 toocollect 記錄檔中的 Blob、 佇列和資料表儲存體。"
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7894993b-ca42-4125-8f17-8f6dfe3dca76
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/03/2017
ms.author: robinsh
ms.openlocfilehash: aba1a236cb69fa2e60bcb8fda5d34841e36e379a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="storage-analytics"></a><span data-ttu-id="fb6e5-103">儲存體分析</span><span class="sxs-lookup"><span data-stu-id="fb6e5-103">Storage Analytics</span></span>

<span data-ttu-id="fb6e5-104">Azure 儲存體分析會執行記錄，並提供儲存體帳戶的度量資料。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-104">Azure Storage Analytics performs logging and provides metrics data for a storage account.</span></span> <span data-ttu-id="fb6e5-105">您可以使用此資料 tootrace 要求、 分析使用趨勢，以及診斷儲存體帳戶的問題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-105">You can use this data tootrace requests, analyze usage trends, and diagnose issues with your storage account.</span></span>

<span data-ttu-id="fb6e5-106">toouse 儲存體分析，您必須先啟用個別針對每個服務要 toomonitor。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-106">toouse Storage Analytics, you must enable it individually for each service you want toomonitor.</span></span> <span data-ttu-id="fb6e5-107">您可以啟用它從 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-107">You can enable it from hello [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="fb6e5-108">如需詳細資訊，請參閱[監視 hello Azure 入口網站的儲存體帳戶](storage-monitor-storage-account.md)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-108">For details, see [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="fb6e5-109">您也可以啟用儲存體分析，以程式設計方式透過 hello REST API 或 hello 用戶端程式庫。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-109">You can also enable Storage Analytics programmatically via hello REST API or hello client library.</span></span> <span data-ttu-id="fb6e5-110">使用 hello[取得 Blob 服務屬性](https://msdn.microsoft.com/library/hh452239.aspx)，[取得佇列服務屬性](https://msdn.microsoft.com/library/hh452243.aspx)，[取得表格服務屬性](https://msdn.microsoft.com/library/hh452238.aspx)，和[取得檔案服務屬性](https://msdn.microsoft.com/library/mt427369.aspx)作業 tooenable 儲存體分析的每個服務。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-110">Use hello [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx), and [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operations tooenable Storage Analytics for each service.</span></span>

<span data-ttu-id="fb6e5-111">hello 彙總的資料儲存在已知的 blob （用於記錄） 和已知資料表 （用於度量），可能會使用 hello Blob 服務和表格服務 Api 存取。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-111">hello aggregated data is stored in a well-known blob (for logging) and in well-known tables (for metrics), which may be accessed using hello Blob service and Table service APIs.</span></span>

<span data-ttu-id="fb6e5-112">儲存體分析會將 20 TB 限制對 hello 儲存的資料量 hello 儲存體帳戶總限制無關。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-112">Storage Analytics has a 20 TB limit on hello amount of stored data that is independent of hello total limit for your storage account.</span></span> <span data-ttu-id="fb6e5-113">如需計費和資料保留原則的詳細資訊，請參閱 [儲存體分析和計費](https://msdn.microsoft.com/library/hh360997.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-113">For more information about billing and data retention policies, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span> <span data-ttu-id="fb6e5-114">如需儲存體帳戶限制的詳細資訊，請參閱 [Azure 儲存體延展性和效能目標](storage-scalability-targets.md)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-114">For more information about storage account limits, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>

<span data-ttu-id="fb6e5-115">如需使用儲存體分析和其他工具 tooidentify 的深度指南，診斷和疑難排解 Azure 儲存體相關問題，請參閱[監視、 診斷和疑難排解 Microsoft Azure 儲存體](storage-monitoring-diagnosing-troubleshooting.md)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-115">For an in-depth guide on using Storage Analytics and other tools tooidentify, diagnose, and troubleshoot Azure Storage-related issues, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="about-storage-analytics-logging"></a><span data-ttu-id="fb6e5-116">關於儲存體分析記錄</span><span class="sxs-lookup"><span data-stu-id="fb6e5-116">About Storage Analytics logging</span></span>
<span data-ttu-id="fb6e5-117">儲存體分析記錄成功和失敗的要求 tooa 儲存體服務的詳細的資訊。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-117">Storage Analytics logs detailed information about successful and failed requests tooa storage service.</span></span> <span data-ttu-id="fb6e5-118">這項資訊可以使用的 toomonitor 個別要求和 toodiagnose 與儲存體服務的問題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-118">This information can be used toomonitor individual requests and toodiagnose issues with a storage service.</span></span> <span data-ttu-id="fb6e5-119">系統會以最佳方式來記錄要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-119">Requests are logged on a best-effort basis.</span></span>

<span data-ttu-id="fb6e5-120">只有在發生儲存體服務活動時，才會建立記錄檔項目。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-120">Log entries are created only if there is storage service activity.</span></span> <span data-ttu-id="fb6e5-121">例如，如果儲存體帳戶有活動，其 Blob 服務中，但不是在其資料表或佇列服務，會建立相關 toohello Blob 服務的記錄。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-121">For example, if a storage account has activity in its Blob service but not in its Table or Queue services, only logs pertaining toohello Blob service will be created.</span></span>

<span data-ttu-id="fb6e5-122">儲存體分析記錄不適用於 Azure 檔案儲存體。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-122">Storage Analytics Logging is not available for Azure File storage.</span></span>

### <a name="logging-authenticated-requests"></a><span data-ttu-id="fb6e5-123">記錄驗證要求</span><span class="sxs-lookup"><span data-stu-id="fb6e5-123">Logging authenticated requests</span></span>
<span data-ttu-id="fb6e5-124">會記錄下列類型的驗證要求的 hello:</span><span class="sxs-lookup"><span data-stu-id="fb6e5-124">hello following types of authenticated requests are logged:</span></span>

* <span data-ttu-id="fb6e5-125">成功的要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-125">Successful requests.</span></span>
* <span data-ttu-id="fb6e5-126">失敗的要求，包括逾時、節流、網路、授權和其他錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-126">Failed requests, including timeout, throttling, network, authorization, and other errors.</span></span>
* <span data-ttu-id="fb6e5-127">使用共用存取簽章 (SAS) 的要求，包括失敗和成功的要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-127">Requests using a Shared Access Signature (SAS), including failed and successful requests.</span></span>
* <span data-ttu-id="fb6e5-128">要求 tooanalytics 資料。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-128">Requests tooanalytics data.</span></span>

<span data-ttu-id="fb6e5-129">系統不會記錄儲存體分析本身所提出的要求 (例如，記錄檔的建立或刪除)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-129">Requests made by Storage Analytics itself, such as log creation or deletion, are not logged.</span></span> <span data-ttu-id="fb6e5-130">Hello 記錄資料的完整清單會記載在 hello[儲存體分析記錄作業和狀態訊息](https://msdn.microsoft.com/library/hh343260.aspx)和[儲存體分析記錄格式](https://msdn.microsoft.com/library/hh343259.aspx)主題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-130">A full list of hello logged data is documented in hello [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="logging-anonymous-requests"></a><span data-ttu-id="fb6e5-131">記錄匿名要求</span><span class="sxs-lookup"><span data-stu-id="fb6e5-131">Logging anonymous requests</span></span>
<span data-ttu-id="fb6e5-132">會記錄下列類型的匿名要求的 hello:</span><span class="sxs-lookup"><span data-stu-id="fb6e5-132">hello following types of anonymous requests are logged:</span></span>

* <span data-ttu-id="fb6e5-133">成功的要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-133">Successful requests.</span></span>
* <span data-ttu-id="fb6e5-134">伺服器錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-134">Server errors.</span></span>
* <span data-ttu-id="fb6e5-135">用戶端與伺服器的逾時錯誤。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-135">Timeout errors for both client and server.</span></span>
* <span data-ttu-id="fb6e5-136">失敗的 GET 要求，錯誤碼為 304 (未修改)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-136">Failed GET requests with error code 304 (Not Modified).</span></span>

<span data-ttu-id="fb6e5-137">系統不會記錄所有其他失敗的匿名要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-137">All other failed anonymous requests are not logged.</span></span> <span data-ttu-id="fb6e5-138">Hello 記錄資料的完整清單會記載在 hello[儲存體分析記錄作業和狀態訊息](https://msdn.microsoft.com/library/hh343260.aspx)和[儲存體分析記錄格式](https://msdn.microsoft.com/library/hh343259.aspx)主題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-138">A full list of hello logged data is documented in hello [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="how-logs-are-stored"></a><span data-ttu-id="fb6e5-139">記錄檔的儲存方式</span><span class="sxs-lookup"><span data-stu-id="fb6e5-139">How logs are stored</span></span>
<span data-ttu-id="fb6e5-140">所有記錄檔都會儲存在名為 $logs 的容器內的區塊 Blob 中，該容器是在針對儲存體帳戶啟用儲存體分析時自動建立的。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-140">All logs are stored in block blobs in a container named $logs, which is automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="fb6e5-141">hello $logs 容器位於 hello blob 命名空間中的 hello 儲存體帳戶，例如： `http://<accountname>.blob.core.windows.net/$logs`。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-141">hello $logs container is located in hello blob namespace of hello storage account, for example: `http://<accountname>.blob.core.windows.net/$logs`.</span></span> <span data-ttu-id="fb6e5-142">一旦啟用儲存體分析之後便無法刪除此容器，不過您可以刪除其內容。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-142">This container cannot be deleted once Storage Analytics has been enabled, though its contents can be deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="fb6e5-143">hello $logs 容器不會顯示執行容器列出作業時，例如 hello [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx)方法。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-143">hello $logs container is not displayed when a container listing operation is performed, such as hello [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) method.</span></span> <span data-ttu-id="fb6e5-144">您必須直接存取它。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-144">It must be accessed directly.</span></span> <span data-ttu-id="fb6e5-145">例如，您可以使用 hello [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx)方法 tooaccess hello blob 在 hello`$logs`容器。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-145">For example, you can use hello [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) method tooaccess hello blobs in hello `$logs` container.</span></span>
> <span data-ttu-id="fb6e5-146">記錄要求時，儲存體分析將會以區塊形式上傳中繼結果。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-146">As requests are logged, Storage Analytics will upload intermediate results as blocks.</span></span> <span data-ttu-id="fb6e5-147">儲存體分析會定期認可這些區塊，並提供它們做為 Blob。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-147">Periodically, Storage Analytics will commit these blocks and make them available as a blob.</span></span>
> 
> 

<span data-ttu-id="fb6e5-148">Hello 中建立的記錄檔可能會有重複的記錄相同的小時。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-148">Duplicate records may exist for logs created in hello same hour.</span></span> <span data-ttu-id="fb6e5-149">您可以判斷記錄是否為重複檢查 hello **RequestId**和**作業**數目。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-149">You can determine if a record is a duplicate by checking hello **RequestId** and **Operation** number.</span></span>

### <a name="log-naming-conventions"></a><span data-ttu-id="fb6e5-150">記錄檔命名慣例</span><span class="sxs-lookup"><span data-stu-id="fb6e5-150">Log naming conventions</span></span>
<span data-ttu-id="fb6e5-151">每個記錄檔會採用下列格式的 hello。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-151">Each log will be written in hello following format.</span></span>

    <service-name>/YYYY/MM/DD/hhmm/<counter>.log

<span data-ttu-id="fb6e5-152">hello 下表說明每個屬性在 hello 記錄檔名稱。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-152">hello following table describes each attribute in hello log name.</span></span>

| <span data-ttu-id="fb6e5-153">屬性</span><span class="sxs-lookup"><span data-stu-id="fb6e5-153">Attribute</span></span> | <span data-ttu-id="fb6e5-154">說明</span><span class="sxs-lookup"><span data-stu-id="fb6e5-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="fb6e5-155"><service-name></span><span class="sxs-lookup"><span data-stu-id="fb6e5-155"><service-name></span></span> |<span data-ttu-id="fb6e5-156">hello hello 儲存體服務的名稱。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-156">hello name of hello storage service.</span></span> <span data-ttu-id="fb6e5-157">例如：Blob、資料表或佇列。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-157">For example: blob, table, or queue.</span></span> |
| <span data-ttu-id="fb6e5-158">YYYY</span><span class="sxs-lookup"><span data-stu-id="fb6e5-158">YYYY</span></span> |<span data-ttu-id="fb6e5-159">hello hello 記錄檔的四位數年份。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-159">hello four-digit year for hello log.</span></span> <span data-ttu-id="fb6e5-160">例如：2011。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-160">For example: 2011.</span></span> |
| <span data-ttu-id="fb6e5-161">MM</span><span class="sxs-lookup"><span data-stu-id="fb6e5-161">MM</span></span> |<span data-ttu-id="fb6e5-162">hello hello 記錄檔的兩位數月份。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-162">hello two-digit month for hello log.</span></span> <span data-ttu-id="fb6e5-163">例如：07。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-163">For example: 07.</span></span> |
| <span data-ttu-id="fb6e5-164">DD</span><span class="sxs-lookup"><span data-stu-id="fb6e5-164">DD</span></span> |<span data-ttu-id="fb6e5-165">hello hello 記錄檔的兩位數月份。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-165">hello two-digit month for hello log.</span></span> <span data-ttu-id="fb6e5-166">例如：07。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-166">For example: 07.</span></span> |
| <span data-ttu-id="fb6e5-167">hh</span><span class="sxs-lookup"><span data-stu-id="fb6e5-167">hh</span></span> |<span data-ttu-id="fb6e5-168">表示開始小時 hello hello hello 兩位數小時，採用 24 小時制 UTC 格式記錄。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-168">hello two-digit hour that indicates hello starting hour for hello logs, in 24-hour UTC format.</span></span> <span data-ttu-id="fb6e5-169">例如：18。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-169">For example: 18.</span></span> |
| <span data-ttu-id="fb6e5-170">mm</span><span class="sxs-lookup"><span data-stu-id="fb6e5-170">mm</span></span> |<span data-ttu-id="fb6e5-171">表示開始分鐘的 hello 記錄檔的 hello hello 兩位數字。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-171">hello two-digit number that indicates hello starting minute for hello logs.</span></span> <span data-ttu-id="fb6e5-172">在儲存體分析的 hello 目前版本中不支援此值，其值一律為 00。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-172">This value is unsupported in hello current version of Storage Analytics, and its value will always be 00.</span></span> |
| <counter> |<span data-ttu-id="fb6e5-173">以零為起始的六位數計數器，指出 hello hello 儲存體服務中一小時內產生的記錄檔 blob 數目。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-173">A zero-based counter with six digits that indicates hello number of log blobs generated for hello storage service in an hour time period.</span></span> <span data-ttu-id="fb6e5-174">此計數器會從 000000 開始。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-174">This counter starts at 000000.</span></span> <span data-ttu-id="fb6e5-175">例如：000001。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-175">For example: 000001.</span></span> |

<span data-ttu-id="fb6e5-176">hello 以下是結合 hello 前一個範例的完整範例記錄檔名稱。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-176">hello following is a complete sample log name that combines hello previous examples.</span></span>

    blob/2011/07/31/1800/000001.log

<span data-ttu-id="fb6e5-177">hello 以下是範例可以使用的 tooaccess hello 先前記錄的 URI。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-177">hello following is a sample URI that can be used tooaccess hello previous log.</span></span>

    https://<accountname>.blob.core.windows.net/$logs/blob/2011/07/31/1800/000001.log

<span data-ttu-id="fb6e5-178">記錄儲存體要求時，產生記錄檔名稱 hello 相互關聯 toohello 小時 hello 要求作業完成時。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-178">When a storage request is logged, hello resulting log name correlates toohello hour when hello requested operation completed.</span></span> <span data-ttu-id="fb6e5-179">例如，如果 GetBlob 要求已在</span><span class="sxs-lookup"><span data-stu-id="fb6e5-179">For example, if a GetBlob request was completed at 6:30 P.M.</span></span> <span data-ttu-id="fb6e5-180">在 7/31/2011 hello 記錄檔寫入時會包含下列前置詞的 hello:`blob/2011/07/31/1800/`</span><span class="sxs-lookup"><span data-stu-id="fb6e5-180">on 7/31/2011, hello log would be written with hello following prefix: `blob/2011/07/31/1800/`</span></span>

### <a name="log-metadata"></a><span data-ttu-id="fb6e5-181">記錄中繼資料</span><span class="sxs-lookup"><span data-stu-id="fb6e5-181">Log metadata</span></span>
<span data-ttu-id="fb6e5-182">所有記錄檔 blob 會儲存並可使用的 tooidentify 包含何種記錄資料 hello blob 的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-182">All log blobs are stored with metadata that can be used tooidentify what logging data hello blob contains.</span></span> <span data-ttu-id="fb6e5-183">hello 下表描述每個中繼資料屬性。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-183">hello following table describes each metadata attribute.</span></span>

| <span data-ttu-id="fb6e5-184">屬性</span><span class="sxs-lookup"><span data-stu-id="fb6e5-184">Attribute</span></span> | <span data-ttu-id="fb6e5-185">說明</span><span class="sxs-lookup"><span data-stu-id="fb6e5-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="fb6e5-186">LogType</span><span class="sxs-lookup"><span data-stu-id="fb6e5-186">LogType</span></span> |<span data-ttu-id="fb6e5-187">描述 hello 記錄檔是否包含 tooread、 寫入或刪除作業的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-187">Describes whether hello log contains information pertaining tooread, write, or delete operations.</span></span> <span data-ttu-id="fb6e5-188">此值可包含一個類型或是所有這三種類型的組合 (以逗號分隔)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-188">This value can include one type or a combination of all three, separated by commas.</span></span> <span data-ttu-id="fb6e5-189">範例 1：write；範例 2：read,write；範例 3：read,write,delete。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-189">Example 1: write; Example 2: read,write; Example 3: read,write,delete.</span></span> |
| <span data-ttu-id="fb6e5-190">StartTime</span><span class="sxs-lookup"><span data-stu-id="fb6e5-190">StartTime</span></span> |<span data-ttu-id="fb6e5-191">hello 最早時間 YYYY hello 形式的 hello 記錄中的項目-MM-DDThh:mm:ssZ。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-191">hello earliest time of an entry in hello log, in hello form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="fb6e5-192">例如：2011-07-31T18:21:46Z。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-192">For example: 2011-07-31T18:21:46Z.</span></span> |
| <span data-ttu-id="fb6e5-193">EndTime</span><span class="sxs-lookup"><span data-stu-id="fb6e5-193">EndTime</span></span> |<span data-ttu-id="fb6e5-194">hello 最晚時間 YYYY hello 形式的 hello 記錄中的項目-MM-DDThh:mm:ssZ。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-194">hello latest time of an entry in hello log, in hello form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="fb6e5-195">例如：2011-07-31T18:22:09Z。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-195">For example: 2011-07-31T18:22:09Z.</span></span> |
| <span data-ttu-id="fb6e5-196">LogVersion</span><span class="sxs-lookup"><span data-stu-id="fb6e5-196">LogVersion</span></span> |<span data-ttu-id="fb6e5-197">hello hello 記錄格式版本。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-197">hello version of hello log format.</span></span> <span data-ttu-id="fb6e5-198">目前僅支援 hello 值為 1.0。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-198">Currently hello only supported value is 1.0.</span></span> |

<span data-ttu-id="fb6e5-199">hello 下列清單顯示使用 hello 前一個範例的完整範例中繼資料。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-199">hello following list displays complete sample metadata using hello previous examples.</span></span>

* <span data-ttu-id="fb6e5-200">LogType=write</span><span class="sxs-lookup"><span data-stu-id="fb6e5-200">LogType=write</span></span>
* <span data-ttu-id="fb6e5-201">StartTime=2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="fb6e5-201">StartTime=2011-07-31T18:21:46Z</span></span>
* <span data-ttu-id="fb6e5-202">EndTime=2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="fb6e5-202">EndTime=2011-07-31T18:22:09Z</span></span>
* <span data-ttu-id="fb6e5-203">LogVersion=1.0</span><span class="sxs-lookup"><span data-stu-id="fb6e5-203">LogVersion=1.0</span></span>

### <a name="accessing-logging-data"></a><span data-ttu-id="fb6e5-204">存取記錄資料</span><span class="sxs-lookup"><span data-stu-id="fb6e5-204">Accessing logging data</span></span>
<span data-ttu-id="fb6e5-205">Hello 中的所有資料`$logs`使用 hello Blob 服務 Api 也可以存取容器、 hello hello 所提供的.NET Api 包括 Azure managed 程式庫。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-205">All data in hello `$logs` container can be accessed by using hello Blob service APIs, including hello .NET APIs provided by hello Azure managed library.</span></span> <span data-ttu-id="fb6e5-206">hello 儲存體帳戶管理員可以讀取和刪除記錄檔，但無法建立或更新它們。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-206">hello storage account administrator can read and delete logs, but cannot create or update them.</span></span> <span data-ttu-id="fb6e5-207">查詢記錄檔時，可以使用 hello 記錄檔的中繼資料和記錄檔名稱。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-207">Both hello log's metadata and log name can be used when querying for a log.</span></span> <span data-ttu-id="fb6e5-208">很可能在指定時段內的記錄檔 tooappear 順序，但 hello 中繼資料一律會指定記錄檔項目 hello timespan 記錄檔中。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-208">It is possible for a given hour's logs tooappear out of order, but hello metadata always specifies hello timespan of log entries in a log.</span></span> <span data-ttu-id="fb6e5-209">因此，您可以在搜尋特定記錄檔時使用記錄檔名稱和中繼資料的組合。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-209">Therefore, you can use a combination of log names and metadata when searching for a particular log.</span></span>

## <a name="about-storage-analytics-metrics"></a><span data-ttu-id="fb6e5-210">關於儲存體分析度量</span><span class="sxs-lookup"><span data-stu-id="fb6e5-210">About Storage Analytics metrics</span></span>
<span data-ttu-id="fb6e5-211">儲存體分析可儲存有關要求 tooa 儲存體服務的彙總的交易統計資料和容量資料的度量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-211">Storage Analytics can store metrics that include aggregated transaction statistics and capacity data about requests tooa storage service.</span></span> <span data-ttu-id="fb6e5-212">在這兩個 hello 應用程式開發介面作業層級，以及在 hello 儲存體服務層級報告交易和容量會報告在 hello 儲存體服務層級。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-212">Transactions are reported at both hello API operation level as well as at hello storage service level, and capacity is reported at hello storage service level.</span></span> <span data-ttu-id="fb6e5-213">度量資料可使用的 tooanalyze 儲存體服務使用量，要求的 hello 儲存體服務，與使用服務的應用程式的 tooimprove hello 效能診斷問題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-213">Metrics data can be used tooanalyze storage service usage, diagnose issues with requests made against hello storage service, and tooimprove hello performance of applications that use a service.</span></span>

<span data-ttu-id="fb6e5-214">toouse 儲存體分析，您必須先啟用個別針對每個服務要 toomonitor。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-214">toouse Storage Analytics, you must enable it individually for each service you want toomonitor.</span></span> <span data-ttu-id="fb6e5-215">您可以啟用它從 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-215">You can enable it from hello [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="fb6e5-216">如需詳細資訊，請參閱[監視 hello Azure 入口網站的儲存體帳戶](storage-monitor-storage-account.md)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-216">For details, see [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="fb6e5-217">您也可以啟用儲存體分析，以程式設計方式透過 hello REST API 或 hello 用戶端程式庫。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-217">You can also enable Storage Analytics programmatically via hello REST API or hello client library.</span></span> <span data-ttu-id="fb6e5-218">使用 hello**取得服務屬性**作業 tooenable 儲存體分析的每個服務。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-218">Use hello **Get Service Properties** operations tooenable Storage Analytics for each service.</span></span>

### <a name="transaction-metrics"></a><span data-ttu-id="fb6e5-219">交易度量</span><span class="sxs-lookup"><span data-stu-id="fb6e5-219">Transaction metrics</span></span>
<span data-ttu-id="fb6e5-220">系統會以每小時或每分鐘的時間間隔，為每個儲存體服務和要求的 API 作業記錄完善的資料集，其中包括輸入流量/輸出流量、可用性、錯誤，以及已分類的要求百分比。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-220">A robust set of data is recorded at hourly or minute intervals for each storage service and requested API operation, including ingress/egress, availability, errors, and categorized request percentages.</span></span> <span data-ttu-id="fb6e5-221">您可以看到在 hello hello 交易詳細資料的完整清單[儲存體分析度量資料表結構描述](https://msdn.microsoft.com/library/hh343264.aspx)主題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-221">You can see a complete list of hello transaction details in hello [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx) topic.</span></span>

<span data-ttu-id="fb6e5-222">在兩個層級： hello 服務層級和 hello 應用程式開發介面作業層級會記錄交易資料。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-222">Transaction data is recorded at two levels – hello service level and hello API operation level.</span></span> <span data-ttu-id="fb6e5-223">在 hello 服務層級統計資料彙總所有要求的 API 作業會寫入 tooa 資料表實體的每個小時即使沒有要求進行 toohello 服務。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-223">At hello service level, statistics summarizing all requested API operations are written tooa table entity every hour even if no requests were made toohello service.</span></span> <span data-ttu-id="fb6e5-224">在 hello 應用程式開發介面作業層級，統計資料是只寫入的 tooan 實體，如果該小時內已要求 hello 作業。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-224">At hello API operation level, statistics are only written tooan entity if hello operation was requested within that hour.</span></span>

<span data-ttu-id="fb6e5-225">例如，如果您執行**GetBlob**對 Blob 服務，儲存體分析度量的作業將記錄 hello 要求，並包含在 hello 彙總資料的同時 hello Blob 服務，以及 hello **GetBlob**作業。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-225">For example, if you perform a **GetBlob** operation on your Blob service, Storage Analytics Metrics will log hello request and include it in hello aggregated data for both hello Blob service as well as hello **GetBlob** operation.</span></span> <span data-ttu-id="fb6e5-226">不過，如果沒有**GetBlob** hello 小時期間要求作業時，實體將不會寫入 toohello`$MetricsTransactionsBlob`該作業。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-226">However, if no **GetBlob** operation is requested during hello hour, an entity will not be written toohello `$MetricsTransactionsBlob` for that operation.</span></span>

<span data-ttu-id="fb6e5-227">系統會針對使用者要求及儲存體分析本身所提出的要求記錄交易度量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-227">Transaction metrics are recorded for both user requests and requests made by Storage Analytics itself.</span></span> <span data-ttu-id="fb6e5-228">例如，會記錄由儲存體分析 toowrite 記錄檔和資料表實體的要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-228">For example, requests by Storage Analytics toowrite logs and table entities are recorded.</span></span> <span data-ttu-id="fb6e5-229">如需這些要求之計費方式的詳細資訊，請參閱 [儲存體分析及計費](https://msdn.microsoft.com/library/hh360997.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-229">For more information about how these requests are billed, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span>

### <a name="capacity-metrics"></a><span data-ttu-id="fb6e5-230">容量度量</span><span class="sxs-lookup"><span data-stu-id="fb6e5-230">Capacity metrics</span></span>
> [!NOTE]
> <span data-ttu-id="fb6e5-231">目前，才可 hello Blob 服務的容量度量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-231">Currently, capacity metrics are only available for hello Blob service.</span></span> <span data-ttu-id="fb6e5-232">Hello 表格服務和佇列服務的容量度量將可在儲存體分析的未來版本中。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-232">Capacity metrics for hello Table service and Queue service will be available in future versions of Storage Analytics.</span></span>
> 
> 

<span data-ttu-id="fb6e5-233">系統每日都會針對儲存體帳戶的 Blob 服務記錄容量資料，並寫入兩個資料表實體。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-233">Capacity data is recorded daily for a storage account's Blob service, and two table entities are written.</span></span> <span data-ttu-id="fb6e5-234">一個實體提供的使用者資料的統計資料和其他 hello 提供 hello 相關統計資料`$logs`儲存體分析所使用的 blob 容器。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-234">One entity provides statistics for user data, and hello other provides statistics about hello `$logs` blob container used by Storage Analytics.</span></span> <span data-ttu-id="fb6e5-235">hello`$MetricsCapacityBlob`資料表包含下列統計資料的 hello:</span><span class="sxs-lookup"><span data-stu-id="fb6e5-235">hello `$MetricsCapacityBlob` table includes hello following statistics:</span></span>

* <span data-ttu-id="fb6e5-236">**容量**: hello hello 儲存體帳戶之 Blob 服務，以位元組為單位所使用的儲存體的數量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-236">**Capacity**: hello amount of storage used by hello storage account's Blob service, in bytes.</span></span>
* <span data-ttu-id="fb6e5-237">**ContainerCount**: hello hello 儲存體帳戶之 Blob 服務中的 blob 容器的數目。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-237">**ContainerCount**: hello number of blob containers in hello storage account's Blob service.</span></span>
* <span data-ttu-id="fb6e5-238">**ObjectCount**: hello 認可及未認可區塊或分頁 blob 數目 hello 儲存體帳戶之 Blob 服務中的。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-238">**ObjectCount**: hello number of committed and uncommitted block or page blobs in hello storage account's Blob service.</span></span>

<span data-ttu-id="fb6e5-239">如需 hello 容量度量的詳細資訊，請參閱[儲存體分析度量資料表結構描述](https://msdn.microsoft.com/library/hh343264.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-239">For more information about hello capacity metrics, see [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx).</span></span>

### <a name="how-metrics-are-stored"></a><span data-ttu-id="fb6e5-240">度量的儲存方式</span><span class="sxs-lookup"><span data-stu-id="fb6e5-240">How metrics are stored</span></span>
<span data-ttu-id="fb6e5-241">為每個 hello 儲存體服務的所有度量資料都儲存在該服務保留的三個資料表： 其中一個資料表用於交易資訊、 一個資料表用於分鐘交易資訊與另一個資料表用於容量資訊。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-241">All metrics data for each of hello storage services is stored in three tables reserved for that service: one table for transaction information, one table for minute transaction information, and another table for capacity information.</span></span> <span data-ttu-id="fb6e5-242">交易和每分鐘交易資訊都是由要求和回應資料所組成，而容量資訊是由儲存體使用量資料所組成。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-242">Transaction and minute transaction information consists of request and response data, and capacity information consists of storage usage data.</span></span> <span data-ttu-id="fb6e5-243">小時度量、 每分鐘度量和容量的儲存體帳戶之 Blob 服務可以存取命名 hello 下表中所述的資料表中。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-243">Hour metrics, minute metrics, and capacity for a storage account's Blob service can be accessed in tables that are named as described in hello following table.</span></span>

| <span data-ttu-id="fb6e5-244">度量層級</span><span class="sxs-lookup"><span data-stu-id="fb6e5-244">Metrics level</span></span> | <span data-ttu-id="fb6e5-245">資料表名稱</span><span class="sxs-lookup"><span data-stu-id="fb6e5-245">Table names</span></span> | <span data-ttu-id="fb6e5-246">支援的版本</span><span class="sxs-lookup"><span data-stu-id="fb6e5-246">Supported versions</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fb6e5-247">每小時度量，主要位置</span><span class="sxs-lookup"><span data-stu-id="fb6e5-247">Hourly metrics, primary location</span></span> |<span data-ttu-id="fb6e5-248">$MetricsTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="fb6e5-248">$MetricsTransactionsBlob</span></span> <br/><span data-ttu-id="fb6e5-249">$MetricsTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="fb6e5-249">$MetricsTransactionsTable</span></span> <br/> <span data-ttu-id="fb6e5-250">$MetricsTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="fb6e5-250">$MetricsTransactionsQueue</span></span> |<span data-ttu-id="fb6e5-251">版本先前 too2013-08-15 只。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-251">Versions prior too2013-08-15 only.</span></span> <span data-ttu-id="fb6e5-252">雖然仍然支援這些名稱，但建議您先切換 toousing hello 資料表下面所列。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-252">While these names are still supported, it's recommended that you switch toousing hello tables listed below.</span></span> |
| <span data-ttu-id="fb6e5-253">每小時度量，主要位置</span><span class="sxs-lookup"><span data-stu-id="fb6e5-253">Hourly metrics, primary location</span></span> |<span data-ttu-id="fb6e5-254">$MetricsHourPrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="fb6e5-254">$MetricsHourPrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="fb6e5-255">$MetricsHourPrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="fb6e5-255">$MetricsHourPrimaryTransactionsTable</span></span> <br/><span data-ttu-id="fb6e5-256">$MetricsHourPrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="fb6e5-256">$MetricsHourPrimaryTransactionsQueue</span></span> |<span data-ttu-id="fb6e5-257">所有版本 (包含 2013-08-15)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-257">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="fb6e5-258">每分鐘度量，主要位置</span><span class="sxs-lookup"><span data-stu-id="fb6e5-258">Minute metrics, primary location</span></span> |<span data-ttu-id="fb6e5-259">$MetricsMinutePrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="fb6e5-259">$MetricsMinutePrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="fb6e5-260">$MetricsMinutePrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="fb6e5-260">$MetricsMinutePrimaryTransactionsTable</span></span> <br/><span data-ttu-id="fb6e5-261">$MetricsMinutePrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="fb6e5-261">$MetricsMinutePrimaryTransactionsQueue</span></span> |<span data-ttu-id="fb6e5-262">所有版本 (包含 2013-08-15)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-262">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="fb6e5-263">每小時度量，次要位置</span><span class="sxs-lookup"><span data-stu-id="fb6e5-263">Hourly metrics, secondary location</span></span> |<span data-ttu-id="fb6e5-264">$MetricsHourSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="fb6e5-264">$MetricsHourSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="fb6e5-265">$MetricsHourSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="fb6e5-265">$MetricsHourSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="fb6e5-266">$MetricsHourSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="fb6e5-266">$MetricsHourSecondaryTransactionsQueue</span></span> |<span data-ttu-id="fb6e5-267">所有版本 (包含 2013-08-15)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-267">All versions, including 2013-08-15.</span></span> <span data-ttu-id="fb6e5-268">必須啟用讀取存取異地備援複寫。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-268">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="fb6e5-269">每分鐘度量，次要位置</span><span class="sxs-lookup"><span data-stu-id="fb6e5-269">Minute metrics, secondary location</span></span> |<span data-ttu-id="fb6e5-270">$MetricsMinuteSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="fb6e5-270">$MetricsMinuteSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="fb6e5-271">$MetricsMinuteSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="fb6e5-271">$MetricsMinuteSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="fb6e5-272">$MetricsMinuteSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="fb6e5-272">$MetricsMinuteSecondaryTransactionsQueue</span></span> |<span data-ttu-id="fb6e5-273">所有版本 (包含 2013-08-15)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-273">All versions, including 2013-08-15.</span></span> <span data-ttu-id="fb6e5-274">必須啟用讀取存取異地備援複寫。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-274">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="fb6e5-275">容量 (僅限 Blob 服務)</span><span class="sxs-lookup"><span data-stu-id="fb6e5-275">Capacity (Blob service only)</span></span> |<span data-ttu-id="fb6e5-276">$MetricsCapacityBlob</span><span class="sxs-lookup"><span data-stu-id="fb6e5-276">$MetricsCapacityBlob</span></span> |<span data-ttu-id="fb6e5-277">所有版本 (包含 2013-08-15)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-277">All versions, including 2013-08-15.</span></span> |

<span data-ttu-id="fb6e5-278">針對儲存體帳戶啟用儲存體分析時，即會自動建立這些資料表。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-278">These tables are automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="fb6e5-279">存取透過 hello 命名空間的 hello 儲存體帳戶，例如：`https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span><span class="sxs-lookup"><span data-stu-id="fb6e5-279">They are accessed via hello namespace of hello storage account, for example: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span></span>

### <a name="accessing-metrics-data"></a><span data-ttu-id="fb6e5-280">存取度量資料</span><span class="sxs-lookup"><span data-stu-id="fb6e5-280">Accessing metrics data</span></span>
<span data-ttu-id="fb6e5-281">可以使用 hello 表格服務應用程式開發介面存取 hello 度量資料表中的所有資料，包括 hello hello 所提供的.NET Api Azure managed 程式庫。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-281">All data in hello metrics tables can be accessed by using hello Table service APIs, including hello .NET APIs provided by hello Azure managed library.</span></span> <span data-ttu-id="fb6e5-282">hello 儲存體帳戶管理員可以讀取和刪除資料表實體，但無法建立或更新它們。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-282">hello storage account administrator can read and delete table entities, but cannot create or update them.</span></span>

## <a name="billing-for-storage-analytics"></a><span data-ttu-id="fb6e5-283">儲存體分析計費</span><span class="sxs-lookup"><span data-stu-id="fb6e5-283">Billing for Storage Analytics</span></span>
<span data-ttu-id="fb6e5-284">所有度量資料的儲存體帳戶的 hello 服務都寫入。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-284">All metrics data is written by hello services of a storage account.</span></span> <span data-ttu-id="fb6e5-285">因此，儲存體分析所執行的每個寫入作業都會列入計費。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-285">As a result, each write operation performed by Storage Analytics is billable.</span></span> <span data-ttu-id="fb6e5-286">此外，也會列入計費的度量資料所使用的儲存體的 hello 數量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-286">Additionally, hello amount of storage used by metrics data is also billable.</span></span>

<span data-ttu-id="fb6e5-287">hello 下列儲存體分析所執行的動作會列入計費：</span><span class="sxs-lookup"><span data-stu-id="fb6e5-287">hello following actions performed by Storage Analytics are billable:</span></span>

* <span data-ttu-id="fb6e5-288">要求記錄的 toocreate blob。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-288">Requests toocreate blobs for logging.</span></span> 
* <span data-ttu-id="fb6e5-289">要求 toocreate 資料表實體的度量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-289">Requests toocreate table entities for metrics.</span></span>

<span data-ttu-id="fb6e5-290">如果您已設定資料保留原則，就不需在儲存體分析刪除舊記錄和度量資料時支付刪除交易的費用。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-290">If you have configured a data retention policy, you are not charged for delete transactions when Storage Analytics deletes old logging and metrics data.</span></span> <span data-ttu-id="fb6e5-291">不過，從用戶端刪除交易會列入計費。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-291">However, delete transactions from a client are billable.</span></span> <span data-ttu-id="fb6e5-292">如需保留原則的詳細資訊，請參閱 [設定儲存體分析資料保留原則](https://msdn.microsoft.com/library/azure/hh343263.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-292">For more information about retention policies, see [Setting a Storage Analytics Data Retention Policy](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span></span>

### <a name="understanding-billable-requests"></a><span data-ttu-id="fb6e5-293">了解計費要求</span><span class="sxs-lookup"><span data-stu-id="fb6e5-293">Understanding billable requests</span></span>
<span data-ttu-id="fb6e5-294">計費或非計費 tooan 帳戶的儲存體服務所做的每個要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-294">Every request made tooan account's storage service is either billable or non-billable.</span></span> <span data-ttu-id="fb6e5-295">儲存體分析記錄進行 tooa 服務，包括狀態訊息，指出如何 hello 要求已處理的每個要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-295">Storage Analytics logs each individual request made tooa service, including a status message that indicates how hello request was handled.</span></span> <span data-ttu-id="fb6e5-296">同樣地，儲存體分析會儲存該服務，包括 hello 百分比和計數的特定狀態訊息的服務和 hello API 作業的度量。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-296">Similarly, Storage Analytics stores metrics for both a service and hello API operations of that service, including hello percentages and count of certain status messages.</span></span> <span data-ttu-id="fb6e5-297">在一起，這些功能可協助您分析計費要求、 改良您的應用程式，以及診斷要求 tooyour 服務的問題。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-297">Together, these features can help you analyze your billable requests, make improvements on your application, and diagnose issues with requests tooyour services.</span></span> <span data-ttu-id="fb6e5-298">如需計費的詳細資訊，請參閱 [了解 Azure 儲存體計費 - 頻寬、交易和容量](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-298">For more information about billing, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

<span data-ttu-id="fb6e5-299">在儲存體分析資料時，您可以使用 hello 資料表中 hello[儲存體分析記錄作業和狀態訊息](https://msdn.microsoft.com/library/azure/hh343260.aspx)主題 toodetermine 哪些要求會列入計費。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-299">When looking at Storage Analytics data, you can use hello tables in hello [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/azure/hh343260.aspx) topic toodetermine what requests are billable.</span></span> <span data-ttu-id="fb6e5-300">然後您可以將記錄檔和度量資料 toohello 狀態訊息 toosee 如果比較支付特定要求。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-300">Then you can compare your logs and metrics data toohello status messages toosee if you were charged for a particular request.</span></span> <span data-ttu-id="fb6e5-301">您也可以使用在先前主題 tooinvestigate 可用性 hello 的 hello 資料表儲存體服務或個別的應用程式開發介面作業。</span><span class="sxs-lookup"><span data-stu-id="fb6e5-301">You can also use hello tables in hello previous topic tooinvestigate availability for a storage service or individual API operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fb6e5-302">後續步驟</span><span class="sxs-lookup"><span data-stu-id="fb6e5-302">Next steps</span></span>
### <a name="setting-up-storage-analytics"></a><span data-ttu-id="fb6e5-303">設定儲存體分析</span><span class="sxs-lookup"><span data-stu-id="fb6e5-303">Setting up Storage Analytics</span></span>
* [<span data-ttu-id="fb6e5-304">監視 hello Azure 入口網站的儲存體帳戶</span><span class="sxs-lookup"><span data-stu-id="fb6e5-304">Monitor a storage account in hello Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="fb6e5-305">啟用及設定儲存體分析</span><span class="sxs-lookup"><span data-stu-id="fb6e5-305">Enabling and Configuring Storage Analytics</span></span>](https://msdn.microsoft.com/library/hh360996.aspx)

### <a name="storage-analytics-logging"></a><span data-ttu-id="fb6e5-306">儲存體分析記錄</span><span class="sxs-lookup"><span data-stu-id="fb6e5-306">Storage Analytics logging</span></span>
* [<span data-ttu-id="fb6e5-307">關於儲存體分析記錄</span><span class="sxs-lookup"><span data-stu-id="fb6e5-307">About Storage Analytics Logging</span></span>](https://msdn.microsoft.com/library/hh343262.aspx)
* [<span data-ttu-id="fb6e5-308">儲存體分析記錄檔格式</span><span class="sxs-lookup"><span data-stu-id="fb6e5-308">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/hh343259.aspx)
* [<span data-ttu-id="fb6e5-309">儲存體分析記錄作業和狀態訊息</span><span class="sxs-lookup"><span data-stu-id="fb6e5-309">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)

### <a name="storage-analytics-metrics"></a><span data-ttu-id="fb6e5-310">儲存體分析度量</span><span class="sxs-lookup"><span data-stu-id="fb6e5-310">Storage Analytics metrics</span></span>
* [<span data-ttu-id="fb6e5-311">關於儲存體分析度量</span><span class="sxs-lookup"><span data-stu-id="fb6e5-311">About Storage Analytics Metrics</span></span>](https://msdn.microsoft.com/library/hh343258.aspx)
* [<span data-ttu-id="fb6e5-312">儲存體分析度量資料表結構描述</span><span class="sxs-lookup"><span data-stu-id="fb6e5-312">Storage Analytics Metrics Table Schema</span></span>](https://msdn.microsoft.com/library/hh343264.aspx)
* [<span data-ttu-id="fb6e5-313">儲存體分析記錄作業和狀態訊息</span><span class="sxs-lookup"><span data-stu-id="fb6e5-313">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)  

