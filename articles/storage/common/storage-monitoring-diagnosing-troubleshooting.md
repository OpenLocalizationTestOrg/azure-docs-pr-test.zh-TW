---
title: "aaaMonitor，診斷和疑難排解 Azure 儲存體 |Microsoft 文件"
description: "使用功能像是儲存體分析，用戶端記錄，和其他協力廠商工具 tooidentify，診斷和疑難排解 Azure 儲存體相關的問題。"
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: d1e87d98-c763-4caa-ba20-2cf85f853303
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2017
ms.author: fhryo-msft
ms.openlocfilehash: 43f34a4ccbc3071cdb489958252498a1f88e1a34
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="ac5de-103">監視、診斷與疑難排解 Microsoft Azure 儲存體</span><span class="sxs-lookup"><span data-stu-id="ac5de-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="ac5de-104">Overview</span><span class="sxs-lookup"><span data-stu-id="ac5de-104">Overview</span></span>
<span data-ttu-id="ac5de-105">與傳統環境相比，託管於雲端環境的分散式應用程式一旦發生問題，無論要為其進行診斷或疑難排解，都更加複雜。</span><span class="sxs-lookup"><span data-stu-id="ac5de-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="ac5de-106">應用程式可以部署在 PaaS 或 IaaS 基礎架構、內部部署環境、行動裝置或是這幾種環境的組合上。</span><span class="sxs-lookup"><span data-stu-id="ac5de-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="ac5de-107">一般而言，應用程式的網路流量可能會周遊公用及私人網路和應用程式可能使用多個儲存體技術，例如 Microsoft Azure 儲存體資料表、 Blob、 佇列，或新增 tooother 資料中的檔案會儲存這類關聯式和文件的資料庫。</span><span class="sxs-lookup"><span data-stu-id="ac5de-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition tooother data stores such as relational and document databases.</span></span>

<span data-ttu-id="ac5de-108">toomanage 這類應用程式成功您應主動監視和了解如何 toodiagnose 及疑難排解它們和其相關技術的所有層面。</span><span class="sxs-lookup"><span data-stu-id="ac5de-108">toomanage such applications successfully you should monitor them proactively and understand how toodiagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="ac5de-109">為 Azure 儲存體服務的使用者，您應該持續監視 hello 儲存體服務應用程式使用的任何意外變更行為 （例如低於一般的回應時間），並使用記錄 toocollect 詳細資料和 tooanalyze深入探討的問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-109">As a user of Azure Storage services, you should continuously monitor hello Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging toocollect more detailed data and tooanalyze a problem in depth.</span></span> <span data-ttu-id="ac5de-110">從監視和記錄您取得 hello 診斷資訊將協助您 toodetermine hello 根本原因的 hello 問題發生您應用程式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-110">hello diagnostics information you obtain from both monitoring and logging will help you toodetermine hello root cause of hello issue your application encountered.</span></span> <span data-ttu-id="ac5de-111">您可以對 hello 問題進行疑難排解，並且判斷 hello 適當的步驟，您可以採取 tooremediate 它。</span><span class="sxs-lookup"><span data-stu-id="ac5de-111">Then you can troubleshoot hello issue and determine hello appropriate steps you can take tooremediate it.</span></span> <span data-ttu-id="ac5de-112">Azure 儲存體是的核心 Azure 服務，並形成 hello 大部分的客戶部署 toohello Azure 基礎結構的解決方案中很重要的一部分。</span><span class="sxs-lookup"><span data-stu-id="ac5de-112">Azure Storage is a core Azure service, and forms an important part of hello majority of solutions that customers deploy toohello Azure infrastructure.</span></span> <span data-ttu-id="ac5de-113">Azure 儲存體包含功能 toosimplify 監視、 診斷及疑難排解在雲端應用程式中的儲存體問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-113">Azure Storage includes capabilities toosimplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-114">hello Azure 檔案儲存體不支援目前的記錄。</span><span class="sxs-lookup"><span data-stu-id="ac5de-114">hello Azure File storage does not support logging at this time.</span></span>
> 

<span data-ttu-id="ac5de-115">實際操作指南 tooend 端對端疑難排解在 Azure 儲存體的應用程式，請參閱[端對端疑難排解使用 Azure 儲存體度量和記錄、 AzCopy、 Message Analyzer](../storage-e2e-troubleshooting.md)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-115">For a hands-on guide tooend-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](../storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="ac5de-116">[簡介]</span><span class="sxs-lookup"><span data-stu-id="ac5de-116">[Introduction]</span></span>
  * <span data-ttu-id="ac5de-117">[本指南架構]</span><span class="sxs-lookup"><span data-stu-id="ac5de-117">[How this guide is organized]</span></span>
* <span data-ttu-id="ac5de-118">[監視儲存體服務]</span><span class="sxs-lookup"><span data-stu-id="ac5de-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="ac5de-119">[監視服務健康情況]</span><span class="sxs-lookup"><span data-stu-id="ac5de-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="ac5de-120">[監視容量]</span><span class="sxs-lookup"><span data-stu-id="ac5de-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="ac5de-121">[監視可用性]</span><span class="sxs-lookup"><span data-stu-id="ac5de-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="ac5de-122">[監視效能]</span><span class="sxs-lookup"><span data-stu-id="ac5de-122">[Monitoring performance]</span></span>
* <span data-ttu-id="ac5de-123">[診斷儲存體問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="ac5de-124">[服務健康情況問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-124">[Service health issues]</span></span>
  * <span data-ttu-id="ac5de-125">[效能問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-125">[Performance issues]</span></span>
  * <span data-ttu-id="ac5de-126">[診斷錯誤]</span><span class="sxs-lookup"><span data-stu-id="ac5de-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="ac5de-127">[儲存體模擬器問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="ac5de-128">[儲存體記錄工具]</span><span class="sxs-lookup"><span data-stu-id="ac5de-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="ac5de-129">[使用網路記錄工具]</span><span class="sxs-lookup"><span data-stu-id="ac5de-129">[Using network logging tools]</span></span>
* <span data-ttu-id="ac5de-130">[端對端追蹤]</span><span class="sxs-lookup"><span data-stu-id="ac5de-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="ac5de-131">[為記錄資料建立相互關聯]</span><span class="sxs-lookup"><span data-stu-id="ac5de-131">[Correlating log data]</span></span>
  * <span data-ttu-id="ac5de-132">[用戶端要求 ID]</span><span class="sxs-lookup"><span data-stu-id="ac5de-132">[Client request ID]</span></span>
  * <span data-ttu-id="ac5de-133">[伺服器要求 ID]</span><span class="sxs-lookup"><span data-stu-id="ac5de-133">[Server request ID]</span></span>
  * <span data-ttu-id="ac5de-134">[時間戳記]</span><span class="sxs-lookup"><span data-stu-id="ac5de-134">[Timestamps]</span></span>
* <span data-ttu-id="ac5de-135">[疑難排解指引]</span><span class="sxs-lookup"><span data-stu-id="ac5de-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="ac5de-136">[度量顯示高 AverageE2ELatency 和低 AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ac5de-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="ac5de-137">[度量顯示低 AverageE2ELatency 和低 AverageServerLatency 但 hello 用戶端發生高延遲]</span><span class="sxs-lookup"><span data-stu-id="ac5de-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency]</span></span>
  * <span data-ttu-id="ac5de-138">[度量顯示高 AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ac5de-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="ac5de-139">[佇列上的訊息在遞送期間出現非預期的延遲]</span><span class="sxs-lookup"><span data-stu-id="ac5de-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="ac5de-140">[度量顯示 PercentThrottlingError 增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="ac5de-141">[度量顯示 PercentTimeoutError 增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="ac5de-142">[度量顯示 PercentNetworkError 增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="ac5de-143">[hello 用戶端收到 HTTP 403 （禁止） 訊息]</span><span class="sxs-lookup"><span data-stu-id="ac5de-143">[hello client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="ac5de-144">[hello 用戶端接收 HTTP 404 （找不到） 訊息]</span><span class="sxs-lookup"><span data-stu-id="ac5de-144">[hello client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="ac5de-145">[hello 用戶端接收 HTTP 409 （衝突） 訊息]</span><span class="sxs-lookup"><span data-stu-id="ac5de-145">[hello client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="ac5de-146">[度量顯示低 PercentSuccess 或分析記錄檔項目所使用的作業交易狀態的 ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="ac5de-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="ac5de-147">[容量度量顯示非預期的儲存體容量使用增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="ac5de-148">[附加大量 VHD 的虛擬機器，出現非預期的重新開機情況]</span><span class="sxs-lookup"><span data-stu-id="ac5de-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="ac5de-149">[您的問題就會發生從開發或測試使用 hello 儲存體模擬器]</span><span class="sxs-lookup"><span data-stu-id="ac5de-149">[Your issue arises from using hello storage emulator for development or test]</span></span>
  * <span data-ttu-id="ac5de-150">[您遇到安裝 hello Azure SDK for.NET 的問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-150">[You are encountering problems installing hello Azure SDK for .NET]</span></span>
  * <span data-ttu-id="ac5de-151">[您的儲存體服務出現其他問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-151">[You have a different issue with a storage service]</span></span>
  * [<span data-ttu-id="ac5de-152">使用 Windows 針對 Azure 檔案儲存體進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="ac5de-152">Troubleshooting Azure File storage issues with Windows</span></span>](../files/storage-troubleshoot-windows-file-connection-problems.md)   
  * [<span data-ttu-id="ac5de-153">使用 Linux 針對 Azure 檔案儲存體進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="ac5de-153">Troubleshooting Azure File storage issues with Linux</span></span>](../files/storage-troubleshoot-linux-file-connection-problems.md)
* <span data-ttu-id="ac5de-154">[附錄]</span><span class="sxs-lookup"><span data-stu-id="ac5de-154">[Appendices]</span></span>
  * <span data-ttu-id="ac5de-155">[附錄 1： 使用 Fiddler toocapture HTTP 及 HTTPS 流量]</span><span class="sxs-lookup"><span data-stu-id="ac5de-155">[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="ac5de-156">[附錄 2： 使用 Wireshark toocapture 網路流量]</span><span class="sxs-lookup"><span data-stu-id="ac5de-156">[Appendix 2: Using Wireshark toocapture network traffic]</span></span>
  * <span data-ttu-id="ac5de-157">[附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量]</span><span class="sxs-lookup"><span data-stu-id="ac5de-157">[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]</span></span>
  * <span data-ttu-id="ac5de-158">[附錄 4： 使用 Excel tooview 度量和記錄資料]</span><span class="sxs-lookup"><span data-stu-id="ac5de-158">[Appendix 4: Using Excel tooview metrics and log data]</span></span>
  * <span data-ttu-id="ac5de-159">[附錄 5：使用 Application Insights for Visual Studio Team Services 監視]</span><span class="sxs-lookup"><span data-stu-id="ac5de-159">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="ac5de-160"><a name="introduction"></a>簡介</span><span class="sxs-lookup"><span data-stu-id="ac5de-160"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="ac5de-161">此指南會顯示您如何 toouse 功能，例如 Azure 儲存體分析、 hello Azure 儲存體用戶端程式庫中的用戶端記錄和其他協力廠商工具 tooidentify，診斷和疑難排解 Azure 儲存體的相關問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-161">This guide shows you how toouse features such as Azure Storage Analytics, client-side logging in hello Azure Storage Client Library, and other third-party tools tooidentify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="ac5de-162">本指南是預定的 toobe 讀取主要由開發人員使用 Azure 儲存體服務和 IT 專業人員負責管理此類線上服務的線上服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-162">This guide is intended toobe read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="ac5de-163">本指南 hello 目標如下：</span><span class="sxs-lookup"><span data-stu-id="ac5de-163">hello goals of this guide are:</span></span>

* <span data-ttu-id="ac5de-164">toohelp 您維護 hello 健全狀況和效能的 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-164">toohelp you maintain hello health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="ac5de-165">tooprovide 您與 hello 必要的處理序和工具 toohelp 您決定問題或應用程式中的問題與 tooAzure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="ac5de-165">tooprovide you with hello necessary processes and tools toohelp you decide if an issue or problem in an application relates tooAzure Storage.</span></span>
* <span data-ttu-id="ac5de-166">您可採取動作來解決問題的指引相關 tooAzure 儲存體 tooprovide。</span><span class="sxs-lookup"><span data-stu-id="ac5de-166">tooprovide you with actionable guidance for resolving problems related tooAzure Storage.</span></span>

### <span data-ttu-id="ac5de-167"><a name="how-this-guide-is-organized"></a>本指南架構</span><span class="sxs-lookup"><span data-stu-id="ac5de-167"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="ac5de-168">hello > 一節 「[監視儲存體服務]」 說明如何 toomonitor hello 健全狀況和您使用 Azure 儲存體分析度量 （儲存體度量） 的 Azure 儲存體服務的效能。</span><span class="sxs-lookup"><span data-stu-id="ac5de-168">hello section "[Monitoring your storage service]" describes how toomonitor hello health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="ac5de-169">hello > 一節 「[診斷儲存體問題]」 描述 toodiagnose 發出如何使用 Azure 儲存體分析記錄 （儲存體記錄）。</span><span class="sxs-lookup"><span data-stu-id="ac5de-169">hello section "[Diagnosing storage issues]" describes how toodiagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="ac5de-170">它也會說明如何 tooenable 用戶端記錄使用 hello 適用於.NET 的其中一種 hello 用戶端程式庫，例如 hello 儲存體用戶端程式庫的設備或 hello Azure SDK for Java。</span><span class="sxs-lookup"><span data-stu-id="ac5de-170">It also describes how tooenable client-side logging using hello facilities in one of hello client libraries such as hello Storage Client Library for .NET or hello Azure SDK for Java.</span></span>

<span data-ttu-id="ac5de-171">hello > 一節 「[端對端追蹤]」 說明如何相互關聯各種記錄檔和度量資料中所包含的 hello 資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-171">hello section "[End-to-end tracing]" describes how you can correlate hello information contained in various log files and metrics data.</span></span>

<span data-ttu-id="ac5de-172">hello > 一節 「[疑難排解指引]」 提供的 hello 常見的儲存體相關的問題，可能會遇到的疑難排解指引。</span><span class="sxs-lookup"><span data-stu-id="ac5de-172">hello section "[Troubleshooting guidance]" provides troubleshooting guidance for some of hello common storage-related issues you might encounter.</span></span>

<span data-ttu-id="ac5de-173">hello"[附錄]"包含使用像是 Wireshark 及 netmon 等其他工具來分析網路封包資料、 Fiddler 來分析 HTTP/HTTPS 訊息和相互關聯的 Microsoft Message Analyzer 記錄資料的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-173">hello "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="ac5de-174"><a name="monitoring-your-storage-service"></a>監視您的儲存體服務</span><span class="sxs-lookup"><span data-stu-id="ac5de-174"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="ac5de-175">如果您熟悉 Windows 效能監視，可以將儲存體度量當成相當於 Windows 效能監視器計數的 Azure 儲存體。</span><span class="sxs-lookup"><span data-stu-id="ac5de-175">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="ac5de-176">在儲存體度量，您會找到一組完整的度量資訊 （在 Windows 效能監視器術語的計數器），例如服務可用性、 要求 tooservice 的總數或 tooservice 成功要求的百分比。</span><span class="sxs-lookup"><span data-stu-id="ac5de-176">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests tooservice, or percentage of successful requests tooservice.</span></span> <span data-ttu-id="ac5de-177">Hello 可用度量的完整清單，請參閱[儲存體分析度量資料表結構描述](http://msdn.microsoft.com/library/azure/hh343264.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-177">For a full list of hello available metrics, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span> <span data-ttu-id="ac5de-178">您可以指定是否要 hello 儲存體服務 toocollect 以及每個小時或每分鐘彙總的度量資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-178">You can specify whether you want hello storage service toocollect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="ac5de-179">如需有關如何 tooenable 度量和監視您的儲存體帳戶，請參閱[啟用儲存體度量和檢視度量資料](http://go.microsoft.com/fwlink/?LinkId=510865)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-179">For more information about how tooenable metrics and monitor your storage accounts, see [Enabling storage metrics and viewing metrics data](http://go.microsoft.com/fwlink/?LinkId=510865).</span></span>

<span data-ttu-id="ac5de-180">您可以選擇哪些每小時度量您想要在 hello toodisplay [Azure 入口網站](https://portal.azure.com)並設定每小時度量超過特定閾值時，透過電子郵件通知系統管理員的規則。</span><span class="sxs-lookup"><span data-stu-id="ac5de-180">You can choose which hourly metrics you want toodisplay in hello [Azure portal](https://portal.azure.com) and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold.</span></span> <span data-ttu-id="ac5de-181">如需詳細資訊，請參閱[接收警示通知](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-181">For more information, see [Receive Alert Notifications](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span></span> 

<span data-ttu-id="ac5de-182">hello 儲存體服務會收集度量使用最佳的效果，但可能不會記錄每個儲存體作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-182">hello storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="ac5de-183">在 hello Azure 入口網站，您可以檢視度量資訊，例如可用性、 要求總數和儲存體帳戶的平均延遲數字。</span><span class="sxs-lookup"><span data-stu-id="ac5de-183">In hello Azure portal, you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="ac5de-184">通知規則也已設定總 tooalert 系統管理員如果低於特定層級的可用性。</span><span class="sxs-lookup"><span data-stu-id="ac5de-184">A notification rule has also been set up tooalert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="ac5de-185">從檢視此資料，一個可能的區域，以便調查是 hello 資料表服務成功百分比低於 100%的 (如需詳細資訊，請參閱 hello 節 「[度量顯示低 PercentSuccess 或分析記錄檔項目所使用的作業交易狀態的 ClientOtherErrors]")。</span><span class="sxs-lookup"><span data-stu-id="ac5de-185">From viewing this data, one possible area for investigation is hello table service success percentage being below 100% (for more information, see hello section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

<span data-ttu-id="ac5de-186">您應持續監視您的 Azure 應用程式 tooensure 它們皆狀況良好並執行以預期的方式：</span><span class="sxs-lookup"><span data-stu-id="ac5de-186">You should continuously monitor your Azure applications tooensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="ac5de-187">建立應用程式一些基準度量將可讓您 toocompare 目前的資料並識別任何 hello 行為的 Azure 儲存體和您的應用程式的重大變更。</span><span class="sxs-lookup"><span data-stu-id="ac5de-187">Establishing some baseline metrics for application that will enable you toocompare current data and identify any significant changes in hello behavior of Azure storage and your application.</span></span> <span data-ttu-id="ac5de-188">hello 的基準度量的值，在許多情況下，將特定的應用程式，您應該建立時的效能測試您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-188">hello values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="ac5de-189">記錄每分鐘度量及使用這些 toomonitor 主動未預期的錯誤，例如激增錯誤計數或要求率異常。</span><span class="sxs-lookup"><span data-stu-id="ac5de-189">Recording minute metrics and using them toomonitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="ac5de-190">記錄每小時度量和使用它們 toomonitor 平均值例如平均錯誤計數，並要求率。</span><span class="sxs-lookup"><span data-stu-id="ac5de-190">Recording hourly metrics and using them toomonitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="ac5de-191">調查潛在的問題，使用診斷工具，如稍後所述 hello > 一節 「[診斷儲存體問題]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-191">Investigating potential issues using diagnostics tools as discussed later in hello section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="ac5de-192">在下列映像的 hello hello 圖表說明如何 hello 平均發生每小時度量可以隱藏尖峰活動中。</span><span class="sxs-lookup"><span data-stu-id="ac5de-192">hello charts in hello following image illustrate how hello averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="ac5de-193">hello 每小時度量 hello 分鐘度量顯示真的很的 hello 波動時顯示 tooshow 的要求，穩定的速率。</span><span class="sxs-lookup"><span data-stu-id="ac5de-193">hello hourly metrics appear tooshow a steady rate of requests, while hello minute metrics reveal hello fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="ac5de-194">hello 本節其餘部分描述，您應監視哪些度量和原因。</span><span class="sxs-lookup"><span data-stu-id="ac5de-194">hello remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="ac5de-195"><a name="monitoring-service-health"></a>監視服務健康情況</span><span class="sxs-lookup"><span data-stu-id="ac5de-195"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="ac5de-196">您可以使用 hello [Azure 入口網站](https://portal.azure.com)tooview hello 健全狀況的 hello 儲存體服務 （和其他 Azure 服務） 在所有 hello hello 世界各地的 Azure 區域。</span><span class="sxs-lookup"><span data-stu-id="ac5de-196">You can use hello [Azure portal](https://portal.azure.com) tooview hello health of hello Storage service (and other Azure services) in all hello Azure regions around hello world.</span></span> <span data-ttu-id="ac5de-197">這可讓您 toosee 立即如果您的控制項外問題會影響 hello hello 區域用於您的應用程式中的儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-197">This enables you toosee immediately if an issue outside of your control is affecting hello Storage service in hello region you use for your application.</span></span>

<span data-ttu-id="ac5de-198">hello [Azure 入口網站](https://portal.azure.com)也可以提供通知的事件，會影響 hello 各種 Azure 服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-198">hello [Azure portal](https://portal.azure.com) can also provide notifications of incidents that affect hello various Azure services.</span></span>
<span data-ttu-id="ac5de-199">注意： 這項資訊是先前可用，以及歷史資料，請在 hello [Azure 服務儀表板](http://status.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-199">Note: This information was previously available, along with historical data, on hello [Azure Service Dashboard](http://status.azure.com).</span></span>

<span data-ttu-id="ac5de-200">Hello 時[Azure 入口網站](https://portal.azure.com)收集健全狀況資訊內 hello Azure 資料中心 （內部向外監視），您也可以考慮定期採用在外部方法 toogenerate 綜合交易從多個位置存取 Azure 託管的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-200">While hello [Azure portal](https://portal.azure.com) collects health information from inside hello Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach toogenerate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="ac5de-201">所提供服務的 hello [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring)和 Application Insights for Visual Studio Team Services 是這種外部中的範例。</span><span class="sxs-lookup"><span data-stu-id="ac5de-201">hello services offered by [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="ac5de-202">如需有關 Application Insights for Visual Studio Team Services，請參閱 hello 附錄"[附錄 5： 監視與 Application Insights for Visual Studio Team Services](#appendix-5)。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-202">For more information about Application Insights for Visual Studio Team Services, see hello appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services](#appendix-5)."</span></span>

### <span data-ttu-id="ac5de-203"><a name="monitoring-capacity"></a>監視容量</span><span class="sxs-lookup"><span data-stu-id="ac5de-203"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="ac5de-204">儲存體度量只會儲存 hello blob 服務的容量度量，因為 blob 通常考慮 hello 儲存之資料的最大的比例 （hello 撰寫本文時，它不可能 toouse 儲存體度量 toomonitor hello 容量資料表和佇列）.</span><span class="sxs-lookup"><span data-stu-id="ac5de-204">Storage Metrics only stores capacity metrics for hello blob service because blobs typically account for hello largest proportion of stored data (at hello time of writing, it is not possible toouse Storage Metrics toomonitor hello capacity of your tables and queues).</span></span> <span data-ttu-id="ac5de-205">您可以在 hello 找到這項資料**$MetricsCapacityBlob**資料表，如果您已啟用 hello Blob 服務的監視。</span><span class="sxs-lookup"><span data-stu-id="ac5de-205">You can find this data in hello **$MetricsCapacityBlob** table if you have enabled monitoring for hello Blob service.</span></span> <span data-ttu-id="ac5de-206">儲存體度量會記錄此資料每天一次，而且您可以使用 hello hello 值**RowKey** toodetermine hello 資料列是否包含實體與相關 toouser 資料 (值**資料**) 或分析資料 （值**分析**)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-206">Storage Metrics records this data once per day, and you can use hello value of hello **RowKey** toodetermine whether hello row contains an entity that relates toouser data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="ac5de-207">每個預存的實體包含 hello 用儲存空間量的相關資訊 (**容量**以位元組為單位) 和 hello 目前數目的容器 (**ContainerCount**) 和 blob (**ObjectCount**) hello 儲存體帳戶中的使用中。</span><span class="sxs-lookup"><span data-stu-id="ac5de-207">Each stored entity contains information about hello amount of storage used (**Capacity** measured in bytes) and hello current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in hello storage account.</span></span> <span data-ttu-id="ac5de-208">如需有關儲存在 hello hello 容量度量**$MetricsCapacityBlob**資料表，請參閱[儲存體分析度量資料表結構描述](http://msdn.microsoft.com/library/azure/hh343264.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-208">For more information about hello capacity metrics stored in hello **$MetricsCapacityBlob** table, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-209">您應監視早期警告您已接近 hello 容量限制的儲存體帳戶的這些值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-209">You should monitor these values for an early warning that you are approaching hello capacity limits of your storage account.</span></span> <span data-ttu-id="ac5de-210">在 hello Azure 入口網站，您可以加入警示規則 toonotify 超過使用的彙總的存放裝置，或您低於臨界值所指定。</span><span class="sxs-lookup"><span data-stu-id="ac5de-210">In hello Azure portal, you can add alert rules toonotify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="ac5de-211">估計的各種不同的儲存體物件，例如 blob hello 大小的說明，請參閱 hello 部落格文章[了解 Azure 儲存體計費 – 頻寬、 交易和容量](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-211">For help estimating hello size of various storage objects such as blobs, see hello blog post [Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

### <span data-ttu-id="ac5de-212"><a name="monitoring-availability"></a>監視可用性</span><span class="sxs-lookup"><span data-stu-id="ac5de-212"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="ac5de-213">您也應該監視在 hello hello 值儲存體帳戶中監視 hello 儲存體服務的 hello 可用性**可用性**中的資料行 hello 每小時或分鐘度量資料表 — **$MetricsHourPrimaryTransactionsBlob**， **$MetricsHourPrimaryTransactionsTable**， **$MetricsHourPrimaryTransactionsQueue**， **$MetricsMinutePrimaryTransactionsBlob**， **$MetricsMinutePrimaryTransactionsTable**， **$MetricsMinutePrimaryTransactionsQueue**， **$MetricsCapacityBlob**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-213">You should monitor hello availability of hello storage services in your storage account by monitoring hello value in hello **Availability** column in hello hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="ac5de-214">hello**可用性**資料行包含表示 hello 或可用性的 hello 服務 hello 資料列代表 hello 應用程式開發介面作業的百分比值 (hello **RowKey**顯示是否 hello 資料列包含度量 hello 服務整體或特定的應用程式開發介面作業）。</span><span class="sxs-lookup"><span data-stu-id="ac5de-214">hello **Availability** column contains a percentage value that indicates hello availability of hello service or hello API operation represented by hello row (hello **RowKey** shows if hello row contains metrics for hello service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="ac5de-215">任何小於 100% 的值，皆表示某些儲存體要求已經失敗。</span><span class="sxs-lookup"><span data-stu-id="ac5de-215">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="ac5de-216">您可以看到所檢查的失敗為何 hello hello 度量資料，例如顯示 hello 與不同的錯誤類型的要求數目的其他資料行**ServerTimeoutError**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-216">You can see why they are failing by examining hello other columns in hello metrics data that show hello numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="ac5de-217">您應該預期 toosee**可用性**原因例如暫時性的伺服器逾時資料分割 toobetter 負載平衡要求 hello 服務不斷年秋季暫時低於 100%; 重試邏輯，用戶端應用程式中的 hello應該要處理這類間歇性的條件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-217">You should expect toosee **Availability** fall temporarily below 100% for reasons such as transient server timeouts while hello service moves partitions toobetter load-balance request; hello retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="ac5de-218">hello 文章[儲存體分析記錄作業和狀態訊息](http://msdn.microsoft.com/library/azure/hh343260.aspx)清單 hello 交易類型中包含的儲存體度量其**可用性**計算。</span><span class="sxs-lookup"><span data-stu-id="ac5de-218">hello article [Storage Analytics Logged Operations and Status Messages](http://msdn.microsoft.com/library/azure/hh343260.aspx) lists hello transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="ac5de-219">在 hello [Azure 入口網站](https://portal.azure.com)，您可以加入警示規則 toonotify 您如果**可用性**針對服務低於您指定的臨界值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-219">In hello [Azure portal](https://portal.azure.com), you can add alert rules toonotify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="ac5de-220">hello"[疑難排解指引]」 一節說明一些常見儲存體服務問題相關的 tooavailability。</span><span class="sxs-lookup"><span data-stu-id="ac5de-220">hello "[Troubleshooting guidance]" section of this guide describes some common storage service issues related tooavailability.</span></span>

### <span data-ttu-id="ac5de-221"><a name="monitoring-performance"></a>監視效能</span><span class="sxs-lookup"><span data-stu-id="ac5de-221"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="ac5de-222">toomonitor hello hello 儲存體服務的效能，您可以使用 hello hello 中的下列度量時，也將每小時和分鐘度量資料表。</span><span class="sxs-lookup"><span data-stu-id="ac5de-222">toomonitor hello performance of hello storage services, you can use hello following metrics from hello hourly and minute metrics tables.</span></span>

* <span data-ttu-id="ac5de-223">hello 中 hello 值**AverageE2ELatency**和**AverageServerLatency**資料行會顯示 hello 的平均時間 hello 儲存體服務或應用程式開發介面作業類型利用 tooprocess 要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-223">hello values in hello **AverageE2ELatency** and **AverageServerLatency** columns show hello average time hello storage service or API operation type is taking tooprocess requests.</span></span> <span data-ttu-id="ac5de-224">**AverageE2ELatency**是包含 hello 時間 tooread hello 要求的端對端延遲的量值，並新增 toohello 所花費時間 tooprocess hello 要求中傳送 hello 回應 （因此包括網路延遲一旦 hello 要求達到 hello 儲存體服務）;**AverageServerLatency**是只 hello 處理的時間量值，因此不包括任何相關的網路延遲 toocommunicating hello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-224">**AverageE2ELatency** is a measure of end-to-end latency that includes hello time taken tooread hello request and send hello response in addition toohello time taken tooprocess hello request (therefore includes network latency once hello request reaches hello storage service); **AverageServerLatency** is a measure of just hello processing time and therefore excludes any network latency related toocommunicating with hello client.</span></span> <span data-ttu-id="ac5de-225">請參閱 hello 一節 「[度量顯示高 AverageE2ELatency 和低 AverageServerLatency]"稍後在本指南的討論的原因可能會顯著的差異，這兩個值之間。</span><span class="sxs-lookup"><span data-stu-id="ac5de-225">See hello section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="ac5de-226">hello 中 hello 值**TotalIngress**和**TotalEgress**資料行會顯示 hello 總資料量，以位元組為單位，傳入 tooand 移出儲存體服務或透過特定的應用程式開發介面作業類型。</span><span class="sxs-lookup"><span data-stu-id="ac5de-226">hello values in hello **TotalIngress** and **TotalEgress** columns show hello total amount of data, in bytes, coming in tooand going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="ac5de-227">hello 中 hello 值**TotalRequests**接收的資料行顯示 hello 總數 hello 應用程式開發介面作業的儲存體服務的要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-227">hello values in hello **TotalRequests** column show hello total number of requests that hello storage service of API operation is receiving.</span></span> <span data-ttu-id="ac5de-228">**TotalRequests**是 hello hello 儲存體服務收到的要求數總計。</span><span class="sxs-lookup"><span data-stu-id="ac5de-228">**TotalRequests** is hello total number of requests that hello storage service receives.</span></span>

<span data-ttu-id="ac5de-229">一般來說，您需要監視這些值是否出現非預期的改變，以便察覺是否有需要進一步調查原因的問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-229">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="ac5de-230">在 hello [Azure 入口網站](https://portal.azure.com)，您可以加入警示規則 toonotify 您是否有任何的這項服務的 hello 效能度量低於，或超過您指定的臨界值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-230">In hello [Azure portal](https://portal.azure.com), you can add alert rules toonotify you if any of hello performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="ac5de-231">hello"[疑難排解指引]」 一節說明一些常見儲存體服務問題相關的 tooperformance。</span><span class="sxs-lookup"><span data-stu-id="ac5de-231">hello "[Troubleshooting guidance]" section of this guide describes some common storage service issues related tooperformance.</span></span>

## <span data-ttu-id="ac5de-232"><a name="diagnosing-storage-issues"></a>診斷儲存體問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-232"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="ac5de-233">您可以藉由許多方式來察覺應用程式裡的問題，包括：</span><span class="sxs-lookup"><span data-stu-id="ac5de-233">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="ac5de-234">嚴重錯誤，導致 hello 應用程式 toocrash 或 toostop 工作。</span><span class="sxs-lookup"><span data-stu-id="ac5de-234">A major failure that causes hello application toocrash or toostop working.</span></span>
* <span data-ttu-id="ac5de-235">重大變更的 hello hello 上一節中所述，您要監視的度量的基準值從"[監視儲存體服務]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-235">Significant changes from baseline values in hello metrics you are monitoring as described in hello previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="ac5de-236">您的應用程式使用者回報表示，某些特定操作無法如預期完成，或是某些功能無法正常運作。</span><span class="sxs-lookup"><span data-stu-id="ac5de-236">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="ac5de-237">您的應用程式所產生，並顯示在記錄檔或是透過其他通知方法顯示的錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-237">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="ac5de-238">一般而言，問題相關的 tooAzure 儲存體服務可分成四大類的其中一個：</span><span class="sxs-lookup"><span data-stu-id="ac5de-238">Typically, issues related tooAzure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="ac5de-239">您的應用程式發生效能問題，或是由您的使用者，報告顯示 hello 效能度量的變更。</span><span class="sxs-lookup"><span data-stu-id="ac5de-239">Your application has a performance issue, either reported by your users, or revealed by changes in hello performance metrics.</span></span>
* <span data-ttu-id="ac5de-240">沒有在一或多個區域中的 hello Azure 儲存體基礎結構發生問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-240">There is a problem with hello Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="ac5de-241">您的應用程式發生錯誤，請回報您的使用者，或增加其中一種您監視 hello 錯誤計數度量所揭露。</span><span class="sxs-lookup"><span data-stu-id="ac5de-241">Your application is encountering an error, either reported by your users, or revealed by an increase in one of hello error count metrics you monitor.</span></span>
* <span data-ttu-id="ac5de-242">在開發和測試，您可能使用 hello 本機儲存體模擬器;您可能會與相關特別 toousage hello 儲存體模擬器的一些問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-242">During development and test, you may be using hello local storage emulator; you may encounter some issues that relate specifically toousage of hello storage emulator.</span></span>

<span data-ttu-id="ac5de-243">hello 下列各節簡述 hello 步驟，您應該遵循 toodiagnose，並在每個這四種類型的問題進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="ac5de-243">hello following sections outline hello steps you should follow toodiagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="ac5de-244">hello > 一節 「[疑難排解指引]"稍後在本指南中提供詳細資料可能會遇到一些常見的問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-244">hello section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="ac5de-245"><a name="service-health-issues"></a>服務健康情況問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-245"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="ac5de-246">服務健康情況問題通常是您無法掌控的部分。</span><span class="sxs-lookup"><span data-stu-id="ac5de-246">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="ac5de-247">hello [Azure 入口網站](https://portal.azure.com)使用 Azure 服務，包括儲存體服務提供任何進行中的問題相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-247">hello [Azure portal](https://portal.azure.com) provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="ac5de-248">如果您選擇的讀取權限的地理備援儲存體，當您建立儲存體帳戶，然後在 hello 事件的資料在 hello 主要位置中，無法使用您的應用程式無法切換暫時 toohello hello 次要位置中的唯讀複本。</span><span class="sxs-lookup"><span data-stu-id="ac5de-248">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in hello event of your data being unavailable in hello primary location, your application could switch temporarily toohello read-only copy in hello secondary location.</span></span> <span data-ttu-id="ac5de-249">toodo，您的應用程式必須能夠 tooswitch 之間使用 hello 主要和次要儲存體位置，是無法 toowork 精簡的功能模式的唯讀資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-249">toodo this, your application must be able tooswitch between using hello primary and secondary storage locations, and be able toowork in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="ac5de-250">hello Azure 儲存體用戶端程式庫可讓您 toodefine 從主要儲存體讀取失敗時，可讀取次要儲存體的重試原則。</span><span class="sxs-lookup"><span data-stu-id="ac5de-250">hello Azure Storage Client libraries allow you toodefine a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="ac5de-251">您的應用程式也需要 toobe 注意 hello 次要位置中的 hello 資料是最終保持一致。</span><span class="sxs-lookup"><span data-stu-id="ac5de-251">Your application also needs toobe aware that hello data in hello secondary location is eventually consistent.</span></span> <span data-ttu-id="ac5de-252">如需詳細資訊，請參閱 hello 部落格文章[Azure 儲存體備援選項和讀取權限地理備援儲存體](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-252">For more information, see hello blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

### <span data-ttu-id="ac5de-253"><a name="performance-issues"></a>效能問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-253"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="ac5de-254">hello 效能的應用程式可以是主觀看法，尤其是從使用者的觀點。</span><span class="sxs-lookup"><span data-stu-id="ac5de-254">hello performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="ac5de-255">因此，很重要的 toohave 基準度量可用 toohelp 您識別在可能的效能問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-255">Therefore, it is important toohave baseline metrics available toohelp you identify where there might be a performance issue.</span></span> <span data-ttu-id="ac5de-256">許多因素可能會影響 hello 效能的觀點 hello 用戶端應用程式的 Azure 儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-256">Many factors might affect hello performance of an Azure storage service from hello client application perspective.</span></span> <span data-ttu-id="ac5de-257">這些因素可能運作 hello 儲存體服務、 hello 用戶端，或 hello 網路基礎結構。因此，是重要 toohave 識別 hello 原點的 hello 效能問題的策略。</span><span class="sxs-lookup"><span data-stu-id="ac5de-257">These factors might operate in hello storage service, in hello client, or in hello network infrastructure; therefore it is important toohave a strategy for identifying hello origin of hello performance issue.</span></span>

<span data-ttu-id="ac5de-258">識別 hello hello 原因 hello 從 hello 計量的效能問題的可能位置之後，您接著可以使用 hello 記錄檔案 toofind 和詳細資訊 toodiagnose 進一步 hello 問題進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="ac5de-258">After you have identified hello likely location of hello cause of hello performance issue from hello metrics, you can then use hello log files toofind detailed information toodiagnose and troubleshoot hello problem further.</span></span>

<span data-ttu-id="ac5de-259">hello > 一節 「[疑難排解指引]"本指南稍後會提供詳細資訊與相關的一些常見效能問題可能會發生。</span><span class="sxs-lookup"><span data-stu-id="ac5de-259">hello section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="ac5de-260"><a name="diagnosing-errors"></a>診斷錯誤</span><span class="sxs-lookup"><span data-stu-id="ac5de-260"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="ac5de-261">應用程式的使用者可以通知您 hello 用戶端應用程式所回報的錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-261">Users of your application may notify you of errors reported by hello client application.</span></span> <span data-ttu-id="ac5de-262">儲存體度量還會記錄來自儲存體服務的不同錯誤類型計數，例如 **NetworkError**、**ClientTimeoutError** 或 **AuthorizationError**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-262">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="ac5de-263">雖然儲存體度量只會記錄不同的錯誤類型計數，不過您還是可以藉由檢視伺服器端、用戶端與網路記錄來取得個別要求的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-263">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="ac5de-264">一般而言，hello hello 儲存體服務所傳回的 HTTP 狀態碼會提供 hello 要求為何失敗的指示。</span><span class="sxs-lookup"><span data-stu-id="ac5de-264">Typically, hello HTTP status code returned by hello storage service will give an indication of why hello request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-265">請記住，您應該預期 toosee 一些間歇性的錯誤： 例如，tootransient 網路狀況，因為錯誤或應用程式錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-265">Remember that you should expect toosee some intermittent errors: for example, errors due tootransient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="ac5de-266">hello 下列資源可用於了解儲存體相關狀態值和錯誤碼：</span><span class="sxs-lookup"><span data-stu-id="ac5de-266">hello following resources are useful for understanding storage-related status and error codes:</span></span>

* [<span data-ttu-id="ac5de-267">常見的 REST API 錯誤碼</span><span class="sxs-lookup"><span data-stu-id="ac5de-267">Common REST API Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179357.aspx)
* [<span data-ttu-id="ac5de-268">Blob 服務錯誤碼</span><span class="sxs-lookup"><span data-stu-id="ac5de-268">Blob Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179439.aspx)
* [<span data-ttu-id="ac5de-269">佇列服務錯誤碼</span><span class="sxs-lookup"><span data-stu-id="ac5de-269">Queue Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179446.aspx)
* [<span data-ttu-id="ac5de-270">資料表服務錯誤碼</span><span class="sxs-lookup"><span data-stu-id="ac5de-270">Table Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179438.aspx)
* [<span data-ttu-id="ac5de-271">檔案服務錯誤碼</span><span class="sxs-lookup"><span data-stu-id="ac5de-271">File Service Error Codes</span></span>](https://msdn.microsoft.com/library/azure/dn690119.aspx)

### <span data-ttu-id="ac5de-272"><a name="storage-emulator-issues"></a>儲存體模擬器問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-272"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="ac5de-273">hello Azure SDK 包含的儲存體模擬器，您可以在開發工作站執行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-273">hello Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="ac5de-274">此模擬器模擬大部分的 hello hello Azure 儲存體服務的行為，以及開發和測試期間會很有用，讓您 toorun 使用不含 hello Azure 儲存體服務的應用程式需要 Azure 訂用帳戶和 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-274">This emulator simulates most of hello behavior of hello Azure storage services and is useful during development and test, enabling you toorun applications that use Azure storage services without hello need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="ac5de-275">hello"[疑難排解指引]」 一節說明一些常見的問題使用 hello 儲存體模擬器。</span><span class="sxs-lookup"><span data-stu-id="ac5de-275">hello "[Troubleshooting guidance]" section of this guide describes some common issues encountered using hello storage emulator.</span></span>

### <span data-ttu-id="ac5de-276"><a name="storage-logging-tools"></a>儲存體記錄工具</span><span class="sxs-lookup"><span data-stu-id="ac5de-276"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="ac5de-277">儲存體記錄功能可針對您的 Azure 儲存體帳戶，提供伺服器端的儲存體要求記錄服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-277">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="ac5de-278">如需如何 tooenable 伺服器端記錄和存取 hello 記錄資料的詳細資訊，請參閱[啟用儲存體記錄和存取記錄資料](http://go.microsoft.com/fwlink/?LinkId=510867)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-278">For more information about how tooenable server-side logging and access hello log data, see [Enabling Storage Logging and Accessing Log Data](http://go.microsoft.com/fwlink/?LinkId=510867).</span></span>

<span data-ttu-id="ac5de-279">hello 適用於.NET 的儲存體用戶端程式庫可讓您與您的應用程式所執行的 toostorage 作業相關的 toocollect 用戶端記錄檔資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-279">hello Storage Client Library for .NET enables you toocollect client-side log data that relates toostorage operations performed by your application.</span></span> <span data-ttu-id="ac5de-280">如需詳細資訊，請參閱[用戶端以 hello.NET 儲存體用戶端程式庫記錄](http://go.microsoft.com/fwlink/?LinkId=510868)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-280">For more information, see [Client-side Logging with hello .NET Storage Client Library](http://go.microsoft.com/fwlink/?LinkId=510868).</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-281">在某些情況下 （例如 SAS 授權失敗），使用者可能會報告的錯誤，您可以找到沒有要求資料在 hello 伺服器端儲存體記錄。</span><span class="sxs-lookup"><span data-stu-id="ac5de-281">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in hello server-side Storage logs.</span></span> <span data-ttu-id="ac5de-282">您可以使用 hello 儲存體用戶端程式庫 tooinvestigate hello 記錄功能，如果 hello hello 問題原因是 hello 用戶端上，或使用網路監視工具 tooinvestigate hello 網路。</span><span class="sxs-lookup"><span data-stu-id="ac5de-282">You can use hello logging capabilities of hello Storage Client Library tooinvestigate if hello cause of hello issue is on hello client or use network monitoring tools tooinvestigate hello network.</span></span>
> 
> 

### <span data-ttu-id="ac5de-283"><a name="using-network-logging-tools"></a>使用網路記錄工具</span><span class="sxs-lookup"><span data-stu-id="ac5de-283"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="ac5de-284">您可以擷取之間 hello 用戶端和伺服器 tooprovide 詳細 hello 流量 hello 資料 hello 用戶端和伺服器的相關資訊會交換及 hello 基礎網路狀況。</span><span class="sxs-lookup"><span data-stu-id="ac5de-284">You can capture hello traffic between hello client and server tooprovide detailed information about hello data hello client and server are exchanging and hello underlying network conditions.</span></span> <span data-ttu-id="ac5de-285">有用的網路記錄工具如下：</span><span class="sxs-lookup"><span data-stu-id="ac5de-285">Useful network logging tools include:</span></span>

* <span data-ttu-id="ac5de-286">[Fiddler](http://www.telerik.com/fiddler)是免費的 web 偵錯 tooexamine hello 標頭和內容資料的 HTTP 和 HTTPS 要求和回應訊息，可讓您的 proxy。</span><span class="sxs-lookup"><span data-stu-id="ac5de-286">[Fiddler](http://www.telerik.com/fiddler) is a free web debugging proxy that enables you tooexamine hello headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="ac5de-287">如需詳細資訊，請參閱[附錄 1： 使用 Fiddler toocapture HTTP 及 HTTPS 流量](#appendix-1)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-287">For more information, see [Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic](#appendix-1).</span></span>
* <span data-ttu-id="ac5de-288">[Microsoft 網路監視器 (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865)和[Wireshark](http://www.wireshark.org/)是可用的網路通訊協定分析器可讓您 tooview 封包的詳細資訊廣泛的網路通訊協定。</span><span class="sxs-lookup"><span data-stu-id="ac5de-288">[Microsoft Network Monitor (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](http://www.wireshark.org/) are free network protocol analyzers that enable you tooview detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="ac5de-289">如需 Wireshark 的詳細資訊，請參閱 「[附錄 2： 使用 Wireshark toocapture 網路流量](#appendix-2)"。</span><span class="sxs-lookup"><span data-stu-id="ac5de-289">For more information about Wireshark, see "[Appendix 2: Using Wireshark toocapture network traffic](#appendix-2)".</span></span>
* <span data-ttu-id="ac5de-290">Microsoft Message Analyzer 是取代 Netmon 和會另外 toocapturing 網路封包資料的 microsoft 工具可協助您 tooview 和分析從其他工具所擷取的 hello 記錄資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-290">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition toocapturing network packet data, helps you tooview and analyze hello log data captured from other tools.</span></span> <span data-ttu-id="ac5de-291">如需詳細資訊，請參閱 「[附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量](#appendix-3)"。</span><span class="sxs-lookup"><span data-stu-id="ac5de-291">For more information, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic](#appendix-3)".</span></span>
* <span data-ttu-id="ac5de-292">如果您想用戶端電腦可以透過 hello 網路連線 toohello Azure 儲存體服務的基本連線測試 toocheck tooperform，您無法這樣使用 hello 標準**ping** hello 用戶端上的工具。</span><span class="sxs-lookup"><span data-stu-id="ac5de-292">If you want tooperform a basic connectivity test toocheck that your client machine can connect toohello Azure storage service over hello network, you cannot do this using hello standard **ping** tool on hello client.</span></span> <span data-ttu-id="ac5de-293">不過，您可以使用 hello [ **tcping**工具](http://www.elifulkerson.com/projects/tcping.php)toocheck 連線。</span><span class="sxs-lookup"><span data-stu-id="ac5de-293">However, you can use hello [**tcping** tool](http://www.elifulkerson.com/projects/tcping.php) toocheck connectivity.</span></span>

<span data-ttu-id="ac5de-294">在許多情況下，從儲存體記錄 」 和 「 hello 儲存體用戶端程式庫的 hello 記錄資料將是足夠 toodiagnose 有問題，但在某些情況下，您可能需要的 hello 的詳細資訊，可以提供這些網路記錄工具。</span><span class="sxs-lookup"><span data-stu-id="ac5de-294">In many cases, hello log data from Storage Logging and hello Storage Client Library will be sufficient toodiagnose an issue, but in some scenarios, you may need hello more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="ac5de-295">例如，使用 Fiddler tooview tooview 標頭和承載資料傳送 tooand hello 從儲存體服務，讓您 tooexamine 如何用戶端應用程式的 HTTP 和 HTTPS 的訊息啟用會重試儲存體作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-295">For example, using Fiddler tooview HTTP and HTTPS messages enables you tooview header and payload data sent tooand from hello storage services, which would enable you tooexamine how a client application retries storage operations.</span></span> <span data-ttu-id="ac5de-296">例如 Wireshark 通訊協定分析器更 hello 封包層級，讓您 tooview TCP 資料，可讓您 tootroubleshoot 遺失封包和連線問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-296">Protocol analyzers such as Wireshark operate at hello packet level enabling you tooview TCP data, which would enable you tootroubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="ac5de-297">Message Analyzer 可同時在 HTTP 與 TCP 網路層運作。</span><span class="sxs-lookup"><span data-stu-id="ac5de-297">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="ac5de-298"><a name="end-to-end-tracing"></a>端對端追蹤</span><span class="sxs-lookup"><span data-stu-id="ac5de-298"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="ac5de-299">使用各種記錄檔案進行的端對端追蹤方式，是調查潛在問題的有效方法。</span><span class="sxs-lookup"><span data-stu-id="ac5de-299">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="ac5de-300">您可以使用從度量資料的 hello 日期/時間資訊做為 toostart hello 的 hello 記錄檔中尋找詳細的資訊可協助您疑難排解問題 hello 的表示。</span><span class="sxs-lookup"><span data-stu-id="ac5de-300">You can use hello date/time information from your metrics data as an indication of where toostart looking in hello log files for hello detailed information that will help you troubleshoot hello issue.</span></span>

### <span data-ttu-id="ac5de-301"><a name="correlating-log-data"></a>為記錄資料建立相互關聯</span><span class="sxs-lookup"><span data-stu-id="ac5de-301"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="ac5de-302">當檢視從用戶端應用程式記錄檔，網路追蹤，且其記錄的伺服器端儲存體重大 toobe 無法 toocorrelate 要求對 hello 不同的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="ac5de-302">When viewing logs from client applications, network traces, and server-side storage logging it is critical toobe able toocorrelate requests across hello different log files.</span></span> <span data-ttu-id="ac5de-303">hello 記錄檔包含不同適合做為相互關聯識別碼的欄位數目。</span><span class="sxs-lookup"><span data-stu-id="ac5de-303">hello log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="ac5de-304">hello 用戶端要求 id 是 hello 最有用欄位 toouse toocorrelate 中的項目 hello 不同的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="ac5de-304">hello client request id is hello most useful field toouse toocorrelate entries in hello different logs.</span></span> <span data-ttu-id="ac5de-305">不過有時候，可能很有用的 toouse hello 伺服器要求 id 或時間戳記。</span><span class="sxs-lookup"><span data-stu-id="ac5de-305">However sometimes, it can be useful toouse either hello server request id or timestamps.</span></span> <span data-ttu-id="ac5de-306">hello 下列各節提供有關這些選項更多詳細資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-306">hello following sections provide more details about these options.</span></span>

### <span data-ttu-id="ac5de-307"><a name="client-request-id"></a>用戶端要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-307"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="ac5de-308">hello 儲存體用戶端程式庫會自動產生的每個要求的唯一用戶端要求識別碼。</span><span class="sxs-lookup"><span data-stu-id="ac5de-308">hello Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="ac5de-309">在 hello hello 儲存體用戶端程式庫的用戶端記錄建立時，hello 用戶端要求識別碼會出現在 hello**用戶端要求 ID**相關 toohello 要求每個記錄項目欄位。</span><span class="sxs-lookup"><span data-stu-id="ac5de-309">In hello client-side log that hello Storage Client Library creates, hello client request id appears in hello **Client Request ID** field of every log entry relating toohello request.</span></span>
* <span data-ttu-id="ac5de-310">例如 Fiddler 擷取網路追蹤，在 hello 用戶端要求識別碼會在要求訊息中視為 hello **x ms-用戶端的要求識別碼**HTTP 標頭值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-310">In a network trace such as one captured by Fiddler, hello client request id is visible in request messages as hello **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="ac5de-311">Hello 伺服器端儲存體記錄 」 記錄檔中，會顯示 hello 用戶端要求 id，hello 用戶端要求識別碼 資料行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-311">In hello server-side Storage Logging log, hello client request id appears in hello Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-312">是可能的多個要求 tooshare hello 相同的用戶端要求 id，因為 hello 用戶端可以指派這個值 （雖然 hello 儲存體用戶端程式庫會自動指派新值）。</span><span class="sxs-lookup"><span data-stu-id="ac5de-312">It is possible for multiple requests tooshare hello same client request id because hello client can assign this value (although hello Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="ac5de-313">在從 hello 用戶端重試次數的 hello 情況下，所有嘗試都共用 hello 相同的用戶端要求識別碼。在批次 hello 用戶端送出 hello 情況下，hello 批次都有單一用戶端要求識別碼。</span><span class="sxs-lookup"><span data-stu-id="ac5de-313">In hello case of retries from hello client, all attempts share hello same client request id. In hello case of a batch sent from hello client, hello batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="ac5de-314"><a name="server-request-id"></a>伺服器要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-314"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="ac5de-315">hello 儲存體服務會自動產生伺服器要求 id。</span><span class="sxs-lookup"><span data-stu-id="ac5de-315">hello storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="ac5de-316">Hello 伺服器端儲存體記錄 」 記錄檔中，在 hello 伺服器要求 id 會顯示 hello**要求識別碼標頭**資料行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-316">In hello server-side Storage Logging log, hello server request id appears hello **Request ID header** column.</span></span>
* <span data-ttu-id="ac5de-317">例如 Fiddler 擷取網路追蹤，在 hello 伺服器要求 id 會出現在回應訊息當做 hello **x ms-要求識別碼**HTTP 標頭值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-317">In a network trace such as one captured by Fiddler, hello server request id appears in response messages as hello **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="ac5de-318">在 hello hello 儲存體用戶端程式庫的用戶端記錄建立時，會顯示以 hello hello 伺服器要求 id**作業文字**hello 記錄項目顯示 hello 伺服器回應的詳細資料的資料行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-318">In hello client-side log that hello Storage Client Library creates, hello server request id appears in hello **Operation Text** column for hello log entry showing details of hello server response.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-319">hello 儲存體服務一律指派唯一的伺服器要求 id tooevery 要求收到，以便從 hello 用戶端每次重試嘗試和批次中每個作業都有唯一的伺服器要求 id。</span><span class="sxs-lookup"><span data-stu-id="ac5de-319">hello storage service always assigns a unique server request id tooevery request it receives, so every retry attempt from hello client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="ac5de-320">如果 hello 儲存體用戶端程式庫會擲回**StorageException** hello 用戶端，在 hello **RequestInformation**屬性包含**RequestResult**包含的物件**ServiceRequestID**屬性。</span><span class="sxs-lookup"><span data-stu-id="ac5de-320">If hello Storage Client Library throws a **StorageException** in hello client, hello **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="ac5de-321">您可以從 **OperationContext** 執行個體存取 **RequestResult** 物件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-321">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="ac5de-322">hello 以下的程式碼範例示範如何自訂 tooset **ClientRequestId**藉由附加的值**OperationContext** hello 要求 toohello 儲存體服務的物件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-322">hello code sample below demonstrates how tooset a custom **ClientRequestId** value by attaching an **OperationContext** object hello request toohello storage service.</span></span> <span data-ttu-id="ac5de-323">它也會示範如何 tooretrieve hello **ServerRequestId** hello 回應訊息中的值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-323">It also shows how tooretrieve hello **ServerRequestId** value from hello response message.</span></span>

```csharp
//Parse hello connection string for hello storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within hello application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded toofile: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due tooclient side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="ac5de-324"><a name="timestamps"></a>時間戳記</span><span class="sxs-lookup"><span data-stu-id="ac5de-324"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="ac5de-325">您也可以使用時間戳記 toolocate 相關記錄項目，但請注意任何的時鐘誤差 hello 用戶端之間可能存在的伺服器。</span><span class="sxs-lookup"><span data-stu-id="ac5de-325">You can also use timestamps toolocate related log entries, but be careful of any clock skew between hello client and server that may exist.</span></span> <span data-ttu-id="ac5de-326">您應該搜尋的加號或減號 15 分鐘進行比對伺服器端 hello hello 用戶端上的時間戳記為基礎的項目。</span><span class="sxs-lookup"><span data-stu-id="ac5de-326">You should search plus or minus 15 minutes for matching server-side entries based on hello timestamp on hello client.</span></span> <span data-ttu-id="ac5de-327">請記住 hello 的 blob 中繼資料包含的度量表示 hello hello 度量 hello blob; 中所儲存的時間範圍的 hello blob這是適用於您有許多 hello 相同分鐘或小時度量 blob。</span><span class="sxs-lookup"><span data-stu-id="ac5de-327">Remember that hello blob metadata for hello blobs containing metrics indicates hello time range for hello metrics stored in hello blob; this is useful if you have many metrics blobs for hello same minute or hour.</span></span>

## <span data-ttu-id="ac5de-328"><a name="troubleshooting-guidance"></a>疑難排解指引</span><span class="sxs-lookup"><span data-stu-id="ac5de-328"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="ac5de-329">本章節將協助您 hello 診斷和疑難排解的 hello 常見的問題，因此您的應用程式使用 hello Azure 儲存體服務時可能遇到。</span><span class="sxs-lookup"><span data-stu-id="ac5de-329">This section will help you with hello diagnosis and troubleshooting of some of hello common issues your application may encounter when using hello Azure storage services.</span></span> <span data-ttu-id="ac5de-330">使用下列 toolocate hello 資訊相關 tooyour 特定問題的 hello 清單。</span><span class="sxs-lookup"><span data-stu-id="ac5de-330">Use hello list below toolocate hello information relevant tooyour specific issue.</span></span>

<span data-ttu-id="ac5de-331">**疑難排解決策樹**</span><span class="sxs-lookup"><span data-stu-id="ac5de-331">**Troubleshooting Decision Tree**</span></span>

---
<span data-ttu-id="ac5de-332">您的問題與 toohello 效能的其中一個 hello 儲存體服務產生關聯？</span><span class="sxs-lookup"><span data-stu-id="ac5de-332">Does your issue relate toohello performance of one of hello storage services?</span></span>

* <span data-ttu-id="ac5de-333">[度量顯示高 AverageE2ELatency 和低 AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ac5de-333">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="ac5de-334">[度量顯示低 AverageE2ELatency 和低 AverageServerLatency 但 hello 用戶端發生高延遲]</span><span class="sxs-lookup"><span data-stu-id="ac5de-334">[Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency]</span></span>
* <span data-ttu-id="ac5de-335">[度量顯示高 AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ac5de-335">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="ac5de-336">[佇列上的訊息在遞送期間出現非預期的延遲]</span><span class="sxs-lookup"><span data-stu-id="ac5de-336">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

---
<span data-ttu-id="ac5de-337">您的問題與 toohello 可用性的其中一個 hello 儲存體服務產生關聯？</span><span class="sxs-lookup"><span data-stu-id="ac5de-337">Does your issue relate toohello availability of one of hello storage services?</span></span>

* <span data-ttu-id="ac5de-338">[度量顯示 PercentThrottlingError 增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-338">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="ac5de-339">[度量顯示 PercentTimeoutError 增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-339">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="ac5de-340">[度量顯示 PercentNetworkError 增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-340">[Metrics show an increase in PercentNetworkError]</span></span>

---
 <span data-ttu-id="ac5de-341">您的用戶端應用程式是否收到來自儲存體服務的 HTTP 4XX (例如 404) 回應？</span><span class="sxs-lookup"><span data-stu-id="ac5de-341">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="ac5de-342">[hello 用戶端收到 HTTP 403 （禁止） 訊息]</span><span class="sxs-lookup"><span data-stu-id="ac5de-342">[hello client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="ac5de-343">[hello 用戶端接收 HTTP 404 （找不到） 訊息]</span><span class="sxs-lookup"><span data-stu-id="ac5de-343">[hello client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="ac5de-344">[hello 用戶端接收 HTTP 409 （衝突） 訊息]</span><span class="sxs-lookup"><span data-stu-id="ac5de-344">[hello client is receiving HTTP 409 (Conflict) messages]</span></span>

---
<span data-ttu-id="ac5de-345">[度量顯示低 PercentSuccess 或分析記錄檔項目所使用的作業交易狀態的 ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="ac5de-345">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

---
<span data-ttu-id="ac5de-346">[容量度量顯示非預期的儲存體容量使用增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-346">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

---
<span data-ttu-id="ac5de-347">[附加大量 VHD 的虛擬機器，出現非預期的重新開機情況]</span><span class="sxs-lookup"><span data-stu-id="ac5de-347">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

---
<span data-ttu-id="ac5de-348">[您的問題就會發生從開發或測試使用 hello 儲存體模擬器]</span><span class="sxs-lookup"><span data-stu-id="ac5de-348">[Your issue arises from using hello storage emulator for development or test]</span></span>

---
<span data-ttu-id="ac5de-349">[您遇到安裝 hello Azure SDK for.NET 的問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-349">[You are encountering problems installing hello Azure SDK for .NET]</span></span>

---
<span data-ttu-id="ac5de-350">[您的儲存體服務出現其他問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-350">[You have a different issue with a storage service]</span></span>

---
### <span data-ttu-id="ac5de-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>度量顯示高 AverageE2ELatency 與低 AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="ac5de-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="ac5de-352">hello hello 從下面圖[Azure 入口網站](https://portal.azure.com)監視工具顯示的範例，其中 hello **AverageE2ELatency**明顯高於 hello **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="ac5de-352">hello illustration below from hello [Azure portal](https://portal.azure.com) monitoring tool shows an example where hello **AverageE2ELatency** is significantly higher than hello **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="ac5de-353">注意 hello 儲存體服務才會計算 hello 度量**AverageE2ELatency**成功的要求，而且不同於**AverageServerLatency**，包括 hello 用戶端可以採用 toosend hello hello 時間資料和通知接收從 hello 儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-353">Note that hello storage service only calculates hello metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes hello time hello client takes toosend hello data and receive acknowledgement from hello storage service.</span></span> <span data-ttu-id="ac5de-354">因此，差異**AverageE2ELatency**和**AverageServerLatency**可能是因為 toohello 用戶端應用程式所緩慢 toorespond 或到期 tooconditions hello 網路上的。</span><span class="sxs-lookup"><span data-stu-id="ac5de-354">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due toohello client application being slow toorespond, or due tooconditions on hello network.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-355">您也可以檢視**E2ELatency**和**ServerLatency** hello 儲存體記錄中的個別儲存體作業的記錄資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-355">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in hello Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="ac5de-356">調查用戶端效能問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-356">Investigating client performance issues</span></span>
<span data-ttu-id="ac5de-357">Hello 用戶端的回應速度較慢的可能原因包括具有有限的數目的可用連線或執行緒，或資源，例如 CPU、 記憶體或網路頻寬不足。</span><span class="sxs-lookup"><span data-stu-id="ac5de-357">Possible reasons for hello client responding slowly include having a limited number of available connections or threads, or being low on resources such as CPU, memory or network bandwidth.</span></span> <span data-ttu-id="ac5de-358">藉由修改 hello 用戶端程式碼 toobe 更有效率 （例如使用非同步呼叫 toohello 儲存體服務），或使用較大的虛擬機器 （使用更多核心和更多的記憶體），您可能是無法 tooresolve hello 問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-358">You may be able tooresolve hello issue by modifying hello client code toobe more efficient (for example by using asynchronous calls toohello storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="ac5de-359">Hello 資料表和佇列服務的 hello Nagle 演算法也會造成高**AverageE2ELatency**相較太**AverageServerLatency**： 如需詳細資訊，請參閱文章 hello [Nagle 的演算法是不好記往小要求](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-359">For hello table and queue services, hello Nagle algorithm can also cause high **AverageE2ELatency** as compared too**AverageServerLatency**: for more information see hello post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx).</span></span> <span data-ttu-id="ac5de-360">您可以利用 hello 停用程式碼中的 hello Nagle 演算法**ServicePointManager**類別中 hello **System.Net**命名空間。</span><span class="sxs-lookup"><span data-stu-id="ac5de-360">You can disable hello Nagle algorithm in code by using hello **ServicePointManager** class in hello **System.Net** namespace.</span></span> <span data-ttu-id="ac5de-361">前進行任何呼叫 toohello 資料表或佇列服務，因為這不會影響已連線應用程式中的開啟，您應該執行此動作。</span><span class="sxs-lookup"><span data-stu-id="ac5de-361">You should do this before you make any calls toohello table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="ac5de-362">hello 下列範例來自 hello **Application_Start**背景工作角色中的方法。</span><span class="sxs-lookup"><span data-stu-id="ac5de-362">hello following example comes from hello **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="ac5de-363">您應該檢查 hello 用戶端記錄檔 toosee 多少要求已提交您的用戶端應用程式，並檢查一般的.NET 有關您的用戶端，例如 CPU、.NET 記憶體回收、 網路使用量或記憶體中的效能瓶頸。</span><span class="sxs-lookup"><span data-stu-id="ac5de-363">You should check hello client-side logs toosee how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory.</span></span> <span data-ttu-id="ac5de-364">若要開始疑難排解 .NET 用戶端應用程式，請參閱 [偵錯、追蹤與分析](http://msdn.microsoft.com/library/7fe0dd2y)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-364">As a starting point for troubleshooting .NET client applications, see [Debugging, Tracing, and Profiling](http://msdn.microsoft.com/library/7fe0dd2y).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="ac5de-365">調查網路延遲問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-365">Investigating network latency issues</span></span>
<span data-ttu-id="ac5de-366">一般而言，高 hello 網路導致的端對端延遲是因為 tootransient 條件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-366">Typically, high end-to-end latency caused by hello network is due tootransient conditions.</span></span> <span data-ttu-id="ac5de-367">您可以使用 Wireshark 或 Microsoft Message Analyzer 之類的工具調查暫時性與永久性網路問題，例如遭到捨棄的封包。</span><span class="sxs-lookup"><span data-stu-id="ac5de-367">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="ac5de-368">如需有關使用 Wireshark tootroubleshoot 網路問題的詳細資訊，請參閱 「[附錄 2： 使用 Wireshark toocapture 網路流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-368">For more information about using Wireshark tootroubleshoot network issues, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="ac5de-369">如需有關使用 Microsoft Message Analyzer tootroubleshoot 網路問題的詳細資訊，請參閱 「[附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-369">For more information about using Microsoft Message Analyzer tootroubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

### <span data-ttu-id="ac5de-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>度量顯示低 AverageE2ELatency 和低 AverageServerLatency 但 hello 用戶端發生高延遲</span><span class="sxs-lookup"><span data-stu-id="ac5de-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency</span></span>
<span data-ttu-id="ac5de-371">在此案例中，hello 最可能的原因是 hello 儲存體要求到達 hello 儲存體服務中的延遲。</span><span class="sxs-lookup"><span data-stu-id="ac5de-371">In this scenario, hello most likely cause is a delay in hello storage requests reaching hello storage service.</span></span> <span data-ttu-id="ac5de-372">您應該調查原因 hello 用戶端的要求不會進行它透過 toohello blob 服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-372">You should investigate why requests from hello client are not making it through toohello blob service.</span></span>

<span data-ttu-id="ac5de-373">Hello 延遲傳送要求的用戶端的可能原因之一是有限的數目的可用連線或執行緒。</span><span class="sxs-lookup"><span data-stu-id="ac5de-373">One possible reason for hello client delaying sending requests is that there are a limited number of available connections or threads.</span></span>

<span data-ttu-id="ac5de-374">您也應該檢查是否執行多個重試次數，並在 hello 情況下調查 hello 原因 hello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-374">You should also check whether hello client is performing multiple retries, and investigate hello reason if this is hello case.</span></span> <span data-ttu-id="ac5de-375">toodetermine 是否 hello 用戶端正在執行多個重試次數，您可以：</span><span class="sxs-lookup"><span data-stu-id="ac5de-375">toodetermine whether hello client is performing multiple retries, you can:</span></span>

* <span data-ttu-id="ac5de-376">檢查 hello 儲存體分析記錄檔。</span><span class="sxs-lookup"><span data-stu-id="ac5de-376">Examine hello Storage Analytics logs.</span></span> <span data-ttu-id="ac5de-377">如果發生多個重試次數，您會看到多個作業具有 hello 相同的用戶端要求 ID，但具有不同的伺服器要求 Id。</span><span class="sxs-lookup"><span data-stu-id="ac5de-377">If multiple retries are happening, you will see multiple operations with hello same client request ID but with different server request IDs.</span></span>
* <span data-ttu-id="ac5de-378">檢查記錄檔，用戶端 hello。</span><span class="sxs-lookup"><span data-stu-id="ac5de-378">Examine hello client logs.</span></span> <span data-ttu-id="ac5de-379">詳細資訊記錄會指出已發生的重試。</span><span class="sxs-lookup"><span data-stu-id="ac5de-379">Verbose logging will indicate that a retry has occurred.</span></span>
* <span data-ttu-id="ac5de-380">偵錯您的程式碼，並檢查 hello hello 屬性**OperationContext** hello 要求相關聯的物件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-380">Debug your code, and check hello properties of hello **OperationContext** object associated with hello request.</span></span> <span data-ttu-id="ac5de-381">如果 hello 作業已達重試，hello **RequestResults**屬性將包含多個唯一的伺服器要求 Id。</span><span class="sxs-lookup"><span data-stu-id="ac5de-381">If hello operation has retried, hello **RequestResults** property will include multiple unique server request IDs.</span></span> <span data-ttu-id="ac5de-382">您也可以檢查 hello 開始和結束每個要求的時間。</span><span class="sxs-lookup"><span data-stu-id="ac5de-382">You can also check hello start and end times for each request.</span></span> <span data-ttu-id="ac5de-383">如需詳細資訊，請參閱 hello hello > 一節中的程式碼範例[伺服器要求 ID]。</span><span class="sxs-lookup"><span data-stu-id="ac5de-383">For more information, see hello code sample in hello section [Server request ID].</span></span>

<span data-ttu-id="ac5de-384">如果在 hello 用戶端有任何問題，您應該調查潛在的網路問題，例如封包遺失。</span><span class="sxs-lookup"><span data-stu-id="ac5de-384">If there are no issues in hello client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="ac5de-385">您可以使用 calcproxy.tlb Wireshark 或 Microsoft Message Analyzer tooinvestigate 網路問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-385">You can use tools such as Wireshark or Microsoft Message Analyzer tooinvestigate network issues.</span></span>

<span data-ttu-id="ac5de-386">如需有關使用 Wireshark tootroubleshoot 網路問題的詳細資訊，請參閱 「[附錄 2： 使用 Wireshark toocapture 網路流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-386">For more information about using Wireshark tootroubleshoot network issues, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="ac5de-387">如需有關使用 Microsoft Message Analyzer tootroubleshoot 網路問題的詳細資訊，請參閱 「[附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-387">For more information about using Microsoft Message Analyzer tootroubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

### <span data-ttu-id="ac5de-388"><a name="metrics-show-high-AverageServerLatency"></a>度量顯示高 AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="ac5de-388"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="ac5de-389">在高的案例中 hello **AverageServerLatency** blob 下載要求，您應該使用的 hello 儲存體記錄 」 記錄 toosee，若沒有的 hello 相同 blob （或設定 blob 的） 重複的要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-389">In hello case of high **AverageServerLatency** for blob download requests, you should use hello Storage Logging logs toosee if there are repeated requests for hello same blob (or set of blobs).</span></span> <span data-ttu-id="ac5de-390">Blob 上傳要求，您應該調查哪些區塊大小 hello 用戶端所使用 （例如，小於 64k 大小可能會導致額外負荷除非 hello 讀取也會在區塊小於 64k 區塊），以及多個用戶端會將上傳區塊 toohello 相同blob 以平行方式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-390">For blob upload requests, you should investigate what block size hello client is using (for example, blocks less than 64K in size can result in overheads unless hello reads are also in less than 64K chunks), and if multiple clients are uploading blocks toohello same blob in parallel.</span></span> <span data-ttu-id="ac5de-391">您也應該檢查 hello 數目超過每個第二個延展性目標的 hello 會導致的要求中的高峰的 hello 每分鐘度量： 另請參閱 「[度量顯示 PercentTimeoutError 增加]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-391">You should also check hello per-minute metrics for spikes in hello number of requests that result in exceeding hello per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="ac5de-392">如果您看到高**AverageServerLatency** blob 下載要求時那里重複的要求 hello 相同的 blob 或 blob，一組然後您應該考慮使用 Azure 快取這些 blob 的快取或 hello Azure 內容傳遞網路 (CDN)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-392">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests hello same blob or set of blobs, then you should consider caching these blobs using Azure Cache or hello Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="ac5de-393">上傳要求，您可以使用較大的區塊大小，以改善 hello 輸送量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-393">For upload requests, you can improve hello throughput by using a larger block size.</span></span> <span data-ttu-id="ac5de-394">查詢 tootables 對於也可能 tooimplement 用戶端快取上執行相同查詢作業，且其中 hello 的 hello 用戶端不會經常變更的資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-394">For queries tootables, it is also possible tooimplement client-side caching on clients that perform hello same query operations and where hello data doesn't change frequently.</span></span>

<span data-ttu-id="ac5de-395">高**AverageServerLatency**值可以也可能表示設計不良的資料表或查詢中掃描作業的結果，或遵循 hello 附加/附加在前面的反向模式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-395">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow hello append/prepend anti-pattern.</span></span> <span data-ttu-id="ac5de-396">如需詳細資訊，請參閱「[度量顯示 PercentThrottlingError 增加]」。</span><span class="sxs-lookup"><span data-stu-id="ac5de-396">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-397">您可以在這裡找到完整的檢查清單，包括效能檢查清單： [Microsoft Azure 儲存體效能與延展性檢查清單](storage-performance-checklist.md)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-397">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="ac5de-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>佇列上的訊息在遞送期間出現非預期的延遲</span><span class="sxs-lookup"><span data-stu-id="ac5de-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="ac5de-399">如果您遇到 hello 時間之間的延遲應用程式將訊息 tooa 佇列和 hello 時間會變得可用 tooread hello 佇列中，則您應該採取下列步驟 toodiagnose hello 問題的 hello:</span><span class="sxs-lookup"><span data-stu-id="ac5de-399">If you are experiencing a delay between hello time an application adds a message tooa queue and hello time it becomes available tooread from hello queue, then you should take hello following steps toodiagnose hello issue:</span></span>

* <span data-ttu-id="ac5de-400">請確認 hello 應用程式已成功加入 hello 訊息 toohello 佇列。</span><span class="sxs-lookup"><span data-stu-id="ac5de-400">Verify hello application is successfully adding hello messages toohello queue.</span></span> <span data-ttu-id="ac5de-401">檢查 hello 應用程式不會重試 hello **AddMessage**數次成功之前的方法。</span><span class="sxs-lookup"><span data-stu-id="ac5de-401">Check that hello application is not retrying hello **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="ac5de-402">hello 儲存體用戶端程式庫記錄檔會顯示任何重複的儲存體作業的重試作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-402">hello Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="ac5de-403">請確認沒有任何時鐘誤差新增 hello 訊息 toohello 佇列和 hello hello 佇列，可讓讀取 hello 訊息的背景工作角色會出現一樣會有延遲處理中的 hello 背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="ac5de-403">Verify there is no clock skew between hello worker role that adds hello message toohello queue and hello worker role that reads hello message from hello queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="ac5de-404">請查看失敗是否會從 hello 佇列讀取 hello 訊息的 hello 背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="ac5de-404">Check if hello worker role that reads hello messages from hello queue is failing.</span></span> <span data-ttu-id="ac5de-405">如果佇列用戶端呼叫 hello **GetMessage**方法卻失敗 toorespond 確認，hello 訊息將會繼續 hello 佇列上看不到 hello **invisibilityTimeout**期限到期。</span><span class="sxs-lookup"><span data-stu-id="ac5de-405">If a queue client calls hello **GetMessage** method but fails toorespond with an acknowledgement, hello message will remain invisible on hello queue until hello **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="ac5de-406">此時，hello 訊息會變成可用於處理一次。</span><span class="sxs-lookup"><span data-stu-id="ac5de-406">At this point, hello message becomes available for processing again.</span></span>
* <span data-ttu-id="ac5de-407">檢查是否 hello 佇列長度會隨著時間不斷增加。</span><span class="sxs-lookup"><span data-stu-id="ac5de-407">Check if hello queue length is growing over time.</span></span> <span data-ttu-id="ac5de-408">如果您沒有足夠的 hello 佇列上放置會其他工作者所有 hello 訊息的工作者可用 tooprocess，也可能會發生。</span><span class="sxs-lookup"><span data-stu-id="ac5de-408">This can occur if you do not have sufficient workers available tooprocess all of hello messages that other workers are placing on hello queue.</span></span> <span data-ttu-id="ac5de-409">您也應該檢查 hello 度量 toosee 是否刪除失敗的要求和 hello 清除佇列計數的訊息，而這可能表示重複失敗的嘗試 toodelete hello 訊息。</span><span class="sxs-lookup"><span data-stu-id="ac5de-409">You should also check hello metrics toosee if delete requests are failing and hello dequeue count on messages, which might indicate repeated failed attempts toodelete hello message.</span></span>
* <span data-ttu-id="ac5de-410">檢查 hello 任何佇列作業，比預期更高的儲存體記錄 」 記錄檔**E2ELatency**和**ServerLatency**經過一段時間比平常更長時間的時間值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-410">Examine hello Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="ac5de-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>度量顯示 PercentThrottlingError 增加</span><span class="sxs-lookup"><span data-stu-id="ac5de-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="ac5de-412">當您超出儲存體服務的 hello 延展性目標時，就會發生節流處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-412">Throttling errors occur when you exceed hello scalability targets of a storage service.</span></span> <span data-ttu-id="ac5de-413">hello 儲存體服務會執行此 tooensure 的任何單一用戶端或租用戶可以在 hello 費用的其他人使用 hello 服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-413">hello storage service does this tooensure that no single client or tenant can use hello service at hello expense of others.</span></span> <span data-ttu-id="ac5de-414">如需儲存體帳戶之延展性目標及儲存體帳戶內資料分割之效能目標的詳細資訊，請參閱 [Azure 儲存體延展性與效能目標](storage-scalability-targets.md)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-414">For more information, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="ac5de-415">如果 hello **PercentThrottlingError**計量會顯示以 hello 百分比為單位的要求失敗並發生節流錯誤的增加，您需要 tooinvestigate 兩種情況下：</span><span class="sxs-lookup"><span data-stu-id="ac5de-415">If hello **PercentThrottlingError** metric show an increase in hello percentage of requests that are failing with a throttling error, you need tooinvestigate one of two scenarios:</span></span>

* <span data-ttu-id="ac5de-416">[PercentThrottlingError 的暫時性增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-416">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="ac5de-417">[PercentThrottlingError 錯誤中的永久性增加]</span><span class="sxs-lookup"><span data-stu-id="ac5de-417">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="ac5de-418">增加**PercentThrottlingError**通常發生於 hello 相同時間增加 hello 儲存體要求數量，或當您一開始載入測試您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-418">An increase in **PercentThrottlingError** often occurs at hello same time as an increase in hello number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="ac5de-419">這可能也的資訊清單本身 hello 做為 「 503 伺服器忙碌 」 或 「 500 作業逾時 」 HTTP 儲存體作業的狀態訊息的用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-419">This may also manifest itself in hello client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="ac5de-420"><a name="transient-increase-in-PercentThrottlingError"></a>PercentThrottlingError 的暫時性增加</span><span class="sxs-lookup"><span data-stu-id="ac5de-420"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="ac5de-421">如果您看見 hello 值中的高峰**PercentThrottlingError** ，符合的 hello 應用程式大量活動期間，您應該在您的用戶端實作 （不是線性的） 指數型停止重試策略： 這降低 hello 立即載入 hello 磁碟分割上的，並協助您的應用程式 toosmooth 出的流量尖峰。</span><span class="sxs-lookup"><span data-stu-id="ac5de-421">If you are seeing spikes in hello value of **PercentThrottlingError** that coincide with periods of high activity for hello application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce hello immediate load on hello partition and help your application toosmooth out spikes in traffic.</span></span> <span data-ttu-id="ac5de-422">如需有關如何使用 tooimplement 重試原則 hello 儲存體用戶端程式庫的詳細資訊，請參閱[Microsoft.WindowsAzure.Storage.RetryPolicies 命名空間](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-422">For more information about how tooimplement retry policies using hello Storage Client Library, see [Microsoft.WindowsAzure.Storage.RetryPolicies Namespace](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-423">您也可能會看到 hello 值中的高峰**PercentThrottlingError**的不一致的 hello 應用程式大量活動期間與： 這裡 hello 最可能的原因是移動資料分割 tooimprove 負載 hello 儲存體服務平衡。</span><span class="sxs-lookup"><span data-stu-id="ac5de-423">You may also see spikes in hello value of **PercentThrottlingError** that do not coincide with periods of high activity for hello application: hello most likely cause here is hello storage service moving partitions tooimprove load balancing.</span></span>
> 
> 

#### <span data-ttu-id="ac5de-424"><a name="permanent-increase-in-PercentThrottlingError"></a>PercentThrottlingError 錯誤中的永久性增加</span><span class="sxs-lookup"><span data-stu-id="ac5de-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="ac5de-425">如果您看到值一直很高**PercentThrottlingError**下列永久的增加交易的磁碟區，或執行您的初始載入時您的應用程式上測試，則您需要 tooevaluate您的應用程式如何使用儲存體的資料分割，它即將是否 hello 延展性目標儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-425">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need tooevaluate how your application is using storage partitions and whether it is approaching hello scalability targets for a storage account.</span></span> <span data-ttu-id="ac5de-426">例如，如果您看見期間發生節流錯誤 （其中會計算為單一磁碟分割） 的佇列上，然後您應該考慮使用其他佇列 toospread hello 交易橫跨多個資料分割。</span><span class="sxs-lookup"><span data-stu-id="ac5de-426">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues toospread hello transactions across multiple partitions.</span></span> <span data-ttu-id="ac5de-427">如果您看見期間發生節流錯誤的資料表上，您需要使用不同的資料分割配置 toospread tooconsider 交易橫跨多個資料分割使用廣泛的資料分割索引鍵值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-427">If you are seeing throttling errors on a table, you need tooconsider using a different partitioning scheme toospread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="ac5de-428">此問題的一個常見原因是 hello 前面加上/附加反面模式，其中您選取作為 hello 資料分割索引鍵的 hello 日期，然後在某特定日期的所有資料都寫入 tooone 磁碟分割： 在負載下，這會導致寫入瓶頸。</span><span class="sxs-lookup"><span data-stu-id="ac5de-428">One common cause of this issue is hello prepend/append anti-pattern where you select hello date as hello partition key and then all data on a particular day is written tooone partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="ac5de-429">您應該考慮採用不同的資料分割設計，或是評估使用 Blob 儲存體是否會更好。</span><span class="sxs-lookup"><span data-stu-id="ac5de-429">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="ac5de-430">您也應該檢查如果 hello 節流發生的結果中您的流量尖峰和調查平滑化您的要求模式的方式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-430">You should also check if hello throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="ac5de-431">如果您的交易分散多個資料分割時，您仍然必須留意 hello 設定 hello 儲存體帳戶的延展性限制。</span><span class="sxs-lookup"><span data-stu-id="ac5de-431">If you distribute your transactions across multiple partitions, you must still be aware of hello scalability limits set for hello storage account.</span></span> <span data-ttu-id="ac5de-432">例如，如果您使用十個佇列每秒 2000 個 1 KB 訊息的每個處理 hello 最大值時，您會在 hello 整體 20,000 每秒的訊息 hello 儲存體帳戶的限制。</span><span class="sxs-lookup"><span data-stu-id="ac5de-432">For example, if you used ten queues each processing hello maximum of 2,000 1KB messages per second, you will be at hello overall limit of 20,000 messages per second for hello storage account.</span></span> <span data-ttu-id="ac5de-433">如果您需要 tooprocess 秒超過 20,000 部實體時，您應該考慮使用多個儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-433">If you need tooprocess more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="ac5de-434">您應該也記住您的要求該 hello 大小和實體將會影響當 hello 儲存體服務節流處理您的用戶端： 如果您有較大的要求和實體，您可能會被調整更快。</span><span class="sxs-lookup"><span data-stu-id="ac5de-434">You should also bear in mind that hello size of your requests and entities has an impact on when hello storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="ac5de-435">效率不佳的查詢設計也可能導致您的資料表資料分割的 toohit hello 延展性限制。</span><span class="sxs-lookup"><span data-stu-id="ac5de-435">Inefficient query design can also cause you toohit hello scalability limits for table partitions.</span></span> <span data-ttu-id="ac5de-436">例如，具有篩選，只選取一個百分比 hello 實體的資料分割中，但會掃描所有資料分割中的 hello 實體的查詢需要 tooaccess 每個實體。</span><span class="sxs-lookup"><span data-stu-id="ac5de-436">For example, a query with a filter that only selects one percent of hello entities in a partition but that scans all hello entities in a partition will need tooaccess each entity.</span></span> <span data-ttu-id="ac5de-437">讀取的每個實體都會計入 hello 交易總數中該資料分割;因此，您可以輕鬆地連線到 hello 延展性目標。</span><span class="sxs-lookup"><span data-stu-id="ac5de-437">Every entity read will count towards hello total number of transactions in that partition; therefore, you can easily reach hello scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-438">您的效能測試作業應該會顯示應用程式中任何不敷使用的查詢設計。</span><span class="sxs-lookup"><span data-stu-id="ac5de-438">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="ac5de-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>度量顯示 PercentTimeoutError 增加</span><span class="sxs-lookup"><span data-stu-id="ac5de-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="ac5de-440">您的度量顯示其中一個儲存體服務的 **PercentTimeoutError** 有增加情況。</span><span class="sxs-lookup"><span data-stu-id="ac5de-440">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="ac5de-441">在 hello 相同時間、 hello 用戶端收到大量的 「 500 作業逾時 」 HTTP 狀態訊息來自儲存體作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-441">At hello same time, hello client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-442">您可能會看到移動資料分割 tooa 新伺服器負載平衡要求暫時為 hello 儲存體服務的逾時錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-442">You may see timeout errors temporarily as hello storage service load balances requests by moving a partition tooa new server.</span></span>
> 
> 

<span data-ttu-id="ac5de-443">hello **PercentTimeoutError**度量是彙總的 hello 下列度量： **ClientTimeoutError**， **AnonymousClientTimeoutError**， **SASClientTimeoutError**， **ServerTimeoutError**， **AnonymousServerTimeoutError**，和**SASServerTimeoutError**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-443">hello **PercentTimeoutError** metric is an aggregation of hello following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="ac5de-444">hello 伺服器逾時被因 hello 伺服器上發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-444">hello server timeouts are caused by an error on hello server.</span></span> <span data-ttu-id="ac5de-445">因為 hello 伺服器上的作業已超過 hello hello client 中; 所指定的逾時，就可能發生 hello 用戶端逾時例如，使用 hello 儲存體用戶端程式庫的用戶端時，可以透過 hello 設定作業逾時**ServerTimeout**屬性 hello **QueueRequestOptions**類別。</span><span class="sxs-lookup"><span data-stu-id="ac5de-445">hello client timeouts happen because an operation on hello server has exceeded hello timeout specified by hello client; for example, a client using hello Storage Client Library can set a timeout for an operation by using hello **ServerTimeout** property of hello **QueueRequestOptions** class.</span></span>

<span data-ttu-id="ac5de-446">伺服器逾時表示發生需要進一步調查的 hello 儲存體服務問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-446">Server timeouts indicate a problem with hello storage service that requires further investigation.</span></span> <span data-ttu-id="ac5de-447">如果到達 hello 服務和 tooidentify hello 延展性限制任何爆增情形，可能會造成這個問題的流量，您可以使用標準 toosee。</span><span class="sxs-lookup"><span data-stu-id="ac5de-447">You can use metrics toosee if you are hitting hello scalability limits for hello service and tooidentify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="ac5de-448">Hello 問題為間歇性，它可能是因為 tooload 平衡 hello 服務中的活動。</span><span class="sxs-lookup"><span data-stu-id="ac5de-448">If hello problem is intermittent, it may be due tooload-balancing activity in hello service.</span></span> <span data-ttu-id="ac5de-449">如果 hello 問題持續發生，且不會因達到 hello 服務的 hello 延展性限制的應用程式，您應該要引發的支援問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-449">If hello problem is persistent and is not caused by your application hitting hello scalability limits of hello service, you should raise a support issue.</span></span> <span data-ttu-id="ac5de-450">為用戶端逾時，您必須決定是否 hello 逾時，在 hello 用戶端設定 tooan 適當的值以及任一變更 hello 逾時值 hello 用戶端設定，或調查如何改善 hello 作業效能的 hello hello 儲存體服務中，為藉由資料表查詢最佳化或減少 hello 大小的訊息範例。</span><span class="sxs-lookup"><span data-stu-id="ac5de-450">For client timeouts, you must decide if hello timeout is set tooan appropriate value in hello client and either change hello timeout value set in hello client or investigate how you can improve hello performance of hello operations in hello storage service, for example by optimizing your table queries or reducing hello size of your messages.</span></span>

### <span data-ttu-id="ac5de-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>度量顯示 PercentNetworkError 增加</span><span class="sxs-lookup"><span data-stu-id="ac5de-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="ac5de-452">您的度量顯示其中一個儲存體服務的 **PercentNetworkError** 有增加情況。</span><span class="sxs-lookup"><span data-stu-id="ac5de-452">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="ac5de-453">hello **PercentNetworkError**度量是彙總的 hello 下列度量： **networkerror 的應用程式**， **AnonymousNetworkError**，和**SASNetworkError**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-453">hello **PercentNetworkError** metric is an aggregation of hello following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="ac5de-454">Hello 儲存體服務會偵測網路錯誤 hello 用戶端儲存體要求時，會發生這些。</span><span class="sxs-lookup"><span data-stu-id="ac5de-454">These occur when hello storage service detects a network error when hello client makes a storage request.</span></span>

<span data-ttu-id="ac5de-455">hello 這個錯誤最常見的原因是用戶端 hello 儲存體服務中的逾時到期前中斷連線。</span><span class="sxs-lookup"><span data-stu-id="ac5de-455">hello most common cause of this error is a client disconnecting before a timeout expires in hello storage service.</span></span> <span data-ttu-id="ac5de-456">在您的用戶端 toounderstand 為何和何時 hello 用戶端中斷連接從 hello 儲存體服務中，您應該調查 hello 程式碼。</span><span class="sxs-lookup"><span data-stu-id="ac5de-456">You should investigate hello code in your client toounderstand why and when hello client disconnects from hello storage service.</span></span> <span data-ttu-id="ac5de-457">您也可以使用 Wireshark、 Microsoft Message Analyzer 或 hello 用戶端從 Tcping tooinvestigate 網路連線問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-457">You can also use Wireshark, Microsoft Message Analyzer, or Tcping tooinvestigate network connectivity issues from hello client.</span></span> <span data-ttu-id="ac5de-458">這些工具，請參閱 hello[附錄]。</span><span class="sxs-lookup"><span data-stu-id="ac5de-458">These tools are described in hello [Appendices].</span></span>

### <span data-ttu-id="ac5de-459"><a name="the-client-is-receiving-403-messages"></a>hello 用戶端收到 HTTP 403 （禁止） 訊息</span><span class="sxs-lookup"><span data-stu-id="ac5de-459"><a name="the-client-is-receiving-403-messages"></a>hello client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="ac5de-460">如果用戶端應用程式會擲回 HTTP 403 （禁止） 錯誤，可能的原因是該 hello 用戶端傳送的儲存體要求 （雖然其他可能的原因包括時鐘誤差，無效的索引鍵，和空白時使用過期共用存取簽章 (SAS)標頭）。</span><span class="sxs-lookup"><span data-stu-id="ac5de-460">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that hello client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="ac5de-461">如果已過期的 SAS 金鑰 hello 可能的原因，不會看到 hello 伺服器端儲存體記錄的記錄資料中的任何項目。</span><span class="sxs-lookup"><span data-stu-id="ac5de-461">If an expired SAS key is hello cause, you will not see any entries in hello server-side Storage Logging log data.</span></span> <span data-ttu-id="ac5de-462">hello 下表顯示 hello hello 說明這個問題發生的儲存體用戶端程式庫所產生的用戶端記錄檔中的範例：</span><span class="sxs-lookup"><span data-stu-id="ac5de-462">hello following table shows a sample from hello client-side log generated by hello Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="ac5de-463">來源</span><span class="sxs-lookup"><span data-stu-id="ac5de-463">Source</span></span> | <span data-ttu-id="ac5de-464">詳細程度</span><span class="sxs-lookup"><span data-stu-id="ac5de-464">Verbosity</span></span> | <span data-ttu-id="ac5de-465">詳細程度</span><span class="sxs-lookup"><span data-stu-id="ac5de-465">Verbosity</span></span> | <span data-ttu-id="ac5de-466">用戶端要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-466">Client request id</span></span> | <span data-ttu-id="ac5de-467">作業內容</span><span class="sxs-lookup"><span data-stu-id="ac5de-467">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="ac5de-468">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-468">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-469">資訊</span><span class="sxs-lookup"><span data-stu-id="ac5de-469">Information</span></span> |<span data-ttu-id="ac5de-470">3</span><span class="sxs-lookup"><span data-stu-id="ac5de-470">3</span></span> |<span data-ttu-id="ac5de-471">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="ac5de-471">85d077ab-…</span></span> |<span data-ttu-id="ac5de-472">從主要位置開始作業 (依據位置模式 PrimaryOnly)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-472">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="ac5de-473">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-473">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-474">資訊</span><span class="sxs-lookup"><span data-stu-id="ac5de-474">Information</span></span> |<span data-ttu-id="ac5de-475">3</span><span class="sxs-lookup"><span data-stu-id="ac5de-475">3</span></span> |<span data-ttu-id="ac5de-476">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-476">85d077ab -…</span></span> |<span data-ttu-id="ac5de-477">啟動同步要求 toohttps://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr-iov = c&amp;si = mypolicy&amp;sig = OFnd4Rd7z01fIvh %2bmcr6zbudih2f5ikm%2FyhNYZEmJNQ %3d&amp;api-version = 2014年-02-14。</span><span class="sxs-lookup"><span data-stu-id="ac5de-477">Starting synchronous request toohttps://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="ac5de-478">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-478">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-479">資訊</span><span class="sxs-lookup"><span data-stu-id="ac5de-479">Information</span></span> |<span data-ttu-id="ac5de-480">3</span><span class="sxs-lookup"><span data-stu-id="ac5de-480">3</span></span> |<span data-ttu-id="ac5de-481">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-481">85d077ab -…</span></span> |<span data-ttu-id="ac5de-482">等候回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-482">Waiting for response.</span></span> |
| <span data-ttu-id="ac5de-483">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-483">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-484">警告</span><span class="sxs-lookup"><span data-stu-id="ac5de-484">Warning</span></span> |<span data-ttu-id="ac5de-485">2</span><span class="sxs-lookup"><span data-stu-id="ac5de-485">2</span></span> |<span data-ttu-id="ac5de-486">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-486">85d077ab -…</span></span> |<span data-ttu-id="ac5de-487">等待回應時擲回例外狀況： hello 遠端伺服器傳回錯誤: (403) 禁止...</span><span class="sxs-lookup"><span data-stu-id="ac5de-487">Exception thrown while waiting for response: hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="ac5de-488">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-488">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-489">資訊</span><span class="sxs-lookup"><span data-stu-id="ac5de-489">Information</span></span> |<span data-ttu-id="ac5de-490">3</span><span class="sxs-lookup"><span data-stu-id="ac5de-490">3</span></span> |<span data-ttu-id="ac5de-491">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-491">85d077ab -…</span></span> |<span data-ttu-id="ac5de-492">收到回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-492">Response received.</span></span> <span data-ttu-id="ac5de-493">狀態碼 = 403，要求 ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d，Content-MD5 =，ETag = .</span><span class="sxs-lookup"><span data-stu-id="ac5de-493">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ac5de-494">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-494">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-495">警告</span><span class="sxs-lookup"><span data-stu-id="ac5de-495">Warning</span></span> |<span data-ttu-id="ac5de-496">2</span><span class="sxs-lookup"><span data-stu-id="ac5de-496">2</span></span> |<span data-ttu-id="ac5de-497">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-497">85d077ab -…</span></span> |<span data-ttu-id="ac5de-498">Hello 作業期間擲回的例外狀況： hello 遠端伺服器傳回錯誤: (403) 禁止...</span><span class="sxs-lookup"><span data-stu-id="ac5de-498">Exception thrown during hello operation: hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="ac5de-499">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-499">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-500">資訊</span><span class="sxs-lookup"><span data-stu-id="ac5de-500">Information</span></span> |<span data-ttu-id="ac5de-501">3</span><span class="sxs-lookup"><span data-stu-id="ac5de-501">3</span></span> |<span data-ttu-id="ac5de-502">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-502">85d077ab -…</span></span> |<span data-ttu-id="ac5de-503">檢查是否 hello 應該重新嘗試操作。</span><span class="sxs-lookup"><span data-stu-id="ac5de-503">Checking if hello operation should be retried.</span></span> <span data-ttu-id="ac5de-504">重試計數 = 0 時，HTTP 狀態碼 = 403，例外狀況 = hello 遠端伺服器傳回錯誤: (403) 禁止...</span><span class="sxs-lookup"><span data-stu-id="ac5de-504">Retry count = 0, HTTP status code = 403, Exception = hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="ac5de-505">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-505">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-506">資訊</span><span class="sxs-lookup"><span data-stu-id="ac5de-506">Information</span></span> |<span data-ttu-id="ac5de-507">3</span><span class="sxs-lookup"><span data-stu-id="ac5de-507">3</span></span> |<span data-ttu-id="ac5de-508">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-508">85d077ab -…</span></span> |<span data-ttu-id="ac5de-509">hello 下一個位置已經設定 tooPrimary，根據 hello 位置模式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-509">hello next location has been set tooPrimary, based on hello location mode.</span></span> |
| <span data-ttu-id="ac5de-510">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ac5de-510">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ac5de-511">錯誤</span><span class="sxs-lookup"><span data-stu-id="ac5de-511">Error</span></span> |<span data-ttu-id="ac5de-512">1</span><span class="sxs-lookup"><span data-stu-id="ac5de-512">1</span></span> |<span data-ttu-id="ac5de-513">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="ac5de-513">85d077ab -…</span></span> |<span data-ttu-id="ac5de-514">重試原則不允許重試。</span><span class="sxs-lookup"><span data-stu-id="ac5de-514">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="ac5de-515">失敗與 hello 遠端伺服器傳回錯誤: (403) 禁止。</span><span class="sxs-lookup"><span data-stu-id="ac5de-515">Failing with hello remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="ac5de-516">在此案例中，您應該調查原因 hello SAS 權杖即將到期之前 hello 用戶端會傳送 hello 語彙基元 toohello 伺服器：</span><span class="sxs-lookup"><span data-stu-id="ac5de-516">In this scenario, you should investigate why hello SAS token is expiring before hello client sends hello token toohello server:</span></span>

* <span data-ttu-id="ac5de-517">一般而言，您不應該設定當您建立的用戶端 toouse SAS 立即的開始時間。</span><span class="sxs-lookup"><span data-stu-id="ac5de-517">Typically, you should not set a start time when you create a SAS for a client toouse immediately.</span></span> <span data-ttu-id="ac5de-518">如果小產生 hello SAS 使用 hello 主機之間時鐘差異 hello 目前時間與 hello 儲存體服務，它就可能會針對 hello 儲存體服務 tooreceive 尚未生效的 SAS。</span><span class="sxs-lookup"><span data-stu-id="ac5de-518">If there are small clock differences between hello host generating hello SAS using hello current time and hello storage service, then it is possible for hello storage service tooreceive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="ac5de-519">您不應該設定極短暫的 SAS 到期時間。</span><span class="sxs-lookup"><span data-stu-id="ac5de-519">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="ac5de-520">同樣地，產生的 hello 主機之間的小時鐘差異 hello SAS 和 hello 儲存體服務可能會導致 tooa SAS 明顯比預期提早過期。</span><span class="sxs-lookup"><span data-stu-id="ac5de-520">Again, small clock differences between hello host generating hello SAS and hello storage service can lead tooa SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="ac5de-521">沒有 hello hello SAS 金鑰中的版本參數 (例如**sv = 2015年-04-05**) 比對 hello 版的 hello 您使用的儲存體用戶端程式庫？</span><span class="sxs-lookup"><span data-stu-id="ac5de-521">Does hello version parameter in hello SAS key (for example **sv=2015-04-05**) match hello version of hello Storage Client Library you are using?</span></span> <span data-ttu-id="ac5de-522">我們建議您一律使用 hello 最新版 hello[儲存體用戶端程式庫](https://www.nuget.org/packages/WindowsAzure.Storage/)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-522">We recommend that you always use hello latest version of hello [Storage Client Library](https://www.nuget.org/packages/WindowsAzure.Storage/).</span></span>
* <span data-ttu-id="ac5de-523">如果您重新產生儲存體存取金鑰，會讓任何現有的 SAS 權杖失效。</span><span class="sxs-lookup"><span data-stu-id="ac5de-523">If you regenerate your storage access keys, this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="ac5de-524">如果您產生 SAS 權杖與用戶端應用程式 toocache 長時間的到期時間，這可能是發生問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-524">This may be an issue if you generate SAS tokens with a long expiry time for client applications toocache.</span></span>

<span data-ttu-id="ac5de-525">如果您使用 hello 儲存體用戶端程式庫 toogenerate SAS 權杖，它是簡單 toobuild 有效的語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ac5de-525">If you are using hello Storage Client Library toogenerate SAS tokens, then it is easy toobuild a valid token.</span></span> <span data-ttu-id="ac5de-526">不過，如果您是使用 hello 儲存體 REST API，並以手動方式建構 hello SAS 權杖您應該仔細閱讀 hello 主題[使用共用存取簽章的委派存取](http://msdn.microsoft.com/library/azure/ee395415.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-526">However, if you are using hello Storage REST API and constructing hello SAS tokens by hand you should carefully read hello topic [Delegating Access with a Shared Access Signature](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span></span>

### <span data-ttu-id="ac5de-527"><a name="the-client-is-receiving-404-messages"></a>hello 用戶端接收 HTTP 404 （找不到） 訊息</span><span class="sxs-lookup"><span data-stu-id="ac5de-527"><a name="the-client-is-receiving-404-messages"></a>hello client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="ac5de-528">若從 hello 伺服器 hello 用戶端應用程式接收 HTTP 404 （找不到） 訊息時，則表示該 hello 物件 hello 用戶端嘗試 toouse （例如實體、 資料表、 blob、 容器或佇列） 不存在於 hello 儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-528">If hello client application receives an HTTP 404 (Not found) message from hello server, this implies that hello object hello client was attempting toouse (such as an entity, table, blob, container, or queue) does not exist in hello storage service.</span></span> <span data-ttu-id="ac5de-529">這種情況有數種可能的原因，例如：</span><span class="sxs-lookup"><span data-stu-id="ac5de-529">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="ac5de-530">[hello 用戶端或另一個處理序之前遭到刪除 hello 物件]</span><span class="sxs-lookup"><span data-stu-id="ac5de-530">[hello client or another process previously deleted hello object]</span></span>
* <span data-ttu-id="ac5de-531">[共用存取簽章 (SAS) 授權問題]</span><span class="sxs-lookup"><span data-stu-id="ac5de-531">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="ac5de-532">[用戶端 JavaScript 程式碼沒有權限 tooaccess hello 物件]</span><span class="sxs-lookup"><span data-stu-id="ac5de-532">[Client-side JavaScript code does not have permission tooaccess hello object]</span></span>
* <span data-ttu-id="ac5de-533">[網路失敗]</span><span class="sxs-lookup"><span data-stu-id="ac5de-533">[Network failure]</span></span>

#### <span data-ttu-id="ac5de-534"><a name="client-previously-deleted-the-object"></a>hello 用戶端或另一個處理序之前遭到刪除 hello 物件</span><span class="sxs-lookup"><span data-stu-id="ac5de-534"><a name="client-previously-deleted-the-object"></a>hello client or another process previously deleted hello object</span></span>
<span data-ttu-id="ac5de-535">Hello 用戶端嘗試 tooread、 更新或刪除資料，通常是對儲存體服務中的案例中輕鬆 tooidentify hello 伺服器端記錄從 hello 儲存體服務中刪除有問題的 hello 物件先前的作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-535">In scenarios where hello client is attempting tooread, update, or delete data in a storage service it is usually easy tooidentify in hello server-side logs a previous operation that deleted hello object in question from hello storage service.</span></span> <span data-ttu-id="ac5de-536">通常，hello 記錄資料會顯示另一個使用者或處理序已刪除的 hello 物件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-536">Very often, hello log data shows that another user or process deleted hello object.</span></span> <span data-ttu-id="ac5de-537">Hello 伺服器端儲存體記錄 」 記錄檔中，hello 作業類型和要求的物件索引鍵資料行顯示當用戶端刪除物件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-537">In hello server-side Storage Logging log, hello operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="ac5de-538">在用戶端嘗試 tooinsert 物件 hello 案例中，它可能不會立即為什麼這會導致 HTTP 404 （找不到） 回應的 hello 用戶端會建立新的物件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-538">In hello scenario where a client is attempting tooinsert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that hello client is creating a new object.</span></span> <span data-ttu-id="ac5de-539">不過，如果 hello 用戶端會建立的 blob，它必須能夠 toofind hello blob 容器，如果 hello 用戶端會建立訊息，它必須能夠 toofind 佇列中，如果 hello 用戶端會將資料列它必須是能夠 toofind hello 資料表。</span><span class="sxs-lookup"><span data-stu-id="ac5de-539">However, if hello client is creating a blob it must be able toofind hello blob container, if hello client is creating a message it must be able toofind a queue, and if hello client is adding a row it must be able toofind hello table.</span></span>

<span data-ttu-id="ac5de-540">您可以使用 hello 儲存體用戶端程式庫 toogain 的更詳細的了解當 hello 用戶端傳送的特定要求 toohello 儲存體服務中的 hello 用戶端記錄檔。</span><span class="sxs-lookup"><span data-stu-id="ac5de-540">You can use hello client-side log from hello Storage Client Library toogain a more detailed understanding of when hello client sends specific requests toohello storage service.</span></span>

<span data-ttu-id="ac5de-541">hello hello 儲存體用戶端程式庫產生的下列用戶端記錄檔會說明 hello 問題時 hello 用戶端找不到 hello 容器建立 hello blob。</span><span class="sxs-lookup"><span data-stu-id="ac5de-541">hello following client-side log generated by hello Storage Client library illustrates hello problem when hello client cannot find hello container for hello blob it is creating.</span></span> <span data-ttu-id="ac5de-542">此記錄檔包含 hello 下列儲存體作業的詳細資料：</span><span class="sxs-lookup"><span data-stu-id="ac5de-542">This log includes details of hello following storage operations:</span></span>

| <span data-ttu-id="ac5de-543">要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-543">Request ID</span></span> | <span data-ttu-id="ac5de-544">作業</span><span class="sxs-lookup"><span data-stu-id="ac5de-544">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="ac5de-545">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-545">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-546">**DeleteIfExists**方法 toodelete hello blob 容器。</span><span class="sxs-lookup"><span data-stu-id="ac5de-546">**DeleteIfExists** method toodelete hello blob container.</span></span> <span data-ttu-id="ac5de-547">請注意，這項作業包括**HEAD**要求 toocheck hello hello 容器是否存在。</span><span class="sxs-lookup"><span data-stu-id="ac5de-547">Note that this operation includes a **HEAD** request toocheck for hello existence of hello container.</span></span> |
| <span data-ttu-id="ac5de-548">e2d06d78…</span><span class="sxs-lookup"><span data-stu-id="ac5de-548">e2d06d78…</span></span> |<span data-ttu-id="ac5de-549">**CreateIfNotExists**方法 toocreate hello blob 容器。</span><span class="sxs-lookup"><span data-stu-id="ac5de-549">**CreateIfNotExists** method toocreate hello blob container.</span></span> <span data-ttu-id="ac5de-550">請注意，這項作業包括**HEAD**檢查 hello hello 容器是否存在的要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-550">Note that this operation includes a **HEAD** request that checks for hello existence of hello container.</span></span> <span data-ttu-id="ac5de-551">hello **HEAD**傳回 404 訊息，但是仍會繼續。</span><span class="sxs-lookup"><span data-stu-id="ac5de-551">hello **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="ac5de-552">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-552">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-553">**UploadFromStream**方法 toocreate hello blob。</span><span class="sxs-lookup"><span data-stu-id="ac5de-553">**UploadFromStream** method toocreate hello blob.</span></span> <span data-ttu-id="ac5de-554">hello**放**404 訊息要求會失敗</span><span class="sxs-lookup"><span data-stu-id="ac5de-554">hello **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="ac5de-555">記錄項目：</span><span class="sxs-lookup"><span data-stu-id="ac5de-555">Log entries:</span></span>

| <span data-ttu-id="ac5de-556">要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-556">Request ID</span></span> | <span data-ttu-id="ac5de-557">作業內容</span><span class="sxs-lookup"><span data-stu-id="ac5de-557">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="ac5de-558">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-558">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-559">正在啟動 toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer 同步要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-559">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="ac5de-560">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-560">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-561">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ac5de-561">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ac5de-562">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-562">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-563">等候回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-563">Waiting for response.</span></span> |
| <span data-ttu-id="ac5de-564">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-564">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-565">收到回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-565">Response received.</span></span> <span data-ttu-id="ac5de-566">狀態碼 = 200，要求 ID = eeead849-...Content-MD5 =，ETag =    &quot;0x8D14D2DC63D059B&quot;。</span><span class="sxs-lookup"><span data-stu-id="ac5de-566">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="ac5de-567">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-567">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-568">回應標頭已成功處理，與 hello hello 作業其餘部分繼續進行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-568">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="ac5de-569">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-569">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-570">正在下載回應內文。</span><span class="sxs-lookup"><span data-stu-id="ac5de-570">Downloading response body.</span></span> |
| <span data-ttu-id="ac5de-571">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-571">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-572">作業順利完成。</span><span class="sxs-lookup"><span data-stu-id="ac5de-572">Operation completed successfully.</span></span> |
| <span data-ttu-id="ac5de-573">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-573">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-574">正在啟動 toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer 同步要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-574">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="ac5de-575">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-575">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-576">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ac5de-576">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ac5de-577">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-577">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-578">等候回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-578">Waiting for response.</span></span> |
| <span data-ttu-id="ac5de-579">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-579">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-580">收到回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-580">Response received.</span></span> <span data-ttu-id="ac5de-581">狀態碼 = 202，要求 ID = 6ab2a4cf-...，Content-MD5 = ，ETag = .</span><span class="sxs-lookup"><span data-stu-id="ac5de-581">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ac5de-582">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-582">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-583">回應標頭已成功處理，與 hello hello 作業其餘部分繼續進行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-583">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="ac5de-584">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-584">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-585">正在下載回應內文。</span><span class="sxs-lookup"><span data-stu-id="ac5de-585">Downloading response body.</span></span> |
| <span data-ttu-id="ac5de-586">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-586">07b26a5d-...</span></span> |<span data-ttu-id="ac5de-587">作業順利完成。</span><span class="sxs-lookup"><span data-stu-id="ac5de-587">Operation completed successfully.</span></span> |
| <span data-ttu-id="ac5de-588">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-588">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-589">開始非同步要求 toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer。</span><span class="sxs-lookup"><span data-stu-id="ac5de-589">Starting asynchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="ac5de-590">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-590">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-591">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ac5de-591">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ac5de-592">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-592">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-593">等候回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-593">Waiting for response.</span></span> |
| <span data-ttu-id="ac5de-594">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-594">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-595">正在啟動 toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt 同步要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-595">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="ac5de-596">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-596">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-597">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="ac5de-597">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="ac5de-598">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-598">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-599">正在準備 toowrite 要求資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-599">Preparing toowrite request data.</span></span> |
| <span data-ttu-id="ac5de-600">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-600">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-601">等待回應時擲回例外狀況： hello 遠端伺服器傳回錯誤: (404) 找不到資料庫...</span><span class="sxs-lookup"><span data-stu-id="ac5de-601">Exception thrown while waiting for response: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ac5de-602">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-602">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-603">收到回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-603">Response received.</span></span> <span data-ttu-id="ac5de-604">狀態碼 = 404，要求 ID = 353ae3bc-...，Content-MD5 = ，ETag = .</span><span class="sxs-lookup"><span data-stu-id="ac5de-604">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ac5de-605">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-605">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-606">回應標頭已成功處理，與 hello hello 作業其餘部分繼續進行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-606">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="ac5de-607">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-607">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-608">正在下載回應內文。</span><span class="sxs-lookup"><span data-stu-id="ac5de-608">Downloading response body.</span></span> |
| <span data-ttu-id="ac5de-609">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-609">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-610">作業順利完成。</span><span class="sxs-lookup"><span data-stu-id="ac5de-610">Operation completed successfully.</span></span> |
| <span data-ttu-id="ac5de-611">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-611">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-612">開始非同步要求 toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer。</span><span class="sxs-lookup"><span data-stu-id="ac5de-612">Starting asynchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="ac5de-613">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-613">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-614">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ac5de-614">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ac5de-615">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-615">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-616">等候回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-616">Waiting for response.</span></span> |
| <span data-ttu-id="ac5de-617">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-617">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-618">正在寫入要求資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-618">Writing request data.</span></span> |
| <span data-ttu-id="ac5de-619">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-619">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-620">等候回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-620">Waiting for response.</span></span> |
| <span data-ttu-id="ac5de-621">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-621">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-622">等待回應時擲回例外狀況： hello 遠端伺服器傳回錯誤: (409) 衝突...</span><span class="sxs-lookup"><span data-stu-id="ac5de-622">Exception thrown while waiting for response: hello remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="ac5de-623">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-623">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-624">收到回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-624">Response received.</span></span> <span data-ttu-id="ac5de-625">狀態碼 = 409，要求 ID = c27da20e-...，Content-MD5 = ，ETag = .</span><span class="sxs-lookup"><span data-stu-id="ac5de-625">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ac5de-626">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-626">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-627">正在下載錯誤回應內文。</span><span class="sxs-lookup"><span data-stu-id="ac5de-627">Downloading error response body.</span></span> |
| <span data-ttu-id="ac5de-628">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-628">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-629">等待回應時擲回例外狀況： hello 遠端伺服器傳回錯誤: (404) 找不到資料庫...</span><span class="sxs-lookup"><span data-stu-id="ac5de-629">Exception thrown while waiting for response: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ac5de-630">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-630">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-631">收到回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-631">Response received.</span></span> <span data-ttu-id="ac5de-632">狀態碼 = 404，回應 ID = 0eaeab3e-...，Content-MD5 = ，ETag = .</span><span class="sxs-lookup"><span data-stu-id="ac5de-632">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ac5de-633">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-633">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-634">Hello 作業期間擲回的例外狀況： hello 遠端伺服器傳回錯誤: (404) 找不到資料庫...</span><span class="sxs-lookup"><span data-stu-id="ac5de-634">Exception thrown during hello operation: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ac5de-635">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-635">de8b1c3c-...</span></span> |<span data-ttu-id="ac5de-636">重試原則不允許重試。</span><span class="sxs-lookup"><span data-stu-id="ac5de-636">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="ac5de-637">失敗與 hello 遠端伺服器傳回錯誤: (404) 找不到資料庫...</span><span class="sxs-lookup"><span data-stu-id="ac5de-637">Failing with hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ac5de-638">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ac5de-638">e2d06d78-...</span></span> |<span data-ttu-id="ac5de-639">重試原則不允許重試。</span><span class="sxs-lookup"><span data-stu-id="ac5de-639">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="ac5de-640">失敗與 hello 遠端伺服器傳回錯誤: (409) 衝突...</span><span class="sxs-lookup"><span data-stu-id="ac5de-640">Failing with hello remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="ac5de-641">在此範例中，hello 記錄檔會顯示該 hello 用戶端會交錯源自 hello **CreateIfNotExists**方法 (...要求識別碼 e2d06d78) 與 hello 源自 hello **UploadFromStream**方法 (de8b1c3c-...）。發生此問題因為 hello 用戶端應用程式會叫用這些方法以非同步的方式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-641">In this example, hello log shows that hello client is interleaving requests from hello **CreateIfNotExists** method (request id e2d06d78…) with hello requests from hello **UploadFromStream** method (de8b1c3c-...); this is happening because hello client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="ac5de-642">您應該修改它建立 hello 容器嘗試 tooupload 任何資料 tooa blob 容器中的 hello 用戶端 tooensure hello 非同步程式碼。</span><span class="sxs-lookup"><span data-stu-id="ac5de-642">You should modify hello asynchronous code in hello client tooensure that it creates hello container before attempting tooupload any data tooa blob in that container.</span></span> <span data-ttu-id="ac5de-643">理想的情況是，您應該事先建立所有容器。</span><span class="sxs-lookup"><span data-stu-id="ac5de-643">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="ac5de-644"><a name="SAS-authorization-issue"></a>共用存取簽章 (SAS) 授權問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-644"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="ac5de-645">如果 hello 用戶端應用程式嘗試 toouse 不包含 hello hello 作業的必要權限的 SAS 金鑰，hello 儲存體服務會傳回 HTTP 404 （找不到） 訊息 toohello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-645">If hello client application attempts toouse a SAS key that does not include hello necessary permissions for hello operation, hello storage service returns an HTTP 404 (Not found) message toohello client.</span></span> <span data-ttu-id="ac5de-646">在 hello 相同時，您也會看到的非零值**SASAuthorizationError** hello 標準中。</span><span class="sxs-lookup"><span data-stu-id="ac5de-646">At hello same time, you will also see a non-zero value for **SASAuthorizationError** in hello metrics.</span></span>

<span data-ttu-id="ac5de-647">hello 下表顯示從 hello 儲存體記錄 」 記錄檔的範例伺服器端記錄檔訊息：</span><span class="sxs-lookup"><span data-stu-id="ac5de-647">hello following table shows a sample server-side log message from hello Storage Logging log file:</span></span>

| <span data-ttu-id="ac5de-648">名稱</span><span class="sxs-lookup"><span data-stu-id="ac5de-648">Name</span></span> | <span data-ttu-id="ac5de-649">值</span><span class="sxs-lookup"><span data-stu-id="ac5de-649">Value</span></span> |
| --- | --- |
| <span data-ttu-id="ac5de-650">要求開始時間</span><span class="sxs-lookup"><span data-stu-id="ac5de-650">Request start time</span></span> | <span data-ttu-id="ac5de-651">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="ac5de-651">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="ac5de-652">作業類型</span><span class="sxs-lookup"><span data-stu-id="ac5de-652">Operation type</span></span>     | <span data-ttu-id="ac5de-653">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="ac5de-653">GetBlobProperties</span></span>            |
| <span data-ttu-id="ac5de-654">要求狀態</span><span class="sxs-lookup"><span data-stu-id="ac5de-654">Request status</span></span>     | <span data-ttu-id="ac5de-655">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="ac5de-655">SASAuthorizationError</span></span>        |
| <span data-ttu-id="ac5de-656">HTTP 狀態碼</span><span class="sxs-lookup"><span data-stu-id="ac5de-656">HTTP status code</span></span>   | <span data-ttu-id="ac5de-657">404</span><span class="sxs-lookup"><span data-stu-id="ac5de-657">404</span></span>                          |
| <span data-ttu-id="ac5de-658">驗證類型</span><span class="sxs-lookup"><span data-stu-id="ac5de-658">Authentication type</span></span>| <span data-ttu-id="ac5de-659">Sas</span><span class="sxs-lookup"><span data-stu-id="ac5de-659">Sas</span></span>                          |
| <span data-ttu-id="ac5de-660">服務類型</span><span class="sxs-lookup"><span data-stu-id="ac5de-660">Service type</span></span>       | <span data-ttu-id="ac5de-661">Blob</span><span class="sxs-lookup"><span data-stu-id="ac5de-661">Blob</span></span>                         |
| <span data-ttu-id="ac5de-662">要求 URL</span><span class="sxs-lookup"><span data-stu-id="ac5de-662">Request URL</span></span>        | <span data-ttu-id="ac5de-663">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="ac5de-663">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="ac5de-664">nbsp;</span><span class="sxs-lookup"><span data-stu-id="ac5de-664">nbsp;</span></span>              |   <span data-ttu-id="ac5de-665">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span><span class="sxs-lookup"><span data-stu-id="ac5de-665">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="ac5de-666">要求 ID 標頭</span><span class="sxs-lookup"><span data-stu-id="ac5de-666">Request id header</span></span>  | <span data-ttu-id="ac5de-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="ac5de-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="ac5de-668">用戶端要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-668">Client request ID</span></span>  | <span data-ttu-id="ac5de-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="ac5de-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |


<span data-ttu-id="ac5de-670">您應該調查為什麼用戶端應用程式正在嘗試 tooperform 它未被授與的權限的作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-670">You should investigate why your client application is attempting tooperform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="ac5de-671"><a name="JavaScript-code-does-not-have-permission"></a>用戶端 JavaScript 程式碼沒有權限 tooaccess hello 物件</span><span class="sxs-lookup"><span data-stu-id="ac5de-671"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission tooaccess hello object</span></span>
<span data-ttu-id="ac5de-672">如果您使用 JavaScript 用戶端 hello 儲存體服務傳回 HTTP 404 訊息，您檢查下列 hello 瀏覽器中的 JavaScript 錯誤 hello:</span><span class="sxs-lookup"><span data-stu-id="ac5de-672">If you are using a JavaScript client and hello storage service is returning HTTP 404 messages, you check for hello following JavaScript errors in hello browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="ac5de-673">您可以使用 hello F12 開發人員工具，您會將用戶端 JavaScript 問題進行疑難排解時，hello 瀏覽器和 hello 儲存體服務之間交換的 Internet Explorer tootrace hello 訊息中。</span><span class="sxs-lookup"><span data-stu-id="ac5de-673">You can use hello F12 Developer Tools in Internet Explorer tootrace hello messages exchanged between hello browser and hello storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="ac5de-674">這些錯誤的發生原因 hello web 瀏覽器實作 hello[相同來源原則](http://www.w3.org/Security/wiki/Same_Origin_Policy)來自於可防止網頁呼叫 hello 網域 hello 頁面上的不同網域中的應用程式開發介面的安全性限制。</span><span class="sxs-lookup"><span data-stu-id="ac5de-674">These errors occur because hello web browser implements hello [same origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) security restriction that prevents a web page from calling an API in a different domain from hello domain hello page comes from.</span></span>

<span data-ttu-id="ac5de-675">toowork 周圍 hello JavaScript 問題，您可以設定跨原始資源共用 (CORS) hello 儲存體服務 hello 用戶端正在存取。</span><span class="sxs-lookup"><span data-stu-id="ac5de-675">toowork around hello JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for hello storage service hello client is accessing.</span></span> <span data-ttu-id="ac5de-676">如需詳細資訊，請參閱 [Azure 儲存體服務的跨原始資源共用 (CORS) 支援](http://msdn.microsoft.com/library/azure/dn535601.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-676">For more information, see [Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>

<span data-ttu-id="ac5de-677">hello，下列程式碼範例顯示如何 tooconfigure 您的 blob 服務 tooallow JavaScript hello Contoso 網域 tooaccess 中執行您的 blob 儲存體服務中的 blob:</span><span class="sxs-lookup"><span data-stu-id="ac5de-677">hello following code sample shows how tooconfigure your blob service tooallow JavaScript running in hello Contoso domain tooaccess a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set hello service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="ac5de-678"><a name="network-failure"></a>網路失敗</span><span class="sxs-lookup"><span data-stu-id="ac5de-678"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="ac5de-679">在某些情況下，遺失的網路封包可能會導致 toohello 儲存體服務會傳回 HTTP 404 訊息 toohello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-679">In some circumstances, lost network packets can lead toohello storage service returning HTTP 404 messages toohello client.</span></span> <span data-ttu-id="ac5de-680">例如，用戶端應用程式從 hello 表格服務中刪除實體時您看到 hello 用戶端擲回儲存體例外狀況報告 「 HTTP 404 （找不到） 」 與 hello 表格服務的狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="ac5de-680">For example, when your client application is deleting an entity from hello table service you see hello client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from hello table service.</span></span> <span data-ttu-id="ac5de-681">當您調查 hello 資料表儲存體服務中的 hello 資料表時，您會看到 hello 服務未刪除 hello 實體，因為要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-681">When you investigate hello table in hello table storage service, you see that hello service did delete hello entity as requested.</span></span>

<span data-ttu-id="ac5de-682">hello hello 用戶端中的例外狀況詳細資料包括指派 hello 表格服務的 hello 要求 hello 要求識別碼 (7e84f12d...): 您可以使用此資訊 toolocate hello 要求詳細資料中 hello 伺服器端儲存體記錄搜尋中 hello **要求識別碼標頭**hello 記錄檔中的資料行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-682">hello exception details in hello client include hello request id (7e84f12d…) assigned by hello table service for hello request: you can use this information toolocate hello request details in hello server-side storage logs by searching in hello **request-id-header** column in hello log file.</span></span> <span data-ttu-id="ac5de-683">您也可以使用 hello 度量 tooidentify 時失敗，例如這發生，然後搜尋 hello 根據 hello 時間 hello 度量的記錄檔記錄這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-683">You could also use hello metrics tooidentify when failures such as this occur and then search hello log files based on hello time hello metrics recorded this error.</span></span> <span data-ttu-id="ac5de-684">Hello 刪除此記錄項目顯示失敗並出現 「 HTTP (404) 用戶端其他錯誤 」 狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="ac5de-684">This log entry shows that hello delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="ac5de-685">hello 相同記錄檔項目也包括 hello hello hello 中的用戶端所產生的要求識別碼**用戶端要求 id**資料行 (813ea74f...)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-685">hello same log entry also includes hello request id generated by hello client in hello **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="ac5de-686">hello 伺服器端記錄檔也包含另一個項目以 hello 相同**用戶端要求 id**值 (813ea74f...) 成功刪除作業 hello 相同的實體，並從 hello 相同用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-686">hello server-side log also includes another entry with hello same **client-request-id** value (813ea74f…) for a successful delete operation for hello same entity, and from hello same client.</span></span> <span data-ttu-id="ac5de-687">這項作業成功刪除 hello 無法的刪除要求之前的非常短時間內發生。</span><span class="sxs-lookup"><span data-stu-id="ac5de-687">This successful delete operation took place very shortly before hello failed delete request.</span></span>

<span data-ttu-id="ac5de-688">此案例的 hello 最可能的原因是傳送 hello 實體 toohello 資料表服務成功，但未收到收條 hello 伺服器 （可能是因為 tooa 暫時性網路問題） 將 delete 要求該 hello 用戶端。</span><span class="sxs-lookup"><span data-stu-id="ac5de-688">hello most likely cause of this scenario is that hello client sent a delete request for hello entity toohello table service, which succeeded, but did not receive an acknowledgement from hello server (perhaps due tooa temporary network issue).</span></span> <span data-ttu-id="ac5de-689">hello 用戶端再自動重試 hello 作業 (使用 hello 相同**用戶端要求 id**)，且此重試失敗，因為 hello 實體已被刪除。</span><span class="sxs-lookup"><span data-stu-id="ac5de-689">hello client then automatically retried hello operation (using hello same **client-request-id**), and this retry failed because hello entity had already been deleted.</span></span>

<span data-ttu-id="ac5de-690">如果此問題持續發生，您應該調查 hello 用戶端為何無法 tooreceive hello 表格服務發出的通知。</span><span class="sxs-lookup"><span data-stu-id="ac5de-690">If this problem occurs frequently, you should investigate why hello client is failing tooreceive acknowledgements from hello table service.</span></span> <span data-ttu-id="ac5de-691">如果 hello 問題為間歇性，您應該捕捉 hello 「 HTTP (404) 找不到 」 錯誤和記錄在 hello 用戶端，但允許 hello 用戶端 toocontinue。</span><span class="sxs-lookup"><span data-stu-id="ac5de-691">If hello problem is intermittent, you should trap hello "HTTP (404) Not Found" error and log it in hello client, but allow hello client toocontinue.</span></span>

### <span data-ttu-id="ac5de-692"><a name="the-client-is-receiving-409-messages"></a>hello 用戶端接收 HTTP 409 （衝突） 訊息</span><span class="sxs-lookup"><span data-stu-id="ac5de-692"><a name="the-client-is-receiving-409-messages"></a>hello client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="ac5de-693">hello 下表顯示內容擷取自兩個用戶端作業的 hello 伺服器端記錄： **DeleteIfExists**立即接著**CreateIfNotExists**使用 hello 相同的 blob 容器名稱。</span><span class="sxs-lookup"><span data-stu-id="ac5de-693">hello following table shows an extract from hello server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using hello same blob container name.</span></span> <span data-ttu-id="ac5de-694">請注意，每個用戶端作業會導致兩個要求傳送 toohello server，第一次**GetContainerProperties**要求 toocheck hello 容器已存在，後面再接著 hello **DeleteContainer**或**CreateContainer**要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-694">Note that each client operation results in two requests sent toohello server, first a **GetContainerProperties** request toocheck if hello container exists, followed by hello **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="ac5de-695">Timestamp</span><span class="sxs-lookup"><span data-stu-id="ac5de-695">Timestamp</span></span> | <span data-ttu-id="ac5de-696">作業</span><span class="sxs-lookup"><span data-stu-id="ac5de-696">Operation</span></span> | <span data-ttu-id="ac5de-697">結果</span><span class="sxs-lookup"><span data-stu-id="ac5de-697">Result</span></span> | <span data-ttu-id="ac5de-698">容器名稱</span><span class="sxs-lookup"><span data-stu-id="ac5de-698">Container name</span></span> | <span data-ttu-id="ac5de-699">用戶端要求 ID</span><span class="sxs-lookup"><span data-stu-id="ac5de-699">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="ac5de-700">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="ac5de-700">05:10:13.7167225</span></span> |<span data-ttu-id="ac5de-701">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="ac5de-701">GetContainerProperties</span></span> |<span data-ttu-id="ac5de-702">200</span><span class="sxs-lookup"><span data-stu-id="ac5de-702">200</span></span> |<span data-ttu-id="ac5de-703">mmcont</span><span class="sxs-lookup"><span data-stu-id="ac5de-703">mmcont</span></span> |<span data-ttu-id="ac5de-704">c9f52c89-…</span><span class="sxs-lookup"><span data-stu-id="ac5de-704">c9f52c89-…</span></span> |
| <span data-ttu-id="ac5de-705">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="ac5de-705">05:10:13.8167325</span></span> |<span data-ttu-id="ac5de-706">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="ac5de-706">DeleteContainer</span></span> |<span data-ttu-id="ac5de-707">202</span><span class="sxs-lookup"><span data-stu-id="ac5de-707">202</span></span> |<span data-ttu-id="ac5de-708">mmcont</span><span class="sxs-lookup"><span data-stu-id="ac5de-708">mmcont</span></span> |<span data-ttu-id="ac5de-709">c9f52c89-…</span><span class="sxs-lookup"><span data-stu-id="ac5de-709">c9f52c89-…</span></span> |
| <span data-ttu-id="ac5de-710">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="ac5de-710">05:10:13.8987407</span></span> |<span data-ttu-id="ac5de-711">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="ac5de-711">GetContainerProperties</span></span> |<span data-ttu-id="ac5de-712">404</span><span class="sxs-lookup"><span data-stu-id="ac5de-712">404</span></span> |<span data-ttu-id="ac5de-713">mmcont</span><span class="sxs-lookup"><span data-stu-id="ac5de-713">mmcont</span></span> |<span data-ttu-id="ac5de-714">bc881924-…</span><span class="sxs-lookup"><span data-stu-id="ac5de-714">bc881924-…</span></span> |
| <span data-ttu-id="ac5de-715">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="ac5de-715">05:10:14.2147723</span></span> |<span data-ttu-id="ac5de-716">CreateContainer</span><span class="sxs-lookup"><span data-stu-id="ac5de-716">CreateContainer</span></span> |<span data-ttu-id="ac5de-717">409</span><span class="sxs-lookup"><span data-stu-id="ac5de-717">409</span></span> |<span data-ttu-id="ac5de-718">mmcont</span><span class="sxs-lookup"><span data-stu-id="ac5de-718">mmcont</span></span> |<span data-ttu-id="ac5de-719">bc881924-…</span><span class="sxs-lookup"><span data-stu-id="ac5de-719">bc881924-…</span></span> |

<span data-ttu-id="ac5de-720">hello hello 用戶端應用程式中的程式碼會刪除，然後立即重新建立 blob 容器使用 hello 相同的名稱： hello **CreateIfNotExists**方法 （用戶端要求 ID bc881924-...） 會因 hello HTTP 409 （衝突），最後發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="ac5de-720">hello code in hello client application deletes and then immediately recreates a blob container using hello same name: hello **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with hello HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="ac5de-721">當用戶端刪除 blob 容器、 資料表或佇列沒有之前一小段時間 hello 名稱再次變為無法使用。</span><span class="sxs-lookup"><span data-stu-id="ac5de-721">When a client deletes blob containers, tables, or queues there is a brief period before hello name becomes available again.</span></span>

<span data-ttu-id="ac5de-722">hello 用戶端應用程式應該使用唯一容器名稱，只要它會建立新的容器，如果常 hello 刪除/重新建立模式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-722">hello client application should use unique container names whenever it creates new containers if hello delete/recreate pattern is common.</span></span>

### <span data-ttu-id="ac5de-723"><a name="metrics-show-low-percent-success"></a>度量顯示低 PercentSuccess，或是分析記錄項目內含具有 ClientOtherErrors 交易狀態的作業項目</span><span class="sxs-lookup"><span data-stu-id="ac5de-723"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="ac5de-724">hello **PercentSuccess**度量擷取的作業都順利完成其 HTTP 狀態碼為基礎的 hello 百分比。</span><span class="sxs-lookup"><span data-stu-id="ac5de-724">hello **PercentSuccess** metric captures hello percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="ac5de-725">作業的狀態碼 2XX 計數為成功，而與 3XX、 4XX 和 5XX 範圍中的狀態碼的作業會視為不成功和較低的 hello **PercentSucess**公制值。</span><span class="sxs-lookup"><span data-stu-id="ac5de-725">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower hello **PercentSucess** metric value.</span></span> <span data-ttu-id="ac5de-726">在 hello 伺服器端儲存記錄檔，這些作業會記錄交易狀態為**ClientOtherErrors**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-726">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="ac5de-727">這些作業已成功完成，因此不會影響其他度量資訊，例如可用性的重要 toonote 它。</span><span class="sxs-lookup"><span data-stu-id="ac5de-727">It is important toonote that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="ac5de-728">以下作業範例顯示作業已成功執行，但卻出現不成功的 HTTP 狀態碼：</span><span class="sxs-lookup"><span data-stu-id="ac5de-728">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="ac5de-729">**ResourceNotFound** (未找到 404)，例如從 GET tooa blob，要求不存在。</span><span class="sxs-lookup"><span data-stu-id="ac5de-729">**ResourceNotFound** (Not Found 404), for example from a GET request tooa blob that does not exist.</span></span>
* <span data-ttu-id="ac5de-730">**ResouceAlreadyExists** (409 衝突)，例如從**CreateIfNotExist** hello 資源已經存在的作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-730">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where hello resource already exists.</span></span>
* <span data-ttu-id="ac5de-731">**ConditionNotMet** (未修改 304)，例如從的條件式作業，例如當用戶端傳送**ETag**值和 HTTP**如果 If-none-Match**標頭 toorequest 影像才hello 最後一個作業之後更新。</span><span class="sxs-lookup"><span data-stu-id="ac5de-731">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header toorequest an image only if it has been updated since hello last operation.</span></span>

<span data-ttu-id="ac5de-732">您可以找到常見 REST API 錯誤碼 hello 儲存體服務會傳回在 hello 頁面上的一份[常見的 REST API 錯誤碼](http://msdn.microsoft.com/library/azure/dd179357.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-732">You can find a list of common REST API error codes that hello storage services return on hello page [Common REST API Error Codes](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span></span>

### <span data-ttu-id="ac5de-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>容量度量顯示非預期的儲存體容量使用增加</span><span class="sxs-lookup"><span data-stu-id="ac5de-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="ac5de-734">如果您看到突然，突如其來的變化容量使用量，在儲存體帳戶，您可以調查 hello 原因第一次查看可用性度量資訊。比方說，無法的刪除要求的 hello 數目的增加可能導致 tooan 增加中您用來當做應用程式特定的清除作業，您可能預期 toobe 釋放的空間可能不會如預期般運作 （適用於 blob 儲存體的 hello 數量範例中，因為用來釋放空間 hello SAS 權杖已過期)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-734">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate hello reasons by first looking at your availability metrics; for example, an increase in hello number of failed delete requests might lead tooan increase in hello amount of blob storage you are using as application specific cleanup operations you might have expected toobe freeing up space may not be working as expected (for example, because hello SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="ac5de-735"><a name="you-are-experiencing-unexpected-reboots"></a>附加大量 VHD 的 Azure 虛擬機器出現非預期的重新開機情況</span><span class="sxs-lookup"><span data-stu-id="ac5de-735"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="ac5de-736">如果在 Azure 虛擬機器 (VM) 具有大量的 hello 中附加 Vhd 相同的儲存體帳戶，您可能會超出 hello 造成 hello VM toofail 個人儲存體帳戶的延展性目標。</span><span class="sxs-lookup"><span data-stu-id="ac5de-736">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in hello same storage account, you could exceed hello scalability targets for an individual storage account causing hello VM toofail.</span></span> <span data-ttu-id="ac5de-737">您應該檢查 hello hello 儲存體帳戶的分鐘度量 (**TotalRequests**/**TotalIngress**/**TotalEgress**) 尖峰超過 hello 延展性目標儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-737">You should check hello minute metrics for hello storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed hello scalability targets for a storage account.</span></span> <span data-ttu-id="ac5de-738">參閱 hello"[度量顯示 PercentThrottlingError 增加]」 的協助判斷節流發生儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-738">See hello section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="ac5de-739">一般情況下，每個個別的輸入或輸出作業，從虛擬機器的 VHD 上會轉譯太**取得頁面**或**Put Page** hello 基礎分頁 blob 上的作業。</span><span class="sxs-lookup"><span data-stu-id="ac5de-739">In general, each individual input or output operation on a VHD from a Virtual Machine translates too**Get Page** or **Put Page** operations on hello underlying page blob.</span></span> <span data-ttu-id="ac5de-740">因此，您可以使用 hello IOPS 的估計環境 tootune 多少 Vhd，您可以在單一儲存體帳戶中根據擁有 hello 應用程式的特定行為。</span><span class="sxs-lookup"><span data-stu-id="ac5de-740">Therefore, you can use hello estimated IOPS for your environment tootune how many VHDs you can have in a single storage account based on hello specific behavior of your application.</span></span> <span data-ttu-id="ac5de-741">我們不建議單一儲存體帳戶內具備超過 40 的磁碟。</span><span class="sxs-lookup"><span data-stu-id="ac5de-741">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="ac5de-742">請參閱[Azure 儲存體延展性和效能目標](storage-scalability-targets.md)如 hello 目前延展性目標儲存體帳戶的詳細資訊，特別是 hello 總要求率和總頻寬為 hello 類型的儲存體帳戶使用.</span><span class="sxs-lookup"><span data-stu-id="ac5de-742">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details of hello current scalability targets for storage accounts, in particular hello total request rate and total bandwidth for hello type of storage account you are using.</span></span>
<span data-ttu-id="ac5de-743">如果您已超過 hello 延展性目標儲存體帳戶，您應該將您的 Vhd，多個不同的儲存體帳戶 tooreduce hello 活動中每個個別的帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-743">If you are exceeding hello scalability targets for your storage account, you should place your VHDs in multiple different storage accounts tooreduce hello activity in each individual account.</span></span>

### <span data-ttu-id="ac5de-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>您的問題就會發生從開發或測試使用 hello 儲存體模擬器</span><span class="sxs-lookup"><span data-stu-id="ac5de-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using hello storage emulator for development or test</span></span>
<span data-ttu-id="ac5de-745">通常，您會在開發期間使用 hello 儲存體模擬器並測試 tooavoid hello Azure 儲存體帳戶的需求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-745">You typically use hello storage emulator during development and test tooavoid hello requirement for an Azure storage account.</span></span> <span data-ttu-id="ac5de-746">當您使用 hello 儲存體模擬器可能會發生的 hello 一般問題包括：</span><span class="sxs-lookup"><span data-stu-id="ac5de-746">hello common issues that can occur when you are using hello storage emulator are:</span></span>

* <span data-ttu-id="ac5de-747">[功能"X"hello 儲存體模擬器中無法運作]</span><span class="sxs-lookup"><span data-stu-id="ac5de-747">[Feature "X" is not working in hello storage emulator]</span></span>
* <span data-ttu-id="ac5de-748">[錯誤 「 hello 其中一個 hello HTTP 標頭的值不正確格式的 hello 中 」 時使用 hello 儲存體模擬器]</span><span class="sxs-lookup"><span data-stu-id="ac5de-748">[Error "hello value for one of hello HTTP headers is not in hello correct format" when using hello storage emulator]</span></span>
* <span data-ttu-id="ac5de-749">[執行中的 hello 儲存體模擬器需要系統管理權限]</span><span class="sxs-lookup"><span data-stu-id="ac5de-749">[Running hello storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="ac5de-750"><a name="feature-X-is-not-working"></a>功能"X"hello 儲存體模擬器中無法運作</span><span class="sxs-lookup"><span data-stu-id="ac5de-750"><a name="feature-X-is-not-working"></a>Feature "X" is not working in hello storage emulator</span></span>
<span data-ttu-id="ac5de-751">hello 儲存體模擬器不支援的所有 hello hello Azure 儲存體服務，例如 hello 檔案服務功能。</span><span class="sxs-lookup"><span data-stu-id="ac5de-751">hello storage emulator does not support all of hello features of hello Azure storage services such as hello file service.</span></span> <span data-ttu-id="ac5de-752">如需詳細資訊，請參閱[使用 hello Azure 儲存體模擬器進行開發和測試](storage-use-emulator.md)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-752">For more information, see [Use hello Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span>

<span data-ttu-id="ac5de-753">Hello 儲存那些功能的模擬器不支援，使用 hello 雲端中的 hello Azure 儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-753">For those features that hello storage emulator does not support, use hello Azure storage service in hello cloud.</span></span>

#### <span data-ttu-id="ac5de-754"><a name="error-HTTP-header-not-correct-format"></a>錯誤 「 hello 其中一個 hello HTTP 標頭的值不正確格式的 hello 中 」 時使用 hello 儲存體模擬器</span><span class="sxs-lookup"><span data-stu-id="ac5de-754"><a name="error-HTTP-header-not-correct-format"></a>Error "hello value for one of hello HTTP headers is not in hello correct format" when using hello storage emulator</span></span>
<span data-ttu-id="ac5de-755">您要測試您的應用程式使用 hello 儲存體用戶端程式庫針對 hello 本機儲存體模擬器和方法呼叫，例如**CreateIfNotExists**失敗，並且 hello 錯誤訊息 「 hello 其中一個 hello HTTP 標頭的值不是在hello 正確格式。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-755">You are testing your application that use hello Storage Client Library against hello local storage emulator and method calls such as **CreateIfNotExists** fail with hello error message "hello value for one of hello HTTP headers is not in hello correct format."</span></span> <span data-ttu-id="ac5de-756">這表示該 hello hello 您使用的儲存體模擬器版本不支援 hello hello 儲存體用戶端程式庫會使用的版本。</span><span class="sxs-lookup"><span data-stu-id="ac5de-756">This indicates that hello version of hello storage emulator you are using does not support hello version of hello storage client library you are using.</span></span> <span data-ttu-id="ac5de-757">hello 儲存體用戶端程式庫將 hello 標頭加入**x ms 版本**tooall hello 要求它。</span><span class="sxs-lookup"><span data-stu-id="ac5de-757">hello Storage Client Library adds hello header **x-ms-version** tooall hello requests it makes.</span></span> <span data-ttu-id="ac5de-758">如果 hello 儲存體模擬器無法辨識 hello 中的 hello 值**x ms 版本**標頭，它會拒絕 hello 要求。</span><span class="sxs-lookup"><span data-stu-id="ac5de-758">If hello storage emulator does not recognize hello value in hello **x-ms-version** header, it rejects hello request.</span></span>

<span data-ttu-id="ac5de-759">您可以使用 hello 存放媒體櫃用戶端記錄檔 toosee hello 值 hello **x ms 版本標頭**傳送。</span><span class="sxs-lookup"><span data-stu-id="ac5de-759">You can use hello Storage Library Client logs toosee hello value of hello **x-ms-version header** it is sending.</span></span> <span data-ttu-id="ac5de-760">您也可以查看 hello hello 值**x ms 版本標頭**如果您使用 Fiddler tootrace hello 要求從用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-760">You can also see hello value of hello **x-ms-version header** if you use Fiddler tootrace hello requests from your client application.</span></span>

<span data-ttu-id="ac5de-761">如果您安裝並使用 hello 的 hello 儲存體用戶端程式庫的最新版本，而無須更新 hello 儲存體模擬器，通常就會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="ac5de-761">This scenario typically occurs if you install and use hello latest version of hello Storage Client Library without updating hello storage emulator.</span></span> <span data-ttu-id="ac5de-762">您應該安裝 hello hello 儲存體模擬器，最新版本，或使用，而非 hello 模擬器雲端存放裝置開發和測試。</span><span class="sxs-lookup"><span data-stu-id="ac5de-762">You should either install hello latest version of hello storage emulator, or use cloud storage instead of hello emulator for development and test.</span></span>

#### <span data-ttu-id="ac5de-763"><a name="storage-emulator-requires-administrative-privileges"></a>執行中的 hello 儲存體模擬器需要系統管理權限</span><span class="sxs-lookup"><span data-stu-id="ac5de-763"><a name="storage-emulator-requires-administrative-privileges"></a>Running hello storage emulator requires administrative privileges</span></span>
<span data-ttu-id="ac5de-764">當您執行 hello 儲存體模擬器時，會提示系統管理員認證。</span><span class="sxs-lookup"><span data-stu-id="ac5de-764">You are prompted for administrator credentials when you run hello storage emulator.</span></span> <span data-ttu-id="ac5de-765">這只會發生您要初始化 hello 儲存體模擬器進行 hello 第一次。</span><span class="sxs-lookup"><span data-stu-id="ac5de-765">This only occurs when you are initializing hello storage emulator for hello first time.</span></span> <span data-ttu-id="ac5de-766">初始化 hello 儲存體模擬器之後，您不需要系統管理權限 toorun 再試一次。</span><span class="sxs-lookup"><span data-stu-id="ac5de-766">After you have initialized hello storage emulator, you do not need administrative privileges toorun it again.</span></span>

<span data-ttu-id="ac5de-767">如需詳細資訊，請參閱[使用 hello Azure 儲存體模擬器進行開發和測試](storage-use-emulator.md)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-767">For more information, see [Use hello Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span> <span data-ttu-id="ac5de-768">請注意，您也可以初始化 hello 儲存體模擬器，在 Visual Studio 中，也需要系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ac5de-768">Note that you can also initialize hello storage emulator in Visual Studio, which will also require administrative privileges.</span></span>

### <span data-ttu-id="ac5de-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>您遇到安裝 hello Azure SDK for.NET 的問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing hello Azure SDK for .NET</span></span>
<span data-ttu-id="ac5de-770">當您嘗試 tooinstall hello SDK 時，它無法嘗試 tooinstall hello 儲存體模擬器在本機電腦上。</span><span class="sxs-lookup"><span data-stu-id="ac5de-770">When you try tooinstall hello SDK, it fails trying tooinstall hello storage emulator on your local machine.</span></span> <span data-ttu-id="ac5de-771">hello 安裝記錄檔包含下列訊息的 hello 的其中一個：</span><span class="sxs-lookup"><span data-stu-id="ac5de-771">hello installation log contains one of hello following messages:</span></span>

* <span data-ttu-id="ac5de-772">CAQuietExec： 錯誤： 無法 tooaccess SQL 執行個體</span><span class="sxs-lookup"><span data-stu-id="ac5de-772">CAQuietExec:  Error: Unable tooaccess SQL instance</span></span>
* <span data-ttu-id="ac5de-773">CAQuietExec： 錯誤： 無法 toocreate 資料庫</span><span class="sxs-lookup"><span data-stu-id="ac5de-773">CAQuietExec:  Error: Unable toocreate database</span></span>

<span data-ttu-id="ac5de-774">hello 的原因是現有的 LocalDB 安裝的問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-774">hello cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="ac5de-775">根據預設，hello 儲存體模擬器會使用 LocalDB toopersist 資料時，它會模擬 hello Azure 儲存體服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-775">By default, hello storage emulator uses LocalDB toopersist data when it simulates hello Azure storage services.</span></span> <span data-ttu-id="ac5de-776">您可以執行下列命令，在命令提示字元視窗中的嘗試 tooinstall hello SDK 之前的 hello 來重設您的 LocalDB 執行個體。</span><span class="sxs-lookup"><span data-stu-id="ac5de-776">You can reset your LocalDB instance by running hello following commands in a command-prompt window before trying tooinstall hello SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="ac5de-777">hello**刪除**命令會移除先前安裝的 hello 儲存體模擬器中的任何舊的資料庫檔案。</span><span class="sxs-lookup"><span data-stu-id="ac5de-777">hello **delete** command removes any old database files from previous installations of hello storage emulator.</span></span>

### <span data-ttu-id="ac5de-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>您的儲存體服務出現其他問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="ac5de-779">如果 hello 先前的疑難排解章節未包含有與儲存體服務的 hello 問題，您應該採用 hello 遵循方法 toodiagnosing 和疑難排解您的問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-779">If hello previous troubleshooting sections do not include hello issue you are having with a storage service, you should adopt hello following approach toodiagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="ac5de-780">如果沒有從您的預期基準線行為的任何變更，請檢查度量 toosee。</span><span class="sxs-lookup"><span data-stu-id="ac5de-780">Check your metrics toosee if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="ac5de-781">從 hello 度量，您可能無法 toodetermine 是否 hello 問題是暫時性或永久性，以及哪一個儲存體作業 hello 問題會影響。</span><span class="sxs-lookup"><span data-stu-id="ac5de-781">From hello metrics, you may be able toodetermine whether hello issue is transient or permanent, and which storage operations hello issue is affecting.</span></span>
* <span data-ttu-id="ac5de-782">您可以使用 hello toohelp 搜尋您所發生的任何錯誤的詳細資訊的伺服器端記錄資料的度量資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-782">You can use hello metrics information toohelp you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="ac5de-783">這項資訊可以協助您疑難排解並解決 hello 問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-783">This information may help you troubleshoot and resolve hello issue.</span></span>
* <span data-ttu-id="ac5de-784">如果 hello 伺服器端記錄檔中的 hello 資訊不足夠 tootroubleshoot hello 問題成功，您可以使用 hello 儲存體用戶端程式庫用戶端記錄檔 tooinvestigate hello 行為的用戶端應用程式和 Fiddler Wireshark 之類的工具Microsoft Message Analyzer tooinvestigate 和您的網路。</span><span class="sxs-lookup"><span data-stu-id="ac5de-784">If hello information in hello server-side logs is not sufficient tootroubleshoot hello issue successfully, you can use hello Storage Client Library client-side logs tooinvestigate hello behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer tooinvestigate your network.</span></span>

<span data-ttu-id="ac5de-785">如需有關如何使用 Fiddler 的詳細資訊，請參閱 「[附錄 1： 使用 Fiddler toocapture HTTP 及 HTTPS 流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-785">For more information about using Fiddler, see "[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="ac5de-786">如需使用 Wireshark 的詳細資訊，請參閱 「[附錄 2： 使用 Wireshark toocapture 網路流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-786">For more information about using Wireshark, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="ac5de-787">如需有關使用 Microsoft Message Analyzer 的詳細資訊，請參閱 「[附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量]。 」</span><span class="sxs-lookup"><span data-stu-id="ac5de-787">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

## <span data-ttu-id="ac5de-788"><a name="appendices"></a>附錄</span><span class="sxs-lookup"><span data-stu-id="ac5de-788"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="ac5de-789">hello 附錄說明數個工具，診斷和疑難排解 Azure 儲存體 （和其他服務） 的問題時可能非常有用。</span><span class="sxs-lookup"><span data-stu-id="ac5de-789">hello appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="ac5de-790">這些工具並非 Azure 儲存體內建的工具，有些則是協力廠商的產品。</span><span class="sxs-lookup"><span data-stu-id="ac5de-790">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="ac5de-791">因此，若這些附錄中所討論的 hello 工具未涵蓋的任何支援協議，您可能與 Microsoft Azure 或 Azure 儲存體，而因此做為您的評估程序的一部分，您應該檢查提供的 hello 授權和支援選項這些工具的 hello 提供者。</span><span class="sxs-lookup"><span data-stu-id="ac5de-791">As such, hello tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine hello licensing and support options available from hello providers of these tools.</span></span>

### <span data-ttu-id="ac5de-792"><a name="appendix-1"></a>附錄 1： 使用 Fiddler toocapture HTTP 和 HTTPS 流量</span><span class="sxs-lookup"><span data-stu-id="ac5de-792"><a name="appendix-1"></a>Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="ac5de-793">[Fiddler](http://www.telerik.com/fiddler)是有用的工具來分析您的用戶端應用程式與 hello 您使用的 Azure 儲存體服務之間的 hello HTTP 及 HTTPS 流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-793">[Fiddler](http://www.telerik.com/fiddler) is a useful tool for analyzing hello HTTP and HTTPS traffic between your client application and hello Azure storage service you are using.</span></span>

> [!NOTE]
> <span data-ttu-id="ac5de-794">Fiddler 可解碼 HTTPS 流量。您應該仔細閱讀 hello Fiddler 文件 toounderstand 解其運作，以及 toounderstand hello 安全性含義。</span><span class="sxs-lookup"><span data-stu-id="ac5de-794">Fiddler can decode HTTPS traffic; you should read hello Fiddler documentation carefully toounderstand how it does this, and toounderstand hello security implications.</span></span>
> 
> 

<span data-ttu-id="ac5de-795">本附錄提供簡短的逐步解說的 tooconfigure Fiddler toocapture hello 本機電腦已安裝 Fiddler 與 hello Azure 儲存體服務的位置之間的流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-795">This appendix provides a brief walkthrough of how tooconfigure Fiddler toocapture traffic between hello local machine where you have installed Fiddler and hello Azure storage services.</span></span>

<span data-ttu-id="ac5de-796">Fiddler 一經啟動後，就會開始擷取本機電腦上的 HTTP 與 HTTPS 流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-796">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="ac5de-797">hello 以下是一些有用的命令控制 Fiddler:</span><span class="sxs-lookup"><span data-stu-id="ac5de-797">hello following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="ac5de-798">停止與開始擷取流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-798">Stop and start capturing traffic.</span></span> <span data-ttu-id="ac5de-799">Hello 主功能表上，前往 太**檔案**，然後按一下**擷取流量**tootoggle 擷取開啟和關閉。</span><span class="sxs-lookup"><span data-stu-id="ac5de-799">On hello main menu, go too**File** and then click **Capture Traffic** tootoggle capturing on and off.</span></span>
* <span data-ttu-id="ac5de-800">儲存擷取的流量資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-800">Save captured traffic data.</span></span> <span data-ttu-id="ac5de-801">Hello 主功能表上，前往 太**檔案**，按一下 **儲存**，然後按一下**所有工作階段**： 這可讓您在工作階段封存檔 toosave hello 流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-801">On hello main menu, go too**File**, click **Save**, and then click **All Sessions**: this enables you toosave hello traffic in a Session Archive file.</span></span> <span data-ttu-id="ac5de-802">您可以重新載入工作階段保存稍後進行分析，或如果要求 tooMicrosoft 支援傳送。</span><span class="sxs-lookup"><span data-stu-id="ac5de-802">You can reload a Session Archive later for analysis, or send it if requested tooMicrosoft support.</span></span>

<span data-ttu-id="ac5de-803">toolimit hello 數量 Fiddler 擷取的流量，您可以使用您在 hello 中設定的篩選**篩選** 索引標籤 hello 下列螢幕擷取畫面顯示擷取唯一傳送的流量 toohello 篩選**contosoemaildist.table.core.windows.net**儲存體端點：</span><span class="sxs-lookup"><span data-stu-id="ac5de-803">toolimit hello amount of traffic that Fiddler captures, you can use filters that you configure in hello **Filters** tab. hello following screenshot shows a filter that captures only traffic sent toohello **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="ac5de-804"><a name="appendix-2"></a>附錄 2： 使用 Wireshark toocapture 網路流量</span><span class="sxs-lookup"><span data-stu-id="ac5de-804"><a name="appendix-2"></a>Appendix 2: Using Wireshark toocapture network traffic</span></span>
<span data-ttu-id="ac5de-805">[Wireshark](http://www.wireshark.org/)是網路通訊協定分析器，可讓您 tooview 封包的詳細資訊廣泛的網路通訊協定。</span><span class="sxs-lookup"><span data-stu-id="ac5de-805">[Wireshark](http://www.wireshark.org/) is a network protocol analyzer that enables you tooview detailed packet information for a wide range of network protocols.</span></span>

<span data-ttu-id="ac5de-806">hello 下列程序顯示如何 toocapture 封包的詳細資訊從 hello 本機電腦的流量 Wireshark toohello 表格服務安裝在您的 Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-806">hello following procedure shows you how toocapture detailed packet information for traffic from hello local machine where you installed Wireshark toohello table service in your Azure storage account.</span></span>

1. <span data-ttu-id="ac5de-807">在本機電腦上啟動 Wireshark。</span><span class="sxs-lookup"><span data-stu-id="ac5de-807">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="ac5de-808">在 hello**啟動**區段、 選取 hello 區域網路介面或介面所連接的 toohello 網際網路。</span><span class="sxs-lookup"><span data-stu-id="ac5de-808">In hello **Start** section, select hello local network interface or interfaces that are connected toohello internet.</span></span>
3. <span data-ttu-id="ac5de-809">按一下 [擷取選項] 。</span><span class="sxs-lookup"><span data-stu-id="ac5de-809">Click **Capture Options**.</span></span>
4. <span data-ttu-id="ac5de-810">新增篩選器 toohello**擷取篩選器**文字方塊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-810">Add a filter toohello **Capture Filter** textbox.</span></span> <span data-ttu-id="ac5de-811">例如，**裝載 contosoemaildist.table.core.windows.net**傳送 tooor 從 hello 表格服務端點中 hello 封包只會設定 Wireshark toocapture **contosoemaildist**儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="ac5de-811">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark toocapture only packets sent tooor from hello table service endpoint in hello **contosoemaildist** storage account.</span></span> <span data-ttu-id="ac5de-812">簽出 hello[擷取篩選條件的完整清單](http://wiki.wireshark.org/CaptureFilters)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-812">Check out hello [complete list of Capture Filters](http://wiki.wireshark.org/CaptureFilters).</span></span>
   
   ![][6]
5. <span data-ttu-id="ac5de-813">按一下 [啟動] 。</span><span class="sxs-lookup"><span data-stu-id="ac5de-813">Click **Start**.</span></span> <span data-ttu-id="ac5de-814">Wireshark 現在將會擷取所有 hello 封包傳送嗨表格服務端點從 tooor，當您在本機電腦上使用用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="ac5de-814">Wireshark will now capture all hello packets send tooor from hello table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="ac5de-815">當您完成時，在 hello 主功能表上，按一下**擷取**然後**停止**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-815">When you have finished, on hello main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="ac5de-816">toosave hello 擷取資料 Wireshark 擷取檔案中，hello 主功能表上，按一下**檔案**然後**儲存**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-816">toosave hello captured data in a Wireshark Capture File, on hello main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="ac5de-817">WireShark 會反白顯示 hello 存在於任何錯誤**packetlist**視窗。</span><span class="sxs-lookup"><span data-stu-id="ac5de-817">WireShark will highlight any errors that exist in hello **packetlist** window.</span></span> <span data-ttu-id="ac5de-818">您也可以使用 hello**專家資訊**視窗 (按一下**分析**，然後**專家資訊**) tooview 的錯誤和警告摘要。</span><span class="sxs-lookup"><span data-stu-id="ac5de-818">You can also use hello **Expert Info** window (click **Analyze**, then **Expert Info**) tooview a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="ac5de-819">您也可以選擇 tooview hello TCP 資料，因為 hello 應用程式層會看見 hello TCP 資料上按一下滑鼠右鍵，然後選取它**遵循 TCP 資料流**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-819">You can also chose tooview hello TCP data as hello application layer sees it by right-clicking on hello TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="ac5de-820">當您不使用擷取篩選器而擷取到傾印時，這個方法會特別有用。</span><span class="sxs-lookup"><span data-stu-id="ac5de-820">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="ac5de-821">如需詳細資訊，請參閱 [追蹤 TCP 串流](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-821">For more information, see [Following TCP Streams](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="ac5de-822">如需有關使用 Wireshark 的詳細資訊，請參閱 hello [Wireshark 使用者指南](http://www.wireshark.org/docs/wsug_html_chunked)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-822">For more information about using Wireshark, see hello [Wireshark Users Guide](http://www.wireshark.org/docs/wsug_html_chunked).</span></span>
> 
> 

### <span data-ttu-id="ac5de-823"><a name="appendix-3"></a>附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量</span><span class="sxs-lookup"><span data-stu-id="ac5de-823"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer toocapture network traffic</span></span>
<span data-ttu-id="ac5de-824">您可以在類似的方式 tooFiddler，使用 Microsoft Message Analyzer toocapture HTTP 和 HTTPS 流量，並擷取類似的方式 tooWireshark 的網路流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-824">You can use Microsoft Message Analyzer toocapture HTTP and HTTPS traffic in a similar way tooFiddler, and capture network traffic in a similar way tooWireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="ac5de-825">使用 Microsoft Message Analyzer 設定 Web 追蹤工作階段</span><span class="sxs-lookup"><span data-stu-id="ac5de-825">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="ac5de-826">web 追蹤工作階段使用 Microsoft Message Analyzer，執行 hello Microsoft Message Analyzer 應用程式的 HTTP 與 HTTPS 流量然後再針對 hello tooconfigure**檔案**功能表上，按一下 **擷取/追蹤**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-826">tooconfigure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run hello Microsoft Message Analyzer application and then on hello **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="ac5de-827">在可用的追蹤案例的 hello 清單中選取**Web Proxy**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-827">In hello list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="ac5de-828">接著在 hello**追蹤案例設定**面板 中 hello **HostnameFilter**文字方塊中，加入 hello 名稱的儲存體端點 (您可以查詢這些名稱在 hello [的Azure入口網站](https://portal.azure.com)).</span><span class="sxs-lookup"><span data-stu-id="ac5de-828">Then in hello **Trace Scenario Configuration** panel, in hello **HostnameFilter** textbox, add hello names of your storage endpoints (you can look up these names in hello [Azure portal](https://portal.azure.com)).</span></span> <span data-ttu-id="ac5de-829">比方說，如果 hello Azure 儲存體帳戶名稱是**contosodata**，您應該將新增下列 toohello hello **HostnameFilter**文字方塊中：</span><span class="sxs-lookup"><span data-stu-id="ac5de-829">For example, if hello name of your Azure storage account is **contosodata**, you should add hello following toohello **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="ac5de-830">空格字元會分隔 hello 主機名稱。</span><span class="sxs-lookup"><span data-stu-id="ac5de-830">A space character separates hello hostnames.</span></span>
> 
> 

<span data-ttu-id="ac5de-831">當您準備好 toostart 收集追蹤資料，請按一下 hello **Start With**  按鈕。</span><span class="sxs-lookup"><span data-stu-id="ac5de-831">When you are ready toostart collecting trace data, click hello **Start With** button.</span></span>

<span data-ttu-id="ac5de-832">如需有關 Microsoft Message Analyzer hello **Web Proxy**追蹤，請參閱[Microsoft-PEF-WebProxy 提供者](http://technet.microsoft.com/library/jj674814.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-832">For more information about hello Microsoft Message Analyzer **Web Proxy** trace, see [Microsoft-PEF-WebProxy Provider](http://technet.microsoft.com/library/jj674814.aspx).</span></span>

<span data-ttu-id="ac5de-833">內建的 hello **Web Proxy** Microsoft Message Analyzer 中的追蹤根據 Fiddler; 它可以擷取用戶端的 HTTPS 流量，並顯示未加密的 HTTPS 訊息。</span><span class="sxs-lookup"><span data-stu-id="ac5de-833">hello built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="ac5de-834">hello **Web Proxy**追蹤適用於設定本機 proxy，讓它存取 toounencrypted 訊息的所有 HTTP 和 HTTPS 流量。</span><span class="sxs-lookup"><span data-stu-id="ac5de-834">hello **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access toounencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="ac5de-835">使用 Microsoft Message Analyzer 診斷網路問題</span><span class="sxs-lookup"><span data-stu-id="ac5de-835">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="ac5de-836">此外 toousing hello Microsoft Message Analyzer **Web Proxy**追蹤 toocapture 詳細資料的 hello hello 用戶端應用程式與 hello 儲存體服務之間的 HTTP/HTTPs 流量，您也可以使用 hello 內建**本機連結層**追蹤 toocapture 網路封包資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-836">In addition toousing hello Microsoft Message Analyzer **Web Proxy** trace toocapture details of hello HTTP/HTTPs traffic between hello client application and hello storage service, you can also use hello built-in **Local Link Layer** trace toocapture network packet information.</span></span> <span data-ttu-id="ac5de-837">這樣做可讓您 toocapture 資料類似 toothat 您可以擷取與 Wireshark 及診斷網路問題例如丟棄的封包。</span><span class="sxs-lookup"><span data-stu-id="ac5de-837">This enables you toocapture data similar toothat which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="ac5de-838">hello 下列螢幕擷取畫面顯示範例**本機連結層**追蹤某些**資訊**中 hello 訊息**DiagnosisTypes**資料行。</span><span class="sxs-lookup"><span data-stu-id="ac5de-838">hello following screenshot shows an example **Local Link Layer** trace with some **informational** messages in hello **DiagnosisTypes** column.</span></span> <span data-ttu-id="ac5de-839">按一下圖示在 hello **DiagnosisTypes**資料行會顯示 hello hello 訊息詳細資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-839">Clicking on an icon in hello **DiagnosisTypes** column shows hello details of hello message.</span></span> <span data-ttu-id="ac5de-840">在此範例中，hello 伺服器重新傳輸訊息 #305，因為它未收到收條 hello 用戶端：</span><span class="sxs-lookup"><span data-stu-id="ac5de-840">In this example, hello server retransmitted message #305 because it did not receive an acknowledgement from hello client:</span></span>

![][9]

<span data-ttu-id="ac5de-841">當您在 Microsoft Message Analyzer 建立 hello 追蹤工作階段時，您可以指定篩選器 tooreduce hello 雜訊數量 hello 追蹤中。</span><span class="sxs-lookup"><span data-stu-id="ac5de-841">When you create hello trace session in Microsoft Message Analyzer, you can specify filters tooreduce hello amount of noise in hello trace.</span></span> <span data-ttu-id="ac5de-842">在 hello**擷取 / 追蹤**可讓您定義 hello 追蹤頁面按一下 hello**設定**連結旁太**Microsoft Windows-NDIS PacketCapture**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-842">On hello **Capture / Trace** page where you define hello trace, click on hello **Configure** link next too**Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="ac5de-843">下列螢幕擷取畫面的 hello 顯示 hello 三個儲存體服務的 IP 位址的 TCP 流量篩選器的組態：</span><span class="sxs-lookup"><span data-stu-id="ac5de-843">hello following screenshot shows a configuration that filters TCP traffic for hello IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="ac5de-844">如需 hello Microsoft 郵件分析器本機連結層級追蹤的詳細資訊，請參閱[Microsoft PEF-NDIS PacketCapture 提供者](http://technet.microsoft.com/library/jj659264.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-844">For more information about hello Microsoft Message Analyzer Local Link Layer trace, see [Microsoft-PEF-NDIS-PacketCapture Provider](http://technet.microsoft.com/library/jj659264.aspx).</span></span>

### <span data-ttu-id="ac5de-845"><a name="appendix-4"></a>附錄 4： 使用 Excel tooview 度量和記錄資料</span><span class="sxs-lookup"><span data-stu-id="ac5de-845"><a name="appendix-4"></a>Appendix 4: Using Excel tooview metrics and log data</span></span>
<span data-ttu-id="ac5de-846">許多工具，可讓您從 Azure 資料表儲存體中分隔的格式，可輕鬆 tooload hello 資料的 excel 檢視及分析 toodownload hello 儲存體度量資料。</span><span class="sxs-lookup"><span data-stu-id="ac5de-846">Many tools enable you toodownload hello Storage Metrics data from Azure table storage in a delimited format that makes it easy tooload hello data into Excel for viewing and analysis.</span></span> <span data-ttu-id="ac5de-847">來自 Azure Blob 儲存體的儲存體記錄資料已經使用分隔格式，方便您直接載入 Excel。</span><span class="sxs-lookup"><span data-stu-id="ac5de-847">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="ac5de-848">不過，您將需要以 hello 資訊為基礎的 tooadd 適當的資料行標題[儲存體分析記錄格式](http://msdn.microsoft.com/library/azure/hh343259.aspx)和[儲存體分析度量資料表結構描述](http://msdn.microsoft.com/library/azure/hh343264.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ac5de-848">However, you will need tooadd appropriate column headings based in hello information at [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) and [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

<span data-ttu-id="ac5de-849">tooimport 儲存體記錄資料至 Excel 之後您下載它從 blob 儲存體：</span><span class="sxs-lookup"><span data-stu-id="ac5de-849">tooimport your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="ac5de-850">在 hello**資料**功能表上，按一下 **從文字**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-850">On hello **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="ac5de-851">瀏覽 toohello 記錄檔要 tooview**匯入**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-851">Browse toohello log file you want tooview and click **Import**.</span></span>
* <span data-ttu-id="ac5de-852">在步驟 1 的 hello**文字匯入精靈**，選取**分隔**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-852">On step 1 of hello **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="ac5de-853">在步驟 1 的 hello**文字匯入精靈**，選取**分號**為 hello 唯一分隔符號，然後選擇 為 hello 雙引號**文字限定詞**。</span><span class="sxs-lookup"><span data-stu-id="ac5de-853">On step 1 of hello **Text Import Wizard**, select **Semicolon** as hello only delimiter and choose double-quote as hello **Text qualifier**.</span></span> <span data-ttu-id="ac5de-854">然後按一下 **完成**選擇 tooplace hello 活頁簿中的位置。</span><span class="sxs-lookup"><span data-stu-id="ac5de-854">Then click **Finish** and choose where tooplace hello data in your workbook.</span></span>

### <span data-ttu-id="ac5de-855"><a name="appendix-5"></a>附錄 5：使用 Application Insights for Visual Studio Team Services 監視</span><span class="sxs-lookup"><span data-stu-id="ac5de-855"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="ac5de-856">您也可以使用 hello Application Insights 功能 Visual Studio Team Services 的效能和可用性監視的一部分。</span><span class="sxs-lookup"><span data-stu-id="ac5de-856">You can also use hello Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="ac5de-857">這項工具可以：</span><span class="sxs-lookup"><span data-stu-id="ac5de-857">This tool can:</span></span>

* <span data-ttu-id="ac5de-858">確保您的 Web 服務可用且迅速回應。</span><span class="sxs-lookup"><span data-stu-id="ac5de-858">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="ac5de-859">無論您的應用程式的網站或裝置應用程式，使用 web 服務，可從各地 hello world，測試您的 URL 每隔幾分鐘並可讓您知道是否有問題。</span><span class="sxs-lookup"><span data-stu-id="ac5de-859">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around hello world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="ac5de-860">快速診斷 Web 服務中的任何效能問題或例外。</span><span class="sxs-lookup"><span data-stu-id="ac5de-860">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="ac5de-861">了解 CPU 或其他資源是否過度使用，從例外中取得堆疊追蹤資料，並且輕鬆地搜尋記錄追蹤項目。</span><span class="sxs-lookup"><span data-stu-id="ac5de-861">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="ac5de-862">如果 hello 應用程式的效能低於可接受的限制，我們可以傳送給您電子郵件。</span><span class="sxs-lookup"><span data-stu-id="ac5de-862">If hello app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="ac5de-863">我們可以同時監視 .NET 與 Java Web 服務。</span><span class="sxs-lookup"><span data-stu-id="ac5de-863">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="ac5de-864">您可以在 [什麼是 Application Insights？](../../application-insights/app-insights-overview.md)中找到詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="ac5de-864">You can find more information at [What is Application Insights?](../../application-insights/app-insights-overview.md).</span></span>

<!--Anchors-->
[簡介]: #introduction
[本指南架構]: #how-this-guide-is-organized

[監視儲存體服務]: #monitoring-your-storage-service
[監視服務健康情況]: #monitoring-service-health
[監視容量]: #monitoring-capacity
[監視可用性]: #monitoring-availability
[監視效能]: #monitoring-performance

[診斷儲存體問題]: #diagnosing-storage-issues
[服務健康情況問題]: #service-health-issues
[效能問題]: #performance-issues
[診斷錯誤]: #diagnosing-errors
[儲存體模擬器問題]: #storage-emulator-issues
[儲存體記錄工具]: #storage-logging-tools
[使用網路記錄工具]: #using-network-logging-tools

[端對端追蹤]: #end-to-end-tracing
[為記錄資料建立相互關聯]: #correlating-log-data
[用戶端要求 ID]: #client-request-id
[伺服器要求 ID]: #server-request-id
[時間戳記]: #timestamps

[疑難排解指引]: #troubleshooting-guidance
[度量顯示高 AverageE2ELatency 和低 AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[度量顯示低 AverageE2ELatency 和低 AverageServerLatency 但 hello 用戶端發生高延遲]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[度量顯示高 AverageServerLatency]: #metrics-show-high-AverageServerLatency
[佇列上的訊息在遞送期間出現非預期的延遲]: #you-are-experiencing-unexpected-delays-in-message-delivery

[度量顯示 PercentThrottlingError 增加]: #metrics-show-an-increase-in-PercentThrottlingError
[PercentThrottlingError 的暫時性增加]: #transient-increase-in-PercentThrottlingError
[PercentThrottlingError 錯誤中的永久性增加]: #permanent-increase-in-PercentThrottlingError
[度量顯示 PercentTimeoutError 增加]: #metrics-show-an-increase-in-PercentTimeoutError
[度量顯示 PercentNetworkError 增加]: #metrics-show-an-increase-in-PercentNetworkError

[hello 用戶端收到 HTTP 403 （禁止） 訊息]: #the-client-is-receiving-403-messages
[hello 用戶端接收 HTTP 404 （找不到） 訊息]: #the-client-is-receiving-404-messages
[hello 用戶端或另一個處理序之前遭到刪除 hello 物件]: #client-previously-deleted-the-object
[共用存取簽章 (SAS) 授權問題]: #SAS-authorization-issue
[用戶端 JavaScript 程式碼沒有權限 tooaccess hello 物件]: #JavaScript-code-does-not-have-permission
[網路失敗]: #network-failure
[hello 用戶端接收 HTTP 409 （衝突） 訊息]: #the-client-is-receiving-409-messages

[度量顯示低 PercentSuccess 或分析記錄檔項目所使用的作業交易狀態的 ClientOtherErrors]: #metrics-show-low-percent-success
[容量度量顯示非預期的儲存體容量使用增加]: #capacity-metrics-show-an-unexpected-increase
[附加大量 VHD 的虛擬機器，出現非預期的重新開機情況]: #you-are-experiencing-unexpected-reboots
[您的問題就會發生從開發或測試使用 hello 儲存體模擬器]: #your-issue-arises-from-using-the-storage-emulator
[功能"X"hello 儲存體模擬器中無法運作]: #feature-X-is-not-working
[錯誤 「 hello 其中一個 hello HTTP 標頭的值不正確格式的 hello 中 」 時使用 hello 儲存體模擬器]: #error-HTTP-header-not-correct-format
[執行中的 hello 儲存體模擬器需要系統管理權限]: #storage-emulator-requires-administrative-privileges
[您遇到安裝 hello Azure SDK for.NET 的問題]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[您的儲存體服務出現其他問題]: #you-have-a-different-issue-with-a-storage-service

[附錄]: #appendices
[附錄 1： 使用 Fiddler toocapture HTTP 及 HTTPS 流量]: #appendix-1
[附錄 2： 使用 Wireshark toocapture 網路流量]: #appendix-2
[附錄 3： 使用 Microsoft Message Analyzer toocapture 網路流量]: #appendix-3
[附錄 4： 使用 Excel tooview 度量和記錄資料]: #appendix-4
[附錄 5：使用 Application Insights for Visual Studio Team Services 監視]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting/overview.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-2.png
