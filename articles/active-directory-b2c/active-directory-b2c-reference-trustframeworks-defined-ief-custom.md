---
title: "Azure Active Directory B2C：參考 - 信任架構 | Microsoft Docs"
description: "關於 Azure Active Directory B2C 自訂原則和識別體驗架構的主題"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 08/04/2017
ms.author: joroja
ms.openlocfilehash: 4e2de9c4d1c0f92970911e132fffaacbd01d9ad0
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="define-trust-frameworks-with-azure-ad-b2c-identity-experience-framework"></a>使用 Azure AD B2C 識別體驗架構定義信任架構

使用識別體驗架構的 Azure Active Directory B2C (Azure AD B2C) 自訂原則，可為貴組織提供集中式服務。 此服務會降低感興趣的大型社群中，身分識別同盟的複雜度。 複雜度會降低為單一信任關係和單一中繼資料交換。

使用識別體驗架構的 Azure AD B2C 自訂原則讓您能夠回答下列問題：

- 必須遵守哪些法律、安全性、隱私權和資料保護原則？
- 連絡人是誰，要經過哪些程序才能成為合格參與者？
- 誰是合格的識別資訊提供者 (亦稱為「宣告提供者」)？他們能提供哪些資訊？
- 誰是合格的信賴憑證者？其要求條件為何？(後者為選擇性問題)
- 在技術方面，參與者有哪些「線上」互通性需求？
- 必須強制執行哪些作業「執行階段」規則，以便交換數位身分識別資訊？

為了回答上述所有問題，使用識別體驗架構的 Azure AD B2C 自訂原則會使用信任架構 (TF) 結構。 讓我們來看一下這個結構，並想想它能提供什麼。

## <a name="understand-the-trust-framework-and-federation-management-foundation"></a>了解信任架構和同盟管理基礎

信任架構是身分識別、安全性、隱私權和資料保護原則的書面規格，相關社群中的參與者都必須遵守此規格。

同盟身分識別可作為基礎，來實現網際網路規模的使用者身分識別保證。 藉由將身分識別管理工作委派給第三方，使用者就能對多個信賴憑證者重複使用單一數位身分識別。  

想要保證身分識別，需要識別提供者 (IdP) 和屬性提供者 (AtP) 共同遵守特定的安全性、隱私權和作業方面的原則與作法。  如果他們無法執行直接審查，信賴憑證者 (RP) 就必須對他們選擇要合作的 IdP 和 AtP 發展信任關係。  

由於數位身分識別資訊的取用者和提供者數目增加，因此，很難繼續在雙方之間管理這些信任關係，或甚至在雙方之間交換所需的中繼資料以連線到網路。  同盟中樞在解決這些問題上，只有些許成就。

### <a name="what-a-trust-framework-specification-defines"></a>信任架構規格定義的內容
TF 是 Open Identity Exchange (OIX) 信任架構模型的關鍵，在此模型中，每個相關社群都會受到特定 TF 規格的控管。 這類 TF 規範會定義︰

- **相關社群的安全性和隱私權計量，這些計量的定義如下︰**
    - 參與者所提供/要求的保證等級 (LOA)，例如，一組有先後次序的信賴評等，用以表示數位身分識別資訊的真實性。
    - 參與者所提供/要求的保護等級 (LOP)，例如，一組有先後次序的信賴評等，用以表示相關社群參與者所處理之數位身分識別資訊的保護程度。

- **參與者所提供/要求之數位身分識別資訊的說明**。

- **相關技術原則，適用於生產和取用數位身分識別資訊，乃至於測量 LOA 和 LOP。這些書面原則通常包含以下幾類原則：**
    - 身分識別證明原則，例如︰個人的身分識別資訊受到多嚴格的審查？
    - 安全性原則，例如︰資訊的完整性和機密性受到多嚴格的保護？
    - 隱私權原則，例如︰使用者對於個人識別資訊 (PII) 擁有何種控制權？
    - 生存能力原則，例如︰若提供者停止營業，PII 功能的持續性和保護如何運作？

- **適用於生產和取用數位身分識別資訊的技術設定檔。這些設定檔包括：**
    - 界定在指定的 LOA 下，數位身分識別資訊所適用的介面。
    - 線上互通性的技術需求。

- **社群參與者可執行之各種角色以及要擔任這些角色所需之資格的說明。**

因此，TF 規範會控管相關社群 (信賴憑證者、身分識別和屬性提供者，以及屬性驗證者) 的參與者彼此之間如何交換身分識別資訊。

TF 規格是一或多份文件，可供您參考如何對管制社群內數位身分識別資訊之判斷提示和取用的相關社群進行控管。 它是一組記載下來的原則和程序，其設計目的是為相關社群成員之間的線上交易所使用的數位身分識別建立信任。  

換句話說，TF 規格會為社群定義適用於建立可行之同盟身分識別生態系統的規則。

目前已普遍同意這類方法的好處。 毋庸置疑地，信任架構規格會促進數位身分識別生態系統的發展，並讓此系統具有可驗證的安全性、保證和隱私權特性，這表示這些規格能夠跨多個相關社群重複使用。

基於這個理由，使用識別體驗架構的 Azure AD B2C 自訂原則會使用此規格作為其 TF 資料表現方式的基礎，以促進互通性。  

利用識別體驗架構的 Azure AD B2C 自訂原則，會以混用人類和機器可讀取之資料的方式來表示 TF 規範。 此模型的部分小節 (通常是更控管導向的小節) 會表示為對已發行安全性和隱私權原則文件以及相關程序 (如果有的話) 的參考。 其他各節會詳細描述設定中繼資料和執行階段規則，以利作業自動化。

## <a name="understand-trust-framework-policies"></a>了解信任架構原則

在實作方面，TF 規格包含一組原則，可讓您完整控制身分識別行為和體驗。  利用識別體驗架構的 Azure AD B2C 自訂原則，可讓您透過這類能定義和設定的宣告式原則來撰寫及建立自己的 TF：

- 文件參考，以定義與 TF 有關之社群的同盟身分識別生態系統。 文件參考是 TF 文件的連結。 (預先定義的) 作業「執行階段」規則或使用者旅程，後者會自動執行及/或控制宣告的交換和使用。 這些使用者旅程會與 LOA (和 LOP) 相關聯。 原則所具備的使用者旅程圖因此會有不同的 LOA (和 LOP)。

- 相關社群中的身分識別和屬性提供者或宣告提供者，以及這些提供者所支援的技術設定檔以及與他們相關的 (頻外) LOA/LOP 認證。

- 與屬性驗證者或宣告提供者的整合。

- 社群中的信賴憑證者 (依推斷)。

- 用於在參與者之間建立網路通訊的中繼資料。 在交易過程中，此中繼資料以及技術設定檔會用來在信賴憑證者和其他社群參與者之間檢測「線上」互通性。

- 通訊協定轉換 (例如，SAML、OAuth2、WS-同盟和 OpenID Connect)，如果有的話。

- 驗證需求。

- 多重要素協調流程，如果有的話。

- 針對相關社群參與者，適用且對應之所有宣告的共用結構描述。

- 所有宣告轉換 (以及此內容中可能的資料最小化)，以支撐宣告的交換和使用。

- 繫結和加密。

- 宣告儲存體。

### <a name="understand-claims"></a>了解宣告

> [!NOTE]
> 我們將所有可交換的可能身分識別資訊類型統稱為「宣告」︰有關使用者的驗證認證、身分識別審查、通訊裝置、實體位置、個人識別屬性等項目的宣告。  
>
> 我們使用「宣告」一詞，而非「屬性」，是因為在線上交易的情況下，這些資料構件並非信賴憑證者可直接驗證的事實。 確切地說，它們是關於信賴憑證者必須產生足夠信心來授與使用者所要求交易之事實的判斷提示或宣告。  
>
> 我們也會使用「宣告」一詞，因為使用識別體驗架構的 Azure AD B2C 自訂原則是針對以一致的方式簡化所有數位身分識別資訊類型的交換所設計，而不論針對驗證使用者或擷取屬性工作所定義的基礎通訊協定為何。  同樣地，當我們不想區別提供者專屬的函式時，會使用「宣告提供者」一詞來統稱識別提供者、屬性提供者和屬性驗證者。   

因此，這些原則會控管如何在信賴憑證者、識別提供者和屬性提供者以及屬性驗證者之間交換身分識別資訊。 這些原則會控制信賴憑證者的驗證工作需要使用哪一個識別提供者和屬性提供者。 您應將這些原則視為特定領域語言 (DSL)，也就是特定應用程式定義域專用的電腦語言，並具有繼承、*if* 陳述式、多型。

這些原則會在利用識別體驗架構的 Azure AD B2C 自訂原則中，構成 TF 建構中電腦可讀取的部分。 它們包含所有作業的詳細資料，包括宣告提供者的中繼資料和技術設定檔、宣告結構描述定義、宣告轉換函式，以及可填入的使用者旅程圖，以利作業的協調流程和自動化。  

它們會被假設為「即時文件」，因為其關於原則中宣告之有效參與者的內容很可能會隨著時間變更。 此外，作為參與者的條款及條件也可能會變更。  

藉由讓信賴憑證者不會因為不同的宣告提供者/驗證者加入或離開原則集 (所代表的社群) 而不斷重新設定信任和連線，同盟的設定和維護已大幅簡化。

互通性是另一項重大挑戰。 信賴憑證者不可能支援所有必要的通訊協定，因此您必須整合其他宣告提供者/驗證者。 Azure AD B2C 自訂原則可解決此問題，其方法是藉由支援業界標準的通訊協定，並在信賴憑證者和屬性提供者不支援相同的通訊協定時，套用特定的使用者旅程圖來調換要求。  

使用者旅程圖包括通訊協定設定檔和中繼資料，其可供用來在信賴憑證者和其他參與者之間檢測「線上」互通性。 身分識別資訊交換要求/回應訊息也會有適用的作業執行階段規則，以便強制它們符合 TF 規格中已發佈原則的規範。 使用者旅程圖的想法是自訂客戶體驗的關鍵。 它也會闡述系統在通訊協定層級的運作方式。

在該基礎上，信賴憑證者應用程式和入口網站可以根據其內容，叫用利用識別體驗架構的 Azure AD B2C 自訂原則來傳遞特定原則的名稱，並精確取得其想要的行為和資訊交換，而不會有任何混亂、複雜或風險。
