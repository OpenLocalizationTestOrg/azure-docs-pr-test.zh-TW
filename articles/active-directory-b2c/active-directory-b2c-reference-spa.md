---
title: "Azure Active Directory B2C：使用隱含流程的單一頁面應用程式 | Microsoft Docs"
description: "了解如何 toobuild 單一頁面應用程式直接使用 OAuth 2.0 隱含流程與 Azure Active Directory B2C。"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 5e52abc18fe545f0f6d1745cdb2ea42c5b2698cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="3213b-103">Azure AD B2C：使用 OAuth 2.0 隱含流程的單一頁面應用程式登入</span><span class="sxs-lookup"><span data-stu-id="3213b-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="3213b-104">這項功能處於預覽狀態。</span><span class="sxs-lookup"><span data-stu-id="3213b-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="3213b-105">許多新式應用程式都有一個單頁應用程式前端，主要是以 JavaScript 撰寫。</span><span class="sxs-lookup"><span data-stu-id="3213b-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="3213b-106">通常，hello 撰寫應用程式的使用，如 AngularJS、 Ember.js 或 Durandal 架構。</span><span class="sxs-lookup"><span data-stu-id="3213b-106">Often, hello app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="3213b-107">主要在瀏覽器上執行的單一頁面應用程式和其他 JavaScript 應用程式，在驗證時會面臨一些額外的挑戰：</span><span class="sxs-lookup"><span data-stu-id="3213b-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="3213b-108">這些應用程式的 hello 安全性特性會明顯不同於傳統伺服器為基礎的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-108">hello security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="3213b-109">許多授權伺服器與識別提供者不支援跨原始來源資源共用 (CORS) 要求。</span><span class="sxs-lookup"><span data-stu-id="3213b-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="3213b-110">停用完整網頁瀏覽器重新導向遠離 hello 應用程式可能會大幅侵入性功能 toohello 使用者經驗。</span><span class="sxs-lookup"><span data-stu-id="3213b-110">Full-page browser redirects away from hello app can be significantly invasive toohello user experience.</span></span>

<span data-ttu-id="3213b-111">toosupport 這些應用程式，Azure Active Directory B2C (Azure AD B2C) 會使用 hello OAuth 2.0 隱含流程。</span><span class="sxs-lookup"><span data-stu-id="3213b-111">toosupport these applications, Azure Active Directory B2C (Azure AD B2C) uses hello OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="3213b-112">hello OAuth 2.0 授權隱含授與流程述[區段 hello OAuth 2.0 規格的 4.2](http://tools.ietf.org/html/rfc6749)。</span><span class="sxs-lookup"><span data-stu-id="3213b-112">hello OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="3213b-113">在隱含流程中，hello 應用程式接收權杖，直接從 hello Azure Active Directory (Azure AD) 授權端點，沒有任何伺服器對伺服器交換。</span><span class="sxs-lookup"><span data-stu-id="3213b-113">In implicit flow, hello app receives tokens directly from hello Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="3213b-114">所有的驗證邏輯和工作階段處理會將完全 hello JavaScript 用戶端，而其他的頁面重新導向不放。</span><span class="sxs-lookup"><span data-stu-id="3213b-114">All authentication logic and session handling takes place entirely in hello JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="3213b-115">Azure AD B2C 擴充 hello 標準 OAuth 2.0 隱含流程 toomore 比簡單驗證及授權。</span><span class="sxs-lookup"><span data-stu-id="3213b-115">Azure AD B2C extends hello standard OAuth 2.0 implicit flow toomore than simple authentication and authorization.</span></span> <span data-ttu-id="3213b-116">Azure AD B2C 導入了 hello[原則參數](active-directory-b2c-reference-policies.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-116">Azure AD B2C introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="3213b-117">Hello 原則參數，您可以使用 OAuth 2.0 tooadd 使用者體驗 tooyour 應用程式，例如註冊、 登入及管理設定檔。</span><span class="sxs-lookup"><span data-stu-id="3213b-117">With hello policy parameter, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="3213b-118">在本文中，我們為您示範如何 toouse hello 隱含流程和 Azure AD tooimplement 每個在單一頁面應用程式中的這些體驗。</span><span class="sxs-lookup"><span data-stu-id="3213b-118">In this article, we show you how toouse hello implicit flow and Azure AD tooimplement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="3213b-119">toohelp 開始使用，看看我們[Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)和[MICROSOFT.NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)範例。</span><span class="sxs-lookup"><span data-stu-id="3213b-119">toohelp you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="3213b-120">在本文中的 hello 範例 HTTP 要求，我們使用我們的範例 Azure AD B2C 目錄**fabrikamb2c.onmicrosoft.com**。此外，也會使用我們的範例應用程式和原則。</span><span class="sxs-lookup"><span data-stu-id="3213b-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our own sample application and policies.</span></span> <span data-ttu-id="3213b-121">您可以嘗試 hello 要求您自己使用這些值，或您可以取代您自己的值。</span><span class="sxs-lookup"><span data-stu-id="3213b-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="3213b-122">了解如何太[取得自己的 Azure AD B2C 目錄、 應用程式，以及原則](#use-your-own-b2c-tenant)。</span><span class="sxs-lookup"><span data-stu-id="3213b-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="3213b-123">通訊協定圖表</span><span class="sxs-lookup"><span data-stu-id="3213b-123">Protocol diagram</span></span>

<span data-ttu-id="3213b-124">hello 隱含登入流程看起來像下列圖 hello。</span><span class="sxs-lookup"><span data-stu-id="3213b-124">hello implicit sign-in flow looks something like hello following figure.</span></span> <span data-ttu-id="3213b-125">本文稍後 hello 詳細說明每個步驟。</span><span class="sxs-lookup"><span data-stu-id="3213b-125">Each step is described in detail later in hello article.</span></span>

![OpenID Connect 區隔線](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="3213b-127">傳送驗證要求</span><span class="sxs-lookup"><span data-stu-id="3213b-127">Send authentication requests</span></span>
<span data-ttu-id="3213b-128">當您的 web 應用程式需要 tooauthenticate hello 使用者，並執行原則時，它會導向 hello 使用者 toohello`/authorize`端點。</span><span class="sxs-lookup"><span data-stu-id="3213b-128">When your web app needs tooauthenticate hello user and execute a policy, it directs hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="3213b-129">這是 hello 互動式部份 hello 流程其中 hello 使用者採取動作，視 hello 原則而定。</span><span class="sxs-lookup"><span data-stu-id="3213b-129">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span> <span data-ttu-id="3213b-130">hello 使用者取得 ID 權杖從 hello Azure AD 端點。</span><span class="sxs-lookup"><span data-stu-id="3213b-130">hello user gets an ID token from hello Azure AD endpoint.</span></span>

<span data-ttu-id="3213b-131">在這項要求，hello 用戶端表示在 hello`scope`它需要從 hello 使用者 tooacquire 參數 hello 權限。</span><span class="sxs-lookup"><span data-stu-id="3213b-131">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="3213b-132">在 hello`p`參數，它會指出 hello 原則 tooexecute。</span><span class="sxs-lookup"><span data-stu-id="3213b-132">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="3213b-133">hello 下列三個範例 （使用分行符號來提高可讀性） 使用不同的原則。</span><span class="sxs-lookup"><span data-stu-id="3213b-133">hello following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="3213b-134">tooget 的風格的每個要求的運作方式，然後嘗試貼上 hello 要求，到瀏覽器，並執行它。</span><span class="sxs-lookup"><span data-stu-id="3213b-134">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="3213b-135">使用登入原則</span><span class="sxs-lookup"><span data-stu-id="3213b-135">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="3213b-136">使用註冊原則</span><span class="sxs-lookup"><span data-stu-id="3213b-136">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="3213b-137">使用編輯設定檔原則</span><span class="sxs-lookup"><span data-stu-id="3213b-137">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="3213b-138">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-138">Parameter</span></span> | <span data-ttu-id="3213b-139">必要？</span><span class="sxs-lookup"><span data-stu-id="3213b-139">Required?</span></span> | <span data-ttu-id="3213b-140">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3213b-141">client_id</span><span class="sxs-lookup"><span data-stu-id="3213b-141">client_id</span></span> |<span data-ttu-id="3213b-142">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-142">Required</span></span> |<span data-ttu-id="3213b-143">hello 應用程式識別碼指派 tooyour 應用程式在 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="3213b-143">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="3213b-144">response_type</span><span class="sxs-lookup"><span data-stu-id="3213b-144">response_type</span></span> |<span data-ttu-id="3213b-145">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-145">Required</span></span> |<span data-ttu-id="3213b-146">必須包含 OpenID Connect 登入的 `id_token` 。</span><span class="sxs-lookup"><span data-stu-id="3213b-146">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="3213b-147">它也可以包含 hello 回應類型`token`。</span><span class="sxs-lookup"><span data-stu-id="3213b-147">It also can include hello response type `token`.</span></span> <span data-ttu-id="3213b-148">如果您使用`token`，您的應用程式可以立即從 hello 接收存取權杖授權端點，而不需要進行第二個要求 toohello，授權端點。</span><span class="sxs-lookup"><span data-stu-id="3213b-148">If you use `token`, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span>  <span data-ttu-id="3213b-149">如果您使用 hello`token`回應類型、 hello`scope`參數必須包含的範圍，指出哪些資源 tooissue hello 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-149">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="3213b-150">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="3213b-150">redirect_uri</span></span> |<span data-ttu-id="3213b-151">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-151">Recommended</span></span> |<span data-ttu-id="3213b-152">hello 重新導向的應用程式，可以傳送及接收您的應用程式驗證回應的 URI。</span><span class="sxs-lookup"><span data-stu-id="3213b-152">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="3213b-153">它必須完全符合其中一個 hello 重新導向您在 hello 入口網站註冊 Uri 不同之處在於它必須以 URL 編碼。</span><span class="sxs-lookup"><span data-stu-id="3213b-153">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="3213b-154">response_mode</span><span class="sxs-lookup"><span data-stu-id="3213b-154">response_mode</span></span> |<span data-ttu-id="3213b-155">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-155">Recommended</span></span> |<span data-ttu-id="3213b-156">指定 hello 方法 toouse toosend hello 產生語彙基元後 tooyour 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-156">Specifies hello method toouse toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="3213b-157">針對隱含流程，請使用 `fragment`。</span><span class="sxs-lookup"><span data-stu-id="3213b-157">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="3213b-158">scope</span><span class="sxs-lookup"><span data-stu-id="3213b-158">scope</span></span> |<span data-ttu-id="3213b-159">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-159">Required</span></span> |<span data-ttu-id="3213b-160">範圍的空格分隔清單。</span><span class="sxs-lookup"><span data-stu-id="3213b-160">A space-separated list of scopes.</span></span> <span data-ttu-id="3213b-161">單一領域值會表示 tooAzure AD 這兩個要求的 hello 權限。</span><span class="sxs-lookup"><span data-stu-id="3213b-161">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="3213b-162">hello`openid`範圍表示權限 toosign hello hello 表單的 ID 語彙基元中的 hello 使用者相關的使用者，以及如何取得資料中。</span><span class="sxs-lookup"><span data-stu-id="3213b-162">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="3213b-163">（我們將討論這更本文稍後 hello。）hello`offline_access`範圍都是選擇性的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-163">(We'll talk about this more later in hello article.) hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="3213b-164">它表示您的應用程式必須重新整理權杖的存留期長存取 tooresources。</span><span class="sxs-lookup"><span data-stu-id="3213b-164">It indicates that your app needs a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="3213b-165">state</span><span class="sxs-lookup"><span data-stu-id="3213b-165">state</span></span> |<span data-ttu-id="3213b-166">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-166">Recommended</span></span> |<span data-ttu-id="3213b-167">包含在 hello 要求也 hello 權杖回應中傳回的值。</span><span class="sxs-lookup"><span data-stu-id="3213b-167">A value included in hello request that also is returned in hello token response.</span></span> <span data-ttu-id="3213b-168">它可以是您想要 toouse 任何內容的字串。</span><span class="sxs-lookup"><span data-stu-id="3213b-168">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="3213b-169">通常，會使用隨機產生的唯一值，tooprevent 跨網站要求偽造攻擊。</span><span class="sxs-lookup"><span data-stu-id="3213b-169">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="3213b-170">hello 狀態也是使用的 tooencode 資訊 hello 應用程式中的 hello 使用者狀態的相關發生 hello 驗證要求之前，像是 hello 頁面它們都上。</span><span class="sxs-lookup"><span data-stu-id="3213b-170">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, like hello page they were on.</span></span> |
| <span data-ttu-id="3213b-171">nonce</span><span class="sxs-lookup"><span data-stu-id="3213b-171">nonce</span></span> |<span data-ttu-id="3213b-172">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-172">Required</span></span> |<span data-ttu-id="3213b-173">值，包含在資料包含在 hello 產生的 ID 語彙基元宣告的形式 hello 要求 （由 hello 應用程式所產生）。</span><span class="sxs-lookup"><span data-stu-id="3213b-173">A value included in hello request (generated by hello app) that is included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="3213b-174">hello 應用程式然後確認此值 toomitigate 權杖重新執行攻擊。</span><span class="sxs-lookup"><span data-stu-id="3213b-174">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="3213b-175">通常，hello 值會是隨機的唯一字串，可以使用的 tooidentify hello 原點的 hello 要求。</span><span class="sxs-lookup"><span data-stu-id="3213b-175">Usually, hello value is a randomized, unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="3213b-176">p</span><span class="sxs-lookup"><span data-stu-id="3213b-176">p</span></span> |<span data-ttu-id="3213b-177">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-177">Required</span></span> |<span data-ttu-id="3213b-178">hello 原則 tooexecute。</span><span class="sxs-lookup"><span data-stu-id="3213b-178">hello policy tooexecute.</span></span> <span data-ttu-id="3213b-179">它的 hello 的名稱會在您的 Azure AD B2C 租用戶中建立的原則。</span><span class="sxs-lookup"><span data-stu-id="3213b-179">It's hello name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="3213b-180">hello 原則名稱值開頭應該是**b2c\_1\_**。</span><span class="sxs-lookup"><span data-stu-id="3213b-180">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="3213b-181">如需詳細資訊，請參閱 [Azure AD B2C 內建原則](active-directory-b2c-reference-policies.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-181">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="3213b-182">prompt</span><span class="sxs-lookup"><span data-stu-id="3213b-182">prompt</span></span> |<span data-ttu-id="3213b-183">選用</span><span class="sxs-lookup"><span data-stu-id="3213b-183">Optional</span></span> |<span data-ttu-id="3213b-184">使用者互動所需的 hello 型別。</span><span class="sxs-lookup"><span data-stu-id="3213b-184">hello type of user interaction that's required.</span></span> <span data-ttu-id="3213b-185">目前，hello 唯一有效的值是`login`。</span><span class="sxs-lookup"><span data-stu-id="3213b-185">Currently, hello only valid value is `login`.</span></span> <span data-ttu-id="3213b-186">這會強制 hello 使用者 tooenter 他們的認證在該要求。</span><span class="sxs-lookup"><span data-stu-id="3213b-186">This forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="3213b-187">單一登入將沒有作用。</span><span class="sxs-lookup"><span data-stu-id="3213b-187">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="3213b-188">此時，會要求 hello 使用者 toocomplete hello 原則的工作流程。</span><span class="sxs-lookup"><span data-stu-id="3213b-188">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="3213b-189">這可能涉及 hello 使用者輸入使用者名稱和密碼，登入社交身分識別，註冊 hello 目錄或任何其他步驟數目。</span><span class="sxs-lookup"><span data-stu-id="3213b-189">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="3213b-190">使用者動作取決於定義 hello 原則的方式。</span><span class="sxs-lookup"><span data-stu-id="3213b-190">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="3213b-191">Hello 使用者完成 hello 原則之後，Azure AD 傳回的回應 tooyour 應用程式，在您所使用的 hello 值`redirect_uri`。</span><span class="sxs-lookup"><span data-stu-id="3213b-191">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="3213b-192">它會使用 hello 中指定的 hello 方法`response_mode`參數。</span><span class="sxs-lookup"><span data-stu-id="3213b-192">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="3213b-193">每個 hello 使用者動作案例，獨立於上次執行所執行的 hello 原則 hello 回應是完全 hello 相同。</span><span class="sxs-lookup"><span data-stu-id="3213b-193">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="3213b-194">成功回應</span><span class="sxs-lookup"><span data-stu-id="3213b-194">Successful response</span></span>
<span data-ttu-id="3213b-195">成功的回應使用`response_mode=fragment`和`response_type=id_token+token`hello 下列程式碼，分行符號以利閱讀看起來像：</span><span class="sxs-lookup"><span data-stu-id="3213b-195">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like hello following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="3213b-196">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-196">Parameter</span></span> | <span data-ttu-id="3213b-197">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-197">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3213b-198">access_token</span><span class="sxs-lookup"><span data-stu-id="3213b-198">access_token</span></span> |<span data-ttu-id="3213b-199">hello hello 應用程式要求存取權杖。</span><span class="sxs-lookup"><span data-stu-id="3213b-199">hello access token that hello app requested.</span></span>  <span data-ttu-id="3213b-200">hello 存取權杖不應解碼或檢查。</span><span class="sxs-lookup"><span data-stu-id="3213b-200">hello access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="3213b-201">其可被視為不透明的字串。</span><span class="sxs-lookup"><span data-stu-id="3213b-201">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="3213b-202">token_type</span><span class="sxs-lookup"><span data-stu-id="3213b-202">token_type</span></span> |<span data-ttu-id="3213b-203">hello 語彙基元型別值。</span><span class="sxs-lookup"><span data-stu-id="3213b-203">hello token type value.</span></span> <span data-ttu-id="3213b-204">hello 只能輸入 Azure AD 支援的承載。</span><span class="sxs-lookup"><span data-stu-id="3213b-204">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="3213b-205">expires_in</span><span class="sxs-lookup"><span data-stu-id="3213b-205">expires_in</span></span> |<span data-ttu-id="3213b-206">hello hello 存取權杖的時間長度 （以秒為單位） 無效。</span><span class="sxs-lookup"><span data-stu-id="3213b-206">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="3213b-207">scope</span><span class="sxs-lookup"><span data-stu-id="3213b-207">scope</span></span> |<span data-ttu-id="3213b-208">hello 語彙基元的 hello 範圍無效。</span><span class="sxs-lookup"><span data-stu-id="3213b-208">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="3213b-209">您也可以使用範圍 toocache 語彙基元供以後使用。</span><span class="sxs-lookup"><span data-stu-id="3213b-209">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="3213b-210">id_token</span><span class="sxs-lookup"><span data-stu-id="3213b-210">id_token</span></span> |<span data-ttu-id="3213b-211">hello hello 應用程式要求的 ID 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-211">hello ID token that hello app requested.</span></span> <span data-ttu-id="3213b-212">您可以使用 hello ID 語彙基元 tooverify hello 使用者的身分識別，並開始與 hello 使用者工作階段。</span><span class="sxs-lookup"><span data-stu-id="3213b-212">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="3213b-213">如需 ID 語彙基元和其內容的詳細資訊，請參閱 hello [Azure AD B2C 權杖參照](active-directory-b2c-reference-tokens.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-213">For more information about ID tokens and their contents, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="3213b-214">state</span><span class="sxs-lookup"><span data-stu-id="3213b-214">state</span></span> |<span data-ttu-id="3213b-215">如果`state`參數包含在 hello 要求 hello 相同的值應該會出現在 hello 回應。</span><span class="sxs-lookup"><span data-stu-id="3213b-215">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="3213b-216">hello 應用程式應該確認該 hello `state` hello 要求和回應中的值完全相同。</span><span class="sxs-lookup"><span data-stu-id="3213b-216">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="3213b-217">錯誤回應</span><span class="sxs-lookup"><span data-stu-id="3213b-217">Error response</span></span>
<span data-ttu-id="3213b-218">錯誤回應也可以為傳送 toohello 重新導向 URI，如此 hello 應用程式可以適當處理這些：</span><span class="sxs-lookup"><span data-stu-id="3213b-218">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="3213b-219">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-219">Parameter</span></span> | <span data-ttu-id="3213b-220">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3213b-221">錯誤</span><span class="sxs-lookup"><span data-stu-id="3213b-221">error</span></span> |<span data-ttu-id="3213b-222">錯誤碼字串使用 tooclassify 類型發生的錯誤。</span><span class="sxs-lookup"><span data-stu-id="3213b-222">An error code string used tooclassify types of errors that occur.</span></span> <span data-ttu-id="3213b-223">您也可以使用 hello 錯誤碼的錯誤處理。</span><span class="sxs-lookup"><span data-stu-id="3213b-223">You also can use hello error code for error handling.</span></span> |
| <span data-ttu-id="3213b-224">error_description</span><span class="sxs-lookup"><span data-stu-id="3213b-224">error_description</span></span> |<span data-ttu-id="3213b-225">特定的錯誤訊息，可協助您找出 hello 的驗證錯誤的根本原因。</span><span class="sxs-lookup"><span data-stu-id="3213b-225">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="3213b-226">state</span><span class="sxs-lookup"><span data-stu-id="3213b-226">state</span></span> |<span data-ttu-id="3213b-227">請參閱 hello hello 上述資料表中的完整描述。</span><span class="sxs-lookup"><span data-stu-id="3213b-227">See hello full description in hello preceding table.</span></span> <span data-ttu-id="3213b-228">如果`state`參數包含在 hello 要求 hello 相同的值應該會出現在 hello 回應。</span><span class="sxs-lookup"><span data-stu-id="3213b-228">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="3213b-229">hello 應用程式應該確認該 hello `state` hello 要求和回應中的值完全相同。</span><span class="sxs-lookup"><span data-stu-id="3213b-229">hello app should verify that hello `state` values in hello request and response are identical.</span></span>|

## <a name="validate-hello-id-token"></a><span data-ttu-id="3213b-230">驗證 hello 的 ID 語彙基元</span><span class="sxs-lookup"><span data-stu-id="3213b-230">Validate hello ID token</span></span>
<span data-ttu-id="3213b-231">接收的 ID 語彙基元不足夠 tooauthenticate hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="3213b-231">Receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="3213b-232">您必須驗證 hello 識別碼權杖之簽章，並確認每個應用程式需求的 hello 權杖中的 hello 宣告。</span><span class="sxs-lookup"><span data-stu-id="3213b-232">You must validate hello ID token's signature, and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="3213b-233">使用 azure AD B2C [JSON Web 權杖 (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html)和公用金鑰密碼編譯 toosign 語彙基元，並確認都有效。</span><span class="sxs-lookup"><span data-stu-id="3213b-233">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="3213b-234">許多開放原始碼程式庫無法驗證 Jwt，您可以根據 hello 語言偏好 toouse。</span><span class="sxs-lookup"><span data-stu-id="3213b-234">Many open-source libraries are available for validating JWTs, depending on hello language you prefer toouse.</span></span> <span data-ttu-id="3213b-235">建議您探索可用的開放原始碼程式庫，而不是實作您自己的驗證邏輯。</span><span class="sxs-lookup"><span data-stu-id="3213b-235">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="3213b-236">您可以使用 hello 資訊在此發行項 toohelp 您了解 tooproperly 如何使用這些程式庫。</span><span class="sxs-lookup"><span data-stu-id="3213b-236">You can use hello information in this article toohelp you learn how tooproperly use those libraries.</span></span>

<span data-ttu-id="3213b-237">Azure AD B2C 具有 OpenID Connect 中繼資料端點。</span><span class="sxs-lookup"><span data-stu-id="3213b-237">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="3213b-238">應用程式可以在執行階段使用 hello 端點 toofetch Azure AD B2C 資訊。</span><span class="sxs-lookup"><span data-stu-id="3213b-238">An app can use hello endpoint toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="3213b-239">這項資訊包括端點、權杖內容和權杖簽署金鑰。</span><span class="sxs-lookup"><span data-stu-id="3213b-239">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="3213b-240">您的 Azure AD B2C 租用戶中的每個原則都有一份 JSON 中繼資料文件。</span><span class="sxs-lookup"><span data-stu-id="3213b-240">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="3213b-241">例如，hello hello b2c_1_sign_in 原則 hello fabrikamb2c.onmicrosoft.com 租用戶中的中繼資料文件的位置是：</span><span class="sxs-lookup"><span data-stu-id="3213b-241">For example, hello metadata document for hello b2c_1_sign_in policy in hello fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="3213b-242">此設定文件的 hello 屬性的其中一個為 hello `jwks_uri`。</span><span class="sxs-lookup"><span data-stu-id="3213b-242">One of hello properties of this configuration document is hello `jwks_uri`.</span></span> <span data-ttu-id="3213b-243">相同的原則會被的 hello 的 hello 值：</span><span class="sxs-lookup"><span data-stu-id="3213b-243">hello value for hello same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="3213b-244">toodetermine 哪些原則已使用的 toosign ID 權杖 （和其中 toofetch hello 從中繼資料），有兩個選項。</span><span class="sxs-lookup"><span data-stu-id="3213b-244">toodetermine which policy was used toosign an ID token (and where toofetch hello metadata from), you have two options.</span></span> <span data-ttu-id="3213b-245">首先，hello 原則名稱包含在 hello`acr`中宣告`id_token`。</span><span class="sxs-lookup"><span data-stu-id="3213b-245">First, hello policy name is included in hello `acr` claim in `id_token`.</span></span> <span data-ttu-id="3213b-246">如需 tooparse hello 從 ID 權杖的宣告資訊，請參閱 hello [Azure AD B2C 權杖參照](active-directory-b2c-reference-tokens.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-246">For information about how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="3213b-247">另一個選擇是 tooencode hello hello 值中的 hello 原則`state`發出 hello 要求時的參數。</span><span class="sxs-lookup"><span data-stu-id="3213b-247">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request.</span></span> <span data-ttu-id="3213b-248">然後，解碼 hello`state`參數 toodetermine 用哪一個原則。</span><span class="sxs-lookup"><span data-stu-id="3213b-248">Then, decode hello `state` parameter toodetermine which policy was used.</span></span> <span data-ttu-id="3213b-249">任一種方法都有效。</span><span class="sxs-lookup"><span data-stu-id="3213b-249">Either method is valid.</span></span>

<span data-ttu-id="3213b-250">您已取得 hello 從 hello OpenID Connect 的中繼資料端點的中繼資料文件之後，您可以使用 hello RSA 256 （位於此端點） 的公開金鑰 toovalidate hello 簽章的 hello 的 ID 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-250">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA-256 public keys (located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="3213b-251">此端點可能隨時會列出多個金鑰，每個都由 `kid` 所識別。</span><span class="sxs-lookup"><span data-stu-id="3213b-251">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="3213b-252">hello 標頭`id_token`也包含`kid`宣告。</span><span class="sxs-lookup"><span data-stu-id="3213b-252">hello header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="3213b-253">它會指出哪個這些按鍵已使用的 toosign hello ID 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-253">It indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="3213b-254">如需詳細資訊，包括了解[驗證權杖](active-directory-b2c-reference-tokens.md#token-validation)，請參閱 hello [Azure AD B2C 權杖參照](active-directory-b2c-reference-tokens.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-254">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="3213b-255">驗證簽章 hello hello 的 ID 語彙基元之後，數個宣告需要驗證。</span><span class="sxs-lookup"><span data-stu-id="3213b-255">After you validate hello signature of hello ID token, several claims require verification.</span></span> <span data-ttu-id="3213b-256">例如：</span><span class="sxs-lookup"><span data-stu-id="3213b-256">For example:</span></span>

* <span data-ttu-id="3213b-257">驗證 hello`nonce`宣告 tooprevent 權杖重新執行攻擊。</span><span class="sxs-lookup"><span data-stu-id="3213b-257">Validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="3213b-258">其值必須為 hello 登入要求中指定的內容。</span><span class="sxs-lookup"><span data-stu-id="3213b-258">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="3213b-259">驗證 hello`aud`宣告 hello 的 ID 語彙基元的 tooensure 發行的應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-259">Validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="3213b-260">其值必須為您的應用程式的 hello 應用程式識別碼。</span><span class="sxs-lookup"><span data-stu-id="3213b-260">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="3213b-261">驗證 hello`iat`和`exp`hello 的 ID 語彙基元的 tooensure 尚未過期的宣告。</span><span class="sxs-lookup"><span data-stu-id="3213b-261">Validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="3213b-262">在 hello 詳細地說明數個您應該執行的多個驗證[OpenID 連線核心規格](http://openid.net/specs/openid-connect-core-1_0.html)。Toovalidate 額外的宣告，也可以根據您的案例。</span><span class="sxs-lookup"><span data-stu-id="3213b-262">Several more validations that you should perform are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="3213b-263">一些常見的驗證包括：</span><span class="sxs-lookup"><span data-stu-id="3213b-263">Some common validations include:</span></span>

* <span data-ttu-id="3213b-264">確保該 hello 使用者或組織已註冊 hello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-264">Ensuring that hello user or organization has signed up for hello app.</span></span>
* <span data-ttu-id="3213b-265">確保該 hello 使用者具有適當的權限及權限。</span><span class="sxs-lookup"><span data-stu-id="3213b-265">Ensuring that hello user has proper authorization and privileges.</span></span>
* <span data-ttu-id="3213b-266">確保驗證方式有一定的強度，例如使用 Azure Multi-Factor Authentication。</span><span class="sxs-lookup"><span data-stu-id="3213b-266">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="3213b-267">如需 ID 權杖中的 hello 宣告的詳細資訊，請參閱 hello [Azure AD B2C 權杖參照](active-directory-b2c-reference-tokens.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-267">For more information about hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="3213b-268">您已完全驗證 hello 的 ID 語彙基元之後，您可以開始工作階段與 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="3213b-268">After you have completely validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="3213b-269">在應用程式中使用 hello 宣告在 hello ID 語彙基元 tooobtain hello 使用者資訊。</span><span class="sxs-lookup"><span data-stu-id="3213b-269">In your app, use hello claims in hello ID token tooobtain information about hello user.</span></span> <span data-ttu-id="3213b-270">這項資訊可以用於顯示、記錄、授權等等。</span><span class="sxs-lookup"><span data-stu-id="3213b-270">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="3213b-271">取得存取權杖</span><span class="sxs-lookup"><span data-stu-id="3213b-271">Get access tokens</span></span>
<span data-ttu-id="3213b-272">如果您的 web 應用程式需求 toodo 是 hello 唯一執行原則，您可以略過 hello 接下來的章節。</span><span class="sxs-lookup"><span data-stu-id="3213b-272">If hello only thing your web apps needs toodo is execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="3213b-273">適用於只有 tooweb 應用程式，需要驗證的 toomake 呼叫 tooa web API 的受保護的和 Azure AD B2C 的 hello 下列各節中的 hello 資訊。</span><span class="sxs-lookup"><span data-stu-id="3213b-273">hello information in hello following sections are applicable only tooweb apps that need toomake authenticated calls tooa web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="3213b-274">既然您已登入 hello tooyour 單一頁面應用程式中的使用者，您可以呼叫 web Api 受到 Azure AD 取得存取權杖。</span><span class="sxs-lookup"><span data-stu-id="3213b-274">Now that you've signed hello user in tooyour single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="3213b-275">即使您已經使用 hello 收到權杖`token`回應類型，您可以使用此方法 tooacquire 語彙基元的其他資源不需要再次重新導向 hello 使用者 toosign 中的。</span><span class="sxs-lookup"><span data-stu-id="3213b-275">Even if you have already received a token by using hello `token` response type, you can use this method tooacquire tokens for additional resources without redirecting hello user toosign in again.</span></span>

<span data-ttu-id="3213b-276">在典型的 web 應用程式流程中，您需要執行此動作藉由要求 toohello`/token`端點。</span><span class="sxs-lookup"><span data-stu-id="3213b-276">In a typical web app flow, you would do this by making a request toohello `/token` endpoint.</span></span>  <span data-ttu-id="3213b-277">不過，hello 端點會不支援 CORS 要求，因此讓 AJAX 呼叫 tooget 並重新整理權杖不是可行。</span><span class="sxs-lookup"><span data-stu-id="3213b-277">However, hello endpoint does not support CORS requests, so making AJAX calls tooget and refresh tokens is not an option.</span></span> <span data-ttu-id="3213b-278">相反地，您可以隱藏 HTML iframe 項目 tooget 新權杖使用 hello 隱含流程其他 web 應用程式開發介面。</span><span class="sxs-lookup"><span data-stu-id="3213b-278">Instead, you can use hello implicit flow in a hidden HTML iframe element tooget new tokens for other web APIs.</span></span> <span data-ttu-id="3213b-279">以下是範例 (內含換行符號以利閱讀)：</span><span class="sxs-lookup"><span data-stu-id="3213b-279">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="3213b-280">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-280">Parameter</span></span> | <span data-ttu-id="3213b-281">必要？</span><span class="sxs-lookup"><span data-stu-id="3213b-281">Required?</span></span> | <span data-ttu-id="3213b-282">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3213b-283">client_id</span><span class="sxs-lookup"><span data-stu-id="3213b-283">client_id</span></span> |<span data-ttu-id="3213b-284">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-284">Required</span></span> |<span data-ttu-id="3213b-285">hello 應用程式識別碼指派 tooyour 應用程式在 hello [Azure 入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="3213b-285">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="3213b-286">response_type</span><span class="sxs-lookup"><span data-stu-id="3213b-286">response_type</span></span> |<span data-ttu-id="3213b-287">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-287">Required</span></span> |<span data-ttu-id="3213b-288">必須包含 OpenID Connect 登入的 `id_token` 。</span><span class="sxs-lookup"><span data-stu-id="3213b-288">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="3213b-289">它也可以包含 hello 回應類型`token`。</span><span class="sxs-lookup"><span data-stu-id="3213b-289">It might also include hello response type `token`.</span></span> <span data-ttu-id="3213b-290">如果您使用`token`這裡，您的應用程式可以立即存取權杖從接收 hello 授權端點，而不需要進行第二個要求 toohello，授權端點。</span><span class="sxs-lookup"><span data-stu-id="3213b-290">If you use `token` here, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span> <span data-ttu-id="3213b-291">如果您使用 hello`token`回應類型、 hello`scope`參數必須包含的範圍，指出哪些資源 tooissue hello 語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-291">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="3213b-292">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="3213b-292">redirect_uri</span></span> |<span data-ttu-id="3213b-293">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-293">Recommended</span></span> |<span data-ttu-id="3213b-294">hello 重新導向的應用程式，可以傳送及接收您的應用程式驗證回應的 URI。</span><span class="sxs-lookup"><span data-stu-id="3213b-294">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="3213b-295">它必須完全符合 hello 重新導向 Uri 您 hello 入口網站中註冊的其中一個不同之處在於它必須以 URL 編碼。</span><span class="sxs-lookup"><span data-stu-id="3213b-295">It must exactly match one of hello redirect URIs you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="3213b-296">scope</span><span class="sxs-lookup"><span data-stu-id="3213b-296">scope</span></span> |<span data-ttu-id="3213b-297">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-297">Required</span></span> |<span data-ttu-id="3213b-298">範圍的空格分隔清單。</span><span class="sxs-lookup"><span data-stu-id="3213b-298">A space-separated list of scopes.</span></span>  <span data-ttu-id="3213b-299">取得權杖，包含預期的 hello 資源所需的所有領域。</span><span class="sxs-lookup"><span data-stu-id="3213b-299">For getting tokens, include all scopes that you require for hello intended resource.</span></span> |
| <span data-ttu-id="3213b-300">response_mode</span><span class="sxs-lookup"><span data-stu-id="3213b-300">response_mode</span></span> |<span data-ttu-id="3213b-301">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-301">Recommended</span></span> |<span data-ttu-id="3213b-302">指定 hello 方法是使用的 toosend hello 產生語彙基元後 tooyour 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-302">Specifies hello method that is used toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="3213b-303">可以是 `query`、`form_post` 或 `fragment`。</span><span class="sxs-lookup"><span data-stu-id="3213b-303">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="3213b-304">state</span><span class="sxs-lookup"><span data-stu-id="3213b-304">state</span></span> |<span data-ttu-id="3213b-305">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-305">Recommended</span></span> |<span data-ttu-id="3213b-306">包含在 hello 要求 hello 權杖回應中傳回的值。</span><span class="sxs-lookup"><span data-stu-id="3213b-306">A value included in hello request that is returned in hello token response.</span></span>  <span data-ttu-id="3213b-307">它可以是您想要 toouse 任何內容的字串。</span><span class="sxs-lookup"><span data-stu-id="3213b-307">It can be a string of any content that you want toouse.</span></span>  <span data-ttu-id="3213b-308">通常，會使用隨機產生的唯一值，tooprevent 跨網站要求偽造攻擊。</span><span class="sxs-lookup"><span data-stu-id="3213b-308">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="3213b-309">發生 hello 驗證要求之前，hello 狀態也是使用的 tooencode hello 應用程式中的 hello 使用者狀態資訊。</span><span class="sxs-lookup"><span data-stu-id="3213b-309">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="3213b-310">例如，已在 hello 頁面或檢視 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="3213b-310">For example, hello page or view hello user was on.</span></span> |
| <span data-ttu-id="3213b-311">nonce</span><span class="sxs-lookup"><span data-stu-id="3213b-311">nonce</span></span> |<span data-ttu-id="3213b-312">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-312">Required</span></span> |<span data-ttu-id="3213b-313">值，包含在 hello 要求中，隨附於 hello 產生的 ID 語彙基元宣告的形式 hello 應用程式所產生。</span><span class="sxs-lookup"><span data-stu-id="3213b-313">A value included in hello request, generated by hello app, that is included in hello resulting ID token as a claim.</span></span>  <span data-ttu-id="3213b-314">hello 應用程式然後確認此值 toomitigate 權杖重新執行攻擊。</span><span class="sxs-lookup"><span data-stu-id="3213b-314">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="3213b-315">通常，hello 值是可識別 hello hello 要求來源的隨機的唯一字串。</span><span class="sxs-lookup"><span data-stu-id="3213b-315">Usually, hello value is a randomized, unique string that identifies hello origin of hello request.</span></span> |
| <span data-ttu-id="3213b-316">prompt</span><span class="sxs-lookup"><span data-stu-id="3213b-316">prompt</span></span> |<span data-ttu-id="3213b-317">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-317">Required</span></span> |<span data-ttu-id="3213b-318">toorefresh 和 get 語彙基元中隱藏的 iframe，使用`prompt=none`hello iframe 的 tooensure 不會不會卡在 hello 登入頁面上，並立即傳回。</span><span class="sxs-lookup"><span data-stu-id="3213b-318">toorefresh and get tokens in a hidden iframe, use `prompt=none` tooensure that hello iframe does not get stuck on hello sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="3213b-319">login_hint</span><span class="sxs-lookup"><span data-stu-id="3213b-319">login_hint</span></span> |<span data-ttu-id="3213b-320">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-320">Required</span></span> |<span data-ttu-id="3213b-321">在隱藏的 iframe，toorefresh 和 get 語彙基元中 hello 使用者可能必須在指定時間的多個工作階段之間此提示 toodistinguish 包含 hello hello 使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="3213b-321">toorefresh and get tokens in a hidden iframe, include hello username of hello user in this hint toodistinguish between multiple sessions hello user might have at a given  time.</span></span> <span data-ttu-id="3213b-322">您可以從較早的登入擷取 hello 使用者名稱，使用 hello`preferred_username`宣告。</span><span class="sxs-lookup"><span data-stu-id="3213b-322">You can extract hello username from an earlier sign-in by using hello `preferred_username` claim.</span></span> |
| <span data-ttu-id="3213b-323">domain_hint</span><span class="sxs-lookup"><span data-stu-id="3213b-323">domain_hint</span></span> |<span data-ttu-id="3213b-324">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-324">Required</span></span> |<span data-ttu-id="3213b-325">可以是 `consumers` 或 `organizations`。</span><span class="sxs-lookup"><span data-stu-id="3213b-325">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="3213b-326">重新整理，並且在隱藏的 iframe 中取得權杖，您必須包含 hello `domain_hint` hello 要求中的值。</span><span class="sxs-lookup"><span data-stu-id="3213b-326">For refreshing and getting tokens in a hidden iframe, you must include hello `domain_hint` value in hello request.</span></span>  <span data-ttu-id="3213b-327">擷取 hello `tid` hello ID 語彙基元的先前登入 toodetermine 將來自宣告的值 toouse。</span><span class="sxs-lookup"><span data-stu-id="3213b-327">Extract hello `tid` claim from hello ID token of an earlier sign-in toodetermine which value toouse.</span></span>  <span data-ttu-id="3213b-328">如果 hello`tid`宣告值是`9188040d-6c67-4c5b-b112-36a304b66dad`，使用`domain_hint=consumers`。</span><span class="sxs-lookup"><span data-stu-id="3213b-328">If hello `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="3213b-329">否則，使用 `domain_hint=organizations`。</span><span class="sxs-lookup"><span data-stu-id="3213b-329">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="3213b-330">所設定的 hello`prompt=none`參數，此要求是成功或失敗，並傳回 tooyour 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-330">By setting hello `prompt=none` parameter, this request either succeeds or fails immediately, and returns tooyour application.</span></span>  <span data-ttu-id="3213b-331">成功的回應會傳送 tooyour 應用程式在 hello 指示重新導向 URI，使用 hello 中指定的 hello 方法`response_mode`參數。</span><span class="sxs-lookup"><span data-stu-id="3213b-331">A successful response is sent tooyour app at hello indicated redirect URI, by using hello method specified in hello `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="3213b-332">成功回應</span><span class="sxs-lookup"><span data-stu-id="3213b-332">Successful response</span></span>
<span data-ttu-id="3213b-333">使用 `response_mode=fragment` 的成功回應看起來像這樣：</span><span class="sxs-lookup"><span data-stu-id="3213b-333">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="3213b-334">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-334">Parameter</span></span> | <span data-ttu-id="3213b-335">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-335">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3213b-336">access_token</span><span class="sxs-lookup"><span data-stu-id="3213b-336">access_token</span></span> |<span data-ttu-id="3213b-337">hello hello 應用程式要求的語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-337">hello token that hello app requested.</span></span> |
| <span data-ttu-id="3213b-338">token_type</span><span class="sxs-lookup"><span data-stu-id="3213b-338">token_type</span></span> |<span data-ttu-id="3213b-339">hello 語彙基元型別一律為持有者。</span><span class="sxs-lookup"><span data-stu-id="3213b-339">hello token type will always be Bearer.</span></span> |
| <span data-ttu-id="3213b-340">state</span><span class="sxs-lookup"><span data-stu-id="3213b-340">state</span></span> |<span data-ttu-id="3213b-341">如果`state`參數包含在 hello 要求 hello 相同的值應該會出現在 hello 回應。</span><span class="sxs-lookup"><span data-stu-id="3213b-341">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="3213b-342">hello 應用程式應該確認該 hello `state` hello 要求和回應中的值完全相同。</span><span class="sxs-lookup"><span data-stu-id="3213b-342">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |
| <span data-ttu-id="3213b-343">expires_in</span><span class="sxs-lookup"><span data-stu-id="3213b-343">expires_in</span></span> |<span data-ttu-id="3213b-344">多久 hello 存取權杖是有效 （以秒為單位）。</span><span class="sxs-lookup"><span data-stu-id="3213b-344">How long hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="3213b-345">scope</span><span class="sxs-lookup"><span data-stu-id="3213b-345">scope</span></span> |<span data-ttu-id="3213b-346">hello 存取權杖的 hello 範圍無效。</span><span class="sxs-lookup"><span data-stu-id="3213b-346">hello scopes that hello access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="3213b-347">錯誤回應</span><span class="sxs-lookup"><span data-stu-id="3213b-347">Error response</span></span>
<span data-ttu-id="3213b-348">錯誤回應也可以為傳送 toohello 重新導向 URI，如此 hello 應用程式可以適當處理這些。</span><span class="sxs-lookup"><span data-stu-id="3213b-348">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately.</span></span>  <span data-ttu-id="3213b-349">針對 `prompt=none`，預期的錯誤看起來像這樣：</span><span class="sxs-lookup"><span data-stu-id="3213b-349">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="3213b-350">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-350">Parameter</span></span> | <span data-ttu-id="3213b-351">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-351">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3213b-352">錯誤</span><span class="sxs-lookup"><span data-stu-id="3213b-352">error</span></span> |<span data-ttu-id="3213b-353">使用的 tooclassify 類型發生的錯誤可能會發生錯誤的程式碼字串。</span><span class="sxs-lookup"><span data-stu-id="3213b-353">An error code string that can be used tooclassify types of errors that occur.</span></span> <span data-ttu-id="3213b-354">您也可以使用 hello 字串 tooreact tooerrors。</span><span class="sxs-lookup"><span data-stu-id="3213b-354">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="3213b-355">error_description</span><span class="sxs-lookup"><span data-stu-id="3213b-355">error_description</span></span> |<span data-ttu-id="3213b-356">特定的錯誤訊息，可協助您找出 hello 的驗證錯誤的根本原因。</span><span class="sxs-lookup"><span data-stu-id="3213b-356">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

<span data-ttu-id="3213b-357">如果您收到這個錯誤 hello iframe 要求中，hello 使用者必須以互動方式登入一次 tooretrieve 新權杖。</span><span class="sxs-lookup"><span data-stu-id="3213b-357">If you receive this error in hello iframe request, hello user must interactively sign in again tooretrieve a new token.</span></span> <span data-ttu-id="3213b-358">您可以利用對應用程式有意義的方式來處理此錯誤。</span><span class="sxs-lookup"><span data-stu-id="3213b-358">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="3213b-359">重新整理權杖</span><span class="sxs-lookup"><span data-stu-id="3213b-359">Refresh tokens</span></span>
<span data-ttu-id="3213b-360">識別碼權杖和存取權杖都會在短期內過期。</span><span class="sxs-lookup"><span data-stu-id="3213b-360">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="3213b-361">您的應用程式必須準備的 toorefresh 這些定期語彙基元。</span><span class="sxs-lookup"><span data-stu-id="3213b-361">Your app must be prepared toorefresh these tokens periodically.</span></span>  <span data-ttu-id="3213b-362">toorefresh 任一類型的權杖中，執行 hello 同一個隱藏的 iframe 要求我們使用了先前範例中使用 hello`prompt=none`參數 toocontrol Azure AD 的步驟。</span><span class="sxs-lookup"><span data-stu-id="3213b-362">toorefresh either type of token, perform hello same hidden iframe request we used in an earlier example, by using hello `prompt=none` parameter toocontrol Azure AD steps.</span></span>  <span data-ttu-id="3213b-363">新的 tooreceive`id_token`值，是確定 toouse`response_type=id_token`和`scope=openid`，和`nonce`參數。</span><span class="sxs-lookup"><span data-stu-id="3213b-363">tooreceive a new `id_token` value, be sure toouse `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="3213b-364">傳送登出要求</span><span class="sxs-lookup"><span data-stu-id="3213b-364">Send a sign-out request</span></span>
<span data-ttu-id="3213b-365">當您想 toosign hello 使用者登出 hello 應用程式時，重新導向 hello 使用者 tooAzure AD toosign 出。如果不這麼做，hello 使用者可能無法 tooreauthenticate tooyour 應用程式，而不需重新輸入其認證。</span><span class="sxs-lookup"><span data-stu-id="3213b-365">When you want toosign hello user out of hello app, redirect hello user tooAzure AD toosign out. If you don't do this, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="3213b-366">這是因為使用者將擁有有效的 Azure AD 單一登入工作階段。</span><span class="sxs-lookup"><span data-stu-id="3213b-366">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="3213b-367">您可以只是重新導向 hello 使用者 toohello`end_session_endpoint`也就是相同的 OpenID Connect 中繼資料文件中所述的列在 hello[驗證 hello ID 語彙基元](#validate-the-id-token)。</span><span class="sxs-lookup"><span data-stu-id="3213b-367">You can simply redirect hello user toohello `end_session_endpoint` that is listed in hello same OpenID Connect metadata document described in [Validate hello ID token](#validate-the-id-token).</span></span> <span data-ttu-id="3213b-368">例如：</span><span class="sxs-lookup"><span data-stu-id="3213b-368">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="3213b-369">參數</span><span class="sxs-lookup"><span data-stu-id="3213b-369">Parameter</span></span> | <span data-ttu-id="3213b-370">必要？</span><span class="sxs-lookup"><span data-stu-id="3213b-370">Required?</span></span> | <span data-ttu-id="3213b-371">說明</span><span class="sxs-lookup"><span data-stu-id="3213b-371">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3213b-372">p</span><span class="sxs-lookup"><span data-stu-id="3213b-372">p</span></span> |<span data-ttu-id="3213b-373">必要</span><span class="sxs-lookup"><span data-stu-id="3213b-373">Required</span></span> |<span data-ttu-id="3213b-374">hello 原則 toouse toosign hello 使用者登出您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="3213b-374">hello policy toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="3213b-375">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="3213b-375">post_logout_redirect_uri</span></span> |<span data-ttu-id="3213b-376">建議</span><span class="sxs-lookup"><span data-stu-id="3213b-376">Recommended</span></span> |<span data-ttu-id="3213b-377">hello URL hello 使用者應重新導向的 tooafter 成功登出。如果您未包含，Azure AD B2C 會顯示一般訊息 toohello 使用者。</span><span class="sxs-lookup"><span data-stu-id="3213b-377">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C displays a generic message toohello user.</span></span> |

> [!NOTE]
> <span data-ttu-id="3213b-378">導向 hello 使用者 toohello`end_session_endpoint`清除 hello 使用者單一登入狀態與 Azure AD B2C 部分。</span><span class="sxs-lookup"><span data-stu-id="3213b-378">Directing hello user toohello `end_session_endpoint` clears some of hello user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="3213b-379">不過，它不會簽署 hello 使用者登出 hello 使用者社交身分識別提供者工作階段。</span><span class="sxs-lookup"><span data-stu-id="3213b-379">However, it doesn't sign hello user out of hello user's social identity provider session.</span></span> <span data-ttu-id="3213b-380">如果 hello 使用者選取 hello 相同識別提供者在後續登入時，hello 使用者會重新驗證，而不需輸入他們的認證。</span><span class="sxs-lookup"><span data-stu-id="3213b-380">If hello user selects hello same identify provider during a subsequent sign-in, hello user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="3213b-381">如果使用者想 toosign 超出您的 Azure AD B2C 應用程式時，它不一定表示他們想 toocompletely 登出他們的 Facebook 帳戶，例如。</span><span class="sxs-lookup"><span data-stu-id="3213b-381">If a user wants toosign out of your Azure AD B2C application, it does not necessarily mean they want toocompletely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="3213b-382">不過，為本機帳戶，hello 使用者工作階段即將結束正確。</span><span class="sxs-lookup"><span data-stu-id="3213b-382">However, for local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="3213b-383">使用您自己的 Azure AD B2C 租用戶</span><span class="sxs-lookup"><span data-stu-id="3213b-383">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="3213b-384">這些要求，完成的 tootry hello 下列三個步驟。</span><span class="sxs-lookup"><span data-stu-id="3213b-384">tootry these requests yourself, complete hello following three steps.</span></span> <span data-ttu-id="3213b-385">取代您自己的值與本文章中我們使用 hello 範例值：</span><span class="sxs-lookup"><span data-stu-id="3213b-385">Replace hello example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="3213b-386">[建立 Azure AD B2C 租用戶](active-directory-b2c-get-started.md)。</span><span class="sxs-lookup"><span data-stu-id="3213b-386">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="3213b-387">Hello 要求中使用您的租用戶的 hello 名稱。</span><span class="sxs-lookup"><span data-stu-id="3213b-387">Use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="3213b-388">[建立應用程式](active-directory-b2c-app-registration.md)tooobtain 應用程式識別碼和`redirect_uri`值。</span><span class="sxs-lookup"><span data-stu-id="3213b-388">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="3213b-389">在應用程式中加入 Web 應用程式或 Web API。</span><span class="sxs-lookup"><span data-stu-id="3213b-389">Include a web app or web API in your app.</span></span> <span data-ttu-id="3213b-390">(選擇性) 您可以建立應用程式祕密。</span><span class="sxs-lookup"><span data-stu-id="3213b-390">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="3213b-391">[建立您的原則](active-directory-b2c-reference-policies.md)tooobtain 原則名稱。</span><span class="sxs-lookup"><span data-stu-id="3213b-391">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="3213b-392">範例</span><span class="sxs-lookup"><span data-stu-id="3213b-392">Samples</span></span>

* <span data-ttu-id="3213b-393">[使用 Node.js 建立單一頁面應用程式](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) \(英文\)</span><span class="sxs-lookup"><span data-stu-id="3213b-393">[Create a single-page app by using Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)</span></span>
* <span data-ttu-id="3213b-394">[使用 .NET 建立單一頁面應用程式](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) \(英文\)</span><span class="sxs-lookup"><span data-stu-id="3213b-394">[Create a single-page app by using .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)</span></span>

