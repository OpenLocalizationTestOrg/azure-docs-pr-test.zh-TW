---
title: "hello Azure MFA NPS 擴充 aaaTroubleshoot 錯誤碼 |Microsoft 文件"
description: "如需協助解決問題的 hello NPS 擴充功能的 Azure Multi-factor Authentication，與特定解決方案的常見錯誤訊息"
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: it-pro
ms.openlocfilehash: 8b602954364c6e9f801d86edca6432bd8446c58b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="resolve-error-messages-from-hello-nps-extension-for-azure-multi-factor-authentication"></a><span data-ttu-id="bfad4-103">針對 Azure Multi-factor Authentication 解決 hello NPS 擴充功能中的錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="bfad4-103">Resolve error messages from hello NPS extension for Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="bfad4-104">如果您遇到錯誤 hello NPS 擴充功能的 Azure Multi-factor authentication 時，使用此發行項 tooreach 解析度更快。</span><span class="sxs-lookup"><span data-stu-id="bfad4-104">If you encounter errors with hello NPS extension for Azure Multi-Factor Authentication, use this article tooreach a resolution faster.</span></span> 

## <a name="troubleshooting-steps-for-common-errors"></a><span data-ttu-id="bfad4-105">為常見錯誤而設的疑難排解步驟</span><span class="sxs-lookup"><span data-stu-id="bfad4-105">Troubleshooting steps for common errors</span></span>

| <span data-ttu-id="bfad4-106">錯誤碼</span><span class="sxs-lookup"><span data-stu-id="bfad4-106">Error code</span></span> | <span data-ttu-id="bfad4-107">疑難排解步驟</span><span class="sxs-lookup"><span data-stu-id="bfad4-107">Troubleshooting steps</span></span> |
| ---------- | --------------------- |
| <span data-ttu-id="bfad4-108">**CONTACT_SUPPORT**</span><span class="sxs-lookup"><span data-stu-id="bfad4-108">**CONTACT_SUPPORT**</span></span> | <span data-ttu-id="bfad4-109">[請連絡支援人員](#contact-microsoft-support)，並提供 hello 收集記錄檔的步驟清單。</span><span class="sxs-lookup"><span data-stu-id="bfad4-109">[Contact support](#contact-microsoft-support), and mention hello list of steps for collecting logs.</span></span> <span data-ttu-id="bfad4-110">提供詳細資訊，您可能需 hello 發生錯誤，包括租用戶識別碼，以及使用者主要名稱 (UPN) 之前發生什麼事。</span><span class="sxs-lookup"><span data-stu-id="bfad4-110">Provide as much information as you can about what happened before hello error, including tenant id, and user principal name (UPN).</span></span> |
| <span data-ttu-id="bfad4-111">**CLIENT_CERT_INSTALL_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-111">**CLIENT_CERT_INSTALL_ERROR**</span></span> | <span data-ttu-id="bfad4-112">可能有如何 hello 用戶端憑證已安裝，或與您的租用戶相關聯的問題。</span><span class="sxs-lookup"><span data-stu-id="bfad4-112">There may be an issue with how hello client certificate was installed or associated with your tenant.</span></span> <span data-ttu-id="bfad4-113">請依照下列中的 hello 指示[疑難排解 hello MFA NPS 擴充](multi-factor-authentication-nps-extension.md#troubleshooting)tooinvestigate 用戶端憑證問題。</span><span class="sxs-lookup"><span data-stu-id="bfad4-113">Follow hello instructions in [Troubleshooting hello MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) tooinvestigate client cert problems.</span></span> |
| <span data-ttu-id="bfad4-114">**ESTS_TOKEN_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-114">**ESTS_TOKEN_ERROR**</span></span> | <span data-ttu-id="bfad4-115">請依照下列中的 hello 指示[疑難排解 hello MFA NPS 擴充](multi-factor-authentication-nps-extension.md#troubleshooting)tooinvestigate 用戶端憑證，ADAL 權杖的問題。</span><span class="sxs-lookup"><span data-stu-id="bfad4-115">Follow hello instructions in [Troubleshooting hello MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) tooinvestigate client cert and ADAL token problems.</span></span> |
| <span data-ttu-id="bfad4-116">**HTTPS_COMMUNICATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-116">**HTTPS_COMMUNICATION_ERROR**</span></span> | <span data-ttu-id="bfad4-117">從 Azure MFA 無法 tooreceive 回應 hello NPS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="bfad4-117">hello NPS server is unable tooreceive responses from Azure MFA.</span></span> <span data-ttu-id="bfad4-118">確認您的防火牆的流量 tooand 從 https://adnotifications.windowsazure.com 開啟之間雙向</span><span class="sxs-lookup"><span data-stu-id="bfad4-118">Verify that your firewalls are open bidirectionally for traffic tooand from https://adnotifications.windowsazure.com</span></span> |
| <span data-ttu-id="bfad4-119">**HTTP_CONNECT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-119">**HTTP_CONNECT_ERROR**</span></span> | <span data-ttu-id="bfad4-120">在 hello 執行 hello NPS 擴充功能的伺服器，確認 https://adnotifications.windowsazure.com 而 https://login.microsoftonline.com/ 可以到達。</span><span class="sxs-lookup"><span data-stu-id="bfad4-120">On hello server that runs hello NPS extension, verify that you can reach  https://adnotifications.windowsazure.com and https://login.microsoftonline.com/.</span></span> <span data-ttu-id="bfad4-121">如果無法載入這些站台，請針對該伺服器上的連線進行移難排解。</span><span class="sxs-lookup"><span data-stu-id="bfad4-121">If those sites don't load, troubleshoot connectivity on that server.</span></span> |
| <span data-ttu-id="bfad4-122">**REGISTRY_CONFIG_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-122">**REGISTRY_CONFIG_ERROR**</span></span> | <span data-ttu-id="bfad4-123">遺漏金鑰 hello hello 應用程式，這可能是因為登錄中 hello [PowerShell 指令碼](multi-factor-authentication-nps-extension.md#install-the-nps-extension)未在安裝後執行。</span><span class="sxs-lookup"><span data-stu-id="bfad4-123">A key is missing in hello registry for hello application, which may be because hello [PowerShell script](multi-factor-authentication-nps-extension.md#install-the-nps-extension) wasn't run after installation.</span></span> <span data-ttu-id="bfad4-124">hello 錯誤訊息應該包含 hello 遺失索引鍵。</span><span class="sxs-lookup"><span data-stu-id="bfad4-124">hello error message should include hello missing key.</span></span> <span data-ttu-id="bfad4-125">請確定您擁有 hello 金鑰 HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa 底下。</span><span class="sxs-lookup"><span data-stu-id="bfad4-125">Make sure you have hello key under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span></span> |
| <span data-ttu-id="bfad4-126">**REQUEST_FORMAT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-126">**REQUEST_FORMAT_ERROR**</span></span> <br> <span data-ttu-id="bfad4-127">RADIUS 要求中遺失必要的 RADIUS 使用者名稱\識別碼。請確定 NPS 會收到 RADIUS 要求</span><span class="sxs-lookup"><span data-stu-id="bfad4-127">Radius Request missing mandatory Radius userName\Identifier attribute.Verify that NPS is receiving RADIUS requests</span></span> | <span data-ttu-id="bfad4-128">此錯誤通常反映的是安裝問題。</span><span class="sxs-lookup"><span data-stu-id="bfad4-128">This error usually reflects an installation issue.</span></span> <span data-ttu-id="bfad4-129">hello NPS 擴充功能必須安裝在 NPS 伺服器可以接收 RADIUS 要求。</span><span class="sxs-lookup"><span data-stu-id="bfad4-129">hello NPS extension must be installed in NPS servers that can receive RADIUS requests.</span></span> <span data-ttu-id="bfad4-130">NPS 伺服器若是作為 RDG 和 RRAS 等服務的相依項目安裝，則不會收到 RADIUS 要求。</span><span class="sxs-lookup"><span data-stu-id="bfad4-130">NPS servers that are installed as dependencies for services like RDG and RRAS don't receive radius requests.</span></span> <span data-ttu-id="bfad4-131">NPS 擴充功能無法運作時安裝透過這種安裝和錯誤，因為它無法讀取 hello 驗證要求中的 hello 詳細資料。</span><span class="sxs-lookup"><span data-stu-id="bfad4-131">NPS Extension does not work when installed over such installations and errors out since it cannot read hello details from hello authentication request.</span></span> |
| <span data-ttu-id="bfad4-132">**REQUEST_MISSING_CODE**</span><span class="sxs-lookup"><span data-stu-id="bfad4-132">**REQUEST_MISSING_CODE**</span></span> | <span data-ttu-id="bfad4-133">請確定 hello NPS 與 NAS 伺服器之間的 hello 密碼加密通訊協定支援您所使用的 hello 次要驗證方法。</span><span class="sxs-lookup"><span data-stu-id="bfad4-133">Make sure that hello password encryption protocol between hello NPS and NAS servers supports hello secondary authentication method that you're using.</span></span> <span data-ttu-id="bfad4-134">**PAP** hello 定域機組中支援的 Azure MFA 的所有 hello 驗證方法： 通話、 單向簡訊、 行動裝置應用程式通知和行動裝置應用程式的驗證碼。</span><span class="sxs-lookup"><span data-stu-id="bfad4-134">**PAP** supports all hello authentication methods of Azure MFA in hello cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span> <span data-ttu-id="bfad4-135">**CHAPV2** 和 **EAP** 支援通話和行動裝置應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="bfad4-135">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span> |
| <span data-ttu-id="bfad4-136">**USERNAME_CANONICALIZATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-136">**USERNAME_CANONICALIZATION_ERROR**</span></span> | <span data-ttu-id="bfad4-137">確認 hello 使用者存在於您在內部部署 Active Directory 執行個體，且該 hello NPS 服務權限 tooaccess hello 目錄。</span><span class="sxs-lookup"><span data-stu-id="bfad4-137">Verify that hello user is present in your on-premises Active Directory instance, and that hello NPS Service has permissions tooaccess hello directory.</span></span> <span data-ttu-id="bfad4-138">如果您使用跨樹系信任，請[連絡支援人員](#contact-microsoft-support)以取得進一步協助。</span><span class="sxs-lookup"><span data-stu-id="bfad4-138">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |


   

### <a name="alternate-login-id-errors"></a><span data-ttu-id="bfad4-139">替代登入識別碼錯誤</span><span class="sxs-lookup"><span data-stu-id="bfad4-139">Alternate login ID errors</span></span>

| <span data-ttu-id="bfad4-140">錯誤碼</span><span class="sxs-lookup"><span data-stu-id="bfad4-140">Error code</span></span> | <span data-ttu-id="bfad4-141">錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="bfad4-141">Error message</span></span> | <span data-ttu-id="bfad4-142">疑難排解步驟</span><span class="sxs-lookup"><span data-stu-id="bfad4-142">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="bfad4-143">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-143">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="bfad4-144">錯誤：userObjectSid 查閱失敗</span><span class="sxs-lookup"><span data-stu-id="bfad4-144">Error: userObjectSid lookup failed</span></span> | <span data-ttu-id="bfad4-145">請確認該 hello 使用者存在於您的內部部署 Active Directory 執行個體。</span><span class="sxs-lookup"><span data-stu-id="bfad4-145">Verify that hello user exists in your on-premises Active Directory instance.</span></span> <span data-ttu-id="bfad4-146">如果您使用跨樹系信任，請[連絡支援人員](#contact-microsoft-support)以取得進一步協助。</span><span class="sxs-lookup"><span data-stu-id="bfad4-146">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |
| <span data-ttu-id="bfad4-147">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-147">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="bfad4-148">錯誤：替代 LoginId 查閱失敗</span><span class="sxs-lookup"><span data-stu-id="bfad4-148">Error: Alternate LoginId lookup failed</span></span> | <span data-ttu-id="bfad4-149">確認 LDAP_ALTERNATE_LOGINID_ATTRIBUTE 設定 tooa[有效的 active directory 屬性](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-149">Verify that LDAP_ALTERNATE_LOGINID_ATTRIBUTE is set tooa [valid active directory attribute](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span></span> <br><br> <span data-ttu-id="bfad4-150">如果 LDAP_FORCE_GLOBAL_CATALOG 設定 tooTrue，或 LDAP_LOOKUP_FORESTS 設定具有非空白值，請確認您已設定為通用類別目錄，和該 hello AlternateLoginId 屬性會加入 tooit。</span><span class="sxs-lookup"><span data-stu-id="bfad4-150">If LDAP_FORCE_GLOBAL_CATALOG is set tooTrue, or LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that you have configured a Global Catalog and that hello AlternateLoginId attribute is added tooit.</span></span> <br><br> <span data-ttu-id="bfad4-151">如果 LDAP_LOOKUP_FORESTS 設定具有非空白值，請確認 hello 值是否正確。</span><span class="sxs-lookup"><span data-stu-id="bfad4-151">If LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that hello value is correct.</span></span> <span data-ttu-id="bfad4-152">如果有多個樹系名稱，hello 名稱必須以分號分隔，不可包含空格。</span><span class="sxs-lookup"><span data-stu-id="bfad4-152">If there is more than one forest name, hello names must be separated with semi-colons, not spaces.</span></span> <br><br> <span data-ttu-id="bfad4-153">如果上述步驟未能解決 hello 問題[連絡支援人員](#contact-microsoft-support)更多協助。</span><span class="sxs-lookup"><span data-stu-id="bfad4-153">If these steps don't fix hello problem, [contact support](#contact-microsoft-support) for more help.</span></span> |
| <span data-ttu-id="bfad4-154">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="bfad4-154">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="bfad4-155">錯誤：替代 LoginId 值是空的</span><span class="sxs-lookup"><span data-stu-id="bfad4-155">Error: Alternate LoginId value is empty</span></span> | <span data-ttu-id="bfad4-156">請確認該 hello AlternateLoginId 屬性設定為 hello 使用者。</span><span class="sxs-lookup"><span data-stu-id="bfad4-156">Verify that hello AlternateLoginId attribute is configured for hello user.</span></span> |


## <a name="errors-your-users-may-encounter"></a><span data-ttu-id="bfad4-157">您的使用者可能會遇到下列錯誤</span><span class="sxs-lookup"><span data-stu-id="bfad4-157">Errors your users may encounter</span></span>

| <span data-ttu-id="bfad4-158">錯誤碼</span><span class="sxs-lookup"><span data-stu-id="bfad4-158">Error code</span></span> | <span data-ttu-id="bfad4-159">錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="bfad4-159">Error message</span></span> | <span data-ttu-id="bfad4-160">疑難排解步驟</span><span class="sxs-lookup"><span data-stu-id="bfad4-160">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="bfad4-161">**AccessDenied**</span><span class="sxs-lookup"><span data-stu-id="bfad4-161">**AccessDenied**</span></span> | <span data-ttu-id="bfad4-162">沒有 hello 使用者的存取權限 toodo 驗證呼叫者的租用戶。</span><span class="sxs-lookup"><span data-stu-id="bfad4-162">Caller tenant does not have access permissions toodo authentication for hello user</span></span> | <span data-ttu-id="bfad4-163">請檢查是否 hello 租用戶網域和 hello 使用者主體名稱 (UPN) 的 hello 網域是 hello 相同。</span><span class="sxs-lookup"><span data-stu-id="bfad4-163">Check whether hello tenant domain and hello domain of hello user principal name (UPN) are hello same.</span></span> <span data-ttu-id="bfad4-164">例如，請確定user@contoso.com正嘗試 tooauthenticate toohello Contoso 租用戶。</span><span class="sxs-lookup"><span data-stu-id="bfad4-164">For example, make sure that user@contoso.com is trying tooauthenticate toohello Contoso tenant.</span></span> <span data-ttu-id="bfad4-165">hello UPN 代表有效的使用者在 Azure 中的 hello 租用戶。</span><span class="sxs-lookup"><span data-stu-id="bfad4-165">hello UPN represents a valid user for hello tenant in Azure.</span></span> |
| <span data-ttu-id="bfad4-166">**AuthenticationMethodNotConfigured**</span><span class="sxs-lookup"><span data-stu-id="bfad4-166">**AuthenticationMethodNotConfigured**</span></span> | <span data-ttu-id="bfad4-167">hello 指定 hello 使用者未設定驗證方法</span><span class="sxs-lookup"><span data-stu-id="bfad4-167">hello specified authentication method was not configured for hello user</span></span> | <span data-ttu-id="bfad4-168">已新增或驗證其驗證方法，根據 toohello 指示中的 hello 使用者[管理您的設定進行兩步驟驗證](./end-user/multi-factor-authentication-end-user-manage-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-168">Have hello user add or verify their verification methods according toohello instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="bfad4-169">**AuthenticationMethodNotSupported**</span><span class="sxs-lookup"><span data-stu-id="bfad4-169">**AuthenticationMethodNotSupported**</span></span> | <span data-ttu-id="bfad4-170">不支援指定的驗證方法。</span><span class="sxs-lookup"><span data-stu-id="bfad4-170">Specified authentication method is not supported.</span></span> | <span data-ttu-id="bfad4-171">請收集所有包含此錯誤的記錄，並[連絡支援人員](#contact-microsoft-support)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-171">Collect all your logs that include this error, and [contact support](#contact-microsoft-support).</span></span> <span data-ttu-id="bfad4-172">當您連絡支援人員時，提供 hello 使用者名稱和 hello 觸發 hello 錯誤的次要驗證方法。</span><span class="sxs-lookup"><span data-stu-id="bfad4-172">When you contact support, provide hello username and hello secondary verification method that triggered hello error.</span></span> |
| <span data-ttu-id="bfad4-173">**BecAccessDenied**</span><span class="sxs-lookup"><span data-stu-id="bfad4-173">**BecAccessDenied**</span></span> | <span data-ttu-id="bfad4-174">MSODS Bec 呼叫傳回存取遭拒，可能 hello 未定義 username hello 租用戶中</span><span class="sxs-lookup"><span data-stu-id="bfad4-174">MSODS Bec call returned access denied, probably hello username is not defined in hello tenant</span></span> | <span data-ttu-id="bfad4-175">hello 使用者存在於 Active Directory 內部部署中，但未同步處理至 Azure AD 的 AD Connect。</span><span class="sxs-lookup"><span data-stu-id="bfad4-175">hello user is present in Active Directory on-premises but is not synced into Azure AD by AD Connect.</span></span> <span data-ttu-id="bfad4-176">或者，hello 使用者遺漏 hello 租用戶。</span><span class="sxs-lookup"><span data-stu-id="bfad4-176">Or, hello user is missing for hello tenant.</span></span> <span data-ttu-id="bfad4-177">加入 hello 使用者 tooAzure AD，並將它們加入其驗證方法，根據 toohello 指示[管理您的設定進行兩步驟驗證](./end-user/multi-factor-authentication-end-user-manage-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-177">Add hello user tooAzure AD and have them add their verification methods according toohello instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="bfad4-178">**InvalidFormat** 或 **StrongAuthenticationServiceInvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-178">**InvalidFormat** or **StrongAuthenticationServiceInvalidParameter**</span></span> | <span data-ttu-id="bfad4-179">hello 電話號碼的格式無法辨識</span><span class="sxs-lookup"><span data-stu-id="bfad4-179">hello phone number is in an unrecognizable format</span></span> | <span data-ttu-id="bfad4-180">有 hello 使用者修正其驗證電話號碼。</span><span class="sxs-lookup"><span data-stu-id="bfad4-180">Have hello user correct their verification phone numbers.</span></span> |
| <span data-ttu-id="bfad4-181">**InvalidSession**</span><span class="sxs-lookup"><span data-stu-id="bfad4-181">**InvalidSession**</span></span> | <span data-ttu-id="bfad4-182">hello 指定工作階段無效或已過期</span><span class="sxs-lookup"><span data-stu-id="bfad4-182">hello specified session is invalid or may have expired</span></span> | <span data-ttu-id="bfad4-183">hello 工作階段已使用超過三分鐘 toocomplete。</span><span class="sxs-lookup"><span data-stu-id="bfad4-183">hello session has taken more than three minutes toocomplete.</span></span> <span data-ttu-id="bfad4-184">請確認該 hello 使用者輸入 hello 驗證程式碼，或者回應 toohello 應用程式通知，在初始化 hello 驗證要求的三分鐘內。</span><span class="sxs-lookup"><span data-stu-id="bfad4-184">Verify that hello user is entering hello verification code, or responding toohello app notification, within three minutes of initiating hello authentication request.</span></span> <span data-ttu-id="bfad4-185">如果這樣未修正 hello 問題，請檢查有沒有用戶端、 NAS 伺服器、 NPS 伺服器與 hello Azure MFA 端點之間的網路延遲。</span><span class="sxs-lookup"><span data-stu-id="bfad4-185">If that doesn't fix hello problem, check that there are no network latencies between client, NAS Server, NPS Server, and hello Azure MFA endpoint.</span></span>  |
| <span data-ttu-id="bfad4-186">**NoDefaultAuthenticationMethodIsConfigured**</span><span class="sxs-lookup"><span data-stu-id="bfad4-186">**NoDefaultAuthenticationMethodIsConfigured**</span></span> | <span data-ttu-id="bfad4-187">Hello 使用者已不設定任何預設驗證方法</span><span class="sxs-lookup"><span data-stu-id="bfad4-187">No default authentication method was configured for hello user</span></span> | <span data-ttu-id="bfad4-188">已新增或驗證其驗證方法，根據 toohello 指示中的 hello 使用者[管理您的設定進行兩步驟驗證](./end-user/multi-factor-authentication-end-user-manage-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-188">Have hello user add or verify their verification methods according toohello instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="bfad4-189">請確認該 hello 使用者已選擇預設驗證方法，並設定該帳戶的方法。</span><span class="sxs-lookup"><span data-stu-id="bfad4-189">Verify that hello user has chosen a default authentication method, and configured that method for their account.</span></span> |
| <span data-ttu-id="bfad4-190">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="bfad4-190">**OathCodePinIncorrect**</span></span> | <span data-ttu-id="bfad4-191">輸入的代碼和 Pin 碼錯誤。</span><span class="sxs-lookup"><span data-stu-id="bfad4-191">Wrong code and pin entered.</span></span> | <span data-ttu-id="bfad4-192">此錯誤不應該在 hello NPS 擴充功能。</span><span class="sxs-lookup"><span data-stu-id="bfad4-192">This error is not expected in hello NPS extension.</span></span> <span data-ttu-id="bfad4-193">如果您的使用者遇到此錯誤，請[連絡支援人員](#contact-microsoft-support)以取得疑難排解說明。</span><span class="sxs-lookup"><span data-stu-id="bfad4-193">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="bfad4-194">**ProofDataNotFound**</span><span class="sxs-lookup"><span data-stu-id="bfad4-194">**ProofDataNotFound**</span></span> | <span data-ttu-id="bfad4-195">證明資料未設定為指定的 hello 驗證方法。</span><span class="sxs-lookup"><span data-stu-id="bfad4-195">Proof data was not configured for hello specified authentication method.</span></span> | <span data-ttu-id="bfad4-196">請嘗試不同的驗證方法，或加入新的驗證方法，根據 toohello 指示中的 hello 使用者[管理您的設定進行兩步驟驗證](./end-user/multi-factor-authentication-end-user-manage-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-196">Have hello user try a different verification method, or add a new verification methods according toohello instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="bfad4-197">如果 hello 使用者持續發生此錯誤之後，確認其驗證方法設定正確，toosee[連絡支援人員](#contact-microsoft-support)。</span><span class="sxs-lookup"><span data-stu-id="bfad4-197">If hello user continues toosee this error after you confirmed that their verification method is set up correctly, [contact support](#contact-microsoft-support).</span></span> |
| <span data-ttu-id="bfad4-198">**SMSAuthFailedWrongCodePinEntered**</span><span class="sxs-lookup"><span data-stu-id="bfad4-198">**SMSAuthFailedWrongCodePinEntered**</span></span> | <span data-ttu-id="bfad4-199">輸入的代碼和 Pin 碼錯誤。</span><span class="sxs-lookup"><span data-stu-id="bfad4-199">Wrong code and pin entered.</span></span> <span data-ttu-id="bfad4-200">(OneWaySMS)</span><span class="sxs-lookup"><span data-stu-id="bfad4-200">(OneWaySMS)</span></span> | <span data-ttu-id="bfad4-201">此錯誤不應該在 hello NPS 擴充功能。</span><span class="sxs-lookup"><span data-stu-id="bfad4-201">This error is not expected in hello NPS extension.</span></span> <span data-ttu-id="bfad4-202">如果您的使用者遇到此錯誤，請[連絡支援人員](#contact-microsoft-support)以取得疑難排解說明。</span><span class="sxs-lookup"><span data-stu-id="bfad4-202">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="bfad4-203">**TenantIsBlocked**</span><span class="sxs-lookup"><span data-stu-id="bfad4-203">**TenantIsBlocked**</span></span> | <span data-ttu-id="bfad4-204">租用戶已遭封鎖</span><span class="sxs-lookup"><span data-stu-id="bfad4-204">Tenant is blocked</span></span> | <span data-ttu-id="bfad4-205">[請連絡支援人員](#contact-microsoft-support)目錄識別碼從 hello Azure 入口網站中的 hello Azure AD 屬性頁面。</span><span class="sxs-lookup"><span data-stu-id="bfad4-205">[Contact support](#contact-microsoft-support) with Directory ID from hello Azure AD properties page in hello Azure portal.</span></span> |
| <span data-ttu-id="bfad4-206">**UserNotFound**</span><span class="sxs-lookup"><span data-stu-id="bfad4-206">**UserNotFound**</span></span> | <span data-ttu-id="bfad4-207">找不到 hello 指定的使用者</span><span class="sxs-lookup"><span data-stu-id="bfad4-207">hello specified user was not found</span></span> | <span data-ttu-id="bfad4-208">不會再為使用 Azure AD 中看見 hello 租用戶。</span><span class="sxs-lookup"><span data-stu-id="bfad4-208">hello tenant is no longer visible as active in Azure AD.</span></span> <span data-ttu-id="bfad4-209">檢查您的訂閱為作用中，且您擁有 hello 必要的第一個合作對象應用程式。</span><span class="sxs-lookup"><span data-stu-id="bfad4-209">Check that your subscription is active and you have hello required first party apps.</span></span> <span data-ttu-id="bfad4-210">也請確定 hello 憑證主體中的 hello 租用戶如預期般，而 hello 憑證仍然有效，且已註冊在 hello 服務主體。</span><span class="sxs-lookup"><span data-stu-id="bfad4-210">Also make sure hello tenant in hello certificate subject is as expected and hello cert is still valid and registered under hello service principal.</span></span> |

## <a name="messages-your-users-may-encounter-that-arent-errors"></a><span data-ttu-id="bfad4-211">使用者收到的訊息可能不是錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="bfad4-211">Messages your users may encounter that aren't errors</span></span>

<span data-ttu-id="bfad4-212">有時候，由於您使用者的驗證要求失敗，他們可能會收到來自 Multi-Factor Authentication 的訊息。</span><span class="sxs-lookup"><span data-stu-id="bfad4-212">Sometimes, your users may get messages from Multi-Factor Authentication because their authentication request failed.</span></span> <span data-ttu-id="bfad4-213">這些不是錯誤的設定，hello 產品中，但是會刻意警告解釋為什麼拒絕驗證要求。</span><span class="sxs-lookup"><span data-stu-id="bfad4-213">These aren't errors in hello product of configuration, but are intentional warnings explaining why an authentication request was denied.</span></span>

| <span data-ttu-id="bfad4-214">錯誤碼</span><span class="sxs-lookup"><span data-stu-id="bfad4-214">Error code</span></span> | <span data-ttu-id="bfad4-215">錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="bfad4-215">Error message</span></span> | <span data-ttu-id="bfad4-216">建議的步驟</span><span class="sxs-lookup"><span data-stu-id="bfad4-216">Recommended steps</span></span> | 
| ---------- | ------------- | ----------------- |
| <span data-ttu-id="bfad4-217">**OathCodeIncorrect**</span><span class="sxs-lookup"><span data-stu-id="bfad4-217">**OathCodeIncorrect**</span></span> | <span data-ttu-id="bfad4-218">輸入的代碼錯誤\OATH 代碼錯誤</span><span class="sxs-lookup"><span data-stu-id="bfad4-218">Wrong code entered\OATH Code Incorrect</span></span> | <span data-ttu-id="bfad4-219">這不是錯誤，是使用者輸入的代碼有誤。</span><span class="sxs-lookup"><span data-stu-id="bfad4-219">Not an error,User has entered wrong code.</span></span> | <span data-ttu-id="bfad4-220">hello 使用者輸入 hello 錯誤的程式碼。</span><span class="sxs-lookup"><span data-stu-id="bfad4-220">hello user entered hello wrong code.</span></span> <span data-ttu-id="bfad4-221">請要求新代碼並讓他們再試一次，或請他們重新登入。</span><span class="sxs-lookup"><span data-stu-id="bfad4-221">Have them try again by requesting a new code or signing in again.</span></span> | 
| <span data-ttu-id="bfad4-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span><span class="sxs-lookup"><span data-stu-id="bfad4-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span></span> | <span data-ttu-id="bfad4-223">已達重試代碼次數的上限</span><span class="sxs-lookup"><span data-stu-id="bfad4-223">Maximum allowed code retry reached</span></span> | <span data-ttu-id="bfad4-224">hello 使用者 hello 驗證挑戰失敗太多次。</span><span class="sxs-lookup"><span data-stu-id="bfad4-224">hello user failed hello verification challenge too many times.</span></span> <span data-ttu-id="bfad4-225">根據您的設定，它們可能需要 toobe 現在解除封鎖管理員。</span><span class="sxs-lookup"><span data-stu-id="bfad4-225">Depending on your settings, they may need toobe unblocked by an admin now.</span></span>  |
| <span data-ttu-id="bfad4-226">**SMSAuthFailedWrongCodeEntered**</span><span class="sxs-lookup"><span data-stu-id="bfad4-226">**SMSAuthFailedWrongCodeEntered**</span></span> | <span data-ttu-id="bfad4-227">輸入的代碼錯誤/文字訊息 OTP 不正確</span><span class="sxs-lookup"><span data-stu-id="bfad4-227">Wrong code entered/Text Message OTP Incorrect</span></span> | <span data-ttu-id="bfad4-228">hello 使用者輸入 hello 錯誤的程式碼。</span><span class="sxs-lookup"><span data-stu-id="bfad4-228">hello user entered hello wrong code.</span></span> <span data-ttu-id="bfad4-229">請要求新代碼並讓他們再試一次，或請他們重新登入。</span><span class="sxs-lookup"><span data-stu-id="bfad4-229">Have them try again by requesting a new code or signing in again.</span></span> |

## <a name="errors-that-require-support"></a><span data-ttu-id="bfad4-230">需要支援的錯誤</span><span class="sxs-lookup"><span data-stu-id="bfad4-230">Errors that require support</span></span>

<span data-ttu-id="bfad4-231">如果您遇到以下其中一種錯誤，我們建議您[連絡支援人員](#contact-microsoft-support)以取得診斷協助。</span><span class="sxs-lookup"><span data-stu-id="bfad4-231">If you encounter one of these errors, we recommend that you [contact support](#contact-microsoft-support) for diagnostic help.</span></span> <span data-ttu-id="bfad4-232">這些錯誤並沒有標準的解決步驟。</span><span class="sxs-lookup"><span data-stu-id="bfad4-232">There's no standard set of steps that can address these errors.</span></span> <span data-ttu-id="bfad4-233">當您執行連絡支援人員時，是確定 tooinclude 太多越好 hello 步驟造成 tooan 錯誤的例外狀況相關的資訊與您的租用戶資訊。</span><span class="sxs-lookup"><span data-stu-id="bfad4-233">When you do contact support, be sure tooinclude as much information as possible about hello steps that led tooan error, and your tenant information.</span></span>

| <span data-ttu-id="bfad4-234">錯誤碼</span><span class="sxs-lookup"><span data-stu-id="bfad4-234">Error code</span></span> | <span data-ttu-id="bfad4-235">錯誤訊息</span><span class="sxs-lookup"><span data-stu-id="bfad4-235">Error message</span></span> |
| ---------- | ------------- |
| <span data-ttu-id="bfad4-236">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-236">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-237">要求不能是 Null</span><span class="sxs-lookup"><span data-stu-id="bfad4-237">Request must not be null</span></span> |
| <span data-ttu-id="bfad4-238">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-238">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-239">對 ReplicationScope:{0} 而言，ObjectId 不能是 Null 或空白</span><span class="sxs-lookup"><span data-stu-id="bfad4-239">ObjectId must not be null or empty for ReplicationScope:{0}</span></span> |
| <span data-ttu-id="bfad4-240">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-240">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-241">hello 的 CompanyName 長度\{0} \ 超過 hello 最大允許的長度 {1}</span><span class="sxs-lookup"><span data-stu-id="bfad4-241">hello length of CompanyName \{0}\ is longer than hello maximum allowed length {1}</span></span> |
| <span data-ttu-id="bfad4-242">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-242">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-243">UserPrincipalName 不能是 Null 或空白</span><span class="sxs-lookup"><span data-stu-id="bfad4-243">UserPrincipalName must not be null or empty</span></span> |
| <span data-ttu-id="bfad4-244">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-244">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-245">hello 提供 TenantId 不是正確的格式</span><span class="sxs-lookup"><span data-stu-id="bfad4-245">hello provided TenantId is not in correct format</span></span> |
| <span data-ttu-id="bfad4-246">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-246">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-247">SessionId 不能是 Null 或空白</span><span class="sxs-lookup"><span data-stu-id="bfad4-247">SessionId must not be null or empty</span></span> |
| <span data-ttu-id="bfad4-248">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="bfad4-248">**InvalidParameter**</span></span> | <span data-ttu-id="bfad4-249">無法解析任何來自要求或 Msods 的 ProofData。</span><span class="sxs-lookup"><span data-stu-id="bfad4-249">Could not resolve any ProofData from request or Msods.</span></span> <span data-ttu-id="bfad4-250">hello ProofData 不明</span><span class="sxs-lookup"><span data-stu-id="bfad4-250">hello ProofData is unKnown</span></span> |
| <span data-ttu-id="bfad4-251">**InternalError**</span><span class="sxs-lookup"><span data-stu-id="bfad4-251">**InternalError**</span></span> |  |
| <span data-ttu-id="bfad4-252">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="bfad4-252">**OathCodePinIncorrect**</span></span> |  |
| <span data-ttu-id="bfad4-253">**VersionNotSupported**</span><span class="sxs-lookup"><span data-stu-id="bfad4-253">**VersionNotSupported**</span></span> |  |
| <span data-ttu-id="bfad4-254">**MFAPinNotSetup**</span><span class="sxs-lookup"><span data-stu-id="bfad4-254">**MFAPinNotSetup**</span></span> |  |

## <a name="next-steps"></a><span data-ttu-id="bfad4-255">後續步驟</span><span class="sxs-lookup"><span data-stu-id="bfad4-255">Next steps</span></span>

### <a name="troubleshoot-user-accounts"></a><span data-ttu-id="bfad4-256">針對使用者帳戶進行移難排解</span><span class="sxs-lookup"><span data-stu-id="bfad4-256">Troubleshoot user accounts</span></span>

<span data-ttu-id="bfad4-257">如果您的使用者[進行雙步驟驗證時發生問題](./end-user/multi-factor-authentication-end-user-troubleshoot.md)，請協助助他們自行診斷問題。</span><span class="sxs-lookup"><span data-stu-id="bfad4-257">If your users are [Having trouble with two-step verification](./end-user/multi-factor-authentication-end-user-troubleshoot.md), help them self-diagnose problems.</span></span> 

### <a name="contact-microsoft-support"></a><span data-ttu-id="bfad4-258">連絡 Microsoft 支援</span><span class="sxs-lookup"><span data-stu-id="bfad4-258">Contact Microsoft support</span></span>

<span data-ttu-id="bfad4-259">如需其他協助，請透過 [Azure Multi-Factor Authentication Server 支援](https://support.microsoft.com/oas/default.aspx?prid=14947)連絡支援專業人員。</span><span class="sxs-lookup"><span data-stu-id="bfad4-259">If you need additional help, contact a support professional through [Azure Multi-Factor Authentication Server support](https://support.microsoft.com/oas/default.aspx?prid=14947).</span></span> <span data-ttu-id="bfad4-260">連絡我們時，請盡量包含有關問題的最多資訊，這樣會十分有幫助。</span><span class="sxs-lookup"><span data-stu-id="bfad4-260">When contacting us, it's helpful if you can include as much information about your issue as possible.</span></span> <span data-ttu-id="bfad4-261">您可以提供的資訊包括您已看到 hello 錯誤，hello hello 使用者特定的錯誤代碼，hello 特定的工作階段識別碼，hello 識別碼 hello 頁面看到 hello 錯誤，以及偵錯記錄檔。</span><span class="sxs-lookup"><span data-stu-id="bfad4-261">Information you can supply includes hello page where you saw hello error, hello specific error code, hello specific session ID, hello ID of hello user who saw hello error, and debug logs.</span></span>

<span data-ttu-id="bfad4-262">toocollect 偵錯記錄檔，以支援的診斷資訊，請使用 hello 下列步驟：</span><span class="sxs-lookup"><span data-stu-id="bfad4-262">toocollect debug logs for support diagnostics, use hello following steps:</span></span> 

1. <span data-ttu-id="bfad4-263">開啟系統管理員命令提示字元並執行下列命令︰</span><span class="sxs-lookup"><span data-stu-id="bfad4-263">Open an Administrator command prompt and run these commands:</span></span>

   ```
   Mkdir c:\NPS
   Cd NPS
   netsh trace start Scenario=NetConnection capture=yes tracefile=c:\NPS\nettrace.etl
   logman create trace "NPSExtension" -ow -o c:\NPS\NPSExtension.etl -p {7237ED00-E119-430B-AB0F-C63360C8EE81} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
   logman update trace "NPSExtension" -p {EC2E6D3A-C958-4C76-8EA4-0262520886FF} 0xffffffffffffffff 0xff -ets
   ```

2. <span data-ttu-id="bfad4-264">重現 hello 問題</span><span class="sxs-lookup"><span data-stu-id="bfad4-264">Reproduce hello issue</span></span>

3. <span data-ttu-id="bfad4-265">停止使用這些命令的 hello 追蹤：</span><span class="sxs-lookup"><span data-stu-id="bfad4-265">Stop hello tracing with these commands:</span></span>

   ```
   logman stop "NPSExtension" -ets
   netsh trace stop
   wevtutil epl AuthNOptCh C:\NPS\%computername%_AuthNOptCh.evtx
   wevtutil epl AuthZOptCh C:\NPS\%computername%_AuthZOptCh.evtx
   wevtutil epl AuthZAdminCh C:\NPS\%computername%_AuthZAdminCh.evtx
   Start .
   ```

4. <span data-ttu-id="bfad4-266">壓縮 hello hello C:\NPS 資料夾內容，並附加 hello 壓縮檔案 toohello 支援案例。</span><span class="sxs-lookup"><span data-stu-id="bfad4-266">Zip hello contents of hello C:\NPS folder and attach hello zipped file toohello support case.</span></span>


