---
title: "資源群組 aaaAutomate 移除 |Microsoft 文件"
description: "PowerShell 工作流程版本的 Azure 自動化案例，包括 runbook tooremove 以您訂用帳戶所有資源都群組。"
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: 
ms.assetid: b848e345-fd5d-4b9d-bc57-3fe41d2ddb5c
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 09/26/2016
ms.author: magoedte
ms.openlocfilehash: d7ff8064842385d57b0eebdf7b263150c958255f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automate-removal-of-resource-groups"></a><span data-ttu-id="f5ad4-103">Azure 自動化案例 - 自動移除資源群組</span><span class="sxs-lookup"><span data-stu-id="f5ad4-103">Azure Automation scenario - automate removal of resource groups</span></span>
<span data-ttu-id="f5ad4-104">許多客戶會建立一個以上的資源群組。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-104">Many customers create more than one resource group.</span></span> <span data-ttu-id="f5ad4-105">有些可能會用來管理生產應用程式，其他的可能會用來作為開發、測試和預備環境。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-105">Some might be used for managing production applications, and others might be used as development, testing, and staging environments.</span></span> <span data-ttu-id="f5ad4-106">自動化 hello 部署這些資源是一件事，但無法 toodecommission hello 按鈕的資源群組是另一個。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-106">Automating hello deployment of these resources is one thing, but being able toodecommission a resource group with a click of hello button is another.</span></span> <span data-ttu-id="f5ad4-107">您可以使用 Azure 自動化來簡化這個一般管理工作。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-107">You can streamline this common management task by using Azure Automation.</span></span> <span data-ttu-id="f5ad4-108">這是有幫助您正在使用 Azure 訂用帳戶具有消費限制，透過像 MSDN 或 Microsoft Partner Network Cloud Essentials 計畫 hello 成員優惠。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-108">This is helpful if you are working with an Azure subscription that has a spending limit through a member offer like MSDN or hello Microsoft Partner Network Cloud Essentials program.</span></span>

<span data-ttu-id="f5ad4-109">此案例中以 PowerShell runbook 為基礎，而且是設計的 tooremove 您指定從您的訂用帳戶的一或多個資源群組。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-109">This scenario is based on a PowerShell runbook and is designed tooremove one or more resource groups that you specify from your subscription.</span></span> <span data-ttu-id="f5ad4-110">hello runbook hello 預設設定是 tootest 後再繼續。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-110">hello default setting of hello runbook is tootest before proceeding.</span></span> <span data-ttu-id="f5ad4-111">這可確保您不小心刪除 hello 資源群組之前，您已準備好 toocomplete 此程序。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-111">This ensures that you don't accidentally delete hello resource group before you're ready toocomplete this procedure.</span></span>   

## <a name="getting-hello-scenario"></a><span data-ttu-id="f5ad4-112">取得 hello 案例</span><span class="sxs-lookup"><span data-stu-id="f5ad4-112">Getting hello scenario</span></span>
<span data-ttu-id="f5ad4-113">此案例包含 PowerShell runbook，您可以下載從 hello [PowerShell 資源庫](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript)。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-113">This scenario consists of a PowerShell runbook that you can download from hello [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span></span> <span data-ttu-id="f5ad4-114">您也可以匯入它直接從 hello [Runbook 庫](automation-runbook-gallery.md)hello Azure 入口網站中。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-114">You can also import it directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal.</span></span><br><br>

| <span data-ttu-id="f5ad4-115">Runbook</span><span class="sxs-lookup"><span data-stu-id="f5ad4-115">Runbook</span></span> | <span data-ttu-id="f5ad4-116">說明</span><span class="sxs-lookup"><span data-stu-id="f5ad4-116">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f5ad4-117">Remove-ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="f5ad4-117">Remove-ResourceGroup</span></span> |<span data-ttu-id="f5ad4-118">從 hello 訂用帳戶中移除一或多個 Azure 資源群組和相關聯的資源。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-118">Removes one or more Azure resource groups and associated resources from hello subscription.</span></span> |

<br>
<span data-ttu-id="f5ad4-119">定義這個 runbook hello 下列輸入的參數：</span><span class="sxs-lookup"><span data-stu-id="f5ad4-119">hello following input parameters are defined for this runbook:</span></span>

| <span data-ttu-id="f5ad4-120">參數</span><span class="sxs-lookup"><span data-stu-id="f5ad4-120">Parameter</span></span> | <span data-ttu-id="f5ad4-121">說明</span><span class="sxs-lookup"><span data-stu-id="f5ad4-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f5ad4-122">NameFilter (必要)</span><span class="sxs-lookup"><span data-stu-id="f5ad4-122">NameFilter (Required)</span></span> |<span data-ttu-id="f5ad4-123">指定名稱篩選 toolimit hello 資源群組，您想刪除。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-123">Specifies a name filter toolimit hello resource groups that you intend on deleting.</span></span> <span data-ttu-id="f5ad4-124">您可以使用逗號分隔清單傳遞多個值。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-124">You can pass multiple values using a comma-separated list.</span></span><br><span data-ttu-id="f5ad4-125">hello 篩選不區分大小寫，而且會比對任何資源群組含有 hello 字串。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-125">hello filter is not case-sensitive and will match any resource group that contains hello string.</span></span> |
| <span data-ttu-id="f5ad4-126">PreviewMode (選擇性)</span><span class="sxs-lookup"><span data-stu-id="f5ad4-126">PreviewMode (Optional)</span></span> |<span data-ttu-id="f5ad4-127">執行 hello runbook toosee 哪些資源群組，就會刪除，但會採取任何動作。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-127">Executes hello runbook toosee which resource groups would be deleted, but takes no action.</span></span><br><span data-ttu-id="f5ad4-128">hello 預設值是**true** toohelp 避免意外刪除一個或多個資源群組傳遞 toohello runbook。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-128">hello default is **true** toohelp avoid accidental deletion of one or more resource groups passed toohello runbook.</span></span> |

## <a name="install-and-configure-this-scenario"></a><span data-ttu-id="f5ad4-129">安裝和設定此案例</span><span class="sxs-lookup"><span data-stu-id="f5ad4-129">Install and configure this scenario</span></span>
### <a name="prerequisites"></a><span data-ttu-id="f5ad4-130">必要條件</span><span class="sxs-lookup"><span data-stu-id="f5ad4-130">Prerequisites</span></span>
<span data-ttu-id="f5ad4-131">此 runbook 會驗證使用 hello [Azure 執行身分帳戶](automation-sec-configure-azure-runas-account.md)。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-131">This runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span>    

### <a name="install-and-publish-hello-runbooks"></a><span data-ttu-id="f5ad4-132">安裝和發佈 runbook hello</span><span class="sxs-lookup"><span data-stu-id="f5ad4-132">Install and publish hello runbooks</span></span>
<span data-ttu-id="f5ad4-133">下載 hello runbook 之後，您可以使用匯入它 hello 程序中的[匯入 runbook 的程序](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation)。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-133">After you download hello runbook, you can import it by using hello procedure in [Importing runbook procedures](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span></span> <span data-ttu-id="f5ad4-134">它已經成功匯入您的自動化帳戶之後，請發行 hello runbook。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-134">Publish hello runbook after it has been successfully imported into your Automation account.</span></span>

## <a name="using-hello-runbook"></a><span data-ttu-id="f5ad4-135">使用 hello runbook</span><span class="sxs-lookup"><span data-stu-id="f5ad4-135">Using hello runbook</span></span>
<span data-ttu-id="f5ad4-136">hello 下列步驟將引導您完成 hello 執行此 runbook 和您熟悉它的運作方式的說明。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-136">hello following steps will walk you through hello execution of this runbook and help you become familiar with how it works.</span></span> <span data-ttu-id="f5ad4-137">您只測試 hello runbook 在這個範例中，不實際刪除 hello 資源群組。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-137">You will only be testing hello runbook in this example, not actually deleting hello resource group.</span></span>  

1. <span data-ttu-id="f5ad4-138">從 hello Azure 入口網站，開啟您的自動化帳戶，然後按一下**Runbook**。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-138">From hello Azure portal, open your Automation account and click **Runbooks**.</span></span>
2. <span data-ttu-id="f5ad4-139">選取 hello**移除 ResourceGroup** runbook 按一下**啟動**。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-139">Select hello **Remove-ResourceGroup** runbook and click **Start**.</span></span>
3. <span data-ttu-id="f5ad4-140">當您啟動 hello runbook 時、 hello**啟動 Runbook**刀鋒視窗隨即開啟，而且您可以設定 hello 參數。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-140">When you start hello runbook, hello **Start Runbook** blade opens and you can configure hello parameters.</span></span> <span data-ttu-id="f5ad4-141">Hello 中輸入名稱的資源群組訂閱您的測試使用，而且會導致沒有壞處，如果意外刪除。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-141">Enter hello names of resource groups in your subscription that you can use for testing and will cause no harm if accidentally deleted.</span></span><br> <span data-ttu-id="f5ad4-142">![Remove-ResouceGroup 參數](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span><span class="sxs-lookup"><span data-stu-id="f5ad4-142">![Remove-ResouceGroup parameters](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span></span>

   > [!NOTE]
   > <span data-ttu-id="f5ad4-143">請確定**Previewmode**設定得**true** tooavoid 刪除 hello 選取資源群組。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-143">Make sure **Previewmode** is set too**true** tooavoid deleting hello selected resource groups.</span></span>  <span data-ttu-id="f5ad4-144">**請注意**此 runbook 將不會移除 hello 資源群組包含執行此 runbook 的 hello 自動化帳戶。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-144">**Note** that this runbook will not remove hello resource group that contains hello Automation account that is running this runbook.</span></span>  
   >
   >
4. <span data-ttu-id="f5ad4-145">設定所有 hello 參數值之後，按一下**確定**，和 hello runbook 將執行排入佇列。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-145">After you have configured all hello parameter values, click **OK**, and hello runbook will be queued for execution.</span></span>  

<span data-ttu-id="f5ad4-146">tooview hello 詳細資料的 hello**移除 ResourceGroup** hello Azure 入口網站，選取在 runbook 工作**作業**hello runbook 中。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-146">tooview hello details of hello **Remove-ResourceGroup** runbook job in hello Azure portal, select **Jobs** in hello runbook.</span></span> <span data-ttu-id="f5ad4-147">hello 工作摘要顯示 hello 輸入的參數及 hello 輸出串流此外 toogeneral hello 工作的資訊和發生的任何例外狀況。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-147">hello job summary displays hello input parameters and hello output stream in addition toogeneral information about hello job and any exceptions that occurred.</span></span><br> <span data-ttu-id="f5ad4-148">![Remove-ResourceGroup Runbook 作業狀態](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png)。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-148">![Remove-ResourceGroup runbook job status](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span></span>

<span data-ttu-id="f5ad4-149">hello**工作摘要**包括從 hello 輸出、 警告和錯誤資料流的訊息。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-149">hello **Job Summary** includes messages from hello output, warning, and error streams.</span></span> <span data-ttu-id="f5ad4-150">選取**輸出**tooview 詳細 hello runbook 執行的結果。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-150">Select **Output** tooview detailed results from hello runbook execution.</span></span><br> <span data-ttu-id="f5ad4-151">![Remove-ResourceGroup Runbook 輸出結果](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="f5ad4-151">![Remove-ResourceGroup runbook output results](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span></span>

## <a name="next-steps"></a><span data-ttu-id="f5ad4-152">後續步驟</span><span class="sxs-lookup"><span data-stu-id="f5ad4-152">Next steps</span></span>
* <span data-ttu-id="f5ad4-153">tooget 開始建立您自己的 runbook，請參閱[建立或匯入 Azure 自動化中的 runbook](automation-creating-importing-runbook.md)。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-153">tooget started creating your own runbook, see [Creating or importing a runbook in Azure Automation](automation-creating-importing-runbook.md).</span></span>
* <span data-ttu-id="f5ad4-154">請參閱 < 開始使用 PowerShell 工作流程 runbook tooget[我的第一個 PowerShell 工作流程 runbook](automation-first-runbook-textual.md)。</span><span class="sxs-lookup"><span data-stu-id="f5ad4-154">tooget started with PowerShell Workflow runbooks, see [My first PowerShell Workflow runbook](automation-first-runbook-textual.md).</span></span>
