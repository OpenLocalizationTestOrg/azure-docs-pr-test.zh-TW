---
title: "Azure 自動化混合式 Runbook 背景工作 | Microsoft Docs"
description: "本文提供有關安裝和使用混合式 Runbook 背景工作角色的相關資訊，它是 Azure 自動化的一項功能，可讓您在本機資料中心內或雲端提供者的機器上執行 Runbook。"
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 06227cda-f3d1-47fe-b3f8-436d2b9d81ee
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/21/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 67aa0f407fd669df559ce1a8d411650158462aef
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="automate-resources-in-your-data-center-or-cloud-with-hybrid-runbook-worker"></a><span data-ttu-id="a810c-103">使用混合式 Runbook 背景工作角色將資料中心內或雲端的資源自動化</span><span class="sxs-lookup"><span data-stu-id="a810c-103">Automate resources in your data center or cloud with Hybrid Runbook Worker</span></span>
<span data-ttu-id="a810c-104">Azure 自動化中的 Runbook 無法存取其他雲端或內部部署環境中的資源，因為其在 Azure 雲端中執行。</span><span class="sxs-lookup"><span data-stu-id="a810c-104">Runbooks in Azure Automation cannot access resources in other clouds or in your on-premises environment since they run in the Azure cloud.</span></span>  <span data-ttu-id="a810c-105">Azure 自動化的混合式 Runbook 背景工作角色功能可讓您直接在裝載角色的電腦上，以及針對環境中的資源執行 Runbook，從而管理這些本機資源。</span><span class="sxs-lookup"><span data-stu-id="a810c-105">The Hybrid Runbook Worker feature of Azure Automation allows you to run runbooks directly on the computer hosting the role and against resources in the environment to manage those local resources.</span></span> <span data-ttu-id="a810c-106">Runbook 會儲存並在 Azure 自動化中管理，接著傳遞至一或多個指定的電腦。</span><span class="sxs-lookup"><span data-stu-id="a810c-106">Runbooks are stored and managed in Azure Automation and then delivered to one or more designated computers.</span></span>  

<span data-ttu-id="a810c-107">下圖說明這項功能：</span><span class="sxs-lookup"><span data-stu-id="a810c-107">This functionality is illustrated in the following image:</span></span><br>  

![混合式 Runbook 背景工作概觀](media/automation-offering-get-started/automation-infradiagram-networkcomms.png)

<span data-ttu-id="a810c-109">如需混合式 Runbook 背景工作角色和部署考量的技術概觀，請參閱[自動化架構概觀](automation-offering-get-started.md#automation-architecture-overview)。</span><span class="sxs-lookup"><span data-stu-id="a810c-109">For a technical overview of the Hybrid Runbook Worker role and deployment considerations, see [Automation architecture overview](automation-offering-get-started.md#automation-architecture-overview).</span></span>    

## <a name="hybrid-runbook-worker-groups"></a><span data-ttu-id="a810c-110">混合式 Runbook 背景工作群組</span><span class="sxs-lookup"><span data-stu-id="a810c-110">Hybrid Runbook Worker groups</span></span>
<span data-ttu-id="a810c-111">每一個混合式 Runbook 背景工作是您安裝代理程式時指定的混合式 Runbook 背景工作群組的成員。</span><span class="sxs-lookup"><span data-stu-id="a810c-111">Each Hybrid Runbook Worker is a member of a Hybrid Runbook Worker group that you specify when you install the agent.</span></span>  <span data-ttu-id="a810c-112">群組可包含單一代理程式，但您可以在群組中安裝多個代理程式以獲得高可用性。</span><span class="sxs-lookup"><span data-stu-id="a810c-112">A group can include a single agent, but you can install multiple agents in a group for high availability.</span></span>

<span data-ttu-id="a810c-113">在 Hybrid Runbook Worker 上啟動 Runbook 時，您會指定要執行它的群組。</span><span class="sxs-lookup"><span data-stu-id="a810c-113">When you start a runbook on a Hybrid Runbook Worker, you specify the group that it runs on.</span></span>  <span data-ttu-id="a810c-114">群組的成員決定由哪一個背景工作角色處理要求。</span><span class="sxs-lookup"><span data-stu-id="a810c-114">The members of the group determine which worker services the request.</span></span>  <span data-ttu-id="a810c-115">您無法指定特定的背景工作。</span><span class="sxs-lookup"><span data-stu-id="a810c-115">You cannot specify a particular worker.</span></span>

## <a name="relationship-to-service-management-automation"></a><span data-ttu-id="a810c-116">與 Service Management Automation 的關聯性</span><span class="sxs-lookup"><span data-stu-id="a810c-116">Relationship to Service Management Automation</span></span>
<span data-ttu-id="a810c-117">[Service Management Automation (SMA)](https://technet.microsoft.com/library/dn469260.aspx) 可讓您在本機資料中心內執行 Azure 自動化支援的相同 Runbook。</span><span class="sxs-lookup"><span data-stu-id="a810c-117">[Service Management Automation (SMA)](https://technet.microsoft.com/library/dn469260.aspx) allows you to run the same runbooks that are supported by Azure Automation in your local data center.</span></span> <span data-ttu-id="a810c-118">SMA 通常與 Windows Azure Pack 一同部署，因為 Windows Azure Pack 包含 SMA 管理的圖形化介面。</span><span class="sxs-lookup"><span data-stu-id="a810c-118">SMA is generally deployed together with Windows Azure Pack, as Windows Azure Pack contains a graphical interface for SMA management.</span></span> <span data-ttu-id="a810c-119">不同於 Azure 自動化，SMA 需要本機安裝，安裝中包含了裝載 API 的 Web 伺服器、包含 Runbook 和 SMA 組態的資料庫、用以執行 Runbook 作業的 Runbook 背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="a810c-119">Unlike Azure Automation, SMA requires a local installation that includes web servers to host the API, a database to contain runbooks and SMA configuration, and Runbook Workers to execute runbook jobs.</span></span> <span data-ttu-id="a810c-120">Azure 自動化在雲端中提供這些服務，並只要求您在本機環境中維護混合式 Runbook 背景工作。</span><span class="sxs-lookup"><span data-stu-id="a810c-120">Azure Automation provides these services in the cloud and only requires you to maintain the Hybrid Runbook Workers in your local environment.</span></span>

<span data-ttu-id="a810c-121">如果您是現有 SMA 使用者，可以將您的 Runbook 移至 Azure 自動化，以搭配混合式 Runbook 背景工作角色使用，而不必變更，假設他們已依[在混合式 Runbook 背景工作角色中執行 Runbook](automation-hrw-run-runbooks.md) 中所述，向資源進行驗證。</span><span class="sxs-lookup"><span data-stu-id="a810c-121">If you are an existing SMA user, you can move your runbooks to Azure Automation to be used with Hybrid Runbook Worker with no changes, assuming that they perform their own authentication to resources as described in [run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md).</span></span>  <span data-ttu-id="a810c-122">SMA 中的 Runbook 會在背景工作伺服器上服務帳戶的內容中執行，其可能為 Runbook 提供該驗證。</span><span class="sxs-lookup"><span data-stu-id="a810c-122">Runbooks in SMA run in the context of the service account on the worker server which may provide that authentication for the runbooks.</span></span>

<span data-ttu-id="a810c-123">您可以使用下列準則來判斷 Azure 自動化搭配混合式 Runbook 背景工作或 Service Management Automation 更適合您的需求。</span><span class="sxs-lookup"><span data-stu-id="a810c-123">You can use the following criteria to determine whether Azure Automation with Hybrid Runbook Worker or Service Management Automation is more appropriate for your requirements.</span></span>

* <span data-ttu-id="a810c-124">SMA 需要本機安裝其基礎元件，如果需要圖形化管理介面，這些元件會連接到 Windows Azure Pack。</span><span class="sxs-lookup"><span data-stu-id="a810c-124">SMA requires a local installation of its underlying components that are connected to Windows Azure Pack if a graphical management interface is required.</span></span> <span data-ttu-id="a810c-125">相較於 Azure 自動化，這需要更多的本機資源和更高的維護成本；Azure 自動化只需要在本機 Runbook 背景工作角色上安裝代理程式。</span><span class="sxs-lookup"><span data-stu-id="a810c-125">More local resources are needed with higher maintenance costs than Azure Automation, which only needs an agent installed on local runbook workers.</span></span> <span data-ttu-id="a810c-126">代理程式由 Operations Management Suite 管理，進而減少您的維護成本。</span><span class="sxs-lookup"><span data-stu-id="a810c-126">The agents are managed by Operations Management Suite, further decreasing your maintenance costs.</span></span>
* <span data-ttu-id="a810c-127">Azure 自動化會將其 Runbook 儲存在雲端中，並將它們提供給內部部署的 Hybrid Runbook 背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="a810c-127">Azure Automation stores its runbooks in the cloud and delivers them to on-premises Hybrid Runbook Workers.</span></span> <span data-ttu-id="a810c-128">如果您的安全性原則不允許這種行為，您應該使用 SMA。</span><span class="sxs-lookup"><span data-stu-id="a810c-128">If your security policy does not allow this behavior, then you should use SMA.</span></span>
* <span data-ttu-id="a810c-129">SMA 隨附於 System Center，因此需要 System Center 2012 R2 授權。</span><span class="sxs-lookup"><span data-stu-id="a810c-129">SMA is included with System Center; and therefore, requires a System Center 2012 R2 license.</span></span> <span data-ttu-id="a810c-130">Azure 自動化是採用分層式的訂用帳戶模型。</span><span class="sxs-lookup"><span data-stu-id="a810c-130">Azure Automation is based on a tiered subscription model.</span></span>
* <span data-ttu-id="a810c-131">Azure 自動化具備 SMA 中並未提供的圖形 Runbook 等進階功能。</span><span class="sxs-lookup"><span data-stu-id="a810c-131">Azure Automation has advanced features such as graphical runbooks that are not available in SMA.</span></span>

## <a name="installing-the-windows-hybrid-runbook-worker"></a><span data-ttu-id="a810c-132">安裝 Windows 混合式 Runbook 背景工作角色</span><span class="sxs-lookup"><span data-stu-id="a810c-132">Installing the Windows Hybrid Runbook Worker</span></span> 

<span data-ttu-id="a810c-133">安裝和設定 Windows 混合式 Runbook 背景工作角色有兩種可用的方法。</span><span class="sxs-lookup"><span data-stu-id="a810c-133">To install and configure a Windows Hybrid Runbook Worker, there are two methods available.</span></span>  <span data-ttu-id="a810c-134">建議的方法是使用自動化 Runbook，將設定 Windows 電腦所需的程序完全自動化。</span><span class="sxs-lookup"><span data-stu-id="a810c-134">The recommended method is using an Automation runbook to completely automate the process required to configure a Windows computer.</span></span>  <span data-ttu-id="a810c-135">第二種方法採取逐步程序來手動安裝和設定角色。</span><span class="sxs-lookup"><span data-stu-id="a810c-135">The second method is following a step-by-step procedure to manually install and configure the role.</span></span>  

> [!NOTE]
> <span data-ttu-id="a810c-136">若要透過「預期狀態設定」(DSC) 管理支援 Hybrid Runbook Worker 之伺服器的設定，您需要將它們新增為 DSC 節點。</span><span class="sxs-lookup"><span data-stu-id="a810c-136">To manage the configuration of your servers supporting the Hybrid Runbook Worker role with Desired State Configuration (DSC), you need to add them as DSC nodes.</span></span>  <span data-ttu-id="a810c-137">如需有關讓它們上線以透過 DSC 進行管理的詳細資訊，請參閱[讓機器上線以透過 Azure 自動化 DSC 進行管理](automation-dsc-onboarding.md)。</span><span class="sxs-lookup"><span data-stu-id="a810c-137">For more information about onboarding them for management with DSC, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md).</span></span>           
><br>
><span data-ttu-id="a810c-138">如果您啟用[更新管理解決方案](../operations-management-suite/oms-solution-update-management.md)，則任何連線到 OMS 工作區的 Windows 電腦都會自動設定為 Hybrid Runbook Worker，以支援此解決方案所包含的 Runbook。</span><span class="sxs-lookup"><span data-stu-id="a810c-138">If you enable the [Update Management solution](../operations-management-suite/oms-solution-update-management.md), any Windows computer connected to your OMS workspace is  automatically configured as a Hybrid Runbook Worker to support runbooks included in this solution.</span></span>  <span data-ttu-id="a810c-139">不過，它不會向您已在自動化帳戶中定義的任何 Hybrid Worker 群組註冊。</span><span class="sxs-lookup"><span data-stu-id="a810c-139">However, it is not registered with any Hybrid Worker groups already defined in your Automation account.</span></span>  <span data-ttu-id="a810c-140">您可以將電腦新增到您「自動化」帳戶中的 Hybrid Runbook Worker 群組來支援「自動化」Runbook，只要解決方案和 Hybrid Runbook Worker 群組成員資格兩者所用的帳戶相同即可。</span><span class="sxs-lookup"><span data-stu-id="a810c-140">The computer can be added to a Hybrid Runbook Worker group in your Automation account to support Automation runbooks as long as you are using the same account for both the solution and Hybrid Runbook Worker group membership.</span></span>  <span data-ttu-id="a810c-141">此功能已新增至 Hybrid Runbook Worker 7.2.12024.0 版。</span><span class="sxs-lookup"><span data-stu-id="a810c-141">This functionality has been added to version 7.2.12024.0 of the Hybrid Runbook Worker.</span></span>  

<span data-ttu-id="a810c-142">請檢閱下列有關[硬體和軟體需求](automation-offering-get-started.md#hybrid-runbook-worker)和[的資訊，在開始部署混合式 Runbook 背景工作角色之前準備您的網路](automation-offering-get-started.md#network-planning)。</span><span class="sxs-lookup"><span data-stu-id="a810c-142">Review the following information regarding the [hardware and software requirements](automation-offering-get-started.md#hybrid-runbook-worker) and [information for preparing your network](automation-offering-get-started.md#network-planning) before you begin deploying a Hybrid Runbook Worker.</span></span>  <span data-ttu-id="a810c-143">在您成功部署 Runbook 背景工作角色後，請檢閱[在混合式 Runbook 背景工作角色上執行 Runbook](automation-hrw-run-runbooks.md)，以了解如何設定您的 Runbook，將您在內部部署資料中心或其他雲端環境中的程序自動化。</span><span class="sxs-lookup"><span data-stu-id="a810c-143">After you have successfully deployed a runbook worker, review [run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md) to learn how to configure your runbooks to automate processes in your on-premises datacenter or other cloud environment.</span></span>  
 
### <a name="automated-deployment"></a><span data-ttu-id="a810c-144">自動化部署</span><span class="sxs-lookup"><span data-stu-id="a810c-144">Automated deployment</span></span>

<span data-ttu-id="a810c-145">執行下列步驟，以將 Windows 混合式背景工作角色的安裝和設定自動化。</span><span class="sxs-lookup"><span data-stu-id="a810c-145">Perform the following steps to automate the installation and configuration of the Windows Hybrid Worker role.</span></span>  

1. <span data-ttu-id="a810c-146">直接在執行 Hybrid Runbook Worker 角色的電腦上，從 [PowerShell 資源庫](https://www.powershellgallery.com/packages/New-OnPremiseHybridWorker/1.0/DisplayScript)下載 *New-OnPremiseHybridWorker.ps1* 指令碼，或從環境中的另一部電腦下載，再複製到背景工作角色。</span><span class="sxs-lookup"><span data-stu-id="a810c-146">Download the *New-OnPremiseHybridWorker.ps1* script from the [PowerShell Gallery](https://www.powershellgallery.com/packages/New-OnPremiseHybridWorker/1.0/DisplayScript) directly from the computer running the Hybrid Runbook Worker role or from another computer in your environment and copy it to the worker.</span></span>  

    <span data-ttu-id="a810c-147">*New-OnPremiseHybridWorker.ps1* 指令碼在執行期間需要下列參數：</span><span class="sxs-lookup"><span data-stu-id="a810c-147">The *New-OnPremiseHybridWorker.ps1* script requires the following parameters during execution:</span></span>

  * <span data-ttu-id="a810c-148">*AutomationAccountName* (必要) - 您的自動化帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="a810c-148">*AutomationAccountName* (mandatory) - the name of your Automation account.</span></span>  
  * <span data-ttu-id="a810c-149">*ResourceGroupName* (必要) - 與您的自動化帳戶相關聯的資源群組名稱。</span><span class="sxs-lookup"><span data-stu-id="a810c-149">*ResourceGroupName* (mandatory) - the name of the resource group associated with your Automation account.</span></span>  
  * <span data-ttu-id="a810c-150">*HybridGroupName* (必要) - 針對支援此案例的 Runbook，您指定作為目標的 Hybrid Runbook Worker 群組名稱。</span><span class="sxs-lookup"><span data-stu-id="a810c-150">*HybridGroupName* (mandatory) - the name of a Hybrid Runbook Worker group that you specify as a target for the runbooks supporting this scenario.</span></span> 
  *  <span data-ttu-id="a810c-151">*SubscriptionID* (必要) - 您的自動化帳戶所在的 Azure 訂用帳戶識別碼。</span><span class="sxs-lookup"><span data-stu-id="a810c-151">*SubscriptionID* (mandatory) - the Azure Subscription Id that your Automation account is in.</span></span>
  *  <span data-ttu-id="a810c-152">*WorkspaceName* (選擇性) - OMS 工作區名稱。</span><span class="sxs-lookup"><span data-stu-id="a810c-152">*WorkspaceName* (optional) - the OMS workspace name.</span></span>  <span data-ttu-id="a810c-153">如果您沒有 OMS 工作區，此指令碼會建立並設定一個 OMS 工作區。</span><span class="sxs-lookup"><span data-stu-id="a810c-153">If you do not have an OMS workspace, the script creates and configures one.</span></span>  

     > [!NOTE]
     > <span data-ttu-id="a810c-154">目前，支援與 OMS 整合的自動化區域只包括 - **澳大利亞東南部**、**美國東部 2**、**東南亞**和**西歐**。</span><span class="sxs-lookup"><span data-stu-id="a810c-154">Currently the only Automation regions supported for integration with OMS are - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span>  <span data-ttu-id="a810c-155">如果您的自動化帳戶不在其中一個區域，此指令碼會建立 OMS 工作區，但會警告您，指出無法將它們連結在一起。</span><span class="sxs-lookup"><span data-stu-id="a810c-155">If your Automation account is not in one of those regions, the script creates an OMS workspace but it warns you that it cannot link them together.</span></span>
     > 
2. <span data-ttu-id="a810c-156">在您的電腦上，從 [開始] 畫面以系統管理員模式啟動 **Windows PowerShell**。</span><span class="sxs-lookup"><span data-stu-id="a810c-156">On your computer, start **Windows PowerShell** from the **Start** screen in Administrator mode.</span></span>  
3. <span data-ttu-id="a810c-157">從 PowerShell 命令列殼層，瀏覽至您下載的指令碼所在的資料夾，然後執行該指令碼，並變更參數 *-AutomationAccountName*、*-ResourceGroupName*、*-HybridGroupName*、*-SubscriptionId* 和 *-WorkspaceName* 的值。</span><span class="sxs-lookup"><span data-stu-id="a810c-157">From the PowerShell command-line shell, navigate to the folder, which contains the script you downloaded and execute it changing the values for parameters *-AutomationAccountName*, *-ResourceGroupName*, *-HybridGroupName*, *-SubscriptionId*, and *-WorkspaceName*.</span></span>

     > [!NOTE] 
     > <span data-ttu-id="a810c-158">執行指令碼之後，您會收到向 Azure 進行驗證的提示。</span><span class="sxs-lookup"><span data-stu-id="a810c-158">You are prompted to authenticate with Azure after you execute the script.</span></span>  <span data-ttu-id="a810c-159">您**必須**以訂用帳戶管理員角色成員和訂用帳戶共同管理員的帳戶登入。</span><span class="sxs-lookup"><span data-stu-id="a810c-159">You **must** sign in with an account that is a member of the Subscription Admins role and co-administrator of the subscription.</span></span>  
     >  
    
        .\New-OnPremiseHybridWorker.ps1 -AutomationAccountName <NameofAutomationAccount> `
        -ResourceGroupName <NameofOResourceGroup> -HybridGroupName <NameofHRWGroup> `
        -SubscriptionId <AzureSubscriptionId> -WorkspaceName <NameOfOMSWorkspace>

4. <span data-ttu-id="a810c-160">系統會提示您同意安裝 **NuGet**，也會提示使用您的 Azure 認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="a810c-160">You are prompted to agree to install **NuGet** and you are prompted to authenticate with your Azure credentials.</span></span><br><br> <span data-ttu-id="a810c-161">![Execution of New-OnPremiseHybridWorker script](media/automation-hybrid-runbook-worker/new-onpremisehybridworker-scriptoutput.png)</span><span class="sxs-lookup"><span data-stu-id="a810c-161">![Execution of New-OnPremiseHybridWorker script](media/automation-hybrid-runbook-worker/new-onpremisehybridworker-scriptoutput.png)</span></span>

5. <span data-ttu-id="a810c-162">指令碼完成之後，[混合式背景工作角色群組] 刀鋒視窗會顯示新的群組和成員數目，或者，如果是現有的群組，則成員數目會遞增。</span><span class="sxs-lookup"><span data-stu-id="a810c-162">After the script is complete, the Hybrid Worker Groups blade will show the new group and number of members or if an existing group, the number of members is incremented.</span></span>  <span data-ttu-id="a810c-163">您可以在 [Hybrid Worker 群組] 刀鋒視窗從清單中選取群組，然後選取 [Hybrid Worker] 圖格。</span><span class="sxs-lookup"><span data-stu-id="a810c-163">You can select the group from the list on the **Hybrid Worker Groups** blade and select the **Hybrid Workers** tile.</span></span>  <span data-ttu-id="a810c-164">在 [Hybrid Worker] 刀鋒視窗上，您會看到列出群組的每個成員。</span><span class="sxs-lookup"><span data-stu-id="a810c-164">On the **Hybrid Workers** blade, you see each member of the group listed.</span></span>  

### <a name="manual-deployment"></a><span data-ttu-id="a810c-165">手動部署</span><span class="sxs-lookup"><span data-stu-id="a810c-165">Manual deployment</span></span> 
<span data-ttu-id="a810c-166">對您的自動化環境執行一次前兩個步驟，再對每一台背景工作角色電腦重複其餘步驟。</span><span class="sxs-lookup"><span data-stu-id="a810c-166">Perform the first two steps once for your Automation environment and then repeat the remaining steps for each worker computer.</span></span>

#### <a name="1-create-operations-management-suite-workspace"></a><span data-ttu-id="a810c-167">1.建立 Operations Management Suite 工作區</span><span class="sxs-lookup"><span data-stu-id="a810c-167">1. Create Operations Management Suite workspace</span></span>
<span data-ttu-id="a810c-168">如果您還沒有 Operations Management Suite 工作區，請使用[管理您的工作區](../log-analytics/log-analytics-manage-access.md)中的指示建立工作區。</span><span class="sxs-lookup"><span data-stu-id="a810c-168">If you do not already have an Operations Management Suite workspace, then create one using instructions at [Manage your workspace](../log-analytics/log-analytics-manage-access.md).</span></span> <span data-ttu-id="a810c-169">如果您已經有工作區，可以使用現有的工作區。</span><span class="sxs-lookup"><span data-stu-id="a810c-169">You can use an existing workspace if you already have one.</span></span>

#### <a name="2-add-automation-solution-to-operations-management-suite-workspace"></a><span data-ttu-id="a810c-170">2.將自動化解決方案加入至 Operations Management Suite 工作區</span><span class="sxs-lookup"><span data-stu-id="a810c-170">2. Add Automation solution to Operations Management Suite workspace</span></span>
<span data-ttu-id="a810c-171">解決方案會將功能加入至 Operations Management Suite。</span><span class="sxs-lookup"><span data-stu-id="a810c-171">Solutions add functionality to Operations Management Suite.</span></span>  <span data-ttu-id="a810c-172">自動化解決方案會增加 Azure 自動化的功能，包括支援 Hybrid Runbook Worker。</span><span class="sxs-lookup"><span data-stu-id="a810c-172">The Automation solution adds functionality for Azure Automation including support for Hybrid Runbook Worker.</span></span>  <span data-ttu-id="a810c-173">將解決方案新增至工作區時，它會自動將背景工作角色元件往下推送給您在下一步將安裝的代理程式電腦。</span><span class="sxs-lookup"><span data-stu-id="a810c-173">When you add the solution to your workspace, it automatically pushes down worker components to the agent computer that you will install in the next step.</span></span>

<span data-ttu-id="a810c-174">請依照 [使用解決方案資源庫新增解決方案](../log-analytics/log-analytics-add-solutions.md) 中的指示，將 **自動化** 解決方案新增至 Operations Management Suite 工作區。</span><span class="sxs-lookup"><span data-stu-id="a810c-174">Follow the instructions at [To add a solution using the Solutions Gallery](../log-analytics/log-analytics-add-solutions.md) to add the **Automation** solution to your Operations Management Suite workspace.</span></span>

#### <a name="3-install-the-microsoft-monitoring-agent"></a><span data-ttu-id="a810c-175">3.安裝 Microsoft Monitoring Agent</span><span class="sxs-lookup"><span data-stu-id="a810c-175">3. Install the Microsoft Monitoring Agent</span></span>
<span data-ttu-id="a810c-176">Microsoft Monitoring Agent 可將電腦連線至 Operations Management Suite。</span><span class="sxs-lookup"><span data-stu-id="a810c-176">The Microsoft Monitoring Agent connects computers to Operations Management Suite.</span></span>  <span data-ttu-id="a810c-177">將代理程式安裝在內部部署電腦，並連接到您的工作區時，它會自動下載 Hybrid Runbook Worker 所需的元件。</span><span class="sxs-lookup"><span data-stu-id="a810c-177">When you install the agent on your on-premises computer and connect it to your workspace, it will automatically download the components required for Hybrid Runbook Worker.</span></span>

<span data-ttu-id="a810c-178">請依照[將 Windows 電腦連接到 Log Analytics](../log-analytics/log-analytics-windows-agents.md) 中的指示，將代理程式安裝在內部部署電腦上。</span><span class="sxs-lookup"><span data-stu-id="a810c-178">Follow the instructions at [Connect Windows computers to Log Analytics](../log-analytics/log-analytics-windows-agents.md) to install the agent on the on-premises computer.</span></span>  <span data-ttu-id="a810c-179">您可以對多部電腦重複此程序，將多個背景工作角色加入至您的環境。</span><span class="sxs-lookup"><span data-stu-id="a810c-179">You can repeat this process for multiple computers to add multiple workers to your environment.</span></span>

<span data-ttu-id="a810c-180">當代理程式成功連接到 Operations Management Suite 時，它會列在 Operations Management Suite [設定] 窗格的 [已連接的來源] 索引標籤上。</span><span class="sxs-lookup"><span data-stu-id="a810c-180">When the agent has successfully connected to Operations Management Suite, it will be listed on the **Connected Sources** tab of the Operations Management Suite **Settings** pane.</span></span>  <span data-ttu-id="a810c-181">當 C:\Program Files\Microsoft Monitoring Agent\Agent 中出現 **AzureAutomationFiles** 資料夾時，就可確認代理程式已正確下載自動化解決方案。</span><span class="sxs-lookup"><span data-stu-id="a810c-181">You can verify that the agent has correctly downloaded the Automation solution when it has a folder called **AzureAutomationFiles** in C:\Program Files\Microsoft Monitoring Agent\Agent.</span></span>  <span data-ttu-id="a810c-182">若要確認 Hybrid Runbook Worker 版本，您可以瀏覽至 C:\Program Files\Microsoft Monitoring Agent\Agent\AzureAutomation\，並記下 \\version 子資料夾。</span><span class="sxs-lookup"><span data-stu-id="a810c-182">To confirm the version of the Hybrid Runbook Worker, you can navigate to C:\Program Files\Microsoft Monitoring Agent\Agent\AzureAutomation\ and note the \\*version* subfolder.</span></span>   

#### <a name="4-install-the-runbook-environment-and-connect-to-azure-automation"></a><span data-ttu-id="a810c-183">4.安裝 Runbook 環境並連接到 Azure 自動化</span><span class="sxs-lookup"><span data-stu-id="a810c-183">4. Install the runbook environment and connect to Azure Automation</span></span>
<span data-ttu-id="a810c-184">將代理程式新增至 Operations Management Suite 時，自動化解決方案會往下推送包含 **Add-HybridRunbookWorker** Cmdlet 的 **HybridRegistration** PowerShell 模組。</span><span class="sxs-lookup"><span data-stu-id="a810c-184">When you add an agent to Operations Management Suite, the Automation solution pushes down the **HybridRegistration** PowerShell module, which contains the **Add-HybridRunbookWorker** cmdlet.</span></span>  <span data-ttu-id="a810c-185">您可以使用這個 Cmdlet 在電腦上安裝 Runbook 環境並向 Azure 自動化進行註冊。</span><span class="sxs-lookup"><span data-stu-id="a810c-185">You use this cmdlet to install the runbook environment on the computer and register it with Azure Automation.</span></span>

<span data-ttu-id="a810c-186">以系統管理員模式開啟 PowerShell 工作階段，並執行下列命令來匯入模組。</span><span class="sxs-lookup"><span data-stu-id="a810c-186">Open a PowerShell session in Administrator mode and run the following commands to import the module.</span></span>

    cd "C:\Program Files\Microsoft Monitoring Agent\Agent\AzureAutomation\<version>\HybridRegistration"
    Import-Module HybridRegistration.psd1

<span data-ttu-id="a810c-187">然後使用下列語法執行 **Add-HybridRunbookWorker** Cmdlet：</span><span class="sxs-lookup"><span data-stu-id="a810c-187">Then run the **Add-HybridRunbookWorker** cmdlet using the following syntax:</span></span>

    Add-HybridRunbookWorker –GroupName <String> -EndPoint <Url> -Token <String>

<span data-ttu-id="a810c-188">您可以從 Azure 入口網站的 [管理金鑰]  刀鋒視窗取得這個 Cmdlet 所需的資訊。</span><span class="sxs-lookup"><span data-stu-id="a810c-188">You can get the information required for this cmdlet from the **Manage Keys** blade in the Azure portal.</span></span>  <span data-ttu-id="a810c-189">在您的自動化帳戶中，從 [設定] 刀鋒視窗選取 [金鑰]，以開啟此刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="a810c-189">Open this blade by selecting the **Keys** option from the **Settings** blade in your Automation account.</span></span>

![混合式 Runbook 背景工作概觀](media/automation-hybrid-runbook-worker/elements-panel-keys.png)

* <span data-ttu-id="a810c-191">**GroupName** 是混合式 Runbook 背景工作角色群組的名稱。</span><span class="sxs-lookup"><span data-stu-id="a810c-191">**GroupName** is the name of the Hybrid Runbook Worker Group.</span></span> <span data-ttu-id="a810c-192">如果自動化帳戶中已有這個群組，那麼會將目前的電腦加入。</span><span class="sxs-lookup"><span data-stu-id="a810c-192">If this group already exists in the automation account, then the current computer is added to it.</span></span>  <span data-ttu-id="a810c-193">如果尚不存在，則會加入。</span><span class="sxs-lookup"><span data-stu-id="a810c-193">If it does not already exist, then it is added.</span></span>
* <span data-ttu-id="a810c-194">**EndPoint** 是 [管理金鑰] 刀鋒視窗中的 [URL] 欄位。</span><span class="sxs-lookup"><span data-stu-id="a810c-194">**EndPoint** is the **URL** field in the **Manage Keys** blade.</span></span>
* <span data-ttu-id="a810c-195">**Token** 是 [管理金鑰] 刀鋒視窗中的 [主要存取金鑰]。</span><span class="sxs-lookup"><span data-stu-id="a810c-195">**Token** is the **Primary Access Key** in the **Manage Keys** blade.</span></span>  

<span data-ttu-id="a810c-196">在 **Add-HybridRunbookWorker** 中新增 **-Verbose** 參數可接收安裝的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="a810c-196">Use the **-Verbose** switch with **Add-HybridRunbookWorker** to receive detailed information about the installation.</span></span>

#### <a name="5-install-powershell-modules"></a><span data-ttu-id="a810c-197">5.安裝 PowerShell 模組</span><span class="sxs-lookup"><span data-stu-id="a810c-197">5. Install PowerShell modules</span></span>
<span data-ttu-id="a810c-198">Runbook 可以使用 Azure 自動化環境中安裝的模組中定義的任何活動和 Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="a810c-198">Runbooks can use any of the activities and cmdlets defined in the modules installed in your Azure Automation environment.</span></span>  <span data-ttu-id="a810c-199">不過，這些模組不會自動部署至內部部署機器，所以您必須手動安裝它們。</span><span class="sxs-lookup"><span data-stu-id="a810c-199">These modules are not automatically deployed to on-premises computers though, so you must install them manually.</span></span>  <span data-ttu-id="a810c-200">例外狀況是預設安裝的 Azure 模組，可提供 Azure 自動化所有 Azure 服務和活動的 Cmdlet 存取權。</span><span class="sxs-lookup"><span data-stu-id="a810c-200">The exception is the Azure module, which is installed by default providing access to cmdlets for all Azure services and activities for Azure Automation.</span></span>

<span data-ttu-id="a810c-201">由於 Hybrid Runbook Worker 功能的主要目的是要管理本機資源，您很可能必須安裝支援這些資源的模組。</span><span class="sxs-lookup"><span data-stu-id="a810c-201">Since the primary purpose of the Hybrid Runbook Worker feature is to manage local resources, you most likely need to install the modules that support these resources.</span></span>  <span data-ttu-id="a810c-202">您可以參考 [安裝模組](http://msdn.microsoft.com/library/dd878350.aspx) 來取得安裝 Windows PowerShell 模組的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="a810c-202">You can refer to [Installing Modules](http://msdn.microsoft.com/library/dd878350.aspx) for information on installing Windows PowerShell modules.</span></span>  <span data-ttu-id="a810c-203">安裝的模組必須位於 PSModulePath 環境變數所參考的位置，才能由 Hybrid 背景工作角色自動匯入。</span><span class="sxs-lookup"><span data-stu-id="a810c-203">Modules that are installed must be in a location referenced by PSModulePath environment variable so that they are automatically imported by the Hybrid worker.</span></span>  <span data-ttu-id="a810c-204">如需詳細資訊，請參閱[修改 PSModulePath 安裝路徑](https://msdn.microsoft.com/library/dd878326%28v=vs.85%29.aspx)。</span><span class="sxs-lookup"><span data-stu-id="a810c-204">For further information, see [Modifying the PSModulePath Installation Path](https://msdn.microsoft.com/library/dd878326%28v=vs.85%29.aspx).</span></span> 

## <a name="removing-hybrid-runbook-worker"></a><span data-ttu-id="a810c-205">移除 Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="a810c-205">Removing Hybrid Runbook Worker</span></span> 
<span data-ttu-id="a810c-206">您可以移除群組中的一或多個 Hybrid Runbook 背景工作角色，或移除該群組，視您的需求而定。</span><span class="sxs-lookup"><span data-stu-id="a810c-206">You can remove one or more Hybrid Runbook Workers from a group or you can remove the group, depending on your requirements.</span></span>  <span data-ttu-id="a810c-207">若要從內部部署電腦中移除 Hybrid Runbook Worker，請執行下列步驟。</span><span class="sxs-lookup"><span data-stu-id="a810c-207">To remove a Hybrid Runbook Worker from an on-premises computer, perform the following steps.</span></span>

1. <span data-ttu-id="a810c-208">在 Azure 入口網站中，瀏覽至您的自動化帳戶。</span><span class="sxs-lookup"><span data-stu-id="a810c-208">In the Azure portal, navigate to your Automation account.</span></span>  
2. <span data-ttu-id="a810c-209">從 [設定] 刀鋒視窗中，選取 [金鑰]，記下欄位 [URL] 和 [主要存取金鑰] 的值。</span><span class="sxs-lookup"><span data-stu-id="a810c-209">From the **Settings** blade, select **Keys** and note the values for field **URL** and **Primary Access Key**.</span></span>  <span data-ttu-id="a810c-210">下一個步驟需要此資訊。</span><span class="sxs-lookup"><span data-stu-id="a810c-210">You need this information for the next step.</span></span>
3. <span data-ttu-id="a810c-211">在系統管理員模式中開啟 PowerShell 工作階段，並執行下列命令 - `Remove-HybridRunbookWorker -url <URL> -key <PrimaryAccessKey>`。</span><span class="sxs-lookup"><span data-stu-id="a810c-211">Open a PowerShell session in Administrator mode and run the following command - `Remove-HybridRunbookWorker -url <URL> -key <PrimaryAccessKey>`.</span></span>  <span data-ttu-id="a810c-212">使用 **-Verbose** 參數可取得移除程序的詳細記錄。</span><span class="sxs-lookup"><span data-stu-id="a810c-212">Use the **-Verbose** switch for a detailed log of the removal process.</span></span>

> [!NOTE]
> <span data-ttu-id="a810c-213">這不會移除電腦上的 Microsoft Monitoring Agent，只會移除 Hybrid Runbook 背景工作角色的功能和組態。</span><span class="sxs-lookup"><span data-stu-id="a810c-213">This does not remove the Microsoft Monitoring Agent from the computer, only the functionality and configuration of the Hybrid Runbook Worker role.</span></span>  

## <a name="remove-hybrid-worker-groups"></a><span data-ttu-id="a810c-214">移除混合式背景工作角色群組</span><span class="sxs-lookup"><span data-stu-id="a810c-214">Remove Hybrid Worker groups</span></span>
<span data-ttu-id="a810c-215">若要移除群組，您必須先使用先前所示的程序，從群組的每一部成員電腦中移除 Hybrid Runbook Worker，然後執行下列步驟移除群組。</span><span class="sxs-lookup"><span data-stu-id="a810c-215">To remove a group, you first need to remove the Hybrid Runbook Worker from every computer that is a member of the group using the procedure shown earlier, and then you perform the following steps to remove the group.</span></span>  

1. <span data-ttu-id="a810c-216">在 Azure 入口網站中，開啟自動化帳戶。</span><span class="sxs-lookup"><span data-stu-id="a810c-216">Open the Automation account in the Azure portal.</span></span>
2. <span data-ttu-id="a810c-217">選取 [Hybrid 背景工作角色] 刀鋒視窗中的 [Hybrid 背景工作角色群組] 圖格，然後選取要刪除的群組。</span><span class="sxs-lookup"><span data-stu-id="a810c-217">Select the **Hybrid Worker Groups** tile and in the **Hybrid Worker Groups** blade, select the group you wish to delete.</span></span>  <span data-ttu-id="a810c-218">選取特定的群組之後，[Hybrid 背景工作角色群組] 屬性刀鋒視窗隨即出現。</span><span class="sxs-lookup"><span data-stu-id="a810c-218">After selecting the specific group, the **Hybrid worker group** properties blade is displayed.</span></span><br> <span data-ttu-id="a810c-219">![Hybrid Runbook 背景工作角色群組刀鋒視窗](media/automation-hybrid-runbook-worker/automation-hybrid-runbook-worker-group-properties.png)</span><span class="sxs-lookup"><span data-stu-id="a810c-219">![Hybrid Runbook Worker Group Blade](media/automation-hybrid-runbook-worker/automation-hybrid-runbook-worker-group-properties.png)</span></span>   
3. <span data-ttu-id="a810c-220">在所選群組的屬性刀鋒視窗中，按一下 [刪除]。</span><span class="sxs-lookup"><span data-stu-id="a810c-220">On the properties blade for the selected group, click **Delete**.</span></span>  <span data-ttu-id="a810c-221">將會出現一則訊息要求您確認此動作，如果您確定要繼續，請選取 [是]。</span><span class="sxs-lookup"><span data-stu-id="a810c-221">A message appears asking you to confirm this action, select **Yes** if you are sure you want to proceed.</span></span><br> <span data-ttu-id="a810c-222">![建立群組確認對話方塊](media/automation-hybrid-runbook-worker/automation-hybrid-runbook-worker-confirm-delete.png)</span><span class="sxs-lookup"><span data-stu-id="a810c-222">![Delete Group Confirmation Dialog](media/automation-hybrid-runbook-worker/automation-hybrid-runbook-worker-confirm-delete.png)</span></span><br> <span data-ttu-id="a810c-223">此程序需要幾秒鐘才能完成，您可以在功能表的 [通知] 底下追蹤其進度。</span><span class="sxs-lookup"><span data-stu-id="a810c-223">This process can take several seconds to complete and you can track its progress under **Notifications** from the menu.</span></span>  

## <a name="troubleshooting"></a><span data-ttu-id="a810c-224">疑難排解</span><span class="sxs-lookup"><span data-stu-id="a810c-224">Troubleshooting</span></span> 
<span data-ttu-id="a810c-225">混合式 Runbook 背景工作角色取決於與自動化帳戶通訊的 Microsoft Monitoring Agent，來註冊背景工作角色、接收 Runbook 作業及報告狀態。</span><span class="sxs-lookup"><span data-stu-id="a810c-225">The Hybrid Runbook Worker depends on the Microsoft Monitoring Agent to communicate with your Automation account to register the worker, receive runbook jobs, and report status.</span></span> <span data-ttu-id="a810c-226">如果註冊背景工作角色失敗，可參考以下一些可能的錯誤原因：</span><span class="sxs-lookup"><span data-stu-id="a810c-226">If  registration of the worker fails, here are some possible causes for the error:</span></span>  

1. <span data-ttu-id="a810c-227">混合式背景工作角色位於 Proxy 或防火牆後方。</span><span class="sxs-lookup"><span data-stu-id="a810c-227">The hybrid worker is behind a proxy or firewall.</span></span>  
    <span data-ttu-id="a810c-228">確認電腦可透過連接埠 443 輸出存取 *.azure-automation.net。</span><span class="sxs-lookup"><span data-stu-id="a810c-228">Verify the computer has outbound access to *.azure-automation.net on port 443.</span></span>  

2. <span data-ttu-id="a810c-229">混合式背景工作角色執行所在的電腦未滿足最低硬體[需求](automation-offering-get-started.md#hybrid-runbook-worker)。</span><span class="sxs-lookup"><span data-stu-id="a810c-229">The computer the hybrid worker is running on has less than the minimum hardware [requirements](automation-offering-get-started.md#hybrid-runbook-worker).</span></span>  
    <span data-ttu-id="a810c-230">執行 Hybrid Runbook Worker 的電腦應滿足最低硬體需求，您才能指派它來裝載這項功能。</span><span class="sxs-lookup"><span data-stu-id="a810c-230">Computers running the Hybrid Runbook Worker should meet the minimum hardware requirements before designating it to host this feature.</span></span> <span data-ttu-id="a810c-231">否則，根據其他背景處理序的資源使用率和 Runbook 在執行期間造成的競爭，電腦可能會變得過度使用，導致 Runbook 作業延遲或逾時。</span><span class="sxs-lookup"><span data-stu-id="a810c-231">Otherwise, depending on the resource utilization of other background processes and contention caused by runbooks during execution, the computer will become over utilized and cause runbook job delays or timeouts.</span></span>
   <span data-ttu-id="a810c-232">確認指派來執行混合式 Runbook 背景工作角色功能的電腦滿足最低硬體需求。</span><span class="sxs-lookup"><span data-stu-id="a810c-232">Confirm the computer designated to run the Hybrid Runbook Worker feature meets the minimum hardware requirements.</span></span>  <span data-ttu-id="a810c-233">如果滿足最低硬體需求，請監視 CPU 和記憶體使用率，判斷 Hybrid Runbook Worker 處理序之效能和 Windows 之間是否有任何相互關聯。</span><span class="sxs-lookup"><span data-stu-id="a810c-233">If it does, monitor CPU and memory utilization to determine any correlation between the performance of Hybrid Runbook Worker processes and Windows.</span></span>  <span data-ttu-id="a810c-234">如果有記憶體或 CPU 壓力，這表示電腦可能需要升級或增加額外處理器，或增加記憶體來解決資源瓶頸及解決錯誤。</span><span class="sxs-lookup"><span data-stu-id="a810c-234">If there is memory or CPU pressure, this may indicate the need to upgrade or add additional processors, or increase memory to address the resource bottleneck and resolve the error.</span></span> <span data-ttu-id="a810c-235">您也可以選擇其他可支援最低需求，也能在工作負載需求指出需要增加資源時擴充的計算資源。</span><span class="sxs-lookup"><span data-stu-id="a810c-235">Alternatively, select a different compute resource that can support the minimum requirements and scale when workload demands indicate an increase is necessary.</span></span>
    
3. <span data-ttu-id="a810c-236">Microsoft Monitoring Agent 服務未執行。</span><span class="sxs-lookup"><span data-stu-id="a810c-236">The Microsoft Monitoring Agent service is not running.</span></span>  
    <span data-ttu-id="a810c-237">如果 Microsoft Monitoring Agent Windows 服務並未執行，這可避免混合式 Runbook 背景工作角色與 Azure 自動化進行通訊。</span><span class="sxs-lookup"><span data-stu-id="a810c-237">If the Microsoft Monitoring Agent Windows service is not running, this prevents the Hybrid Runbook Worker from communicating with Azure Automation.</span></span>  <span data-ttu-id="a810c-238">在 PowerShell 中輸入下列命令，確認代理程式正在執行：`get-service healthservice`。</span><span class="sxs-lookup"><span data-stu-id="a810c-238">Verify the agent is running by entering the following command in PowerShell: `get-service healthservice`.</span></span>  <span data-ttu-id="a810c-239">如果服務已停止，在 PowerShell 中輸入下列命令可啟動服務：`start-service healthservice`。</span><span class="sxs-lookup"><span data-stu-id="a810c-239">If the service is stopped, enter the following command in PowerShell to start the service: `start-service healthservice`.</span></span>  

4. <span data-ttu-id="a810c-240">在 **Application and Services Logs\Operations Manager** 事件記錄中，您會看到事件 4502 和 EventMessage 包含 **Microsoft.EnterpriseManagement.HealthService.AzureAutomation.HybridAgent**，並具有如下描述：*<wsid>.oms.opinsights.azure.com 服務所提供的憑證並非由 Microsoft 服務所使用的憑證授權單位發行。請連絡網路管理員，以查看它們是否正在執行可攔截 TLS/SSL 通訊的 Proxy。文章 KB3126513 內提供針對連線能力問題的其他疑難排解資訊。*</span><span class="sxs-lookup"><span data-stu-id="a810c-240">In the **Application and Services Logs\Operations Manager** event log, you see event 4502  and EventMessage containing **Microsoft.EnterpriseManagement.HealthService.AzureAutomation.HybridAgent** with the following description:  *The certificate presented by the service <wsid>.oms.opinsights.azure.com was not issued by a certificate authority used for Microsoft services. Please contact your network administrator to see if they are running a proxy that intercepts TLS/SSL communication. The article KB3126513 has additional troubleshooting information for connectivity issues.*</span></span>
    <span data-ttu-id="a810c-241">這可能是因 Proxy 或網路防火牆封鎖 Microsoft Azure 的通訊所引起。</span><span class="sxs-lookup"><span data-stu-id="a810c-241">This can be caused by your proxy or network firewall blockking communication to Microsoft Azure.</span></span>  <span data-ttu-id="a810c-242">確認電腦可透過連接埠 443 輸出存取 *.azure-automation.net。</span><span class="sxs-lookup"><span data-stu-id="a810c-242">Verify the computer has outbound access to *.azure-automation.net on ports 443.</span></span>

<span data-ttu-id="a810c-243">記錄檔儲存每一個混合式背景工作角色本機的 C:\ProgramData\Microsoft\System Center\Orchestrator\7.2\SMA\Sandboxes 中。</span><span class="sxs-lookup"><span data-stu-id="a810c-243">Logs are stored locally on each hybrid worker at C:\ProgramData\Microsoft\System Center\Orchestrator\7.2\SMA\Sandboxes.</span></span>  <span data-ttu-id="a810c-244">您可以檢查是否有任何警告或錯誤事件寫入 **Application and Services Logs\Microsoft-SMA\Operations** 和 **Application and Services Logs\Operations Manager** 事件記錄，可能表示有連線能力或其他會影響角色上架到 Azure 自動化的問題，或執行正常作業時的問題。</span><span class="sxs-lookup"><span data-stu-id="a810c-244">You can check if there are any warning or error events written to the **Application and Services Logs\Microsoft-SMA\Operations** and **Application and Services Logs\Operations Manager** event log that would indicate a connectivity or other issue affecting onboarding of the role to Azure Automation or issue while performing normal operations.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="a810c-245">後續步驟</span><span class="sxs-lookup"><span data-stu-id="a810c-245">Next steps</span></span>
<span data-ttu-id="a810c-246">請檢閱[在混合式 Runbook 背景工作角色上執行 Runbook](automation-hrw-run-runbooks.md)，以了解如何設定您的 Runbook，將您在內部部署資料中心或其他雲端環境中的程序自動化。</span><span class="sxs-lookup"><span data-stu-id="a810c-246">Review [run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md) to learn how to configure your runbooks to automate processes in your on-premises datacenter or other cloud environment.</span></span>
