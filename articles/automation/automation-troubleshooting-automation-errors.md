---
title: "常見的 Azure 自動化發出的 aaaTroubleshooting |Microsoft 文件"
description: "本文提供資訊 toohelp 疑難排解和修正常見 Azure 自動化的錯誤。"
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
tags: top-support-issue
keywords: "自動化錯誤, 疑難排解, 問題"
ms.assetid: 5f3cfe61-70b0-4e9c-b892-d02daaeee07d
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/26/2017
ms.author: sngun; v-reagie
ms.openlocfilehash: eb7d1cc5726f2b7a86c860e8f0c8340fa4221b2e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-common-issues-in-azure-automation"></a><span data-ttu-id="0b062-104">針對 Azure 自動化中的常見問題進行疑難排解</span><span class="sxs-lookup"><span data-stu-id="0b062-104">Troubleshooting common issues in Azure Automation</span></span> 
<span data-ttu-id="0b062-105">本文章提供疑難排解常見的錯誤，您可能會遇到 Azure 自動化中，並建議可能的解決方案 tooresolve 說明它們。</span><span class="sxs-lookup"><span data-stu-id="0b062-105">This article provides help troubleshooting common errors you might experience in Azure Automation and suggests possible solutions tooresolve them.</span></span>

## <a name="authentication-errors-when-working-with-azure-automation-runbooks"></a><span data-ttu-id="0b062-106">使用 Azure 自動化 Runbook 時的驗證錯誤</span><span class="sxs-lookup"><span data-stu-id="0b062-106">Authentication errors when working with Azure Automation runbooks</span></span>
### <a name="scenario-sign-in-tooazure-account-failed"></a><span data-ttu-id="0b062-107">登入帳戶失敗的 tooAzure 的案例：</span><span class="sxs-lookup"><span data-stu-id="0b062-107">Scenario: Sign in tooAzure Account failed</span></span>
<span data-ttu-id="0b062-108">**錯誤：** hello Add-azureaccount 或登入 AzureRmAccount cmdlet 使用時，收到 hello 錯誤 「 Unknown_user_type:: 無法辨識使用者類型 」。</span><span class="sxs-lookup"><span data-stu-id="0b062-108">**Error:** You receive hello error "Unknown_user_type: Unknown User Type" when working with hello Add-AzureAccount or Login-AzureRmAccount cmdlets.</span></span>

<span data-ttu-id="0b062-109">**Hello 錯誤的原因：**如果 hello 認證資產名稱不正確，或如果 hello 使用者名稱和您使用 toosetup hello 自動化認證資產的密碼不正確，就會發生這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="0b062-109">**Reason for hello error:** This error occurs if hello credential asset name is not valid or if hello username and password that you used toosetup hello Automation credential asset are not valid.</span></span>

<span data-ttu-id="0b062-110">**疑難排解秘訣：**中順序 toodetermine 錯誤，採取下列步驟的 hello:</span><span class="sxs-lookup"><span data-stu-id="0b062-110">**Troubleshooting tips:** In order toodetermine what's wrong, take hello following steps:</span></span>  

1. <span data-ttu-id="0b062-111">請確定您不需要任何特殊字元，包括 hello  **@** 字元中使用 tooconnect tooAzure hello 自動化認證資產名稱。</span><span class="sxs-lookup"><span data-stu-id="0b062-111">Make sure that you don’t have any special characters, including hello **@** character in hello Automation credential asset name that you are using tooconnect tooAzure.</span></span>  
2. <span data-ttu-id="0b062-112">請檢查您可以使用 hello 使用者名稱和密碼儲存在本機 PowerShell ISE 編輯器中的 hello Azure 自動化認證。</span><span class="sxs-lookup"><span data-stu-id="0b062-112">Check that you can use hello username and password that are stored in hello Azure Automation credential in your local PowerShell ISE editor.</span></span> <span data-ttu-id="0b062-113">您可以執行下列 cmdlet 在 hello PowerShell ISE 中的 hello:</span><span class="sxs-lookup"><span data-stu-id="0b062-113">You can do this by running hello following cmdlets in hello PowerShell ISE:</span></span>  

        $Cred = Get-Credential  
        #Using Azure Service Management   
        Add-AzureAccount –Credential $Cred  
        #Using Azure Resource Manager  
        Login-AzureRmAccount –Credential $Cred
3. <span data-ttu-id="0b062-114">如果您的驗證在本機失敗，這表示您尚未正確設定 Azure Active Directory 認證。</span><span class="sxs-lookup"><span data-stu-id="0b062-114">If your authentication fails locally, this means that you haven’t set up your Azure Active Directory credentials properly.</span></span> <span data-ttu-id="0b062-115">請參閱太[驗證使用 Azure Active Directory tooAzure](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/)部落格文章 tooget hello Azure Active Directory 帳戶已正確地設定。</span><span class="sxs-lookup"><span data-stu-id="0b062-115">Refer too[Authenticating tooAzure using Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) blog post tooget hello Azure Active Directory account set up correctly.</span></span>  

### <a name="scenario-unable-toofind-hello-azure-subscription"></a><span data-ttu-id="0b062-116">案例： 無法 toofind hello Azure 訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="0b062-116">Scenario: Unable toofind hello Azure subscription</span></span>
<span data-ttu-id="0b062-117">**錯誤：**收到 hello 錯誤 「 hello 訂用帳戶命名為``<subscription name>``找不到"hello Select-azuresubscription 或選取 AzureRmSubscription cmdlet 使用時。</span><span class="sxs-lookup"><span data-stu-id="0b062-117">**Error:** You receive hello error "hello subscription named ``<subscription name>`` cannot be found" when working with hello Select-AzureSubscription or Select-AzureRmSubscription cmdlets.</span></span>

<span data-ttu-id="0b062-118">**Hello 錯誤的原因：**如果 hello 訂用帳戶名稱無效，或 hello Azure Active Directory 使用者正嘗試 tooget hello 訂用帳戶詳細資料，未設定為 hello 訂用帳戶的系統管理員，就會發生此錯誤。</span><span class="sxs-lookup"><span data-stu-id="0b062-118">**Reason for hello error:** This error occurs if hello subscription name is not valid or if hello Azure Active Directory user who is trying tooget hello subscription details is not configured as an admin of hello subscription.</span></span>

<span data-ttu-id="0b062-119">**疑難排解秘訣：**順序 toodetermine 如果您已正確地驗證 tooAzure 並且有存取 toohello 訂用帳戶正在 tooselect，採取下列步驟的 hello:</span><span class="sxs-lookup"><span data-stu-id="0b062-119">**Troubleshooting tips:** In order toodetermine if you have properly authenticated tooAzure and have access toohello subscription you are trying tooselect, take hello following steps:</span></span>  

1. <span data-ttu-id="0b062-120">請確定您執行 hello **Add-azureaccount**之前執行 hello **Select-azuresubscription** cmdlet。</span><span class="sxs-lookup"><span data-stu-id="0b062-120">Make sure that you run hello **Add-AzureAccount** before running hello **Select-AzureSubscription** cmdlet.</span></span>  
2. <span data-ttu-id="0b062-121">如果您仍發現此錯誤訊息，修改您的程式碼加入 hello **Get-azuresubscription** cmdlet hello **Add-azureaccount**指令程式，然後執行 hello 程式碼。</span><span class="sxs-lookup"><span data-stu-id="0b062-121">If you still see this error message, modify your code by adding hello **Get-AzureSubscription** cmdlet following hello **Add-AzureAccount** cmdlet and then execute hello code.</span></span>  <span data-ttu-id="0b062-122">現在請確認是否 Get-azuresubscription hello 輸出包含您的訂用帳戶詳細資料。</span><span class="sxs-lookup"><span data-stu-id="0b062-122">Now verify if hello output of Get-AzureSubscription contains your subscription details.</span></span>  

   * <span data-ttu-id="0b062-123">如果您沒有看到 hello 輸出中的任何訂用帳戶詳細資料，這表示 hello 訂用帳戶不尚未初始化。</span><span class="sxs-lookup"><span data-stu-id="0b062-123">If you don't see any subscription details in hello output, this means that hello subscription isn’t initialized yet.</span></span>  
   * <span data-ttu-id="0b062-124">如果您看見 hello 輸出中的 hello 訂用帳戶詳細資料，來確認您使用 hello 正確的訂用帳戶名稱或識別碼以 hello **Select-azuresubscription** cmdlet。</span><span class="sxs-lookup"><span data-stu-id="0b062-124">If you do see hello subscription details in hello output, confirm that you are using hello correct subscription name or ID with hello **Select-AzureSubscription** cmdlet.</span></span>   

### <a name="scenario-authentication-tooazure-failed-because-multi-factor-authentication-is-enabled"></a><span data-ttu-id="0b062-125">案例： 驗證 tooAzure 失敗，因為已啟用多因素驗證</span><span class="sxs-lookup"><span data-stu-id="0b062-125">Scenario: Authentication tooAzure failed because multi-factor authentication is enabled</span></span>
<span data-ttu-id="0b062-126">**錯誤：**收到 hello 錯誤 「 Add-azureaccount: AADSTS50079： 增強式驗證註冊 （證明最多） 無須"tooAzure 使用您的 Azure 使用者名稱和密碼進行驗證時。</span><span class="sxs-lookup"><span data-stu-id="0b062-126">**Error:** You receive hello error “Add-AzureAccount: AADSTS50079: Strong authentication enrollment (proof-up) is required” when authenticating tooAzure with your Azure username and password.</span></span>

<span data-ttu-id="0b062-127">**Hello 錯誤的原因：**您的 Azure 帳戶上有多重要素驗證，如果您不能使用 Azure Active Directory 使用者 tooauthenticate tooAzure。</span><span class="sxs-lookup"><span data-stu-id="0b062-127">**Reason for hello error:** If you have multi-factor authentication on your Azure account, you can't use an Azure Active Directory user tooauthenticate tooAzure.</span></span>  <span data-ttu-id="0b062-128">相反地，您需要 toouse 憑證或服務主體 tooauthenticate tooAzure。</span><span class="sxs-lookup"><span data-stu-id="0b062-128">Instead, you need toouse a certificate or a service principal tooauthenticate tooAzure.</span></span>

<span data-ttu-id="0b062-129">**疑難排解秘訣：** toouse hello Azure 服務管理 cmdlet 的憑證，請參閱太[建立並加入憑證 toomanage Azure 服務。](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span><span class="sxs-lookup"><span data-stu-id="0b062-129">**Troubleshooting tips:** toouse a certificate with hello Azure Service Management cmdlets, refer too[creating and adding a certificate toomanage Azure services.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span></span> <span data-ttu-id="0b062-130">toouse Azure 資源管理員 cmdlet 的服務主體，請參閱太[建立服務主體使用 Azure 入口網站](../azure-resource-manager/resource-group-create-service-principal-portal.md)和[驗證 Azure 資源管理員與服務主體。](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span><span class="sxs-lookup"><span data-stu-id="0b062-130">toouse a service principal with Azure Resource Manager cmdlets, refer too[creating service principal using Azure portal](../azure-resource-manager/resource-group-create-service-principal-portal.md) and [authenticating a service principal with Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span></span>

## <a name="common-errors-when-working-with-runbooks"></a><span data-ttu-id="0b062-131">使用 Runbook 時的常見錯誤</span><span class="sxs-lookup"><span data-stu-id="0b062-131">Common errors when working with runbooks</span></span>
### <a name="scenario-hello-runbook-job-start-was-attempted-three-times-but-it-failed-toostart-each-time"></a><span data-ttu-id="0b062-132">案例： hello runbook 作業開始嘗試三次，但每次失敗 toostart</span><span class="sxs-lookup"><span data-stu-id="0b062-132">Scenario: hello runbook job start was attempted three times, but it failed toostart each time</span></span>
<span data-ttu-id="0b062-133">**錯誤：**在 runbook 失敗，發生 hello 錯誤 「"hello 工作嘗試三次但失敗。 」</span><span class="sxs-lookup"><span data-stu-id="0b062-133">**Error:** Your runbook fails with hello error "“hello job was tried three times but it failed."</span></span>

<span data-ttu-id="0b062-134">**Hello 錯誤的原因：**這個錯誤可能因下列原因 hello:</span><span class="sxs-lookup"><span data-stu-id="0b062-134">**Reason for hello error:** This error can be caused by hello following reasons:</span></span>  

1. <span data-ttu-id="0b062-135">記憶體限制。</span><span class="sxs-lookup"><span data-stu-id="0b062-135">Memory Limit.</span></span>  <span data-ttu-id="0b062-136">我們有記載的配置 tooa 沙箱記憶體限制[自動化服務限制](../azure-subscription-service-limits.md#automation-limits)讓作業可能會失敗它正在使用的記憶體超過 400 MB。</span><span class="sxs-lookup"><span data-stu-id="0b062-136">We have documented limits on how much memory allocated tooa Sandbox  [Automation service limits](../azure-subscription-service-limits.md#automation-limits) so a job may fail it if is using more than 400 MB of memory.</span></span> 

2. <span data-ttu-id="0b062-137">模組不相容。</span><span class="sxs-lookup"><span data-stu-id="0b062-137">Module Incompatible.</span></span>  <span data-ttu-id="0b062-138">如果模組相依性不正確，可能會發生這個錯誤；而且不正確時，您的 Runbook 通常會傳回「找不到命令」或「無法繫結參數」訊息。</span><span class="sxs-lookup"><span data-stu-id="0b062-138">This can occur if module dependencies are not correct and if they are not, your runbook will typically return a “Command not found” or "Cannot bind parameter" message.</span></span> 

<span data-ttu-id="0b062-139">**疑難排解秘訣：**任何 hello 下列解決方案就會修正 hello 問題：</span><span class="sxs-lookup"><span data-stu-id="0b062-139">**Troubleshooting tips:** Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="0b062-140">Hello 記憶體限制內的建議的方法 toowork toosplit hello 工作負載，多個 runbook 之間，不會處理最多的資料在記憶體中，不 toowrite 不必要輸出從您的 runbook，或考慮多少的檢查點寫入至您的 PowerShell工作流程 runbook。</span><span class="sxs-lookup"><span data-stu-id="0b062-140">Suggested methods toowork within hello memory limit are toosplit hello workload between multiple runbooks, not process as much data in memory, not toowrite unnecessary output from your runbooks, or consider how many checkpoints you write into your PowerShell workflow runbooks.</span></span>  

* <span data-ttu-id="0b062-141">您需要 tooupdate 您的 Azure 模組的 hello 步驟[如何在 Azure 自動化中的 tooupdate Azure PowerShell 模組](automation-update-azure-modules.md)。</span><span class="sxs-lookup"><span data-stu-id="0b062-141">You need tooupdate your Azure modules by following hello steps [How tooupdate Azure PowerShell modules in Azure Automation](automation-update-azure-modules.md).</span></span>  


### <a name="scenario-runbook-fails-because-of-deserialized-object"></a><span data-ttu-id="0b062-142">案例：Runbook 因還原序列化物件而失敗</span><span class="sxs-lookup"><span data-stu-id="0b062-142">Scenario: Runbook fails because of deserialized object</span></span>
<span data-ttu-id="0b062-143">**錯誤：**在 runbook 失敗，發生 hello 錯誤 「 無法繫結參數``<ParameterName>``。</span><span class="sxs-lookup"><span data-stu-id="0b062-143">**Error:** Your runbook fails with hello error "Cannot bind parameter ``<ParameterName>``.</span></span> <span data-ttu-id="0b062-144">無法將轉換 hello``<ParameterType>``型別的值 Deserialized ``<ParameterType>`` tootype ``<ParameterType>``"。</span><span class="sxs-lookup"><span data-stu-id="0b062-144">Cannot convert hello ``<ParameterType>`` value of type Deserialized ``<ParameterType>`` tootype ``<ParameterType>``".</span></span>

<span data-ttu-id="0b062-145">**Hello 錯誤的原因：**如果您的 runbook 是 PowerShell 工作流程，它會儲存複雜物件已還原序列化格式中順序 toopersist runbook 狀態如果 hello 工作流程暫止。</span><span class="sxs-lookup"><span data-stu-id="0b062-145">**Reason for hello error:** If your runbook is a PowerShell Workflow, it stores complex objects in a deserialized format in order toopersist your runbook state if hello workflow is suspended.</span></span>  

<span data-ttu-id="0b062-146">**疑難排解秘訣：**</span><span class="sxs-lookup"><span data-stu-id="0b062-146">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="0b062-147">任何 hello 下列三個方案會修正此問題：</span><span class="sxs-lookup"><span data-stu-id="0b062-147">Any of hello following three solutions will fix this problem:</span></span>

1. <span data-ttu-id="0b062-148">如果您使用複雜的物件，從一個 cmdlet tooanother，包裝在 InlineScript 中這些 cmdlet。</span><span class="sxs-lookup"><span data-stu-id="0b062-148">If you are piping complex objects from one cmdlet tooanother, wrap these cmdlets in an InlineScript.</span></span>  
2. <span data-ttu-id="0b062-149">將 hello 名稱或值，您必須傳遞從 hello 複雜物件，而不是傳遞 hello 整個物件。</span><span class="sxs-lookup"><span data-stu-id="0b062-149">Pass hello name or value that you need from hello complex object instead of passing hello entire object.</span></span>  
3. <span data-ttu-id="0b062-150">使用 PowerShell Runbook，而不是 PowerShell 工作流程 Runbook。</span><span class="sxs-lookup"><span data-stu-id="0b062-150">Use a PowerShell runbook instead of a PowerShell Workflow runbook.</span></span>  

### <a name="scenario-runbook-job-failed-because-hello-allocated-quota-exceeded"></a><span data-ttu-id="0b062-151">案例： Runbook 工作失敗，因為 hello 配置超過配額</span><span class="sxs-lookup"><span data-stu-id="0b062-151">Scenario: Runbook job failed because hello allocated quota exceeded</span></span>
<span data-ttu-id="0b062-152">**錯誤：** runbook 工作失敗，發生 hello 錯誤 「 hello hello 每月作業執行時間總計配額已達到此訂用帳戶 」。</span><span class="sxs-lookup"><span data-stu-id="0b062-152">**Error:** Your runbook job fails with hello error "hello quota for hello monthly total job run time has been reached for this subscription".</span></span>

<span data-ttu-id="0b062-153">**Hello 錯誤的原因：**時會發生此錯誤 hello 工作執行超過您的帳戶的 hello 500 分鐘可用配額。</span><span class="sxs-lookup"><span data-stu-id="0b062-153">**Reason for hello error:** This error occurs when hello job execution exceeds hello 500-minute free quota for your account.</span></span> <span data-ttu-id="0b062-154">這個配額會套用 tooall 工作執行工作，例如測試工作、 從 hello 入口網站中啟動工作、 執行工作所使用 webhook 與排程工作 tooexecute，使用任一 hello Azure 入口網站，或資料中心中的型別。</span><span class="sxs-lookup"><span data-stu-id="0b062-154">This quota applies tooall types of job execution tasks such as testing a job, starting a job from hello portal, executing a job by using webhooks and scheduling a job tooexecute by using either hello Azure portal or in your datacenter.</span></span> <span data-ttu-id="0b062-155">有關自動化定價的詳細資訊請參閱的 toolearn[自動化定價](https://azure.microsoft.com/pricing/details/automation/)。</span><span class="sxs-lookup"><span data-stu-id="0b062-155">toolearn more about pricing for Automation see [Automation pricing](https://azure.microsoft.com/pricing/details/automation/).</span></span>

<span data-ttu-id="0b062-156">**疑難排解秘訣：**如果您想 toouse 超過 500 分鐘的處理每個月您將需要 toochange hello 免費層 toohello 基本層從訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="0b062-156">**Troubleshooting tips:** If you want toouse more than 500 minutes of processing per month you will need toochange your subscription from hello Free tier toohello Basic tier.</span></span> <span data-ttu-id="0b062-157">您可以採取下列步驟 hello 升級 toohello 基本層：</span><span class="sxs-lookup"><span data-stu-id="0b062-157">You can upgrade toohello Basic tier by taking hello following steps:</span></span>  

1. <span data-ttu-id="0b062-158">登入 tooyour Azure 訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="0b062-158">Sign in tooyour Azure subscription</span></span>  
2. <span data-ttu-id="0b062-159">選取您想 tooupgrade hello 自動化帳戶</span><span class="sxs-lookup"><span data-stu-id="0b062-159">Select hello Automation account you wish tooupgrade</span></span>  
3. <span data-ttu-id="0b062-160">按一下 [設定] > [定價層和使用方式] > [定價層]</span><span class="sxs-lookup"><span data-stu-id="0b062-160">Click on **Settings** > **Pricing tier and Usage** > **Pricing tier**</span></span>  
4. <span data-ttu-id="0b062-161">在 hello**選擇定價層**刀鋒視窗中，選取**基本**</span><span class="sxs-lookup"><span data-stu-id="0b062-161">On hello **Choose your pricing tier** blade, select **Basic**</span></span>    

### <a name="scenario-cmdlet-not-recognized-when-executing-a-runbook"></a><span data-ttu-id="0b062-162">案例：執行 Runbook 時，無法辨識 Cmdlet</span><span class="sxs-lookup"><span data-stu-id="0b062-162">Scenario: Cmdlet not recognized when executing a runbook</span></span>
<span data-ttu-id="0b062-163">**錯誤：** runbook 工作失敗，發生 hello 錯誤 「``<cmdlet name>``: hello 詞彙``<cmdlet name>``無法辨識為 cmdlet、 函式、 指令碼檔案或可執行程式 hello 名稱。 」</span><span class="sxs-lookup"><span data-stu-id="0b062-163">**Error:** Your runbook job fails with hello error "``<cmdlet name>``: hello term ``<cmdlet name>`` is not recognized as hello name of a cmdlet, function, script file, or operable program."</span></span>

<span data-ttu-id="0b062-164">**Hello 錯誤的原因：** hello PowerShell 引擎找不到您使用您在 runbook 中的 hello cmdlet 時，會造成這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="0b062-164">**Reason for hello error:** This error is caused when hello PowerShell engine cannot find hello cmdlet you are using in your runbook.</span></span>  <span data-ttu-id="0b062-165">這可能是因為包含 hello cmdlet hello 模組遺漏 hello 帳戶，就會發生名稱衝突的 runbook 名稱，或 hello cmdlet 也存在於另一個模組，自動化無法 hello 名稱解析。</span><span class="sxs-lookup"><span data-stu-id="0b062-165">This could be because hello module containing hello cmdlet is missing from hello account, there is a name conflict with a runbook name, or hello cmdlet also exists in another module and Automation cannot resolve hello name.</span></span>

<span data-ttu-id="0b062-166">**疑難排解秘訣：**任何 hello 下列解決方案就會修正 hello 問題：</span><span class="sxs-lookup"><span data-stu-id="0b062-166">**Troubleshooting tips:** Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="0b062-167">請檢查您所輸入的 hello cmdlet 名稱正確。</span><span class="sxs-lookup"><span data-stu-id="0b062-167">Check that you have entered hello cmdlet name correctly.</span></span>  
* <span data-ttu-id="0b062-168">請確定您的自動化帳戶中的 hello cmdlet 存在，而且沒有衝突。</span><span class="sxs-lookup"><span data-stu-id="0b062-168">Make sure hello cmdlet exists in your Automation account and that there are no conflicts.</span></span> <span data-ttu-id="0b062-169">tooverify 如果 hello cmdlet，在編輯模式，並搜尋您想要 toofind hello 文件庫中的，或執行 hello cmdlet 中開啟 runbook **Get-command ``<CommandName>``** 。</span><span class="sxs-lookup"><span data-stu-id="0b062-169">tooverify if hello cmdlet is present, open a runbook in edit mode and search for hello cmdlet you want toofind in hello library or run **Get-Command ``<CommandName>``**.</span></span>  <span data-ttu-id="0b062-170">一旦您已驗證該 hello 指令程式可用 toohello 帳戶並沒有與其他 cmdlet 或 runbook 的名稱衝突將它加入 toohello 畫布，並確認您使用的有效的參數，在您的 runbook 中設定。</span><span class="sxs-lookup"><span data-stu-id="0b062-170">Once you have validated that hello cmdlet is available toohello account, and that there are no name conflicts with other cmdlets or runbooks, add it toohello canvas and ensure that you are using a valid parameter set in your runbook.</span></span>  
* <span data-ttu-id="0b062-171">如果您沒有名稱衝突，而且 hello 指令程式可以使用兩個不同的模組中，您可以解決此問題使用 hello hello cmdlet 的完整的名稱。</span><span class="sxs-lookup"><span data-stu-id="0b062-171">If you do have a name conflict and hello cmdlet is available in two different modules, you can resolve this by using hello fully qualified name for hello cmdlet.</span></span> <span data-ttu-id="0b062-172">例如，您可以使用 **ModuleName\CmdletName**。</span><span class="sxs-lookup"><span data-stu-id="0b062-172">For example, you can use **ModuleName\CmdletName**.</span></span>  
* <span data-ttu-id="0b062-173">如果您正在執行 hello runbook 在內部部署混合式背景工作群組中，則請確定該 hello hello 裝載 hello 混合式背景工作的電腦上安裝模組/cmdlet。</span><span class="sxs-lookup"><span data-stu-id="0b062-173">If you are executing hello runbook on-premises in a hybrid worker group, then make sure that hello module/cmdlet is installed on hello machine that hosts hello hybrid worker.</span></span>

### <a name="scenario-a-long-running-runbook-consistently-fails-with-hello-exception-hello-job-cannot-continue-running-because-it-was-repeatedly-evicted-from-hello-same-checkpoint"></a><span data-ttu-id="0b062-174">案例： 長時間執行的 runbook 以一致的方式會因 hello 例外狀況:"hello 作業無法繼續執行，因為它已重複收回 hello 從相同的檢查點 」。</span><span class="sxs-lookup"><span data-stu-id="0b062-174">Scenario: A long running runbook consistently fails with hello exception: "hello job cannot continue running because it was repeatedly evicted from hello same checkpoint".</span></span>
<span data-ttu-id="0b062-175">**Hello 錯誤的原因：**這是因為 toohello 自動暫停 runbook，如果它超過 3 小時內執行的 Azure 自動化中的程序監視的 「 公平共用 」 的設計行為。</span><span class="sxs-lookup"><span data-stu-id="0b062-175">**Reason for hello error:** This is by design behavior due toohello "Fair Share" monitoring of processes within Azure Automation, which automatically suspends a runbook if it executes longer than 3 hours.</span></span> <span data-ttu-id="0b062-176">不過，hello 傳回錯誤訊息不會提供 「 哪些下一步 選項。</span><span class="sxs-lookup"><span data-stu-id="0b062-176">However, hello error message returned does not provide "what next" options.</span></span> <span data-ttu-id="0b062-177">有許多原因能造成 Runbook 暫停，</span><span class="sxs-lookup"><span data-stu-id="0b062-177">A runbook can be suspended for a number of reasons.</span></span> <span data-ttu-id="0b062-178">暫止發生大部分到期 tooerrors。</span><span class="sxs-lookup"><span data-stu-id="0b062-178">Suspends happen mostly due tooerrors.</span></span> <span data-ttu-id="0b062-179">例如，runbook、 網路失敗，或在上的損毀的遺漏例外狀況 hello 執行 hello runbook 的 Runbook Worker，將所有導致 hello runbook toobe 暫止並從其最後一個檢查點繼續時啟動。</span><span class="sxs-lookup"><span data-stu-id="0b062-179">For example, an uncaught exception in a runbook, a network failure, or a crash on hello Runbook Worker running hello runbook, will all cause hello runbook toobe suspended and start from its last checkpoint when resumed.</span></span>

<span data-ttu-id="0b062-180">**疑難排解秘訣：** hello 記載方案 tooavoid toouse 工作流程中的檢查點會出現此情況。</span><span class="sxs-lookup"><span data-stu-id="0b062-180">**Troubleshooting tips:** hello documented solution tooavoid this issue is toouse Checkpoints in a workflow.</span></span>  <span data-ttu-id="0b062-181">多個參照太 toolearn[學習 PowerShell 工作流程](automation-powershell-workflow.md#checkpoints)。</span><span class="sxs-lookup"><span data-stu-id="0b062-181">toolearn more refer too[Learning PowerShell Workflows](automation-powershell-workflow.md#checkpoints).</span></span>  <span data-ttu-id="0b062-182">如需對於「公平共用」及檢查點更詳細的說明，請參閱這篇部落格文章：[在 Runbook 中使用檢查點](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/)。</span><span class="sxs-lookup"><span data-stu-id="0b062-182">A more thorough explanation of "Fair Share" and Checkpoint can be found in this blog article [Using Checkpoints in Runbooks](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span></span>

## <a name="common-errors-when-importing-modules"></a><span data-ttu-id="0b062-183">匯入模組時的常見錯誤</span><span class="sxs-lookup"><span data-stu-id="0b062-183">Common errors when importing modules</span></span>
### <a name="scenario-module-fails-tooimport-or-cmdlets-cant-be-executed-after-importing"></a><span data-ttu-id="0b062-184">案例： 程式模組 tooimport 或 cmdlet 無法匯入後執行</span><span class="sxs-lookup"><span data-stu-id="0b062-184">Scenario: Module fails tooimport or cmdlets can't be executed after importing</span></span>
<span data-ttu-id="0b062-185">**錯誤：**模組失敗 tooimport 或匯入成功，但沒有 cmdlet 會解壓縮。</span><span class="sxs-lookup"><span data-stu-id="0b062-185">**Error:** A module fails tooimport or imports successfully, but no cmdlets are extracted.</span></span>

<span data-ttu-id="0b062-186">**Hello 錯誤的原因：**模組可能未成功匯入的 tooAzure 自動化是一些常見原因如下：</span><span class="sxs-lookup"><span data-stu-id="0b062-186">**Reason for hello error:** Some common reasons that a module might not successfully import tooAzure Automation are:</span></span>  

* <span data-ttu-id="0b062-187">hello 結構與 hello 結構不符，自動化需要它 toobe 中的。</span><span class="sxs-lookup"><span data-stu-id="0b062-187">hello structure does not match hello structure that Automation needs it toobe in.</span></span>  
* <span data-ttu-id="0b062-188">hello 模組會相依於另一個模組，但尚未部署的 tooyour 自動化帳戶。</span><span class="sxs-lookup"><span data-stu-id="0b062-188">hello module is dependent on another module that has not been deployed tooyour Automation account.</span></span>  
* <span data-ttu-id="0b062-189">hello 模組遺漏其 hello 資料夾中的相依性。</span><span class="sxs-lookup"><span data-stu-id="0b062-189">hello module is missing its dependencies in hello folder.</span></span>  
* <span data-ttu-id="0b062-190">hello**新增 AzureRmAutomationModule**指令程式正在使用的 tooupload hello 模組，並沒有提供 hello 完整的儲存體路徑，或未載入 hello 模組使用可公開存取的 URL。</span><span class="sxs-lookup"><span data-stu-id="0b062-190">hello **New-AzureRmAutomationModule** cmdlet is being used tooupload hello module, and you have not given hello full storage path or have not loaded hello module by using a publicly accessible URL.</span></span>  

<span data-ttu-id="0b062-191">**疑難排解秘訣：**</span><span class="sxs-lookup"><span data-stu-id="0b062-191">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="0b062-192">任何 hello 下列解決方案就會修正 hello 問題：</span><span class="sxs-lookup"><span data-stu-id="0b062-192">Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="0b062-193">請確定該 hello 模組會遵循下列格式的 hello:</span><span class="sxs-lookup"><span data-stu-id="0b062-193">Make sure that hello module follows hello following format:</span></span>  
  <span data-ttu-id="0b062-194">ModuleName.Zip **->** ModuleName 或版本號碼 **->** (ModuleName.psm1、ModuleName.psd1)</span><span class="sxs-lookup"><span data-stu-id="0b062-194">ModuleName.Zip **->** ModuleName or Version Number **->** (ModuleName.psm1, ModuleName.psd1)</span></span>
* <span data-ttu-id="0b062-195">開啟 hello.psd1 檔案，並查看 hello 模組是否有任何相依性。</span><span class="sxs-lookup"><span data-stu-id="0b062-195">Open hello .psd1 file and see if hello module has any dependencies.</span></span>  <span data-ttu-id="0b062-196">若是如此上, 傳這些模組 toohello 自動化帳戶。</span><span class="sxs-lookup"><span data-stu-id="0b062-196">If it does, upload these modules toohello Automation account.</span></span>  
* <span data-ttu-id="0b062-197">請確定任何參考的.dll 檔都存在 hello 模組資料夾中。</span><span class="sxs-lookup"><span data-stu-id="0b062-197">Make sure that any referenced .dlls are present in hello module folder.</span></span>  

## <a name="common-errors-when-working-with-desired-state-configuration-dsc"></a><span data-ttu-id="0b062-198">使用 Desired State Configuration (DSC) 時的常見錯誤</span><span class="sxs-lookup"><span data-stu-id="0b062-198">Common errors when working with Desired State Configuration (DSC)</span></span>
### <a name="scenario-node-is-in-failed-status-with-a-not-found-error"></a><span data-ttu-id="0b062-199">案例：節點處於失敗狀態，並發生「找不到」錯誤</span><span class="sxs-lookup"><span data-stu-id="0b062-199">Scenario: Node is in failed status with a “Not found” error</span></span>
<span data-ttu-id="0b062-200">**錯誤：** hello 節點已包含的報表**失敗**狀態和包含 hello 錯誤 「 hello 嘗試 tooget hello 動作，從伺服器 https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``) / GetDscAction 失敗，因為是有效的組態``<guid>``找不到。 」</span><span class="sxs-lookup"><span data-stu-id="0b062-200">**Error:** hello node has a report with **Failed** status and containing hello error "hello attempt tooget hello action from server https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``)/GetDscAction failed because a valid configuration ``<guid>`` cannot be found.”</span></span>

<span data-ttu-id="0b062-201">**Hello 錯誤的原因：**時發生此錯誤通常 hello 節點被指派 tooa 組態名稱 (例如，ABC)，而不是節點組態名稱 (例如，ABC。網頁伺服器）。</span><span class="sxs-lookup"><span data-stu-id="0b062-201">**Reason for hello error:** This error typically occurs when hello node is assigned tooa configuration name (e.g. ABC) instead of a node configuration name (e.g. ABC.WebServer).</span></span>  

<span data-ttu-id="0b062-202">**疑難排解秘訣：**</span><span class="sxs-lookup"><span data-stu-id="0b062-202">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="0b062-203">請確定您正在指派 hello 節點具有 「 節點組態名稱 」 和不 hello 「 組態名稱 」。</span><span class="sxs-lookup"><span data-stu-id="0b062-203">Make sure that you are assigning hello node with "node configuration name" and not hello "configuration name".</span></span>  
* <span data-ttu-id="0b062-204">您可以指派使用 Azure 入口網站，或使用 PowerShell cmdlet 的節點組態 tooa 節點。</span><span class="sxs-lookup"><span data-stu-id="0b062-204">You can assign a node configuration tooa node using Azure portal or with a PowerShell cmdlet.</span></span>

  * <span data-ttu-id="0b062-205">在排序 tooassign 使用 Azure 入口網站的節點組態 tooa 節點中，開啟 hello **DSC 節點**刀鋒視窗中，然後選取節點，然後按一下 [**指派節點設定**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="0b062-205">In order tooassign a node configuration tooa node using Azure portal, open hello **DSC Nodes** blade, then select a node and click on **Assign node configuration** button.</span></span>  
  * <span data-ttu-id="0b062-206">在排序 tooassign 組態 tooa 節點使用 PowerShell cmdlet，請使用**組 AzureRmAutomationDscNode** cmdlet</span><span class="sxs-lookup"><span data-stu-id="0b062-206">In order tooassign a node configuration tooa node using PowerShell cmdlet, use **Set-AzureRmAutomationDscNode** cmdlet</span></span>

### <a name="scenario--no-node-configurations-mof-files-were-produced-when-a-configuration-is-compiled"></a><span data-ttu-id="0b062-207">案例：編譯組態時沒有產生任何節點組態 (MOF 檔案)</span><span class="sxs-lookup"><span data-stu-id="0b062-207">Scenario:  No node configurations (MOF files) were produced when a configuration is compiled</span></span>
<span data-ttu-id="0b062-208">**錯誤：** DSC 編譯工作暫停，hello 錯誤: 「 編譯成功完成，但所產生的任何節點組態.mofs 」。</span><span class="sxs-lookup"><span data-stu-id="0b062-208">**Error:** Your DSC compilation job suspends with hello error: “Compilation completed successfully, but no node configuration .mofs were generated”.</span></span>

<span data-ttu-id="0b062-209">**Hello 錯誤的原因：**當 hello 運算式後面 hello**節點**hello DSC 組態中的關鍵字的評估太 $null，則將不會產生任何節點設定。</span><span class="sxs-lookup"><span data-stu-id="0b062-209">**Reason for hello error:** When hello expression following hello **Node** keyword in hello DSC configuration evaluates too$null then no node configurations will be produced.</span></span>    

<span data-ttu-id="0b062-210">**疑難排解秘訣：**</span><span class="sxs-lookup"><span data-stu-id="0b062-210">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="0b062-211">任何 hello 下列解決方案就會修正 hello 問題：</span><span class="sxs-lookup"><span data-stu-id="0b062-211">Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="0b062-212">請確定該 hello 運算式下一步 toohello**節點**hello 組態定義中的關鍵字不太評估 $null。</span><span class="sxs-lookup"><span data-stu-id="0b062-212">Make sure that hello expression next toohello **Node** keyword in hello configuration definition is not evaluating too$null.</span></span>  
* <span data-ttu-id="0b062-213">如果您要將 ConfigurationData 編譯 hello 組態時，請確定您傳遞 hello 預期的值從需要該 hello 組態[ConfigurationData](automation-dsc-compile.md#configurationdata)。</span><span class="sxs-lookup"><span data-stu-id="0b062-213">If you are passing ConfigurationData when compiling hello configuration, make sure that you are passing hello expected values that hello configuration requires from [ConfigurationData](automation-dsc-compile.md#configurationdata).</span></span>

### <a name="scenario--hello-dsc-node-report-becomes-stuck-in-progress-state"></a><span data-ttu-id="0b062-214">案例： hello DSC 節點之報表會變成困在 「 進行中 」 狀態</span><span class="sxs-lookup"><span data-stu-id="0b062-214">Scenario:  hello DSC node report becomes stuck “in progress” state</span></span>
<span data-ttu-id="0b062-215">**錯誤：** DSC 代理程式輸出「找不到體指定屬性值的執行個體」。</span><span class="sxs-lookup"><span data-stu-id="0b062-215">**Error:** DSC Agent outputs “No instance found with given property values.”</span></span>

<span data-ttu-id="0b062-216">**Hello 錯誤的原因：**您已升級 WMF 版本，並且已損毀的 WMI。</span><span class="sxs-lookup"><span data-stu-id="0b062-216">**Reason for hello error:** You have upgraded your WMF version and have corrupted WMI.</span></span>  

<span data-ttu-id="0b062-217">**疑難排解秘訣：**遵循 hello hello 指示[已知問題和限制的 DSC](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) toofix hello 問題。</span><span class="sxs-lookup"><span data-stu-id="0b062-217">**Troubleshooting tips:** Follow hello instructions in hello [DSC known issues and limitations](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) toofix hello issue.</span></span>

### <a name="scenario--unable-toouse-a-credential-in-a-dsc-configuration"></a><span data-ttu-id="0b062-218">案例： 無法 toouse DSC 設定中的認證</span><span class="sxs-lookup"><span data-stu-id="0b062-218">Scenario:  Unable toouse a credential in a DSC configuration</span></span>
<span data-ttu-id="0b062-219">**錯誤：** DSC 編譯工作暫止 hello 錯誤: 「 System.InvalidOperationException 錯誤處理屬性 「 認證 」 類型的``<some resource name>``： 轉換及儲存加密的密碼時，才允許純文字PSDscAllowPlainTextPassword 設定 tootrue"。</span><span class="sxs-lookup"><span data-stu-id="0b062-219">**Error:** Your DSC compilation job was suspended with hello error: “System.InvalidOperationException error processing property 'Credential' of type ``<some resource name>``: Converting and storing an encrypted password as plaintext is allowed only if PSDscAllowPlainTextPassword is set tootrue”.</span></span>

<span data-ttu-id="0b062-220">**Hello 錯誤的原因：**您已經在組態中使用認證，但是沒有提供適當**ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue 每個節點組態設定。</span><span class="sxs-lookup"><span data-stu-id="0b062-220">**Reason for hello error:** You have used a credential in a configuration but didn’t provide proper **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue for each node configuration.</span></span>  

<span data-ttu-id="0b062-221">**疑難排解秘訣：**</span><span class="sxs-lookup"><span data-stu-id="0b062-221">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="0b062-222">請確定 toopass 中適當的 hello **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue 每個節點組態 hello 組態中所述。</span><span class="sxs-lookup"><span data-stu-id="0b062-222">Make sure toopass in hello proper **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue for each node configuration mentioned in hello configuration.</span></span> <span data-ttu-id="0b062-223">如需詳細資訊，請參閱太[資產在 Azure Automation DSC](automation-dsc-compile.md#assets)。</span><span class="sxs-lookup"><span data-stu-id="0b062-223">For more information, refer too[assets in Azure Automation DSC](automation-dsc-compile.md#assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0b062-224">後續步驟</span><span class="sxs-lookup"><span data-stu-id="0b062-224">Next steps</span></span>
<span data-ttu-id="0b062-225">如果您已依照 hello 疑難排解上述步驟，找不到 hello 回應時，您可以檢閱下列的 hello 其他支援選項。</span><span class="sxs-lookup"><span data-stu-id="0b062-225">If you have followed hello troubleshooting steps above and can't find hello answer, you can review hello additional support options below.</span></span>

* <span data-ttu-id="0b062-226">取得 Azure 專家協助。</span><span class="sxs-lookup"><span data-stu-id="0b062-226">Get help from Azure experts.</span></span> <span data-ttu-id="0b062-227">送出問題 toohello [MSDN Azure 或堆疊溢位的論壇。](https://azure.microsoft.com/support/forums/)。</span><span class="sxs-lookup"><span data-stu-id="0b062-227">Submit your issue toohello [MSDN Azure or Stack Overflow forums.](https://azure.microsoft.com/support/forums/).</span></span>
* <span data-ttu-id="0b062-228">提出 Azure 支援事件。</span><span class="sxs-lookup"><span data-stu-id="0b062-228">File an Azure support incident.</span></span> <span data-ttu-id="0b062-229">移 toohello [Azure 支援的站台](https://azure.microsoft.com/support/options/)按一下**取得支援**下**技術和帳單支援**。</span><span class="sxs-lookup"><span data-stu-id="0b062-229">Go toohello [Azure Support site](https://azure.microsoft.com/support/options/) and click **Get support** under **Technical and billing support**.</span></span>
* <span data-ttu-id="0b062-230">如果您在尋找 Azure 自動化 Runbook 解決方案或整合模組，請在 [指令碼中心](https://azure.microsoft.com/documentation/scripts/) 提出指令碼要求。</span><span class="sxs-lookup"><span data-stu-id="0b062-230">Post a Script Request on [Script Center](https://azure.microsoft.com/documentation/scripts/) if you are looking for an Azure Automation runbook solution or an integration module.</span></span>
* <span data-ttu-id="0b062-231">請在 [User Voice](https://feedback.azure.com/forums/34192--general-feedback)上張貼 Azure 自動化的意見反應或功能要求。</span><span class="sxs-lookup"><span data-stu-id="0b062-231">Post feedback or feature requests for Azure Automation on [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span></span>
