---
title: "aaaGraphical Azure 自動化中撰寫 |Microsoft 文件"
description: "圖形化撰寫可讓您 toocreate runbook Azure 自動化而不需要使用程式碼。 本文章提供簡介 toographical 撰寫，而且所有 hello 詳細資料都需要 toostart 建立圖形化 runbook。"
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 4b6f840c-e941-4293-a728-b33407317943
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 6ddf18b992d5e5f7f4af95f344007a63ac498549
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="graphical-authoring-in-azure-automation"></a><span data-ttu-id="7eae3-104">Azure 自動化中的圖形化編寫</span><span class="sxs-lookup"><span data-stu-id="7eae3-104">Graphical authoring in Azure Automation</span></span>
## <a name="introduction"></a><span data-ttu-id="7eae3-105">簡介</span><span class="sxs-lookup"><span data-stu-id="7eae3-105">Introduction</span></span>
<span data-ttu-id="7eae3-106">圖形化撰寫可讓您 toocreate runbook Azure 自動化不 hello hello 基礎 Windows PowerShell 或 PowerShell 工作流程的程式碼的複雜度。</span><span class="sxs-lookup"><span data-stu-id="7eae3-106">Graphical Authoring allows you toocreate runbooks for Azure Automation without hello complexities of hello underlying Windows PowerShell or PowerShell Workflow code.</span></span> <span data-ttu-id="7eae3-107">您從 cmdlet 與 runbook 的程式庫加入活動 toohello 畫布、 連結在一起，並設定 tooform 工作流程。</span><span class="sxs-lookup"><span data-stu-id="7eae3-107">You add activities toohello canvas from a library of cmdlets and runbooks, link them together and configure tooform a workflow.</span></span>  <span data-ttu-id="7eae3-108">如果您曾經使用過 System Center Orchestrator 或服務管理自動化 (SMA)，然後這看起來應該熟悉 tooyou。</span><span class="sxs-lookup"><span data-stu-id="7eae3-108">If you have ever worked with System Center Orchestrator or Service Management Automation (SMA), then this should look familiar tooyou.</span></span>   

<span data-ttu-id="7eae3-109">本文章提供簡介 toographical 需要 tooget 開始建立圖形化 runbook 的撰寫與 hello 概念。</span><span class="sxs-lookup"><span data-stu-id="7eae3-109">This article provides an introduction toographical authoring and hello concepts you need tooget started in creating a graphical runbook.</span></span>

## <a name="graphical-runbooks"></a><span data-ttu-id="7eae3-110">圖形化 Runbook</span><span class="sxs-lookup"><span data-stu-id="7eae3-110">Graphical runbooks</span></span>
<span data-ttu-id="7eae3-111">Azure 自動化中的所有 Runbook 都是 Windows PowerShell 工作流程。</span><span class="sxs-lookup"><span data-stu-id="7eae3-111">All runbooks in Azure Automation are Windows PowerShell Workflows.</span></span>  <span data-ttu-id="7eae3-112">圖形化和圖形化 PowerShell 工作流程 runbook 產生 hello 自動化背景工作，所執行的 PowerShell 程式碼，但是您不能 tooview 它，或直接修改它。</span><span class="sxs-lookup"><span data-stu-id="7eae3-112">Graphical and Graphical PowerShell Workflow runbooks generate PowerShell code that is run by hello Automation workers, but you are not able tooview it or directly modify it.</span></span>  <span data-ttu-id="7eae3-113">圖形化 runbook 可以轉換的 tooa 圖形化 PowerShell 工作流程 runbook，反之亦然，但它們不能是轉換的 tooa 文字 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-113">A Graphical runbook can be converted tooa Graphical PowerShell Workflow runbook and vice-versa, but they cannot be converted tooa textual runbook.</span></span> <span data-ttu-id="7eae3-114">現有的文字 runbook 無法匯入 hello 圖形化編輯器中。</span><span class="sxs-lookup"><span data-stu-id="7eae3-114">An existing textual runbook cannot be imported into hello graphical editor.</span></span>  

## <a name="overview-of-graphical-editor"></a><span data-ttu-id="7eae3-115">圖形化編輯器概觀</span><span class="sxs-lookup"><span data-stu-id="7eae3-115">Overview of graphical editor</span></span>
<span data-ttu-id="7eae3-116">您可以開啟 hello Azure 入口網站中的 hello 圖形化編輯器，建立或編輯圖形化 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-116">You can open hello graphical editor in hello Azure portal by creating or editing a graphical runbook.</span></span>

![圖形化工作區](media/automation-graphical-authoring-intro/runbook-graphical-editor.png)

<span data-ttu-id="7eae3-118">hello 下列章節說明在 hello 圖形化編輯器中的 hello 控制項。</span><span class="sxs-lookup"><span data-stu-id="7eae3-118">hello following sections describe hello controls in hello graphical editor.</span></span>

### <a name="canvas"></a><span data-ttu-id="7eae3-119">畫布</span><span class="sxs-lookup"><span data-stu-id="7eae3-119">Canvas</span></span>
<span data-ttu-id="7eae3-120">hello 畫布是您用來設計您的 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-120">hello Canvas is where you design your runbook.</span></span>  <span data-ttu-id="7eae3-121">您從 hello hello 程式庫控制項 toohello runbook 中的節點加入活動，並連接它們的 hello runbook 連結 toodefine hello 邏輯。</span><span class="sxs-lookup"><span data-stu-id="7eae3-121">You add activities from hello nodes in hello Library control toohello runbook and connect them with links toodefine hello logic of hello runbook.</span></span>

<span data-ttu-id="7eae3-122">您可以在 hello 底部 hello 畫布 toozoom 入和移出使用 hello 控制項。</span><span class="sxs-lookup"><span data-stu-id="7eae3-122">You can use hello controls at hello bottom of hello canvas toozoom in and out.</span></span>

![圖形化工作區](media/automation-graphical-authoring-intro/runbook-canvas-controls.png)

### <a name="library-control"></a><span data-ttu-id="7eae3-124">程式庫控制項</span><span class="sxs-lookup"><span data-stu-id="7eae3-124">Library control</span></span>
<span data-ttu-id="7eae3-125">hello 程式庫控制項是您在其中選取[活動](#activities)tooadd tooyour runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-125">hello Library control is where you select [activities](#activities) tooadd tooyour runbook.</span></span>  <span data-ttu-id="7eae3-126">您會將其加入連接它們 tooother 活動 toohello 畫布。</span><span class="sxs-lookup"><span data-stu-id="7eae3-126">You add them toohello canvas where you connect them tooother activities.</span></span>  <span data-ttu-id="7eae3-127">它包含 hello 下表中所述的四個區段。</span><span class="sxs-lookup"><span data-stu-id="7eae3-127">It includes four sections described in hello following table.</span></span>

| <span data-ttu-id="7eae3-128">區段</span><span class="sxs-lookup"><span data-stu-id="7eae3-128">Section</span></span> | <span data-ttu-id="7eae3-129">說明</span><span class="sxs-lookup"><span data-stu-id="7eae3-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="7eae3-130">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="7eae3-130">Cmdlets</span></span> |<span data-ttu-id="7eae3-131">您在 runbook 中包含所有可用的 hello cmdlet。</span><span class="sxs-lookup"><span data-stu-id="7eae3-131">Includes all hello cmdlets that can be used in your runbook.</span></span>  <span data-ttu-id="7eae3-132">Cmdlet 是依模組組織。</span><span class="sxs-lookup"><span data-stu-id="7eae3-132">Cmdlets are organized by module.</span></span>  <span data-ttu-id="7eae3-133">所有您已安裝在您的自動化帳戶中的 hello 模組會使用。</span><span class="sxs-lookup"><span data-stu-id="7eae3-133">All of hello modules that you have installed in your automation account will be available.</span></span> |
| <span data-ttu-id="7eae3-134">Runbook</span><span class="sxs-lookup"><span data-stu-id="7eae3-134">Runbooks</span></span> |<span data-ttu-id="7eae3-135">納入您的自動化帳戶中的 hello runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-135">Includes hello runbooks in your automation account.</span></span> <span data-ttu-id="7eae3-136">這些 runbook 可以加入 toohello 畫布 toobe 做為子 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-136">These runbooks can be added toohello canvas toobe used as child runbooks.</span></span> <span data-ttu-id="7eae3-137">只有 runbook 的 hello 相同核心類型為 hello 正在編輯的 runbook 會顯示。圖形化 runbook 只能以 PowerShell 為基礎的 runbook 會顯示，而顯示的圖形化 PowerShell 工作流程 runbook 只能 PowerShell-工作流程式 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-137">Only runbooks of hello same core type as hello runbook being edited are shown; for Graphical runbooks only PowerShell-based runbooks are shown, while for Graphical PowerShell Workflow runbooks only PowerShell-Workflow-based runbooks are shown.</span></span> |
| <span data-ttu-id="7eae3-138">Assets</span><span class="sxs-lookup"><span data-stu-id="7eae3-138">Assets</span></span> |<span data-ttu-id="7eae3-139">包含 hello[自動化資產](http://msdn.microsoft.com/library/dn939988.aspx)中您可以使用您在 runbook 中的自動化帳戶。</span><span class="sxs-lookup"><span data-stu-id="7eae3-139">Includes hello [automation assets](http://msdn.microsoft.com/library/dn939988.aspx) in your automation account that can be used in your runbook.</span></span>  <span data-ttu-id="7eae3-140">當您新增的資產 tooa runbook 時，它會將工作流程活動，以取得 hello 選的資產。</span><span class="sxs-lookup"><span data-stu-id="7eae3-140">When you add an asset tooa runbook, it will add a workflow activity that gets hello selected asset.</span></span>  <span data-ttu-id="7eae3-141">在變數的資產的 hello 案例中，您可以選取是否 tooadd 活動 tooget hello hello 變數或設定變數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-141">In hello case of variable assets, you can select whether tooadd an activity tooget hello variable or set hello variable.</span></span> |
| <span data-ttu-id="7eae3-142">Runbook 控制項</span><span class="sxs-lookup"><span data-stu-id="7eae3-142">Runbook Control</span></span> |<span data-ttu-id="7eae3-143">包含可在目前的 Runbook 中使用的 Runbook 控制項活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-143">Includes runbook control activities that can be used in your current runbook.</span></span> <span data-ttu-id="7eae3-144">A*聯合*接受多個輸入，並等待，直到所有已完成之前繼續 hello 工作流程。</span><span class="sxs-lookup"><span data-stu-id="7eae3-144">A *Junction* takes multiple inputs and waits until all have completed before continuing hello workflow.</span></span> <span data-ttu-id="7eae3-145">A*程式碼*活動執行的 PowerShell 或 PowerShell 工作流程的程式碼，根據 hello 圖形化 runbook 類型的一或多行。</span><span class="sxs-lookup"><span data-stu-id="7eae3-145">A *Code* activity runs one or more lines of PowerShell or PowerShell Workflow code depending on hello graphical runbook type.</span></span>  <span data-ttu-id="7eae3-146">您可以使用此活動的自訂程式碼或困難 tooachieve 與其他活動的功能。</span><span class="sxs-lookup"><span data-stu-id="7eae3-146">You can use this activity for custom code or for functionality that is difficult tooachieve with other activities.</span></span> |

### <a name="configuration-control"></a><span data-ttu-id="7eae3-147">組態控制項</span><span class="sxs-lookup"><span data-stu-id="7eae3-147">Configuration control</span></span>
<span data-ttu-id="7eae3-148">hello 組態控制會為您提供詳細資料的 hello 畫布上選取的物件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-148">hello Configuration control is where you provide details for an object selected on hello canvas.</span></span> <span data-ttu-id="7eae3-149">此控制項中可用的 hello 屬性將取決於 hello 選取物件類型。</span><span class="sxs-lookup"><span data-stu-id="7eae3-149">hello properties available in this control will depend on hello type of object selected.</span></span>  <span data-ttu-id="7eae3-150">當您在 hello 設定控制項中選取的選項時，就會開啟其他刀鋒視窗中訂單 tooprovide 額外資訊。</span><span class="sxs-lookup"><span data-stu-id="7eae3-150">When you select an option in hello Configuration control, it will open additional blades in order tooprovide additional information.</span></span>

### <a name="test-control"></a><span data-ttu-id="7eae3-151">測試控制項</span><span class="sxs-lookup"><span data-stu-id="7eae3-151">Test control</span></span>
<span data-ttu-id="7eae3-152">hello 圖形化編輯器初次啟動時，不會顯示 hello 測試控制項。</span><span class="sxs-lookup"><span data-stu-id="7eae3-152">hello Test control is not displayed when hello graphical editor is first started.</span></span> <span data-ttu-id="7eae3-153">當您以互動方式 [測試圖形化 Runbook](#graphical-runbook-procedures)時會開啟。</span><span class="sxs-lookup"><span data-stu-id="7eae3-153">It is opened when you interactively [test a graphical runbook](#graphical-runbook-procedures).</span></span>  

## <a name="graphical-runbook-procedures"></a><span data-ttu-id="7eae3-154">圖形化 Runbook 程序</span><span class="sxs-lookup"><span data-stu-id="7eae3-154">Graphical runbook procedures</span></span>
### <a name="exporting-and-importing-a-graphical-runbook"></a><span data-ttu-id="7eae3-155">匯出和匯入圖形化 Runbook</span><span class="sxs-lookup"><span data-stu-id="7eae3-155">Exporting and importing a graphical runbook</span></span>
<span data-ttu-id="7eae3-156">您可以只匯出 hello 的圖形化 runbook 已發佈的版本。</span><span class="sxs-lookup"><span data-stu-id="7eae3-156">You can only export hello published version of a graphical runbook.</span></span>  <span data-ttu-id="7eae3-157">如果尚未發行 hello runbook，然後 hello**匯出發行**按鈕將會停用。</span><span class="sxs-lookup"><span data-stu-id="7eae3-157">If hello runbook has not yet been published, then hello **Export published** button will be disabled.</span></span>  <span data-ttu-id="7eae3-158">當您按一下 hello**匯出發行**按鈕，hello runbook 是下載的 tooyour 本機電腦。</span><span class="sxs-lookup"><span data-stu-id="7eae3-158">When you click hello **Export published** button, hello runbook is downloaded tooyour local computer.</span></span>  <span data-ttu-id="7eae3-159">hello hello 檔案名稱符合 hello hello runbook 名稱*graphrunbook*延伸模組。</span><span class="sxs-lookup"><span data-stu-id="7eae3-159">hello name of hello file matches hello name of hello runbook with a *graphrunbook* extension.</span></span>

![匯出已發行](media/automation-graphical-authoring-intro/runbook-export.png)

<span data-ttu-id="7eae3-161">您可以將圖形化 PowerShell 工作流程的 runbook 檔案匯入選取 hello**匯入**選項新增 runbook 時。</span><span class="sxs-lookup"><span data-stu-id="7eae3-161">You can import a Graphical or Graphical PowerShell Workflow runbook file by selecting hello **Import** option when adding a runbook.</span></span>   <span data-ttu-id="7eae3-162">當您選取 hello 檔案 tooimport 時，您可以保留相同的 hello**名稱**或提供一個新。</span><span class="sxs-lookup"><span data-stu-id="7eae3-162">When you select hello file tooimport, you can keep hello same **Name** or provide a new one.</span></span>  <span data-ttu-id="7eae3-163">後選取 hello 檔案，而且如果您嘗試 tooselect 不正確，會看到訊息，記下有可能發生的衝突，並在轉換期間，可能會有不同的類型，它會評估 hello Runbook 類型 欄位會顯示 hello 的 runbook 類型語法錯誤。</span><span class="sxs-lookup"><span data-stu-id="7eae3-163">hello Runbook Type field will display hello type of runbook after it assesses hello file selected and if you attempt tooselect a different type that is not correct, a message will be presented noting there are potential conflicts and during conversion, there could be syntax errors.</span></span>  

![匯入 Runbook](media/automation-graphical-authoring-intro/runbook-import-revised20165.png)

### <a name="testing-a-graphical-runbook"></a><span data-ttu-id="7eae3-165">測試圖形化 Runbook</span><span class="sxs-lookup"><span data-stu-id="7eae3-165">Testing a graphical runbook</span></span>
<span data-ttu-id="7eae3-166">離開 hello 發佈版本保持不變，hello runbook，或您可以在已發行前測試新的 runbook 時，您可以在 hello Azure 入口網站中測試 hello 的 runbook 的草稿版本。</span><span class="sxs-lookup"><span data-stu-id="7eae3-166">You can test hello Draft version of a runbook in hello Azure portal while leaving hello published version of hello runbook unchanged, or you can test a new runbook before it has been published.</span></span> <span data-ttu-id="7eae3-167">這可讓您 tooverify hello runbook，再取代已發行的版本的 hello 正常運作。</span><span class="sxs-lookup"><span data-stu-id="7eae3-167">This allows you tooverify that hello runbook is working correctly before replacing hello published version.</span></span> <span data-ttu-id="7eae3-168">當您測試 runbook 時，會執行 hello 草稿 runbook 並完成的它會執行任何動作。</span><span class="sxs-lookup"><span data-stu-id="7eae3-168">When you test a runbook, hello Draft runbook is executed and any actions that it performs are completed.</span></span> <span data-ttu-id="7eae3-169">建立工作記錄，但輸出會顯示在 hello 測試輸出窗格。</span><span class="sxs-lookup"><span data-stu-id="7eae3-169">No job history is created, but output is displayed in hello Test Output Pane.</span></span> 

<span data-ttu-id="7eae3-170">開啟 hello runbook 進行編輯，以開啟 runbook 的 hello 測試控制項，然後按一下 hello**測試窗格** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="7eae3-170">Open hello Test control for a runbook by opening hello runbook for edit and then click on hello **Test pane** button.</span></span>

![測試窗格按鈕](media/automation-graphical-authoring-intro/runbook-edit-test-pane.png)

<span data-ttu-id="7eae3-172">hello 測試控制項將會提示的任何輸入參數，而且您可以按一下 hello 啟動 hello runbook**啟動** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="7eae3-172">hello Test control will prompt for any input parameters, and you can start hello runbook by clicking on hello **Start** button.</span></span>

![測試控制項按鈕](media/automation-graphical-authoring-intro/runbook-test-start.png)

### <a name="publishing-a-graphical-runbook"></a><span data-ttu-id="7eae3-174">發行圖形化 Runbook</span><span class="sxs-lookup"><span data-stu-id="7eae3-174">Publishing a graphical runbook</span></span>
<span data-ttu-id="7eae3-175">Azure 自動化中的每個 Runbook 有草稿和已發行的版本。</span><span class="sxs-lookup"><span data-stu-id="7eae3-175">Each runbook in Azure Automation has a Draft and a Published version.</span></span> <span data-ttu-id="7eae3-176">只有 hello 已發佈版本可用 toobe 執行，且 hello 草稿版本可供編輯。</span><span class="sxs-lookup"><span data-stu-id="7eae3-176">Only hello Published version is available toobe run, and only hello Draft version can be edited.</span></span> <span data-ttu-id="7eae3-177">hello 已發佈 」 版本不會受到任何變更 toohello 草稿版本。</span><span class="sxs-lookup"><span data-stu-id="7eae3-177">hello Published version is unaffected by any changes toohello Draft version.</span></span> <span data-ttu-id="7eae3-178">準備好 toobe 可用 hello 草稿版本時，您應發佈該使用 hello 草稿版本覆寫 hello 已發佈 」 版本。</span><span class="sxs-lookup"><span data-stu-id="7eae3-178">When hello Draft version is ready toobe available, then you publish it which overwrites hello Published version with hello Draft version.</span></span>

<span data-ttu-id="7eae3-179">您可以藉由開啟 hello runbook 進行編輯，然後再按一下 hello 發佈圖形化 runbook**發行** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="7eae3-179">You can publish a graphical runbook by opening hello runbook for editing and then clicking on hello **Publish** button.</span></span>

![發佈按鈕](media/automation-graphical-authoring-intro/runbook-edit-publish.png)

<span data-ttu-id="7eae3-181">尚未發行 Runbook 時，它的狀態為 **新增**。</span><span class="sxs-lookup"><span data-stu-id="7eae3-181">When a runbook has not yet been published, it has a status of **New**.</span></span>  <span data-ttu-id="7eae3-182">發行時，它的狀態為 **已發行**。</span><span class="sxs-lookup"><span data-stu-id="7eae3-182">When it is published, it has a status of **Published**.</span></span>  <span data-ttu-id="7eae3-183">如果已發行，而且 hello 草稿 」 和 「 已發佈的版本不同，您可以編輯 hello runbook、 hello runbook 都有狀態**中編輯**。</span><span class="sxs-lookup"><span data-stu-id="7eae3-183">If you edit hello runbook after it has been published, and hello Draft and Published versions are different, hello runbook has a status of **In edit**.</span></span>

![Runbook 狀態](media/automation-graphical-authoring-intro/runbook-statuses-revised20165.png) 

<span data-ttu-id="7eae3-185">您也可以 hello 選項 toorevert toohello 已發佈 」 版本的 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-185">You also have hello option toorevert toohello Published version of a runbook.</span></span>  <span data-ttu-id="7eae3-186">這會擲回了自 hello runbook 的上次發佈，並以 hello 已發佈 」 版本取代 hello hello runbook 草稿版本進行任何變更。</span><span class="sxs-lookup"><span data-stu-id="7eae3-186">This throws away any changes made since hello runbook was last published and replaces hello Draft version of hello runbook with hello Published version.</span></span>

![還原 toopublished 按鈕](media/automation-graphical-authoring-intro/runbook-edit-revert-published.png)

## <a name="activities"></a><span data-ttu-id="7eae3-188">活動</span><span class="sxs-lookup"><span data-stu-id="7eae3-188">Activities</span></span>
<span data-ttu-id="7eae3-189">活動是 runbook 的 hello 建置組塊。</span><span class="sxs-lookup"><span data-stu-id="7eae3-189">Activities are hello building blocks of a runbook.</span></span>  <span data-ttu-id="7eae3-190">活動可以是 PowerShell Cmdlet、子 Runbook 或工作流程活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-190">An activity can be a PowerShell cmdlet, a child runbook, or a workflow activity.</span></span>  <span data-ttu-id="7eae3-191">您以滑鼠右鍵按一下 hello 控制項程式庫中，選取新增的活動 toohello runbook**新增 toocanvas**。</span><span class="sxs-lookup"><span data-stu-id="7eae3-191">You add an activity toohello runbook by right clicking it in hello Library control and selecting **Add toocanvas**.</span></span>  <span data-ttu-id="7eae3-192">您可以按一下並拖曳到任何地方 hello 畫布您喜歡的 hello 活動 tooplace。</span><span class="sxs-lookup"><span data-stu-id="7eae3-192">You can then click and drag hello activity tooplace it anywhere on hello canvas that you like.</span></span>  <span data-ttu-id="7eae3-193">hello 的 hello hello 活動 hello 畫布上的位置不會影響 hello hello runbook 以任何方式作業。</span><span class="sxs-lookup"><span data-stu-id="7eae3-193">hello location of hello of hello activity on hello canvas does not effect hello operation of hello runbook in any way.</span></span>  <span data-ttu-id="7eae3-194">您將版面配置可能您的 runbook，不過您覺得最適合 toovisualize 其作業。</span><span class="sxs-lookup"><span data-stu-id="7eae3-194">You can layout your runbook however you find it most suitable toovisualize its operation.</span></span> 

![新增 toocanvas](media/automation-graphical-authoring-intro/add-to-canvas-revised20165.png)

<span data-ttu-id="7eae3-196">選取 hello 畫布 tooconfigure hello 活動及其屬性和參數 hello 組態刀鋒視窗中。</span><span class="sxs-lookup"><span data-stu-id="7eae3-196">Select hello activity on hello canvas tooconfigure its properties and parameters in hello Configuration blade.</span></span>  <span data-ttu-id="7eae3-197">您可以變更 hello**標籤**是描述性 tooyou 的 hello 活動 toosomething。</span><span class="sxs-lookup"><span data-stu-id="7eae3-197">You can change hello **Label** of hello activity toosomething that is descriptive tooyou.</span></span>  <span data-ttu-id="7eae3-198">正在執行 hello 原始 cmdlet，您只要變更它將會使用 hello 圖形編輯器的顯示名稱。</span><span class="sxs-lookup"><span data-stu-id="7eae3-198">hello original cmdlet is still being run, you are simply changing its display name that will be used in hello graphical editor.</span></span>  <span data-ttu-id="7eae3-199">hello 標籤內必須是唯一 hello runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-199">hello label must be unique within hello runbook.</span></span> 

### <a name="parameter-sets"></a><span data-ttu-id="7eae3-200">參數集</span><span class="sxs-lookup"><span data-stu-id="7eae3-200">Parameter sets</span></span>
<span data-ttu-id="7eae3-201">參數集定義 hello 強制與選用參數，將會接受針對特定 cmdlet 的值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-201">A parameter set defines hello mandatory and optional parameters that will accept values for a particular cmdlet.</span></span>  <span data-ttu-id="7eae3-202">所有的 Cmdlet 至少有一個參數集，而某些則有多個。</span><span class="sxs-lookup"><span data-stu-id="7eae3-202">All cmdlets have at least one parameter set, and some have multiple.</span></span>  <span data-ttu-id="7eae3-203">如果 Cmdlet 有多個參數集，然後您必須選取可以設定參數之前，將使用參數集。</span><span class="sxs-lookup"><span data-stu-id="7eae3-203">If a cmdlet has multiple parameter sets, then you must select which one you will use before you can configure parameters.</span></span>  <span data-ttu-id="7eae3-204">您可以設定的 hello 參數將取決於您選擇的 hello 參數集。</span><span class="sxs-lookup"><span data-stu-id="7eae3-204">hello parameters that you can configure will depend on hello parameter set that you choose.</span></span>  <span data-ttu-id="7eae3-205">您可以變更所選取活動所使用的 hello 參數組**參數設定**並選取 其他設定。</span><span class="sxs-lookup"><span data-stu-id="7eae3-205">You can change hello parameter set used by an activity by selecting **Parameter Set** and selecting another set.</span></span>  <span data-ttu-id="7eae3-206">在此情況下，您設定的任何參數值都會遺失。</span><span class="sxs-lookup"><span data-stu-id="7eae3-206">In this case, any parameter values that you configured are lost.</span></span>

<span data-ttu-id="7eae3-207">在下列範例的 hello，hello Get AzureRmVM cmdlet 都有三個參數集。</span><span class="sxs-lookup"><span data-stu-id="7eae3-207">In hello following example, hello Get-AzureRmVM cmdlet has three parameter sets.</span></span>  <span data-ttu-id="7eae3-208">您無法設定參數值，直到您選取其中一個 hello 參數集。</span><span class="sxs-lookup"><span data-stu-id="7eae3-208">You cannot configure parameter values until you select one of hello parameter sets.</span></span>  <span data-ttu-id="7eae3-209">hello ListVirtualMachineInResourceGroupParamSet 參數集傳回的所有虛擬機器的資源群組中，單一的選擇性參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-209">hello ListVirtualMachineInResourceGroupParamSet parameter set is for returning all virtual machines in a resource group and has a single optional parameter.</span></span>  <span data-ttu-id="7eae3-210">hello GetVirtualMachineInResourceGroupParamSet 適用於指定您想 tooreturn，而且有兩個必要和選擇性參數的 hello 的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="7eae3-210">hello GetVirtualMachineInResourceGroupParamSet is for specifying hello virtual machine you want tooreturn and has two mandatory and one optional parameter.</span></span>

![參數集](media/automation-graphical-authoring-intro/get-azurermvm-parameter-sets.png)

#### <a name="parameter-values"></a><span data-ttu-id="7eae3-212">參數值</span><span class="sxs-lookup"><span data-stu-id="7eae3-212">Parameter values</span></span>
<span data-ttu-id="7eae3-213">當您指定參數的值時，您會選取資料來源 toodetermine hello 值指定的方式。</span><span class="sxs-lookup"><span data-stu-id="7eae3-213">When you specify a value for a parameter, you select a data source toodetermine how hello value will be specified.</span></span>  <span data-ttu-id="7eae3-214">hello 可用於特定參數的資料來源將取決於該參數的 hello 有效值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-214">hello data sources that are available for a particular parameter will depend on hello valid values for that parameter.</span></span>  <span data-ttu-id="7eae3-215">例如，Null 不是不允許 null 值的參數可用的選項。</span><span class="sxs-lookup"><span data-stu-id="7eae3-215">For example, Null will not be an available option for a parameter that does not allow null values.</span></span>

| <span data-ttu-id="7eae3-216">資料來源</span><span class="sxs-lookup"><span data-stu-id="7eae3-216">Data Source</span></span> | <span data-ttu-id="7eae3-217">說明</span><span class="sxs-lookup"><span data-stu-id="7eae3-217">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="7eae3-218">常數值</span><span class="sxs-lookup"><span data-stu-id="7eae3-218">Constant Value</span></span> |<span data-ttu-id="7eae3-219">輸入 hello 參數的值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-219">Type in a value for hello parameter.</span></span>  <span data-ttu-id="7eae3-220">這只適用於下列資料類型的 hello: Int32、 Int64、 字串、 Boolean、 DateTime、 交換器。</span><span class="sxs-lookup"><span data-stu-id="7eae3-220">This is only available for hello following data types: Int32,Int64,String,Boolean,DateTime,Switch.</span></span> |
| <span data-ttu-id="7eae3-221">活動輸出</span><span class="sxs-lookup"><span data-stu-id="7eae3-221">Activity Output</span></span> |<span data-ttu-id="7eae3-222">活動前面 hello 工作流程中的 hello 目前活動的輸出。</span><span class="sxs-lookup"><span data-stu-id="7eae3-222">Output from an activity that precedes hello current activity in hello workflow.</span></span>  <span data-ttu-id="7eae3-223">將列出所有有效的活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-223">All valid activities will be listed.</span></span>  <span data-ttu-id="7eae3-224">選取剛才 hello 活動 toouse hello 參數值的輸出。</span><span class="sxs-lookup"><span data-stu-id="7eae3-224">Select just hello activity toouse its output for hello parameter value.</span></span>  <span data-ttu-id="7eae3-225">如果 hello 活動輸出具有多個屬性的物件，然後您可以輸入 hello hello 屬性名稱選取 hello 活動之後。</span><span class="sxs-lookup"><span data-stu-id="7eae3-225">If hello activity outputs an object with multiple properties, then you can type in hello name of hello property after selecting hello activity.</span></span> |
| <span data-ttu-id="7eae3-226">Runbook 輸入</span><span class="sxs-lookup"><span data-stu-id="7eae3-226">Runbook Input</span></span> |<span data-ttu-id="7eae3-227">選取 runbook 的輸入的參數做為輸入的 toohello 活動參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-227">Select a runbook input parameter as input toohello activity parameter.</span></span> |
| <span data-ttu-id="7eae3-228">變數資產</span><span class="sxs-lookup"><span data-stu-id="7eae3-228">Variable Asset</span></span> |<span data-ttu-id="7eae3-229">選取「自動化變數」做為輸入。</span><span class="sxs-lookup"><span data-stu-id="7eae3-229">Select an Automation Variable as input.</span></span> |
| <span data-ttu-id="7eae3-230">認證資產</span><span class="sxs-lookup"><span data-stu-id="7eae3-230">Credential Asset</span></span> |<span data-ttu-id="7eae3-231">選取「自動化認證」做為輸入。</span><span class="sxs-lookup"><span data-stu-id="7eae3-231">Select an Automation Credential as input.</span></span> |
| <span data-ttu-id="7eae3-232">憑證資產</span><span class="sxs-lookup"><span data-stu-id="7eae3-232">Certificate Asset</span></span> |<span data-ttu-id="7eae3-233">選取「自動化憑證」做為輸入。</span><span class="sxs-lookup"><span data-stu-id="7eae3-233">Select an Automation Certificate as input.</span></span> |
| <span data-ttu-id="7eae3-234">連線資產</span><span class="sxs-lookup"><span data-stu-id="7eae3-234">Connection Asset</span></span> |<span data-ttu-id="7eae3-235">選取「自動化連線」做為輸入。</span><span class="sxs-lookup"><span data-stu-id="7eae3-235">Select an Automation Connection as input.</span></span> |
| <span data-ttu-id="7eae3-236">PowerShell 運算式</span><span class="sxs-lookup"><span data-stu-id="7eae3-236">PowerShell Expression</span></span> |<span data-ttu-id="7eae3-237">指定簡單 [PowerShell 運算式](#powershell-expressions)。</span><span class="sxs-lookup"><span data-stu-id="7eae3-237">Specify simple [PowerShell expression](#powershell-expressions).</span></span>  <span data-ttu-id="7eae3-238">hello 活動與 hello 結果用於 hello 參數值之前，就會評估 hello 運算式。</span><span class="sxs-lookup"><span data-stu-id="7eae3-238">hello expression will be evaluated before hello activity and hello result used for hello parameter value.</span></span>  <span data-ttu-id="7eae3-239">您可以使用變數 toorefer toohello 輸出的活動或 runbook 的輸入的參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-239">You can use variables toorefer toohello output of an activity or a runbook input parameter.</span></span> |
| <span data-ttu-id="7eae3-240">未設定</span><span class="sxs-lookup"><span data-stu-id="7eae3-240">Not configured</span></span> |<span data-ttu-id="7eae3-241">清除先前設定的任何值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-241">Clears any value that was previously configured.</span></span> |

#### <a name="optional-additional-parameters"></a><span data-ttu-id="7eae3-242">選擇性的其他參數</span><span class="sxs-lookup"><span data-stu-id="7eae3-242">Optional additional parameters</span></span>
<span data-ttu-id="7eae3-243">所有指令程式將會有 hello 選項 tooprovide 其他參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-243">All cmdlets will have hello option tooprovide additional parameters.</span></span>  <span data-ttu-id="7eae3-244">這些是 PowerShell 一般參數或其他自訂參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-244">These are PowerShell common parameters or other custom parameters.</span></span>  <span data-ttu-id="7eae3-245">您會看到一個文字方塊，您可以在其中使用 PowerShell 語法提供參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-245">You are presented with a text box where you can provide parameters using PowerShell syntax.</span></span>  <span data-ttu-id="7eae3-246">比方說，toouse hello **Verbose**一般參數，您會指定**"-Verbose: $True"**。</span><span class="sxs-lookup"><span data-stu-id="7eae3-246">For example, toouse hello **Verbose** common parameter, you would specify **"-Verbose:$True"**.</span></span>

### <a name="retry-activity"></a><span data-ttu-id="7eae3-247">重試活動</span><span class="sxs-lookup"><span data-stu-id="7eae3-247">Retry activity</span></span>
<span data-ttu-id="7eae3-248">**重試行**允許執行多次，直到符合特定條件時，活動 toobe 十分類似迴圈。</span><span class="sxs-lookup"><span data-stu-id="7eae3-248">**Retry Behavior** allows an activity toobe run multiple times until a particular condition is met, much like a loop.</span></span>  <span data-ttu-id="7eae3-249">您可以使用這項功能之活動的應該執行多次，容易發生錯誤，可能需要一個以上的嘗試成功，或測試的有效資料的 hello 活動 hello 輸出資訊。</span><span class="sxs-lookup"><span data-stu-id="7eae3-249">You can use this feature for activities that should run multiple times, are error prone and may need more than one attempt for success, or test hello output information of hello activity for valid data.</span></span>    

<span data-ttu-id="7eae3-250">當您對活動啟用重試時，您可以設定延遲和條件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-250">When you enable retry for an activity, you can set a delay and a condition.</span></span>  <span data-ttu-id="7eae3-251">hello 延遲是 hello 時間 （以秒數或分鐘為單位） 該 hello runbook 之前會先等待再次執行 hello 活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-251">hello delay is hello time (measured in seconds or minutes) that hello runbook will wait before it runs hello activity again.</span></span>  <span data-ttu-id="7eae3-252">如果未不指定任何延遲，然後 hello 活動會再次執行此作業完成之後，立即。</span><span class="sxs-lookup"><span data-stu-id="7eae3-252">If no delay is specified, then hello activity will run again immediately after it completes.</span></span> 

![活動重試延遲](media/automation-graphical-authoring-intro/retry-delay.png)

<span data-ttu-id="7eae3-254">hello 重試條件是在每個階段 hello 活動執行後會評估的 PowerShell 運算式。</span><span class="sxs-lookup"><span data-stu-id="7eae3-254">hello retry condition is a PowerShell expression that is evaluated after each time hello activity runs.</span></span>  <span data-ttu-id="7eae3-255">如果 hello 運算式解析 tooTrue，然後 hello 活動會執行一次。</span><span class="sxs-lookup"><span data-stu-id="7eae3-255">If hello expression resolves tooTrue, then hello activity runs again.</span></span>  <span data-ttu-id="7eae3-256">如果 hello 運算式解析 tooFalse 然後 hello 活動不會執行一次，並移 toohello 下一個活動上的 hello runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-256">If hello expression resolves tooFalse then hello activity does not run again, and hello runbook moves on toohello next activity.</span></span> 

![活動重試延遲](media/automation-graphical-authoring-intro/retry-condition.png)

<span data-ttu-id="7eae3-258">hello 重試條件可以使用名為 $RetryData 提供存取 tooinformation 有關 hello 活動重試。</span><span class="sxs-lookup"><span data-stu-id="7eae3-258">hello retry condition can use a variable called $RetryData that provides access tooinformation about hello activity retries.</span></span>  <span data-ttu-id="7eae3-259">這個變數具有 hello 下表中的 hello 屬性。</span><span class="sxs-lookup"><span data-stu-id="7eae3-259">This variable has hello properties in hello following table.</span></span>

| <span data-ttu-id="7eae3-260">屬性</span><span class="sxs-lookup"><span data-stu-id="7eae3-260">Property</span></span> | <span data-ttu-id="7eae3-261">說明</span><span class="sxs-lookup"><span data-stu-id="7eae3-261">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="7eae3-262">NumberOfAttempts</span><span class="sxs-lookup"><span data-stu-id="7eae3-262">NumberOfAttempts</span></span> |<span data-ttu-id="7eae3-263">已執行的 hello 活動的次數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-263">Number of times that hello activity has been run.</span></span> |
| <span data-ttu-id="7eae3-264">輸出</span><span class="sxs-lookup"><span data-stu-id="7eae3-264">Output</span></span> |<span data-ttu-id="7eae3-265">輸出 hello 從上次執行的 hello 活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-265">Output from hello last run of hello activity.</span></span> |
| <span data-ttu-id="7eae3-266">TotalDuration</span><span class="sxs-lookup"><span data-stu-id="7eae3-266">TotalDuration</span></span> |<span data-ttu-id="7eae3-267">逾時 hello 活動已啟動後經過 hello 第一次。</span><span class="sxs-lookup"><span data-stu-id="7eae3-267">Timed elapsed since hello activity was started hello first time.</span></span> |
| <span data-ttu-id="7eae3-268">StartedAt</span><span class="sxs-lookup"><span data-stu-id="7eae3-268">StartedAt</span></span> |<span data-ttu-id="7eae3-269">第一次啟動時間以 UTC 格式 hello 活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-269">Time in UTC format hello activity was first started.</span></span> |

<span data-ttu-id="7eae3-270">以下是活動重試條件的範例。</span><span class="sxs-lookup"><span data-stu-id="7eae3-270">Following are examples of activity retry conditions.</span></span>

    # Run hello activity exactly 10 times.
    $RetryData.NumberOfAttempts -ge 10 

    # Run hello activity repeatedly until it produces any output.
    $RetryData.Output.Count -ge 1 

    # Run hello activity repeatedly until 2 minutes has elapsed. 
    $RetryData.TotalDuration.TotalMinutes -ge 2

<span data-ttu-id="7eae3-271">設定活動的重試條件之後，hello 活動包含兩個視覺提示 tooremind 您。</span><span class="sxs-lookup"><span data-stu-id="7eae3-271">After you configure a retry condition for an activity, hello activity includes two visual cues tooremind you.</span></span>  <span data-ttu-id="7eae3-272">其中一個會以 hello 活動 hello 其他時，則您檢閱 hello 活動 hello 組態。</span><span class="sxs-lookup"><span data-stu-id="7eae3-272">One is presented in hello activity and hello other is when you review hello configuration of hello activity.</span></span>

![活動重試視覺指示器](media/automation-graphical-authoring-intro/runbook-activity-retry-visual-cue.png)

### <a name="workflow-script-control"></a><span data-ttu-id="7eae3-274">工作流程指令碼控制項</span><span class="sxs-lookup"><span data-stu-id="7eae3-274">Workflow Script control</span></span>
<span data-ttu-id="7eae3-275">程式碼控制項是特殊的活動可接受 PowerShell 或 PowerShell 工作流程指令碼，根據訂單 tooprovide 功能，否則無法使用中正在撰寫圖形化 runbook hello 類型而定。</span><span class="sxs-lookup"><span data-stu-id="7eae3-275">A Code control is a special activity that accepts PowerShell or PowerShell Workflow script depending on hello type of graphical runbook being authored in order tooprovide functionality that may otherwise not be available.</span></span>  <span data-ttu-id="7eae3-276">它不能接受參數，但它可以對活動輸出和 Runbook 輸入參數使用變數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-276">It cannot accept parameters, but it can use variables for activity output and runbook input parameters.</span></span>  <span data-ttu-id="7eae3-277">Hello 活動的任何輸出會加入 toohello databus 除非它有沒有傳出中連結的情況下，它會加入 hello runbook 的 toohello 輸出。</span><span class="sxs-lookup"><span data-stu-id="7eae3-277">Any output of hello activity is added toohello databus unless it has no outgoing link in which case it is added toohello output of hello runbook.</span></span>

<span data-ttu-id="7eae3-278">例如 hello 下列程式碼會執行使用名 $NumberOfDays 的 runbook 輸入的變數的日期計算。</span><span class="sxs-lookup"><span data-stu-id="7eae3-278">For example hello following code performs date calculations using a runbook input variable called $NumberOfDays.</span></span>  <span data-ttu-id="7eae3-279">接著會做為輸出 toobe hello runbook 中後續活動所使用的傳送計算的日期時間。</span><span class="sxs-lookup"><span data-stu-id="7eae3-279">It then sends a calculated date time as output toobe used by subsequent activities in hello runbook.</span></span>

    $DateTimeNow = (Get-Date).ToUniversalTime()
    $DateTimeStart = ($DateTimeNow).AddDays(-$NumberOfDays)}
    $DateTimeStart


## <a name="links-and-workflow"></a><span data-ttu-id="7eae3-280">連結和工作流程</span><span class="sxs-lookup"><span data-stu-id="7eae3-280">Links and workflow</span></span>
<span data-ttu-id="7eae3-281">圖形化 Runbook 中的 **連結** 在連接兩個活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-281">A **link** in a graphical runbook connects two activities.</span></span>  <span data-ttu-id="7eae3-282">它會顯示 hello 畫布上，為箭號指向 hello 來源活動 toohello 目的地活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-282">It is displayed on hello canvas as an arrow pointing from hello source activity toohello destination activity.</span></span>  <span data-ttu-id="7eae3-283">hello 活動中執行，hello hello 箭頭方向與 hello 目的地活動 hello 來源活動完成之後啟動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-283">hello activities run in hello direction of hello arrow with hello destination activity starting after hello source activity completes.</span></span>  

### <a name="create-a-link"></a><span data-ttu-id="7eae3-284">建立連結</span><span class="sxs-lookup"><span data-stu-id="7eae3-284">Create a link</span></span>
<span data-ttu-id="7eae3-285">建立所選取的 hello 來源活動的兩個活動和 hello 圓形之間的連結在 hello hello 圖形的底端。</span><span class="sxs-lookup"><span data-stu-id="7eae3-285">Create a link between two activities by selecting hello source activity and clicking hello circle at hello bottom of hello shape.</span></span>  <span data-ttu-id="7eae3-286">拖曳 hello 箭號 toohello 目的地活動和版本。</span><span class="sxs-lookup"><span data-stu-id="7eae3-286">Drag hello arrow toohello destination activity and release.</span></span>

![建立連結](media/automation-graphical-authoring-intro/create-link-revised20165.png)

<span data-ttu-id="7eae3-288">在 hello 組態刀鋒視窗中選取 hello 連結 tooconfigure 其屬性。</span><span class="sxs-lookup"><span data-stu-id="7eae3-288">Select hello link tooconfigure its properties in hello Configuration blade.</span></span>  <span data-ttu-id="7eae3-289">這會將包含下表中的 hello hello 連結類型所述。</span><span class="sxs-lookup"><span data-stu-id="7eae3-289">This will include hello link type which is described in hello following table.</span></span>

| <span data-ttu-id="7eae3-290">連結類型</span><span class="sxs-lookup"><span data-stu-id="7eae3-290">Link Type</span></span> | <span data-ttu-id="7eae3-291">說明</span><span class="sxs-lookup"><span data-stu-id="7eae3-291">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="7eae3-292">管線</span><span class="sxs-lookup"><span data-stu-id="7eae3-292">Pipeline</span></span> |<span data-ttu-id="7eae3-293">hello 目的地活動會執行一次針對每個物件輸出 hello 來源活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-293">hello destination activity is run once for each object output from hello source activity.</span></span>  <span data-ttu-id="7eae3-294">hello 目的地活動不會執行，如果 hello 來源活動會不產生任何輸出。</span><span class="sxs-lookup"><span data-stu-id="7eae3-294">hello destination activity does not run if hello source activity results in no output.</span></span>  <span data-ttu-id="7eae3-295">Hello 來源活動的輸出可做為物件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-295">Output from hello source activity is available as an object.</span></span> |
| <span data-ttu-id="7eae3-296">順序</span><span class="sxs-lookup"><span data-stu-id="7eae3-296">Sequence</span></span> |<span data-ttu-id="7eae3-297">hello 目的地活動只執行一次。</span><span class="sxs-lookup"><span data-stu-id="7eae3-297">hello destination activity runs only once.</span></span>  <span data-ttu-id="7eae3-298">在收到 hello 來源活動的物件陣列。</span><span class="sxs-lookup"><span data-stu-id="7eae3-298">It receives an array of objects from hello source activity.</span></span>  <span data-ttu-id="7eae3-299">Hello 來源活動的輸出可做為物件的陣列。</span><span class="sxs-lookup"><span data-stu-id="7eae3-299">Output from hello source activity is available as an array of objects.</span></span> |

### <a name="starting-activity"></a><span data-ttu-id="7eae3-300">啟動活動</span><span class="sxs-lookup"><span data-stu-id="7eae3-300">Starting activity</span></span>
<span data-ttu-id="7eae3-301">圖形化 Runbook 會從沒有連入連結的任何活動開始。</span><span class="sxs-lookup"><span data-stu-id="7eae3-301">A graphical runbook will start with any activities that do not have an incoming link.</span></span>  <span data-ttu-id="7eae3-302">通常這是一個活動會當做 hello 啟動 hello runbook 的活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-302">This will often be only one activity which would act as hello starting activity for hello runbook.</span></span>  <span data-ttu-id="7eae3-303">如果多個活動並沒有連入的連結，然後 hello runbook 一開始會以平行方式執行。</span><span class="sxs-lookup"><span data-stu-id="7eae3-303">If multiple activities do not have an incoming link, then hello runbook will start by running them in parallel.</span></span>  <span data-ttu-id="7eae3-304">它會依照 hello 連結 toorun 其他活動完成時每個。</span><span class="sxs-lookup"><span data-stu-id="7eae3-304">It will then follow hello links toorun other activities as each completes.</span></span>

### <a name="conditions"></a><span data-ttu-id="7eae3-305">條件</span><span class="sxs-lookup"><span data-stu-id="7eae3-305">Conditions</span></span>
<span data-ttu-id="7eae3-306">當您在連結上指定條件時，如果 hello 條件解析 tootrue 只執行 hello 目的地活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-306">When you specify a condition on a link, hello destination activity is only run if hello condition resolves tootrue.</span></span>  <span data-ttu-id="7eae3-307">您通常會使用 $ActivityOutput 變數 hello 來源活動的條件 tooretrieve hello 輸出中。</span><span class="sxs-lookup"><span data-stu-id="7eae3-307">You will typically use an $ActivityOutput variable in a condition tooretrieve hello output from hello source activity.</span></span>  

<span data-ttu-id="7eae3-308">管線連結，您指定單一物件、 條件和 hello 條件會評估每個物件輸出 hello 來源活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-308">For a pipeline link, you specify a condition for a single object, and hello condition is evaluated for each object output by hello source activity.</span></span>  <span data-ttu-id="7eae3-309">每個物件符合 hello 條件，接著執行 hello 目的地活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-309">hello destination activity is then run for each object that satisfies hello condition.</span></span>  <span data-ttu-id="7eae3-310">比方說，Get AzureRmVm 來源活動，請使用下列語法的 hello 可用於條件式管線連結 tooretrieve 中的虛擬機器 hello 資源群組名稱只*Group1*。</span><span class="sxs-lookup"><span data-stu-id="7eae3-310">For example, with a source activity of Get-AzureRmVm, hello following syntax could be used for a conditional pipeline link tooretrieve only virtual machines in hello resource group named *Group1*.</span></span>  

    $ActivityOutput['Get Azure VMs'].Name -match "Group1"

<span data-ttu-id="7eae3-311">序列連結 hello 條件只會評估一次因為單一陣列會傳回包含所有的物件輸出 hello 來源活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-311">For a sequence link, hello condition is only evaluated once since a single array is returned containing all objects output from hello source activity.</span></span>  <span data-ttu-id="7eae3-312">因為這個緣故，序列連結不能用於篩選管線連結類似，但是將只會決定要執行 hello 下一個活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-312">Because of this, a sequence link cannot be used for filtering like a pipeline link but will simply determine whether or not hello next activity is run.</span></span> <span data-ttu-id="7eae3-313">採用下列一組活動我們啟動 VM runbook 中的 hello。</span><span class="sxs-lookup"><span data-stu-id="7eae3-313">Take for example hello following set of activities in our Start VM runbook.</span></span><br> <span data-ttu-id="7eae3-314">![具有順序的條件式連結](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span><span class="sxs-lookup"><span data-stu-id="7eae3-314">![Conditional Link with Sequences](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span></span><br>
<span data-ttu-id="7eae3-315">有三個要驗證已提供代表 VM 名稱與資源群組名稱中也就是 hello 適當的動作 tootake 順序 toodetermine tootwo runbook 輸入的參數的值-啟動單一 VM 的不同序列連結、 在 hello 中啟動所有的 Vm資源群組或訂用帳戶中的所有 Vm。</span><span class="sxs-lookup"><span data-stu-id="7eae3-315">There are three different sequence links that are verifying values were provided tootwo runbook input parameters representing VM name and Resource Group name in order toodetermine which is hello appropriate action tootake - start a single VM, start all VMs in hello resouce group, or all VMs in a subscription.</span></span>  <span data-ttu-id="7eae3-316">Hello 序列連線 tooAzure 和取得單一 VM 之間的連結，以下是 hello 條件邏輯：</span><span class="sxs-lookup"><span data-stu-id="7eae3-316">For hello sequence link between Connect tooAzure and Get single VM, here is hello condition logic:</span></span>

    <# 
    Both VMName and ResourceGroupName runbook input parameters have values 
    #>
    (
    (($VMName -ne $null) -and ($VMName.Length -gt 0))
    ) -and (
    (($ResourceGroupName -ne $null) -and ($ResourceGroupName.Length -gt 0))
    )

<span data-ttu-id="7eae3-317">當您使用條件式連結時，提供 hello 來源活動 tooother 活動在該分支中的 hello 資料將會篩選 hello 條件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-317">When you use a conditional link, hello data available from hello source activity tooother activities in that branch will be filtered by hello condition.</span></span>  <span data-ttu-id="7eae3-318">如果活動是 hello 來源 toomultiple 連結，然後 hello 每個分支中的可用 tooactivities 將取決於連接 toothat 分支 hello 連結中的 hello 條件的資料。</span><span class="sxs-lookup"><span data-stu-id="7eae3-318">If an activity is hello source toomultiple links, then hello data available tooactivities in each branch will depend on hello condition in hello link connecting toothat branch.</span></span>

<span data-ttu-id="7eae3-319">例如，hello**開始 AzureRmVm**下方 hello runbook 中的活動開始的所有虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="7eae3-319">For example, hello **Start-AzureRmVm** activity in hello runbook below starts all virtual machines.</span></span>  <span data-ttu-id="7eae3-320">它有兩個條件式連結。</span><span class="sxs-lookup"><span data-stu-id="7eae3-320">It has two conditional links.</span></span>  <span data-ttu-id="7eae3-321">hello 的第一個條件式連結會使用 hello 運算式*$ActivityOutput [' 開始-AzureRmVM']。IsSuccessStatusCode-eq $true* toofilter 如果 hello 開始 AzureRmVm 活動順利完成。</span><span class="sxs-lookup"><span data-stu-id="7eae3-321">hello first conditional link uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true* toofilter if hello Start-AzureRmVm activity completed successfully.</span></span>  <span data-ttu-id="7eae3-322">hello 第二個使用 hello 運算式*$ActivityOutput [' 開始-AzureRmVM']。IsSuccessStatusCode ne $true* toofilter 如果 hello 開始 AzureRmVm 活動失敗 toostart hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="7eae3-322">hello second uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true* toofilter if hello Start-AzureRmVm activity failed toostart hello virtual machine.</span></span>  

![條件式連結範例](media/automation-graphical-authoring-intro/runbook-conditional-links.png)

<span data-ttu-id="7eae3-324">遵循 hello 第一個連結，並使用 Get-azurevm hello 活動輸出的任何活動，才會出現在 hello Get-azurevm 已執行的時間啟動的 hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="7eae3-324">Any activity that follows hello first link and uses hello activity output from Get-AzureVM will only get hello virtual machines that were started at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="7eae3-325">遵循 hello 第二個連結的任何活動，才會出現在 hello Get-azurevm 已執行的時間停止的 hello hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="7eae3-325">Any activity that follows hello second link will only get hello hello virtual machines that were stopped at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="7eae3-326">Hello 第三個連結的任何活動會取得所有虛擬機器，不論其執行狀態。</span><span class="sxs-lookup"><span data-stu-id="7eae3-326">Any activity following hello third link will get all virtual machines regardless of their running state.</span></span>

### <a name="junctions"></a><span data-ttu-id="7eae3-327">接合</span><span class="sxs-lookup"><span data-stu-id="7eae3-327">Junctions</span></span>
<span data-ttu-id="7eae3-328">接合是一個特殊的活動，將會等候直到所有內送的分支完成。</span><span class="sxs-lookup"><span data-stu-id="7eae3-328">A junction is a special activity that will wait until all incoming branches have completed.</span></span>  <span data-ttu-id="7eae3-329">這可讓您 toorun 平行的多個活動，並確保所有已在繼續之前完成。</span><span class="sxs-lookup"><span data-stu-id="7eae3-329">This allows you toorun multiple activities in parallel and ensure that all have completed before moving on.</span></span>

<span data-ttu-id="7eae3-330">雖然接合可以有無限的數量的連入連結，但這些連結只有一個可以是管線。</span><span class="sxs-lookup"><span data-stu-id="7eae3-330">While a junction can have an unlimited number of incoming links, not more than one of those links can be a pipeline.</span></span>  <span data-ttu-id="7eae3-331">hello 傳入順序連結數目，不會受到限制。</span><span class="sxs-lookup"><span data-stu-id="7eae3-331">hello number of incoming sequence links is not constrained.</span></span>  <span data-ttu-id="7eae3-332">您仍能繼續使用多個連入管線連結 toocreate hello 連接點，並儲存 hello runbook 中使用，但是執行時，它將會失敗。</span><span class="sxs-lookup"><span data-stu-id="7eae3-332">You will be allowed toocreate hello junction with multiple incoming pipeline links and save hello runbook, but it will fail when it is run.</span></span>

<span data-ttu-id="7eae3-333">下列 hello 範例是 runbook 啟動虛擬機器的一組同時下載修補程式 toobe 套用 toothose 機器時的一部分。</span><span class="sxs-lookup"><span data-stu-id="7eae3-333">hello example below is part of a runbook that starts a set of virtual machines while simultaneously downloading patches toobe applied toothose machines.</span></span>  <span data-ttu-id="7eae3-334">連接是使用的 tooensure hello runbook 會繼續執行之前，會完成這兩個處理程序。</span><span class="sxs-lookup"><span data-stu-id="7eae3-334">A junction is used tooensure that both processes are completed before hello runbook continues.</span></span>

![接合](media/automation-graphical-authoring-intro/runbook-junction.png)

### <a name="cycles"></a><span data-ttu-id="7eae3-336">循環</span><span class="sxs-lookup"><span data-stu-id="7eae3-336">Cycles</span></span>
<span data-ttu-id="7eae3-337">循環時，目的地活動連結回 tooits 來源活動或 tooanother 活動，最後連結回 tooits 來源。</span><span class="sxs-lookup"><span data-stu-id="7eae3-337">A cycle is when a destination activity links back tooits source activity or tooanother activity that eventually links back tooits source.</span></span>  <span data-ttu-id="7eae3-338">圖形化編寫目前不允許循環。</span><span class="sxs-lookup"><span data-stu-id="7eae3-338">Cycles are currently not allowed in graphical authoring.</span></span>  <span data-ttu-id="7eae3-339">如果您的 Runbook 有循環，它會適當地儲存，但是它執行時會收到錯誤。</span><span class="sxs-lookup"><span data-stu-id="7eae3-339">If your runbook has a cycle, it will save properly but will receive an error when it runs.</span></span>

![循環](media/automation-graphical-authoring-intro/runbook-cycle.png)

### <a name="sharing-data-between-activities"></a><span data-ttu-id="7eae3-341">在活動之間共用資料</span><span class="sxs-lookup"><span data-stu-id="7eae3-341">Sharing data between activities</span></span>
<span data-ttu-id="7eae3-342">連出連結的活動所輸出的任何資料寫入 toohello *databus* hello runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-342">Any data that is output by an activity with an outgoing link is written toohello *databus* for hello runbook.</span></span>  <span data-ttu-id="7eae3-343">Hello runbook 中的任何活動可以 hello databus toopopulate 參數值使用的資料，或包含在指令碼中。</span><span class="sxs-lookup"><span data-stu-id="7eae3-343">Any activity in hello runbook can use data on hello databus toopopulate parameter values or include in script code.</span></span>  <span data-ttu-id="7eae3-344">活動可以存取任何先前的活動 hello 工作流程中的 hello 的輸出。</span><span class="sxs-lookup"><span data-stu-id="7eae3-344">An activity can access hello output of any previous activity in hello workflow.</span></span>     

<span data-ttu-id="7eae3-345">Hello 資料寫入 toohello databus 的方式取決於 hello hello 活動上的連結類型。</span><span class="sxs-lookup"><span data-stu-id="7eae3-345">How hello data is written toohello databus depends on hello type of link on hello activity.</span></span>  <span data-ttu-id="7eae3-346">如**管線**，hello 資料會輸出為多個物件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-346">For a **pipeline**, hello data is output as multiples objects.</span></span>  <span data-ttu-id="7eae3-347">如**順序**連結，hello 資料會輸出為陣列。</span><span class="sxs-lookup"><span data-stu-id="7eae3-347">For a **sequence** link, hello data is output as an array.</span></span>  <span data-ttu-id="7eae3-348">如果只有一個值，則會輸出為單一元素陣列。</span><span class="sxs-lookup"><span data-stu-id="7eae3-348">If there is only one value, it will be output as a single element array.</span></span>

<span data-ttu-id="7eae3-349">您可以存取使用兩種方法之一 hello databus 上的資料。</span><span class="sxs-lookup"><span data-stu-id="7eae3-349">You can access data on hello databus using one of two methods.</span></span>  <span data-ttu-id="7eae3-350">第一次使用**活動輸出**資料來源的 toopopulate 另一個活動的參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-350">First is using an **Activity Output** data source toopopulate a parameter of another activity.</span></span>  <span data-ttu-id="7eae3-351">如果 hello 輸出是物件，您可以指定單一的屬性。</span><span class="sxs-lookup"><span data-stu-id="7eae3-351">If hello output is an object, you can specify a single property.</span></span>

![活動輸出](media/automation-graphical-authoring-intro/activity-output-datasource-revised20165.png)

<span data-ttu-id="7eae3-353">您也可以擷取的活動中的 hello 輸出**PowerShell 運算式**資料來源或從**工作流程指令碼**ActivityOutput 變數包含的活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-353">You can also retrieve hello output of an activity in a **PowerShell Expression** data source or from a **Workflow Script** activity with an ActivityOutput variable.</span></span>  <span data-ttu-id="7eae3-354">如果 hello 輸出是物件，您可以指定單一的屬性。</span><span class="sxs-lookup"><span data-stu-id="7eae3-354">If hello output is an object, you can specify a single property.</span></span>  <span data-ttu-id="7eae3-355">ActivityOutput 變數會使用下列語法的 hello。</span><span class="sxs-lookup"><span data-stu-id="7eae3-355">ActivityOutput variables use hello following syntax.</span></span>

    $ActivityOutput['Activity Label']
    $ActivityOutput['Activity Label'].PropertyName 

### <a name="checkpoints"></a><span data-ttu-id="7eae3-356">檢查點</span><span class="sxs-lookup"><span data-stu-id="7eae3-356">Checkpoints</span></span>
<span data-ttu-id="7eae3-357">您可以在圖形化 PowerShell 工作流程 Runbook 中設定[檢查點](automation-powershell-workflow.md#checkpoints)，方法是在任何活動上選取「檢查點 Runbook」。</span><span class="sxs-lookup"><span data-stu-id="7eae3-357">You can set [checkpoints](automation-powershell-workflow.md#checkpoints) in a Graphical PowerShell Workflow runbook by selecting *Checkpoint runbook* on any activity.</span></span>  <span data-ttu-id="7eae3-358">這會造成檢查點 toobe hello 活動執行後設定。</span><span class="sxs-lookup"><span data-stu-id="7eae3-358">This causes a checkpoint toobe set after hello activity runs.</span></span>

![Checkpoint](media/automation-graphical-authoring-intro/set-checkpoint.png)

<span data-ttu-id="7eae3-360">檢查點只能在圖形化 PowerShell 工作流程 Runbook 中啟用，無法在圖形化 Runbook 中使用。</span><span class="sxs-lookup"><span data-stu-id="7eae3-360">Checkpoints are only enabled in Graphical PowerShell Workflow runbooks, it is not available in Graphical runbooks.</span></span>  <span data-ttu-id="7eae3-361">如果 hello runbook 使用 Azure 指令程式，您應該遵循任何檢查點的活動，具有新增 AzureRMAccount，以防 hello runbook 已暫停，重新啟動從這個檢查點，在不同的背景工作上。</span><span class="sxs-lookup"><span data-stu-id="7eae3-361">If hello runbook uses Azure cmdlets, you should follow any checkpointed activity with an Add-AzureRMAccount in case hello runbook is suspended and restarts from this checkpoint on a different worker.</span></span> 

## <a name="authenticating-tooazure-resources"></a><span data-ttu-id="7eae3-362">驗證 tooAzure 資源</span><span class="sxs-lookup"><span data-stu-id="7eae3-362">Authenticating tooAzure resources</span></span>
<span data-ttu-id="7eae3-363">Azure 自動化中管理的 Azure 資源的 Runbook 將需要驗證 tooAzure。</span><span class="sxs-lookup"><span data-stu-id="7eae3-363">Runbooks in Azure Automation that manage Azure resources will require authentication tooAzure.</span></span>  <span data-ttu-id="7eae3-364">hello[執行身分帳戶](automation-offering-get-started.md#creating-an-automation-account)(也參考的 tooas 服務主體) 是 hello 預設方法 tooaccess 自動化 runbook 您訂用帳戶中的 Azure 資源管理員資源。</span><span class="sxs-lookup"><span data-stu-id="7eae3-364">hello [Run As account](automation-offering-get-started.md#creating-an-automation-account) (also referred tooas a service principal) is hello default method tooaccess Azure Resource Manager resources in your subscription with Automation runbooks.</span></span>  <span data-ttu-id="7eae3-365">您可以新增此功能 tooa 圖形化 runbook 加入 hello **AzureRunAsConnection**連線資產，使用 hello PowerShell [Get-automationconnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet，並[新增 AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello 畫布。</span><span class="sxs-lookup"><span data-stu-id="7eae3-365">You can add this functionality tooa graphical runbook by adding hello **AzureRunAsConnection** Connection asset, which is using hello PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet, and [Add-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello canvas.</span></span> <span data-ttu-id="7eae3-366">Hello 下列範例所示。</span><span class="sxs-lookup"><span data-stu-id="7eae3-366">This is illustrated in hello following example.</span></span><br><span data-ttu-id="7eae3-367">![執行身分驗證活動](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span><span class="sxs-lookup"><span data-stu-id="7eae3-367">![Run As Authentication Activities](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span></span><br>
<span data-ttu-id="7eae3-368">hello 取得執行做為連接活動 (也就是 Get-automationconnection)，設定了名為 AzureRunAsConnection 常數值的資料來源。</span><span class="sxs-lookup"><span data-stu-id="7eae3-368">hello Get Run As Connection activity (i.e. Get-AutomationConnection), is configured with a constant value data source named AzureRunAsConnection.</span></span><br><span data-ttu-id="7eae3-369">![執行身分連線組態](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span><span class="sxs-lookup"><span data-stu-id="7eae3-369">![Run As Connection Configuration](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span></span><br>
<span data-ttu-id="7eae3-370">hello 下一個活動，新增-AzureRmAccount hello runbook 中新增 hello 驗證執行身分帳戶使用。</span><span class="sxs-lookup"><span data-stu-id="7eae3-370">hello next activity, Add-AzureRmAccount, adds hello authenticated Run As account for use in hello runbook.</span></span><br><span data-ttu-id="7eae3-371">
![Add-AzureRmAccount 參數集](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span><span class="sxs-lookup"><span data-stu-id="7eae3-371">
![Add-AzureRmAccount Parameter Set](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span></span><br>
<span data-ttu-id="7eae3-372">Hello 參數**APPLICATIONID**， **CERTIFICATETHUMBPRINT**，和**TENANTID**您將需要 toospecify hello 屬性名稱的 hello hello 欄位路徑，因為hello 活動輸出具有多個屬性的物件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-372">For hello parameters **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, and **TENANTID** you will need toospecify hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>  <span data-ttu-id="7eae3-373">否則，當您執行 hello runbook 時，它將會失敗嘗試 tooauthenticate。</span><span class="sxs-lookup"><span data-stu-id="7eae3-373">Otherwise when you execute hello runbook, it will fail attempting tooauthenticate.</span></span>  <span data-ttu-id="7eae3-374">這是您需要在最小的 tooauthenticate hello 與您的 runbook 執行身分帳戶。</span><span class="sxs-lookup"><span data-stu-id="7eae3-374">This is what you need at a minimum tooauthenticate your runbook with hello Run As account.</span></span>

<span data-ttu-id="7eae3-375">toomaintain 回溯相容性的訂閱者建立自動化帳戶使用[Azure AD 使用者帳戶](automation-create-aduser-account.md)toomanage Azure 傳統部署或 Azure 資源管理員資源的 hello tooauthenticate 方法是與 hello Add-azureaccount cmdlet[認證資產](automation-credentials.md)，代表具有存取 toohello Azure 帳戶的 Active Directory 使用者。</span><span class="sxs-lookup"><span data-stu-id="7eae3-375">toomaintain backwards compatibility for subscribers who have created an Automation account using an [Azure AD User account](automation-create-aduser-account.md) toomanage Azure classic deployment or for Azure Resource Manager resources, hello method tooauthenticate is hello Add-AzureAccount cmdlet with a [credential asset](automation-credentials.md) that represents an Active Directory user with access toohello Azure account.</span></span>

<span data-ttu-id="7eae3-376">您可以加入認證資產 toohello 畫布後面接著 Add-azureaccount 活動來將此功能 tooa 圖形化 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-376">You can add this functionality tooa graphical runbook by adding a credential asset toohello canvas followed by an Add-AzureAccount activity.</span></span>  <span data-ttu-id="7eae3-377">Add-azureaccount 使用其輸入 hello 認證活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-377">Add-AzureAccount uses hello credential activity for its input.</span></span>  <span data-ttu-id="7eae3-378">Hello 下列範例所示。</span><span class="sxs-lookup"><span data-stu-id="7eae3-378">This is illustrated in hello following example.</span></span>

![驗證活動](media/automation-graphical-authoring-intro/authentication-activities.png)

<span data-ttu-id="7eae3-380">您尚未 tooauthenticate 在 hello 開頭 hello runbook 並在每個檢查點之後。</span><span class="sxs-lookup"><span data-stu-id="7eae3-380">You have tooauthenticate at hello start of hello runbook and after each checkpoint.</span></span>  <span data-ttu-id="7eae3-381">這表示在任何 Checkpoint-Workflow 活動之後加入額外的 Add-AzureAccount 活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-381">This means adding an addition Add-AzureAccount activity after any Checkpoint-Workflow activity.</span></span> <span data-ttu-id="7eae3-382">您不需要新增認證活動，因為您可以使用 hello 相同</span><span class="sxs-lookup"><span data-stu-id="7eae3-382">You do not need an addition credential activity since you can use hello same</span></span> 

![活動輸出](media/automation-graphical-authoring-intro/authentication-activity-output.png)

## <a name="runbook-input-and-output"></a><span data-ttu-id="7eae3-384">Runbook 輸入和輸出</span><span class="sxs-lookup"><span data-stu-id="7eae3-384">Runbook input and output</span></span>
### <a name="runbook-input"></a><span data-ttu-id="7eae3-385">Runbook 輸入</span><span class="sxs-lookup"><span data-stu-id="7eae3-385">Runbook input</span></span>
<span data-ttu-id="7eae3-386">如果 hello 目前當做子系啟動 hello runbook 透過 hello Azure 入口網站或從另一個 runbook 時，runbook 可能需要從使用者輸入。</span><span class="sxs-lookup"><span data-stu-id="7eae3-386">A runbook may require input either from a user when they start hello runbook through hello Azure portal or from another runbook if hello current one is used as a child.</span></span>
<span data-ttu-id="7eae3-387">例如，如果您有建立虛擬機器的 runbook，您可能需要 tooprovide 的資訊，例如 hello 名稱 hello 虛擬機器和其他內容每次啟動 hello runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-387">For example, if you have a runbook that creates a virtual machine, you may need tooprovide information such as hello name of hello virtual machine and other properties each time you start hello runbook.</span></span>  

<span data-ttu-id="7eae3-388">您透過定義一或多個輸入參數來接受 Runbook 的輸入。</span><span class="sxs-lookup"><span data-stu-id="7eae3-388">You accept input for a runbook by defining one or more input parameters.</span></span>  <span data-ttu-id="7eae3-389">您為每個時間 hello runbook 啟動這些參數提供值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-389">You provide values for these parameters each time hello runbook is started.</span></span>  <span data-ttu-id="7eae3-390">當您啟動 runbook 以 hello Azure 入口網站時，它會提示您 tooprovide hello 每個 hello runbook 的輸入參數的值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-390">When you start a runbook with hello Azure portal, it will prompt you tooprovide values for hello each of hello runbook's input parameters.</span></span>

<span data-ttu-id="7eae3-391">您可以存取 runbook 的輸入的參數，依序按一下 hello**輸入和輸出**hello runbook 的工具列上的按鈕。</span><span class="sxs-lookup"><span data-stu-id="7eae3-391">You can access input parameters for a runbook by clicking hello **Input and output** button on hello runbook toolbar.</span></span>  

![Runbook 輸入輸出](media/automation-graphical-authoring-intro/runbook-edit-input-output.png) 

<span data-ttu-id="7eae3-393">這會開啟 hello**輸入和輸出**控制項，您可以在此編輯現有的輸入的參數，或按一下 建立新**加入輸入**。</span><span class="sxs-lookup"><span data-stu-id="7eae3-393">This opens hello **Input and Output** control where you can edit an existing input parameter or create a new one by clicking **Add input**.</span></span> 

![加入輸入](media/automation-graphical-authoring-intro/runbook-edit-add-input.png)

<span data-ttu-id="7eae3-395">每個輸入的參數是由 hello 下表中的 hello 屬性所定義。</span><span class="sxs-lookup"><span data-stu-id="7eae3-395">Each input parameter is defined by hello properties in hello following table.</span></span>

| <span data-ttu-id="7eae3-396">屬性</span><span class="sxs-lookup"><span data-stu-id="7eae3-396">Property</span></span> | <span data-ttu-id="7eae3-397">說明</span><span class="sxs-lookup"><span data-stu-id="7eae3-397">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="7eae3-398">名稱</span><span class="sxs-lookup"><span data-stu-id="7eae3-398">Name</span></span> |<span data-ttu-id="7eae3-399">hello 參數 hello 唯一名稱。</span><span class="sxs-lookup"><span data-stu-id="7eae3-399">hello unique name of hello parameter.</span></span>  <span data-ttu-id="7eae3-400">這只能包含數字字元，而且不能包含空格。</span><span class="sxs-lookup"><span data-stu-id="7eae3-400">This can only contain alpha numeric characters and cannot contain a space.</span></span> |
| <span data-ttu-id="7eae3-401">說明</span><span class="sxs-lookup"><span data-stu-id="7eae3-401">Description</span></span> |<span data-ttu-id="7eae3-402">Hello 輸入參數的選擇性描述。</span><span class="sxs-lookup"><span data-stu-id="7eae3-402">An optional description for hello input parameter.</span></span> |
| <span data-ttu-id="7eae3-403">類型</span><span class="sxs-lookup"><span data-stu-id="7eae3-403">Type</span></span> |<span data-ttu-id="7eae3-404">Hello 參數值所預期的資料類型。</span><span class="sxs-lookup"><span data-stu-id="7eae3-404">Data type expected for hello parameter value.</span></span>  <span data-ttu-id="7eae3-405">時提示輸入 hello Azure 入口網站會針對每個參數提供適當的控制項 hello 資料類型。</span><span class="sxs-lookup"><span data-stu-id="7eae3-405">hello Azure portal will provide an appropriate control for hello data type for each parameter when prompting for input.</span></span> |
| <span data-ttu-id="7eae3-406">強制</span><span class="sxs-lookup"><span data-stu-id="7eae3-406">Mandatory</span></span> |<span data-ttu-id="7eae3-407">指定是否必須提供 hello 參數的值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-407">Specifies whether a value must be provided for hello parameter.</span></span>  <span data-ttu-id="7eae3-408">hello runbook 無法啟動，如果您未提供值的每個必要參數，但是沒有定義了預設值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-408">hello runbook cannot be started if you do not provide a value for each mandatory parameter that does not have a default value defined.</span></span> |
| <span data-ttu-id="7eae3-409">預設值</span><span class="sxs-lookup"><span data-stu-id="7eae3-409">Default Value</span></span> |<span data-ttu-id="7eae3-410">指定哪些值用於 hello 參數，如果未提供一個。</span><span class="sxs-lookup"><span data-stu-id="7eae3-410">Specifies what value is used for hello parameter if one is not provided.</span></span>  <span data-ttu-id="7eae3-411">這可以是 Null 或特定值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-411">This can either be Null or a specific value.</span></span> |

### <a name="runbook-output"></a><span data-ttu-id="7eae3-412">Runbook 輸出</span><span class="sxs-lookup"><span data-stu-id="7eae3-412">Runbook output</span></span>
<span data-ttu-id="7eae3-413">連出連結沒有任何活動所建立的資料將會加入 toohello [hello runbook 的輸出](http://msdn.microsoft.com/library/azure/dn879148.aspx)。</span><span class="sxs-lookup"><span data-stu-id="7eae3-413">Data created by any activity that does not have an outgoing link will be added toohello [output of hello runbook](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span></span>  <span data-ttu-id="7eae3-414">hello 輸出儲存與 hello runbook 工作時，則可以使用 tooa 父 runbook hello runbook 可做為子系。</span><span class="sxs-lookup"><span data-stu-id="7eae3-414">hello output is saved with hello runbook job and is available tooa parent runbook when hello runbook is used as a child.</span></span>  

## <a name="powershell-expressions"></a><span data-ttu-id="7eae3-415">PowerShell 運算式</span><span class="sxs-lookup"><span data-stu-id="7eae3-415">PowerShell expressions</span></span>
<span data-ttu-id="7eae3-416">圖形化撰寫 hello 優點之一您提供 hello 能力 toobuild 以 PowerShell 的基本知識的 runbook。</span><span class="sxs-lookup"><span data-stu-id="7eae3-416">One of hello advantages of graphical authoring is providing you with hello ability toobuild a runbook with minimal knowledge of PowerShell.</span></span>  <span data-ttu-id="7eae3-417">目前，您需要使用 tooknow 的位元的 PowerShell 雖然填入某些[參數值](#activities)和設定[連結條件](#links-and-workflow)。</span><span class="sxs-lookup"><span data-stu-id="7eae3-417">Currently, you do need tooknow a bit of PowerShell though for populating certain [parameter values](#activities) and for setting [link conditions](#links-and-workflow).</span></span>  <span data-ttu-id="7eae3-418">本章節提供的快速介紹 tooPowerShell 運算式可能不熟悉它的使用者。</span><span class="sxs-lookup"><span data-stu-id="7eae3-418">This section provides a quick introduction tooPowerShell expressions for those users who may not be familiar with it.</span></span>  <span data-ttu-id="7eae3-419">PowerShell 的完整詳細資料位於 [使用 Windows PowerShell 撰寫指令碼](http://technet.microsoft.com/library/bb978526.aspx)。</span><span class="sxs-lookup"><span data-stu-id="7eae3-419">Full details of PowerShell are available at [Scripting with Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span></span> 

### <a name="powershell-expression-data-source"></a><span data-ttu-id="7eae3-420">PowerShell 運算式資料來源</span><span class="sxs-lookup"><span data-stu-id="7eae3-420">PowerShell expression data source</span></span>
<span data-ttu-id="7eae3-421">您可以使用的 PowerShell 運算式做為資料來源 toopopulate hello 值[活動參數](#activities)hello 一些 PowerShell 程式碼的結果。</span><span class="sxs-lookup"><span data-stu-id="7eae3-421">You can use a PowerShell expression as a data source toopopulate hello value of an [activity parameter](#activities) with hello results of some PowerShell code.</span></span>  <span data-ttu-id="7eae3-422">這可以是執行一些簡單函式的單行程式碼，或執行一些複雜邏輯的多行程式碼。</span><span class="sxs-lookup"><span data-stu-id="7eae3-422">This could be a single line of code that performs some simple function or multiple lines that perform some complex logic.</span></span>  <span data-ttu-id="7eae3-423">任何不是命令的輸出指派 tooa 變數是輸出 toohello 參數值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-423">Any output from a command that is not assigned tooa variable is output toohello parameter value.</span></span> 

<span data-ttu-id="7eae3-424">例如，下列命令的 hello 就能輸出 hello 目前的日期。</span><span class="sxs-lookup"><span data-stu-id="7eae3-424">For example, hello following command would output hello current date.</span></span> 

    Get-Date

<span data-ttu-id="7eae3-425">hello 下列命令建立的字串 hello 從目前的日期並將它指派 tooa 變數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-425">hello following commands build a string from hello current date and assign it tooa variable.</span></span>  <span data-ttu-id="7eae3-426">hello 變數的 hello 內容便會傳送 toohello 輸出</span><span class="sxs-lookup"><span data-stu-id="7eae3-426">hello contents of hello variable are then sent toohello output</span></span> 

    $string = "hello current date is " + (Get-Date)
    $string

<span data-ttu-id="7eae3-427">hello 下列命令目前的日期評估 hello 並傳回指出是否 hello 當天工作日或週末的字串。</span><span class="sxs-lookup"><span data-stu-id="7eae3-427">hello following commands evaluate hello current date and return a string indicating whether hello current day is a weekend or weekday.</span></span> 

    $date = Get-Date
    if (($date.DayOfWeek = "Saturday") -or ($date.DayOfWeek = "Sunday")) { "Weekend" }
    else { "Weekday" }


### <a name="activity-output"></a><span data-ttu-id="7eae3-428">活動輸出</span><span class="sxs-lookup"><span data-stu-id="7eae3-428">Activity output</span></span>
<span data-ttu-id="7eae3-429">toouse hello hello runbook，請使用下列語法的 hello 與使用 hello $ActivityOutput 變數中前一項活動的輸出。</span><span class="sxs-lookup"><span data-stu-id="7eae3-429">toouse hello output from a previous activity in hello runbook, use hello $ActivityOutput variable with hello following syntax.</span></span>

    $ActivityOutput['Activity Label'].PropertyName

<span data-ttu-id="7eae3-430">例如，您可能需要的虛擬機器的 hello 名稱的屬性的活動在此情況下，您可以使用下列運算式 hello。</span><span class="sxs-lookup"><span data-stu-id="7eae3-430">For example, you may have an activity with a property that requires hello name of a virtual machine in which case you could use hello following expression.</span></span>

    $ActivityOutput['Get-AzureVm'].Name

<span data-ttu-id="7eae3-431">如果需要 hello 虛擬機器物件，而不是只屬性，則您的 hello 屬性則會傳回 hello 整個物件使用 hello 語法。</span><span class="sxs-lookup"><span data-stu-id="7eae3-431">If hello property that required hello virtual machine object instead of just a property, then you would return hello entire object using hello following syntax.</span></span>

    $ActivityOutput['Get-AzureVm']

<span data-ttu-id="7eae3-432">您也可以使用更複雜的運算式，例如 hello 下列會串連文字 toohello 虛擬機器名稱中的 hello 輸出的活動。</span><span class="sxs-lookup"><span data-stu-id="7eae3-432">You can also use hello output of an activity in a more complex expression such as hello following that concatenates text toohello virtual machine name.</span></span>

    "hello computer name is " + $ActivityOutput['Get-AzureVm'].Name


### <a name="conditions"></a><span data-ttu-id="7eae3-433">條件</span><span class="sxs-lookup"><span data-stu-id="7eae3-433">Conditions</span></span>
<span data-ttu-id="7eae3-434">使用[比較運算子](https://technet.microsoft.com/library/hh847759.aspx)toocompare 值，或判斷值是否符合指定的模式。</span><span class="sxs-lookup"><span data-stu-id="7eae3-434">Use [comparison operators](https://technet.microsoft.com/library/hh847759.aspx) toocompare values or determine if a value matches a specified pattern.</span></span>  <span data-ttu-id="7eae3-435">比較會傳回 $true 或 $false 的值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-435">A comparison returns a value of either $true or $false.</span></span>

<span data-ttu-id="7eae3-436">例如，下列條件的 hello 決定是否 hello 虛擬機器活動的名稱*Get-azurevm*目前*停止*。</span><span class="sxs-lookup"><span data-stu-id="7eae3-436">For example, hello following condition determines whether hello virtual machine from an activity named *Get-AzureVM* is currently *stopped*.</span></span> 

    $ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped"

<span data-ttu-id="7eae3-437">hello 以下條件會檢查是否 hello 相同的虛擬機器處於任何狀態以外*停止*。</span><span class="sxs-lookup"><span data-stu-id="7eae3-437">hello following condition checks whether hello same virtual machine is in any state other than *stopped*.</span></span>

    $ActivityOutput["Get-AzureVM"].PowerState –ne "Stopped"

<span data-ttu-id="7eae3-438">您可以使用[邏輯運算子](https://technet.microsoft.com/library/hh847789.aspx) (例如 **-and** 或 **-or**) 加入多個條件。</span><span class="sxs-lookup"><span data-stu-id="7eae3-438">You can join multiple conditions using a [logical operator](https://technet.microsoft.com/library/hh847789.aspx) such as **-and** or **-or**.</span></span>  <span data-ttu-id="7eae3-439">例如，hello 下列條件檢查是否 hello hello 前一個範例中的相同虛擬機器的狀態*停止*或*停止*。</span><span class="sxs-lookup"><span data-stu-id="7eae3-439">For example, hello following condition checks whether hello same virtual machine in hello previous example is in a state of *stopped* or *stopping*.</span></span>

    ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped") -or ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopping") 


### <a name="hashtables"></a><span data-ttu-id="7eae3-440">雜湊表</span><span class="sxs-lookup"><span data-stu-id="7eae3-440">Hashtables</span></span>
<span data-ttu-id="7eae3-441">[雜湊表](http://technet.microsoft.com/library/hh847780.aspx) 是傳回一組值時很有用的名稱/值組。</span><span class="sxs-lookup"><span data-stu-id="7eae3-441">[Hashtables](http://technet.microsoft.com/library/hh847780.aspx) are name/value pairs that are useful for returning a set of values.</span></span>  <span data-ttu-id="7eae3-442">某些活動的屬性可能是雜湊表而不是簡單值。</span><span class="sxs-lookup"><span data-stu-id="7eae3-442">Properties for certain activities may expect a hashtable instead of a simple value.</span></span>  <span data-ttu-id="7eae3-443">您可能也會看到如雜湊表稱為 tooas 字典。</span><span class="sxs-lookup"><span data-stu-id="7eae3-443">You may also see as hashtable referred tooas a dictionary.</span></span> 

<span data-ttu-id="7eae3-444">您可以建立雜湊表以 hello，請使用下列語法。</span><span class="sxs-lookup"><span data-stu-id="7eae3-444">You create a hashtable with hello following syntax.</span></span>  <span data-ttu-id="7eae3-445">雜湊表可以包含任意數目的項目，但是每個項目都由一個名稱和值定義。</span><span class="sxs-lookup"><span data-stu-id="7eae3-445">A hashtable can contain any number of entries but each is defined by a name and value.</span></span>

    @{ <name> = <value>; [<name> = <value> ] ...}

<span data-ttu-id="7eae3-446">例如，hello 下列運算式會建立雜湊表 toobe hello 資料來源中用於預期雜湊表值的網際網路搜尋活動參數。</span><span class="sxs-lookup"><span data-stu-id="7eae3-446">For example, hello following expression creates a hashtable toobe used in hello data source for an activity parameter that expected a hashtable with values for an internet search.</span></span>

    $query = "Azure Automation"
    $count = 10
    $h = @{'q'=$query; 'lr'='lang_ja';  'count'=$Count}
    $h

<span data-ttu-id="7eae3-447">hello 下列範例會使用呼叫活動的輸出*取得 Twitter 連接*toopopulate 雜湊表。</span><span class="sxs-lookup"><span data-stu-id="7eae3-447">hello following example uses output from an activity called *Get Twitter Connection* toopopulate a hashtable.</span></span>

    @{'ApiKey'=$ActivityOutput['Get Twitter Connection'].ConsumerAPIKey;
      'ApiSecret'=$ActivityOutput['Get Twitter Connection'].ConsumerAPISecret;
      'AccessToken'=$ActivityOutput['Get Twitter Connection'].AccessToken;
      'AccessTokenSecret'=$ActivityOutput['Get Twitter Connection'].AccessTokenSecret}



## <a name="next-steps"></a><span data-ttu-id="7eae3-448">後續步驟</span><span class="sxs-lookup"><span data-stu-id="7eae3-448">Next Steps</span></span>
* <span data-ttu-id="7eae3-449">tooget 開始使用 PowerShell 工作流程 runbook，請參閱[我的第一個 PowerShell 工作流程 runbook](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="7eae3-449">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 
* <span data-ttu-id="7eae3-450">tooget 開始使用圖形化 runbook，請參閱[我的第一個圖形化 runbook](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="7eae3-450">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="7eae3-451">tooknow 深入了解 runbook 類型、 其優點和限制，請參閱[Azure 自動化 runbook 類型](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="7eae3-451">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="7eae3-452">toounderstand 如何使用 tooauthenticate hello 自動化執行身分帳戶，請參閱[設定 Azure 執行身分帳戶](automation-sec-configure-azure-runas-account.md)</span><span class="sxs-lookup"><span data-stu-id="7eae3-452">toounderstand how tooauthenticate using hello Automation Run As account, see [Configure Azure Run As Account](automation-sec-configure-azure-runas-account.md)</span></span>

