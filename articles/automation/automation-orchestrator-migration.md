---
title: "從 Orchestrator 移轉到 Azure 自動化 |Microsoft Docs"
description: "描述如何將 Runbook 和整合套件從 System Center Orchestrator 移轉到 Azure 自動化。"
services: automation
documentationcenter: 
author: bwren
manager: stevenka
editor: tysonn
ms.assetid: 1a7da58c-7a98-49b5-9d9d-001a9f6e631a
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/09/2016
ms.author: bwren
ms.openlocfilehash: 457888b4d38875b912ad87d44e96ab727e3ee3ee
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="migrating-from-orchestrator-to-azure-automation-beta"></a><span data-ttu-id="23f86-103">從 Orchestrator 移轉到 Azure 自動化 (Beta)</span><span class="sxs-lookup"><span data-stu-id="23f86-103">Migrating from Orchestrator to Azure Automation (Beta)</span></span>
<span data-ttu-id="23f86-104">[System Center Orchestrator](http://technet.microsoft.com/library/hh237242.aspx) 中的 Runbook 是根據來自專為 Orchestrator 編寫的整合套件的活動，而 Azure 自動化中的 Runbook 則是根據 Windows PowerShell。</span><span class="sxs-lookup"><span data-stu-id="23f86-104">Runbooks in [System Center Orchestrator](http://technet.microsoft.com/library/hh237242.aspx) are based on activities from integration packs that are written specifically for Orchestrator while runbooks in Azure Automation are based on Windows PowerShell.</span></span>  <span data-ttu-id="23f86-105">[圖形化 Runbook](automation-runbook-types.md#graphical-runbooks) 外觀都類似 Orchestrator Runbook，其活動代表 PowerShell Cmdlet、子 Runbook 和資產。</span><span class="sxs-lookup"><span data-stu-id="23f86-105">[Graphical runbooks](automation-runbook-types.md#graphical-runbooks) in Azure Automation have a similar appearance to Orchestrator runbooks with their activities representing PowerShell cmdlets, child runbooks, and assets.</span></span>

<span data-ttu-id="23f86-106">[System Center Orchestrator 遷移工具組](http://www.microsoft.com/download/details.aspx?id=47323&WT.mc_id=rss_alldownloads_all) 包含工具，可協助您將 Runbook 從 Orchestrator 轉換成 Azure 自動化。</span><span class="sxs-lookup"><span data-stu-id="23f86-106">The [System Center Orchestrator Migration Toolkit](http://www.microsoft.com/download/details.aspx?id=47323&WT.mc_id=rss_alldownloads_all) includes tools to assist you in converting runbooks from Orchestrator to Azure Automation.</span></span>  <span data-ttu-id="23f86-107">除了轉換 Runbook 本身，您必須將整合模組與 Runbook 用來整合模組與 Windows PowerShell Cmdlet 的活動轉換。</span><span class="sxs-lookup"><span data-stu-id="23f86-107">In addition to converting the runbooks themselves, you must convert the integration packs with the activities that the runbooks use to integration modules with Windows PowerShell cmdlets.</span></span>  

<span data-ttu-id="23f86-108">以下是將 Orchestrator Runbook 轉換為 Azure 自動化的基本程序。</span><span class="sxs-lookup"><span data-stu-id="23f86-108">Following is the basic process for converting Orchestrator runbooks to Azure Automation.</span></span>  <span data-ttu-id="23f86-109">下列各節將詳細說明這些步驟。</span><span class="sxs-lookup"><span data-stu-id="23f86-109">Each of these steps is described in detail in the sections below.</span></span>

1. <span data-ttu-id="23f86-110">下載 [System Center Orchestrator 遷移工具組](http://www.microsoft.com/download/details.aspx?id=47323&WT.mc_id=rss_alldownloads_all) ，其中包含的本文所討論的工具和模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-110">Download the [System Center Orchestrator Migration Toolkit](http://www.microsoft.com/download/details.aspx?id=47323&WT.mc_id=rss_alldownloads_all) which contains the tools and modules discussed in this article.</span></span>
2. <span data-ttu-id="23f86-111">匯入 [標準活動模組](#standard-activities-module) 到 Azure 自動化。</span><span class="sxs-lookup"><span data-stu-id="23f86-111">Import [Standard Activities Module](#standard-activities-module) into Azure Automation.</span></span>  <span data-ttu-id="23f86-112">這包括已轉換的 Runbook 可能使用的標準 Orchestrator 活動的轉換版本。</span><span class="sxs-lookup"><span data-stu-id="23f86-112">This includes converted versions of standard Orchestrator activities that may be used by converted runbooks.</span></span>
3. <span data-ttu-id="23f86-113">針對存取 System Center 的 Runbook 所使用的整合套件，將 [System Center Orchestrator 整合模組](#system-center-orchestrator-integration-modules) 匯入至 Azure 自動化。</span><span class="sxs-lookup"><span data-stu-id="23f86-113">Import [System Center Orchestrator Integration Modules](#system-center-orchestrator-integration-modules) into Azure Automation for those integration packs used by your runbooks that access System Center.</span></span>
4. <span data-ttu-id="23f86-114">使用 [整合套件轉換器](#integration-pack-converter) 轉換自訂和使用協力廠商整合套件，並匯入到 Azure 自動化中。</span><span class="sxs-lookup"><span data-stu-id="23f86-114">Convert custom and third party integration packs using the [Integration Pack Converter](#integration-pack-converter) and import into Azure Automation.</span></span>
5. <span data-ttu-id="23f86-115">使用 [Runbook Converter](#runbook-converter) 轉換 Orchestrator Runbook，並在 Azure 自動化中安裝。</span><span class="sxs-lookup"><span data-stu-id="23f86-115">Convert Orchestrator runbooks using the [Runbook Converter](#runbook-converter) and install in Azure Automation.</span></span>
6. <span data-ttu-id="23f86-116">因為 Runbook Converter不會轉換這些資源，請在 Azure 自動化中手動建立必要的 Orchestrator 資產。</span><span class="sxs-lookup"><span data-stu-id="23f86-116">Manually create required Orchestrator assets in Azure Automation since the Runbook Converter does not convert these resources.</span></span>
7. <span data-ttu-id="23f86-117">在本機的資料中心設定 [Hybrid Runbook Worker](#hybrid-runbook-worker) ，以執行將存取本機資源、經轉換的 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-117">Configure a [Hybrid Runbook Worker](#hybrid-runbook-worker) in your local data center to run converted runbooks that will access local resources.</span></span>

## <a name="service-management-automation"></a><span data-ttu-id="23f86-118">服務管理自動化</span><span class="sxs-lookup"><span data-stu-id="23f86-118">Service Management Automation</span></span>
<span data-ttu-id="23f86-119">[服務管理自動化](http://technet.microsoft.com/library/dn469260.aspx) (SMA) 會在您的本機資料中心 (例如 Orchestrator) 中儲存並執行 Runbook，而它使用與 Azure 自動化相同的整合模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-119">[Service Management Automation](http://technet.microsoft.com/library/dn469260.aspx) (SMA) stores and runs runbooks in your local data center like Orchestrator, and it uses the same integration modules as Azure Automation.</span></span> <span data-ttu-id="23f86-120">[Runbook Converter](#runbook-converter) 會將 Orchestrator Runbook 轉換為圖形化 Runbook，不過 SMA 中並不支援。</span><span class="sxs-lookup"><span data-stu-id="23f86-120">The [Runbook Converter](#runbook-converter) converts Orchestrator runbooks to graphical runbooks though which are not supported in SMA.</span></span>  <span data-ttu-id="23f86-121">您仍然可以將[標準活動模組](#standard-activities-module)和 [System Center Orchestrator 整合模組](#system-center-orchestrator-integration-modules)安裝到 SMA，但是您必須手動[重新編寫您的 Runbook](http://technet.microsoft.com/library/dn469262.aspx)。</span><span class="sxs-lookup"><span data-stu-id="23f86-121">You can still install the [Standard Activities Module](#standard-activities-module) and [System Center Orchestrator Integration Modules](#system-center-orchestrator-integration-modules) into SMA, but you must manually [rewrite your runbooks](http://technet.microsoft.com/library/dn469262.aspx).</span></span>

## <a name="hybrid-runbook-worker"></a><span data-ttu-id="23f86-122">Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="23f86-122">Hybrid Runbook Worker</span></span>
<span data-ttu-id="23f86-123">Orchestrator 中的 Runbook 會儲存在資料庫伺服器上，並在 Runbook 伺服器上執行，都是在本機資料中心中。</span><span class="sxs-lookup"><span data-stu-id="23f86-123">Runbooks in Orchestrator are stored on a database server and run on runbook servers, both in your local data center.</span></span>  <span data-ttu-id="23f86-124">Azure 自動化中的 Runbook 會儲存在 Azure 雲端，也可以在您的本機資料中心使用 [Hybrid Runbook Worker](automation-hybrid-runbook-worker.md)執行。</span><span class="sxs-lookup"><span data-stu-id="23f86-124">Runbooks in Azure Automation are stored in the Azure cloud and can run in your local data center using a [Hybrid Runbook Worker](automation-hybrid-runbook-worker.md).</span></span>  <span data-ttu-id="23f86-125">這是您將通常會執行從 Orchestrator 轉換的 Runbook 的方式，因為它們的設計是用來在本機伺服器上執行的 。</span><span class="sxs-lookup"><span data-stu-id="23f86-125">This is how you will usually run runbooks converted from Orchestrator since they are designed to run on local servers.</span></span>

## <a name="integration-pack-converter"></a><span data-ttu-id="23f86-126">整合套件轉換器</span><span class="sxs-lookup"><span data-stu-id="23f86-126">Integration Pack Converter</span></span>
<span data-ttu-id="23f86-127">「整合套件轉換器」會將使用 [Orchestrator 整合工具組 (OIT)](http://technet.microsoft.com/library/hh855853.aspx) 所建立的整合套件轉換為基於 Windows PowerShell 的整合模組，以便匯入 Azure 自動化或 Service Management Automation 中。</span><span class="sxs-lookup"><span data-stu-id="23f86-127">The Integration Pack Converter converts integration packs that were created using the [Orchestrator Integration Toolkit (OIT)](http://technet.microsoft.com/library/hh855853.aspx) to integration modules based on Windows PowerShell that can be imported into Azure Automation or Service Management Automation.</span></span>  

<span data-ttu-id="23f86-128">執行整合套件轉換器時，您會看到一個精靈，可讓您選取整合套件 (.oip) 檔案。</span><span class="sxs-lookup"><span data-stu-id="23f86-128">When you run the Integration Pack Converter, you are presented with a wizard that will allow you to select an integration pack (.oip) file.</span></span>  <span data-ttu-id="23f86-129">然後精靈會列出該整合套件所包含的活動，並可讓您選取要移轉的項目。</span><span class="sxs-lookup"><span data-stu-id="23f86-129">The wizard then lists the activities included in that integration pack and allows you to select which will be migrated.</span></span>  <span data-ttu-id="23f86-130">完成精靈時，它會建立整合模組，其中包含針對原始整合套件中的每個活動相對應的 Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="23f86-130">When you complete the wizard, it creates an integration module that includes a corresponding cmdlet for each of the activities in the original integration pack.</span></span>

### <a name="parameters"></a><span data-ttu-id="23f86-131">參數</span><span class="sxs-lookup"><span data-stu-id="23f86-131">Parameters</span></span>
<span data-ttu-id="23f86-132">整合套件中的活動的任何屬性都會轉換成整合模組中對應的 Cmdlet 的參數。</span><span class="sxs-lookup"><span data-stu-id="23f86-132">Any properties of an activity in the integration pack are converted to parameters of the corresponding cmdlet in the integration module.</span></span>  <span data-ttu-id="23f86-133">Windows PowerShell Cmdlet 有一組 [一般參數](http://technet.microsoft.com/library/hh847884.aspx) ，可以搭配所有 Cmdlet 使用。</span><span class="sxs-lookup"><span data-stu-id="23f86-133">Windows PowerShell cmdlets have a set of [common parameters](http://technet.microsoft.com/library/hh847884.aspx) that can be used with all cmdlets.</span></span>  <span data-ttu-id="23f86-134">例如，-Verbose 參數會導致 Cmdlet 輸出其工作的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="23f86-134">For example, the -Verbose parameter causes a cmdlet to output detailed information about its operation.</span></span>  <span data-ttu-id="23f86-135">沒有 Cmdlet 可以具有與一般參數同名的參數。</span><span class="sxs-lookup"><span data-stu-id="23f86-135">No cmdlet may have a parameter with the same name as a common parameter.</span></span>  <span data-ttu-id="23f86-136">如果活動具有與一般參數同名的屬性，精靈會提示您為參數提供另一個名稱。</span><span class="sxs-lookup"><span data-stu-id="23f86-136">If an activity does have a property with the same name as a common parameter, the wizard will prompt you to provide another name for the parameter.</span></span>

### <a name="monitor-activities"></a><span data-ttu-id="23f86-137">監視器活動</span><span class="sxs-lookup"><span data-stu-id="23f86-137">Monitor activities</span></span>
<span data-ttu-id="23f86-138">在 Runbook Orchestrator 中監視從 [監視活動](http://technet.microsoft.com/library/hh403827.aspx) 開始，並持續執行等候特定事件叫用。</span><span class="sxs-lookup"><span data-stu-id="23f86-138">Monitor runbooks in Orchestrator start with a [monitor activity](http://technet.microsoft.com/library/hh403827.aspx) and run continuously waiting to be invoked by a particular event.</span></span>  <span data-ttu-id="23f86-139">Azure 自動化不支援監視 Runbook，因此，將不會轉換整合套件中的任何監視活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-139">Azure Automation does not support monitor runbooks, so any monitor activities in the integration pack will not be converted.</span></span>  <span data-ttu-id="23f86-140">相反地，會在監視活動的整合模組中建立預留位置 Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="23f86-140">Instead, a placeholder cmdlet is created in the integration module for the monitor activity.</span></span>  <span data-ttu-id="23f86-141">此 Cmdlet 不具任何功能，但它可讓您安裝使用它的任何轉換的 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-141">This cmdlet has no functionality, but it allows any converted runbook that uses it to be installed.</span></span>  <span data-ttu-id="23f86-142">此 Runbook 將無法在 Azure 自動化中執行，但可加以安裝，使得您可以修改它。</span><span class="sxs-lookup"><span data-stu-id="23f86-142">This runbook will not be able to run in Azure Automation, but it can be installed so that you can modify it.</span></span>

### <a name="integration-packs-that-cannot-be-converted"></a><span data-ttu-id="23f86-143">無法轉換的整合套件</span><span class="sxs-lookup"><span data-stu-id="23f86-143">Integration packs that cannot be converted</span></span>
<span data-ttu-id="23f86-144">未使用 OIT 建立的整合套件，無法使用整合套件轉換器來進行轉換。</span><span class="sxs-lookup"><span data-stu-id="23f86-144">Integration packs that were not created with OIT cannot be converted with the Integration Pack Converter.</span></span> <span data-ttu-id="23f86-145">另外還有一些 Microsoft 提供的整合套件目前無法使用此工具轉換。</span><span class="sxs-lookup"><span data-stu-id="23f86-145">There are also some integration packs provided by Microsoft that cannot currently be converted with this tool.</span></span>  <span data-ttu-id="23f86-146">這些整合套件的已轉換版本已 [提供下載](#system-center-orchestrator-integration-modules) ，使得可以將它們安裝在 Azure 自動化或 Service Management Automation 中。</span><span class="sxs-lookup"><span data-stu-id="23f86-146">Converted versions of these integration packs have been [provided for download](#system-center-orchestrator-integration-modules) so that they can be installed in Azure Automation or Service Management Automation.</span></span>

## <a name="standard-activities-module"></a><span data-ttu-id="23f86-147">標準活動模組</span><span class="sxs-lookup"><span data-stu-id="23f86-147">Standard Activities Module</span></span>
<span data-ttu-id="23f86-148">Orchestrator 包含未包含在整合套件中、但會使用許多 Runbook 的一組 [標準活動](http://technet.microsoft.com/library/hh403832.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="23f86-148">Orchestrator includes a set of [standard activities](http://technet.microsoft.com/library/hh403832.aspx) that are not included in an integration pack but are used by many runbooks.</span></span>  <span data-ttu-id="23f86-149">標準活動模組是包含這些活動的每個對等的 Cmdlet 的整合模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-149">The Standard Activities module is an integration module that includes a cmdlet equivalent for each of these activities.</span></span>  <span data-ttu-id="23f86-150">您必須在匯入使用標準活動的任何轉換的 Runbook 之前，於 Azure 自動化中安裝此整合模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-150">You must install this integration module in Azure Automation before importing any converted runbooks that use a standard activity.</span></span>

<span data-ttu-id="23f86-151">除了支援轉換的 Runbook，標準活動模組中的 Cmdlet 也可由熟悉 Orchestrator 的其他人在 Azure 自動化中建置新的 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-151">In addition to supporting converted runbooks, the cmdlets in the standard activities module can be used by someone familiar with Orchestrator to build new runbooks in Azure Automation.</span></span>  <span data-ttu-id="23f86-152">雖然所有標準活動的功能都可使用 Cmdlet 執行的，它們的運作方式可能不同。</span><span class="sxs-lookup"><span data-stu-id="23f86-152">While the functionality of all of the standard activities can be performed with cmdlets, they may operate differently.</span></span>  <span data-ttu-id="23f86-153">已轉換的標準活動模組中的 Cmdlet 的運作將會與對應的活動相同，並使用相同的參數。</span><span class="sxs-lookup"><span data-stu-id="23f86-153">The cmdlets in the converted standard activities module will work the same as their corresponding activities and use the same parameters.</span></span>  <span data-ttu-id="23f86-154">這可以幫助現有 Orchestrator Runbook 作者轉換至 Azure 自動化 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-154">This can help the existing Orchestrator runbook author in their transition to Azure Automation runbooks.</span></span>

## <a name="system-center-orchestrator-integration-modules"></a><span data-ttu-id="23f86-155">System Center Orchestrator 整合模組</span><span class="sxs-lookup"><span data-stu-id="23f86-155">System Center Orchestrator Integration Modules</span></span>
<span data-ttu-id="23f86-156">Microsoft 提供 [整合套件](http://technet.microsoft.com/library/hh295851.aspx) ，用於建立 Runbook 以自動化 System Center 元件和其他產品。</span><span class="sxs-lookup"><span data-stu-id="23f86-156">Microsoft provides [integration packs](http://technet.microsoft.com/library/hh295851.aspx) for building runbooks to automate System Center components and other products.</span></span>  <span data-ttu-id="23f86-157">這些整合套件有一些目前是基於 OIT，但因為已知的問題，目前無法轉換為整合模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-157">Some of these integration packs are currently based on OIT but cannot currently be converted to integration modules because of known issues.</span></span>  <span data-ttu-id="23f86-158">[System Center Orchestrator 整合模組](https://www.microsoft.com/download/details.aspx?id=49555) 包含這些整合套件的已轉換版本，可以匯入 Azure 自動化和 Service Management Automation 中。</span><span class="sxs-lookup"><span data-stu-id="23f86-158">[System Center Orchestrator Integration Modules](https://www.microsoft.com/download/details.aspx?id=49555) includes converted versions of these integration packs that can be imported into Azure Automation and Service Management Automation.</span></span>  

<span data-ttu-id="23f86-159">在這個工具的 RTM 版本時，將會發行可使用整合套件轉換器轉換、基於 OIT 之整合套件的更新版本。</span><span class="sxs-lookup"><span data-stu-id="23f86-159">By the RTM version of this tool, updated versions of the integration packs based on OIT that can be converted with the Integration Pack Converter will be published.</span></span>  <span data-ttu-id="23f86-160">也會提供指引，協助您使用來自非基於 OIT 之整合套件的活動轉換 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-160">Guidance will also be provided to assist you in converting runbooks using activities from the integration packs not based on OIT.</span></span>

## <a name="runbook-converter"></a><span data-ttu-id="23f86-161">Runbook Converter</span><span class="sxs-lookup"><span data-stu-id="23f86-161">Runbook Converter</span></span>
<span data-ttu-id="23f86-162">Runbook Converter 會將 Orchestrator Runbook 轉換為可以匯入 Azure 自動化的[圖形化 Runbook](automation-runbook-types.md#graphical-runbooks)。</span><span class="sxs-lookup"><span data-stu-id="23f86-162">The Runbook Converter converts Orchestrator runbooks into [graphical runbooks](automation-runbook-types.md#graphical-runbooks) that can be imported into Azure Automation.</span></span>  

<span data-ttu-id="23f86-163">Runbook Converter 會使用可執行轉換、稱為 **ConvertFrom-SCORunbook** 的 Cmdlet 實作為 PowerShell 模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-163">Runbook Converter is implemented as a PowerShell module with a cmdlet called **ConvertFrom-SCORunbook** that performs the conversion.</span></span>  <span data-ttu-id="23f86-164">安裝工具時，它會建立可載入 Cmdlet 的 PowerShell 工作階段的捷徑。</span><span class="sxs-lookup"><span data-stu-id="23f86-164">When you install the tool, it will create a shortcut to a PowerShell session that loads the cmdlet.</span></span>   

<span data-ttu-id="23f86-165">以下是將 Orchestrator Runbook 轉換並匯入 Azure 自動化的基本程序。</span><span class="sxs-lookup"><span data-stu-id="23f86-165">Following is the basic process to convert an Orchestrator runbook and import it into Azure Automation.</span></span>  <span data-ttu-id="23f86-166">以下各節提供使用工具和處理已轉換的 Runbook 的進一步詳細資料。</span><span class="sxs-lookup"><span data-stu-id="23f86-166">The following sections provide further details on using the tool and working with converted runbooks.</span></span>

1. <span data-ttu-id="23f86-167">從 Orchestrator 匯出一或多個 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-167">Export one or more runbooks from Orchestrator.</span></span>
2. <span data-ttu-id="23f86-168">取得 Runbook 中所有活動的整合模組。</span><span class="sxs-lookup"><span data-stu-id="23f86-168">Obtain integration modules for all activities in the runbook.</span></span>
3. <span data-ttu-id="23f86-169">轉換所匯出檔案中的 Orchestrator Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-169">Convert the Orchestrator runbooks in the exported file.</span></span>
4. <span data-ttu-id="23f86-170">檢閱記錄檔中的資訊，以驗證轉換並判斷任何必要的手動工作。</span><span class="sxs-lookup"><span data-stu-id="23f86-170">Review information in logs to validate the conversion and to determine any required manual tasks.</span></span>
5. <span data-ttu-id="23f86-171">將轉換的 Runbook 匯入至 Azure 自動化。</span><span class="sxs-lookup"><span data-stu-id="23f86-171">Import converted runbooks into Azure Automation.</span></span>
6. <span data-ttu-id="23f86-172">在 Azure 自動化中建立任何必要的資產。</span><span class="sxs-lookup"><span data-stu-id="23f86-172">Create any required assets in Azure Automation.</span></span>
7. <span data-ttu-id="23f86-173">在 Azure 自動化中編輯 Runbook，以修改任何所需的活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-173">Edit the runbook in Azure Automation to modify any required activities.</span></span>

### <a name="using-runbook-converter"></a><span data-ttu-id="23f86-174">使用 Runbook Converter</span><span class="sxs-lookup"><span data-stu-id="23f86-174">Using Runbook Converter</span></span>
<span data-ttu-id="23f86-175">**ConvertFrom-SCORunbook** 的語法如下所示：</span><span class="sxs-lookup"><span data-stu-id="23f86-175">The syntax for **ConvertFrom-SCORunbook** is as follows:</span></span>

    ConvertFrom-SCORunbook -RunbookPath <string> -Module <string[]> -OutputFolder <string>

* <span data-ttu-id="23f86-176">RunbookPath - 包含要轉換之 Runbook 的匯出檔案的路徑。</span><span class="sxs-lookup"><span data-stu-id="23f86-176">RunbookPath - Path to the export file containing the runbooks to convert.</span></span>
* <span data-ttu-id="23f86-177">Module - 逗號分隔的整合模組清單，其中包含 Runbook 中的活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-177">Module - Comma delimited list of integration modules containing activities in the runbooks.</span></span>
* <span data-ttu-id="23f86-178">OutputFolder - 建立所轉換圖形的 Runbook 之資料夾的路徑。</span><span class="sxs-lookup"><span data-stu-id="23f86-178">OutputFolder - Path to the folder to create converted graphical runbooks.</span></span>

<span data-ttu-id="23f86-179">下列範例命令會在名為 **MyRunbooks.ois_export** 的匯出檔案中轉換 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-179">The following example command converts the runbooks in an export file called **MyRunbooks.ois_export**.</span></span>  <span data-ttu-id="23f86-180">這些 Runbook 使用 Active Directory 和 Data Protection Manager 整合套件。</span><span class="sxs-lookup"><span data-stu-id="23f86-180">These runbooks use the Active Directory and Data Protection Manager integration packs.</span></span>

    ConvertFrom-SCORunbook -RunbookPath "c:\runbooks\MyRunbooks.ois_export" -Module c:\ip\SystemCenter_IntegrationModule_ActiveDirectory.zip,c:\ip\SystemCenter_IntegrationModule_DPM.zip -OutputFolder "c:\runbooks"


### <a name="log-files"></a><span data-ttu-id="23f86-181">記錄檔</span><span class="sxs-lookup"><span data-stu-id="23f86-181">Log files</span></span>
<span data-ttu-id="23f86-182">Runbook Converter 會在與所轉換的 Runbook 的相同位置中建立下列記錄檔。</span><span class="sxs-lookup"><span data-stu-id="23f86-182">The Runbook Converter will create the following log files in the same location as the converted runbook.</span></span>  <span data-ttu-id="23f86-183">如果檔案已經存在，則會以最後一個轉換的資訊加以複寫。</span><span class="sxs-lookup"><span data-stu-id="23f86-183">If the files already exist, then they will be overwritten with information from the last conversion.</span></span>

| <span data-ttu-id="23f86-184">檔案</span><span class="sxs-lookup"><span data-stu-id="23f86-184">File</span></span> | <span data-ttu-id="23f86-185">內容</span><span class="sxs-lookup"><span data-stu-id="23f86-185">Contents</span></span> |
|:--- |:--- |
| <span data-ttu-id="23f86-186">Runbook Converter - Progress.log</span><span class="sxs-lookup"><span data-stu-id="23f86-186">Runbook Converter - Progress.log</span></span> |<span data-ttu-id="23f86-187">轉換的詳細步驟包括成功轉換的每個活動的資訊，以及未轉換的每個活動的警告。</span><span class="sxs-lookup"><span data-stu-id="23f86-187">Detailed steps of the conversion including information for each activity successfully converted and warning for each activity not converted.</span></span> |
| <span data-ttu-id="23f86-188">Runbook Converter - Summary.log</span><span class="sxs-lookup"><span data-stu-id="23f86-188">Runbook Converter - Summary.log</span></span> |<span data-ttu-id="23f86-189">最後一個轉換的摘要包括任何警告，以及您需要執行的後續工作，例如：建立變數轉換的 Runbook 所需的變數。</span><span class="sxs-lookup"><span data-stu-id="23f86-189">Summary of the last conversion including any warnings and follow up tasks that you need to perform such as creating a variable required for the converted runbook.</span></span> |

### <a name="exporting-runbooks-from-orchestrator"></a><span data-ttu-id="23f86-190">從 Orchestrator 匯出 Runbook</span><span class="sxs-lookup"><span data-stu-id="23f86-190">Exporting runbooks from Orchestrator</span></span>
<span data-ttu-id="23f86-191">Runbook Converter 可與來自包含一或多個 Runbook 的 Orchestrator 匯出檔案搭配使用。</span><span class="sxs-lookup"><span data-stu-id="23f86-191">The Runbook Converter works with an export file from Orchestrator that contains one or more runbooks.</span></span>  <span data-ttu-id="23f86-192">它會為匯出檔案中的每個 Orchestrator Runbook 建立對應的 Azure 自動化 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-192">It will create a corresponding Azure Automation runbook for each Orchestrator runbook in the export file.</span></span>  

<span data-ttu-id="23f86-193">若要從 Orchestrator 匯出 Runbook，請在 Runbook Designer 中的 Runbook 名稱上按一下滑鼠右鍵，然後選取 [匯出] 。</span><span class="sxs-lookup"><span data-stu-id="23f86-193">To export a runbook from Orchestrator, right-click the name of the runbook in Runbook Designer and select **Export**.</span></span>  <span data-ttu-id="23f86-194">若要匯出資料夾中的所有 Runbook，請在資料夾名稱上按一下滑鼠右鍵，並選取 [匯出] 。</span><span class="sxs-lookup"><span data-stu-id="23f86-194">To export all runbooks in a folder, right-click the name of the folder and select **Export**.</span></span>

### <a name="runbook-activities"></a><span data-ttu-id="23f86-195">Runbook 活動</span><span class="sxs-lookup"><span data-stu-id="23f86-195">Runbook activities</span></span>
<span data-ttu-id="23f86-196">Runbook Converter 會將 Orchestrator Runbook 中的每個活動轉換成 Azure 自動化中的對應活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-196">The Runbook Converter converts each activity in the Orchestrator runbook to a corresponding activity in Azure Automation.</span></span>  <span data-ttu-id="23f86-197">針對無法轉換的這些活動，會在 Runbook 中建立預留位置活動，並帶有警告文字。</span><span class="sxs-lookup"><span data-stu-id="23f86-197">For those activities that can't be converted, a placeholder activity is created in the runbook with warning text.</span></span>  <span data-ttu-id="23f86-198">將轉換的 Runbook 匯入 Azure 自動化之後，您必須將這些活動取代為可執行所需功能的有效活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-198">After you import the converted runbook into Azure Automation, you must replace any of these activities with valid activities that perform the required functionality.</span></span>

<span data-ttu-id="23f86-199">將會轉換 [標準活動模組](#standard-activities-module) 中的任何 Orchestrator 活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-199">Any Orchestrator activities in the [Standard Activities Module](#standard-activities-module) will be converted.</span></span>  <span data-ttu-id="23f86-200">不過，在此模組有一些標準 Orchestrator 活動，並不會被轉換。</span><span class="sxs-lookup"><span data-stu-id="23f86-200">There are some standard Orchestrator activities that are not in this module though and are not converted.</span></span>  <span data-ttu-id="23f86-201">例如， **傳送平台事件** 沒有 Azure 自動化對等項目，因為該事件是 Orchestrator 特有。</span><span class="sxs-lookup"><span data-stu-id="23f86-201">For example, **Send Platform Event** has no Azure Automation equivalent since the event is specific to Orchestrator.</span></span>

<span data-ttu-id="23f86-202">[監視器活動](https://technet.microsoft.com/library/hh403827.aspx) ，因為它們在 Azure 自動化中沒有對等項目。</span><span class="sxs-lookup"><span data-stu-id="23f86-202">[Monitor activities](https://technet.microsoft.com/library/hh403827.aspx) are not converted since there is no equivalent to them in Azure Automation.</span></span>  <span data-ttu-id="23f86-203">例外狀況是在 [轉換整合套件](#integration-pack-converter) 中監視活動，將會轉換成預留位置活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-203">The exception are monitor activities in [converted integration packs](#integration-pack-converter) that will be converted to the placeholder activity.</span></span>

<span data-ttu-id="23f86-204">如果您使用 [modules](#integration-pack-converter) 參數提供整合模組路徑，將會轉換來自 **轉換整合套件** 的任何活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-204">Any activity from a [converted integration pack](#integration-pack-converter) will be converted if you provide the path to the integration module with the **modules** parameter.</span></span>  <span data-ttu-id="23f86-205">針對 System Center 整合套件，您可以使用 [System Center Orchestrator 整合模組](#system-center-orchestrator-integration-modules)。</span><span class="sxs-lookup"><span data-stu-id="23f86-205">For System Center Integration Packs, you can use the [System Center Orchestrator Integration Modules](#system-center-orchestrator-integration-modules).</span></span>

### <a name="orchestrator-resources"></a><span data-ttu-id="23f86-206">Orchestrator 資源</span><span class="sxs-lookup"><span data-stu-id="23f86-206">Orchestrator resources</span></span>
<span data-ttu-id="23f86-207">Runbook Converter 只會轉換 Runbook，而不會轉換其他 Orchestrator 資源，例如計數器、變數或連線。</span><span class="sxs-lookup"><span data-stu-id="23f86-207">The Runbook Converter only converts runbooks, not other Orchestrator resources such as counters, variables, or connections.</span></span>  <span data-ttu-id="23f86-208">Azure 自動化中不支援計數器。</span><span class="sxs-lookup"><span data-stu-id="23f86-208">Counters are not supported in Azure Automation.</span></span>  <span data-ttu-id="23f86-209">支援變數和連線，但是您必須手動建立它們。</span><span class="sxs-lookup"><span data-stu-id="23f86-209">Variables and connections are supported, but you must create them manually.</span></span>  <span data-ttu-id="23f86-210">記錄檔將會通知您 Runbook 是否需要這類資源，並指定您需要在 Azure 自動化中建立的對應資源，轉換後的 Runbook 才能正常運作。</span><span class="sxs-lookup"><span data-stu-id="23f86-210">The log files will inform you if the runbook requires such resources and specify corresponding resources that you need to create in Azure Automation for the converted runbook to operate properly.</span></span>

<span data-ttu-id="23f86-211">比方說，Runbook 可能會使用變數來填入活動中的特定值。</span><span class="sxs-lookup"><span data-stu-id="23f86-211">For example, a runbook may use a variable to populate a particular value in an activity.</span></span>  <span data-ttu-id="23f86-212">已轉換的 Runbook 會轉換活動，並以與 Orchestrator 變數名稱相同的名稱指定 Azure 自動化中的變數資產。</span><span class="sxs-lookup"><span data-stu-id="23f86-212">The converted runbook will convert the activity and specify a variable asset in Azure Automation with the same name as the Orchestrator variable.</span></span>  <span data-ttu-id="23f86-213">這會記錄在轉換後建立的檔案 **Runbook Converter - Summary.log** 中。</span><span class="sxs-lookup"><span data-stu-id="23f86-213">This will be noted in the **Runbook Converter - Summary.log** file that is created after the conversion.</span></span>  <span data-ttu-id="23f86-214">在使用 Runbook 之前，您將必須在 Azure 自動化中手動建立此變數資產。</span><span class="sxs-lookup"><span data-stu-id="23f86-214">You will need to manually create this variable asset in Azure Automation before using the runbook.</span></span>

### <a name="input-parameters"></a><span data-ttu-id="23f86-215">輸入參數</span><span class="sxs-lookup"><span data-stu-id="23f86-215">Input parameters</span></span>
<span data-ttu-id="23f86-216">Orchestrator 中的 Runbook 會接受具有 **初始化資料** 活動的輸入參數。</span><span class="sxs-lookup"><span data-stu-id="23f86-216">Runbooks in Orchestrator accept input parameters with the **Initialize Data** activity.</span></span>  <span data-ttu-id="23f86-217">如果要轉換的 Runbook 包含此活動，則會對活動中的每個參數在 Azure 自動化 Runbook 中建立 [輸入參數](automation-graphical-authoring-intro.md#runbook-input-and-output) 。</span><span class="sxs-lookup"><span data-stu-id="23f86-217">If the runbook being converted includes this activity, then an [input parameter](automation-graphical-authoring-intro.md#runbook-input-and-output) in the Azure Automation runbook is created for each parameter in the activity.</span></span>  <span data-ttu-id="23f86-218">在擷取並傳回每個參數的轉換 Runbook 中建立 [工作流程指令碼控制項](automation-graphical-authoring-intro.md#activities) 活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-218">A [Workflow Script control](automation-graphical-authoring-intro.md#activities) activity is created in the converted runbook that retrieves and returns each parameter.</span></span>  <span data-ttu-id="23f86-219">Runbook 中使用輸入參數的任何活動會參照此活動的輸出。</span><span class="sxs-lookup"><span data-stu-id="23f86-219">Any activities in the runbook that use an input parameter refer to the output from this activity.</span></span>

<span data-ttu-id="23f86-220">使用此策略的原因是最能與 Orchestrator Runbook 中的功能對映。</span><span class="sxs-lookup"><span data-stu-id="23f86-220">The reason that this strategy is used is to best mirror the functionality in the Orchestrator runbook.</span></span>  <span data-ttu-id="23f86-221">新圖形化 Runbook 中的活動應該使用 Runbook 輸入資料來源直接參照輸入參數。</span><span class="sxs-lookup"><span data-stu-id="23f86-221">Activities in new graphical runbooks should refer directly to input parameters using a Runbook input data source.</span></span>

### <a name="invoke-runbook-activity"></a><span data-ttu-id="23f86-222">叫用 Runbook 活動</span><span class="sxs-lookup"><span data-stu-id="23f86-222">Invoke Runbook activity</span></span>
<span data-ttu-id="23f86-223">Orchestrator 中的 Runbook 會使用 **叫用 Runbook** 活動來啟動其他 Runbook。</span><span class="sxs-lookup"><span data-stu-id="23f86-223">Runbooks in Orchestrator start other runbooks with the **Invoke Runbook** activity.</span></span> <span data-ttu-id="23f86-224">如果要轉換的 Runbook 包含此活動，並且設定了 **等候完成** 選項，則會為它在轉換後的 Runbook 中建立 Runbook 活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-224">If the runbook being converted includes this activity and the **Wait for completion** option is set, then a runbook activity is created for it in the converted runbook.</span></span>  <span data-ttu-id="23f86-225">如果未設定 [等候完成] 選項，則會建立使用 **Start-AzureAutomationRunbook** 來啟動 Runbook 的工作流程指令碼活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-225">If the **Wait for completion** option is not set, then a Workflow Script activity is created that uses **Start-AzureAutomationRunbook** to start the runbook.</span></span>  <span data-ttu-id="23f86-226">將轉換的 Runbook 匯入 Azure 自動化之後，您必須以活動中指定的資訊修改此活動。</span><span class="sxs-lookup"><span data-stu-id="23f86-226">After you import the converted runbook into Azure Automation, you must modify this activity with the information specified in the activity.</span></span>

## <a name="related-articles"></a><span data-ttu-id="23f86-227">相關文章</span><span class="sxs-lookup"><span data-stu-id="23f86-227">Related articles</span></span>
* [<span data-ttu-id="23f86-228">System Center 2012 - Orchestrator</span><span class="sxs-lookup"><span data-stu-id="23f86-228">System Center 2012 - Orchestrator</span></span>](http://technet.microsoft.com/library/hh237242.aspx)
* [<span data-ttu-id="23f86-229">服務管理自動化</span><span class="sxs-lookup"><span data-stu-id="23f86-229">Service Management Automation</span></span>](https://technet.microsoft.com/library/dn469260.aspx)
* [<span data-ttu-id="23f86-230">Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="23f86-230">Hybrid Runbook Worker</span></span>](automation-hybrid-runbook-worker.md)
* [<span data-ttu-id="23f86-231">Orchestrator 標準活動</span><span class="sxs-lookup"><span data-stu-id="23f86-231">Orchestrator Standard Activities</span></span>](http://technet.microsoft.com/library/hh403832.aspx)
* [<span data-ttu-id="23f86-232">下載 System Center Orchestrator 遷移工具組</span><span class="sxs-lookup"><span data-stu-id="23f86-232">Download System Center Orchestrator Migration Toolkit</span></span>](https://www.microsoft.com/en-us/download/details.aspx?id=47323)
