---
title: "App Service API Apps - 變更的項目 | Microsoft Docs"
description: "了解 Azure App Service 中 API Apps 的新功能"
services: app-service\api
documentationcenter: .net
author: mohitsriv
manager: erikre
editor: tdykstra
ms.assetid: a9b58066-e8fd-48b8-a651-4613b1736433
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2016
ms.author: rachelap
ms.openlocfilehash: e4e25f2cd1d39bb0113e3fe2bc37120f92227b28
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="app-service-api-apps---whats-changed"></a><span data-ttu-id="f464f-103">App Service API Apps - 變更的項目</span><span class="sxs-lookup"><span data-stu-id="f464f-103">App Service API Apps - What's changed</span></span>
<span data-ttu-id="f464f-104">在 2015 年 11 月的 Connect () 事件中， [宣告](https://azure.microsoft.com/blog/azure-app-service-updates-november-2015/)了許多 Azure App Service 的改進功能。</span><span class="sxs-lookup"><span data-stu-id="f464f-104">At the Connect() event in November 2015, a number of improvements to Azure App Service were [announced](https://azure.microsoft.com/blog/azure-app-service-updates-november-2015/).</span></span> <span data-ttu-id="f464f-105">這些改進功能包括 API Apps 的基礎變更，以進一步配合行動和 Web Apps、減少概念計數以及改善部署和執行階段效能。</span><span class="sxs-lookup"><span data-stu-id="f464f-105">These improvements include underlying changes to API Apps to better align with Mobile and Web Apps, reduce concept count and improve deployment and runtime performance.</span></span> <span data-ttu-id="f464f-106">從 2015 年 11 月 30 日起，您使用 Azure 管理入口網站或最新的工具建立的新的 API 應用程式將會反映這些變更。</span><span class="sxs-lookup"><span data-stu-id="f464f-106">Starting November 30, 2015, new API apps you create using the Azure management portal or the latest tooling will reflect these changes.</span></span> <span data-ttu-id="f464f-107">本文說明這些變更，以及如何重新部署現有的應用程式，以充分利用功能。</span><span class="sxs-lookup"><span data-stu-id="f464f-107">This article describes these changes, as well as how to redeploy existing apps to take advantage of the capabilities.</span></span>

## <a name="feature-changes"></a><span data-ttu-id="f464f-108">功能變更</span><span class="sxs-lookup"><span data-stu-id="f464f-108">Feature changes</span></span>
<span data-ttu-id="f464f-109">API Apps 的主要功能 – 驗證、CORS 和 API 中繼資料 – 已直接移至 App Service。</span><span class="sxs-lookup"><span data-stu-id="f464f-109">The key features of API Apps – authentication, CORS and API metadata – have moved directly into App Service.</span></span> <span data-ttu-id="f464f-110">透過這項變更，功能可以跨 Web、行動及 API Apps 使用。</span><span class="sxs-lookup"><span data-stu-id="f464f-110">With this change, the features are available across Web, Mobile and API Apps.</span></span> <span data-ttu-id="f464f-111">事實上，這三個項目共用資源管理員中相同的 **microsoft.web/sites** 資源類型。</span><span class="sxs-lookup"><span data-stu-id="f464f-111">In fact, all three share the same **Microsoft.Web/sites** resource type in Resource Manager.</span></span> <span data-ttu-id="f464f-112">不再需要 API Apps 閘道或隨著 API Apps 提供。</span><span class="sxs-lookup"><span data-stu-id="f464f-112">The API Apps gateway is no longer needed or offered with API Apps.</span></span> <span data-ttu-id="f464f-113">這也讓您可以更輕鬆地使用 Azure API 管理，因為只有單一 API 管理閘道。</span><span class="sxs-lookup"><span data-stu-id="f464f-113">This also makes it easier to use Azure API Management since there will be just the single API Management gateway.</span></span>

![API Apps 概觀](./media/app-service-api-whats-changed/api-apps-overview.png)

<span data-ttu-id="f464f-115">API Apps 更新的主要設計原則是讓您可以使用您選擇的語言，直接帶入您的 API。</span><span class="sxs-lookup"><span data-stu-id="f464f-115">A key design principle with the API Apps update is to enable you to bring your API as is, in your language of choice.</span></span>  <span data-ttu-id="f464f-116">如果您的 API 已經部署為 Web 應用程式或行動應用程式，您不必重新部署應用程式即可充分利用新功能。</span><span class="sxs-lookup"><span data-stu-id="f464f-116">If your API is already deployed as a Web App or Mobile App, you do not have to redeploy your app to take advantage of the new features.</span></span> <span data-ttu-id="f464f-117">如果您目前是在 API Apps 預覽，詳細的移轉指南如下。</span><span class="sxs-lookup"><span data-stu-id="f464f-117">If you are currently on API Apps preview, migration guidance is detailed below.</span></span>

### <a name="authentication"></a><span data-ttu-id="f464f-118">驗證</span><span class="sxs-lookup"><span data-stu-id="f464f-118">Authentication</span></span>
<span data-ttu-id="f464f-119">現有的周全 API Apps 、行動服務/應用程式和 Web Apps 驗證功能已整合，且可在管理入口網站的單一 Azure App Service 驗證刀鋒視窗中使用。</span><span class="sxs-lookup"><span data-stu-id="f464f-119">The existing turnkey API Apps, Mobile Services/Apps and Web Apps authentication features have been unified and are available in a single Azure App Service authentication blade in the management portal.</span></span> <span data-ttu-id="f464f-120">如需 App Service 中驗證服務的簡介，請參閱 [擴充 App Service 驗證/授權](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/)。</span><span class="sxs-lookup"><span data-stu-id="f464f-120">For an introduction to authentication services in App Service, see [Expanding App Service authentication / authorization](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/).</span></span>

<span data-ttu-id="f464f-121">對於 API 案例，有一些相關的新功能：</span><span class="sxs-lookup"><span data-stu-id="f464f-121">For API scenarios, there are a number of relevant new capabilities:</span></span>

* <span data-ttu-id="f464f-122">**支援直接使用 Azure Active Directory**，而不需要用戶端程式碼交換工作階段權杖的 AAD 權杖：您的用戶端可以根據持有人權杖規格，在 Authorization 標頭只包含 AAD 權杖。</span><span class="sxs-lookup"><span data-stu-id="f464f-122">**Support for using Azure Active Directory directly**, without client code having to exchange the AAD token for a session token: Your client can just include the AAD tokens in the Authorization header, according to the bearer token specification.</span></span> <span data-ttu-id="f464f-123">這也表示用戶端或伺服器端上不需要有任何 App Service 專用 SDK。</span><span class="sxs-lookup"><span data-stu-id="f464f-123">This also means no App Service-specific SDK is required on the client or server side.</span></span> 
* <span data-ttu-id="f464f-124">**服務對服務或「內部」存取**：如果您有精靈處理序或某些需要存取沒有介面之 API 的其他用戶端，可以使用 AAD 服務主體來要求權杖，並將它傳遞至 App Service 來驗證您的應用程式。</span><span class="sxs-lookup"><span data-stu-id="f464f-124">**Service-to-service or "Internal" access**: If you have a daemon process or some other client needing access to APIs without an interface, you can request a token using an AAD service principal and pass it to App Service for authentication with your application.</span></span>
* <span data-ttu-id="f464f-125">**延遲授權**：許多應用程式對於應用程式的不同部分有各種不同的存取限制。</span><span class="sxs-lookup"><span data-stu-id="f464f-125">**Deferred authorization**: Many applications have varying access restrictions for different parts of the application.</span></span> <span data-ttu-id="f464f-126">也許您想要讓某些 API 可供公開使用，而有些則需要登入。</span><span class="sxs-lookup"><span data-stu-id="f464f-126">Perhaps you want some APIs to be publicly available, while others require sign-in.</span></span> <span data-ttu-id="f464f-127">原始的驗證/授權功能是孤注一擲，整個網站都需要登入。</span><span class="sxs-lookup"><span data-stu-id="f464f-127">The original Authentication/Authorization feature was all-or-nothing, with the whole site requiring login.</span></span> <span data-ttu-id="f464f-128">此選項仍然存在，但是您也可以選擇允許您的應用程式程式碼在 App Service 驗證使用者之後，呈現存取決策。</span><span class="sxs-lookup"><span data-stu-id="f464f-128">This option still exists, but you can alternatively allow your application code to render access decisions after App Service has authenticated the user.</span></span>

<span data-ttu-id="f464f-129">如需新驗證功能的詳細資訊，請參閱 [Azure App Service 中 API Apps 的驗證和授權](app-service-api-authentication.md)。</span><span class="sxs-lookup"><span data-stu-id="f464f-129">For more information about the new authentication features, see [Authentication and authorization for API Apps in Azure App Service](app-service-api-authentication.md).</span></span> <span data-ttu-id="f464f-130">如需如何將現有 API 應用程式從先前的 API 應用程式模型的轉到新模型的詳細資訊，請參閱本文章稍後的 [移轉現有的 API 應用程式](#migrating-existing-api-apps) 。</span><span class="sxs-lookup"><span data-stu-id="f464f-130">For information about how to migrate existing API apps from the previous API apps model to the new one, see [Migrating existing API apps](#migrating-existing-api-apps) later in this article.</span></span>

### <a name="cors"></a><span data-ttu-id="f464f-131">CORS</span><span class="sxs-lookup"><span data-stu-id="f464f-131">CORS</span></span>
<span data-ttu-id="f464f-132">不是以逗號分隔的 **MS_CrossDomainOrigins** 應用程式設定，現在 Azure 管理入口網站會有一個刀鋒視窗可供設定 CORS。</span><span class="sxs-lookup"><span data-stu-id="f464f-132">Instead of a comma-delimited **MS_CrossDomainOrigins** app setting, there is now a blade in the Azure management portal for configuring CORS.</span></span> <span data-ttu-id="f464f-133">或者，可以使用資源管理員工具，例如 Azure PowerShell、CLI 或 [資源總管](https://resources.azure.com/)來進行設定。</span><span class="sxs-lookup"><span data-stu-id="f464f-133">Alternatively, it can be configured using Resource Manager tooling such as Azure PowerShell, CLI or [Resource Explorer](https://resources.azure.com/).</span></span> <span data-ttu-id="f464f-134">在您的 **&lt;網站名稱&gt;/web** 資源的 **Microsoft.Web/sites/config**資源類型上設定 **cors** 屬性。</span><span class="sxs-lookup"><span data-stu-id="f464f-134">Set the **cors** property on the **Microsoft.Web/sites/config** resource type for your **&lt;site name&gt;/web** resource.</span></span> <span data-ttu-id="f464f-135">例如：</span><span class="sxs-lookup"><span data-stu-id="f464f-135">For example:</span></span>

    {
        "cors": {
            "allowedOrigins": [
                "https://localhost:44300"
            ]
        }
    } 

### <a name="api-metadata"></a><span data-ttu-id="f464f-136">API 中繼資料</span><span class="sxs-lookup"><span data-stu-id="f464f-136">API metadata</span></span>
<span data-ttu-id="f464f-137">API 定義刀鋒視窗可以透過 Web、行動及 API Apps 使用。</span><span class="sxs-lookup"><span data-stu-id="f464f-137">The API definition blade is now available across Web, Mobile and API Apps.</span></span> <span data-ttu-id="f464f-138">在管理入口網站中，您可以指定相對 URL，或是指向主控您的 API 的 Swagger 2.0 表示端點的絕對 URL。</span><span class="sxs-lookup"><span data-stu-id="f464f-138">In the management portal, you can specify either a relative url or an absolute url pointing to an endpoint that hosts a Swagger 2.0 representation of your API.</span></span> <span data-ttu-id="f464f-139">或者，可以使用資源管理員工具進行設定。</span><span class="sxs-lookup"><span data-stu-id="f464f-139">Alternatively, it can be configured using Resource Manager tooling.</span></span> <span data-ttu-id="f464f-140">在您的 **&lt;網站名稱&gt;/web** 資源的 **Microsoft.Web/sites/config**資源類型上設定 **apiDefinition** 屬性。</span><span class="sxs-lookup"><span data-stu-id="f464f-140">Set the **apiDefinition** property on the **Microsoft.Web/sites/config** resource type for your **&lt;site name&gt;/web** resource.</span></span> <span data-ttu-id="f464f-141">例如：</span><span class="sxs-lookup"><span data-stu-id="f464f-141">For example:</span></span>

    {
        "apiDefinition":
        {
            "url": "https://myStorageAccount.blob.core.windows.net/swagger/apiDefinition.json"
        }
    }

<span data-ttu-id="f464f-142">目前，對於許多下游用戶端，中繼資料端點必須不經過驗證即可公開存取 (例如 Visual Studio REST API 用戶端產生和 PowerApps「新增 API」流程) 來使用它。</span><span class="sxs-lookup"><span data-stu-id="f464f-142">At this time, the metadata endpoint needs to be publicly accessible without authentication for many downstream clients (e.g. Visual Studio REST API client generation and PowerApps "Add API" flow) to consume it.</span></span> <span data-ttu-id="f464f-143">這表示如果您使用 App Service 驗證，而且想要從應用程式本身公開 API 定義，您必須使用先前所述的「延遲驗證」選項，讓您的 Swagger 中繼資料的路由是公開的。</span><span class="sxs-lookup"><span data-stu-id="f464f-143">This does mean if you are using App Service authentication and want to expose the API definition from within your app itself, you will need to use the Deferred Authentication option described earlier so that the route to your Swagger metadata is public.</span></span>

## <a name="management-portal"></a><span data-ttu-id="f464f-144">管理入口網站</span><span class="sxs-lookup"><span data-stu-id="f464f-144">Management Portal</span></span>
<span data-ttu-id="f464f-145">在入口網站中選取 [新增] > [Web + 行動] > [API 應用程式]，將會建立 API 應用程式，反映本文所述的功能。</span><span class="sxs-lookup"><span data-stu-id="f464f-145">Selecting **New > Web + Mobile > API App** in the portal will create API apps that reflect the new capabilities described in the article.</span></span> <span data-ttu-id="f464f-146">[瀏覽] > [API Apps] 只會顯示這些新的 API 應用程式。</span><span class="sxs-lookup"><span data-stu-id="f464f-146">**Browse > API Apps** will only show these new API apps.</span></span> <span data-ttu-id="f464f-147">一旦您瀏覽至 API 應用程式，刀鋒視窗會共用與 Web Apps 和 Mobile Apps 的刀鋒視窗相同的配置和功能。</span><span class="sxs-lookup"><span data-stu-id="f464f-147">Once you browse into an API app, the blade shares the same layout and capabilities as those of Web and Mobile Apps.</span></span> <span data-ttu-id="f464f-148">唯一差異是快速入門內容和設定順序。</span><span class="sxs-lookup"><span data-stu-id="f464f-148">The only differences are quickstart content and ordering of settings.</span></span>

<span data-ttu-id="f464f-149">現有的 API 應用程式 (或從 Logic Apps 建立的 Marketplace API 應用程式) 與先前的預覽功能仍會在 Logic Apps 設計工具中以及於瀏覽資源群組中的所有資源時顯示。</span><span class="sxs-lookup"><span data-stu-id="f464f-149">Existing API apps (or Marketplace API apps created from Logic Apps) with the previous Preview capabilities will still be visible in the Logic Apps designer and when browsing all resources in a resource group.</span></span>

## <a name="visual-studio"></a><span data-ttu-id="f464f-150">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f464f-150">Visual Studio</span></span>
<span data-ttu-id="f464f-151">大部分的 Web Apps 工具將會使用新的 API 應用程式，因為它們會共用相同的基礎 **Microsoft.Web/sites** 資源類型。</span><span class="sxs-lookup"><span data-stu-id="f464f-151">Most Web Apps tooling will work with new API apps since they share the same underlying **Microsoft.Web/sites** resource type.</span></span> <span data-ttu-id="f464f-152">但是，Azure Visual Studio 工具應該升級為版本 2.8.1 或更新版本，因為它會公開一些特定的 API 功能。</span><span class="sxs-lookup"><span data-stu-id="f464f-152">The Azure Visual Studio tooling, however, should be upgraded to version 2.8.1 or later since it exposes a number of capabilities specific to APIs.</span></span> <span data-ttu-id="f464f-153">從 [Azure 下載頁面](https://azure.microsoft.com/downloads/)下載 SDK。</span><span class="sxs-lookup"><span data-stu-id="f464f-153">Download the SDK from the [Azure downloads page](https://azure.microsoft.com/downloads/).</span></span>

<span data-ttu-id="f464f-154">隨著 App Service 類型的合理化，發佈也會在 [發佈] > [Microsoft Azure App Service] 底下統一：</span><span class="sxs-lookup"><span data-stu-id="f464f-154">With the rationalization of the App Service types, publish is also unified under **Publish > Microsoft Azure App Service**:</span></span>

![API Apps 發佈](./media/app-service-api-whats-changed/api-apps-publish.png)

<span data-ttu-id="f464f-156">若要深入了解 SDK 2.8.1，請閱讀公告 [部落格文章](https://azure.microsoft.com/blog/announcing-azure-sdk-2-8-1-for-net/)。</span><span class="sxs-lookup"><span data-stu-id="f464f-156">To learn more about SDK 2.8.1, read the announcement [blog post](https://azure.microsoft.com/blog/announcing-azure-sdk-2-8-1-for-net/).</span></span>

<span data-ttu-id="f464f-157">或者，您可以從管理入口網站手動匯入發佈設定檔以啟用發佈。</span><span class="sxs-lookup"><span data-stu-id="f464f-157">Alternatively, you can manually import the publish profile from the management portal to enable publish.</span></span> <span data-ttu-id="f464f-158">不過，雲端總管、程式碼產生和 API 應用程式選取/建立需要 SDK 2.8.1 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="f464f-158">However, Cloud Explorer, code generation and API app selection/creation will require SDK 2.8.1 or higher.</span></span>

## <a name="migrating-existing-api-apps"></a><span data-ttu-id="f464f-159">移轉現有的 API 應用程式</span><span class="sxs-lookup"><span data-stu-id="f464f-159">Migrating existing API apps</span></span>
<span data-ttu-id="f464f-160">如果您的自訂 API 部署至先前預覽版本的 API Apps，我們要求您在 2015 年 12 月 31 日之前移轉至新的 API Apps 模型。</span><span class="sxs-lookup"><span data-stu-id="f464f-160">If your custom API is deployed to the previous Preview version of API Apps, we request that you migrate to the new model for API Apps by December 31, 2015.</span></span> <span data-ttu-id="f464f-161">因為舊的和新的模型都是根據 App Service 中裝載的 Web API，所以大部分現有的程式碼都可以重複使用。</span><span class="sxs-lookup"><span data-stu-id="f464f-161">Since both the old and new model are based on Web APIs hosted in App Service, the majority of existing code can be reused.</span></span>

### <a name="hosting-and-redeployment"></a><span data-ttu-id="f464f-162">裝載和重新部署</span><span class="sxs-lookup"><span data-stu-id="f464f-162">Hosting and redeployment</span></span>
<span data-ttu-id="f464f-163">重新部署的步驟與將任何現有的 Web API 部署到 App Service 的步驟相同。</span><span class="sxs-lookup"><span data-stu-id="f464f-163">The steps for redeploying are the same as deploying any existing Web API to App Service.</span></span> <span data-ttu-id="f464f-164">步驟：</span><span class="sxs-lookup"><span data-stu-id="f464f-164">Steps:</span></span>

1. <span data-ttu-id="f464f-165">建立空的 API 應用程式。</span><span class="sxs-lookup"><span data-stu-id="f464f-165">Create an empty API app.</span></span> <span data-ttu-id="f464f-166">做法是在入口網站中使用 [新增] > [API 應用程式]，在 Visual Studio 中使用 [發佈]，或使用資源管理員工具。</span><span class="sxs-lookup"><span data-stu-id="f464f-166">This can be done in the portal with New > API App, in Visual Studio from publish, or from Resource Manager tooling.</span></span> <span data-ttu-id="f464f-167">如果是使用 Resource Manager 工具或範本，請在 **Microsoft.Web/sites** 資源類型上將 [種類] 值設為 **api**，使管理入口網站中的快速入門和設定都偏向 API 案例。</span><span class="sxs-lookup"><span data-stu-id="f464f-167">If using Resource Manager tooling or templates, set the **kind** value to **api** on the **Microsoft.Web/sites** resource type to have the quickstarts and settings in the management portal oriented towards API scenarios.</span></span>
2. <span data-ttu-id="f464f-168">使用 App Service 支援的任何部署機制，連接及部署專案到空的 API 應用程式。</span><span class="sxs-lookup"><span data-stu-id="f464f-168">Connect and deploy your project to the empty API app using any of the deployment mechanisms supported by App Service.</span></span> <span data-ttu-id="f464f-169">如需詳細資訊，請參閱 [Azure App Service 部署文件](../app-service-web/web-sites-deploy.md) 。</span><span class="sxs-lookup"><span data-stu-id="f464f-169">Read [Azure App Service deployment documentation](../app-service-web/web-sites-deploy.md) to learn more.</span></span> 

### <a name="authentication"></a><span data-ttu-id="f464f-170">驗證</span><span class="sxs-lookup"><span data-stu-id="f464f-170">Authentication</span></span>
<span data-ttu-id="f464f-171">App Service 驗證服務支援相同的功能，這些功能可用於先前的 API 應用程式模型。</span><span class="sxs-lookup"><span data-stu-id="f464f-171">The App Service authentication services support the same capabilities that were available with the previous API Apps model.</span></span> <span data-ttu-id="f464f-172">如果您使用工作階段權杖並且需要 SDK，請使用下列用戶端與伺服器 SDK：</span><span class="sxs-lookup"><span data-stu-id="f464f-172">If you are using session tokens and require SDKs, use the following client and server SDKs:</span></span>

* <span data-ttu-id="f464f-173">用戶端： [Azure 行動用戶端 SDK](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/)</span><span class="sxs-lookup"><span data-stu-id="f464f-173">Client: [Azure Mobile Client SDK](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/)</span></span>
* <span data-ttu-id="f464f-174">伺服器： [Microsoft Azure 行動應用程式 .NET 驗證延伸模組](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Server.Authentication/)</span><span class="sxs-lookup"><span data-stu-id="f464f-174">Server: [Microsoft Azure Mobile App .NET Authentication Extension](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Server.Authentication/)</span></span> 

<span data-ttu-id="f464f-175">如果您改為使用 App Service  alpha SDK，這些項目目前已被取代：</span><span class="sxs-lookup"><span data-stu-id="f464f-175">If you were instead using the App Service alpha SDKs, these are now deprecated:</span></span>

* <span data-ttu-id="f464f-176">用戶端： [Microsoft Azure AppService SDK](http://www.nuget.org/packages/Microsoft.Azure.AppService)</span><span class="sxs-lookup"><span data-stu-id="f464f-176">Client: [Microsoft Azure AppService SDK](http://www.nuget.org/packages/Microsoft.Azure.AppService)</span></span>
* <span data-ttu-id="f464f-177">伺服器： [Microsoft.Azure.AppService.ApiApps.Service](http://www.nuget.org/packages/Microsoft.Azure.AppService.ApiApps.Service)</span><span class="sxs-lookup"><span data-stu-id="f464f-177">Server: [Microsoft.Azure.AppService.ApiApps.Service](http://www.nuget.org/packages/Microsoft.Azure.AppService.ApiApps.Service)</span></span>

<span data-ttu-id="f464f-178">但是，特別是使用 Azure Active Directory，如果您直接使用 AAD 權杖，則不需要任何 App Service 特定項目。</span><span class="sxs-lookup"><span data-stu-id="f464f-178">In particular with Azure Active Directory, however, no App Service-specific is required if you are using the AAD token directly.</span></span>

### <a name="internal-access"></a><span data-ttu-id="f464f-179">內部存取</span><span class="sxs-lookup"><span data-stu-id="f464f-179">Internal access</span></span>
<span data-ttu-id="f464f-180">先前的 API Apps 模型包含內建內部存取層級。</span><span class="sxs-lookup"><span data-stu-id="f464f-180">The previous API Apps model included a built-in internal access level.</span></span> <span data-ttu-id="f464f-181">這需要使用 SDK 來簽署要求。</span><span class="sxs-lookup"><span data-stu-id="f464f-181">This required use of the SDK for signing requests.</span></span> <span data-ttu-id="f464f-182">如先前所述，使用新的 API Apps 模型，AAD 服務主體可以做為服務對服務驗證的替代，而不用要求 App Service 特定 SDK。</span><span class="sxs-lookup"><span data-stu-id="f464f-182">As described earlier, with the new API Apps model, AAD service principals can be used as an alternate for service-to-service authentication without requiring an App Service-specific SDK.</span></span> <span data-ttu-id="f464f-183">在 [在 Azure App Service 中 API Apps 的服務主體驗證](app-service-api-dotnet-service-principal-auth.md)中深入了解。</span><span class="sxs-lookup"><span data-stu-id="f464f-183">Learn more in [Service principal authentication for API Apps in Azure App Service](app-service-api-dotnet-service-principal-auth.md).</span></span>

### <a name="discovery"></a><span data-ttu-id="f464f-184">探索</span><span class="sxs-lookup"><span data-stu-id="f464f-184">Discovery</span></span>
<span data-ttu-id="f464f-185">先前的 API Apps 模型具有 API，在相同閘道後方的相同資源群組中的執行階段，探索其他 API 應用程式。</span><span class="sxs-lookup"><span data-stu-id="f464f-185">The previous API Apps model had APIs for discovering other API apps at runtime in the same resource group behind the same gateway.</span></span> <span data-ttu-id="f464f-186">這在實作微服務模式的架構中特別有用。</span><span class="sxs-lookup"><span data-stu-id="f464f-186">This is especially useful in architectures that implement microservice patterns.</span></span> <span data-ttu-id="f464f-187">雖然不直接支援，但是有許多選項可用：</span><span class="sxs-lookup"><span data-stu-id="f464f-187">While this is not directly supported, a number of options are available:</span></span>

1. <span data-ttu-id="f464f-188">使用 Azure 資源管理員 API 進行探索。</span><span class="sxs-lookup"><span data-stu-id="f464f-188">Use the Azure Resource Manager API's for discovery.</span></span>
2. <span data-ttu-id="f464f-189">將 Azure API 管理放在您的 App Service 裝載 API 的前面。</span><span class="sxs-lookup"><span data-stu-id="f464f-189">Put Azure API Management in front of your App Service-hosted APIs.</span></span> <span data-ttu-id="f464f-190">Azure API 管理做為外觀，可以提供穩定的對外 URL，即使您的內部拓撲變更。</span><span class="sxs-lookup"><span data-stu-id="f464f-190">Azure API Management serves as a facade and can provide a stable external facing url even if you internal topology changes.</span></span>
3. <span data-ttu-id="f464f-191">建置您自己的探索 API 應用程式，並且讓其他 API 應用程式在啟動時註冊探索應用程式。</span><span class="sxs-lookup"><span data-stu-id="f464f-191">Build your own discovery API app and have other API apps register with the discovery app on startup.</span></span>
4. <span data-ttu-id="f464f-192">在部署階段，以其他 API 應用程式的端點填入所有 API 應用程式 (和用戶端) 的應用程式設定。</span><span class="sxs-lookup"><span data-stu-id="f464f-192">At deployment time, populate the app settings of all the API apps (and clients) with the endpoints of the other API apps.</span></span> <span data-ttu-id="f464f-193">這是可行的範本部署，因為 API Apps 現在提供您 URL 的控制權。</span><span class="sxs-lookup"><span data-stu-id="f464f-193">This is viable in template deployments and since API Apps now give you control of the url.</span></span>

## <a name="using-api-apps-with-logic-apps"></a><span data-ttu-id="f464f-194">搭配使用 API Apps 與 Logic Apps</span><span class="sxs-lookup"><span data-stu-id="f464f-194">Using API Apps with Logic Apps</span></span>
<span data-ttu-id="f464f-195">新的 API 應用程式模型非常適合 [結Logic Apps 構描述版本 2015-08-01](../logic-apps/logic-apps-schema-2015-08-01.md)。</span><span class="sxs-lookup"><span data-stu-id="f464f-195">The new API apps model works well with [Logic Apps schema version 2015-08-01](../logic-apps/logic-apps-schema-2015-08-01.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="f464f-196">後續步驟</span><span class="sxs-lookup"><span data-stu-id="f464f-196">Next Steps</span></span>
<span data-ttu-id="f464f-197">若要深入了解，請參閱 [API Apps 文件小節](https://azure.microsoft.com/documentation/services/app-service/api/)中的文章。</span><span class="sxs-lookup"><span data-stu-id="f464f-197">To learn more, read the articles in the [API Apps Documentation section](https://azure.microsoft.com/documentation/services/app-service/api/).</span></span> <span data-ttu-id="f464f-198">這些文章已更新以反映 API Apps 的新模型。</span><span class="sxs-lookup"><span data-stu-id="f464f-198">They have been updated to reflect the new model for API Apps.</span></span> <span data-ttu-id="f464f-199">此外，務必造訪論壇以取得其他詳細資料或移轉的指引：</span><span class="sxs-lookup"><span data-stu-id="f464f-199">In addition, do reach out on the forums for additional details or guidance on migration:</span></span>

* [<span data-ttu-id="f464f-200">MSDN 論壇</span><span class="sxs-lookup"><span data-stu-id="f464f-200">MSDN forum</span></span>](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureAPIApps)
* [<span data-ttu-id="f464f-201">Stack Overflow</span><span class="sxs-lookup"><span data-stu-id="f464f-201">Stack Overflow</span></span>](http://stackoverflow.com/questions/tagged/azure-api-apps)

