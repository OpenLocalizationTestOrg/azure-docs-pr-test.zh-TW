---
title: "aaaMove 資料 tooan Azure SQL Database 的 Azure Machine Learning |Microsoft 文件"
description: "建立 SQL 資料表並載入資料 tooSQL 資料表"
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 50f8b862-4d32-44b2-a1e2-4fbc8024acaa
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: b33ef836f42c17a56794baf763281e9998b16bef
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="move-data-tooan-azure-sql-database-for-azure-machine-learning"></a><span data-ttu-id="e0aaf-103">移動資料 tooan Azure Machine Learning 的 Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="e0aaf-103">Move data tooan Azure SQL Database for Azure Machine Learning</span></span>
<span data-ttu-id="e0aaf-104">本主題概述 hello 選項移動資料，從一般檔案 （CSV 或 TSV 格式），或是從儲存在內部部署 SQL Server tooan Azure SQL database 中的資料。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-104">This topic outlines hello options for moving data either from flat files (CSV or TSV formats) or from data stored in an on-premises SQL Server tooan Azure SQL database.</span></span> <span data-ttu-id="e0aaf-105">移動資料 toohello 雲端這些工作是 hello 資料科學的小組流程的一部分。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-105">These tasks for moving data toohello cloud are part of hello Team Data Science Process.</span></span>

<span data-ttu-id="e0aaf-106">主題會概述移動資料 tooan hello 選項在內部部署 SQL Server 機器學習，請參閱[移動 Azure 的虛擬機器上的資料 tooSQL 伺服器](machine-learning-data-science-move-sql-server-virtual-machine.md)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-106">For a topic that outlines hello options for moving data tooan on-premises SQL Server for Machine Learning, see [Move data tooSQL Server on an Azure virtual machine](machine-learning-data-science-move-sql-server-virtual-machine.md).</span></span>

<span data-ttu-id="e0aaf-107">hello 下列**功能表**連結 tootopics 描述 tooingest 資料可以儲存和處理期間 hello 資料的目標環境 hello 小組資料科學程序 (TDSP) 的方式。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-107">hello following **menu** links tootopics that describe how tooingest data into target environments where hello data can be stored and processed during hello Team Data Science Process (TDSP).</span></span>

[!INCLUDE [cap-ingest-data-selector](../../includes/cap-ingest-data-selector.md)]

<span data-ttu-id="e0aaf-108">hello 下表摘要列出 hello 選項移動資料 tooan Azure SQL Database。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-108">hello following table summarizes hello options for moving data tooan Azure SQL Database.</span></span>

| <span data-ttu-id="e0aaf-109"><b>來源</b></span><span class="sxs-lookup"><span data-stu-id="e0aaf-109"><b>SOURCE</b></span></span> | <span data-ttu-id="e0aaf-110"><b>目的地：Azure SQL Database</b></span><span class="sxs-lookup"><span data-stu-id="e0aaf-110"><b>DESTINATION: Azure SQL Database</b></span></span> |
| --- | --- |
| <span data-ttu-id="e0aaf-111"><b>一般檔案 (CSV 或 TSV 格式)</b></span><span class="sxs-lookup"><span data-stu-id="e0aaf-111"><b>Flat file (CSV or TSV formatted)</b></span></span> |<span data-ttu-id="e0aaf-112"><a href="#bulk-insert-sql-query">大量插入 SQL 查詢</span><span class="sxs-lookup"><span data-stu-id="e0aaf-112"><a href="#bulk-insert-sql-query">Bulk Insert SQL Query</span></span> |
| <span data-ttu-id="e0aaf-113"><b>內部部署 SQL Server</b></span><span class="sxs-lookup"><span data-stu-id="e0aaf-113"><b>On-premises SQL Server</b></span></span> |<span data-ttu-id="e0aaf-114">1.<a href="#export-flat-file">匯出 tooFlat 檔案</span><span class="sxs-lookup"><span data-stu-id="e0aaf-114">1. <a href="#export-flat-file">Export tooFlat File</span></span><br> <span data-ttu-id="e0aaf-115">2.<a href="#insert-tables-bcp">SQL Database 移轉精靈</span><span class="sxs-lookup"><span data-stu-id="e0aaf-115">2. <a href="#insert-tables-bcp">SQL Database Migration Wizard</span></span><br> <span data-ttu-id="e0aaf-116">3.<a href="#db-migration">資料庫備份和還原</span><span class="sxs-lookup"><span data-stu-id="e0aaf-116">3. <a href="#db-migration">Database back up and restore</span></span><br> <span data-ttu-id="e0aaf-117">4.<a href="#adf">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="e0aaf-117">4. <a href="#adf">Azure Data Factory</span></span> |

## <span data-ttu-id="e0aaf-118"><a name="prereqs"></a>必要條件</span><span class="sxs-lookup"><span data-stu-id="e0aaf-118"><a name="prereqs"></a>Prerequisites</span></span>
<span data-ttu-id="e0aaf-119">hello 此處概述的程序需要您具備：</span><span class="sxs-lookup"><span data-stu-id="e0aaf-119">hello procedures outlined here require that you have:</span></span>

* <span data-ttu-id="e0aaf-120">**Azure 訂用帳戶**。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-120">An **Azure subscription**.</span></span> <span data-ttu-id="e0aaf-121">如果您沒有訂用帳戶，可以註冊 [免費試用](https://azure.microsoft.com/pricing/free-trial/)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-121">If you do not have a subscription, you can sign up for a [free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="e0aaf-122">**Azure 儲存體帳戶**。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-122">An **Azure storage account**.</span></span> <span data-ttu-id="e0aaf-123">您可以使用 Azure 儲存體帳戶將 hello 資料儲存在本教學課程。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-123">You use an Azure storage account for storing hello data in this tutorial.</span></span> <span data-ttu-id="e0aaf-124">如果您沒有 Azure 儲存體帳戶，請參閱 hello[建立儲存體帳戶](../storage/common/storage-create-storage-account.md#create-a-storage-account)發行項。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-124">If you don't have an Azure storage account, see hello [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) article.</span></span> <span data-ttu-id="e0aaf-125">建立 hello 儲存體帳戶之後，您會需要 tooobtain hello 帳戶使用 tooaccess hello 儲存體金鑰。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-125">After you have created hello storage account, you need tooobtain hello account key used tooaccess hello storage.</span></span> <span data-ttu-id="e0aaf-126">請參閱 [管理儲存體存取金鑰](../storage/common/storage-create-storage-account.md#manage-your-storage-access-keys)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-126">See [Manage your storage access keys](../storage/common/storage-create-storage-account.md#manage-your-storage-access-keys).</span></span>
* <span data-ttu-id="e0aaf-127">存取 tooan **Azure SQL Database**。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-127">Access tooan **Azure SQL Database**.</span></span> <span data-ttu-id="e0aaf-128">如果您必須設定 Azure SQL Database，[開始使用 Microsoft Azure SQL Database](../sql-database/sql-database-get-started.md)如何提供有關 tooprovision Azure SQL Database 的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-128">If you must set up an Azure SQL Database, [Getting Started with Microsoft Azure SQL Database](../sql-database/sql-database-get-started.md) provides information on how tooprovision a new instance of an Azure SQL Database.</span></span>
* <span data-ttu-id="e0aaf-129">已在本機上安裝和設定 **Azure PowerShell** 。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-129">Installed and configured **Azure PowerShell** locally.</span></span> <span data-ttu-id="e0aaf-130">如需指示，請參閱[如何 tooinstall 和設定 Azure PowerShell](/powershell/azure/overview)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-130">For instructions, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="e0aaf-131">**資料**: hello 移轉程序會示範使用 hello [NYC 計程車資料集](http://chriswhong.com/open-data/foil_nyc_taxi/)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-131">**Data**: hello migration processes are demonstrated using hello [NYC Taxi dataset](http://chriswhong.com/open-data/foil_nyc_taxi/).</span></span> <span data-ttu-id="e0aaf-132">hello NYC 計程車資料集包含路線資料和 fairs 的相關資訊，並可以在 Azure blob 儲存體： [NYC 計程車資料](http://www.andresmh.com/nyctaxitrips/)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-132">hello NYC Taxi dataset contains information on trip data and fairs and is available on Azure blob storage: [NYC Taxi Data](http://www.andresmh.com/nyctaxitrips/).</span></span> <span data-ttu-id="e0aaf-133">這些檔案的範例和說明都會在 [NYC 計程車車程資料集說明](machine-learning-data-science-process-sql-walkthrough.md#dataset)中提供。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-133">A sample and description of these files are provided in [NYC Taxi Trips Dataset Description](machine-learning-data-science-process-sql-walkthrough.md#dataset).</span></span>

<span data-ttu-id="e0aaf-134">您可以調整 hello 程序所述的這裡 tooa 組自己的資料，或者遵循 hello 步驟所述使用 hello NYC 計程車資料集。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-134">You can either adapt hello procedures described here tooa set of your own data or follow hello steps as described by using hello NYC Taxi dataset.</span></span> <span data-ttu-id="e0aaf-135">tooupload hello NYC 計程車資料集在內部部署 SQL Server 資料庫，請遵循 hello 程序中所述[大量匯入資料到 SQL Server 資料庫](machine-learning-data-science-process-sql-walkthrough.md#dbload)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-135">tooupload hello NYC Taxi dataset into your on-premises SQL Server database, follow hello procedure outlined in [Bulk Import Data into SQL Server Database](machine-learning-data-science-process-sql-walkthrough.md#dbload).</span></span> <span data-ttu-id="e0aaf-136">這些指示適用於 SQL Server 在 Azure 虛擬機器上，但是 hello 程序上傳內部部署 SQL Server 是的 toohello hello 相同。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-136">These instructions are for a SQL Server on an Azure Virtual Machine, but hello procedure for uploading toohello on-premises SQL Server is hello same.</span></span>

## <span data-ttu-id="e0aaf-137"><a name="file-to-azure-sql-database"></a>將資料從一般檔案來源 tooan Azure SQL database</span><span class="sxs-lookup"><span data-stu-id="e0aaf-137"><a name="file-to-azure-sql-database"></a> Moving data from a flat file source tooan Azure SQL database</span></span>
<span data-ttu-id="e0aaf-138">一般檔案 （CSV 或 TSV 格式） 中的資料可以是移動的 tooan Azure SQL database 使用大量插入 SQL 查詢。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-138">Data in flat files (CSV or TSV formatted) can be moved tooan Azure SQL database using a Bulk Insert SQL Query.</span></span>

### <span data-ttu-id="e0aaf-139"><a name="bulk-insert-sql-query"></a> 大量插入 SQL 查詢</span><span class="sxs-lookup"><span data-stu-id="e0aaf-139"><a name="bulk-insert-sql-query"></a> Bulk Insert SQL Query</span></span>
<span data-ttu-id="e0aaf-140">hello 程序中使用 hello 大量插入的 SQL 查詢的 hello 步驟都類似 toothose hello Azure VM 上，從一般檔案來源 tooSQL 伺服器移動資料的各節涵蓋。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-140">hello steps for hello procedure using hello Bulk Insert SQL Query are similar toothose covered in hello sections for moving data from a flat file source tooSQL Server on an Azure VM.</span></span> <span data-ttu-id="e0aaf-141">如需詳細資料，請參閱 [大量插入 SQL 查詢](machine-learning-data-science-move-sql-server-virtual-machine.md#insert-tables-bulkquery)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-141">For details, see [Bulk Insert SQL Query](machine-learning-data-science-move-sql-server-virtual-machine.md#insert-tables-bulkquery).</span></span>

## <span data-ttu-id="e0aaf-142"><a name="sql-on-prem-to-sazure-sql-database"></a>將資料從內部部署 SQL Server tooan Azure SQL database</span><span class="sxs-lookup"><span data-stu-id="e0aaf-142"><a name="sql-on-prem-to-sazure-sql-database"></a> Moving Data from on-premises SQL Server tooan Azure SQL database</span></span>
<span data-ttu-id="e0aaf-143">如果 hello 來源資料儲存在內部部署 SQL Server 中，有移動 hello 資料 tooan Azure SQL database 的各種可能性：</span><span class="sxs-lookup"><span data-stu-id="e0aaf-143">If hello source data is stored in an on-premises SQL Server, there are various possibilities for moving hello data tooan Azure SQL database:</span></span>

1. [<span data-ttu-id="e0aaf-144">匯出 tooFlat 檔案</span><span class="sxs-lookup"><span data-stu-id="e0aaf-144">Export tooFlat File</span></span>](#export-flat-file)
2. [<span data-ttu-id="e0aaf-145">SQL Database 移轉精靈</span><span class="sxs-lookup"><span data-stu-id="e0aaf-145">SQL Database Migration Wizard</span></span>](#insert-tables-bcp)
3. [<span data-ttu-id="e0aaf-146">資料庫備份和還原</span><span class="sxs-lookup"><span data-stu-id="e0aaf-146">Database back up and restore</span></span>](#db-migration)
4. [<span data-ttu-id="e0aaf-147">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="e0aaf-147">Azure Data Factory</span></span>](#adf)

<span data-ttu-id="e0aaf-148">hello hello 前三個步驟是非常類似 toothose 區段中的[移動 Azure 的虛擬機器上的資料 tooSQL 伺服器](machine-learning-data-science-move-sql-server-virtual-machine.md)涵蓋這些相同的程序。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-148">hello steps for hello first three are very similar toothose sections in [Move data tooSQL Server on an Azure virtual machine](machine-learning-data-science-move-sql-server-virtual-machine.md) that cover these same procedures.</span></span> <span data-ttu-id="e0aaf-149">下列指示的 hello 提供的連結 toohello 適當章節的主題。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-149">Links toohello appropriate sections in that topic are provided in hello following instructions.</span></span>

### <span data-ttu-id="e0aaf-150"><a name="export-flat-file"></a>匯出 tooFlat 檔案</span><span class="sxs-lookup"><span data-stu-id="e0aaf-150"><a name="export-flat-file"></a>Export tooFlat File</span></span>
<span data-ttu-id="e0aaf-151">此匯出的 tooa 一般檔案的 hello 步驟如下所述的類似 toothose[匯出 tooFlat 檔案](machine-learning-data-science-move-sql-server-virtual-machine.md#export-flat-file)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-151">hello steps for this exporting tooa flat file are similar toothose covered in [Export tooFlat File](machine-learning-data-science-move-sql-server-virtual-machine.md#export-flat-file).</span></span>

### <span data-ttu-id="e0aaf-152"><a name="insert-tables-bcp"></a>SQL Database 移轉精靈</span><span class="sxs-lookup"><span data-stu-id="e0aaf-152"><a name="insert-tables-bcp"></a>SQL Database Migration Wizard</span></span>
<span data-ttu-id="e0aaf-153">hello 使用 hello SQL Database 移轉精靈的步驟會在涵蓋的類似 toothose [SQL Database 移轉精靈](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-migration)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-153">hello steps for using hello SQL Database Migration Wizard are similar toothose covered in [SQL Database Migration Wizard](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-migration).</span></span>

### <span data-ttu-id="e0aaf-154"><a name="db-migration"></a>資料庫備份和還原</span><span class="sxs-lookup"><span data-stu-id="e0aaf-154"><a name="db-migration"></a>Database back up and restore</span></span>
<span data-ttu-id="e0aaf-155">hello 步驟，使用資料庫備份和還原所涵蓋的類似 toothose[資料庫備份和還原](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-backup)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-155">hello steps for using database back up and restore are similar toothose covered in [Database back up and restore](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-backup).</span></span>

### <span data-ttu-id="e0aaf-156"><a name="adf"></a>Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="e0aaf-156"><a name="adf"></a>Azure Data Factory</span></span>
<span data-ttu-id="e0aaf-157">hello 主題會提供移動資料 tooan Azure SQL database 與 Azure 資料處理站 (ADF) 中的 hello 程序[將資料從內部部署 SQL server tooSQL Azure 與 Azure Data Factory 移](machine-learning-data-science-move-sql-azure-adf.md)。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-157">hello procedure for moving data tooan Azure SQL database with Azure Data Factory (ADF) is provided in hello topic [Move data from an on-premises SQL server tooSQL Azure with Azure Data Factory](machine-learning-data-science-move-sql-azure-adf.md).</span></span> <span data-ttu-id="e0aaf-158">本主題說明如何 toomove 資料從內部部署 SQL Server 資料庫 tooan Azure SQL 資料庫透過 Azure Blob 儲存體使用 ADF。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-158">This topic shows how toomove data from an on-premises SQL Server database tooan Azure SQL database via Azure Blob Storage using ADF.</span></span>

<span data-ttu-id="e0aaf-159">請考慮使用 ADF 資料需求 toobe 持續移轉中存取這兩個內部部署混合式案例時，雲端資源，也 hello 資料會進行交易，或需要時 toobe 修改或商務邏輯加入 tooit 時移轉。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-159">Consider using ADF when data needs toobe continually migrated in a hybrid scenario that accesses both on-premises and cloud resources, and when hello data is transacted or needs toobe modified or have business logic added tooit when being migrated.</span></span> <span data-ttu-id="e0aaf-160">ADF 允許 hello 排程和監視使用簡單的 JSON 指令碼管理 hello 定期執行的資料移動作業。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-160">ADF allows for hello scheduling and monitoring of jobs using simple JSON scripts that manage hello movement of data on a periodic basis.</span></span> <span data-ttu-id="e0aaf-161">ADF 也有其他功能，例如支援複雜作業。</span><span class="sxs-lookup"><span data-stu-id="e0aaf-161">ADF also has other capabilities such as support for complex operations.</span></span>
