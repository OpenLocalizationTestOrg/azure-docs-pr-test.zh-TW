---
title: "Azure Machine Learning 異常偵測 API | Microsoft Docs"
description: "「異常偵測 API」是一個搭配 Microsoft Azure Machine Learning 建置的範例，此 API 使用固定時間間隔的數值，偵測時間序列資料中的異常狀況。"
services: machine-learning
documentationcenter: 
author: alokkirpal
manager: jhubbard
editor: cgronlun
ms.assetid: 52fafe1f-e93d-47df-a8ac-9a9a53b60824
ms.service: machine-learning
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 06/05/2017
ms.author: alok;rotimpe
ms.openlocfilehash: 5ddc02905fbb7f9f7c5deb9b970101788d824642
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="machine-learning-anomaly-detection-api"></a><span data-ttu-id="3ed58-103">Machine Learning 異常偵測 API</span><span class="sxs-lookup"><span data-stu-id="3ed58-103">Machine Learning Anomaly Detection API</span></span>
## <a name="overview"></a><span data-ttu-id="3ed58-104">概觀</span><span class="sxs-lookup"><span data-stu-id="3ed58-104">Overview</span></span>
<span data-ttu-id="3ed58-105">[異常偵測 API](https://gallery.cortanaintelligence.com/MachineLearningAPI/Anomaly-Detection-2) 是一個搭配 Azure Machine Learning 建置的範例，此 API 使用固定時間間隔的數值，偵測時間序列資料中的異常狀況。</span><span class="sxs-lookup"><span data-stu-id="3ed58-105">[Anomaly Detection API](https://gallery.cortanaintelligence.com/MachineLearningAPI/Anomaly-Detection-2) is an example built with Azure Machine Learning that detects anomalies in time series data with numerical values that are uniformly spaced in time.</span></span>

<span data-ttu-id="3ed58-106">此 API 可偵測時間序列資料的下列異常模式類型︰</span><span class="sxs-lookup"><span data-stu-id="3ed58-106">This API can detect the following types of anomalous patterns in time series data:</span></span>

* <span data-ttu-id="3ed58-107">**正向和負向趨勢**：例如，在監視運算中所使用的記憶體數量時，趨勢向上可能會引起您的注意，因為這可能表示有記憶體流失。</span><span class="sxs-lookup"><span data-stu-id="3ed58-107">**Positive and negative trends**: For example, when monitoring memory usage in computing an upward trend may be of interest as it may be indicative of a memory leak,</span></span>
* <span data-ttu-id="3ed58-108">**動態範圍值有所變更**：例如，在監視雲端服務所擲回的例外狀況時，若動態範圍值有任何變更，可能表示服務的健康狀態不穩定。</span><span class="sxs-lookup"><span data-stu-id="3ed58-108">**Changes in the dynamic range of values**: For example, when monitoring the exceptions thrown by a cloud service, any changes in the dynamic range of values could indicate instability in the health of the service, and</span></span>
* <span data-ttu-id="3ed58-109">**尖峰和下降**：例如，在監視服務的登入失敗數目或電子商務網站的結帳數目時，若有尖峰或下降可能表示發生異常行為。</span><span class="sxs-lookup"><span data-stu-id="3ed58-109">**Spikes and Dips**: For example, when monitoring the number of login failures in a service or number of checkouts in an e-commerce site, spikes or dips could indicate abnormal behavior.</span></span>

<span data-ttu-id="3ed58-110">這些 Machine Learning 偵測器會追蹤數值在不同時間所發生的這一類變化，並以異常分數的形式報告數值正在進行的變化。</span><span class="sxs-lookup"><span data-stu-id="3ed58-110">These machine learning detectors track such changes in values over time and report ongoing changes in their values as anomaly scores.</span></span> <span data-ttu-id="3ed58-111">它們不需要臨機操作調整臨界值，而且其分數可用來控制偽陽性率。</span><span class="sxs-lookup"><span data-stu-id="3ed58-111">They do not require adhoc threshold tuning and their scores can be used to control false positive rate.</span></span> <span data-ttu-id="3ed58-112">異常偵測 API 可用在許多案例，例如追蹤不同時間的 KPI 以監視服務、透過搜尋次數、點擊次數等度量來監視使用量、透過不同時間的記憶體、CPU、檔案讀取數等計數器來監視效能。</span><span class="sxs-lookup"><span data-stu-id="3ed58-112">The anomaly detection API is useful in several scenarios like service monitoring by tracking KPIs over time, usage monitoring through metrics such as number of searches, numbers of clicks, performance monitoring through counters like memory, CPU, file reads, etc. over time.</span></span>

<span data-ttu-id="3ed58-113">異常偵測在供應時會隨附有用的工具以讓您快速入門。</span><span class="sxs-lookup"><span data-stu-id="3ed58-113">The Anomaly Detection offering comes with useful tools to get you started.</span></span>

* <span data-ttu-id="3ed58-114">[Web 應用程式](http://anomalydetection-aml.azurewebsites.net/) 可協助您評估和視覺化將異常偵測 API 套用在您的資料後所產生的結果。</span><span class="sxs-lookup"><span data-stu-id="3ed58-114">The [web application](http://anomalydetection-aml.azurewebsites.net/) helps you evaluate and visualize the results of anomaly detection APIs on your data.</span></span>

> [!NOTE]
> <span data-ttu-id="3ed58-115">請嘗試採用[這個 API](https://gallery.cortanaintelligence.com/MachineLearningAPI/Anomaly-Detection-2) 的 **IT 異常洞察解決方案**</span><span class="sxs-lookup"><span data-stu-id="3ed58-115">Try **IT Anomaly Insights solution** powered by [this API](https://gallery.cortanaintelligence.com/MachineLearningAPI/Anomaly-Detection-2)</span></span>
> 
> <span data-ttu-id="3ed58-116">若要將這個端對端解決方案部署到您的 Azure 訂用帳戶，請<a href="https://gallery.cortanaintelligence.com/Solution/Anomaly-Detection-Pre-Configured-Solution-1" target="_blank">**從這裡開始 >**</a></span><span class="sxs-lookup"><span data-stu-id="3ed58-116">To get this end to end solution deployed to your Azure subscription <a href="https://gallery.cortanaintelligence.com/Solution/Anomaly-Detection-Pre-Configured-Solution-1" target="_blank">**Start here >**</a></span></span>
> 
>

## <a name="api-deployment"></a><span data-ttu-id="3ed58-117">API 部署</span><span class="sxs-lookup"><span data-stu-id="3ed58-117">API Deployment</span></span>
<span data-ttu-id="3ed58-118">若要使用 API，您必須將它部署到 Azure 訂用帳戶，以在其中裝載成 Azure Machine Learning Web 服務。</span><span class="sxs-lookup"><span data-stu-id="3ed58-118">In order to use the API, you must deploy it to your Azure subscription where it will be hosted as an Azure Machine Learning web service.</span></span>  <span data-ttu-id="3ed58-119">您可以從 [Cortana Intelligence Gallery](https://gallery.cortanaintelligence.com/MachineLearningAPI/Anomaly-Detection-2) 執行此作業。</span><span class="sxs-lookup"><span data-stu-id="3ed58-119">You can do this from the [Cortana Intelligence Gallery](https://gallery.cortanaintelligence.com/MachineLearningAPI/Anomaly-Detection-2).</span></span>  <span data-ttu-id="3ed58-120">這會將兩個 AzureML Web 服務 (與其相關的資源) 部署到您的 Azure 訂用帳戶 - 一個用於異常偵測 (含季節性偵測)，另一個則不含季節性偵測。</span><span class="sxs-lookup"><span data-stu-id="3ed58-120">This will deploy two AzureML Web Services (and their related resources) to your Azure subscription - one for anomaly detection with seasonality detection, and one without seasonality detection.</span></span>  <span data-ttu-id="3ed58-121">部署完成後，您就能夠從 [AzureML Web 服務](https://services.azureml.net/webservices/)頁面管理您的 API。</span><span class="sxs-lookup"><span data-stu-id="3ed58-121">Once the deployment has completed, you will be able to manage your APIs from the [AzureML web services](https://services.azureml.net/webservices/) page.</span></span>  <span data-ttu-id="3ed58-122">從這個頁面，您可以找到您的端點位置、API 金鑰，以及用於呼叫 API 的範例程式碼。</span><span class="sxs-lookup"><span data-stu-id="3ed58-122">From this page, you will be able to find your endpoint locations, API keys, as well as sample code for calling the API.</span></span>  <span data-ttu-id="3ed58-123">在[這裡](https://docs.microsoft.com/en-us/azure/machine-learning/machine-learning-manage-new-webservice)可取得更詳細的指示。</span><span class="sxs-lookup"><span data-stu-id="3ed58-123">More detailed instructions are available [here](https://docs.microsoft.com/en-us/azure/machine-learning/machine-learning-manage-new-webservice).</span></span>

## <a name="scaling-the-api"></a><span data-ttu-id="3ed58-124">調整 API</span><span class="sxs-lookup"><span data-stu-id="3ed58-124">Scaling the API</span></span>
<span data-ttu-id="3ed58-125">根據預設，部署將有免費的開發/測試計費方案，其中包括 1,000 筆交易/月和 2 個計算時數/月。</span><span class="sxs-lookup"><span data-stu-id="3ed58-125">By default, your deployment will have a free Dev/Test billing plan which includes 1,000 transactions/month and 2 compute hours/month.</span></span>  <span data-ttu-id="3ed58-126">根據您的需求，您可以升級到另一個方案。</span><span class="sxs-lookup"><span data-stu-id="3ed58-126">You can upgrade to another plan as per your needs.</span></span>  <span data-ttu-id="3ed58-127">在[這裡](https://azure.microsoft.com/en-us/pricing/details/machine-learning/) (「生產 Web API 價格」之下) 可取得不同方案的價格詳細資料。</span><span class="sxs-lookup"><span data-stu-id="3ed58-127">Details on the pricing of different plans are available [here](https://azure.microsoft.com/en-us/pricing/details/machine-learning/) under "Production Web API pricing".</span></span>

## <a name="managing-aml-plans"></a><span data-ttu-id="3ed58-128">管理 AML 方案</span><span class="sxs-lookup"><span data-stu-id="3ed58-128">Managing AML Plans</span></span> 
<span data-ttu-id="3ed58-129">您可以在[這裡](https://services.azureml.net/plans/)管理您的計費方案。</span><span class="sxs-lookup"><span data-stu-id="3ed58-129">You can manage your billing plan [here](https://services.azureml.net/plans/).</span></span>  <span data-ttu-id="3ed58-130">方案名稱會以您在部署 API 時選擇的資源群組名稱為主，加上您的訂用帳戶中的唯一字串。</span><span class="sxs-lookup"><span data-stu-id="3ed58-130">The plan name will be based on the resource group name you chose when deploying the API, plus a string that is unique to your subscription.</span></span>  <span data-ttu-id="3ed58-131">在[這裡](https://docs.microsoft.com/en-us/azure/machine-learning/machine-learning-manage-new-webservice) (「管理計費方案」一節之下) 可取得有關如何升級方案的指示。</span><span class="sxs-lookup"><span data-stu-id="3ed58-131">Instructions on how to upgrade your plan are available [here](https://docs.microsoft.com/en-us/azure/machine-learning/machine-learning-manage-new-webservice) under the "Managing billing plans" section.</span></span>

## <a name="api-definition"></a><span data-ttu-id="3ed58-132">API 定義</span><span class="sxs-lookup"><span data-stu-id="3ed58-132">API Definition</span></span>
<span data-ttu-id="3ed58-133">Web 服務提供透過 HTTPS 的 REST 型 API，可以各種不同方式使用，包括 Web 或行動應用程式、R、Python、Excel 等等。您可以透過 REST API 呼叫將您的時間序列資料傳送到此服務，它會執行上述三個異常類型的組合。</span><span class="sxs-lookup"><span data-stu-id="3ed58-133">The web service provides a REST-based API over HTTPS that can be consumed in different ways including a web or mobile application, R, Python, Excel, etc.  You send your time series data to this service via a REST API call, and it runs a combination of the three anomaly types described below.</span></span>

## <a name="calling-the-api"></a><span data-ttu-id="3ed58-134">呼叫 API</span><span class="sxs-lookup"><span data-stu-id="3ed58-134">Calling the API</span></span>
<span data-ttu-id="3ed58-135">若要呼叫 API，您必須知道端點位置和 API 金鑰。</span><span class="sxs-lookup"><span data-stu-id="3ed58-135">In order to call the API, you will need to know the endpoint location and API key.</span></span>  <span data-ttu-id="3ed58-136">從 [AzureML Web 服務](https://services.azureml.net/webservices/)頁面可取得這兩者，以及用於呼叫 API 的範例程式碼。</span><span class="sxs-lookup"><span data-stu-id="3ed58-136">Both of these, along with sample code for calling the API, are available from the [AzureML web services](https://services.azureml.net/webservices/) page.</span></span>  <span data-ttu-id="3ed58-137">瀏覽至所需的 API，然後按一下 [取用] 索引標籤以找出它們。</span><span class="sxs-lookup"><span data-stu-id="3ed58-137">Navigate to the desired API, and then click the "Consume" tab to find them.</span></span>  <span data-ttu-id="3ed58-138">請注意，您可以呼叫 API 做為 Swagger API (即包含 URL 參數 `format=swagger`) 或做為非 Swagger API (即不含 `format` URL 參數)。</span><span class="sxs-lookup"><span data-stu-id="3ed58-138">Note that you can call the API as a Swagger API (i.e. with the URL parameter `format=swagger`) or as a non-Swagger API (i.e. without the `format` URL parameter).</span></span>  <span data-ttu-id="3ed58-139">範例程式碼會使用 Swagger 格式。</span><span class="sxs-lookup"><span data-stu-id="3ed58-139">The sample code uses the Swagger format.</span></span>  <span data-ttu-id="3ed58-140">以下是非 Swagger 格式的範例要求和回應。</span><span class="sxs-lookup"><span data-stu-id="3ed58-140">Below is an example request and response in non-Swagger format.</span></span>  <span data-ttu-id="3ed58-141">這些範例適用於季節性端點。</span><span class="sxs-lookup"><span data-stu-id="3ed58-141">These examples are to the seasonality endpoint.</span></span>  <span data-ttu-id="3ed58-142">非季節性端點很類似。</span><span class="sxs-lookup"><span data-stu-id="3ed58-142">The non-seasonality endpoint is similar.</span></span>

### <a name="sample-request-body"></a><span data-ttu-id="3ed58-143">範例要求本文</span><span class="sxs-lookup"><span data-stu-id="3ed58-143">Sample Request Body</span></span>
<span data-ttu-id="3ed58-144">要求包含兩個物件︰`Inputs` 和 `GlobalParameters`。</span><span class="sxs-lookup"><span data-stu-id="3ed58-144">The request contains two objects: `Inputs` and `GlobalParameters`.</span></span>  <span data-ttu-id="3ed58-145">在下列範例要求中，某些參數會明確傳送，有些則不會 (向下捲動以取得每個端點的完整參數清單)。</span><span class="sxs-lookup"><span data-stu-id="3ed58-145">In the example request below, some parameters are sent explicitly while others are not (scroll down for a full list of parameters for each endpoint).</span></span>  <span data-ttu-id="3ed58-146">不會在要求中明確傳送的參數會使用下面所列的預設值。</span><span class="sxs-lookup"><span data-stu-id="3ed58-146">Parameters that are not sent explicitly in the request will use the default values given below.</span></span>

    {
                "Inputs": {
                        "input1": {
                                "ColumnNames": ["Time", "Data"],
                                "Values": [
                                        ["5/30/2010 18:07:00", "1"],
                                        ["5/30/2010 18:08:00", "1.4"],
                                        ["5/30/2010 18:09:00", "1.1"]
                                ]
                        }
                },
        "GlobalParameters": {
            "tspikedetector.sensitivity": "3",
            "zspikedetector.sensitivity": "3",
            "bileveldetector.sensitivity": "3.25",
            "detectors.spikesdips": "Both"
        }
    }

### <a name="sample-response"></a><span data-ttu-id="3ed58-147">範例回應</span><span class="sxs-lookup"><span data-stu-id="3ed58-147">Sample Response</span></span>
<span data-ttu-id="3ed58-148">請注意，若要查看 `ColumnNames` 欄位，您必須將 `details=true` 納入為要求中的 URL 參數。</span><span class="sxs-lookup"><span data-stu-id="3ed58-148">Note that, in order to see the `ColumnNames` field, you must include `details=true` as a URL parameter in your request.</span></span>  <span data-ttu-id="3ed58-149">請參閱下表，以了解每個欄位背後的意義。</span><span class="sxs-lookup"><span data-stu-id="3ed58-149">See the tables below for the meaning behind each of these fields.</span></span>

    {
        "Results": {
            "output1": {
                "type": "table",
                "value": {
                    "Values": [
                        ["5/30/2010 6:07:00 PM", "1", "1", "0", "0", "-0.687952590518378", "0", "-0.687952590518378", "0", "-0.687952590518378", "0"],
                        ["5/30/2010 6:08:00 PM", "1.4", "1.4", "0", "0", "-1.07030497733224", "0", "-0.884548154298423", "0", "-1.07030497733224", "0"],
                        ["5/30/2010 6:09:00 PM", "1.1", "1.1", "0", "0", "-1.30229513613974", "0", "-1.173800281031", "0", "-1.30229513613974", "0"]
                    ],
                    "ColumnNames": ["Time", "OriginalData", "ProcessedData", "TSpike", "ZSpike", "BiLevelChangeScore", "BiLevelChangeAlert", "PosTrendScore", "PosTrendAlert", "NegTrendScore", "NegTrendAlert"],
                    "ColumnTypes": ["DateTime", "Double", "Double", "Double", "Double", "Double", "Int32", "Double", "Int32", "Double", "Int32"]
                }
            }
        }
    }


## <a name="score-api"></a><span data-ttu-id="3ed58-150">分數 API</span><span class="sxs-lookup"><span data-stu-id="3ed58-150">Score API</span></span>
<span data-ttu-id="3ed58-151">分數 API 可用來對非季節性的時間序列資料執行異常偵測。</span><span class="sxs-lookup"><span data-stu-id="3ed58-151">The Score API is used for running anomaly detection on non-seasonal time series data.</span></span> <span data-ttu-id="3ed58-152">API 會對此資料執行許多異常偵測器，並傳回其異常分數。</span><span class="sxs-lookup"><span data-stu-id="3ed58-152">The API runs a number of anomaly detectors on the data and returns their anomaly scores.</span></span> <span data-ttu-id="3ed58-153">下圖顯示分數 API 可偵測到的異常範例。</span><span class="sxs-lookup"><span data-stu-id="3ed58-153">The figure below shows an example of anomalies that the Score API can detect.</span></span> <span data-ttu-id="3ed58-154">此時間序列有 2 個不同的層級變更和 3 個尖峰。</span><span class="sxs-lookup"><span data-stu-id="3ed58-154">This time series has 2 distinct level changes, and 3 spikes.</span></span> <span data-ttu-id="3ed58-155">紅點顯示偵測到層級變更時的時間，黑點則顯示偵測到的尖峰。</span><span class="sxs-lookup"><span data-stu-id="3ed58-155">The red dots show the time at which the level change is detected, while the black dots show the detected spikes.</span></span>
<span data-ttu-id="3ed58-156">![分數 API][1]</span><span class="sxs-lookup"><span data-stu-id="3ed58-156">![Score API][1]</span></span>

### <a name="detectors"></a><span data-ttu-id="3ed58-157">偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-157">Detectors</span></span>
<span data-ttu-id="3ed58-158">異常偵測 API 支援 3 大類別的偵測器。</span><span class="sxs-lookup"><span data-stu-id="3ed58-158">The anomaly detection API supports detectors in 3 broad categories.</span></span> <span data-ttu-id="3ed58-159">下表中可以找到每個偵測器的特定輸入參數和輸出的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="3ed58-159">Details on specific input parameters and outputs for each detector can be found in the following table.</span></span>

| <span data-ttu-id="3ed58-160">偵測器類別</span><span class="sxs-lookup"><span data-stu-id="3ed58-160">Detector Category</span></span> | <span data-ttu-id="3ed58-161">偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-161">Detector</span></span> | <span data-ttu-id="3ed58-162">說明</span><span class="sxs-lookup"><span data-stu-id="3ed58-162">Description</span></span> | <span data-ttu-id="3ed58-163">輸入參數</span><span class="sxs-lookup"><span data-stu-id="3ed58-163">Input Parameters</span></span> | <span data-ttu-id="3ed58-164">輸出</span><span class="sxs-lookup"><span data-stu-id="3ed58-164">Outputs</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="3ed58-165">尖峰偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-165">Spike Detectors</span></span> |<span data-ttu-id="3ed58-166">TSpike 偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-166">TSpike Detector</span></span> |<span data-ttu-id="3ed58-167">偵測尖峰和下降是根據值與第一個和第三個四分位數的差距</span><span class="sxs-lookup"><span data-stu-id="3ed58-167">Detect spikes and dips based on far the values are from first and third quartiles</span></span> |<span data-ttu-id="3ed58-168">*tspikedetector.sensitivity*：接受範圍 1 - 10 的整數值，預設值︰3；值愈高，會捕捉到愈極端的值，因此降低敏感度</span><span class="sxs-lookup"><span data-stu-id="3ed58-168">*tspikedetector.sensitivity:* takes integer value in the range 1-10, default: 3; Higher values will catch more extreme values thus making it less sensitive</span></span> |<span data-ttu-id="3ed58-169">TSpike︰二進位值 - 如果偵測到尖峰/下降則為 ‘1’，否則為 ‘0’</span><span class="sxs-lookup"><span data-stu-id="3ed58-169">TSpike: binary values – ‘1’ if a spike/dip is detected, ‘0’ otherwise</span></span> |
| <span data-ttu-id="3ed58-170">尖峰偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-170">Spike Detectors</span></span> | <span data-ttu-id="3ed58-171">ZSpike 偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-171">ZSpike Detector</span></span> |<span data-ttu-id="3ed58-172">偵測尖峰和下降是根據資料點與平均數的差距</span><span class="sxs-lookup"><span data-stu-id="3ed58-172">Detect spikes and dips based on how far the datapoints are from their mean</span></span> |<span data-ttu-id="3ed58-173">*zspikedetector.sensitivity*：接受範圍 1 - 10 的整數值，預設值︰3；值愈高，會捕捉到愈極端的值，而降低敏感度</span><span class="sxs-lookup"><span data-stu-id="3ed58-173">*zspikedetector.sensitivity:* take integer value in the range 1-10, default: 3; Higher values will catch more extreme values making it less sensitive</span></span> |<span data-ttu-id="3ed58-174">ZSpike︰二進位值 - 如果偵測到尖峰/下降則為 ‘1’，否則為 ‘0’</span><span class="sxs-lookup"><span data-stu-id="3ed58-174">ZSpike: binary values – ‘1’ if a spike/dip is detected, ‘0’ otherwise</span></span> | |
| <span data-ttu-id="3ed58-175">緩慢趨勢偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-175">Slow Trend Detector</span></span> |<span data-ttu-id="3ed58-176">緩慢趨勢偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-176">Slow Trend Detector</span></span> |<span data-ttu-id="3ed58-177">根據所設定的敏感度偵測緩慢的正向趨勢</span><span class="sxs-lookup"><span data-stu-id="3ed58-177">Detect slow positive trend as per the set sensitivity</span></span> |<span data-ttu-id="3ed58-178"> 偵測器分數的臨界值 (預設值︰3.25，3.25 – 5 是合理值的選取範圍；值愈高，敏感度越低)</span><span class="sxs-lookup"><span data-stu-id="3ed58-178">*trenddetector.sensitivity:* threshold on detector score (default: 3.25, 3.25 – 5 is a reasonable range to select this from; The higher the less sensitive)</span></span> |<span data-ttu-id="3ed58-179">tscore︰代表趨勢異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-179">tscore: floating number representing anomaly score on trend</span></span> |
| <span data-ttu-id="3ed58-180">層級變更偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-180">Level Change Detectors</span></span> | <span data-ttu-id="3ed58-181">雙向層級變更偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-181">Bidirectional Level Change Detector</span></span> |<span data-ttu-id="3ed58-182">根據所設定的敏感度偵測向上和向下層級變更</span><span class="sxs-lookup"><span data-stu-id="3ed58-182">Detect both upward and downward level change as per the set sensitivity</span></span> |<span data-ttu-id="3ed58-183"> 偵測器分數的臨界值 (預設值︰3.25，3.25 – 5 是合理值的選取範圍；值愈高，敏感度越低)</span><span class="sxs-lookup"><span data-stu-id="3ed58-183">*bileveldetector.sensitivity:* threshold on detector score (default: 3.25, 3.25 – 5 is a reasonable range to select this from; The higher the less sensitive)</span></span> |<span data-ttu-id="3ed58-184">rpscore︰代表向上和向下層級變更異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-184">rpscore: floating number representing anomaly score on upward and downward level change</span></span> | |

### <a name="parameters"></a><span data-ttu-id="3ed58-185">參數</span><span class="sxs-lookup"><span data-stu-id="3ed58-185">Parameters</span></span>
<span data-ttu-id="3ed58-186">下表列出這些輸入參數的詳細資訊：</span><span class="sxs-lookup"><span data-stu-id="3ed58-186">More detailed information on these input parameters is listed in the table below:</span></span>

| <span data-ttu-id="3ed58-187">輸入參數</span><span class="sxs-lookup"><span data-stu-id="3ed58-187">Input Parameters</span></span> | <span data-ttu-id="3ed58-188">說明</span><span class="sxs-lookup"><span data-stu-id="3ed58-188">Description</span></span> | <span data-ttu-id="3ed58-189">預設設定</span><span class="sxs-lookup"><span data-stu-id="3ed58-189">Default Setting</span></span> | <span data-ttu-id="3ed58-190">類型</span><span class="sxs-lookup"><span data-stu-id="3ed58-190">Type</span></span> | <span data-ttu-id="3ed58-191">有效範圍</span><span class="sxs-lookup"><span data-stu-id="3ed58-191">Valid Range</span></span> | <span data-ttu-id="3ed58-192">建議範圍</span><span class="sxs-lookup"><span data-stu-id="3ed58-192">Suggested Range</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="3ed58-193">detectors.historyWindow</span><span class="sxs-lookup"><span data-stu-id="3ed58-193">detectors.historyWindow</span></span> |<span data-ttu-id="3ed58-194">用於計算異常分數的歷程記錄 (以資料點數目為單位)</span><span class="sxs-lookup"><span data-stu-id="3ed58-194">History (in # of data points) used for  anomaly score computation</span></span> |<span data-ttu-id="3ed58-195">500</span><span class="sxs-lookup"><span data-stu-id="3ed58-195">500</span></span> |<span data-ttu-id="3ed58-196">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-196">integer</span></span> |<span data-ttu-id="3ed58-197">10 - 2000</span><span class="sxs-lookup"><span data-stu-id="3ed58-197">10-2000</span></span> |<span data-ttu-id="3ed58-198">取決於時間序列</span><span class="sxs-lookup"><span data-stu-id="3ed58-198">Time-series dependent</span></span> |
| <span data-ttu-id="3ed58-199">detectors.spikesdips</span><span class="sxs-lookup"><span data-stu-id="3ed58-199">detectors.spikesdips</span></span> | <span data-ttu-id="3ed58-200">是否偵測只有尖峰、只有下降，或兩者</span><span class="sxs-lookup"><span data-stu-id="3ed58-200">Whether to detect only spikes, only dips, or both</span></span> |<span data-ttu-id="3ed58-201">兩者</span><span class="sxs-lookup"><span data-stu-id="3ed58-201">Both</span></span> |<span data-ttu-id="3ed58-202">列舉</span><span class="sxs-lookup"><span data-stu-id="3ed58-202">enumerated</span></span> |<span data-ttu-id="3ed58-203">兩者、尖峰、下降</span><span class="sxs-lookup"><span data-stu-id="3ed58-203">Both, Spikes, Dips</span></span> |<span data-ttu-id="3ed58-204">兩者</span><span class="sxs-lookup"><span data-stu-id="3ed58-204">Both</span></span> |
| <span data-ttu-id="3ed58-205">bileveldetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-205">bileveldetector.sensitivity</span></span> |<span data-ttu-id="3ed58-206">雙向層級變更偵測器的敏感度。</span><span class="sxs-lookup"><span data-stu-id="3ed58-206">Sensitivity for bidirectional level change detector.</span></span> |<span data-ttu-id="3ed58-207">3.25</span><span class="sxs-lookup"><span data-stu-id="3ed58-207">3.25</span></span> |<span data-ttu-id="3ed58-208">double</span><span class="sxs-lookup"><span data-stu-id="3ed58-208">double</span></span> |<span data-ttu-id="3ed58-209">None</span><span class="sxs-lookup"><span data-stu-id="3ed58-209">None</span></span> |<span data-ttu-id="3ed58-210">3.25-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-210">3.25-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-211">trenddetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-211">trenddetector.sensitivity</span></span> |<span data-ttu-id="3ed58-212">正向趨勢偵測器的敏感度。</span><span class="sxs-lookup"><span data-stu-id="3ed58-212">Sensitivity for positive trend detector.</span></span> |<span data-ttu-id="3ed58-213">3.25</span><span class="sxs-lookup"><span data-stu-id="3ed58-213">3.25</span></span> |<span data-ttu-id="3ed58-214">double</span><span class="sxs-lookup"><span data-stu-id="3ed58-214">double</span></span> |<span data-ttu-id="3ed58-215">None</span><span class="sxs-lookup"><span data-stu-id="3ed58-215">None</span></span> |<span data-ttu-id="3ed58-216">3.25-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-216">3.25-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-217">tspikedetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-217">tspikedetector.sensitivity</span></span> |<span data-ttu-id="3ed58-218">TSpike 偵測器的敏感度</span><span class="sxs-lookup"><span data-stu-id="3ed58-218">Sensitivity for TSpike Detector</span></span> |<span data-ttu-id="3ed58-219">3</span><span class="sxs-lookup"><span data-stu-id="3ed58-219">3</span></span> |<span data-ttu-id="3ed58-220">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-220">integer</span></span> |<span data-ttu-id="3ed58-221">1 - 10</span><span class="sxs-lookup"><span data-stu-id="3ed58-221">1-10</span></span> |<span data-ttu-id="3ed58-222">3-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-222">3-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-223">zspikedetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-223">zspikedetector.sensitivity</span></span> |<span data-ttu-id="3ed58-224">ZSpike 偵測器的敏感度</span><span class="sxs-lookup"><span data-stu-id="3ed58-224">Sensitivity for ZSpike Detector</span></span> |<span data-ttu-id="3ed58-225">3</span><span class="sxs-lookup"><span data-stu-id="3ed58-225">3</span></span> |<span data-ttu-id="3ed58-226">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-226">integer</span></span> |<span data-ttu-id="3ed58-227">1 - 10</span><span class="sxs-lookup"><span data-stu-id="3ed58-227">1-10</span></span> |<span data-ttu-id="3ed58-228">3-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-228">3-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-229">postprocess.tailRows</span><span class="sxs-lookup"><span data-stu-id="3ed58-229">postprocess.tailRows</span></span> |<span data-ttu-id="3ed58-230">輸出結果中要保留的最新資料點數目</span><span class="sxs-lookup"><span data-stu-id="3ed58-230">Number of the latest data points to be kept in the output results</span></span> |<span data-ttu-id="3ed58-231">0</span><span class="sxs-lookup"><span data-stu-id="3ed58-231">0</span></span> |<span data-ttu-id="3ed58-232">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-232">integer</span></span> |<span data-ttu-id="3ed58-233">0 (保留所有資料點)，或指定要在結果中保留的資料點數目</span><span class="sxs-lookup"><span data-stu-id="3ed58-233">0 (keep all data points), or specify number of points to keep in results</span></span> |<span data-ttu-id="3ed58-234">N/A</span><span class="sxs-lookup"><span data-stu-id="3ed58-234">N/A</span></span> |

### <a name="output"></a><span data-ttu-id="3ed58-235">輸出</span><span class="sxs-lookup"><span data-stu-id="3ed58-235">Output</span></span>
<span data-ttu-id="3ed58-236">API 會對您的時間序列資料執行所有偵測器，然後傳回每個時間點的異常分數和二進位尖峰指示器。</span><span class="sxs-lookup"><span data-stu-id="3ed58-236">The API runs all detectors on your time series data and returns anomaly scores and binary spike indicators for each point in time.</span></span> <span data-ttu-id="3ed58-237">下表列出 API 的輸出。</span><span class="sxs-lookup"><span data-stu-id="3ed58-237">The table below lists outputs from the API.</span></span> 

| <span data-ttu-id="3ed58-238">輸出</span><span class="sxs-lookup"><span data-stu-id="3ed58-238">Outputs</span></span> | <span data-ttu-id="3ed58-239">說明</span><span class="sxs-lookup"><span data-stu-id="3ed58-239">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3ed58-240">時間</span><span class="sxs-lookup"><span data-stu-id="3ed58-240">Time</span></span> |<span data-ttu-id="3ed58-241">未經處理資料或彙總 (和/或) 插補資料 (如果套用彙總 (和/或) 遺漏資料插補) 的時間戳記</span><span class="sxs-lookup"><span data-stu-id="3ed58-241">Timestamps from raw data, or aggregated (and/or) imputed data if aggregation (and/or) missing data imputation is applied</span></span> |
| <span data-ttu-id="3ed58-242">資料</span><span class="sxs-lookup"><span data-stu-id="3ed58-242">Data</span></span> |<span data-ttu-id="3ed58-243">未經處理資料或彙總 (和/或) 插補資料 (如果套用彙總 (和/或) 遺漏資料插補) 的值</span><span class="sxs-lookup"><span data-stu-id="3ed58-243">Values from raw data, or aggregated (and/or) imputed data if aggregation (and/or) missing data imputation is applied</span></span> |
| <span data-ttu-id="3ed58-244">TSpike</span><span class="sxs-lookup"><span data-stu-id="3ed58-244">TSpike</span></span> |<span data-ttu-id="3ed58-245">指出 TSpike 偵測器是否要偵測尖峰的二進位指示器</span><span class="sxs-lookup"><span data-stu-id="3ed58-245">Binary indicator to indicate whether a spike is detected by TSpike Detector</span></span> |
| <span data-ttu-id="3ed58-246">ZSpike</span><span class="sxs-lookup"><span data-stu-id="3ed58-246">ZSpike</span></span> |<span data-ttu-id="3ed58-247">指出 Zspike 偵測器是否要偵測尖峰的二進位指示器</span><span class="sxs-lookup"><span data-stu-id="3ed58-247">Binary indicator to indicate whether a spike is detected by ZSpike Detector</span></span> |
| <span data-ttu-id="3ed58-248">rpscore</span><span class="sxs-lookup"><span data-stu-id="3ed58-248">rpscore</span></span> |<span data-ttu-id="3ed58-249">代表雙向層級變更異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-249">A floating number representing anomaly score on bidirectional level change</span></span> |
| <span data-ttu-id="3ed58-250">rpalert</span><span class="sxs-lookup"><span data-stu-id="3ed58-250">rpalert</span></span> |<span data-ttu-id="3ed58-251">根據輸入敏感度指出有雙向層級變更異常的 1/0 值</span><span class="sxs-lookup"><span data-stu-id="3ed58-251">1/0 value indicating there is a bidirectional level change anomaly based on the input sensitivity</span></span> |
| <span data-ttu-id="3ed58-252">tscore</span><span class="sxs-lookup"><span data-stu-id="3ed58-252">tscore</span></span> |<span data-ttu-id="3ed58-253">代表正向趨勢異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-253">A floating number representing anomaly score on positive trend</span></span> |
| <span data-ttu-id="3ed58-254">talert</span><span class="sxs-lookup"><span data-stu-id="3ed58-254">talert</span></span> |<span data-ttu-id="3ed58-255">根據輸入敏感度指出有正向趨勢異常的 1/0 值</span><span class="sxs-lookup"><span data-stu-id="3ed58-255">1/0 value indicating there is a positive trend anomaly based on the input sensitivity</span></span> |

## <a name="scorewithseasonality-api"></a><span data-ttu-id="3ed58-256">ScoreWithSeasonality API</span><span class="sxs-lookup"><span data-stu-id="3ed58-256">ScoreWithSeasonality API</span></span>
<span data-ttu-id="3ed58-257">ScoreWithSeasonality API 可用來對具有季節性模式的時間序列執行異常偵測。</span><span class="sxs-lookup"><span data-stu-id="3ed58-257">The ScoreWithSeasonality API is used for running anomaly detection on time series that have seasonal patterns.</span></span> <span data-ttu-id="3ed58-258">這個 API 適用於偵測季節性模式的偏差。</span><span class="sxs-lookup"><span data-stu-id="3ed58-258">This API is useful to detect deviations in seasonal patterns.</span></span>  
<span data-ttu-id="3ed58-259">下圖顯示季節性時間序列中所偵測到的異常範例。</span><span class="sxs-lookup"><span data-stu-id="3ed58-259">The following figure shows an example of anomalies detected in a seasonal time series.</span></span> <span data-ttu-id="3ed58-260">時間序列有一個尖峰 (第 1 個黑點)、兩個下降 (第 2 個黑點和尾端的黑點)，以及一個層級變更 (紅點)。</span><span class="sxs-lookup"><span data-stu-id="3ed58-260">The time series has one spike (the 1st black dot), two dips (the 2nd black dot and one at the end), and one level change (red dot).</span></span> <span data-ttu-id="3ed58-261">請注意，從時間序列中移除季節性元件後，才能看到序列中間的兩個下降和該層級變更。</span><span class="sxs-lookup"><span data-stu-id="3ed58-261">Note that both the dip in the middle of the time series and the level change are only discernable after seasonal components are removed from the series.</span></span>
<span data-ttu-id="3ed58-262">![季節性 API][2]</span><span class="sxs-lookup"><span data-stu-id="3ed58-262">![Seasonality API][2]</span></span>

### <a name="detectors"></a><span data-ttu-id="3ed58-263">偵測器</span><span class="sxs-lookup"><span data-stu-id="3ed58-263">Detectors</span></span>
<span data-ttu-id="3ed58-264">季節性端點中的偵測器類似於非季節性端點中的偵測器，但參數名稱稍有不同 (如下所列)。</span><span class="sxs-lookup"><span data-stu-id="3ed58-264">The detectors in the seasonality endpoint are similar to the ones in the non-seasonality endpoint, but with slightly different parameter names (listed below).</span></span>

### <a name="parameters"></a><span data-ttu-id="3ed58-265">參數</span><span class="sxs-lookup"><span data-stu-id="3ed58-265">Parameters</span></span>

<span data-ttu-id="3ed58-266">下表列出這些輸入參數的詳細資訊：</span><span class="sxs-lookup"><span data-stu-id="3ed58-266">More detailed information on these input parameters is listed in the table below:</span></span>

| <span data-ttu-id="3ed58-267">輸入參數</span><span class="sxs-lookup"><span data-stu-id="3ed58-267">Input Parameters</span></span> | <span data-ttu-id="3ed58-268">說明</span><span class="sxs-lookup"><span data-stu-id="3ed58-268">Description</span></span> | <span data-ttu-id="3ed58-269">預設設定</span><span class="sxs-lookup"><span data-stu-id="3ed58-269">Default Setting</span></span> | <span data-ttu-id="3ed58-270">類型</span><span class="sxs-lookup"><span data-stu-id="3ed58-270">Type</span></span> | <span data-ttu-id="3ed58-271">有效範圍</span><span class="sxs-lookup"><span data-stu-id="3ed58-271">Valid Range</span></span> | <span data-ttu-id="3ed58-272">建議範圍</span><span class="sxs-lookup"><span data-stu-id="3ed58-272">Suggested Range</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="3ed58-273">preprocess.aggregationInterval</span><span class="sxs-lookup"><span data-stu-id="3ed58-273">preprocess.aggregationInterval</span></span> |<span data-ttu-id="3ed58-274">用來彙總輸入時間序列的彙總間隔 (秒)</span><span class="sxs-lookup"><span data-stu-id="3ed58-274">Aggregation interval in seconds for aggregating input time series</span></span> |<span data-ttu-id="3ed58-275">0 (不執行彙總)</span><span class="sxs-lookup"><span data-stu-id="3ed58-275">0 (no aggregation is performed)</span></span> |<span data-ttu-id="3ed58-276">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-276">integer</span></span> |<span data-ttu-id="3ed58-277">0︰略過彙總，否則 > 0</span><span class="sxs-lookup"><span data-stu-id="3ed58-277">0: skip aggregation, > 0 otherwise</span></span> |<span data-ttu-id="3ed58-278">5 分鐘到 1 天，取決於時間序列</span><span class="sxs-lookup"><span data-stu-id="3ed58-278">5 minutes to 1 day, time-series dependent</span></span> |
| <span data-ttu-id="3ed58-279">preprocess.aggregationFunc</span><span class="sxs-lookup"><span data-stu-id="3ed58-279">preprocess.aggregationFunc</span></span> |<span data-ttu-id="3ed58-280">用來將資料彙總到指定 AggregationInterval 的函式</span><span class="sxs-lookup"><span data-stu-id="3ed58-280">Function used for aggregating data into the specified AggregationInterval</span></span> |<span data-ttu-id="3ed58-281">平均值</span><span class="sxs-lookup"><span data-stu-id="3ed58-281">mean</span></span> |<span data-ttu-id="3ed58-282">列舉</span><span class="sxs-lookup"><span data-stu-id="3ed58-282">enumerated</span></span> |<span data-ttu-id="3ed58-283">平均值、總和、長度</span><span class="sxs-lookup"><span data-stu-id="3ed58-283">mean, sum, length</span></span> |<span data-ttu-id="3ed58-284">N/A</span><span class="sxs-lookup"><span data-stu-id="3ed58-284">N/A</span></span> |
| <span data-ttu-id="3ed58-285">preprocess.replaceMissing</span><span class="sxs-lookup"><span data-stu-id="3ed58-285">preprocess.replaceMissing</span></span> |<span data-ttu-id="3ed58-286">用來插補遺漏資料的值</span><span class="sxs-lookup"><span data-stu-id="3ed58-286">Values used to impute missing data</span></span> |<span data-ttu-id="3ed58-287">lkv (上一個已知值)</span><span class="sxs-lookup"><span data-stu-id="3ed58-287">lkv (last known value)</span></span> |<span data-ttu-id="3ed58-288">列舉</span><span class="sxs-lookup"><span data-stu-id="3ed58-288">enumerated</span></span> |<span data-ttu-id="3ed58-289">零、lkv、平均值</span><span class="sxs-lookup"><span data-stu-id="3ed58-289">zero, lkv, mean</span></span> |<span data-ttu-id="3ed58-290">N/A</span><span class="sxs-lookup"><span data-stu-id="3ed58-290">N/A</span></span> |
| <span data-ttu-id="3ed58-291">detectors.historyWindow</span><span class="sxs-lookup"><span data-stu-id="3ed58-291">detectors.historyWindow</span></span> |<span data-ttu-id="3ed58-292">用於計算異常分數的歷程記錄 (以資料點數目為單位)</span><span class="sxs-lookup"><span data-stu-id="3ed58-292">History (in # of data points) used for  anomaly score computation</span></span> |<span data-ttu-id="3ed58-293">500</span><span class="sxs-lookup"><span data-stu-id="3ed58-293">500</span></span> |<span data-ttu-id="3ed58-294">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-294">integer</span></span> |<span data-ttu-id="3ed58-295">10 - 2000</span><span class="sxs-lookup"><span data-stu-id="3ed58-295">10-2000</span></span> |<span data-ttu-id="3ed58-296">取決於時間序列</span><span class="sxs-lookup"><span data-stu-id="3ed58-296">Time-series dependent</span></span> |
| <span data-ttu-id="3ed58-297">detectors.spikesdips</span><span class="sxs-lookup"><span data-stu-id="3ed58-297">detectors.spikesdips</span></span> | <span data-ttu-id="3ed58-298">是否偵測只有尖峰、只有下降，或兩者</span><span class="sxs-lookup"><span data-stu-id="3ed58-298">Whether to detect only spikes, only dips, or both</span></span> |<span data-ttu-id="3ed58-299">兩者</span><span class="sxs-lookup"><span data-stu-id="3ed58-299">Both</span></span> |<span data-ttu-id="3ed58-300">列舉</span><span class="sxs-lookup"><span data-stu-id="3ed58-300">enumerated</span></span> |<span data-ttu-id="3ed58-301">兩者、尖峰、下降</span><span class="sxs-lookup"><span data-stu-id="3ed58-301">Both, Spikes, Dips</span></span> |<span data-ttu-id="3ed58-302">兩者</span><span class="sxs-lookup"><span data-stu-id="3ed58-302">Both</span></span> |
| <span data-ttu-id="3ed58-303">bileveldetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-303">bileveldetector.sensitivity</span></span> |<span data-ttu-id="3ed58-304">雙向層級變更偵測器的敏感度。</span><span class="sxs-lookup"><span data-stu-id="3ed58-304">Sensitivity for bidirectional level change detector.</span></span> |<span data-ttu-id="3ed58-305">3.25</span><span class="sxs-lookup"><span data-stu-id="3ed58-305">3.25</span></span> |<span data-ttu-id="3ed58-306">double</span><span class="sxs-lookup"><span data-stu-id="3ed58-306">double</span></span> |<span data-ttu-id="3ed58-307">None</span><span class="sxs-lookup"><span data-stu-id="3ed58-307">None</span></span> |<span data-ttu-id="3ed58-308">3.25-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-308">3.25-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-309">postrenddetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-309">postrenddetector.sensitivity</span></span> |<span data-ttu-id="3ed58-310">正向趨勢偵測器的敏感度。</span><span class="sxs-lookup"><span data-stu-id="3ed58-310">Sensitivity for positive trend detector.</span></span> |<span data-ttu-id="3ed58-311">3.25</span><span class="sxs-lookup"><span data-stu-id="3ed58-311">3.25</span></span> |<span data-ttu-id="3ed58-312">double</span><span class="sxs-lookup"><span data-stu-id="3ed58-312">double</span></span> |<span data-ttu-id="3ed58-313">None</span><span class="sxs-lookup"><span data-stu-id="3ed58-313">None</span></span> |<span data-ttu-id="3ed58-314">3.25-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-314">3.25-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-315">negtrenddetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-315">negtrenddetector.sensitivity</span></span> |<span data-ttu-id="3ed58-316">負向趨勢偵測器的敏感度。</span><span class="sxs-lookup"><span data-stu-id="3ed58-316">Sensitivity for negative trend detector.</span></span> |<span data-ttu-id="3ed58-317">3.25</span><span class="sxs-lookup"><span data-stu-id="3ed58-317">3.25</span></span> |<span data-ttu-id="3ed58-318">double</span><span class="sxs-lookup"><span data-stu-id="3ed58-318">double</span></span> |<span data-ttu-id="3ed58-319">None</span><span class="sxs-lookup"><span data-stu-id="3ed58-319">None</span></span> |<span data-ttu-id="3ed58-320">3.25-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-320">3.25-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-321">tspikedetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-321">tspikedetector.sensitivity</span></span> |<span data-ttu-id="3ed58-322">TSpike 偵測器的敏感度</span><span class="sxs-lookup"><span data-stu-id="3ed58-322">Sensitivity for TSpike Detector</span></span> |<span data-ttu-id="3ed58-323">3</span><span class="sxs-lookup"><span data-stu-id="3ed58-323">3</span></span> |<span data-ttu-id="3ed58-324">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-324">integer</span></span> |<span data-ttu-id="3ed58-325">1 - 10</span><span class="sxs-lookup"><span data-stu-id="3ed58-325">1-10</span></span> |<span data-ttu-id="3ed58-326">3-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-326">3-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-327">zspikedetector.sensitivity</span><span class="sxs-lookup"><span data-stu-id="3ed58-327">zspikedetector.sensitivity</span></span> |<span data-ttu-id="3ed58-328">ZSpike 偵測器的敏感度</span><span class="sxs-lookup"><span data-stu-id="3ed58-328">Sensitivity for ZSpike Detector</span></span> |<span data-ttu-id="3ed58-329">3</span><span class="sxs-lookup"><span data-stu-id="3ed58-329">3</span></span> |<span data-ttu-id="3ed58-330">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-330">integer</span></span> |<span data-ttu-id="3ed58-331">1 - 10</span><span class="sxs-lookup"><span data-stu-id="3ed58-331">1-10</span></span> |<span data-ttu-id="3ed58-332">3-5 (值愈低代表敏感度越高)</span><span class="sxs-lookup"><span data-stu-id="3ed58-332">3-5 (Lesser values mean more sensitive)</span></span> |
| <span data-ttu-id="3ed58-333">seasonality.enable</span><span class="sxs-lookup"><span data-stu-id="3ed58-333">seasonality.enable</span></span> |<span data-ttu-id="3ed58-334">是否要執行季節性分析</span><span class="sxs-lookup"><span data-stu-id="3ed58-334">Whether seasonality analysis is to be performed</span></span> |<span data-ttu-id="3ed58-335">true</span><span class="sxs-lookup"><span data-stu-id="3ed58-335">true</span></span> |<span data-ttu-id="3ed58-336">布林值</span><span class="sxs-lookup"><span data-stu-id="3ed58-336">boolean</span></span> |<span data-ttu-id="3ed58-337">true、false</span><span class="sxs-lookup"><span data-stu-id="3ed58-337">true, false</span></span> |<span data-ttu-id="3ed58-338">取決於時間序列</span><span class="sxs-lookup"><span data-stu-id="3ed58-338">Time-series dependent</span></span> |
| <span data-ttu-id="3ed58-339">seasonality.numSeasonality</span><span class="sxs-lookup"><span data-stu-id="3ed58-339">seasonality.numSeasonality</span></span> |<span data-ttu-id="3ed58-340">要偵測的定期循環數目上限</span><span class="sxs-lookup"><span data-stu-id="3ed58-340">Maximum number of periodic cycles to be detected</span></span> |<span data-ttu-id="3ed58-341">1</span><span class="sxs-lookup"><span data-stu-id="3ed58-341">1</span></span> |<span data-ttu-id="3ed58-342">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-342">integer</span></span> |<span data-ttu-id="3ed58-343">1、2</span><span class="sxs-lookup"><span data-stu-id="3ed58-343">1, 2</span></span> |<span data-ttu-id="3ed58-344">1 - 2</span><span class="sxs-lookup"><span data-stu-id="3ed58-344">1-2</span></span> |
| <span data-ttu-id="3ed58-345">seasonality.transform</span><span class="sxs-lookup"><span data-stu-id="3ed58-345">seasonality.transform</span></span> |<span data-ttu-id="3ed58-346">在套用異常偵測之前，是否應該移除季節性 (和) 趨勢元件</span><span class="sxs-lookup"><span data-stu-id="3ed58-346">Whether seasonal (and) trend components shall be removed before applying anomaly detection</span></span> |<span data-ttu-id="3ed58-347">deseason</span><span class="sxs-lookup"><span data-stu-id="3ed58-347">deseason</span></span> |<span data-ttu-id="3ed58-348">列舉</span><span class="sxs-lookup"><span data-stu-id="3ed58-348">enumerated</span></span> |<span data-ttu-id="3ed58-349">無、deseason、deseasontrend</span><span class="sxs-lookup"><span data-stu-id="3ed58-349">none, deseason, deseasontrend</span></span> |<span data-ttu-id="3ed58-350">N/A</span><span class="sxs-lookup"><span data-stu-id="3ed58-350">N/A</span></span> |
| <span data-ttu-id="3ed58-351">postprocess.tailRows</span><span class="sxs-lookup"><span data-stu-id="3ed58-351">postprocess.tailRows</span></span> |<span data-ttu-id="3ed58-352">輸出結果中要保留的最新資料點數目</span><span class="sxs-lookup"><span data-stu-id="3ed58-352">Number of the latest data points to be kept in the output results</span></span> |<span data-ttu-id="3ed58-353">0</span><span class="sxs-lookup"><span data-stu-id="3ed58-353">0</span></span> |<span data-ttu-id="3ed58-354">integer</span><span class="sxs-lookup"><span data-stu-id="3ed58-354">integer</span></span> |<span data-ttu-id="3ed58-355">0 (保留所有資料點)，或指定要在結果中保留的資料點數目</span><span class="sxs-lookup"><span data-stu-id="3ed58-355">0 (keep all data points), or specify number of points to keep in results</span></span> |<span data-ttu-id="3ed58-356">N/A</span><span class="sxs-lookup"><span data-stu-id="3ed58-356">N/A</span></span> |

### <a name="output"></a><span data-ttu-id="3ed58-357">輸出</span><span class="sxs-lookup"><span data-stu-id="3ed58-357">Output</span></span>
<span data-ttu-id="3ed58-358">API 會對您的時間序列資料執行所有偵測器，然後傳回每個時間點的異常分數和二進位尖峰指示器。</span><span class="sxs-lookup"><span data-stu-id="3ed58-358">The API runs all detectors on your time series data and returns anomaly scores and binary spike indicators for each point in time.</span></span> <span data-ttu-id="3ed58-359">下表列出 API 的輸出。</span><span class="sxs-lookup"><span data-stu-id="3ed58-359">The table below lists outputs from the API.</span></span> 

| <span data-ttu-id="3ed58-360">輸出</span><span class="sxs-lookup"><span data-stu-id="3ed58-360">Outputs</span></span> | <span data-ttu-id="3ed58-361">說明</span><span class="sxs-lookup"><span data-stu-id="3ed58-361">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3ed58-362">時間</span><span class="sxs-lookup"><span data-stu-id="3ed58-362">Time</span></span> |<span data-ttu-id="3ed58-363">未經處理資料或彙總 (和/或) 插補資料 (如果套用彙總 (和/或) 遺漏資料插補) 的時間戳記</span><span class="sxs-lookup"><span data-stu-id="3ed58-363">Timestamps from raw data, or aggregated (and/or) imputed data if aggregation (and/or) missing data imputation is applied</span></span> |
| <span data-ttu-id="3ed58-364">OriginalData</span><span class="sxs-lookup"><span data-stu-id="3ed58-364">OriginalData</span></span> |<span data-ttu-id="3ed58-365">未經處理資料或彙總 (和/或) 插補資料 (如果套用彙總 (和/或) 遺漏資料插補) 的值</span><span class="sxs-lookup"><span data-stu-id="3ed58-365">Values from raw data, or aggregated (and/or) imputed data if aggregation (and/or) missing data imputation is applied</span></span> |
| <span data-ttu-id="3ed58-366">ProcessedData</span><span class="sxs-lookup"><span data-stu-id="3ed58-366">ProcessedData</span></span> |<span data-ttu-id="3ed58-367">下列任一項︰</span><span class="sxs-lookup"><span data-stu-id="3ed58-367">Either of the following:</span></span> <ul><li><span data-ttu-id="3ed58-368">已進行季節性調整的時間序列 (在已偵測到明顯季節性並選取了 deseason 選項的前提下)</span><span class="sxs-lookup"><span data-stu-id="3ed58-368">Seasonally adjusted time series if significant seasonality has been detected and deseason option selected;</span></span></li><li><span data-ttu-id="3ed58-369">已進行季節性調整並去趨勢化的時間序列 (在已偵測到明顯季節性並選取了 deseasontrend 選項的前提下)</span><span class="sxs-lookup"><span data-stu-id="3ed58-369">seasonally adjusted and detrended time series if significant seasonality has been detected and deseasontrend option selected</span></span></li><li><span data-ttu-id="3ed58-370">否則，與 OriginalData 相同</span><span class="sxs-lookup"><span data-stu-id="3ed58-370">otherwise, this is the same as OriginalData</span></span></li> |
| <span data-ttu-id="3ed58-371">TSpike</span><span class="sxs-lookup"><span data-stu-id="3ed58-371">TSpike</span></span> |<span data-ttu-id="3ed58-372">指出 TSpike 偵測器是否要偵測尖峰的二進位指示器</span><span class="sxs-lookup"><span data-stu-id="3ed58-372">Binary indicator to indicate whether a spike is detected by TSpike Detector</span></span> |
| <span data-ttu-id="3ed58-373">ZSpike</span><span class="sxs-lookup"><span data-stu-id="3ed58-373">ZSpike</span></span> |<span data-ttu-id="3ed58-374">指出 Zspike 偵測器是否要偵測尖峰的二進位指示器</span><span class="sxs-lookup"><span data-stu-id="3ed58-374">Binary indicator to indicate whether a spike is detected by ZSpike Detector</span></span> |
| <span data-ttu-id="3ed58-375">BiLevelChangeScore</span><span class="sxs-lookup"><span data-stu-id="3ed58-375">BiLevelChangeScore</span></span> |<span data-ttu-id="3ed58-376">代表層級變更異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-376">A floating number representing anomaly score on level change</span></span> |
| <span data-ttu-id="3ed58-377">BiLevelChangeAlert</span><span class="sxs-lookup"><span data-stu-id="3ed58-377">BiLevelChangeAlert</span></span> |<span data-ttu-id="3ed58-378">根據輸入敏感度指出有層級變更異常的 1/0 值</span><span class="sxs-lookup"><span data-stu-id="3ed58-378">1/0 value indicating there is a level change anomaly based on the input sensitivity</span></span> |
| <span data-ttu-id="3ed58-379">PosTrendScore</span><span class="sxs-lookup"><span data-stu-id="3ed58-379">PosTrendScore</span></span> |<span data-ttu-id="3ed58-380">代表正向趨勢異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-380">A floating number representing anomaly score on positive trend</span></span> |
| <span data-ttu-id="3ed58-381">PosTrendAlert</span><span class="sxs-lookup"><span data-stu-id="3ed58-381">PosTrendAlert</span></span> |<span data-ttu-id="3ed58-382">根據輸入敏感度指出有正向趨勢異常的 1/0 值</span><span class="sxs-lookup"><span data-stu-id="3ed58-382">1/0 value indicating there is a positive trend anomaly based on the input sensitivity</span></span> |
| <span data-ttu-id="3ed58-383">NegTrendScore</span><span class="sxs-lookup"><span data-stu-id="3ed58-383">NegTrendScore</span></span> |<span data-ttu-id="3ed58-384">代表負向趨勢異常分數的浮動數字</span><span class="sxs-lookup"><span data-stu-id="3ed58-384">A floating number representing anomaly score on negative trend</span></span> |
| <span data-ttu-id="3ed58-385">NegTrendAlert</span><span class="sxs-lookup"><span data-stu-id="3ed58-385">NegTrendAlert</span></span> |<span data-ttu-id="3ed58-386">根據輸入敏感度指出有負向趨勢異常的 1/0 值</span><span class="sxs-lookup"><span data-stu-id="3ed58-386">1/0 value indicating there is a negative trend anomaly based on the input sensitivity</span></span> |

[1]: ./media/machine-learning-apps-anomaly-detection-api/anomaly-detection-score.png
[2]: ./media/machine-learning-apps-anomaly-detection-api/anomaly-detection-seasonal.png

