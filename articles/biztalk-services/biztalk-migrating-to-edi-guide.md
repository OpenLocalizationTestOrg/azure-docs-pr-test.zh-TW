---
title: "將 BizTalk Server EDI 解決方案移轉至 BizTalk 服務技術指南 | Microsoft Docs"
description: "將 EDI 移轉到 MABS；Microsoft Azure BizTalk 服務"
services: biztalk-services
documentationcenter: na
author: MandiOhlinger
manager: anneta
editor: 
ms.assetid: 61c179fa-3f37-495b-8016-dee7474fd3a6
ms.service: biztalk-services
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/07/2016
ms.author: mandia
ms.openlocfilehash: 1b70fc3d199d7f1521acb534dafec8fb3e69500e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="migrating-biztalk-server-edi-solutions-to-biztalk-services-technical-guide"></a><span data-ttu-id="55bb6-103">BizTalk Server EDI 解決方案移轉至 BizTalk 服務：技術指南</span><span class="sxs-lookup"><span data-stu-id="55bb6-103">Migrating BizTalk Server EDI Solutions to BizTalk Services: Technical Guide</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="55bb6-104">作者：Tim Wieman 和 Nitin Mehrotra</span><span class="sxs-lookup"><span data-stu-id="55bb6-104">Author: Tim Wieman and Nitin Mehrotra</span></span>

<span data-ttu-id="55bb6-105">審稿者：Karthik Bharthy</span><span class="sxs-lookup"><span data-stu-id="55bb6-105">Reviewers: Karthik Bharthy</span></span>

<span data-ttu-id="55bb6-106">撰寫工具：Microsoft Azure BizTalk 服務 – 2014 年 2 月版本。</span><span class="sxs-lookup"><span data-stu-id="55bb6-106">Written using:  Microsoft Azure BizTalk Services – February 2014 release.</span></span>

## <a name="introduction"></a><span data-ttu-id="55bb6-107">簡介</span><span class="sxs-lookup"><span data-stu-id="55bb6-107">Introduction</span></span>
<span data-ttu-id="55bb6-108">電子資料交換 (EDI) 是企業是以電子方式交換資料的其中一個最普遍的方法，也稱為「企業對企業」或 B2B 交易。</span><span class="sxs-lookup"><span data-stu-id="55bb6-108">Electronic Data Interchange (EDI) is one of the most prevalent means by which businesses exchange data electronically, also termed as Business-to-Business or B2B transactions.</span></span> <span data-ttu-id="55bb6-109">自初始的 BizTalk Sever 版本以來，BizTalk Server 已經支援 EDI 超過十年。</span><span class="sxs-lookup"><span data-stu-id="55bb6-109">BizTalk Server has had EDI support for over a decade, since the initial BizTalk Sever release.</span></span> <span data-ttu-id="55bb6-110">使用 BizTalk 服務，Microsoft 會持續在 Microsoft Azure 平台上支援 EDI 解決方案。</span><span class="sxs-lookup"><span data-stu-id="55bb6-110">With BizTalk Services, Microsoft continues the support for EDI solutions on the Microsoft Azure platform.</span></span> <span data-ttu-id="55bb6-111">B2B 交易大部分在組織外部進行，因此，它更容易在雲端平台上實作。</span><span class="sxs-lookup"><span data-stu-id="55bb6-111">B2B transactions are mostly external to an organization, and hence it’s easier to implement if it was implemented on a cloud platform.</span></span> <span data-ttu-id="55bb6-112">Microsoft Azure 透過 BizTalk 服務提供這項功能。</span><span class="sxs-lookup"><span data-stu-id="55bb6-112">Microsoft Azure provides this capability through BizTalk Services.</span></span>

<span data-ttu-id="55bb6-113">雖然某些客戶將 BizTalk 服務視為新 EDI 解決方案的「綠地」平台，但目前擁有 BizTalk Server EDI 解決方案的許多客戶都可能會想要移轉至 Azure。</span><span class="sxs-lookup"><span data-stu-id="55bb6-113">While some customers look at BizTalk Services as a "greenfield" platform for new EDI solutions, many customers have current BizTalk Server EDI solutions that they may want to migrate to Azure.</span></span> <span data-ttu-id="55bb6-114">因為 BizTalk 服務 EDI 是根據 BizTalk Server EDI 的相同關鍵實體所架構 (交易夥伴、實體、合約)，因此可將 BizTalk Server EDI 構件移轉至 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="55bb6-114">Because BizTalk Services EDI is architected based on the same key entities as BizTalk Server EDI architecture (trading partners, entities, agreements), it is possible to migrate BizTalk Server EDI artifacts to BizTalk Services.</span></span>

<span data-ttu-id="55bb6-115">本文件探討將 BizTalk Server EDI 構件移轉至 BizTalk 服務的一些差異。</span><span class="sxs-lookup"><span data-stu-id="55bb6-115">This document discusses some of the differences involved with migrating BizTalk Server EDI artifacts to BizTalk Services.</span></span> <span data-ttu-id="55bb6-116">本文件假設讀者擁有 BizTalk Server EDI 處理和交易夥伴合約的實用知識。</span><span class="sxs-lookup"><span data-stu-id="55bb6-116">This document assumes a working knowledge of BizTalk Server EDI processing and Trading Partner Agreements.</span></span> <span data-ttu-id="55bb6-117">如需有關 BizTalk Server EDI 的詳細資訊，請參閱 [使用 BizTalk Server 的交易夥伴管理](https://msdn.microsoft.com/library/bb259970.aspx)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-117">For more information on BizTalk Server EDI, see [Trading Partner Management Using BizTalk Server](https://msdn.microsoft.com/library/bb259970.aspx).</span></span>

## <a name="which-version-of-biztalk-server-edi-artifacts-can-be-migrated-to-biztalk-services"></a><span data-ttu-id="55bb6-118">哪個版本的 BizTalk Server EDI 構件可移轉至 BizTalk 服務？</span><span class="sxs-lookup"><span data-stu-id="55bb6-118">Which version of BizTalk Server EDI artifacts can be migrated to BizTalk Services?</span></span>
<span data-ttu-id="55bb6-119">BizTalk Server 2010 的 BizTalk Server EDI 模組已大幅增強，因為它重塑為包含夥伴、設定檔與合約。</span><span class="sxs-lookup"><span data-stu-id="55bb6-119">The BizTalk Server EDI module was significantly enhanced for BizTalk Server 2010, when it was remodeled to include partners, profiles, and agreements.</span></span> <span data-ttu-id="55bb6-120">BizTalk 服務會使用相同的模型來組織交易夥伴，和這些交易夥伴內的業務部門。</span><span class="sxs-lookup"><span data-stu-id="55bb6-120">BizTalk Services uses the same model to organize the trading partners and the business divisions within those trading partners.</span></span> <span data-ttu-id="55bb6-121">如此一來，從 BizTalk Server 2010 和更新版本將 EDI 構件移轉至 BizTalk 服務，是直接簡單得多的程序。</span><span class="sxs-lookup"><span data-stu-id="55bb6-121">As a result, migrating EDI artifacts from BizTalk Server 2010 and later versions to BizTalk Services, is a much more straight forward process.</span></span> <span data-ttu-id="55bb6-122">若要移轉 BizTalk Server 2010 之前的版本與相關聯的 EDI 構件，必須先升級至 BizTalk Server 2010，然後再將 EDI 構件移轉至 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="55bb6-122">To migrate EDI artifacts associated with versions prior to BizTalk Server 2010, you must first upgrade to BizTalk Server 2010 and then migrate your EDI artifacts to BizTalk Services.</span></span>

## <a name="scenariosmessage-flow"></a><span data-ttu-id="55bb6-123">案例/訊息流程</span><span class="sxs-lookup"><span data-stu-id="55bb6-123">Scenarios/Message Flow</span></span>
<span data-ttu-id="55bb6-124">做為 BizTalk Server，BizTalk 服務中的 EDI 處理是使用交易夥伴管理 (TPM) 方案所建置。</span><span class="sxs-lookup"><span data-stu-id="55bb6-124">As with BizTalk Server, EDI processing in BizTalk Services is built around a Trading Partner Management (TPM) solution.</span></span> <span data-ttu-id="55bb6-125">TPM 方案具有下列主要元件：</span><span class="sxs-lookup"><span data-stu-id="55bb6-125">The TPM solution has the following key components:</span></span>

* <span data-ttu-id="55bb6-126">交易夥伴，代表 B2B 交易中的組織。</span><span class="sxs-lookup"><span data-stu-id="55bb6-126">Trading partners, which represent organization in a B2B transaction.</span></span>
* <span data-ttu-id="55bb6-127">設定檔，代表交易夥伴內的部門。</span><span class="sxs-lookup"><span data-stu-id="55bb6-127">Profiles, which represent divisions within a trading partner.</span></span>
* <span data-ttu-id="55bb6-128">交易夥伴合約 (或艒稱「合約」)，代表兩個夥伴/設定檔之間的商務合約。</span><span class="sxs-lookup"><span data-stu-id="55bb6-128">Trading partner agreements (or agreements), which represent the business agreement between two partners/profiles.</span></span>

<span data-ttu-id="55bb6-129">下圖說明相似之處，以及 BizTalk Server EDI 解決方案與 BizTalk 服務 EDI 方案之間的差異：</span><span class="sxs-lookup"><span data-stu-id="55bb6-129">The following illustration depicts the similarities, as well as differences, between a BizTalk Server EDI solution and BizTalk Services EDI solution:</span></span>

![][EDImessageflow]

<span data-ttu-id="55bb6-130">BizTalk Server 與 BizTalk 服務之間的 EDI 方案流程之間的主要差異與相似之處如下：</span><span class="sxs-lookup"><span data-stu-id="55bb6-130">The key differences, and similarities, between an EDI solution flow in BizTalk Server and BizTalk Services are:</span></span>

* <span data-ttu-id="55bb6-131">如同 BizTalk Server 會使用 EDIReceive 管線來接收 EDI 訊息，並使用 EDISend 管線傳送 EDI 訊息，BizTalk 服務會使用 EDI 接收橋接器接收，且 EDI 傳送橋接器會傳送 EDI 訊息。</span><span class="sxs-lookup"><span data-stu-id="55bb6-131">Just like BizTalk Server uses an EDIReceive pipeline to receive an EDI message and an EDISend pipeline to send an EDI message, BizTalk Services uses an EDI Receive bridge to receive and EDI Send bridge to send out EDI messages.</span></span> <span data-ttu-id="55bb6-132">在 BizTalk Server 中，會使用傳送或接收埠來建立管線與合約的關聯。</span><span class="sxs-lookup"><span data-stu-id="55bb6-132">In BizTalk Server, the pipelines are associated with an agreement by using send or receive ports.</span></span> <span data-ttu-id="55bb6-133">在 BizTalk 服務中，合約本身指定傳送或接收橋接器。</span><span class="sxs-lookup"><span data-stu-id="55bb6-133">In BizTalk Services, the agreement itself denotes the send or receive bridge.</span></span>
* <span data-ttu-id="55bb6-134">在 BizTalk Server 中，在 EDIReceive 管線處理 EDI 訊息後，會將訊息傾印至 SQL Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="55bb6-134">In BizTalk Server, after the EDIReceive pipeline processes the EDI message, the message is dumped to a SQL Server database.</span></span> <span data-ttu-id="55bb6-135">EdiSend 管線接著從 SQL Server 資料庫收取訊息、處理它，然後將它傳送給交易夥伴。</span><span class="sxs-lookup"><span data-stu-id="55bb6-135">The EdiSend pipeline then picks up the message from the SQL Server database, processes it, and then sends it out to the trading partner.</span></span>
  
    <span data-ttu-id="55bb6-136">在 BizTalk 服務 中，在 EDI 接收橋接器處理 EDI 訊息後，它會將訊息傳送至外部處理序。</span><span class="sxs-lookup"><span data-stu-id="55bb6-136">In BizTalk Services, after the EDI receive bridge processes the EDI message, it routes the message to an external process.</span></span> <span data-ttu-id="55bb6-137">外部處理序無法在 Microsoft Azure 或內部部署上執行。</span><span class="sxs-lookup"><span data-stu-id="55bb6-137">The external process could be running on Microsoft Azure or on-premises.</span></span> <span data-ttu-id="55bb6-138">外部處理序應該將訊息路由傳送至 EDI 傳送橋接器；傳送橋接器本質上不會提取訊息。</span><span class="sxs-lookup"><span data-stu-id="55bb6-138">The external process should route the message to the EDI send bridge; the send bridge does not inherently pull the message.</span></span> <span data-ttu-id="55bb6-139">處理訊息後，EDI 傳送橋接器會將訊息傳送給交易夥伴。</span><span class="sxs-lookup"><span data-stu-id="55bb6-139">After processing the message, the EDI send bridge routes the message to the trading partner.</span></span>

<span data-ttu-id="55bb6-140">BizTalk 服務提供方便使用的組態經驗來快速建立及部署交易夥伴之間的 B2B 合約，而不需設定任何 Microsoft Azure 計算執行個體 (Web 或背景工作角色)、任何 Microsoft Azure SQL 資料庫或任何 Microsoft Azure 儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="55bb6-140">BizTalk Services provides an easy-to-use configuration experience to quickly create and deploy a B2B agreement between trading partners without configuring any Microsoft Azure Compute instances (Web or Worker roles), any Microsoft Azure SQL Databases, or any Microsoft Azure storage accounts.</span></span> <span data-ttu-id="55bb6-141">更複雜的案例需要繫結工作流程，或處理交易夥伴合約之「邊緣」的其他服務，也就是在交易夥伴合約 EDI 橋接器處理之前或之後。</span><span class="sxs-lookup"><span data-stu-id="55bb6-141">More complex scenarios will require tying in workflows or other service processing "around the edges" of a Trading Partner agreement, that is, before or after Trading Partner Agreement EDI bridge processing.</span></span> <span data-ttu-id="55bb6-142">更詳細說，在 BizTalk 服務中處理 EDI 訊息期間會發生下列事件序列。</span><span class="sxs-lookup"><span data-stu-id="55bb6-142">In detail, the following sequences of events occur during an EDI message processing in BizTalk Services.</span></span>

1. <span data-ttu-id="55bb6-143">從交易夥伴 Fabrikam 接收 EDI 訊息。</span><span class="sxs-lookup"><span data-stu-id="55bb6-143">An EDI message is received from trading partner, Fabrikam.</span></span>  <span data-ttu-id="55bb6-144">從交易夥伴接收 EDI 訊息，BizTalk 服務可支援傳輸通訊協定，例如 FTP、SFTP、AS2 和 HTTP/S。</span><span class="sxs-lookup"><span data-stu-id="55bb6-144">For receiving EDI messages from trading partners, BizTalk Services supports transport protocols such as FTP, SFTP, AS2, and HTTP/S.</span></span>
2. <span data-ttu-id="55bb6-145">交易夥伴合約接收端處理程序可將 EDI 訊息解譯為 XML 格式。</span><span class="sxs-lookup"><span data-stu-id="55bb6-145">The trading partner agreement receive-side processing disassembles the EDI message to XML format.</span></span>  <span data-ttu-id="55bb6-146">您可以將解譯的 EDI 訊息 (XML 格式) 路由傳送至服務匯流排端點，例如服務匯流排轉送端點、服務匯流排主題、服務匯流排佇列或 BizTalk 服務橋接器。</span><span class="sxs-lookup"><span data-stu-id="55bb6-146">You can route the disassembled EDI message (in XML format) to Service Bus endpoints such as a Service Bus Relay endpoint, Service Bus Topic, Service Bus Queue, or a BizTalk Services bridge.</span></span>
3. <span data-ttu-id="55bb6-147">接著可能會從端點收到解譯的 XML 訊息以進一步自訂處理。</span><span class="sxs-lookup"><span data-stu-id="55bb6-147">The disassembled XML messages could then be received from the endpoint for further custom processing.</span></span>  <span data-ttu-id="55bb6-148">例如，這些端點可由內部部署元件或 Microsoft Azure 計算執行個體處理，以進一步在 Windows Workflow (WF) 或 Windows Communication Foundation (WCF) 服務中處理訊息。</span><span class="sxs-lookup"><span data-stu-id="55bb6-148">These endpoints could be processed by an on-premises component or a Microsoft Azure Compute instance to further process the message in a Windows Workflow (WF) or Windows Communication Foundation (WCF) service, for example.</span></span>
4. <span data-ttu-id="55bb6-149">交易夥伴合約的「傳送端處理」接著會將 XML 訊息組合成 EDI 格式，並傳送至交易夥伴 Contoso。</span><span class="sxs-lookup"><span data-stu-id="55bb6-149">The "send-side processing" of the trading partner agreement then assembles the XML message into EDI format and sends it to trading partner, Contoso.</span></span>  <span data-ttu-id="55bb6-150">若是傳送 EDI 訊息給交易夥伴，BizTalk 服務可支援與用來接收 EDI 訊息的相同通訊協定。</span><span class="sxs-lookup"><span data-stu-id="55bb6-150">For sending EDI messages to trading partners, BizTalk Services supports the same protocols as those used for receiving EDI messages.</span></span>

<span data-ttu-id="55bb6-151">本文將進一步提供概念性指引，將部分不同的 BizTalk Server EDI 構件移轉至 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="55bb6-151">This document further provides conceptual guidance on migrating some of the different BizTalk Server EDI artifacts to BizTalk Services.</span></span>

## <a name="sendreceive-ports-to-trading-partners"></a><span data-ttu-id="55bb6-152">至交易夥伴的傳送/接收埠</span><span class="sxs-lookup"><span data-stu-id="55bb6-152">Send/Receive Ports to Trading Partners</span></span>
<span data-ttu-id="55bb6-153">在 BizTalk Server 中，您設定接收位置和接收埠來接收交易夥伴的 EDI/XML 訊息，而且您已設定傳送埠將 EDI/XML 訊息傳送至交易夥伴。</span><span class="sxs-lookup"><span data-stu-id="55bb6-153">In BizTalk Server you set up Receive Locations and Receive Ports to receive EDI/XML messages from trading partners, and you set up Send Ports to send EDI/XML messages to trading partner.</span></span> <span data-ttu-id="55bb6-154">您接著將使用 BizTalk Server 管理主控台，將這些連接埠繫結至交易夥伴合約。</span><span class="sxs-lookup"><span data-stu-id="55bb6-154">You then tie up these ports to a trading partner agreement using the BizTalk Server Administration console.</span></span> <span data-ttu-id="55bb6-155">在 BizTalk 服務中，會將從交易夥伴接收訊息的位置，和您傳送訊息給交易夥伴的位置，設定為交易夥伴合約本身 (做為傳輸設定的一部分) 在 BizTalk 服務入口網站的一部分。</span><span class="sxs-lookup"><span data-stu-id="55bb6-155">In BizTalk Services, the locations where you receive messages from trading partners and where you send messages to trading partners are configured as part of the trading partner agreement itself (as part of Transport Settings) in the BizTalk Services Portal.</span></span>  <span data-ttu-id="55bb6-156">所以您本身其實沒有 BizTalk 服務中的「傳送埠」和「接收位置」概念。</span><span class="sxs-lookup"><span data-stu-id="55bb6-156">So you do not really have the concept of "send ports" and "receive locations", per se, in BizTalk Services.</span></span> <span data-ttu-id="55bb6-157">如需詳細資訊，請參閱 [建立協議](https://msdn.microsoft.com/library/windowsazure/hh689908.aspx)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-157">For more information, see [Creating Agreements](https://msdn.microsoft.com/library/windowsazure/hh689908.aspx).</span></span>

## <a name="pipelines-bridges"></a><span data-ttu-id="55bb6-158">管線 (橋接器)</span><span class="sxs-lookup"><span data-stu-id="55bb6-158">Pipelines (Bridges)</span></span>
<span data-ttu-id="55bb6-159">在 BizTalk Server EDI 中，管線是也可以包含特定處理能力的自訂邏輯之訊息處理實體 (應用程式所需)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-159">In BizTalk Server EDI, pipelines are message processing entities that can also include custom logic for specific processing capabilities, as required by the application.</span></span> <span data-ttu-id="55bb6-160">BizTalk 服務的對等項目則是 EDI 橋接器。</span><span class="sxs-lookup"><span data-stu-id="55bb6-160">For BizTalk Services, the equivalent would an EDI bridge.</span></span> <span data-ttu-id="55bb6-161">不過在目前的 BizTalk 服務中，EDI 橋接器會「關閉」。</span><span class="sxs-lookup"><span data-stu-id="55bb6-161">However in BizTalk Services, for now, the EDI bridges are "closed".</span></span>  <span data-ttu-id="55bb6-162">也就是說，您無法將您自己的自訂活動加入至 EDI 橋接器。</span><span class="sxs-lookup"><span data-stu-id="55bb6-162">That is, you cannot add your own custom activities to an EDI bridge.</span></span> <span data-ttu-id="55bb6-163">任何自訂的處理必須在應用程式的 EDI 橋接器外部完成，且必須在訊息進入交易夥伴合約中設定的橋接器之前或之後。</span><span class="sxs-lookup"><span data-stu-id="55bb6-163">Any custom processing must be done outside the EDI bridge in your application, either before or after the message enters the bridge configured as part of the Trading Partner agreement.</span></span> <span data-ttu-id="55bb6-164">EAI 橋接器可選擇執行自訂處理。</span><span class="sxs-lookup"><span data-stu-id="55bb6-164">EAI bridges have the option to do custom processing.</span></span> <span data-ttu-id="55bb6-165">如果您想要自訂處理，您可以在 EDI 橋接器處理訊息之前或之後使用 EAI 橋接器。</span><span class="sxs-lookup"><span data-stu-id="55bb6-165">If you want custom processing, you can use EAI bridges before or after the message is processed by the EDI bridge.</span></span> <span data-ttu-id="55bb6-166">如需詳細資訊，請參閱 [如何將自訂程式碼加入橋接器中](https://msdn.microsoft.com/library/azure/dn232389.aspx)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-166">For more information, see [How to Include Custom Code in Bridges](https://msdn.microsoft.com/library/azure/dn232389.aspx).</span></span>

<span data-ttu-id="55bb6-167">您可以在交易夥伴合約接收訊息之前，或在合約處理訊息，並將它傳遞到服務匯流排端點後，使用自訂程式碼和/或使用服務匯流排訊息佇列和主題插入發佈/訂閱流程。</span><span class="sxs-lookup"><span data-stu-id="55bb6-167">You can insert a publish/subscribe flow with custom code and/or using Service Bus messaging Queues and Topics before the trading partner agreement receives the message, or after the agreement processes the message and routes it to a Service Bus endpoint.</span></span>

<span data-ttu-id="55bb6-168">如需訊息流程模式的詳細資訊，請參閱本主題的 **案例/訊息流程** 。</span><span class="sxs-lookup"><span data-stu-id="55bb6-168">See **Scenarios/Message Flow** in this topic for the message flow pattern.</span></span>

## <a name="agreements"></a><span data-ttu-id="55bb6-169">合約</span><span class="sxs-lookup"><span data-stu-id="55bb6-169">Agreements</span></span>
<span data-ttu-id="55bb6-170">如果您熟悉用於 EDI 處理的 BizTalk Server 2010 交易夥伴合約，則 BizTalk 服務交易夥伴合約看起來會很熟悉。</span><span class="sxs-lookup"><span data-stu-id="55bb6-170">If you are familiar with the BizTalk Server 2010 Trading Partner Agreements used for EDI processing, then BizTalk Services trading partner agreements look very familiar.</span></span> <span data-ttu-id="55bb6-171">大部分的合約設定相同，而且使用相同的詞彙。</span><span class="sxs-lookup"><span data-stu-id="55bb6-171">Most of the agreement settings are the same and use the same terminology.</span></span> <span data-ttu-id="55bb6-172">在某些情況下，相較於 BizTalk Server 中的相同設定，合約設定會簡單許多。</span><span class="sxs-lookup"><span data-stu-id="55bb6-172">In some cases, the agreement settings are much simpler compared to the same settings in BizTalk Server.</span></span> <span data-ttu-id="55bb6-173">Microsoft Azure BizTalk 服務支援 X12、EDIFACT 和 AS2 傳輸。</span><span class="sxs-lookup"><span data-stu-id="55bb6-173">Microsoft Azure BizTalk Services supports X12, EDIFACT, and AS2 transport.</span></span>

<span data-ttu-id="55bb6-174">Microsoft Azure BizTalk 服務也提供 **TPM 資料移轉** 工具，可將交易夥伴和合約從 BizTalk Server 交易夥伴模組移轉至 BizTalk 服務入口網站。</span><span class="sxs-lookup"><span data-stu-id="55bb6-174">Microsoft Azure BizTalk Services also provides a **TPM Data Migration** tool to migrate trading partners and agreements from BizTalk Server Trading Partner module to BizTalk Services Portal.</span></span> <span data-ttu-id="55bb6-175">TPM 資料移轉工具是工具套件的一部分，它可以從 [MABS SDK](http://go.microsoft.com/fwlink/p/?LinkId=235057)下載。</span><span class="sxs-lookup"><span data-stu-id="55bb6-175">The TPM Data Migration tool is available as part of a Tools package, which can be downloaded from the [MABS SDK](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span></span> <span data-ttu-id="55bb6-176">此封裝也包含一個 readme 檔案，提供如何使用工具的指示，以及工具基本的疑難排解資訊。</span><span class="sxs-lookup"><span data-stu-id="55bb6-176">The package also includes a readme that provides instructions on how to use the tool, and basic troubleshooting information for the tool.</span></span>

## <a name="schemas"></a><span data-ttu-id="55bb6-177">結構描述</span><span class="sxs-lookup"><span data-stu-id="55bb6-177">Schemas</span></span>
<span data-ttu-id="55bb6-178">BizTalk 服務提供可在 BizTalk 服務方案中使用的 EDI 結構描述。</span><span class="sxs-lookup"><span data-stu-id="55bb6-178">BizTalk Services provides EDI schemas which can be used in BizTalk Services solutions.</span></span>  <span data-ttu-id="55bb6-179">此外，BizTalk Server EDI 結構描述也可與 BizTalk 服務搭配使用，因為 EDI 結構描述的根節點跨 BizTalk Server 與 BizTalk 服務相同。</span><span class="sxs-lookup"><span data-stu-id="55bb6-179">In addition, BizTalk Server EDI schemas can also be used with BizTalk Services because the root node of the EDI schema is same across BizTalk Server as well as BizTalk Services.</span></span> <span data-ttu-id="55bb6-180">因此，您將能夠直接取得您的 BizTalk Server EDI 結構描述，並在您使用 BizTalk 服務開發的 EDI 解決方案中使用它們。</span><span class="sxs-lookup"><span data-stu-id="55bb6-180">Thus, you will be able to directly take your BizTalk Server EDI schemas and use them in the EDI solutions that you develop using BizTalk Services.</span></span> <span data-ttu-id="55bb6-181">您也可以從 [MABS SDK](http://go.microsoft.com/fwlink/p/?LinkId=235057)下載結構描述。</span><span class="sxs-lookup"><span data-stu-id="55bb6-181">You can also download the schemas from the [MABS SDK](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span></span>

## <a name="maps-transforms"></a><span data-ttu-id="55bb6-182">對應 (轉換)</span><span class="sxs-lookup"><span data-stu-id="55bb6-182">Maps (Transforms)</span></span>
<span data-ttu-id="55bb6-183">BizTalk Server 中的對應在 BizTalk 服務中稱為「轉換」。</span><span class="sxs-lookup"><span data-stu-id="55bb6-183">Maps in BizTalk Server are called Transforms in BizTalk Services.</span></span> <span data-ttu-id="55bb6-184">從 BizTalk Server 將對應移轉到 BizTalk 服務可能是其中一個更複雜的工作 (取決於對應複雜性)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-184">Migrating maps from BizTalk Server to BizTalk Services could be one of the more complex tasks to achieve (depending on map complexity).</span></span> <span data-ttu-id="55bb6-185">BizTalk 服務所使用的對應程式與 BizTalk 對應程式不同。</span><span class="sxs-lookup"><span data-stu-id="55bb6-185">The mapping tool used for BizTalk Services is different from the BizTalk mapper.</span></span> <span data-ttu-id="55bb6-186">即使對應程式看起來幾乎相同，基本對應格式也不同。</span><span class="sxs-lookup"><span data-stu-id="55bb6-186">Even though the mapper looks mostly the same, the underlying map format is different.</span></span> <span data-ttu-id="55bb6-187">使用者的可用運算質 (稱為 BizTalk 服務中的 **對應作業** ) 也有不同。</span><span class="sxs-lookup"><span data-stu-id="55bb6-187">The functoids (called **Map Operations** in BizTalk Services) available to the users are different as well.</span></span>  <span data-ttu-id="55bb6-188">事實上，您無法在 BizTalk 服務中直接使用 BizTalk 對應。</span><span class="sxs-lookup"><span data-stu-id="55bb6-188">In effect, you cannot directly use a BizTalk map in BizTalk Services.</span></span> <span data-ttu-id="55bb6-189">此外，並非所有 BizTalk Server 中提供的運算質都可做為 BizTalk 服務中的對應作業。</span><span class="sxs-lookup"><span data-stu-id="55bb6-189">Also, not all the functoids available in BizTalk Server are available as map operations in BizTalk Services.</span></span>

### <a name="new-transform-operations"></a><span data-ttu-id="55bb6-190">新的轉換作業</span><span class="sxs-lookup"><span data-stu-id="55bb6-190">New Transform Operations</span></span>
<span data-ttu-id="55bb6-191">雖然可用的轉換對應作業清單似乎與 BizTalk Server 對應程式相當不同，但 BizTalk 服務轉換有新方法來完成相同工作。</span><span class="sxs-lookup"><span data-stu-id="55bb6-191">While the list of Transform map operations available may seem quite different from the BizTalk Server mapper, BizTalk Services Transforms have new ways of accomplishing the same tasks.</span></span> <span data-ttu-id="55bb6-192">例如，BizTalk 服務轉換有 **清單作業** 可用。</span><span class="sxs-lookup"><span data-stu-id="55bb6-192">For example, BizTalk Services Transforms have **List Operations** available.</span></span> <span data-ttu-id="55bb6-193">這不是在 BizTalk 對應程式中使用。</span><span class="sxs-lookup"><span data-stu-id="55bb6-193">This was not available in the BizTalk mapper.</span></span>  <span data-ttu-id="55bb6-194">**清單作業** 可讓您建立及操作「清單」，清單是一組項目 (也稱為「資料列」)，而且每個項目可以有多個成員 (也稱為「資料行」)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-194">The **List Operations** enable you to create and operate on a "List", where a list is a set of items (also known as "rows") and where each item can have multiple members (also known as "columns").</span></span>  <span data-ttu-id="55bb6-195">您可以排序清單、根據條件選取項目等等。</span><span class="sxs-lookup"><span data-stu-id="55bb6-195">You can sort the list, select items based on a condition, etc.</span></span>

<span data-ttu-id="55bb6-196">BizTalk 服務轉換的其他新功能範例是 **迴圈作業**。</span><span class="sxs-lookup"><span data-stu-id="55bb6-196">Another example of new functionality in BizTalk Services Transforms are the **Loop Operations**.</span></span>  <span data-ttu-id="55bb6-197">很難在 BizTalk Server 對應程式中建立巢狀迴圈。</span><span class="sxs-lookup"><span data-stu-id="55bb6-197">It is difficult to create nested loops in the BizTalk Server mapper.</span></span>  <span data-ttu-id="55bb6-198">因此，會為 BizTalk 服務轉換加入迴圈對應作業。</span><span class="sxs-lookup"><span data-stu-id="55bb6-198">Thus, the Loop map operations are added for the BizTalk Services Transforms.</span></span>

<span data-ttu-id="55bb6-199">但另一個範例是 **If-Then-Else** 運算式對應作業。</span><span class="sxs-lookup"><span data-stu-id="55bb6-199">Yet another example is the **If-Then-Else** Expression map operation.</span></span>  <span data-ttu-id="55bb6-200">可以在 BizTalk 對應程式中執行 if-then-else 作業，但是它需要多個運算質來完成一個看似簡單的工作。</span><span class="sxs-lookup"><span data-stu-id="55bb6-200">Doing an if-then-else operation was possible in the BizTalk mapper, but it required multiple functoids to accomplish a seemingly simple task.</span></span>

### <a name="migrating-biztalk-server-maps"></a><span data-ttu-id="55bb6-201">移轉 BizTalk Server 對應</span><span class="sxs-lookup"><span data-stu-id="55bb6-201">Migrating BizTalk Server Maps</span></span>
<span data-ttu-id="55bb6-202">Microsoft Azure BizTalk 服務提供工具，可將 BizTalk Server 移轉至 BizTalk 服務轉換。</span><span class="sxs-lookup"><span data-stu-id="55bb6-202">Microsoft Azure BizTalk Services provides a tool to migrate BizTalk Server maps to BizTalk Services transforms.</span></span> <span data-ttu-id="55bb6-203">**BTMMigrationTool** 是 [BizTalk 服務 SDK 下載](http://go.microsoft.com/fwlink/p/?LinkId=235057)所提供的**工具**封裝的一部分。</span><span class="sxs-lookup"><span data-stu-id="55bb6-203">The **BTMMigrationTool** is available as part of the **Tools** package provided with the [BizTalk Services SDK download](http://go.microsoft.com/fwlink/p/?LinkId=235057).</span></span> <span data-ttu-id="55bb6-204">如需有關此工具的詳細資訊，請參閱 [將 BizTalk 對應轉換成 BizTalk 服務轉換](https://msdn.microsoft.com/library/windowsazure/hh949812.aspx)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-204">For more information about the tool, see [Convert a BizTalk map to a BizTalk Services Transform](https://msdn.microsoft.com/library/windowsazure/hh949812.aspx).</span></span>

<span data-ttu-id="55bb6-205">您也可以查看 BizTalk MVP Sandro Pereira 所提供的範例，以了解 [如何將 BizTalk Server 對應移轉至 BizTalk 服務轉換](http://social.technet.microsoft.com/wiki/contents/articles/23220.migrating-biztalk-server-maps-to-windows-azure-biztalk-services-wabs-maps.aspx)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-205">You can also look at a sample by Sandro Pereira, BizTalk MVP, on how to [migrate BizTalk Server maps to BizTalk Services transforms](http://social.technet.microsoft.com/wiki/contents/articles/23220.migrating-biztalk-server-maps-to-windows-azure-biztalk-services-wabs-maps.aspx).</span></span>

## <a name="orchestrations"></a><span data-ttu-id="55bb6-206">協調流程</span><span class="sxs-lookup"><span data-stu-id="55bb6-206">Orchestrations</span></span>
<span data-ttu-id="55bb6-207">如果您需要將 BizTalk Server 協調流程移轉至 Microsoft Azure，協調流程需要重寫，因為 Microsoft Azure 不支援 BizTalk Server 協調流程的執行。</span><span class="sxs-lookup"><span data-stu-id="55bb6-207">If you need to migrate BizTalk Server orchestration processing to Microsoft Azure, the orchestrations would need to be rewritten because Microsoft Azure does not support running BizTalk Server orchestrations.</span></span>  <span data-ttu-id="55bb6-208">您可以在 Windows Workflow Foundation 4.0 (WF4) 服務中重寫協調流程功能。</span><span class="sxs-lookup"><span data-stu-id="55bb6-208">You could rewrite the orchestration functionality in a Windows Workflow Foundation 4.0 (WF4) service.</span></span>  <span data-ttu-id="55bb6-209">這會完全重寫，因為目前沒有從 BizTalk Server 協調流程至 WF4 的移轉。</span><span class="sxs-lookup"><span data-stu-id="55bb6-209">This would be a complete rewrite as there is currently no migration from BizTalk Server orchestrations to WF4.</span></span> <span data-ttu-id="55bb6-210">以下是 Windows 工作流程的一些資源：</span><span class="sxs-lookup"><span data-stu-id="55bb6-210">Here are some resources for Windows Workflow:</span></span>

* <span data-ttu-id="55bb6-211">[*如何整合 WCF 工作流程服務與服務匯流排佇列和主題*](https://msdn.microsoft.com/library/azure/hh709041.aspx) (由 Paolo Salvatori 撰寫)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-211">[*How to integrate a WCF Workflow Service with Service Bus Queues and Topics*](https://msdn.microsoft.com/library/azure/hh709041.aspx) by Paolo Salvatori.</span></span> 
* <span data-ttu-id="55bb6-212">[*使用 Windows Workflow Foundation 和 Azure 建置應用程式*講習](http://go.microsoft.com/fwlink/p/?LinkId=237314) (來自 Build 2011 會議)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-212">[*Building apps with Windows Workflow Foundation and Azure* session](http://go.microsoft.com/fwlink/p/?LinkId=237314) from the Build 2011 conference.</span></span>
* <span data-ttu-id="55bb6-213">[*Windows Workflow Foundation 開發人員中心*](http://go.microsoft.com/fwlink/p/?LinkId=237315) (位於 MSDN 上)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-213">[*Windows Workflow Foundation Developer Center*](http://go.microsoft.com/fwlink/p/?LinkId=237315) on MSDN.</span></span>
* <span data-ttu-id="55bb6-214">[*Windows Workflow Foundation 4 (WF4) 文件*](https://msdn.microsoft.com/library/dd489441.aspx) (位於 MSDN 上)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-214">[*Windows Workflow Foundation 4 (WF4) documentation*](https://msdn.microsoft.com/library/dd489441.aspx) on MSDN.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="55bb6-215">其他考量</span><span class="sxs-lookup"><span data-stu-id="55bb6-215">Other Considerations</span></span>
<span data-ttu-id="55bb6-216">以下是您在使用 BizTalk 服務時必須考量的一些事項。</span><span class="sxs-lookup"><span data-stu-id="55bb6-216">Following are a few considerations that you must make while using BizTalk Services.</span></span>

### <a name="fallback-agreements"></a><span data-ttu-id="55bb6-217">後援合約</span><span class="sxs-lookup"><span data-stu-id="55bb6-217">Fallback Agreements</span></span>
<span data-ttu-id="55bb6-218">BizTalk Server EDI 處理程序有「後援合約」概念。</span><span class="sxs-lookup"><span data-stu-id="55bb6-218">BizTalk Server EDI processing has the concept of "Fallback Agreements".</span></span>  <span data-ttu-id="55bb6-219">到目前為止，BizTalk 服務「沒有」  後援合約的概念。</span><span class="sxs-lookup"><span data-stu-id="55bb6-219">BizTalk Services does **not** have a Fallback Agreement concept so far.</span></span>  <span data-ttu-id="55bb6-220">如需如何在 BizTalk Server 中使用後援合約的相關資訊，請參閱 BizTalk 文件主題 [EDI 處理中協議的角色](http://go.microsoft.com/fwlink/p/?LinkId=237317)和[設定全域或後援協議屬性](https://msdn.microsoft.com/library/bb245981.aspx)。</span><span class="sxs-lookup"><span data-stu-id="55bb6-220">See BizTalk documentation topics [The Role of Agreements in EDI Processing](http://go.microsoft.com/fwlink/p/?LinkId=237317) and [Configuring Global or Fallback Agreement Properties](https://msdn.microsoft.com/library/bb245981.aspx) for information on how Fallback Agreements are used in BizTalk Server.</span></span>

### <a name="routing-to-multiple-destinations"></a><span data-ttu-id="55bb6-221">路由至多個目的地</span><span class="sxs-lookup"><span data-stu-id="55bb6-221">Routing to multiple destinations</span></span>
<span data-ttu-id="55bb6-222">BizTalk 服務橋接器目前不支援使用發佈-訂閱模型，將訊息路由至多個目的地。</span><span class="sxs-lookup"><span data-stu-id="55bb6-222">BizTalk Services bridges, in its current state does not support routing messages to multiple destinations using a publish-subscribe model.</span></span> <span data-ttu-id="55bb6-223">您可以轉為將訊息從 BizTalk 服務橋接器路由到服務匯流排主題，如此即可有多個訂用帳戶會接收位於多個端點的訊息。</span><span class="sxs-lookup"><span data-stu-id="55bb6-223">Instead you could route messages from a BizTalk Services bridge to a Service Bus topic, which can then have multiple subscriptions to receive the message at more than one endpoint.</span></span>

## <a name="conclusion"></a><span data-ttu-id="55bb6-224">結論</span><span class="sxs-lookup"><span data-stu-id="55bb6-224">Conclusion</span></span>
<span data-ttu-id="55bb6-225">Microsoft Azure BizTalk 服務會定期更新以新增更多特性和功能。</span><span class="sxs-lookup"><span data-stu-id="55bb6-225">Microsoft Azure BizTalk Services is updated at regular milestones to add more features and capabilities.</span></span> <span data-ttu-id="55bb6-226">每次更新時，我們期望能支援更的多功能，以方便使用 BizTalk 服務與其他 Azure 技術建立端對端解決方案。</span><span class="sxs-lookup"><span data-stu-id="55bb6-226">With each update, we look forward to supporting increased functionality to facilitate creating end-to-end solutions using BizTalk Services and other Azure technologies.</span></span>

## <a name="see-also"></a><span data-ttu-id="55bb6-227">另請參閱</span><span class="sxs-lookup"><span data-stu-id="55bb6-227">See Also</span></span>
[<span data-ttu-id="55bb6-228">使用 Azure 開發企業應用程式</span><span class="sxs-lookup"><span data-stu-id="55bb6-228">Developing Enterprise Applications with Azure</span></span>](https://msdn.microsoft.com/library/azure/hh674490.aspx)

[EDImessageflow]: ./media/biztalk-migrating-to-edi-guide/IC719455.png
