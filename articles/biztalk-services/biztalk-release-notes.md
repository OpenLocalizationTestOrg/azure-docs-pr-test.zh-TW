---
title: "Azure BizTalk 服務的版本資訊 | Microsoft Docs"
description: "列出 Azure BizTalk 服務的已知問題"
services: biztalk-services
documentationcenter: 
author: msftman
manager: erikre
editor: 
ms.assetid: f4906fdc-4cd9-4a57-a007-a88c2e51a18f
ms.service: biztalk-services
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/15/2016
ms.author: deonhe
ms.openlocfilehash: 18ed891a9bba2b4011d3492722a2366d96fb3c01
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/03/2017
---
# <a name="release-notes-for-azure-biztalk-services"></a><span data-ttu-id="fa7ee-103">Azure BizTalk 服務的版本資訊</span><span class="sxs-lookup"><span data-stu-id="fa7ee-103">Release Notes for Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="fa7ee-104">Microsoft Azure BizTalk 服務的版本資訊包含此版本已知的問題。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-104">The release notes for the Microsoft Azure BizTalk Services contain the known issues in this release.</span></span>

## <a name="whats-new-in-the-november-update-of-biztalk-services"></a><span data-ttu-id="fa7ee-105">BizTalk 服務 11 月份更新的新增功能</span><span class="sxs-lookup"><span data-stu-id="fa7ee-105">What’s new in the November update of BizTalk Services</span></span>
* <span data-ttu-id="fa7ee-106">BizTalk 服務入口網站中可以啟用靜態加密。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-106">Encryption at Rest can be enabled in the BizTalk Services Portal.</span></span> <span data-ttu-id="fa7ee-107">請參閱 [在 BizTalk 服務入口網站中啟用靜態加密](https://msdn.microsoft.com/library/azure/dn874052.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-107">See [Enable Encryption at Rest in BizTalk Services Portal](https://msdn.microsoft.com/library/azure/dn874052.aspx).</span></span>

## <a name="update-history"></a><span data-ttu-id="fa7ee-108">更新歷程記錄</span><span class="sxs-lookup"><span data-stu-id="fa7ee-108">Update History</span></span>
### <a name="october-update"></a><span data-ttu-id="fa7ee-109">10 月更新</span><span class="sxs-lookup"><span data-stu-id="fa7ee-109">October Update</span></span>
* <span data-ttu-id="fa7ee-110">支援組織帳戶：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-110">Organizational accounts are supported:</span></span>  
  * <span data-ttu-id="fa7ee-111">**情節**：您使用 Microsoft 帳戶註冊了 BizTalk 服務部署 (例如 user@live.com)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-111">**Scenario**: You registered a BizTalk Service deployment using a Microsoft account (like user@live.com).</span></span> <span data-ttu-id="fa7ee-112">在此情節中，只有 Microsoft 帳戶使用者可以使用 BizTalk 服務入口網站來管理 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-112">In this scenario, only Microsoft Account users can manage the BizTalk Service using the BizTalk Services portal.</span></span> <span data-ttu-id="fa7ee-113">無法使用組織帳戶。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-113">An organizational account cannot be used.</span></span>  
  * <span data-ttu-id="fa7ee-114">**情節**：您使用 Azure Active Directory 中的組織帳戶註冊了 BizTalk 服務部署 (例如 user@fabrikam.com 或 user@contoso.com)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-114">**Scenario**: You registered a BizTalk Service deployment using an organizational account in an Azure Active Directory (like user@fabrikam.com or user@contoso.com).</span></span> <span data-ttu-id="fa7ee-115">在此情節中，只有相同組織內的 Azure Active Directory 使用者可以使用 BizTalk 服務入口網站來管理 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-115">In this scenario, only Azure Active Directory users within the same organization can manage the BizTalk Service using the BizTalk Services portal.</span></span> <span data-ttu-id="fa7ee-116">無法使用 Microsoft 帳戶。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-116">A Microsoft account cannot be used.</span></span>  
* <span data-ttu-id="fa7ee-117">當您在 Azure 傳統入口網站建立 BizTalk 服務時，您會自動在 BizTalk 服務入口網站中註冊。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-117">When you create a BizTalk Service in the Azure classic portal, you are automatically registered in the BizTalk Services Portal.</span></span>
  * <span data-ttu-id="fa7ee-118">**案例**：您第一次登入 Azure 傳統入口網站、建立 BizTalk 服務，然後選取 [管理]。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-118">**Scenario**: You sign into the Azure classic portal, create a BizTalk Service, and then select **Manage** for the very first time.</span></span> <span data-ttu-id="fa7ee-119">BizTalk 服務入口網站開啟時，BizTalk 服務自會動註冊，並且可用於您的部署。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-119">When the BizTalk Services portal opens, the BizTalk Service automatically registers and is ready for your deployments.</span></span>  
    <span data-ttu-id="fa7ee-120">請參閱 [在 BizTalk 服務入口網站註冊和更新 BizTalk 服務部署](https://msdn.microsoft.com/library/azure/hh689837.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-120">See [Registering and Updating a BizTalk Service Deployment on the BizTalk Services Portal](https://msdn.microsoft.com/library/azure/hh689837.aspx).</span></span>  

### <a name="august-14-update"></a><span data-ttu-id="fa7ee-121">8 月 14 日更新</span><span class="sxs-lookup"><span data-stu-id="fa7ee-121">August 14 Update</span></span>
* <span data-ttu-id="fa7ee-122">合約與橋接器分離 – 現在，交易夥伴合約和橋接器在 BizTalk 服務入口網站中會分離。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-122">Agreement and bridge decoupling – Trading partner agreements and bridges are now decoupled in the BizTalk Services Portal.</span></span> <span data-ttu-id="fa7ee-123">您現在分開建立合約和橋接器，而在執行階段，橋接器會根據 EDI 訊息中的值解析為合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-123">You now create agreements and bridges separately, and at runtime bridges resolve to an agreement based on the values in the EDI message.</span></span> <span data-ttu-id="fa7ee-124">請參閱[在 Azure BizTalk 服務中建立合約](https://msdn.microsoft.com/library/azure/hh689908.aspx)、[使用 BizTalk 服務入口網站建立 EDI 橋接器](https://msdn.microsoft.com/library/azure/dn793986.aspx)、[使用 BizTalk 服務入口網站建立 AS2 橋接器](https://msdn.microsoft.com/library/azure/dn793993.aspx)和[橋接器在執行階段如何解析合約？](https://msdn.microsoft.com/library/azure/dn794001.aspx)</span><span class="sxs-lookup"><span data-stu-id="fa7ee-124">See [Create Agreements in Azure BizTalk Services](https://msdn.microsoft.com/library/azure/hh689908.aspx), [Create an EDI bridge using BizTalk Services Portal](https://msdn.microsoft.com/library/azure/dn793986.aspx), [Create an AS2 bridge using BizTalk Services Portal](https://msdn.microsoft.com/library/azure/dn793993.aspx), and [How do bridges resolve agreements at runtime?](https://msdn.microsoft.com/library/azure/dn794001.aspx)</span></span>  
* <span data-ttu-id="fa7ee-125">用於建立合約範本的選項已終止。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-125">The option to create templates for agreements is discontinued.</span></span>  
* <span data-ttu-id="fa7ee-126">對於傳送端合約，您現在可以為每個結構描述指定不同的分隔符號集。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-126">For the send-side agreement, you can now specify different delimiter sets for each schema.</span></span> <span data-ttu-id="fa7ee-127">此設定是在傳送端合約的通訊協定設定下指定。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-127">This configuration is specified under protocol settings for send side agreement.</span></span> <span data-ttu-id="fa7ee-128">如需詳細資訊，請參閱[在 Azure BizTalk 服務中建立 X12 合約](https://msdn.microsoft.com/library/azure/hh689847.aspx)和[在 Azure BizTalk 服務中建立 EDIFACT合約](https://msdn.microsoft.com/library/azure/dn606267.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-128">For more information, see [Create an X12 Agreement in Azure BizTalk Services](https://msdn.microsoft.com/library/azure/hh689847.aspx) and [Create an EDIFACT Agreement in Azure BizTalk Services](https://msdn.microsoft.com/library/azure/dn606267.aspx).</span></span> <span data-ttu-id="fa7ee-129">兩個新的實體也為了相同目的而新增至 TPM OM API。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-129">Two new entities are also added to the TPM OM API for the same purpose.</span></span> <span data-ttu-id="fa7ee-130">請參閱 [X12DelimiterOverrides](https://msdn.microsoft.com/library/azure/dn798749.aspx) 和 [EDIFACTDelimiterOverride](https://msdn.microsoft.com/library/azure/dn798748.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-130">See [X12DelimiterOverrides](https://msdn.microsoft.com/library/azure/dn798749.aspx) and [EDIFACTDelimiterOverride](https://msdn.microsoft.com/library/azure/dn798748.aspx).</span></span>  
* <span data-ttu-id="fa7ee-131">現在支援標準 XSD 建構，包括衍生類型。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-131">Standard XSD constructs, including Derived Types, are now supported.</span></span> <span data-ttu-id="fa7ee-132">請參閱[在您的對應中使用標準 XSD 建構](https://msdn.microsoft.com/library/azure/dn793987.aspx)和[在對應案例和範例中使用衍生類型](https://msdn.microsoft.com/library/azure/dn793997.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-132">See [Use standard XSD constructs in your maps](https://msdn.microsoft.com/library/azure/dn793987.aspx) and [Use Derived Types in Mapping Scenarios and Examples](https://msdn.microsoft.com/library/azure/dn793997.aspx).</span></span>  
* <span data-ttu-id="fa7ee-133">AS2 支援用於訊息簽署的新 MIC 演算法，以及新的加密演算法。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-133">AS2 supports new MIC algorithms for message signing and new encryption algorithms.</span></span> <span data-ttu-id="fa7ee-134">請參閱 [在 Azure BizTalk 服務中建立 AS2合約](https://msdn.microsoft.com/library/azure/hh689890.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-134">See [Create an AS2 Agreement in Azure BizTalk Services](https://msdn.microsoft.com/library/azure/hh689890.aspx).</span></span>  
  ## <a name="know-issues"></a><span data-ttu-id="fa7ee-135">已知問題</span><span class="sxs-lookup"><span data-stu-id="fa7ee-135">Know Issues</span></span>

### <a name="connectivity-issues-after-biztalk-services-portal-update"></a><span data-ttu-id="fa7ee-136">BizTalk 服務入口網站更新之後的連線能力問題</span><span class="sxs-lookup"><span data-stu-id="fa7ee-136">Connectivity Issues after BizTalk Services Portal Update</span></span>
  <span data-ttu-id="fa7ee-137">當升級 BizTalk 服務來導入服務的變更時，如果 BizTalk 服務入口網站中已開啟，BizTalk 服務入口網站的連線能力可能會發生問題。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-137">If you have the BizTalk Services Portal open while BizTalk Services is upgraded to roll in changes to the service, you might face connectivity issues with the BizTalk Services Portal.</span></span>  
  <span data-ttu-id="fa7ee-138">解決方法是重新啟動瀏覽器、刪除瀏覽器快取，或在私用模式下啟動入口網站。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-138">As a workaround, you may restart the browser, delete the browser cache, or start the portal in private mode.</span></span>  

### <a name="visual-studio-ide-cannot-locate-the-artifact-if-you-click-an-error-or-warning-in-a-biztalk-services-project"></a><span data-ttu-id="fa7ee-139">如果您在 BizTalk 服務專案中按一下錯誤或警告，Visual Studio IDE 找不到構件</span><span class="sxs-lookup"><span data-stu-id="fa7ee-139">Visual Studio IDE cannot locate the artifact if you click an error or warning in a BizTalk Services project</span></span>
<span data-ttu-id="fa7ee-140">安裝 Visual Studio 2012 Update 3 RC 1 來修正問題。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-140">Install the Visual Studio 2012 Update 3 RC 1 to fix the issue.</span></span>  

### <a name="custom-binding-project-reference"></a><span data-ttu-id="fa7ee-141">自訂繫結專案參考</span><span class="sxs-lookup"><span data-stu-id="fa7ee-141">Custom binding project reference</span></span>
<span data-ttu-id="fa7ee-142">假設 Visual Studio 方案中的 BizTalk 服務專案有下列情形：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-142">Consider the following situations with a BizTalk Services project in a Visual Studio solution:</span></span>  

* <span data-ttu-id="fa7ee-143">在相同的 Visual Studio 方案中，有一個 BizTalk 服務專案和一個自訂繫結專案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-143">In the same Visual Studio solution, there is a BizTalk Services project and a custom binding project.</span></span> <span data-ttu-id="fa7ee-144">BizTalk 服務專案參考此自訂繫結專案檔。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-144">The BizTalk Service project has a reference to this custom binding project file.</span></span>
* <span data-ttu-id="fa7ee-145">BizTalk 服務專案參考自訂繫結/行為 DLL。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-145">The BizTalk Service project has a reference to a custom binding/behavior DLL.</span></span>

<span data-ttu-id="fa7ee-146">您在 Visual Studio 中成功「建置」方案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-146">You ‘Build’ the solution in Visual Studio successfully.</span></span> <span data-ttu-id="fa7ee-147">然後，您「重建」或「清除」方案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-147">Then, you ‘Rebuild’ or ‘Clean’ the solution.</span></span> <span data-ttu-id="fa7ee-148">之後，當您再次重建或清除時，就發生下列錯誤：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-148">After that, when you rebuild or clean again, the following error occurs:</span></span>  
  <span data-ttu-id="fa7ee-149">無法將檔案 <Path to DLL> 複製到 “bin\Debug\FileName.dll”。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-149">Unable to copy file <Path to DLL> to “bin\Debug\FileName.dll”.</span></span> <span data-ttu-id="fa7ee-150">由於已有另一個處理序正在使用該檔案，所以無法存取該檔案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-150">The process cannot access the file ‘bin\Debug\FileName.dll’ because it is being used by another process.</span></span>  

#### <a name="workaround"></a><span data-ttu-id="fa7ee-151">因應措施</span><span class="sxs-lookup"><span data-stu-id="fa7ee-151">Workaround</span></span>
* <span data-ttu-id="fa7ee-152">如果已安裝 [Visual Studio 2012 Update 3](https://www.microsoft.com/download/details.aspx?id=39305) ，您有下列兩個選項：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-152">If [Visual Studio 2012 Update 3](https://www.microsoft.com/download/details.aspx?id=39305) is installed, you have the following two options:</span></span>
  
  * <span data-ttu-id="fa7ee-153">重新啟動 Visual Studio，或</span><span class="sxs-lookup"><span data-stu-id="fa7ee-153">Restart Visual Studio, or</span></span>
  * <span data-ttu-id="fa7ee-154">重新啟動方案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-154">Restart the solution.</span></span> <span data-ttu-id="fa7ee-155">然後，在方案上只執行「建置」。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-155">Then, perform only a Build on the solution.</span></span>  
* <span data-ttu-id="fa7ee-156">如果未安裝 [Visual Studio 2012 Update 3](https://www.microsoft.com/download/details.aspx?id=39305) ，請開啟 [工作管理員]，按一下 [處理程序] 索引標籤，按一下 MSBuild.exe 處理程序，然後按一下 [結束處理程序] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-156">If [Visual Studio 2012 Update 3](https://www.microsoft.com/download/details.aspx?id=39305) is not installed, open Task Manager, click the Processes tab, click the MSBuild.exe process, and then click the End Process button.</span></span>  

### <a name="routing-to-basichttprelay-endpoints-is-not-supported-from-bridges-and-biztalk-services-portal-if-non-printable-characters-are-promoted-as-http-headers"></a><span data-ttu-id="fa7ee-157">如果不可列印字元升級為 HTTP 標頭，則不支援從橋接器和 BizTalk 服務入口網站路由傳送至 BasicHttpRelay 端點</span><span class="sxs-lookup"><span data-stu-id="fa7ee-157">Routing to BasicHttpRelay endpoints is not supported from bridges and BizTalk Services Portal if non-printable characters are promoted as HTTP headers</span></span>
<span data-ttu-id="fa7ee-158">如果您在訊息的升級屬性中使用不可列印字元，這些訊息無法路由傳送至使用 BasicHttpRelay 繫結的轉送目的地。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-158">If you use non-printable characters as part of promoted properties for messages, those messages cannot be routed to relay destinations that use the BasicHttpRelay binding.</span></span> <span data-ttu-id="fa7ee-159">此外，可供追蹤的升級屬性對 blob 而言是 URL 編碼，對目的地而言是未編碼。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-159">Also, the promoted properties that are available as part of tracking are URL-encoded for blobs and un-encoded for destinations.</span></span>  

### <a name="mdn-is-sent-asynchronously-even-if-the-send-asynchronous-mdn-option-is-unchecked"></a><span data-ttu-id="fa7ee-160">即使未核取 [傳送非同步 MDN] 選項，也會以非同步方式傳送 MDN</span><span class="sxs-lookup"><span data-stu-id="fa7ee-160">MDN is sent asynchronously even if the Send asynchronous MDN option is unchecked</span></span>
<span data-ttu-id="fa7ee-161">考慮此情況 - 如果您選取 [傳送非同步 MDN] 核取方塊、指定非同步 MDN 要傳送到的 URL，然後取消核取 [傳送非同步 MDN] 核取方塊，則即使未選取傳送非同步 MDN 的選項，MDN 仍會傳送至指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-161">Consider this scenario – If you select the **Send asynchronous MDN** checkbox and, specify a URL to send the async MDN to, and then uncheck the **Send asynchronous MDN** checkbox again, the MDN is still sent to the specified URL even though the option to send async MDNs is not selected.</span></span>  
<span data-ttu-id="fa7ee-162">解決方法是在取消核取 [傳送非同步 MDN]  核取方塊之前，必須清除指定的 URL，然後部署 AS2 合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-162">As a workaround, you must clear the specified URL before unchecking the **Send asynchronous MDN** checkbox and then deploy the AS2 agreement.</span></span>  

### <a name="whitespace-characters-beyond-a-valid-interchange-cause-an-empty-message-to-be-sent-to-the-suspend-endpoint"></a><span data-ttu-id="fa7ee-163">超出有效交換的空白字元會導致空的訊息傳送至暫停端點</span><span class="sxs-lookup"><span data-stu-id="fa7ee-163">Whitespace characters beyond a valid interchange cause an empty message to be sent to the suspend endpoint</span></span>
<span data-ttu-id="fa7ee-164">如果有超出 IEA 區段的空格，解譯器會將此情形視為目前交換結束，並查看下一組空白字元當做下一個訊息。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-164">If there are whitespaces beyond an IEA segment, the disassembler treats this as end of current interchange and looks at the next set of whitespaces as a next message.</span></span> <span data-ttu-id="fa7ee-165">因為這不是有效的交換，您可能會發現一個成功的訊息傳送至路由目的地，還有一個空的訊息傳送至暫停端點。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-165">Since this is not valid interchange, you might observe that one successful message is sent to the route destination and one empty message is sent the suspend endpoint.</span></span>  

### <a name="tracking-in-biztalk-services-portal"></a><span data-ttu-id="fa7ee-166">在 BizTalk 服務入口網站中追蹤</span><span class="sxs-lookup"><span data-stu-id="fa7ee-166">Tracking in BizTalk Services Portal</span></span>
<span data-ttu-id="fa7ee-167">擷取的追蹤事件以 EDI 訊息處理和任何相互關聯為範圍。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-167">Tracking events are captured up to the EDI message processing and any correlation.</span></span> <span data-ttu-id="fa7ee-168">如果訊息在通訊協定階段之外失敗，追蹤會顯示為成功。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-168">If a message fails outside of the Protocol stage, Tracking will show as successful.</span></span> <span data-ttu-id="fa7ee-169">在此情況下，請參閱 [追蹤] 的 [詳細資料] 欄下的 [記錄] 區段，以取得錯誤詳細資料。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-169">In this situation, refer to the LOG section under the **Details** column in **Tracking** for error details.</span></span>
<span data-ttu-id="fa7ee-170">X12 接收和傳送設定 ([在 Azure BizTalk 服務中建立 X12 合約](https://msdn.microsoft.com/library/azure/hh689847.aspx)) 提供通訊協定階段的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-170">The X12 Receive and Send settings ([Create an X12 Agreement in Azure BizTalk Services](https://msdn.microsoft.com/library/azure/hh689847.aspx)) provide information on the Protocol stage.</span></span>  

### <a name="update-agreement"></a><span data-ttu-id="fa7ee-171">更新合約</span><span class="sxs-lookup"><span data-stu-id="fa7ee-171">Update Agreement</span></span>
<span data-ttu-id="fa7ee-172">BizTalk 服務入口網站可讓您在設定合約時修改身分識別的辨識符號。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-172">The BizTalk Services Portal allows you to modify the Qualifier of an Identity when an agreement is configured.</span></span> <span data-ttu-id="fa7ee-173">這會導致屬性不一致。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-173">This can result in inconsistence properties.</span></span> <span data-ttu-id="fa7ee-174">比方說，合約使用 ZZ:1234567，而辨識符號為 ZZ:7654321。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-174">For example, there is an agreement using ZZ:1234567 and ZZ:7654321 the Qualifier.</span></span> <span data-ttu-id="fa7ee-175">在 BizTalk 服務入口網站設定檔設定中，您將 ZZ:1234567 變更為 01:ChangedValue。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-175">In the BizTalk Services Portal profile settings, you change ZZ:1234567 to be 01:ChangedValue.</span></span> <span data-ttu-id="fa7ee-176">您開啟合約，顯示的是 01:ChangedValue 而非 ZZ:1234567。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-176">You open the agreement and 01:ChangedValue is displayed instead of ZZ:1234567.</span></span>
<span data-ttu-id="fa7ee-177">若要修改身分識別的辨識符號，請刪除合約，更新夥伴設定檔中的 [身分識別]  ，然後重新建立合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-177">To modify the Qualifier of an identity, delete the agreement, update **Identities** in the partner profile and then recreate the agreement.</span></span>  

> <span data-ttu-id="fa7ee-178">AZURE.WARNING 此行為影響 X12 和 AS2。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-178">AZURE.WARNING This behavior impacts X12 and AS2.</span></span>  
> 
> 

### <a name="as2-attachments"></a><span data-ttu-id="fa7ee-179">AS2 附件</span><span class="sxs-lookup"><span data-stu-id="fa7ee-179">AS2 Attachments</span></span>
<span data-ttu-id="fa7ee-180">傳送和接收時不支援 AS2 訊息的附件。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-180">Attachments for AS2 messages are not supported in send or receive.</span></span> <span data-ttu-id="fa7ee-181">具體來說，將會自動忽略附件，並將訊息內文當成一般 AS2 訊息來處理。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-181">Specifically, attachments are silently ignored and the message body is processed as a regular AS2 message.</span></span>  

### <a name="resources-remembering-path"></a><span data-ttu-id="fa7ee-182">資源：記住路徑</span><span class="sxs-lookup"><span data-stu-id="fa7ee-182">Resources: Remembering Path</span></span>
<span data-ttu-id="fa7ee-183">新增 **資源**時，對話視窗可能不記得先前用來新增資源的路徑。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-183">When adding **Resources**, the dialog window may not remember the path previously used to add a resource.</span></span> <span data-ttu-id="fa7ee-184">若要記住先前用過的路徑，請嘗試在 Internet Explorer 中將 BizTalk 服務入口網站新增至 [信任的網站]  。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-184">To remember the previously-used path, try adding the BizTalk Services Portal web site to **Trusted Sites** in Internet Explorer.</span></span>  

### <a name="if-you-rename-the-entity-name-of-a-bridge-and-close-the-project-without-saving-changes-opening-the-entity-again-results-in-an-error"></a><span data-ttu-id="fa7ee-185">如果您重新命名橋接器的實體名稱，然後關閉專案而不儲存變更，則重新開啟實體會導致錯誤</span><span class="sxs-lookup"><span data-stu-id="fa7ee-185">If you rename the entity name of a bridge and close the project without saving changes, opening the entity again results in an error</span></span>
<span data-ttu-id="fa7ee-186">依序假設有下列情況：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-186">Consider a scenario in the following order:</span></span>  

* <span data-ttu-id="fa7ee-187">將橋接器 (例如 XML 單向橋接器) 新增至 BizTalk 服務專案</span><span class="sxs-lookup"><span data-stu-id="fa7ee-187">Add a bridge (for example an XML One-Way Bridge) to a BizTalk Service project</span></span>  
* <span data-ttu-id="fa7ee-188">指定 [實體名稱] 屬性的值來重新命名橋接器。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-188">Rename the bridge by specifying a value for the Entity Name property.</span></span> <span data-ttu-id="fa7ee-189">這會以您指定的名稱來重新命名相關聯的 .bridgeconfig 檔案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-189">This renames the associated .bridgeconfig file with the name you specified.</span></span>  
* <span data-ttu-id="fa7ee-190">關閉 .bcs 檔案 (藉由關閉 Visual Studio 中的索引標籤)，而不儲存變更。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-190">Close the .bcs file (by closing the tab in Visual Studio) without saving the changes.</span></span>  
* <span data-ttu-id="fa7ee-191">從 [方案總管] 再次開啟 .bcs 檔案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-191">Open the .bcs file again from the Solution Explorer.</span></span>  
  <span data-ttu-id="fa7ee-192">您會注意到相關聯的 .bridgeconfig 檔案具有您指定的新名稱，而在設計介面上的實體名稱還是舊名稱。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-192">You will notice that while the associated .bridgeconfig file has the new name you specified, the entity name on the design surface is still the old name.</span></span> <span data-ttu-id="fa7ee-193">如果您嘗試按兩下橋接器元件來開啟橋接器設定，您會收到下列錯誤：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-193">If you try to open the Bridge Configuration by double-clicking the bridge component, you get the following error:</span></span>  
  <span data-ttu-id="fa7ee-194">`‘<old name>’ Entity’s associated file ‘<old name>.bridgeconfig’ does not exist` 若要避免發生這種情況，請確定您會在將 BizTalk 服務專案中的實體重新命名之後儲存變更。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-194">`‘<old name>’ Entity’s associated file ‘<old name>.bridgeconfig’ does not exist` To avoid running into this scenario, make sure you save changes after you rename the entities in a BizTalk Service project.</span></span>  
  
### <a name="biztalk-service-project-builds-successfully-even-if-an-artifact-has-been-excluded-from-a-visual-studio-project"></a><span data-ttu-id="fa7ee-195">即使已經從 Visual Studio 專案中排除構件，BizTalk 服務專案仍會成功建置</span><span class="sxs-lookup"><span data-stu-id="fa7ee-195">BizTalk Service project builds successfully even if an artifact has been excluded from a Visual Studio project</span></span>
<span data-ttu-id="fa7ee-196">假設您將構件 (例如，XSD 檔案) 新增至 BizTalk 服務專案，在橋接器組態中加入此構件 (例如，將它指定為要求訊息類型)，然後從 Visual Studio 專案中排除它。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-196">Consider a scenario where you add an artifact (for example, an XSD file) to a BizTalk Service project, include that artifact in the Bridge Configuration (for example, by specifying it as a Request message type), and then exclude it from the Visual Studio project.</span></span> <span data-ttu-id="fa7ee-197">在這種情況下，只要已刪除的構件仍留在它加入 Visual Studio 專案時的相同磁碟位置中，則建置專案不會發生任何錯誤。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-197">In such a case, building the project will not give any error as long as the deleted artifact is available on the disk at the same location from where it was included in the Visual Studio project.</span></span>
  
### <a name="the-biztalk-service-project-does-not-check-for-schema-availability-while-configuring-the-bridges"></a><span data-ttu-id="fa7ee-198">設定橋接器時，BizTalk 服務專案不會檢查結構描述是否可用</span><span class="sxs-lookup"><span data-stu-id="fa7ee-198">The BizTalk Service project does not check for schema availability while configuring the bridges</span></span>
<span data-ttu-id="fa7ee-199">在 BizTalk 服務專案中，如果加入至專案的結構描述又匯入另一個結構描述，BizTalk 服務專案不會檢查匯入的結構描述是否已加入至專案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-199">In a BizTalk Service project, if a schema that is added to the project imports another schema, the BizTalk Service project does not check whether the imported schema is added to the project.</span></span> <span data-ttu-id="fa7ee-200">如果您嘗試建置此專案，則不會發生任何建置錯誤。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-200">If you try to build such a project, you do not get any build errors.</span></span>
  
### <a name="the-response-message-for-a-xml-request-reply-bridge-is-always-of-charset-utf-8"></a><span data-ttu-id="fa7ee-201">XML 要求-回覆橋接器的回應訊息一律為 UTF-8 字元集</span><span class="sxs-lookup"><span data-stu-id="fa7ee-201">The response message for a XML Request-Reply Bridge is always of charset UTF-8</span></span>
<span data-ttu-id="fa7ee-202">此版本中，來自 XML 要求-回覆橋接器的回應訊息的字元集永遠設定為 UTF-8。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-202">For this release, the charset of the response message from an XML Request-Reply Bridge is always set to UTF-8.</span></span>
  
### <a name="user-defined-datatypes"></a><span data-ttu-id="fa7ee-203">使用者定義的資料類型</span><span class="sxs-lookup"><span data-stu-id="fa7ee-203">User-Defined Datatypes</span></span>
<span data-ttu-id="fa7ee-204">BizTalk Adapter Service 功能內的 BizTalk Adapter Pack 配接器可以在配接器作業中利用使用者定義的資料類型。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-204">The BizTalk Adapter Pack adapters within the BizTalk Adapter Service feature can utilize user-defined datatypes for adapter operations.</span></span>
<span data-ttu-id="fa7ee-205">當利用使用者定義的資料類型時，請將檔案 (.dll) 複製到 drive:\Program Files\Microsoft BizTalk Adapter Service\BAServiceRuntime\bin\，或裝載 BizTalk Adapter Service 服務的伺服器上的全域組件快取 (GAC)。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-205">When using user-defined datatypes, copy the files (.dll) to drive:\Program Files\Microsoft BizTalk Adapter Service\BAServiceRuntime\bin\ or to the Global Assembly Cache (GAC) on the server hosting the BizTalk Adapter Service service.</span></span> <span data-ttu-id="fa7ee-206">否則，用戶端可能會發生下列錯誤：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-206">Otherwise, the following error may occur on the client:</span></span>  
```
<s:Fault xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
<faultcode>s:Client</faultcode>
<faultstring xml:lang="en-US">The UDT with FullName "File, FileUDT, Version=Value, Culture=Value, PublicKeyToken=Value" could not be loaded. Try placing the assembly containing the UDT definition in the Global Assembly Cache.</faultstring>
<detail>
  <AFConnectRuntimeFault xmlns="http://Microsoft.ApplicationServer.Integration.AFConnect/2011" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
    <ExceptionCode>ERROR_IN_SENDING_MESSAGE</ExceptionCode>
  </AFConnectRuntimeFault>
</detail>
</s:Fault>
```  
  
> [!IMPORTANT]
> <span data-ttu-id="fa7ee-207">建議使用 GACUtil.exe 將檔案安裝至全域組件快取。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-207">It is recommended to use GACUtil.exe to install a file into the Global Assembly Cache.</span></span> <span data-ttu-id="fa7ee-208">GACUtil.exe 說明如何使用這項工具和 Visual Studio 命令列選項。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-208">GACUtil.exe documents how to use this tool and the Visual Studio command line options.</span></span>  
> 
> 

### <a name="restarting-the-biztalk-adapter-service-web-site"></a><span data-ttu-id="fa7ee-209">重新啟動 BizTalk Adapter Service 網站</span><span class="sxs-lookup"><span data-stu-id="fa7ee-209">Restarting the BizTalk Adapter Service Web Site</span></span>
<span data-ttu-id="fa7ee-210">安裝 **BizTalk Adapter Service 執行階段*** 會在 IIS 中建立 **BizTalk Adapter Service** 網站，其中包含 **BAService** 應用程式。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-210">Installing the **BizTalk Adapter Service Runtime*** creates the **BizTalk Adapter Service** web site in IIS that contains the **BAService** application.</span></span> <span data-ttu-id="fa7ee-211">**BAService** 應用程式在內部使用轉送繫結，將內部部署服務端點的範圍延伸至雲端。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-211">**BAService** application internally uses relay binding to extend the reach of on-premises service endpoint to the cloud.</span></span> <span data-ttu-id="fa7ee-212">對於內部部署裝載的服務，只有當內部部署服務啟動時，對應的轉送端點才會註冊在服務匯流排上。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-212">For a service hosted on-premises, the corresponding relay endpoint will be registered on the Service Bus only when the on-premises service starts.</span></span>  

<span data-ttu-id="fa7ee-213">如果您停止並啟動應用程式，自動啟動應用程式的設定不會有作用。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-213">If you stop and start an application, the configuration for auto-starting an application is not honored.</span></span> <span data-ttu-id="fa7ee-214">所以當 **BAService** 停止時，您一律必須改為重新啟動 **BizTalk Adapter Service** 網站。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-214">So when **BAService** is stopped, you must always restart the **BizTalk Adapter Service** web site instead.</span></span> <span data-ttu-id="fa7ee-215">請勿啟動或停止 **BAService** 應用程式。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-215">Do not start or stop the **BAService** application.</span></span>

### <a name="special-characters-should-not-be-used-for-address-and-entity-names-of-lob-components"></a><span data-ttu-id="fa7ee-216">LOB 元件的位址和實體名稱中不應該使用特殊字元</span><span class="sxs-lookup"><span data-stu-id="fa7ee-216">Special characters should not be used for address and entity names of LOB components</span></span>
<span data-ttu-id="fa7ee-217">您不應該在 LOB 元件的位址和實體名稱中使用特殊字元。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-217">You should not use special characters for address and entity names of LOB components.</span></span> <span data-ttu-id="fa7ee-218">否則，部署 BizTalk 服務專案時會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-218">If you do so, you will get an error while deploying the BizTalk Service project.</span></span> <span data-ttu-id="fa7ee-219">如果使用 '%' 之類的字元，BizTalk Adapter Service 網站可能會進入停止狀態，您必須手動啟動它。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-219">For certain characters like ‘%’, the BizTalk Adapter Service website might go into a stopped state and you will have to manually start it.</span></span>

### <a name="test-map-with-get-context-property"></a><span data-ttu-id="fa7ee-220">使用取得內容屬性來測試對應</span><span class="sxs-lookup"><span data-stu-id="fa7ee-220">Test Map with Get Context Property</span></span>
<span data-ttu-id="fa7ee-221">如果轉換包含**取得內容屬性**對應作業，**測試對應**將會失敗。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-221">If a Transform contains a **Get Context Property** Map Operation, **Test Map** will fail.</span></span> <span data-ttu-id="fa7ee-222">暫時的解決方法是以含有虛擬資料的字串串連對應作業，取代 **取得內容屬性** 對應作業。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-222">As a temporary workaround, replace the **Get Context Property** Map Operation with a String Concatenate Map Operation containing dummy data.</span></span> <span data-ttu-id="fa7ee-223">這將填入目標結構描述，還可讓您測試其他轉換功能。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-223">This will populate the target schema and allow you test other Transform functionality.</span></span>

### <a name="test-map-property-does-not-display"></a><span data-ttu-id="fa7ee-224">測試對應屬性未顯示</span><span class="sxs-lookup"><span data-stu-id="fa7ee-224">Test Map Property does not display</span></span>
<span data-ttu-id="fa7ee-225">**測試對應** 屬性未顯示在 Visual Studio 中。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-225">The **Test Map** properties do not display in Visual Studio.</span></span> <span data-ttu-id="fa7ee-226">如果 [屬性] 視窗和 [方案總管] 視窗未同時停駐，就可能發生這種情形。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-226">This can occur if the **Properties** window and the **Solution Explorer** window are not simultaneously docked.</span></span> <span data-ttu-id="fa7ee-227">若要解決此問題，請停駐 [屬性] 和 [方案總管] 視窗。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-227">To resolve this, dock the **Properties** and the **Solution Explorer** windows.</span></span>  

### <a name="datetime-reformat-drop-down-is-grayed-out"></a><span data-ttu-id="fa7ee-228">日期時間重新格式化下拉式清單變成灰色</span><span class="sxs-lookup"><span data-stu-id="fa7ee-228">DateTime Reformat drop-down is grayed out</span></span>
<span data-ttu-id="fa7ee-229">當日期時間重新格式化對應作業加入至設計介面並設定時，[格式] 下拉式清單可能會變成灰色。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-229">When a DateTime Reformat Map Operation is added to the design surface and configured, the Format drop-down list may be grayed out.</span></span> <span data-ttu-id="fa7ee-230">如果電腦顯示器設定為 [中 – 125%] 或 [大 – 150%]，就可能發生這種情形。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-230">This can happen if the computer Display is set **Medium – 125%** or **Larger – 150%**.</span></span> <span data-ttu-id="fa7ee-231">若要解決此問題，請使用下列步驟將顯示器設定為 [小 – 100% (預設)]  ：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-231">To resolve, set the display to **Smaller – 100% (default)** using the steps below:</span></span>  

1. <span data-ttu-id="fa7ee-232">開啟 [控制台]，然後按一下 [外觀及個人化]。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-232">Open the **Control Panel** and click **Appearance and Personalization**.</span></span>
2. <span data-ttu-id="fa7ee-233">按一下 [顯示] 。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-233">Click **Display**.</span></span>
3. <span data-ttu-id="fa7ee-234">按一下 [小 – 100% (預設)]，然後按一下 [套用]。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-234">Click **Smaller – 100% (default)** and click **Apply**.</span></span>

<span data-ttu-id="fa7ee-235">[格式]  下拉式清單現在應該如預期般運作。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-235">The **Format** drop-down list should now work as expected.</span></span>

### <a name="duplicate-agreements-in-the-biztalk-services-portal"></a><span data-ttu-id="fa7ee-236">BizTalk 服務入口網站中的合約重複</span><span class="sxs-lookup"><span data-stu-id="fa7ee-236">Duplicate agreements in the BizTalk Services Portal</span></span>
<span data-ttu-id="fa7ee-237">請考慮下列狀況：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-237">Consider the following scenario:</span></span>

1. <span data-ttu-id="fa7ee-238">使用交易夥伴管理 OM API 建立合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-238">Create an agreement using the Trading Partner Management OM API.</span></span>
2. <span data-ttu-id="fa7ee-239">在 BizTalk 服務入口網站中使用兩個不同的索引標籤開啟合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-239">Open the agreement in the BizTalk Services Portal in two different tabs.</span></span>
3. <span data-ttu-id="fa7ee-240">從這兩個索引標籤同時部署合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-240">Deploy the agreement from both the tabs.</span></span>
4. <span data-ttu-id="fa7ee-241">結果，兩個合約都會部署，導致 BizTalk 服務入口網站中出現重複的項目</span><span class="sxs-lookup"><span data-stu-id="fa7ee-241">As a result, both the agreements get deployed resulting in duplicate entries in the BizTalk Services Portal</span></span>

<span data-ttu-id="fa7ee-242">**因應措施**。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-242">**Workaround**.</span></span> <span data-ttu-id="fa7ee-243">在 BizTalk 服務入口網站中開啟其中一個重複的合約，並解除部署。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-243">Open any one of the duplicate agreements in the BizTalk Services Portal, and undeploy.</span></span>  

### <a name="bridges-do-not-use-updated-certificate-even-after-a-certificate-has-been-updated-in-the-artifact-store"></a><span data-ttu-id="fa7ee-244">即使已在構件存放區更新憑證，橋接器也不會使用更新的憑證</span><span class="sxs-lookup"><span data-stu-id="fa7ee-244">Bridges do not use updated certificate even after a certificate has been updated in the artifact store</span></span>
<span data-ttu-id="fa7ee-245">請考慮下列情況：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-245">Consider the following scenarios:</span></span>  

<span data-ttu-id="fa7ee-246">**案例 1：使用指紋型憑證來保護從橋接器到服務端點的訊息傳輸**</span><span class="sxs-lookup"><span data-stu-id="fa7ee-246">**Scenario 1: Using thumbprint-based certificates for securing message transfer from a bridge to a service endpoint**</span></span>  
<span data-ttu-id="fa7ee-247">假設您在 BizTalk 服務專案中使用指紋型憑證。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-247">Consider a scenario where you use thumbprint-based certificates in your BizTalk Service project.</span></span> <span data-ttu-id="fa7ee-248">您在 BizTalk 服務入口網站中以相同名稱但不同指紋更新憑證，但未相應地更新 BizTalk 服務專案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-248">You update the certificate in the BizTalk Services Portal with the same name but a different thumbprint, but do not update the BizTalk Service project accordingly.</span></span> <span data-ttu-id="fa7ee-249">在這種情況下，橋接器可能會繼續處理訊息，因為較舊的憑證資料可能仍在通道快取中。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-249">In such a scenario, the bridge might continue to process the messages because the older certificate data might still be in the channel cache.</span></span> <span data-ttu-id="fa7ee-250">隨後，訊息處理就失敗。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-250">After that, message processing fails.</span></span>  

<span data-ttu-id="fa7ee-251">**因應措施**：在 BizTalk 服務專案中更新憑證，並重新部署專案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-251">**Workaround**: Update the certificate in the BizTalk Service project and redeploy the project.</span></span>  

<span data-ttu-id="fa7ee-252">**案例 2：使用名稱型行為來識別憑證，以保護從橋接器到服務端點的訊息傳輸**</span><span class="sxs-lookup"><span data-stu-id="fa7ee-252">**Scenario 2: Using name-based behaviors to identify certificates for securing message transfer from a bridge to a service endpoint**</span></span>

<span data-ttu-id="fa7ee-253">假設您在 BizTalk 服務專案中使用名稱型行為來識別憑證。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-253">Consider a scenario where you use name-based behaviors to identify certificates in your BizTalk Service project.</span></span> <span data-ttu-id="fa7ee-254">您在 BizTalk 服務入口網站中更新憑證，但未相應地更新 BizTalk 服務專案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-254">You update the certificate in the BizTalk Services Portal but do not update the BizTalk Service project accordingly.</span></span> <span data-ttu-id="fa7ee-255">在這種情況下，橋接器可能會繼續處理訊息，因為較舊的憑證資料可能仍在通道快取中。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-255">In such a scenario, the bridge might continue to process the messages because the older certificate data might still be in the channel cache.</span></span> <span data-ttu-id="fa7ee-256">隨後，訊息處理就失敗。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-256">After that, message processing fails.</span></span>  

<span data-ttu-id="fa7ee-257">**因應措施**：在 BizTalk 服務專案中更新憑證，並重新部署專案。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-257">**Workaround**: Update the certificate in the BizTalk Service project and redeploy the project.</span></span>  

### <a name="bridges-continue-to-process-messages-even-when-the-sql-database-is-offline"></a><span data-ttu-id="fa7ee-258">即使 SQL 資料庫離線，橋接器還是繼續處理訊息</span><span class="sxs-lookup"><span data-stu-id="fa7ee-258">Bridges continue to process messages even when the SQL database is offline</span></span>
<span data-ttu-id="fa7ee-259">即使 Microsoft Azure SQL Database (其中儲存執行資訊，例如已部署的構件和管線) 離線，BizTalk 服務橋接器還是繼續處理訊息一段時間。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-259">The BizTalk Services bridges continue to process messages for a while, even if the Microsoft Azure SQL Database (which stores the running information like deployed artifacts and pipelines), is offline.</span></span> <span data-ttu-id="fa7ee-260">這是因為 BizTalk 服務使用快取的構件和橋接器組態。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-260">This is because BizTalk Services uses the cached artifacts and bridge configuration.</span></span>
<span data-ttu-id="fa7ee-261">若不想讓橋接器在 SQL Database 離線時處理任何訊息，您可以使用 BizTalk 服務 PowerShell Cmdlet 來停止或暫停 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-261">If you do not want the bridges to process any messages when the SQL Database is offline, you can use the BizTalk Services PowerShell cmdlets to stop or suspend the BizTalk Service.</span></span> <span data-ttu-id="fa7ee-262">關於用於管理作業的 Windows PowerShell Cmdlet，請參閱 [Azure BizTalk 服務管理範例](http://go.microsoft.com/fwlink/p/?LinkID=329019) 。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-262">See [Azure BizTalk Service Management Sample](http://go.microsoft.com/fwlink/p/?LinkID=329019) for the Windows PowerShell cmdlets to manage operations.</span></span>  

### <a name="reading-the-xml-message-within-a-bridges-custom-code-component-includes-an-extra-bom-character"></a><span data-ttu-id="fa7ee-263">在橋接器的自訂程式碼元件內讀取 XML 訊息會包含額外的 BOM 字元</span><span class="sxs-lookup"><span data-stu-id="fa7ee-263">Reading the XML message within a bridge’s custom code component includes an extra BOM character</span></span>
<span data-ttu-id="fa7ee-264">假設您想要在橋接器的自訂程式碼內讀取 XML 訊息。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-264">Consider a scenario where you want to read an XML message within a bridge’s custom code.</span></span> <span data-ttu-id="fa7ee-265">如果您使用 .NET API System.Text.Encoding.UTF8.GetString(bytes)，輸出中的訊息開頭會包含額外的 BOM 字元。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-265">If you use the .NET API System.Text.Encoding.UTF8.GetString(bytes) an extra BOM character is included in the output at the beginning of the message.</span></span> <span data-ttu-id="fa7ee-266">因此，如果您不希望輸出包含額外的 BOM 字元，您必須使用 ```System.IO.StreamReader().ReadToEnd()```。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-266">So, if you do not want the output to include the extra BOM character, you must use ```System.IO.StreamReader().ReadToEnd()```.</span></span>

### <a name="sending-messages-to-a-bridge-using-wcf-does-not-scale"></a><span data-ttu-id="fa7ee-267">使用 WCF 將訊息傳送至橋接器不會調整</span><span class="sxs-lookup"><span data-stu-id="fa7ee-267">Sending messages to a bridge using WCF does not scale</span></span>
<span data-ttu-id="fa7ee-268">使用 WCF 傳送至橋接器的訊息不會調整。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-268">Messages sent to a bridge using WCF does not scale.</span></span> <span data-ttu-id="fa7ee-269">如果您想要可調整的用戶端，則應該改為使用 HttpWebRequest。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-269">You should instead use HttpWebRequest if you want a scalable client.</span></span>

### <a name="upgrade-token-provider-error-after-upgrading-from-biztalk-services-preview-to-general-availability-ga"></a><span data-ttu-id="fa7ee-270">升級：從 BizTalk 服務預覽版升級至公開上市 (GA) 後發生權杖提供者錯誤</span><span class="sxs-lookup"><span data-stu-id="fa7ee-270">UPGRADE: Token Provider error after upgrading from BizTalk Services Preview to General Availability (GA)</span></span>
<span data-ttu-id="fa7ee-271">與作用中批次之間有 EDI 或 AS2 合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-271">There is an EDI or AS2 Agreement with active batches.</span></span> <span data-ttu-id="fa7ee-272">當 BizTalk 服務從預覽版升級至 GA 時，可能會發生下列情況：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-272">When the BizTalk Service is upgraded from Preview to GA, the following may occur:</span></span>

* <span data-ttu-id="fa7ee-273">錯誤：權杖提供者無法提供安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-273">Error: The token provider was unable to provide a security token.</span></span> <span data-ttu-id="fa7ee-274">權杖提供者傳回訊息：無法解析遠端名稱。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-274">Token provider returned message: The remote name could not be resolved.</span></span>
* <span data-ttu-id="fa7ee-275">批次工作已取消。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-275">Batch tasks are canceled.</span></span>

<span data-ttu-id="fa7ee-276">**因應措施**：當 BizTalk 服務更新至公開上市 (GA) 之後，重新部署合約。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-276">**Workaround**: After the BizTalk Service is updated to General Availability (GA), redeploy the agreement.</span></span>  

### <a name="upgrade-toolbox-shows-the-old-bridge-icons-after-upgrading-the-biztalk-services-sdk"></a><span data-ttu-id="fa7ee-277">升級：升級 BizTalk 服務 SDK 之後，工具箱顯示舊的橋接器圖示</span><span class="sxs-lookup"><span data-stu-id="fa7ee-277">UPGRADE: Toolbox shows the old bridge icons after upgrading the BizTalk Services SDK</span></span>
<span data-ttu-id="fa7ee-278">升級舊版的 BizTalk 服務 SDK (以舊的圖示代表橋接器) 之後，工具箱會繼續顯示橋接器的舊圖示。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-278">After you upgrade an earlier version of the BizTalk Services SDK, which had old icons representing the bridges, the toolbox continues to show the old icons for the bridges.</span></span> <span data-ttu-id="fa7ee-279">不過，如果您將橋接器加入至 BizTalk 服務專案設計工具介面，介面會顯示新的圖示。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-279">However, if you add a bridge to BizTalk Service project designer surface, the surface shows the new icon.</span></span>  

<span data-ttu-id="fa7ee-280">**因應措施**。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-280">**Workaround**.</span></span> <span data-ttu-id="fa7ee-281">您可以刪除 <system drive>:\Users\<user>\AppData\Local\Microsoft\VisualStudio\11.0 下的 .tbd 檔案來解決這個問題。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-281">You can work around this issue by deleting the .tbd files under <system drive>:\Users\<user>\AppData\Local\Microsoft\VisualStudio\11.0.</span></span>  

### <a name="upgrade-biztalk-portal-update-from-preview-to-ga-might-show-an-error-indicating-that-the-edi-capability-is-not-available"></a><span data-ttu-id="fa7ee-282">升級：BizTalk 入口網站從預覽版更新至 GA 時可能會顯示錯誤，指出 EDI 功能無法使用</span><span class="sxs-lookup"><span data-stu-id="fa7ee-282">UPGRADE: BizTalk Portal update from Preview to GA might show an error indicating that the EDI capability is not available</span></span>
<span data-ttu-id="fa7ee-283">如果您在 BizTalk 服務從預覽版升級至 GA 時登入 BizTalk 服務入口網站，您在入口網站上可能會看到下列錯誤：</span><span class="sxs-lookup"><span data-stu-id="fa7ee-283">If you are logged into the BizTalk Services Portal while the BizTalk Services is upgraded from Preview to GA, you might get the following error on the portal:</span></span>  

<span data-ttu-id="fa7ee-284">這個版本的 Microsoft Azure BizTalk 服務中無法使用此功能。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-284">This capability is not available as part of this edition of Microsoft Azure BizTalk Services.</span></span> <span data-ttu-id="fa7ee-285">若要使用這些功能，請切換到適當的版本。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-285">To use these capabilities switch to an appropriate edition.</span></span>  

<span data-ttu-id="fa7ee-286">**解決方式**：登出入口網站，關閉再開啟瀏覽器，然後登入入口網站。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-286">**Resolution**: Log out from the portal, close and open the browser, and then log into the portal.</span></span>  

### <a name="upgrade-new-tracking-data-does-not-show-up-after-biztalk-services-is-upgraded-to-ga"></a><span data-ttu-id="fa7ee-287">升級：BizTalk 服務升級至 GA 之後，新的追蹤資料未出現</span><span class="sxs-lookup"><span data-stu-id="fa7ee-287">UPGRADE: New tracking data does not show up after BizTalk Services is upgraded to GA</span></span>
<span data-ttu-id="fa7ee-288">假設您在 BizTalk 服務預覽版訂用帳戶上已部署 XML 橋接器。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-288">Assume a scenario where you have an XML bridge deployed on BizTalk Services Preview subscription.</span></span> <span data-ttu-id="fa7ee-289">您將訊息傳送至橋接器，對應的追蹤資料出現在 BizTalk 服務入口網站。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-289">You send messages to the bridge and the corresponding tracking data is available on the BizTalk Services Portal.</span></span> <span data-ttu-id="fa7ee-290">現在，如果 BizTalk 服務入口網站和 BizTalk 服務執行階段位元升級至 GA，而且您將訊息傳送至先前部署的相同橋接器端點，則升級之後所傳送的訊息不會顯示追蹤資料。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-290">Now, if the BizTalk Services Portal and BizTalk Services runtime bits are upgraded to GA, and you send a message to the same bridge endpoint deployed earlier, the tracking data does not show up for messages sent after upgrade.</span></span>  

### <a name="pipelines-versus-bridges"></a><span data-ttu-id="fa7ee-291">管線與橋接器</span><span class="sxs-lookup"><span data-stu-id="fa7ee-291">Pipelines versus Bridges</span></span>
<span data-ttu-id="fa7ee-292">在這整份文件，「管線」和「橋接器」這兩個詞彙交替使用。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-292">Throughout this document, the term ‘pipelines’ and ‘bridges’ are used interchangeably.</span></span> <span data-ttu-id="fa7ee-293">基本上，兩者都代表同一件事，也就是部署在 BizTalk 服務上的訊息處理單元。</span><span class="sxs-lookup"><span data-stu-id="fa7ee-293">Both essentially mean the same thing, which is, a message processing unit deployed on BizTalk Services.</span></span>  

### <a name="concepts"></a><span data-ttu-id="fa7ee-294">概念</span><span class="sxs-lookup"><span data-stu-id="fa7ee-294">Concepts</span></span>
[<span data-ttu-id="fa7ee-295">BizTalk 服務</span><span class="sxs-lookup"><span data-stu-id="fa7ee-295">BizTalk Services</span></span>](https://msdn.microsoft.com/library/azure/hh689864.aspx)   

