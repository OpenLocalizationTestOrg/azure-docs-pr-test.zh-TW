---
title: "使用 IPv6 部署網際網路對向負載平衡器 - Azure 範本 | Microsoft Docs"
description: "如何部署 Azure Load Balancer 和負載平衡 VM 的 IPv6 支援。"
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
tags: azure-resource-manager
keywords: "ipv6, azure load balancer, 雙重堆疊, 公用 ip, 原生 ipv6, 行動, iot"
ms.assetid: 2998e943-13fc-4ea9-a68c-875e53a08db3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 01/23/2016
ms.author: kumud
ms.openlocfilehash: 95962833f853886476630d703c8959bad1852e50
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="deploy-an-internet-facing-load-balancer-solution-with-ipv6-using-a-template"></a><span data-ttu-id="336a5-104">使用範本部署配置有 IPv6 的網際網路面向負載平衡器解決方案</span><span class="sxs-lookup"><span data-stu-id="336a5-104">Deploy an Internet-facing load-balancer solution with IPv6 using a template</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="336a5-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="336a5-105">PowerShell</span></span>](load-balancer-ipv6-internet-ps.md)
> * [<span data-ttu-id="336a5-106">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="336a5-106">Azure CLI</span></span>](load-balancer-ipv6-internet-cli.md)
> * [<span data-ttu-id="336a5-107">範本</span><span class="sxs-lookup"><span data-stu-id="336a5-107">Template</span></span>](load-balancer-ipv6-internet-template.md)

<span data-ttu-id="336a5-108">Azure 負載平衡器是第 4 層 (TCP、UDP) 負載平衡器。</span><span class="sxs-lookup"><span data-stu-id="336a5-108">An Azure load balancer is a Layer-4 (TCP, UDP) load balancer.</span></span> <span data-ttu-id="336a5-109">此負載平衡器可藉由在負載平衡器集合中，將連入流量分散於雲端服務或虛擬機器中狀況良好的服務執行個體之間，來提供高可用性。</span><span class="sxs-lookup"><span data-stu-id="336a5-109">The load balancer provides high availability by distributing incoming traffic among healthy service instances in cloud services or virtual machines in a load balancer set.</span></span> <span data-ttu-id="336a5-110">Azure Load Balancer 也會在多個連接埠、多個 IP 位址或兩者上顯示這些服務。</span><span class="sxs-lookup"><span data-stu-id="336a5-110">Azure Load Balancer can also present those services on multiple ports, multiple IP addresses, or both.</span></span>

## <a name="example-deployment-scenario"></a><span data-ttu-id="336a5-111">範例部署案例</span><span class="sxs-lookup"><span data-stu-id="336a5-111">Example deployment scenario</span></span>

<span data-ttu-id="336a5-112">下圖說明使用本文所述範例範本部署的負載平衡解決方案。</span><span class="sxs-lookup"><span data-stu-id="336a5-112">The following diagram illustrates the load balancing solution being deployed using the example template described in this article.</span></span>

![負載平衡器案例](./media/load-balancer-ipv6-internet-template/lb-ipv6-scenario.png)

<span data-ttu-id="336a5-114">在此案例中，您將建立下列 Azure 資源：</span><span class="sxs-lookup"><span data-stu-id="336a5-114">In this scenario you will create the following Azure resources:</span></span>

* <span data-ttu-id="336a5-115">虛擬網路介面，用於每個已指派 IPv4 和 IPv6 位址的 VM</span><span class="sxs-lookup"><span data-stu-id="336a5-115">a virtual network interface for each VM with both IPv4 and IPv6 addresses assigned</span></span>
* <span data-ttu-id="336a5-116">配置有 IPv4 和 IPv6 公用 IP 位址的網際網路面向負載平衡器</span><span class="sxs-lookup"><span data-stu-id="336a5-116">an Internet-facing Load Balancer with an IPv4 and an IPv6 Public IP address</span></span>
* <span data-ttu-id="336a5-117">兩個負載平衡規則，用以對應公用 VIP 至私人端點</span><span class="sxs-lookup"><span data-stu-id="336a5-117">two load balancing rules to map the public VIPs to the private endpoints</span></span>
* <span data-ttu-id="336a5-118">包含兩個 VM 的可用性設定組</span><span class="sxs-lookup"><span data-stu-id="336a5-118">an Availability Set that contains the two VMs</span></span>
* <span data-ttu-id="336a5-119">兩部虛擬機器 (VM)</span><span class="sxs-lookup"><span data-stu-id="336a5-119">two virtual machines (VMs)</span></span>

## <a name="deploying-the-template-using-the-azure-portal"></a><span data-ttu-id="336a5-120">使用 Azure 入口網站部署範本</span><span class="sxs-lookup"><span data-stu-id="336a5-120">Deploying the template using the Azure portal</span></span>

<span data-ttu-id="336a5-121">這份文件參考 [Azure 快速入門範本](https://azure.microsoft.com/documentation/templates/201-load-balancer-ipv6-create/)資源庫中發佈的範本。</span><span class="sxs-lookup"><span data-stu-id="336a5-121">This article references a template that is published in the [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates/201-load-balancer-ipv6-create/) gallery.</span></span> <span data-ttu-id="336a5-122">您可以從資源庫下載範本，或在 Azure 中直接從資源庫啟動部署。</span><span class="sxs-lookup"><span data-stu-id="336a5-122">You can download the template from the gallery or launch the deployment in Azure directly from the gallery.</span></span> <span data-ttu-id="336a5-123">本文假設您已下載範本至本機電腦。</span><span class="sxs-lookup"><span data-stu-id="336a5-123">This article assumes you have downloaded the template to your local computer.</span></span>

1. <span data-ttu-id="336a5-124">開啟 Azure 入口網站，並使用有權限在 Azure 訂用帳戶內建立 VM 和網路資源的帳戶登入。</span><span class="sxs-lookup"><span data-stu-id="336a5-124">Open the Azure portal and sign in with an account that has permissions to create VMs and networking resources within an Azure subscription.</span></span> <span data-ttu-id="336a5-125">此外，若您不是使用現有資源，該帳戶就必須具有建立資源群組和儲存體帳戶的權限。</span><span class="sxs-lookup"><span data-stu-id="336a5-125">Also, unless you're using existing resources, the account needs permission to create a resource group and a storage account.</span></span>
2. <span data-ttu-id="336a5-126">按一下功能表中的 [+ 新增]，然後在搜尋方塊中輸入「範本」。</span><span class="sxs-lookup"><span data-stu-id="336a5-126">Click "+New" from the menu then type "template" in the search box.</span></span> <span data-ttu-id="336a5-127">選取搜尋結果中的 [範本部署]。</span><span class="sxs-lookup"><span data-stu-id="336a5-127">Select "Template deployment" from the search results.</span></span>

    ![lb-ipv6-portal-step2](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step2.png)

3. <span data-ttu-id="336a5-129">在 [所有項目] 刀鋒視窗中，按一下 [範本部署]。</span><span class="sxs-lookup"><span data-stu-id="336a5-129">In the Everything blade, click "Template deployment."</span></span>

    ![lb-ipv6-portal-step3](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step3.png)

4. <span data-ttu-id="336a5-131">按一下 [建立]。</span><span class="sxs-lookup"><span data-stu-id="336a5-131">Click "Create."</span></span>

    ![lb-ipv6-portal-step4](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step4.png)

5. <span data-ttu-id="336a5-133">按一下 [編輯範本]。</span><span class="sxs-lookup"><span data-stu-id="336a5-133">Click "Edit template."</span></span> <span data-ttu-id="336a5-134">刪除現有的內容，複製/貼上範本檔案的整個內容 (包括開始和結束的 {})，然後按一下 [儲存]。</span><span class="sxs-lookup"><span data-stu-id="336a5-134">Delete the existing contents and copy/paste in the entire contents of the template file (to include the start and end { }), then click "Save."</span></span>

    > [!NOTE]
    > <span data-ttu-id="336a5-135">如果您使用 Microsoft Internet Explorer，當您貼上內容時，會看到對話方塊，詢問是否要允許存取 Windows 剪貼簿。</span><span class="sxs-lookup"><span data-stu-id="336a5-135">If you are using Microsoft Internet Explorer, when you paste you receive a dialog box asking you to allow access to the Windows clipboard.</span></span> <span data-ttu-id="336a5-136">按一下 [允許存取]。</span><span class="sxs-lookup"><span data-stu-id="336a5-136">Click "Allow access."</span></span>

    ![lb-ipv6-portal-step5](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step5.png)

6. <span data-ttu-id="336a5-138">按一下 [編輯參數]。</span><span class="sxs-lookup"><span data-stu-id="336a5-138">Click "Edit parameters."</span></span> <span data-ttu-id="336a5-139">在 [參數] 刀鋒視窗中，依照指引指定 [範本] 參數區段中的值，然後按一下 [儲存] 關閉 [參數] 刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="336a5-139">In the Parameters blade, specify the values per the guidance in the Template parameters section, then click "Save" to close the Parameters blade.</span></span> <span data-ttu-id="336a5-140">在 [自訂部署] 刀鋒視窗中，選取您的訂用帳戶，選取現有資源群組或建立一個。</span><span class="sxs-lookup"><span data-stu-id="336a5-140">In the Custom Deployment blade, select your subscription, an existing resource group or create one.</span></span> <span data-ttu-id="336a5-141">如果建立資源群組，請選取資源群組的位置。</span><span class="sxs-lookup"><span data-stu-id="336a5-141">If you are creating a resource group, then select a location for the resource group.</span></span> <span data-ttu-id="336a5-142">接著，按一下 [法律條款]，然後按一下法律條款的 [購買]。</span><span class="sxs-lookup"><span data-stu-id="336a5-142">Next, click **Legal terms**, then click **Purchase** for the legal terms.</span></span> <span data-ttu-id="336a5-143">Azure 會開始部署資源。</span><span class="sxs-lookup"><span data-stu-id="336a5-143">Azure begins deploying the resources.</span></span> <span data-ttu-id="336a5-144">部署所有資源需要幾分鐘。</span><span class="sxs-lookup"><span data-stu-id="336a5-144">It takes several minutes to deploy all the resources.</span></span>

    ![lb-ipv6-portal-step6](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step6.png)

    <span data-ttu-id="336a5-146">如需有關這些參數的詳細資訊，請參閱本文稍後的 [範本參數和變數](#template-parameters-and-variables) 章節。</span><span class="sxs-lookup"><span data-stu-id="336a5-146">For more information about these parameters, see the [Template parameters and variables](#template-parameters-and-variables) section later in this article.</span></span>

7. <span data-ttu-id="336a5-147">若要查看範本建立的資源，按一下 [瀏覽]，將清單向下捲動直到您看到 [資源群組]，然後按一下它。</span><span class="sxs-lookup"><span data-stu-id="336a5-147">To see the resources created by the template, click Browse, scroll down the list until you see "Resource groups," then click it.</span></span>

    ![lb-ipv6-portal-step7](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step7.png)

8. <span data-ttu-id="336a5-149">在 [資源群組] 刀鋒視窗上，按一下您在步驟 6 中指定的資源群組名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-149">On the Resource groups blade, click the name of the resource group you specified in step 6.</span></span> <span data-ttu-id="336a5-150">您會看到所有已部署資源的清單。</span><span class="sxs-lookup"><span data-stu-id="336a5-150">You see a list of all the resources that were deployed.</span></span> <span data-ttu-id="336a5-151">如果一切順利，[上次部署] 下應該會顯示 [成功]。</span><span class="sxs-lookup"><span data-stu-id="336a5-151">If all went well, it should say "Succeeded" under "Last deployment."</span></span> <span data-ttu-id="336a5-152">如果沒有，請確定您使用的帳戶具有建立所需資源的權限。</span><span class="sxs-lookup"><span data-stu-id="336a5-152">If not, ensure that the account you're using has permissions to create the necessary resources.</span></span>

    ![lb-ipv6-portal-step8](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step8.png)

    > [!NOTE]
    > <span data-ttu-id="336a5-154">如果在完成步驟 6 之後立即瀏覽資源群組，[上次部署] 會在資源部署期間顯示部署的狀態。</span><span class="sxs-lookup"><span data-stu-id="336a5-154">If you browse your Resource Groups immediately after completing step 6, "Last deployment" will display the status of "Deploying" while the resources are being deployed.</span></span>

9. <span data-ttu-id="336a5-155">按一下資源清單中的 [myIPv6PublicIP]。</span><span class="sxs-lookup"><span data-stu-id="336a5-155">Click "myIPv6PublicIP" in the list of resources.</span></span> <span data-ttu-id="336a5-156">您會看到它在 IP 位址下有個 IPv6 位址，其 DNS 名稱是您在步驟 6 中為 dnsNameforIPv6LbIP 參數指定的值。</span><span class="sxs-lookup"><span data-stu-id="336a5-156">You see that it has an IPv6 address under IP address, and that its DNS name is the value you specified for the dnsNameforIPv6LbIP parameter in step 6.</span></span> <span data-ttu-id="336a5-157">此資源是公用 IPv6 位址和主機名稱，且可以存取網際網路用戶端。</span><span class="sxs-lookup"><span data-stu-id="336a5-157">This resource is the public IPv6 address and host name that is accessible to Internet-clients.</span></span>

    ![lb-ipv6-portal-step9](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step9.png)

## <a name="validate-connectivity"></a><span data-ttu-id="336a5-159">驗證連線能力</span><span class="sxs-lookup"><span data-stu-id="336a5-159">Validate connectivity</span></span>

<span data-ttu-id="336a5-160">成功部署範本後，您可以完成下列工作來驗證連線︰</span><span class="sxs-lookup"><span data-stu-id="336a5-160">When the template has deployed successfully, you can validate connectivity by completing the following tasks:</span></span>

1. <span data-ttu-id="336a5-161">登入 Azure 入口網站，連接到範本部署建立的每個 VM。</span><span class="sxs-lookup"><span data-stu-id="336a5-161">Sign in to the Azure portal and connect to each of the VMs created by the template deployment.</span></span> <span data-ttu-id="336a5-162">如果您部署的是 Windows Server VM，請從命令提示字元執行 ipconfig /all。</span><span class="sxs-lookup"><span data-stu-id="336a5-162">If you deployed a Windows Server VM, run ipconfig /all from a command prompt.</span></span> <span data-ttu-id="336a5-163">您會看到 VM 同時有 IPv4 和 IPv6 位址。</span><span class="sxs-lookup"><span data-stu-id="336a5-163">You see that the VMs have both IPv4 and IPv6 addresses.</span></span> <span data-ttu-id="336a5-164">如果您部署的是 Linux VM，必須依據 Linux 散發套件提供的指示，將 Linux 作業系統設定為接收動態 IPv6 位址。</span><span class="sxs-lookup"><span data-stu-id="336a5-164">If you deployed Linux VMs, you need to configure the Linux OS to receive dynamic IPv6 addresses using the instructions provided for your Linux distribution.</span></span>
2. <span data-ttu-id="336a5-165">從 IPv6 網際網路連接的用戶端，初始化連接至負載平衡器公用 IPv6 位址的連線。</span><span class="sxs-lookup"><span data-stu-id="336a5-165">From an IPv6 Internet-connected client, initiate a connection to the public IPv6 address of the load balancer.</span></span> <span data-ttu-id="336a5-166">若要確認負載平衡器在兩個 VM 之間達到平衡，您可以在每個 VM 上安裝網頁伺服器，像是 Microsoft 網際網路資訊服務 (IIS)。</span><span class="sxs-lookup"><span data-stu-id="336a5-166">To confirm that the load balancer is balancing between the two VMs, you could install a web server like Microsoft Internet Information Services (IIS) on each of the VMs.</span></span> <span data-ttu-id="336a5-167">在每部伺服器的預設網頁上可能會有 "Server0" 或 "Server1" 文字，可用來唯一識別它。</span><span class="sxs-lookup"><span data-stu-id="336a5-167">The default web page on each server could contain the text "Server0" or "Server1" to uniquely identify it.</span></span> <span data-ttu-id="336a5-168">然後，在 IPv6 網際網路連接的用戶端上開啟網際網路瀏覽器，瀏覽至您為負載平衡器的 dnsNameforIPv6LbIP 參數指定的主機名稱，即可確認每個 VM 的端對端 IPv6 連線能力。</span><span class="sxs-lookup"><span data-stu-id="336a5-168">Then, open an Internet browser on an IPv6 Internet-connected client and browse to the hostname you specified for the dnsNameforIPv6LbIP parameter of the load balancer to confirm end-to-end IPv6 connectivity to each VM.</span></span> <span data-ttu-id="336a5-169">如果您只只在其中一部伺服器看到網頁，可能需要清除瀏覽器的快取。</span><span class="sxs-lookup"><span data-stu-id="336a5-169">If you only see the web page from only one server, you may need to clear your browser cache.</span></span> <span data-ttu-id="336a5-170">開啟多個私人瀏覽工作階段。</span><span class="sxs-lookup"><span data-stu-id="336a5-170">Open multiple private browsing sessions.</span></span> <span data-ttu-id="336a5-171">您應該會看來自每部伺服器的回應。</span><span class="sxs-lookup"><span data-stu-id="336a5-171">You should see a response from each server.</span></span>
3. <span data-ttu-id="336a5-172">從 IPv4 網際網路連接的用戶端，初始化連接至負載平衡器公用 IPv4 位址的連線。</span><span class="sxs-lookup"><span data-stu-id="336a5-172">From an IPv4 Internet-connected client, initiate a connection to the public IPv4 address of the load balancer.</span></span> <span data-ttu-id="336a5-173">若要確認負載平衡器在兩個 VM 之間達到平衡，您可以使用 IIS 進行測試，步驟 2 中所述。</span><span class="sxs-lookup"><span data-stu-id="336a5-173">To confirm that the load balancer is load balancing the two VMs, you could test using IIS, as detailed in Step 2.</span></span>
4. <span data-ttu-id="336a5-174">從每個 VM 初始化傳出連線，連至 IPv6 或 IPv4 連接的網際網路裝置。</span><span class="sxs-lookup"><span data-stu-id="336a5-174">From each VM, initiate an outbound connection to an IPv6 or IPv4-connected Internet device.</span></span> <span data-ttu-id="336a5-175">在這兩個案例中，目的地裝置看到的來源 IP 是負載平衡器的公用 IPv4 或 IPv6 位址。</span><span class="sxs-lookup"><span data-stu-id="336a5-175">In both cases, the source IP seen by the destination device is the public IPv4 or IPv6 address of the load balancer.</span></span>

> [!NOTE]
> <span data-ttu-id="336a5-176">IPv4 和 IPv6 的 ICMP 在 Azure 網路中會被封鎖。</span><span class="sxs-lookup"><span data-stu-id="336a5-176">ICMP for both IPv4 and IPv6 is blocked in the Azure network.</span></span> <span data-ttu-id="336a5-177">因此，像 ping 這類的 ICMP 工具一定會失敗。</span><span class="sxs-lookup"><span data-stu-id="336a5-177">As a result, ICMP tools like ping always fail.</span></span> <span data-ttu-id="336a5-178">若要測試連線，使用 TCP 替代方法，例如 TCPing 或 PowerShell Test-NetConnection Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="336a5-178">To test connectivity, use a TCP alternative such as TCPing or the PowerShell Test-NetConnection cmdlet.</span></span> <span data-ttu-id="336a5-179">請注意，圖中顯示的 IP 位址是您可能會看到的範例值。</span><span class="sxs-lookup"><span data-stu-id="336a5-179">Note that the IP addresses shown in the diagram are examples of values that you might see.</span></span> <span data-ttu-id="336a5-180">因為 IPv6 位址為動態指派，您收到的位址會不同，且可能因地區而異。</span><span class="sxs-lookup"><span data-stu-id="336a5-180">Since the IPv6 addresses are assigned dynamically, the addresses you receive will differ and can vary by region.</span></span> <span data-ttu-id="336a5-181">此外，負載平衡器上公用 IPv6 位址與後端集區中私人 IPv6 位址的起始前置詞不同很常見。</span><span class="sxs-lookup"><span data-stu-id="336a5-181">Also, it is common for the public IPv6 address on the load balancer to start with a different prefix than the private IPv6 addresses in the back-end pool.</span></span>

## <a name="template-parameters-and-variables"></a><span data-ttu-id="336a5-182">範本參數和變數</span><span class="sxs-lookup"><span data-stu-id="336a5-182">Template parameters and variables</span></span>

<span data-ttu-id="336a5-183">Azure Resource Manager 範本可包含多個變數和參數，讓您自訂自己的需求。</span><span class="sxs-lookup"><span data-stu-id="336a5-183">An Azure Resource Manager template contains multiple variables and parameters that you can customize to your needs.</span></span> <span data-ttu-id="336a5-184">變數用於不想讓使用者變更的固定值。</span><span class="sxs-lookup"><span data-stu-id="336a5-184">Variables are used for fixed values that you do not want a user to change.</span></span> <span data-ttu-id="336a5-185">參數用於部署範本時要由使用者提供的值。</span><span class="sxs-lookup"><span data-stu-id="336a5-185">Parameters are used for values that you want a user to provide when deploying the template.</span></span> <span data-ttu-id="336a5-186">範例範本是針對本文所述案例而設定。</span><span class="sxs-lookup"><span data-stu-id="336a5-186">The example template is configured for the scenario described in this article.</span></span> <span data-ttu-id="336a5-187">您可自訂此範本以符合您的環境需求。</span><span class="sxs-lookup"><span data-stu-id="336a5-187">You can customize this to needs of your environment.</span></span>

<span data-ttu-id="336a5-188">本文中所用的範例範本包含下列變數和參數︰</span><span class="sxs-lookup"><span data-stu-id="336a5-188">The example template used in this article includes the following variables and parameters:</span></span>

| <span data-ttu-id="336a5-189">參數 / 變數</span><span class="sxs-lookup"><span data-stu-id="336a5-189">Parameter / Variable</span></span> | <span data-ttu-id="336a5-190">注意事項</span><span class="sxs-lookup"><span data-stu-id="336a5-190">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="336a5-191">adminUsername</span><span class="sxs-lookup"><span data-stu-id="336a5-191">adminUsername</span></span> |<span data-ttu-id="336a5-192">指定用來登入虛擬機器的系統管理員帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-192">Specify the name of the admin account used to sign in to the virtual machines with.</span></span> |
| <span data-ttu-id="336a5-193">adminPassword</span><span class="sxs-lookup"><span data-stu-id="336a5-193">adminPassword</span></span> |<span data-ttu-id="336a5-194">指定用來登入虛擬機器的系統管理員帳戶密碼。</span><span class="sxs-lookup"><span data-stu-id="336a5-194">Specify the password for the admin account used to sign in to the virtual machines with.</span></span> |
| <span data-ttu-id="336a5-195">dnsNameforIPv4LbIP</span><span class="sxs-lookup"><span data-stu-id="336a5-195">dnsNameforIPv4LbIP</span></span> |<span data-ttu-id="336a5-196">指定您想要指派為負載平衡器公用名稱的 DNS 主機名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-196">Specify the DNS host name you want to assign as the public name of the load balancer.</span></span> <span data-ttu-id="336a5-197">這個名稱會解析為負載平衡器的公用 IPv4 位址。</span><span class="sxs-lookup"><span data-stu-id="336a5-197">This name resolves to the load balancer's public IPv4 address.</span></span> <span data-ttu-id="336a5-198">此名稱必須是小寫，並符合規則運算式：^ [a-z][a-z0-9-]{1,61}[a-z0-9]$。</span><span class="sxs-lookup"><span data-stu-id="336a5-198">The name must be lowercase and match the regex: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.</span></span> |
| <span data-ttu-id="336a5-199">dnsNameforIPv6LbIP</span><span class="sxs-lookup"><span data-stu-id="336a5-199">dnsNameforIPv6LbIP</span></span> |<span data-ttu-id="336a5-200">指定您想要指派為負載平衡器公用名稱的 DNS 主機名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-200">Specify the DNS host name you want to assign as the public name of the load balancer.</span></span> <span data-ttu-id="336a5-201">這個名稱會解析為負載平衡器的公用 IPv6 位址。</span><span class="sxs-lookup"><span data-stu-id="336a5-201">This name resolves to the load balancer's public IPv6 address.</span></span> <span data-ttu-id="336a5-202">此名稱必須是小寫，並符合規則運算式：^ [a-z][a-z0-9-]{1,61}[a-z0-9]$。</span><span class="sxs-lookup"><span data-stu-id="336a5-202">The name must be lowercase and match the regex: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.</span></span> <span data-ttu-id="336a5-203">這可以和 IPv4 位址的名稱相同。</span><span class="sxs-lookup"><span data-stu-id="336a5-203">This can be the same name as the IPv4 address.</span></span> <span data-ttu-id="336a5-204">當名稱相同時，若用戶端傳送此名稱的 DNS 查詢，Azure 將傳回 A 和 AAAA 記錄。</span><span class="sxs-lookup"><span data-stu-id="336a5-204">When a client sends a DNS query for this name Azure will return both the A and AAAA records when the name is shared.</span></span> |
| <span data-ttu-id="336a5-205">vmNamePrefix</span><span class="sxs-lookup"><span data-stu-id="336a5-205">vmNamePrefix</span></span> |<span data-ttu-id="336a5-206">指定 VM 名稱前置詞。</span><span class="sxs-lookup"><span data-stu-id="336a5-206">Specify the VM name prefix.</span></span> <span data-ttu-id="336a5-207">建立 VM 時，範本會在名稱上附加一個數字 (0、1 等等)。</span><span class="sxs-lookup"><span data-stu-id="336a5-207">The template appends a number (0, 1, etc.) to the name when the VMs are created.</span></span> |
| <span data-ttu-id="336a5-208">nicNamePrefix</span><span class="sxs-lookup"><span data-stu-id="336a5-208">nicNamePrefix</span></span> |<span data-ttu-id="336a5-209">指定網路介面名稱前置詞。</span><span class="sxs-lookup"><span data-stu-id="336a5-209">Specify the network interface name prefix.</span></span> <span data-ttu-id="336a5-210">建立網路介面時，範本會在名稱上附加一個數字 (0、1 等等)。</span><span class="sxs-lookup"><span data-stu-id="336a5-210">The template appends a number (0, 1, etc.) to the name when the network interfaces are created.</span></span> |
| <span data-ttu-id="336a5-211">storageAccountName</span><span class="sxs-lookup"><span data-stu-id="336a5-211">storageAccountName</span></span> |<span data-ttu-id="336a5-212">輸入現有儲存體帳戶的名稱，或指定範本所建立的新儲存體帳戶的名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-212">Enter the name of an existing storage account or specify the name of a new one to be created by the template.</span></span> |
| <span data-ttu-id="336a5-213">availabilitySetName</span><span class="sxs-lookup"><span data-stu-id="336a5-213">availabilitySetName</span></span> |<span data-ttu-id="336a5-214">輸入 VM 使用的可用性設定組稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-214">Enter then name of the availability set to be used with the VMs</span></span> |
| <span data-ttu-id="336a5-215">addressPrefix</span><span class="sxs-lookup"><span data-stu-id="336a5-215">addressPrefix</span></span> |<span data-ttu-id="336a5-216">用來定義虛擬網路位址範圍的位址首碼。</span><span class="sxs-lookup"><span data-stu-id="336a5-216">The address prefix used to define the address range of the Virtual Network</span></span> |
| <span data-ttu-id="336a5-217">subnetName</span><span class="sxs-lookup"><span data-stu-id="336a5-217">subnetName</span></span> |<span data-ttu-id="336a5-218">為 VNet 建立的子網路名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-218">The name of the subnet in created for the VNet</span></span> |
| <span data-ttu-id="336a5-219">subnetPrefix</span><span class="sxs-lookup"><span data-stu-id="336a5-219">subnetPrefix</span></span> |<span data-ttu-id="336a5-220">用來定義子網路位址範圍的位址首碼。</span><span class="sxs-lookup"><span data-stu-id="336a5-220">The address prefix used to define the address range of the subnet</span></span> |
| <span data-ttu-id="336a5-221">vnetName</span><span class="sxs-lookup"><span data-stu-id="336a5-221">vnetName</span></span> |<span data-ttu-id="336a5-222">指定 VM 所使用的 VNet 名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-222">Specify the name for the VNet used by the VMs.</span></span> |
| <span data-ttu-id="336a5-223">ipv4PrivateIPAddressType</span><span class="sxs-lookup"><span data-stu-id="336a5-223">ipv4PrivateIPAddressType</span></span> |<span data-ttu-id="336a5-224">私人 IP 位址使用的配置方法 (Static 或 Dynamic)。</span><span class="sxs-lookup"><span data-stu-id="336a5-224">The allocation method used for the private IP address (Static or Dynamic)</span></span> |
| <span data-ttu-id="336a5-225">ipv6PrivateIPAddressType</span><span class="sxs-lookup"><span data-stu-id="336a5-225">ipv6PrivateIPAddressType</span></span> |<span data-ttu-id="336a5-226">私人 IP 位址使用的配置方法 (Dynamic)。</span><span class="sxs-lookup"><span data-stu-id="336a5-226">The allocation method used for the private IP address (Dynamic).</span></span> <span data-ttu-id="336a5-227">IPv6 只支援 Dynamic (動態) 配置。</span><span class="sxs-lookup"><span data-stu-id="336a5-227">IPv6 only supports Dynamic allocation.</span></span> |
| <span data-ttu-id="336a5-228">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="336a5-228">numberOfInstances</span></span> |<span data-ttu-id="336a5-229">範本部署的負載平衡執行個體的數目。</span><span class="sxs-lookup"><span data-stu-id="336a5-229">The number of load balanced instances deployed by the template</span></span> |
| <span data-ttu-id="336a5-230">ipv4PublicIPAddressName</span><span class="sxs-lookup"><span data-stu-id="336a5-230">ipv4PublicIPAddressName</span></span> |<span data-ttu-id="336a5-231">指定您想要用來與負載平衡器的公用 IPv4 位址進行通訊的 DNS 名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-231">Specify the DNS name you want to use to communicate with the public IPv4 address of the load balancer.</span></span> |
| <span data-ttu-id="336a5-232">ipv4PublicIPAddressType</span><span class="sxs-lookup"><span data-stu-id="336a5-232">ipv4PublicIPAddressType</span></span> |<span data-ttu-id="336a5-233">公用 IP 位址使用的配置方法 (Static 或 Dynamic)。</span><span class="sxs-lookup"><span data-stu-id="336a5-233">The allocation method used for the public IP address (Static or Dynamic)</span></span> |
| <span data-ttu-id="336a5-234">Ipv6PublicIPAddressName</span><span class="sxs-lookup"><span data-stu-id="336a5-234">Ipv6PublicIPAddressName</span></span> |<span data-ttu-id="336a5-235">指定您想要用來與負載平衡器的公用 IPv6 位址進行通訊的 DNS 名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-235">Specify the DNS name you want to use to communicate with the public IPv6 address of the load balancer.</span></span> |
| <span data-ttu-id="336a5-236">ipv6PublicIPAddressType</span><span class="sxs-lookup"><span data-stu-id="336a5-236">ipv6PublicIPAddressType</span></span> |<span data-ttu-id="336a5-237">公用 IP 位址使用的配置方法 (Dynamic)。</span><span class="sxs-lookup"><span data-stu-id="336a5-237">The allocation method used for the public IP address (Dynamic).</span></span> <span data-ttu-id="336a5-238">IPv6 只支援 Dynamic (動態) 配置。</span><span class="sxs-lookup"><span data-stu-id="336a5-238">IPv6 only supports Dynamic allocation.</span></span> |
| <span data-ttu-id="336a5-239">lbName</span><span class="sxs-lookup"><span data-stu-id="336a5-239">lbName</span></span> |<span data-ttu-id="336a5-240">指定負載平衡器的名稱。</span><span class="sxs-lookup"><span data-stu-id="336a5-240">Specify the name of the load balancer.</span></span> <span data-ttu-id="336a5-241">這個名稱會顯示在入口網站，或在以 CLI 或 PowerShell 命令參考它時用到。</span><span class="sxs-lookup"><span data-stu-id="336a5-241">This name is displayed in the portal or used when referring to it with a CLI or PowerShell command.</span></span> |

<span data-ttu-id="336a5-242">範本中的其餘變數是 Azure 建立資源時指派的衍生值。</span><span class="sxs-lookup"><span data-stu-id="336a5-242">The remaining variables in the template contain derived values that are assigned when Azure creates the resources.</span></span> <span data-ttu-id="336a5-243">請勿變更這些變數。</span><span class="sxs-lookup"><span data-stu-id="336a5-243">Do not change those variables.</span></span>
