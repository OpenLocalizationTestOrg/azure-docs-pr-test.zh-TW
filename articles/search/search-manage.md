---
title: "Azure 搜尋中 hello Azure 入口網站的 aaaService 管理"
description: "管理 Azure 搜尋中，使用 hello Azure 入口網站的 Microsoft Azure 上託管的雲端搜尋服務。"
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: c87d1fdd-b3b8-4702-a753-6d7e29dbe0a2
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 06/18/2017
ms.author: heidist
ms.openlocfilehash: 9bb33660d93e068e0f35b856cba0a41c92623644
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="service-administration-for-azure-search-in-hello-azure-portal"></a><span data-ttu-id="0685b-103">Azure 搜尋 hello Azure 入口網站中的服務管理</span><span class="sxs-lookup"><span data-stu-id="0685b-103">Service administration for Azure Search in hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="0685b-104">入口網站</span><span class="sxs-lookup"><span data-stu-id="0685b-104">Portal</span></span>](search-manage.md)
> * [<span data-ttu-id="0685b-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0685b-105">PowerShell</span></span>](search-manage-powershell.md)
> * [<span data-ttu-id="0685b-106">.NET SDK</span><span class="sxs-lookup"><span data-stu-id="0685b-106">.NET SDK</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.management.search)
> * <span data-ttu-id="0685b-107">[Python (英文)](https://pypi.python.org/pypi/azure-mgmt-search/0.1.0)></span><span class="sxs-lookup"><span data-stu-id="0685b-107">[Python](https://pypi.python.org/pypi/azure-mgmt-search/0.1.0)></span></span> 

<span data-ttu-id="0685b-108">Azure 搜尋服務是完全受管理、以雲端為基礎的搜尋服務，用來在自訂應用程式內建置豐富的搜尋經驗。</span><span class="sxs-lookup"><span data-stu-id="0685b-108">Azure Search is a fully managed, cloud-based search service used for building a rich search experience into custom apps.</span></span> <span data-ttu-id="0685b-109">本文章涵蓋 hello*服務管理*工作，您可以在 hello 執行[Azure 入口網站](https://portal.azure.com)您已經佈建搜尋服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-109">This article covers hello *service administration* tasks that you can perform in hello [Azure portal](https://portal.azure.com) for a search service that you've already provisioned.</span></span> <span data-ttu-id="0685b-110">*服務管理*是根據設計，下列工作的有限 toohello 輕量：</span><span class="sxs-lookup"><span data-stu-id="0685b-110">*Service administration* is lightweight by design, limited toohello following tasks:</span></span>

* <span data-ttu-id="0685b-111">管理及保護存取 toohello *api 金鑰*用於讀取或寫入存取 tooyour 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-111">Manage and secure access toohello *api-keys* used for read or write access tooyour service.</span></span>
* <span data-ttu-id="0685b-112">變更 hello 配置的資料分割和複本，以調整服務的容量。</span><span class="sxs-lookup"><span data-stu-id="0685b-112">Adjust service capacity by changing hello allocation of partitions and replicas.</span></span>
* <span data-ttu-id="0685b-113">監視資源使用量，您的服務層的相對 toomaximum 限制。</span><span class="sxs-lookup"><span data-stu-id="0685b-113">Monitor resource usage, relative toomaximum limits of your service tier.</span></span>

<span data-ttu-id="0685b-114">**不在範圍中**</span><span class="sxs-lookup"><span data-stu-id="0685b-114">**Not in scope**</span></span> 

<span data-ttu-id="0685b-115">*內容管理*（或索引管理） 是指 toooperations 分析搜尋流量 toounderstand 查詢磁碟區，例如探索的詞彙搜尋，以及如何成功的搜尋結果是以引導客戶 toospecific 的人員您的索引中的文件。</span><span class="sxs-lookup"><span data-stu-id="0685b-115">*Content management* (or index management) refers toooperations such as analyzing search traffic toounderstand query volume, discover which terms people search for, and how successful search results are in guiding customers toospecific documents in your index.</span></span> <span data-ttu-id="0685b-116">如需此區域的說明，請參閱 [Azure 搜尋服務的搜尋流量分析](search-traffic-analytics.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-116">For help in this area, see [Search Traffic Analytics for Azure Search](search-traffic-analytics.md).</span></span>

<span data-ttu-id="0685b-117">*查詢效能*也已超出本文 hello 範圍。</span><span class="sxs-lookup"><span data-stu-id="0685b-117">*Query performance* is also beyond hello scope of this article.</span></span> <span data-ttu-id="0685b-118">如需詳細資訊，請參閱[監視使用量和查詢度量](search-monitor-usage.md)和[效能和最佳化](search-performance-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-118">For more information, see [Monitor usage and query metrics](search-monitor-usage.md) and [Performance and optimization](search-performance-optimization.md).</span></span>

<span data-ttu-id="0685b-119">「升級」不是管理工作。</span><span class="sxs-lookup"><span data-stu-id="0685b-119">*Upgrade* is not an administrative task.</span></span> <span data-ttu-id="0685b-120">佈建 hello 服務時，會配置資源，因為移動的 tooa 不同的階層會需要新的服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-120">Because resources are allocated when hello service is provisioned, moving tooa different tier requires a new service.</span></span> <span data-ttu-id="0685b-121">如需詳細資料，請參閱[建立 Azure 搜尋服務](search-create-service-portal.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-121">For details, see [Create an Azure Search service](search-create-service-portal.md).</span></span>

<a id="admin-rights"></a>

## <a name="administrator-rights"></a><span data-ttu-id="0685b-122">系統管理員權限</span><span class="sxs-lookup"><span data-stu-id="0685b-122">Administrator rights</span></span>
<span data-ttu-id="0685b-123">佈建或解除委任 hello 服務本身即可做到的 Azure 訂用帳戶系統管理員或共同管理員。</span><span class="sxs-lookup"><span data-stu-id="0685b-123">Provisioning or decommissioning hello service itself can be done by an Azure subscription administrator or co-administrator.</span></span>

<span data-ttu-id="0685b-124">在服務內，任何人存取 toohello 服務 url 和管理 api 金鑰都有讀寫存取 toohello 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-124">Within a service, anyone with access toohello service URL and an admin api-key has read-write access toohello service.</span></span> <span data-ttu-id="0685b-125">讀寫存取提供 hello 能力 tooadd、 刪除或修改伺服器物件，包括應用程式開發介面索引鍵、 索引、 索引子、 資料來源、 排程和角色指派，如透過實作[RBAC 定義角色](#rbac)。</span><span class="sxs-lookup"><span data-stu-id="0685b-125">Read-write access provides hello ability tooadd, delete, or modify server objects, including api-keys, indexes, indexers, data sources, schedules, and role assignments as implemented through [RBAC-defined roles](#rbac).</span></span>

<span data-ttu-id="0685b-126">使用 Azure 搜尋的所有使用者互動都置於其中一個模式： 讀寫存取 toohello 服務 （系統管理員權限） 或唯讀存取 toohello 服務 （查詢權限）。</span><span class="sxs-lookup"><span data-stu-id="0685b-126">All user interaction with Azure Search falls within one of these modes: read-write access toohello service (administrator rights), or read-only access toohello service (query rights).</span></span> <span data-ttu-id="0685b-127">如需詳細資訊，請參閱[管理 hello api 金鑰](#manage-keys)。</span><span class="sxs-lookup"><span data-stu-id="0685b-127">For more information, see [Manage hello api-keys](#manage-keys).</span></span>

<a id="sys-info"></a>

## <a name="set-rbac-roles-for-administrative-access"></a><span data-ttu-id="0685b-128">設定系統管理存取權的 RBAC 角色</span><span class="sxs-lookup"><span data-stu-id="0685b-128">Set RBAC roles for administrative access</span></span>
<span data-ttu-id="0685b-129">Azure 提供[全域以角色為基礎的授權模型](../active-directory/role-based-access-control-configure.md)透過 hello 入口網站或資源管理員 Api 管理的所有服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-129">Azure provides a [global role-based authorization model](../active-directory/role-based-access-control-configure.md) for all services managed through hello portal or Resource Manager APIs.</span></span> <span data-ttu-id="0685b-130">擁有者、 參與者和讀取器角色判斷服務管理的 Active Directory 使用者、 群組和安全性主體指派的 tooeach 角色 hello 層級。</span><span class="sxs-lookup"><span data-stu-id="0685b-130">Owner, Contributor, and Reader roles determine hello level of service administration for Active Directory users, groups, and security principals assigned tooeach role.</span></span> 

<span data-ttu-id="0685b-131">Azure 搜尋 RBAC 權限會決定下列系統管理工作的 hello:</span><span class="sxs-lookup"><span data-stu-id="0685b-131">For Azure Search, RBAC permissions determine hello following administrative tasks:</span></span>

| <span data-ttu-id="0685b-132">角色</span><span class="sxs-lookup"><span data-stu-id="0685b-132">Role</span></span> | <span data-ttu-id="0685b-133">工作</span><span class="sxs-lookup"><span data-stu-id="0685b-133">Task</span></span> |
| --- | --- |
| <span data-ttu-id="0685b-134">擁有者</span><span class="sxs-lookup"><span data-stu-id="0685b-134">Owner</span></span> |<span data-ttu-id="0685b-135">建立或刪除 hello 服務或 hello 服務，包括 api 金鑰、 索引、 索引子、 索引子資料來源，以及索引子排程上的任何物件。</span><span class="sxs-lookup"><span data-stu-id="0685b-135">Create or delete hello service or any object on hello service, including api-keys, indexes, indexers, indexer data sources, and indexer schedules.</span></span><p><span data-ttu-id="0685b-136">檢視服務狀態，包括計數和儲存體大小。</span><span class="sxs-lookup"><span data-stu-id="0685b-136">View service status, including counts and storage size.</span></span><p><span data-ttu-id="0685b-137">新增或刪除角色成員資格 (只有「擁有者」可以管理角色成員資格)。</span><span class="sxs-lookup"><span data-stu-id="0685b-137">Add or delete role membership (only an Owner can manage role membership).</span></span><p><span data-ttu-id="0685b-138">訂用帳戶管理員和服務擁有者具有自動成員資格 hello 擁有者角色中。</span><span class="sxs-lookup"><span data-stu-id="0685b-138">Subscription administrators and service owners have automatic membership in hello Owners role.</span></span> |
| <span data-ttu-id="0685b-139">參與者</span><span class="sxs-lookup"><span data-stu-id="0685b-139">Contributor</span></span> |<span data-ttu-id="0685b-140">與「擁有者」相同層級的存取權，減去 RBAC 角色管理。</span><span class="sxs-lookup"><span data-stu-id="0685b-140">Same level of access as Owner, minus RBAC role management.</span></span> <span data-ttu-id="0685b-141">例如，參與者可以檢視和重新產生 `api-key`，但不能修改角色成員資格。</span><span class="sxs-lookup"><span data-stu-id="0685b-141">For example, a Contributor can view and regenerate `api-key`, but cannot modify role memberships.</span></span> |
| <span data-ttu-id="0685b-142">讀取者</span><span class="sxs-lookup"><span data-stu-id="0685b-142">Reader</span></span> |<span data-ttu-id="0685b-143">檢視服務狀態及查詢金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-143">View service status and query keys.</span></span> <span data-ttu-id="0685b-144">這個角色的成員無法變更服務組態，也無法檢視管理金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-144">Members of this role cannot change service configuration, nor can they view admin keys.</span></span> |

<span data-ttu-id="0685b-145">角色不會授與存取權限 toohello 服務端點。</span><span class="sxs-lookup"><span data-stu-id="0685b-145">Roles do not grant access rights toohello service endpoint.</span></span> <span data-ttu-id="0685b-146">搜尋服務作業 (例如索引管理、索引母體擴展，以及搜尋資料查詢) 可透過 api-key 而非角色來控制。</span><span class="sxs-lookup"><span data-stu-id="0685b-146">Search service operations, such as index management, index population, and queries on search data, are controlled through api-keys, not roles.</span></span> <span data-ttu-id="0685b-147">如需詳細資訊，請參閱[什麼是角色存取控制](../active-directory/role-based-access-control-what-is.md)中的「管理授權與資料作業」。</span><span class="sxs-lookup"><span data-stu-id="0685b-147">For more information, see "Authorization for management versus data operations" in [What is Role-based access control](../active-directory/role-based-access-control-what-is.md).</span></span>

<a id="secure-keys"></a>
## <a name="logging-and-system-information"></a><span data-ttu-id="0685b-148">記錄與系統資訊</span><span class="sxs-lookup"><span data-stu-id="0685b-148">Logging and system information</span></span>
<span data-ttu-id="0685b-149">Azure 搜尋不會公開透過 hello 入口網站或程式設計介面的個別服務的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="0685b-149">Azure Search does not expose log files for an individual service either through hello portal or programmatic interfaces.</span></span> <span data-ttu-id="0685b-150">Hello 基本層和更新版本中，Microsoft 會監視所有的 Azure 搜尋服務的每個服務等級協定 (SLA) 的 99.9%可用性。</span><span class="sxs-lookup"><span data-stu-id="0685b-150">At hello Basic tier and above, Microsoft monitors all Azure Search services for 99.9% availability per service level agreements (SLA).</span></span> <span data-ttu-id="0685b-151">如果 hello 服務很慢，或要求輸送量低於 SLA 臨界值，支援小組會檢閱 hello 記錄檔可用 toothem 和地址 hello 問題。</span><span class="sxs-lookup"><span data-stu-id="0685b-151">If hello service is slow or request throughput falls below SLA thresholds, support teams review hello log files available toothem and address hello issue.</span></span>

<span data-ttu-id="0685b-152">根據您的服務的一般資訊，您可以取得 hello 下列方式中的資訊：</span><span class="sxs-lookup"><span data-stu-id="0685b-152">In terms of general information about your service, you can obtain information in hello following ways:</span></span>

* <span data-ttu-id="0685b-153">在 hello 入口網站，hello 服務儀表板上，透過通知、 屬性和狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="0685b-153">In hello portal, on hello service dashboard, through notifications, properties, and status messages.</span></span>
* <span data-ttu-id="0685b-154">使用[PowerShell](search-manage-powershell.md)或 hello[管理 REST API](https://docs.microsoft.com/rest/api/searchmanagement/)太[取得服務屬性](https://docs.microsoft.com/rest/api/searchmanagement/services)，或在索引資源使用狀況的狀態。</span><span class="sxs-lookup"><span data-stu-id="0685b-154">Using [PowerShell](search-manage-powershell.md) or hello [Management REST API](https://docs.microsoft.com/rest/api/searchmanagement/) too[get service properties](https://docs.microsoft.com/rest/api/searchmanagement/services), or status on index resource usage.</span></span>
* <span data-ttu-id="0685b-155">如先前所述，透過[搜尋流量分析](search-traffic-analytics.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-155">Via [search traffic analytics](search-traffic-analytics.md), as noted previously.</span></span>

<a id="manage-keys"></a>

## <a name="manage-api-keys"></a><span data-ttu-id="0685b-156">管理 API 金鑰</span><span class="sxs-lookup"><span data-stu-id="0685b-156">Manage api-keys</span></span>
<span data-ttu-id="0685b-157">Tooa 搜尋服務需要特別為您的服務所產生的 api 金鑰的所有要求。</span><span class="sxs-lookup"><span data-stu-id="0685b-157">All requests tooa search service need an api-key that was generated specifically for your service.</span></span> <span data-ttu-id="0685b-158">此 api 金鑰是 hello 驗證存取 tooyour 搜尋服務端點的唯一機制。</span><span class="sxs-lookup"><span data-stu-id="0685b-158">This api-key is hello sole mechanism for authenticating access tooyour search service endpoint.</span></span> 

<span data-ttu-id="0685b-159">API 金鑰是由隨機產生的數字和字母所組成的字串。</span><span class="sxs-lookup"><span data-stu-id="0685b-159">An api-key is a string composed of randomly generated numbers and letters.</span></span> <span data-ttu-id="0685b-160">透過[RBAC 權限](#rbac)，您可以刪除或讀取 hello 機碼，但您無法以使用者定義的密碼取代金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-160">Through [RBAC permissions](#rbac), you can delete or read hello keys, but you can't replace a key with a user-defined password.</span></span> 

<span data-ttu-id="0685b-161">兩種類型的索引鍵是使用的 tooaccess 搜尋服務：</span><span class="sxs-lookup"><span data-stu-id="0685b-161">Two types of keys are used tooaccess your search service:</span></span>

* <span data-ttu-id="0685b-162">系統管理員 （適用於 hello 服務的任何讀取寫入作業）</span><span class="sxs-lookup"><span data-stu-id="0685b-162">Admin (valid for any read-write operation against hello service)</span></span>
* <span data-ttu-id="0685b-163">查詢 (適用於唯讀作業，例如針對索引的查詢)</span><span class="sxs-lookup"><span data-stu-id="0685b-163">Query (valid for read-only operations such as queries against an index)</span></span>

<span data-ttu-id="0685b-164">佈建 hello 服務時，會建立系統管理 api 金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-164">An admin api-key is created when hello service is provisioned.</span></span> <span data-ttu-id="0685b-165">有兩個的系統管理金鑰指定為*主要*和*次要*tookeep 它們直接，但事實上它們是可互換的。</span><span class="sxs-lookup"><span data-stu-id="0685b-165">There are two admin keys, designated as *primary* and *secondary* tookeep them straight, but in fact they are interchangeable.</span></span> <span data-ttu-id="0685b-166">每個服務有兩個系統管理金鑰，因此您可以換一而不會遺失存取 tooyour 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-166">Each service has two admin keys so that you can roll one over without losing access tooyour service.</span></span> <span data-ttu-id="0685b-167">您可以重新產生任一管理金鑰，但您無法加入 toohello 總管理索引鍵計數。</span><span class="sxs-lookup"><span data-stu-id="0685b-167">You can regenerate either admin key, but you cannot add toohello total admin key count.</span></span> <span data-ttu-id="0685b-168">每個搜尋服務最多有 2 個管理員金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-168">There is a maximum of two admin keys per search service.</span></span>

<span data-ttu-id="0685b-169">查詢金鑰是專為直接呼叫搜尋的用戶端應用程式所設計。</span><span class="sxs-lookup"><span data-stu-id="0685b-169">Query keys are designed for client applications that call Search directly.</span></span> <span data-ttu-id="0685b-170">您可以建立 too50 查詢索引鍵。</span><span class="sxs-lookup"><span data-stu-id="0685b-170">You can create up too50 query keys.</span></span> <span data-ttu-id="0685b-171">在應用程式碼中，您可以指定 hello 搜尋 URL 和查詢 api 金鑰 tooallow 唯讀存取 toohello 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-171">In application code, you specify hello search URL and a query api-key tooallow read-only access toohello service.</span></span> <span data-ttu-id="0685b-172">應用程式程式碼也會指定應用程式所使用的 hello 索引。</span><span class="sxs-lookup"><span data-stu-id="0685b-172">Your application code also specifies hello index used by your application.</span></span> <span data-ttu-id="0685b-173">在一起，hello 端點，api 金鑰的唯讀存取和目標索引定義用戶端應用程式中的 hello 連接 hello 領域和存取層的級。</span><span class="sxs-lookup"><span data-stu-id="0685b-173">Together, hello endpoint, an api-key for read-only access, and a target index define hello scope and access level of hello connection from your client application.</span></span>

<span data-ttu-id="0685b-174">tooget 或重新產生 api 金鑰，開啟 hello 服務儀表板。</span><span class="sxs-lookup"><span data-stu-id="0685b-174">tooget or regenerate api-keys, open hello service dashboard.</span></span> <span data-ttu-id="0685b-175">按一下**金鑰**tooslide 開啟 hello 金鑰管理頁面。</span><span class="sxs-lookup"><span data-stu-id="0685b-175">Click **KEYS** tooslide open hello key management page.</span></span> <span data-ttu-id="0685b-176">重新產生或建立機碼的命令是在 hello hello 頁面最上方。</span><span class="sxs-lookup"><span data-stu-id="0685b-176">Commands for regenerating or creating keys are at hello top of hello page.</span></span> <span data-ttu-id="0685b-177">依預設，只會建立管理員金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-177">By default, only admin keys are created.</span></span> <span data-ttu-id="0685b-178">查詢 API 金鑰必須以手動方式建立。</span><span class="sxs-lookup"><span data-stu-id="0685b-178">Query api-keys must be created manually.</span></span>

 ![][9]

<a id="rbac"></a>

## <a name="secure-api-keys"></a><span data-ttu-id="0685b-179">保護 API 金鑰</span><span class="sxs-lookup"><span data-stu-id="0685b-179">Secure api-keys</span></span>
<span data-ttu-id="0685b-180">藉由限制存取透過 hello 入口網站或資源管理員介面 （PowerShell 或命令列介面），會確保重要的安全性。</span><span class="sxs-lookup"><span data-stu-id="0685b-180">Key security is ensured by restricting access via hello portal or Resource Manager interfaces (PowerShell or command-line interface).</span></span> <span data-ttu-id="0685b-181">如前所述，訂用帳戶系統管理員可以檢視及重新產生所有的 API 金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-181">As noted, subscription administrators can view and regenerate all api-keys.</span></span> <span data-ttu-id="0685b-182">做為預防起見，檢視角色指派 toounderstand 擁有存取 toohello 系統管理金鑰。</span><span class="sxs-lookup"><span data-stu-id="0685b-182">As a precaution, review role assignments toounderstand who has access toohello admin keys.</span></span>

1. <span data-ttu-id="0685b-183">在 hello 服務儀表板 hello 存取圖示 tooslide 開啟 hello 使用者刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="0685b-183">In hello service dashboard, click hello Access icon tooslide open hello Users blade.</span></span>
   ![][7]
2. <span data-ttu-id="0685b-184">在 [使用者] 中，檢閱現有的角色指派。</span><span class="sxs-lookup"><span data-stu-id="0685b-184">In Users, review existing role assignments.</span></span> <span data-ttu-id="0685b-185">如預期般，訂用帳戶系統管理員已透過 hello 擁有者角色的完整存取 toohello 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-185">As expected, Subscription admins already have full access toohello service via hello Owner role.</span></span>
3. <span data-ttu-id="0685b-186">此外，toodrill 按一下**訂用帳戶系統管理員 」**然後展開 hello 角色指派清單 toosee 上搜尋服務具有共同的系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0685b-186">toodrill further, click **Subscription admins** and then expand hello role assignment list toosee who has co-administration rights on your search service.</span></span>

<span data-ttu-id="0685b-187">另一個方式 tooview 存取權限是 tooclick**角色**hello 使用者 刀鋒視窗上。</span><span class="sxs-lookup"><span data-stu-id="0685b-187">Another way tooview access permissions is tooclick **Roles** on hello Users blade.</span></span> <span data-ttu-id="0685b-188">這麼做會顯示可用的角色和使用者或群組指派的 tooeach 角色的 hello 數目。</span><span class="sxs-lookup"><span data-stu-id="0685b-188">Doing so displays available roles and hello number of users or groups assigned tooeach role.</span></span>

<a id="sub-5"></a>

## <a name="monitor-resource-usage"></a><span data-ttu-id="0685b-189">監視資源使用量</span><span class="sxs-lookup"><span data-stu-id="0685b-189">Monitor resource usage</span></span>
<span data-ttu-id="0685b-190">在 hello 儀表板，資源監視是有限的 toohello hello 服務儀表板，您可以透過查詢 hello 服務取得的幾個度量所示的資訊。</span><span class="sxs-lookup"><span data-stu-id="0685b-190">In hello dashboard, resource monitoring is limited toohello information shown in hello service dashboard and a few metrics that you can obtain by querying hello service.</span></span> <span data-ttu-id="0685b-191">Hello 服務儀表板上，在 hello 使用量區段中，您可以快速判斷是否適合您的應用程式磁碟分割資源層級。</span><span class="sxs-lookup"><span data-stu-id="0685b-191">On hello service dashboard, in hello Usage section, you can quickly determine whether partition resource levels are adequate for your application.</span></span>

<span data-ttu-id="0685b-192">您可以使用 hello 搜尋服務 API，來取得文件和索引上的資料計數。</span><span class="sxs-lookup"><span data-stu-id="0685b-192">Using hello Search Service API, you can get a count on documents and indexes.</span></span> <span data-ttu-id="0685b-193">有這些 hello 定價層為依據的計數相關聯的固定限制。</span><span class="sxs-lookup"><span data-stu-id="0685b-193">There are hard limits associated with these counts based on hello pricing tier.</span></span> <span data-ttu-id="0685b-194">如需詳細資訊，請參閱[搜尋服務限制](search-limits-quotas-capacity.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-194">For more information, see [Search service limits](search-limits-quotas-capacity.md).</span></span> 

* [<span data-ttu-id="0685b-195">取得索引統計資料</span><span class="sxs-lookup"><span data-stu-id="0685b-195">Get Index Statistics</span></span>](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)
* [<span data-ttu-id="0685b-196">文件計數</span><span class="sxs-lookup"><span data-stu-id="0685b-196">Count Documents</span></span>](https://docs.microsoft.com/rest/api/searchservice/count-documents)

> [!NOTE]
> <span data-ttu-id="0685b-197">快取行為可暫時放寬限制。</span><span class="sxs-lookup"><span data-stu-id="0685b-197">Caching behaviors can temporarily overstate a limit.</span></span> <span data-ttu-id="0685b-198">例如，使用共用的 hello 服務時，您可能會看到文件計數超過 hello 10000 的文件的硬限制。</span><span class="sxs-lookup"><span data-stu-id="0685b-198">For example, when using hello shared service, you might see a document count over hello hard limit of 10,000 documents.</span></span> <span data-ttu-id="0685b-199">hello overstatement 是暫時的系統會偵測到下一步限制強制檢查 hello 上。</span><span class="sxs-lookup"><span data-stu-id="0685b-199">hello overstatement is temporary and will be detected on hello next limit enforcement check.</span></span> 
> 
> 

## <a name="disaster-recovery-and-service-outages"></a><span data-ttu-id="0685b-200">災害復原和服務中斷</span><span class="sxs-lookup"><span data-stu-id="0685b-200">Disaster recovery and service outages</span></span>

<span data-ttu-id="0685b-201">雖然我們可以先搶救資料，Azure 搜尋不提供立即的容錯移轉的 hello 服務層級 hello 叢集或資料中心中斷時。</span><span class="sxs-lookup"><span data-stu-id="0685b-201">Although we can salvage your data, Azure Search does not provide instant failover of hello service if there is an outage at hello cluster or data center level.</span></span> <span data-ttu-id="0685b-202">如果在 hello 資料中心失敗的叢集，hello 作業小組會偵測並工作 toorestore 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-202">If a cluster fails in hello data center, hello operations team will detect and work toorestore service.</span></span> <span data-ttu-id="0685b-203">您會在服務還原期間經歷停機。</span><span class="sxs-lookup"><span data-stu-id="0685b-203">You will experience downtime during service restoration.</span></span> <span data-ttu-id="0685b-204">您可以要求每個 hello 服務無法使用的服務參與名單 toocompensate[服務等級協定 (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/)。</span><span class="sxs-lookup"><span data-stu-id="0685b-204">You can request service credits toocompensate for service unavailability per hello [Service Level Agreement (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span> 

<span data-ttu-id="0685b-205">如果持續服務需要的重大錯誤，Microsoft 的控制之外的 hello 事件中，您可以[佈建其他服務以](search-create-service-portal.md)以不同的地區和實作地理複寫策略 tooensure 索引是完全重複的所有服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-205">If continuous service is required in hello event of catastrophic failures outside of Microsoft’s control, you could [provision an additional service](search-create-service-portal.md) in a different region and implement a geo-replication strategy tooensure indexes are fully redundant across all services.</span></span>

<span data-ttu-id="0685b-206">使用客戶[索引子](search-indexer-overview.md)toopopulate 和重新整理的索引，可以處理透過運用 hello 地理特定索引子的災害復原相同的資料來源。</span><span class="sxs-lookup"><span data-stu-id="0685b-206">Customers who use [indexers](search-indexer-overview.md) toopopulate and refresh indexes can handle disaster recovery through geo-specific indexers leveraging hello same data source.</span></span> <span data-ttu-id="0685b-207">在不同區域中，每個執行索引子的兩個服務無法索引 hello 從相同資料來源 tooachieve 異地備援。</span><span class="sxs-lookup"><span data-stu-id="0685b-207">Two services in different regions, each running an indexer, could index from hello same data source tooachieve geo-redundancy.</span></span> <span data-ttu-id="0685b-208">如果從同為異地備援的資料來源建立索引，請留意，Azure 搜尋服務索引子只能在主要複本執行遞增索引。</span><span class="sxs-lookup"><span data-stu-id="0685b-208">If you are indexing from data sources that are also geo-redundant, be aware that Azure Search indexers can only perform incremental indexing from primary replicas.</span></span> <span data-ttu-id="0685b-209">在容錯移轉事件中，必須確定 toore 點 hello 索引子 toohello 新主要複本。</span><span class="sxs-lookup"><span data-stu-id="0685b-209">In a failover event, be sure toore-point hello indexer toohello new primary replica.</span></span> 

<span data-ttu-id="0685b-210">如果您不使用索引子，您會以平行方式來使用應用程式程式碼 toopush 物件和資料 toodifferent 搜尋服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-210">If you do not use indexers, you would use your application code toopush objects and data toodifferent search services in parallel.</span></span> <span data-ttu-id="0685b-211">如需詳細資訊，請參閱 [Azure 搜尋服務中的效能和最佳化](search-performance-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-211">For more information, see [Performance and optimization in Azure Search](search-performance-optimization.md).</span></span>

## <a name="backup-and-restore"></a><span data-ttu-id="0685b-212">備份與還原</span><span class="sxs-lookup"><span data-stu-id="0685b-212">Backup and restore</span></span>

<span data-ttu-id="0685b-213">因為 Azure 搜尋服務不是主要的資料儲存體解決方案，所以我們不提供自助備份及還原的正式機制。</span><span class="sxs-lookup"><span data-stu-id="0685b-213">Because Azure Search is not a primary data storage solution, we do not provide a formal mechanism for self-service backup and restore.</span></span> <span data-ttu-id="0685b-214">您的應用程式程式碼，用來建立及填入索引是 hello 既定的還原選項，如果您不小心刪除索引。</span><span class="sxs-lookup"><span data-stu-id="0685b-214">Your application code used for creating and populating an index is hello de facto restore option if you delete an index by mistake.</span></span> 

<span data-ttu-id="0685b-215">toorebuild 索引，您會刪除它 （假設存在的話）、 重新建立 hello 服務中的 hello 索引並重新載入從您的主要資料存放區中擷取資料。</span><span class="sxs-lookup"><span data-stu-id="0685b-215">toorebuild an index, you would delete it (assuming it exists), recreate hello index in hello service, and reload by retrieving data from your primary data store.</span></span> <span data-ttu-id="0685b-216">或者，您可能會達到太[客戶支援]()toosalvage 編製索引，如果沒有地區中斷。</span><span class="sxs-lookup"><span data-stu-id="0685b-216">Alternatively, you can reach out too[customer support]() toosalvage indexes if there is a regional outage.</span></span>


<a id="scale"></a>

## <a name="scale-up-or-down"></a><span data-ttu-id="0685b-217">擴大或縮小規模</span><span class="sxs-lookup"><span data-stu-id="0685b-217">Scale up or down</span></span>
<span data-ttu-id="0685b-218">每個搜尋服務都會以一個複本和一個資料分割的最小值開始執行。</span><span class="sxs-lookup"><span data-stu-id="0685b-218">Every search service starts with a minimum of one replica and one partition.</span></span> <span data-ttu-id="0685b-219">如果您註冊[層提供專用的資源](search-limits-quotas-capacity.md)，按一下 hello**標尺**hello 服務儀表板 tooadjust 資源使用量磚。</span><span class="sxs-lookup"><span data-stu-id="0685b-219">If you signed up for a [tier that provides dedicated resources](search-limits-quotas-capacity.md), click hello **SCALE** tile in hello service dashboard tooadjust resource usage.</span></span>

<span data-ttu-id="0685b-220">當您將透過資源的容量時，hello 服務它們會自動使用。</span><span class="sxs-lookup"><span data-stu-id="0685b-220">When you add capacity through either resource, hello service uses them automatically.</span></span> <span data-ttu-id="0685b-221">組件上不需要任何進一步的動作，但 hello hello 新資源的影響，才能實現之前，會稍微延遲。</span><span class="sxs-lookup"><span data-stu-id="0685b-221">No further action is required on your part, but there is a slight delay before hello impact of hello new resource is realized.</span></span> <span data-ttu-id="0685b-222">可能需要 15 分鐘或更多 tooprovision 其他資源。</span><span class="sxs-lookup"><span data-stu-id="0685b-222">It can take 15 minutes or more tooprovision additional resources.</span></span>

 ![][10]

### <a name="add-replicas"></a><span data-ttu-id="0685b-223">新增複本</span><span class="sxs-lookup"><span data-stu-id="0685b-223">Add replicas</span></span>
<span data-ttu-id="0685b-224">系統會藉由新增複本來增加每秒查詢 (QPS) 數量或達到高可用性。</span><span class="sxs-lookup"><span data-stu-id="0685b-224">Increasing queries per second (QPS) or achieving high availability is done by adding replicas.</span></span> <span data-ttu-id="0685b-225">每個複本有一份索引，因此會加入一個詳細複本轉譯 tooone 多個索引，做為處理服務查詢要求。</span><span class="sxs-lookup"><span data-stu-id="0685b-225">Each replica has one copy of an index, so adding one more replica translates tooone more index available for handling service query requests.</span></span> <span data-ttu-id="0685b-226">高可用性至少需要 3 個複本 (如需詳細資訊，請參閱[容量規劃](search-capacity-planning.md) )。</span><span class="sxs-lookup"><span data-stu-id="0685b-226">A minimum of 3 replicas are required for high availability (see [Capacity Planning](search-capacity-planning.md) for details).</span></span>

<span data-ttu-id="0685b-227">有許多複本的搜尋服務可透過大量索引來達到查詢要求的負載平衡。</span><span class="sxs-lookup"><span data-stu-id="0685b-227">A search service having more replicas can load balance query requests over a larger number of indexes.</span></span> <span data-ttu-id="0685b-228">獲得查詢磁碟區的層級，查詢輸送量即將 toobe 更快更多份 hello 索引可用 tooservice hello 要求時。</span><span class="sxs-lookup"><span data-stu-id="0685b-228">Given a level of query volume, query throughput is going toobe faster when there are more copies of hello index available tooservice hello request.</span></span> <span data-ttu-id="0685b-229">如果您遇到查詢延遲，您可以預期正面的影響效能一旦 hello 其他複本都在線上。</span><span class="sxs-lookup"><span data-stu-id="0685b-229">If you are experiencing query latency, you can expect a positive impact on performance once hello additional replicas are online.</span></span>

<span data-ttu-id="0685b-230">雖然查詢輸送量提高當您新增複本，它就不會不精確按兩下，或三倍，當您新增複本 tooyour 服務。</span><span class="sxs-lookup"><span data-stu-id="0685b-230">Although query throughput goes up as you add replicas, it does not precisely double or triple as you add replicas tooyour service.</span></span> <span data-ttu-id="0685b-231">所有的搜尋應用程式都可以 impinge 對查詢效能的主旨 tooexternal 因素。</span><span class="sxs-lookup"><span data-stu-id="0685b-231">All search applications are subject tooexternal factors that can impinge on query performance.</span></span> <span data-ttu-id="0685b-232">複雜的查詢與網路延遲是兩個因素構成 toovariations 查詢回應時間。</span><span class="sxs-lookup"><span data-stu-id="0685b-232">Complex queries and network latency are two factors that contribute toovariations in query response times.</span></span>

### <a name="add-partitions"></a><span data-ttu-id="0685b-233">新增資料分割</span><span class="sxs-lookup"><span data-stu-id="0685b-233">Add partitions</span></span>
<span data-ttu-id="0685b-234">大部分的服務應用程式內建需要多個複本，而非資料分割。</span><span class="sxs-lookup"><span data-stu-id="0685b-234">Most service applications have a built-in need for more replicas rather than partitions.</span></span> <span data-ttu-id="0685b-235">如果您註冊的是標準服務，對於需要新增文件計數的案例，可以新增資料分割。</span><span class="sxs-lookup"><span data-stu-id="0685b-235">For those cases where an increased document count is required, you can add partitions if you signed up for Standard service.</span></span> <span data-ttu-id="0685b-236">基本層沒有提供額外的資料分割。</span><span class="sxs-lookup"><span data-stu-id="0685b-236">Basic tier does not provide for additional partitions.</span></span>

<span data-ttu-id="0685b-237">在 hello 標準層，分割區區加入的 12 倍 (具體而言，1、 2、 3、 4、 6 或 12)。</span><span class="sxs-lookup"><span data-stu-id="0685b-237">At hello Standard tier, partitions are added in multiples of 12 (specifically, 1, 2, 3, 4, 6, or 12).</span></span> <span data-ttu-id="0685b-238">這是分區化的構件。</span><span class="sxs-lookup"><span data-stu-id="0685b-238">This is an artifact of sharding.</span></span> <span data-ttu-id="0685b-239">索引會建立在 12 個分區中，並且可以全部儲存在 1 個資料分割中，或平均分配在 2、3、4、6 或 12 個資料分割中 (每個資料分割分配一個分區)。</span><span class="sxs-lookup"><span data-stu-id="0685b-239">An index is created in 12 shards, which can all be stored on 1 partition or equally divided into 2, 3, 4, 6, or 12 partitions (one shard per partition).</span></span>

### <a name="remove-replicas"></a><span data-ttu-id="0685b-240">移除複本</span><span class="sxs-lookup"><span data-stu-id="0685b-240">Remove replicas</span></span>
<span data-ttu-id="0685b-241">高查詢量期間過後，在搜尋的查詢負載量回到標準時 (例如，假日銷售結束後)，您可以減少複本。</span><span class="sxs-lookup"><span data-stu-id="0685b-241">After periods of high query volumes, you can reduce replicas after search query loads have normalized (for example, after holiday sales are over).</span></span>

<span data-ttu-id="0685b-242">toodo 這個，移動 hello 複本滑桿後 tooa 較低數字。</span><span class="sxs-lookup"><span data-stu-id="0685b-242">toodo this, move hello replica slider back tooa lower number.</span></span> <span data-ttu-id="0685b-243">無須再執行其他步驟。</span><span class="sxs-lookup"><span data-stu-id="0685b-243">There are no further steps required on your part.</span></span> <span data-ttu-id="0685b-244">降低 hello 複本計數讓出 hello 資料中心中的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="0685b-244">Lowering hello replica count relinquishes virtual machines in hello data center.</span></span> <span data-ttu-id="0685b-245">相較於先前的情況，現在會在較少的 VM 上執行您的查詢和資料擷取作業。</span><span class="sxs-lookup"><span data-stu-id="0685b-245">Your query and data ingestion operations will now run on fewer VMs than before.</span></span> <span data-ttu-id="0685b-246">hello 最小限制為一個複本。</span><span class="sxs-lookup"><span data-stu-id="0685b-246">hello minimum limit is one replica.</span></span>

### <a name="remove-partitions"></a><span data-ttu-id="0685b-247">移除資料分割</span><span class="sxs-lookup"><span data-stu-id="0685b-247">Remove partitions</span></span>
<span data-ttu-id="0685b-248">相較於移除複本，這需要您採取任何額外心力，您可能不需要某些工作 toodo，如果您使用更多儲存空間，比可以降低。</span><span class="sxs-lookup"><span data-stu-id="0685b-248">In contrast with removing replicas, which requires no extra effort on your part, you might have some work toodo if you are using more storage than can be reduced.</span></span> <span data-ttu-id="0685b-249">例如，如果您的解決方案使用三個資料分割，裁員 tooone 或兩個資料分割，將會產生錯誤如果 hello 新儲存空間是早於所需。</span><span class="sxs-lookup"><span data-stu-id="0685b-249">For example, if your solution is using three partitions, downsizing tooone or two partitions will generate an error if hello new storage space is less than required.</span></span> <span data-ttu-id="0685b-250">如您所料，您的選擇 toodelete 索引或文件內的關聯的索引 toofree 佔用空間，或保留 hello 的目前設定。</span><span class="sxs-lookup"><span data-stu-id="0685b-250">As you might expect, your choices are toodelete indexes or documents within an associated index toofree up space, or keep hello current configuration.</span></span>

<span data-ttu-id="0685b-251">沒有任何偵測方法可告訴您哪個索引分區儲存在哪個特定資料分割中。</span><span class="sxs-lookup"><span data-stu-id="0685b-251">There is no detection method that tells you which index shards are stored on specific partitions.</span></span> <span data-ttu-id="0685b-252">每個資料分割提供大約 25 GB 的儲存體，因此您需要 tooreduce 儲存體 tooa 大小可以容納由您所擁有的分割 hello 數。</span><span class="sxs-lookup"><span data-stu-id="0685b-252">Each partition provides approximately 25 GB in storage, so you will need tooreduce storage tooa size that can be accommodated by hello number of partitions you have.</span></span> <span data-ttu-id="0685b-253">如果您想 toorevert tooone 資料分割時，所有的 12 個分區必須 toofit。</span><span class="sxs-lookup"><span data-stu-id="0685b-253">If you want toorevert tooone partition, all 12 shards will need toofit.</span></span>

<span data-ttu-id="0685b-254">toohelp 與未來的規劃，您可能會想 toocheck 儲存體 (使用[取得索引統計資料](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)) toosee 多少您實際使用。</span><span class="sxs-lookup"><span data-stu-id="0685b-254">toohelp with future planning, you might want toocheck storage (using [Get Index Statistics](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)) toosee how much you actually used.</span></span> 

<a id="advanced-deployment"></a>

## <a name="best-practices-on-scale-and-deployment"></a><span data-ttu-id="0685b-255">調整和部署的最佳作法</span><span class="sxs-lookup"><span data-stu-id="0685b-255">Best practices on scale and deployment</span></span>
<span data-ttu-id="0685b-256">在這段 30 分鐘的影片中，會檢閱進階部署案例的最佳作法，包括地理位置分散工作負載。</span><span class="sxs-lookup"><span data-stu-id="0685b-256">This 30-minute video reviews best practices for advanced deployment scenarios, including geo-distributed workloads.</span></span> <span data-ttu-id="0685b-257">您也可以查看[效能和最佳化 Azure 搜尋中的](search-performance-optimization.md)相同點之說明頁面的封面 hello。</span><span class="sxs-lookup"><span data-stu-id="0685b-257">You can also see [Performance and optimization in Azure Search](search-performance-optimization.md) for help pages that cover hello same points.</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<a id="next-steps"></a>

## <a name="next-steps"></a><span data-ttu-id="0685b-258">後續步驟</span><span class="sxs-lookup"><span data-stu-id="0685b-258">Next steps</span></span>
<span data-ttu-id="0685b-259">一旦您了解 hello 服務管理的概念，請考慮使用[PowerShell](search-manage-powershell.md) tooautomate 工作。</span><span class="sxs-lookup"><span data-stu-id="0685b-259">Once you understand hello concepts behind service administration, consider using [PowerShell](search-manage-powershell.md) tooautomate tasks.</span></span>

<span data-ttu-id="0685b-260">我們也建議您檢閱 hello[效能與最佳化的發行項](search-performance-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="0685b-260">We also recommend reviewing hello [performance and optimization article](search-performance-optimization.md).</span></span>

<span data-ttu-id="0685b-261">另一個建議是 toowatch hello 視訊 hello 上一節所述。</span><span class="sxs-lookup"><span data-stu-id="0685b-261">Another recommendation is toowatch hello video noted in hello previous section.</span></span> <span data-ttu-id="0685b-262">它提供更深入的涵蓋範圍的這一節所述的 hello 技術。</span><span class="sxs-lookup"><span data-stu-id="0685b-262">It provides deeper coverage of hello techniques mentioned in this section.</span></span>

<!--Image references-->
[7]: ./media/search-manage/rbac-icon.png
[8]: ./media/search-manage/Azure-Search-Manage-1-URL.png
[9]: ./media/search-manage/Azure-Search-Manage-2-Keys.png
[10]: ./media/search-manage/Azure-Search-Manage-3-ScaleUp.png



