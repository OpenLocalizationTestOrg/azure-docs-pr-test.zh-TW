---
title: "規劃 Azure 搜尋 aaaCapacity |Microsoft 文件"
description: "在「Azure 搜尋服務」中調整分割區和複本電腦資源，其中每個資源都是以計費搜尋單位來計價。"
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 1dc16afe-56f9-439d-8874-1733ae1a2b74
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 02/08/2017
ms.author: heidist
ms.openlocfilehash: 4bbbb929a36b932ea7af12e494ca095d98b9005e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="scale-resource-levels-for-query-and-indexing-workloads-in-azure-search"></a><span data-ttu-id="3dcb0-103">在 Azure 搜尋服務中調整適用於查詢和編製索引工作負載的資源等級</span><span class="sxs-lookup"><span data-stu-id="3dcb0-103">Scale resource levels for query and indexing workloads in Azure Search</span></span>
<span data-ttu-id="3dcb0-104">之後您[選擇定價層](search-sku-tier.md)和[佈建搜尋服務](search-create-service-portal.md)，hello 下一個步驟是 toooptionally 增加 hello 數目的複本或您的服務所使用的資料分割。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-104">After you [choose a pricing tier](search-sku-tier.md) and [provision a search service](search-create-service-portal.md), hello next step is toooptionally increase hello number of replicas or partitions used by your service.</span></span> <span data-ttu-id="3dcb0-105">每一層都提供固定的計費單位數目。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-105">Each tier offers a fixed number of billing units.</span></span> <span data-ttu-id="3dcb0-106">這篇文章說明如何 tooallocate 這些單位 tooachieve 最佳的設定您的查詢執行、 編製索引和儲存體需求之間取得平衡。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-106">This article explains how tooallocate those units tooachieve an optimal configuration that balances your requirements for query execution, indexing, and storage.</span></span>

<span data-ttu-id="3dcb0-107">資源組態時，使用您設定服務在 hello[基本層](http://aka.ms/azuresearchbasic)或其中一個 hello[標準層次](search-limits-quotas-capacity.md)。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-107">Resource configuration is available when you set up a service at hello [Basic tier](http://aka.ms/azuresearchbasic) or one of hello [Standard tiers](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="3dcb0-108">對於這些層的可計費服務，購買容量就是增加「搜尋單位」(SU)，每個分割區和複本會計為一個 SU。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-108">For billable services at these tiers, capacity is purchased in increments of *search units* (SUs) where each partition and replica counts as one SU.</span></span> 

<span data-ttu-id="3dcb0-109">使用較少 SU，帳單費用也會相應降低。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-109">Using fewer SUs results in a proportionally lower bill.</span></span> <span data-ttu-id="3dcb0-110">計費是作用中，只要設定 hello 服務。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-110">Billing is in effect for as long as hello service is set up.</span></span> <span data-ttu-id="3dcb0-111">如果您暫時並不使用的服務，hello tooavoid 計費已刪除 hello 服務，然後在需要時重新建立的唯一方式。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-111">If you are temporarily not using a service, hello only way tooavoid billing is by deleting hello service and then re-creating it when you need it.</span></span>

> [!Note]
> <span data-ttu-id="3dcb0-112">刪除服務會刪除它上面的一切。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-112">Deleting a service deletes everything on it.</span></span> <span data-ttu-id="3dcb0-113">Azure 搜尋服務內沒有任何機制可備份和還原持續性搜尋資料。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-113">There is no facility within Azure Search for backing up and restoring persisted search data.</span></span> <span data-ttu-id="3dcb0-114">tooredeploy 現有索引上新的服務，您應該執行 hello 用程式 toocreate，並將其載入到原先。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-114">tooredeploy an existing index on a new service, you should run hello program used toocreate and load it originally.</span></span> 

## <a name="terminology-partitions-and-replicas"></a><span data-ttu-id="3dcb0-115">術語：分割區和複本</span><span class="sxs-lookup"><span data-stu-id="3dcb0-115">Terminology: partitions and replicas</span></span>
<span data-ttu-id="3dcb0-116">資料分割和複本都是 hello 回搜尋服務的主要資源。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-116">Partitions and replicas are hello primary resources that back a search service.</span></span>

| <span data-ttu-id="3dcb0-117">資源</span><span class="sxs-lookup"><span data-stu-id="3dcb0-117">Resource</span></span> | <span data-ttu-id="3dcb0-118">定義</span><span class="sxs-lookup"><span data-stu-id="3dcb0-118">Definition</span></span> |
|----------|------------|
|<span data-ttu-id="3dcb0-119">*分割數*</span><span class="sxs-lookup"><span data-stu-id="3dcb0-119">*Partitions*</span></span> | <span data-ttu-id="3dcb0-120">為讀寫作業 (例如，在重建或重新整理索引時) 提供索引儲存體和 I/O。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-120">Provides index storage and I/O for read/write operations (for example, when rebuilding or refreshing an index).</span></span>|
|<span data-ttu-id="3dcb0-121">複本</span><span class="sxs-lookup"><span data-stu-id="3dcb0-121">*Replicas*</span></span> | <span data-ttu-id="3dcb0-122">執行個體的 hello search 服務，使用主要 tooload 平衡查詢作業。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-122">Instances of hello search service, used primarily tooload balance query operations.</span></span> <span data-ttu-id="3dcb0-123">每個複本一律會裝載一份索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-123">Each replica always hosts one copy of an index.</span></span> <span data-ttu-id="3dcb0-124">如果您有 12 複本時，會有 12 副本載入 hello 服務上的每個索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-124">If you have 12 replicas, you will have 12 copies of every index loaded on hello service.</span></span>|

> [!NOTE]
> <span data-ttu-id="3dcb0-125">沒有任何方法 toodirectly 操作，或管理在複本上執行的索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-125">There is no way toodirectly manipulate or manage which indexes run on a replica.</span></span> <span data-ttu-id="3dcb0-126">一份在每個複本的每個索引是 hello 服務架構的一部分。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-126">One copy of each index on every replica is part of hello service architecture.</span></span>
>

## <a name="how-tooallocate-partitions-and-replicas"></a><span data-ttu-id="3dcb0-127">如何 tooallocate 資料分割和複本</span><span class="sxs-lookup"><span data-stu-id="3dcb0-127">How tooallocate partitions and replicas</span></span>
<span data-ttu-id="3dcb0-128">在「Azure 搜尋服務」中，一開始會為服務配置由一個分割區和一個複本組成的最低層級資源。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-128">In Azure Search, a service is initially allocated a minimal level of resources consisting of one partition and one replica.</span></span> <span data-ttu-id="3dcb0-129">如果階層支援，您便可以增量調整運算資源，方法是在您需要較多的儲存體和 I/O 時新增分割區，或新增更多複本來因應較大的查詢磁碟區或提供較佳的效能。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-129">For tiers that support it, you can incrementally adjust computational resources by increasing partitions if you need more storage and I/O, or add more replicas for larger query volumes or better performance.</span></span> <span data-ttu-id="3dcb0-130">單一服務必須有足夠的資源 toohandle （編製索引和查詢） 的所有工作負載。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-130">A single service must have sufficient resources toohandle all workloads (indexing and queries).</span></span> <span data-ttu-id="3dcb0-131">您無法將多個服務之間的工作負載再加以細分。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-131">You cannot subdivide workloads among multiple services.</span></span>

<span data-ttu-id="3dcb0-132">tooincrease 或變更 hello 配置的複本和資料分割，我們建議使用 hello Azure 入口網站。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-132">tooincrease or change hello allocation of replicas and partitions, we recommend using hello Azure portal.</span></span> <span data-ttu-id="3dcb0-133">hello 入口網站會強制執行限制保持低於最大限制的可行組合：</span><span class="sxs-lookup"><span data-stu-id="3dcb0-133">hello portal enforces limits on allowable combinations that stay below maximum limits:</span></span>

1. <span data-ttu-id="3dcb0-134">登入 toohello [Azure 入口網站](https://portal.azure.com/)選取 hello 搜尋服務。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-134">Sign in toohello [Azure portal](https://portal.azure.com/) and select hello search service.</span></span>
2. <span data-ttu-id="3dcb0-135">在**設定**，開啟 hello**標尺**刀鋒視窗，然後使用 hello 滑桿 tooincrease 或減少 hello 資料分割和複本數目。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-135">In **Settings**, open hello **Scale** blade and use hello sliders tooincrease or decrease hello number of partitions and replicas.</span></span>

<span data-ttu-id="3dcb0-136">如果您需要指令碼或程式碼為基礎的佈建方法，hello[管理 REST API](https://msdn.microsoft.com/library/azure/dn832687.aspx)是替代 toohello 入口網站。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-136">If you require a script-based or code-based provisioning approach, hello [Management REST API](https://msdn.microsoft.com/library/azure/dn832687.aspx) is an alternative toohello portal.</span></span>

<span data-ttu-id="3dcb0-137">一般而言，搜尋應用程式需要比資料分割，多個複本，特別是當 hello 服務作業偏差查詢工作負載。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-137">Generally, search applications need more replicas than partitions, particularly when hello service operations are biased toward query workloads.</span></span> <span data-ttu-id="3dcb0-138">hello 區段上[高可用性](#HA)解釋為什麼。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-138">hello section on [high availability](#HA) explains why.</span></span>

> [!NOTE]
> <span data-ttu-id="3dcb0-139">佈建服務之後，它不能升級的 tooa 較高 SKU。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-139">After a service is provisioned, it cannot be upgraded tooa higher SKU.</span></span> <span data-ttu-id="3dcb0-140">您將需要 toocreate hello 新階層的搜尋服務，並重新載入您的索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-140">You will need toocreate a search service at hello new tier and reload your indexes.</span></span> <span data-ttu-id="3dcb0-141">請參閱[hello 入口網站中建立 Azure 搜尋服務](search-create-service-portal.md)服務佈建的說明。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-141">See [Create an Azure Search service in hello portal](search-create-service-portal.md) for help with service provisioning.</span></span>
>
>

<a id="HA"></a>

## <a name="high-availability"></a><span data-ttu-id="3dcb0-142">高可用性</span><span class="sxs-lookup"><span data-stu-id="3dcb0-142">High availability</span></span>
<span data-ttu-id="3dcb0-143">因為它很簡單，而且相對上快速 tooscale，通常建議您啟動其中包含一個資料分割和一個或兩個複本，然後再為查詢磁碟區的向上延展建置。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-143">Because it's easy and relatively fast tooscale up, we generally recommend that you start with one partition and one or two replicas, and then scale up as query volumes build.</span></span> <span data-ttu-id="3dcb0-144">對於在 hello Basic 或 S1 層的許多服務，一個資料分割會提供足夠的儲存體和 I/O （在每個資料分割的 15 億個文件）。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-144">For many services at hello Basic or S1 tiers, one partition provides sufficient storage and I/O (at 15 million documents per partition).</span></span>

<span data-ttu-id="3dcb0-145">查詢工作負載主要是在複本上執行。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-145">Query workloads run primarily on replicas.</span></span> <span data-ttu-id="3dcb0-146">如果您需要更多的輸送量或高可用性，可能會需要額外的複本。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-146">If you need more throughput or high availability, you will probably require additional replicas.</span></span>

<span data-ttu-id="3dcb0-147">針對高可用性的一般建議為：</span><span class="sxs-lookup"><span data-stu-id="3dcb0-147">General recommendations for high availability are:</span></span>

* <span data-ttu-id="3dcb0-148">針對唯讀工作負載 (查詢)，需有 2 個複本才能達到高可用性</span><span class="sxs-lookup"><span data-stu-id="3dcb0-148">Two replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="3dcb0-149">針對讀寫工作負載 (查詢再加上新增、更新或刪除個別文件時的索引編製)，需有 3 個或更多個複本才能達到高可用性</span><span class="sxs-lookup"><span data-stu-id="3dcb0-149">Three or more replicas for high availability of read/write workloads (queries plus indexing as individual documents are added, updated, or deleted)</span></span>

<span data-ttu-id="3dcb0-150">「Azure 搜尋服務」的「服務等級協定」(SLA) 是針對查詢作業和由新增、更新或刪除文件所組成的索引更新。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-150">Service level agreements (SLA) for Azure Search are targeted at query operations and at index updates that consist of adding, updating, or deleting documents.</span></span>

### <a name="index-availability-during-a-rebuild"></a><span data-ttu-id="3dcb0-151">索引在重建期間的可用性</span><span class="sxs-lookup"><span data-stu-id="3dcb0-151">Index availability during a rebuild</span></span>

<span data-ttu-id="3dcb0-152">Azure 搜尋的高可用性與 tooqueries 和索引不需要重建索引的更新。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-152">High availability for Azure Search pertains tooqueries and index updates that don't involve rebuilding an index.</span></span> <span data-ttu-id="3dcb0-153">如果您刪除某個欄位、 變更資料類型，或重新命名欄位，您將需要 toorebuild hello 索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-153">If you delete a field, change a data type, or rename a field, you will need toorebuild hello index.</span></span> <span data-ttu-id="3dcb0-154">toorebuild hello 索引，您必須刪除 hello 編製索引，重新建立 hello 索引並重新載入 hello 資料。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-154">toorebuild hello index, you must delete hello index, re-create hello index, and reload hello data.</span></span>

> [!NOTE]
> <span data-ttu-id="3dcb0-155">您可以加入新欄位 tooan Azure 搜尋索引而不需重建 hello 索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-155">You can add new fields tooan Azure Search index without rebuilding hello index.</span></span> <span data-ttu-id="3dcb0-156">hello 新欄位 hello 值將是已經在 hello 索引中的所有文件為 null。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-156">hello value of hello new field will be null for all documents already in hello index.</span></span>

<span data-ttu-id="3dcb0-157">toomaintain 索引重建期間的可用性，您必須有一份 hello 索引具有不同的名稱上相同名稱不同的服務，然後提供 重新導向或容錯移轉邏輯程式碼中的 hello 的 hello 相同的服務，或複製的 hello 編製索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-157">toomaintain index availability during a rebuild, you must have a copy of hello index with a different name on hello same service, or a copy of hello index with hello same name on a different service, and then provide redirection or failover logic in your code.</span></span>

## <a name="disaster-recovery"></a><span data-ttu-id="3dcb0-158">災害復原</span><span class="sxs-lookup"><span data-stu-id="3dcb0-158">Disaster recovery</span></span>
<span data-ttu-id="3dcb0-159">目前沒有任何內建的機制可進行災害復原。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-159">Currently, there is no built-in mechanism for disaster recovery.</span></span> <span data-ttu-id="3dcb0-160">新增資料分割或複本會達成災害復原目標的 hello 錯誤策略。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-160">Adding partitions or replicas would be hello wrong strategy for meeting disaster recovery objectives.</span></span> <span data-ttu-id="3dcb0-161">hello 最常見的方法是藉由設定另一個地區內的第二個搜尋服務的 tooadd hello 服務層級的備援性。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-161">hello most common approach is tooadd redundancy at hello service level by setting up a second search service in another region.</span></span> <span data-ttu-id="3dcb0-162">如同在索引重建期間的可用性，hello 重新導向或容錯移轉邏輯必須來自您的程式碼。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-162">As with availability during an index rebuild, hello redirection or failover logic must come from your code.</span></span>

## <a name="increase-query-performance-with-replicas"></a><span data-ttu-id="3dcb0-163">利用複本提高查詢效能</span><span class="sxs-lookup"><span data-stu-id="3dcb0-163">Increase query performance with replicas</span></span>
<span data-ttu-id="3dcb0-164">查詢延遲是一項指標，代表需要額外的複本。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-164">Query latency is an indicator that additional replicas are needed.</span></span> <span data-ttu-id="3dcb0-165">一般而言，改善查詢效能的第一個步驟是此資源的更多的 tooadd。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-165">Generally, a first step toward improving query performance is tooadd more of this resource.</span></span> <span data-ttu-id="3dcb0-166">當您加入複本，hello 索引的其他複本會回到線上 toosupport 更大的查詢工作負載和多個複本 hello tooload 平衡 hello 要求。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-166">As you add replicas, additional copies of hello index are brought online toosupport bigger query workloads and tooload balance hello requests over hello multiple replicas.</span></span>

<span data-ttu-id="3dcb0-167">我們目前無法提供硬估計上每秒查詢數 (QPS): 查詢效能取決於 hello hello 複雜度查詢和競爭的工作負載。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-167">We cannot provide hard estimates on queries per second (QPS): query performance depends on hello complexity of hello query and competing workloads.</span></span> <span data-ttu-id="3dcb0-168">平均來說，一個「基本」或 S1 SKU 複本可以提供大約 15 QPS 的服務，但您的輸送量會因為查詢的複雜性 (多面向查詢較為複雜) 和網路延遲而較高或較低。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-168">On average, a replica at Basic or S1 SKUs can service about 15 QPS, but your throughput will be higher or lower depending on query complexity (faceted queries are more complex) and network latency.</span></span> <span data-ttu-id="3dcb0-169">此外，務必 toorecognize，雖然新增複本必定會增加規模和效能，hello 結果不是完全線性： 加入三個複本，並不保證倍的輸送量。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-169">Also, it's important toorecognize that although adding replicas will definitely add scale and performance, hello result is not strictly linear: adding three replicas does not guarantee triple throughput.</span></span>

<span data-ttu-id="3dcb0-170">有關 QPS，包含針對您的工作負載，估計 QPS 方法 toolearn 看到[管理您的搜尋服務](search-manage.md)。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-170">toolearn about QPS, including approaches for estimating QPS for your workloads, see [Manage your Search service](search-manage.md).</span></span>

## <a name="increase-indexing-performance-with-partitions"></a><span data-ttu-id="3dcb0-171">使用資料分割提高編製索引的效能</span><span class="sxs-lookup"><span data-stu-id="3dcb0-171">Increase indexing performance with partitions</span></span>
<span data-ttu-id="3dcb0-172">要求近乎即時資料重新整理的搜尋應用程式，按比例需要比複本更多的資料分割數。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-172">Search applications that require near real-time data refresh will need proportionally more partitions than replicas.</span></span> <span data-ttu-id="3dcb0-173">新增資料分割可將讀取/寫入作業分配到更大量的計算資源。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-173">Adding partitions spreads read/write operations across a larger number of compute resources.</span></span> <span data-ttu-id="3dcb0-174">它也提供更多磁碟空間來儲存額外的索引和文件。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-174">It also gives you more disk space for storing additional indexes and documents.</span></span>

<span data-ttu-id="3dcb0-175">較大的索引會花費較長的 tooquery。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-175">Larger indexes take longer tooquery.</span></span> <span data-ttu-id="3dcb0-176">這麼一來，您可能會發現每個資料分割中每個累加式的增加在複本中都需要有較小但按比例的增加。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-176">As such, you might find that every incremental increase in partitions requires a smaller but proportional increase in replicas.</span></span> <span data-ttu-id="3dcb0-177">您的查詢和查詢磁碟區的 hello 複雜性會分解到查詢執行的開啟速度。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-177">hello complexity of your queries and query volume will factor into how quickly query execution is turned around.</span></span>

## <a name="basic-tier-partition-and-replica-combinations"></a><span data-ttu-id="3dcb0-178">基本層：資料分割與複本組合</span><span class="sxs-lookup"><span data-stu-id="3dcb0-178">Basic tier: Partition and replica combinations</span></span>
<span data-ttu-id="3dcb0-179">基本服務可以有一個資料分割，並向上 toothree 複本，針對三個 SUs 最大限制。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-179">A Basic service can have exactly one partition and up toothree replicas, for a maximum limit of three SUs.</span></span> <span data-ttu-id="3dcb0-180">hello 只可調整的資源是複本。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-180">hello only adjustable resource is replicas.</span></span> <span data-ttu-id="3dcb0-181">您至少需要 2 個複本，才能在查詢上達到高可用性。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-181">You need a minimum of two replicas for high availability on queries.</span></span>

<a id="chart"></a>

## <a name="standard-tiers-partition-and-replica-combinations"></a><span data-ttu-id="3dcb0-182">標準層：分割區和複本的組合</span><span class="sxs-lookup"><span data-stu-id="3dcb0-182">Standard tiers: Partition and replica combinations</span></span>
<span data-ttu-id="3dcb0-183">下表顯示 hello SUs 必要的 toosupport 組合複本和資料分割、 主旨 toohello 36 SU 限制時，所有標準層次。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-183">This table shows hello SUs required toosupport combinations of replicas and partitions, subject toohello 36-SU limit, for all Standard tiers.</span></span>

|   | <span data-ttu-id="3dcb0-184">**1 個資料分割**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-184">**1 partition**</span></span> | <span data-ttu-id="3dcb0-185">**2 個資料分割**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-185">**2 partitions**</span></span> | <span data-ttu-id="3dcb0-186">**3 個資料分割**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-186">**3 partitions**</span></span> | <span data-ttu-id="3dcb0-187">**4 個資料分割**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-187">**4 partitions**</span></span> | <span data-ttu-id="3dcb0-188">**6 個資料分割**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-188">**6 partitions**</span></span> | <span data-ttu-id="3dcb0-189">**12 個資料分割**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-189">**12 partitions**</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="3dcb0-190">**1 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-190">**1 replica**</span></span> |<span data-ttu-id="3dcb0-191">1 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-191">1 SU</span></span> |<span data-ttu-id="3dcb0-192">2 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-192">2 SU</span></span> |<span data-ttu-id="3dcb0-193">3 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-193">3 SU</span></span> |<span data-ttu-id="3dcb0-194">4 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-194">4 SU</span></span> |<span data-ttu-id="3dcb0-195">6 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-195">6 SU</span></span> |<span data-ttu-id="3dcb0-196">12 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-196">12 SU</span></span> |
| <span data-ttu-id="3dcb0-197">**2 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-197">**2 replicas**</span></span> |<span data-ttu-id="3dcb0-198">2 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-198">2 SU</span></span> |<span data-ttu-id="3dcb0-199">4 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-199">4 SU</span></span> |<span data-ttu-id="3dcb0-200">6 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-200">6 SU</span></span> |<span data-ttu-id="3dcb0-201">8 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-201">8 SU</span></span> |<span data-ttu-id="3dcb0-202">12 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-202">12 SU</span></span> |<span data-ttu-id="3dcb0-203">24 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-203">24 SU</span></span> |
| <span data-ttu-id="3dcb0-204">**3 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-204">**3 replicas**</span></span> |<span data-ttu-id="3dcb0-205">3 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-205">3 SU</span></span> |<span data-ttu-id="3dcb0-206">6 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-206">6 SU</span></span> |<span data-ttu-id="3dcb0-207">9 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-207">9 SU</span></span> |<span data-ttu-id="3dcb0-208">12 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-208">12 SU</span></span> |<span data-ttu-id="3dcb0-209">18 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-209">18 SU</span></span> |<span data-ttu-id="3dcb0-210">36 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-210">36 SU</span></span> |
| <span data-ttu-id="3dcb0-211">**4 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-211">**4 replicas**</span></span> |<span data-ttu-id="3dcb0-212">4 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-212">4 SU</span></span> |<span data-ttu-id="3dcb0-213">8 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-213">8 SU</span></span> |<span data-ttu-id="3dcb0-214">12 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-214">12 SU</span></span> |<span data-ttu-id="3dcb0-215">16 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-215">16 SU</span></span> |<span data-ttu-id="3dcb0-216">24 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-216">24 SU</span></span> |<span data-ttu-id="3dcb0-217">N/A</span><span class="sxs-lookup"><span data-stu-id="3dcb0-217">N/A</span></span> |
| <span data-ttu-id="3dcb0-218">**5 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-218">**5 replicas**</span></span> |<span data-ttu-id="3dcb0-219">5 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-219">5 SU</span></span> |<span data-ttu-id="3dcb0-220">10 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-220">10 SU</span></span> |<span data-ttu-id="3dcb0-221">15 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-221">15 SU</span></span> |<span data-ttu-id="3dcb0-222">20 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-222">20 SU</span></span> |<span data-ttu-id="3dcb0-223">30 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-223">30 SU</span></span> |<span data-ttu-id="3dcb0-224">N/A</span><span class="sxs-lookup"><span data-stu-id="3dcb0-224">N/A</span></span> |
| <span data-ttu-id="3dcb0-225">**6 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-225">**6 replicas**</span></span> |<span data-ttu-id="3dcb0-226">6 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-226">6 SU</span></span> |<span data-ttu-id="3dcb0-227">12 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-227">12 SU</span></span> |<span data-ttu-id="3dcb0-228">18 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-228">18 SU</span></span> |<span data-ttu-id="3dcb0-229">24 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-229">24 SU</span></span> |<span data-ttu-id="3dcb0-230">36 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-230">36 SU</span></span> |<span data-ttu-id="3dcb0-231">N/A</span><span class="sxs-lookup"><span data-stu-id="3dcb0-231">N/A</span></span> |
| <span data-ttu-id="3dcb0-232">**12 個複本**</span><span class="sxs-lookup"><span data-stu-id="3dcb0-232">**12 replicas**</span></span> |<span data-ttu-id="3dcb0-233">12 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-233">12 SU</span></span> |<span data-ttu-id="3dcb0-234">24 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-234">24 SU</span></span> |<span data-ttu-id="3dcb0-235">36 SU</span><span class="sxs-lookup"><span data-stu-id="3dcb0-235">36 SU</span></span> |<span data-ttu-id="3dcb0-236">N/A</span><span class="sxs-lookup"><span data-stu-id="3dcb0-236">N/A</span></span> |<span data-ttu-id="3dcb0-237">N/A</span><span class="sxs-lookup"><span data-stu-id="3dcb0-237">N/A</span></span> |<span data-ttu-id="3dcb0-238">N/A</span><span class="sxs-lookup"><span data-stu-id="3dcb0-238">N/A</span></span> |

<span data-ttu-id="3dcb0-239">SUs、 定價和容量中詳細說明 hello Azure 網站上。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-239">SUs, pricing, and capacity are explained in detail on hello Azure website.</span></span> <span data-ttu-id="3dcb0-240">如需詳細資訊，請參閱[定價詳細資料](https://azure.microsoft.com/pricing/details/search/)。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-240">For more information, see [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>

> [!NOTE]
> <span data-ttu-id="3dcb0-241">複本和資料分割的 hello 數目將平均分割成 12 (具體而言，1、 2、 3、 4、 6、 12)。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-241">hello number of replicas and partitions divides evenly into 12 (specifically, 1, 2, 3, 4, 6, 12).</span></span> <span data-ttu-id="3dcb0-242">這是因為「Azure 搜尋服務」會將每個索引預先劃分成 12 個分區，以便將其平均散佈到所有分割區。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-242">This is because Azure Search pre-divides each index into 12 shards so that it can be spread in equal portions across all partitions.</span></span> <span data-ttu-id="3dcb0-243">例如，如果您的服務有三個資料分割，並建立索引，每個資料分割將會包含四個分區的 hello 索引。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-243">For example, if your service has three partitions and you create an index, each partition will contain four shards of hello index.</span></span> <span data-ttu-id="3dcb0-244">如何將索引的 Azure 搜尋分區化是實作詳細資料，主旨 toochange 在未來的版本。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-244">How Azure Search shards an index is an implementation detail, subject toochange in future releases.</span></span> <span data-ttu-id="3dcb0-245">Hello 數字現在為 12，雖然您不應預期的數字 tooalways 是 hello 未來 12。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-245">Although hello number is 12 today, you shouldn't expect that number tooalways be 12 in hello future.</span></span>
>
>

## <a name="billing-formula-for-replica-and-partition-resources"></a><span data-ttu-id="3dcb0-246">複本和分割區資源的計費公式</span><span class="sxs-lookup"><span data-stu-id="3dcb0-246">Billing formula for replica and partition resources</span></span>
<span data-ttu-id="3dcb0-247">計算特定組合使用多少 SUs hello 公式是 hello 產品的複本和資料分割，或 (R X P = 24)。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-247">hello formula for calculating how many SUs are used for specific combinations is hello product of replicas and partitions, or (R X P = SU).</span></span> <span data-ttu-id="3dcb0-248">例如， 3 個複本乘以 3 個資料分割為 9 個 SU 費用。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-248">For example, three replicas multiplied by three partitions is billed as nine SUs.</span></span>

<span data-ttu-id="3dcb0-249">每個 SU 成本取決於 hello 層，速率較低每單位計費比標準的基本。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-249">Cost per SU is determined by hello tier, with a lower per-unit billing rate for Basic than for Standard.</span></span> <span data-ttu-id="3dcb0-250">如需每一層的費率，請參閱 [定價詳細資料](https://azure.microsoft.com/pricing/details/search/)。</span><span class="sxs-lookup"><span data-stu-id="3dcb0-250">Rates for each tier can be found on [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>
