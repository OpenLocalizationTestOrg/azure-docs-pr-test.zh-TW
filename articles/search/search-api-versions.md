---
title: "Azure 搜尋服務的 API 版本 | Microsoft Docs"
description: "Azure 搜尋服務 REST API 與 .NET SDK 中用戶端程式庫的版本原則。"
services: search
documentationcenter: 
author: brjohnstmsft
manager: pablocas
editor: 
ms.assetid: 0458053a-164e-4682-a802-00097ecde981
ms.service: search
ms.devlang: dotnet
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 01/11/2017
ms.author: brjohnst
ms.openlocfilehash: a14131455ad94cbc4b729077568b12043401c08e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="api-versions-in-azure-search"></a><span data-ttu-id="d535d-103">Azure 搜尋服務中的 API 版本</span><span class="sxs-lookup"><span data-stu-id="d535d-103">API versions in Azure Search</span></span>
<span data-ttu-id="d535d-104">「Azure 搜尋服務」會定期推出功能更新。</span><span class="sxs-lookup"><span data-stu-id="d535d-104">Azure Search rolls out feature updates regularly.</span></span> <span data-ttu-id="d535d-105">有時候 (但並不一定)，這些更新會需要我們發佈新版本的 API，以保留回溯相容性。</span><span class="sxs-lookup"><span data-stu-id="d535d-105">Sometimes, but not always, these updates require us to publish a new version of our API to preserve backward compatibility.</span></span> <span data-ttu-id="d535d-106">發行新版本可讓您控制在程式碼中整合搜尋服務更新的時機與方式。</span><span class="sxs-lookup"><span data-stu-id="d535d-106">Publishing a new version allows you to control when and how you integrate search service updates in your code.</span></span>

<span data-ttu-id="d535d-107">因此，我們嘗試只在必要時發佈新版本，因為這牽涉到需要花費一些心力升級您的程式碼以使用新的 API 版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-107">As a rule, we try to publish new versions only when necessary, since it can involve some effort to upgrade your code to use a new API version.</span></span> <span data-ttu-id="d535d-108">只有在我們需要以破壞回溯相容性的方式變更 API 的某些層面時，才會發佈新版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-108">We will only publish a new version if we need to change some aspect of the API in a way that breaks backward compatibility.</span></span> <span data-ttu-id="d535d-109">在修正現有的功能，或新功能會變更現有 API 的介面區時，我們就會這樣做。</span><span class="sxs-lookup"><span data-stu-id="d535d-109">This can happen because of fixes to existing features, or because of new features that change existing API surface area.</span></span>

<span data-ttu-id="d535d-110">對於 SDK 更新，我們遵循相同的規則。</span><span class="sxs-lookup"><span data-stu-id="d535d-110">We follow the same rule for SDK updates.</span></span> <span data-ttu-id="d535d-111">Azure 搜尋服務 SDK 會遵循 [semantic versioning (語意化版本控制系統)](http://semver.org/) 規則，這代表其版本具有三個部分：主要、次要和組建編號 (例如 1.1.0)。</span><span class="sxs-lookup"><span data-stu-id="d535d-111">The Azure Search SDK follows the [semantic versioning](http://semver.org/) rules, which means that its version has three parts: major, minor, and build number (for example, 1.1.0).</span></span> <span data-ttu-id="d535d-112">只有在變更會破壞回溯相容性時，我們才會發行新的主要版本 SDK。</span><span class="sxs-lookup"><span data-stu-id="d535d-112">We will release a new major version of the SDK only in case of changes that break backward compatibility.</span></span> <span data-ttu-id="d535d-113">如果是非重大功能更新，我們將會遞增次要版本，而針對錯誤修正，我們只會遞增組建版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-113">For non-breaking feature updates, we will increment the minor version, and for bug fixes we will only increase the build version.</span></span>

> [!NOTE]
> <span data-ttu-id="d535d-114">您的「Azure 搜尋服務」執行個體支援數個 REST API 版本，包括最新版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-114">Your Azure Search service instance supports several REST API versions, including the latest one.</span></span> <span data-ttu-id="d535d-115">當一個版本不再是最新版本時，您仍可繼續使用該版本，但建議您將程式碼移轉成使用最新版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-115">You can continue to use a version when it is no longer the latest one, but we recommend that you migrate your code to use the newest version.</span></span> <span data-ttu-id="d535d-116">使用 REST API 時，您必須每個要求中透過 api-version 參數指定 API 版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-116">When using the REST API, you must specify the API version in every request via the api-version parameter.</span></span> <span data-ttu-id="d535d-117">使用 .NET SDK 時，您使用的 SDK 版本會決定對應的 REST API 版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-117">When using the .NET SDK, the version of the SDK you’re using determines the corresponding version of the REST API.</span></span> <span data-ttu-id="d535d-118">如果您使用的是舊版 SDK，則即使服務已升級成支援新版 API 版本，您仍可繼續執行該程式碼而無須變更。</span><span class="sxs-lookup"><span data-stu-id="d535d-118">If you are using an older SDK, you can continue to run that code with no changes even if the service is upgraded to support a newer API version.</span></span>

## <a name="snapshot-of-current-versions"></a><span data-ttu-id="d535d-119">目前版本的快照</span><span class="sxs-lookup"><span data-stu-id="d535d-119">Snapshot of current versions</span></span>
<span data-ttu-id="d535d-120">以下是 Azure 搜尋服務所有程式設計介面目前版本的快照。</span><span class="sxs-lookup"><span data-stu-id="d535d-120">Below is a snapshot of the current versions of all programming interfaces to Azure Search.</span></span>

| <span data-ttu-id="d535d-121">介面</span><span class="sxs-lookup"><span data-stu-id="d535d-121">Interfaces</span></span> | <span data-ttu-id="d535d-122">最新主要版本</span><span class="sxs-lookup"><span data-stu-id="d535d-122">Most recent major version</span></span> | <span data-ttu-id="d535d-123">狀態</span><span class="sxs-lookup"><span data-stu-id="d535d-123">Status</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="d535d-124">.NET SDK</span><span class="sxs-lookup"><span data-stu-id="d535d-124">.NET SDK</span></span>](https://aka.ms/search-sdk) |<span data-ttu-id="d535d-125">3.0</span><span class="sxs-lookup"><span data-stu-id="d535d-125">3.0</span></span> |<span data-ttu-id="d535d-126">正式推出，2016 年 11 月發行</span><span class="sxs-lookup"><span data-stu-id="d535d-126">Generally Available, released November 2016</span></span> |
| [<span data-ttu-id="d535d-127">.NET SDK 預覽版</span><span class="sxs-lookup"><span data-stu-id="d535d-127">.NET SDK Preview</span></span>](https://aka.ms/search-sdk-preview) |<span data-ttu-id="d535d-128">2.0 預覽版</span><span class="sxs-lookup"><span data-stu-id="d535d-128">2.0-preview</span></span> |<span data-ttu-id="d535d-129">預覽版，2016 年 8 月發行</span><span class="sxs-lookup"><span data-stu-id="d535d-129">Preview, released August 2016</span></span> |
| [<span data-ttu-id="d535d-130">服務 REST API</span><span class="sxs-lookup"><span data-stu-id="d535d-130">Service REST API</span></span>](https://docs.microsoft.com/rest/api/searchservice/) |<span data-ttu-id="d535d-131">2016-09-01</span><span class="sxs-lookup"><span data-stu-id="d535d-131">2016-09-01</span></span> |<span data-ttu-id="d535d-132">正式推出</span><span class="sxs-lookup"><span data-stu-id="d535d-132">Generally Available</span></span> |
| [<span data-ttu-id="d535d-133">服務 REST API (預覽)</span><span class="sxs-lookup"><span data-stu-id="d535d-133">Service REST API Preview</span></span>](search-api-2015-02-28-preview.md) |<span data-ttu-id="d535d-134">2015-02-28-Preview</span><span class="sxs-lookup"><span data-stu-id="d535d-134">2015-02-28-Preview</span></span> |<span data-ttu-id="d535d-135">預覽</span><span class="sxs-lookup"><span data-stu-id="d535d-135">Preview</span></span> |
| [<span data-ttu-id="d535d-136">.NET 管理 SDK</span><span class="sxs-lookup"><span data-stu-id="d535d-136">.NET Management SDK</span></span>](https://aka.ms/search-mgmt-sdk) |<span data-ttu-id="d535d-137">2015-08-19</span><span class="sxs-lookup"><span data-stu-id="d535d-137">2015-08-19</span></span> |<span data-ttu-id="d535d-138">正式推出</span><span class="sxs-lookup"><span data-stu-id="d535d-138">Generally Available</span></span> |
| [<span data-ttu-id="d535d-139">管理 REST API</span><span class="sxs-lookup"><span data-stu-id="d535d-139">Management REST API</span></span>](https://docs.microsoft.com/rest/api/searchmanagement/) |<span data-ttu-id="d535d-140">2015-08-19</span><span class="sxs-lookup"><span data-stu-id="d535d-140">2015-08-19</span></span> |<span data-ttu-id="d535d-141">正式推出</span><span class="sxs-lookup"><span data-stu-id="d535d-141">Generally Available</span></span> |

<span data-ttu-id="d535d-142">針對 REST API，必須在每個呼叫中納入 `api-version` 。</span><span class="sxs-lookup"><span data-stu-id="d535d-142">For the REST APIs, including the `api-version` on each call is required.</span></span> <span data-ttu-id="d535d-143">這會使將特定版本 (例如預覽 API) 做為目標較為容易。</span><span class="sxs-lookup"><span data-stu-id="d535d-143">This makes it easy to target a specific version, such as a preview API.</span></span> <span data-ttu-id="d535d-144">下列範例說明如何指定 `api-version` 參數：</span><span class="sxs-lookup"><span data-stu-id="d535d-144">The following example illustrates how the `api-version` parameter is specified:</span></span>

    GET https://adventure-works.search.windows.net/indexes/bikes?api-version=2016-09-01

> [!NOTE]
> <span data-ttu-id="d535d-145">雖然每個要求都具有 `api-version`，我們仍建議您針對所有的 API 要求使用相同的版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-145">Although each request has an `api-version`, we recommend that you use the same version for all API requests.</span></span> <span data-ttu-id="d535d-146">特別是當新的 API 版本引入舊版本無法辨識的屬性或作業時更建議您這樣做。</span><span class="sxs-lookup"><span data-stu-id="d535d-146">This is especially true when new API versions introduce attributes or operations that are not recognized by previous versions.</span></span> <span data-ttu-id="d535d-147">混合的 API 版本可能會有非預期的結果，應該予以避免。</span><span class="sxs-lookup"><span data-stu-id="d535d-147">Mixing API versions can have unintended consequences and should be avoided.</span></span>
>
> <span data-ttu-id="d535d-148">服務 REST API 和管理 REST API 的版本是彼此獨立的。</span><span class="sxs-lookup"><span data-stu-id="d535d-148">The Service REST API and Management REST API are versioned independently of each other.</span></span> <span data-ttu-id="d535d-149">版本號碼如有類似，純屬巧合。</span><span class="sxs-lookup"><span data-stu-id="d535d-149">Any similarity in version numbers is coincidental.</span></span>

<span data-ttu-id="d535d-150">正式推出 (或 GA) 的 API 可以用於實際執行，並且受到 Azure 服務等級協定所約束。</span><span class="sxs-lookup"><span data-stu-id="d535d-150">Generally available (or GA) APIs can be used in production and are subject to Azure service level agreements.</span></span> <span data-ttu-id="d535d-151">預覽版本具有實驗性功能，那些功能並不會都移轉到 GA 版本上。</span><span class="sxs-lookup"><span data-stu-id="d535d-151">Preview versions have experimental features that are not always migrated to a GA version.</span></span> <span data-ttu-id="d535d-152">**我們強烈建議您避免在實際執行的應用程式中使用預覽 API。**</span><span class="sxs-lookup"><span data-stu-id="d535d-152">**We strongly advise against using preview APIs in production applications.**</span></span>

## <a name="about-preview-and-generally-available-versions"></a><span data-ttu-id="d535d-153">關於預覽與正式推出版本</span><span class="sxs-lookup"><span data-stu-id="d535d-153">About Preview and Generally Available versions</span></span>
<span data-ttu-id="d535d-154">Azure 搜尋服務一律會先透過 REST API 預先推出實驗性功能，然後再透過 .NET SDK 的發行前版本推出。</span><span class="sxs-lookup"><span data-stu-id="d535d-154">Azure Search always pre-releases experimental features through the REST API first, then through prerelease versions of the .NET SDK.</span></span>

<span data-ttu-id="d535d-155">預覽功能不保證會移轉到 GA 版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-155">Preview features are not guaranteed to be migrated to a GA release.</span></span> <span data-ttu-id="d535d-156">相對於 GA 版本中的功能被視為穩定功能，且除了小型的回溯相容性修正與增強之外不太會變更，預覽功能是供用於測試和實驗，以期收集功能設計與實作的意見反應。</span><span class="sxs-lookup"><span data-stu-id="d535d-156">Whereas features in a GA version are considered stable and unlikely to change with the exception of small backward-compatible fixes and enhancements, preview features are available for testing and experimentation, with the goal of gathering feedback on feature design and implementation.</span></span>

<span data-ttu-id="d535d-157">不過，因為預覽功能均有可能變更，所以我們建議避免撰寫依存於預覽版本的實際程式碼。</span><span class="sxs-lookup"><span data-stu-id="d535d-157">However, because preview features are subject to change, we recommend against writing production code that takes a dependency on preview versions.</span></span> <span data-ttu-id="d535d-158">如果您正在使用舊版預覽版本，建議您移轉到正式推出的 (GA) 版本。</span><span class="sxs-lookup"><span data-stu-id="d535d-158">If you are using an older preview version, we recommend migrating to the generally available (GA) version.</span></span>

<span data-ttu-id="d535d-159">如需程式碼移轉的 .NET SDK：指南，請參閱 [升級 .NET SDK](search-dotnet-sdk-migration.md)。</span><span class="sxs-lookup"><span data-stu-id="d535d-159">For the .NET SDK: Guidance for code migration can be found at [Upgrade the .NET SDK](search-dotnet-sdk-migration.md).</span></span>

<span data-ttu-id="d535d-160">正式推出意指 Azure 搜尋服務已受到服務等級協定 (SLA) 約束。</span><span class="sxs-lookup"><span data-stu-id="d535d-160">General availability means that Azure Search is now under the service level agreement (SLA).</span></span> <span data-ttu-id="d535d-161">SLA 可以在 [Azure 搜尋服務等級協定](https://azure.microsoft.com/support/legal/sla/search/v1_0/)中找到。</span><span class="sxs-lookup"><span data-stu-id="d535d-161">The SLA can be found at [Azure Search Service Level Agreements](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
