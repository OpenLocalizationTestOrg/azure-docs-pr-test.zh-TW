---
title: "aaaQuery Azure 搜尋索引 |Microsoft 文件"
description: "建置在 Azure 搜尋的搜尋查詢，並使用搜尋參數 toofilter 和排序搜尋結果。"
services: search
manager: jhubbard
documentationcenter: 
author: ashmaka
ms.assetid: 69205d7a-363f-4b92-a53f-6ca818a3d2c7
ms.service: search
ms.devlang: na
ms.workload: search
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.date: 04/26/2017
ms.author: ashmaka
ms.openlocfilehash: 4a5ffffe179695fc09446760e21a738dd36c29b9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="query-your-azure-search-index"></a><span data-ttu-id="65a02-103">查詢 Azure 搜尋服務索引</span><span class="sxs-lookup"><span data-stu-id="65a02-103">Query your Azure Search index</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="65a02-104">概觀</span><span class="sxs-lookup"><span data-stu-id="65a02-104">Overview</span></span>](search-query-overview.md)
> * [<span data-ttu-id="65a02-105">入口網站</span><span class="sxs-lookup"><span data-stu-id="65a02-105">Portal</span></span>](search-explorer.md)
> * [<span data-ttu-id="65a02-106">.NET</span><span class="sxs-lookup"><span data-stu-id="65a02-106">.NET</span></span>](search-query-dotnet.md)
> * [<span data-ttu-id="65a02-107">REST</span><span class="sxs-lookup"><span data-stu-id="65a02-107">REST</span></span>](search-query-rest-api.md)
> 
> 

<span data-ttu-id="65a02-108">提交時搜尋要求 tooAzure 搜尋，有幾個可以與 hello hello 應用程式的搜尋方塊中輸入的實際文字一起指定的參數。</span><span class="sxs-lookup"><span data-stu-id="65a02-108">When submitting search requests tooAzure Search, there are a number of parameters that can be specified alongside hello actual words that are typed into hello search box of your application.</span></span> <span data-ttu-id="65a02-109">這些查詢參數可讓您 tooachieve hello 某些更深入控制[全文檢索搜尋經驗](search-lucene-query-architecture.md)。</span><span class="sxs-lookup"><span data-stu-id="65a02-109">These query parameters allow you tooachieve some deeper control of hello [full-text search experience](search-lucene-query-architecture.md).</span></span>

<span data-ttu-id="65a02-110">以下是簡短說明常見的用法，在 Azure 搜尋中的 hello 查詢參數的清單。</span><span class="sxs-lookup"><span data-stu-id="65a02-110">Below is a list that briefly explains common uses of hello query parameters in Azure Search.</span></span> <span data-ttu-id="65a02-111">涵蓋的查詢參數和其行為的完整範圍，請參閱 hello 詳細 hello 頁面[REST API](https://docs.microsoft.com/rest/api/searchservice/Search-Documents)和[.NET SDK](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.models.searchparameters#microsoft_azure_search_models_searchparameters#properties_summary)。</span><span class="sxs-lookup"><span data-stu-id="65a02-111">For full coverage of query parameters and their behavior, please see hello detailed pages for hello [REST API](https://docs.microsoft.com/rest/api/searchservice/Search-Documents) and [.NET SDK](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.models.searchparameters#microsoft_azure_search_models_searchparameters#properties_summary).</span></span>

## <a name="types-of-queries"></a><span data-ttu-id="65a02-112">查詢類型</span><span class="sxs-lookup"><span data-stu-id="65a02-112">Types of queries</span></span>
<span data-ttu-id="65a02-113">Azure 搜尋會提供許多選項 toocreate 極為強大的查詢。</span><span class="sxs-lookup"><span data-stu-id="65a02-113">Azure Search offers many options toocreate extremely powerful queries.</span></span> <span data-ttu-id="65a02-114">hello 兩個主要的查詢將使用的類型是`search`和`filter`。</span><span class="sxs-lookup"><span data-stu-id="65a02-114">hello two main types of query you will use are `search` and `filter`.</span></span> <span data-ttu-id="65a02-115">A`search`查詢中所有的一或多個詞彙搜尋*可搜尋*在索引中，欄位 hello 方式與您希望像 Google 或 Bing toowork 搜尋引擎。</span><span class="sxs-lookup"><span data-stu-id="65a02-115">A `search` query searches for one or more terms in all *searchable* fields in your index, and works hello way you would expect a search engine like Google or Bing toowork.</span></span> <span data-ttu-id="65a02-116">`filter` 查詢可跨索引的所有可篩選欄位評估布林運算式。</span><span class="sxs-lookup"><span data-stu-id="65a02-116">A `filter` query evaluates a boolean expression over all *filterable* fields in an index.</span></span> <span data-ttu-id="65a02-117">不同於`search`查詢`filter`查詢比對欄位，這表示它們會區分大小寫的字串欄位的 hello 確切內容。</span><span class="sxs-lookup"><span data-stu-id="65a02-117">Unlike `search` queries, `filter` queries match hello exact contents of a field, which means they are case-sensitive for string fields.</span></span>

<span data-ttu-id="65a02-118">您可以同時或個別使用搜尋和篩選。</span><span class="sxs-lookup"><span data-stu-id="65a02-118">You can use searches and filters together or separately.</span></span> <span data-ttu-id="65a02-119">如果您同時使用它們，則 hello 篩選套用第一個 toohello 整個索引，而且然後 hello 搜尋 hello hello 篩選結果上。</span><span class="sxs-lookup"><span data-stu-id="65a02-119">If you use them together, hello filter is applied first toohello entire index, and then hello search is performed on hello results of hello filter.</span></span> <span data-ttu-id="65a02-120">篩選因此可能會很有用的技巧 tooimprove 查詢效能，因為會減低 hello 組 hello 搜尋查詢需求 tooprocess 的文件。</span><span class="sxs-lookup"><span data-stu-id="65a02-120">Filters can therefore be a useful technique tooimprove query performance since they reduce hello set of documents that hello search query needs tooprocess.</span></span>

<span data-ttu-id="65a02-121">hello 的篩選條件運算式的語法是 hello 子集[OData 篩選器語言](https://docs.microsoft.com/rest/api/searchservice/OData-Expression-Syntax-for-Azure-Search)。</span><span class="sxs-lookup"><span data-stu-id="65a02-121">hello syntax for filter expressions is a subset of hello [OData filter language](https://docs.microsoft.com/rest/api/searchservice/OData-Expression-Syntax-for-Azure-Search).</span></span> <span data-ttu-id="65a02-122">搜尋查詢中，您可以使用任一 hello[簡化語法](https://docs.microsoft.com/rest/api/searchservice/Simple-query-syntax-in-Azure-Search)或 hello [Lucene 的查詢語法](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search)下面會討論。</span><span class="sxs-lookup"><span data-stu-id="65a02-122">For search queries you can use either hello [simplified syntax](https://docs.microsoft.com/rest/api/searchservice/Simple-query-syntax-in-Azure-Search) or hello [Lucene query syntax](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search) which are discussed below.</span></span>

### <a name="simple-query-syntax"></a><span data-ttu-id="65a02-123">簡單查詢語法</span><span class="sxs-lookup"><span data-stu-id="65a02-123">Simple query syntax</span></span>
<span data-ttu-id="65a02-124">hello[簡單查詢語法](https://docs.microsoft.com/rest/api/searchservice/Simple-query-syntax-in-Azure-Search)hello Azure 搜尋中所使用的預設查詢語言。</span><span class="sxs-lookup"><span data-stu-id="65a02-124">hello [simple query syntax](https://docs.microsoft.com/rest/api/searchservice/Simple-query-syntax-in-Azure-Search) is hello default query language used in Azure Search.</span></span> <span data-ttu-id="65a02-125">hello 簡單查詢語法支援許多常用的搜尋運算子包括 hello AND、 OR、 NOT、 片語、 後置詞，以及優先順序運算子。</span><span class="sxs-lookup"><span data-stu-id="65a02-125">hello simple query syntax supports a number of common search operators including hello AND, OR, NOT, phrase, suffix, and precedence operators.</span></span>

### <a name="lucene-query-syntax"></a><span data-ttu-id="65a02-126">Lucene 查詢語法</span><span class="sxs-lookup"><span data-stu-id="65a02-126">Lucene query syntax</span></span>
<span data-ttu-id="65a02-127">hello [Lucene 的查詢語法](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search)廣為採用 toouse hello 和表示查詢語言開發的一部分，可讓您[Apache Lucene](https://lucene.apache.org/core/4_10_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html)。</span><span class="sxs-lookup"><span data-stu-id="65a02-127">hello [Lucene query syntax](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search) allows you toouse hello widely-adopted and expressive query language developed as part of [Apache Lucene](https://lucene.apache.org/core/4_10_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html).</span></span>

<span data-ttu-id="65a02-128">使用此查詢語法可讓您 tooeasily 達到 hello 下列功能：[欄位範圍查詢](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_fields)，[模糊搜尋](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_fuzzy)，[鄰近搜尋](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_proximity)， [詞彙提升](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_termboost)，[規則運算式搜尋](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_regex)，[萬用字元搜尋](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_wildcard)，[語法基礎](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_syntax)，和[查詢使用布林運算子](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_boolean)。</span><span class="sxs-lookup"><span data-stu-id="65a02-128">Using this query syntax allows you tooeasily achieve hello following capabilities: [Field-scoped queries](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_fields), [fuzzy search](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_fuzzy), [proximity search](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_proximity), [term boosting](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_termboost), [regular expression search](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_regex), [wildcard search](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_wildcard), [syntax fundamentals](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_syntax), and [queries using boolean operators](https://docs.microsoft.com/rest/api/searchservice/Lucene-query-syntax-in-Azure-Search#bkmk_boolean).</span></span>

## <a name="ordering-results"></a><span data-ttu-id="65a02-129">排序結果</span><span class="sxs-lookup"><span data-stu-id="65a02-129">Ordering results</span></span>
<span data-ttu-id="65a02-130">在接收時搜尋查詢的結果，您可以要求 Azure 搜尋做 hello 結果依特定欄位中的值。</span><span class="sxs-lookup"><span data-stu-id="65a02-130">When receiving results for a search query, you can request that Azure Search serves hello results ordered by values in a specific field.</span></span> <span data-ttu-id="65a02-131">根據預設，Azure 搜尋訂單 hello 搜尋結果，根據每份文件的搜尋分數衍生自 hello 陣序[TF-IDF](https://en.wikipedia.org/wiki/Tf%E2%80%93idf)。</span><span class="sxs-lookup"><span data-stu-id="65a02-131">By default, Azure Search orders hello search results based on hello rank of each document's search score, which is derived from [TF-IDF](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span></span>

<span data-ttu-id="65a02-132">如果您希望 Azure 搜尋 tooreturn hello 搜尋分數以外的值來排序您的結果，您可以使用 hello`orderby`搜尋參數。</span><span class="sxs-lookup"><span data-stu-id="65a02-132">If you want Azure Search tooreturn your results ordered by a value other than hello search score, you can use hello `orderby` search parameter.</span></span> <span data-ttu-id="65a02-133">您可以指定 hello hello 值`orderby`參數 tooinclude 欄位名稱，並呼叫 toohello [ `geo.distance()`函式](https://docs.microsoft.com/rest/api/searchservice/OData-Expression-Syntax-for-Azure-Search)地理空間值。</span><span class="sxs-lookup"><span data-stu-id="65a02-133">You can specify hello value of hello `orderby` parameter tooinclude field names and calls toohello [`geo.distance()` function](https://docs.microsoft.com/rest/api/searchservice/OData-Expression-Syntax-for-Azure-Search) for geospatial values.</span></span> <span data-ttu-id="65a02-134">每個運算式後面可以接著`asc`tooindicate 結果會以遞增順序，要求並`desc`tooindicate 結果會以遞減順序要求。</span><span class="sxs-lookup"><span data-stu-id="65a02-134">Each expression can be followed by `asc` tooindicate that results are requested in ascending order, and `desc` tooindicate that results are requested in descending order.</span></span> <span data-ttu-id="65a02-135">hello 預設排名遞增的順序。</span><span class="sxs-lookup"><span data-stu-id="65a02-135">hello default ranking ascending order.</span></span>

## <a name="paging"></a><span data-ttu-id="65a02-136">分頁</span><span class="sxs-lookup"><span data-stu-id="65a02-136">Paging</span></span>
<span data-ttu-id="65a02-137">Azure 搜尋可讓您輕鬆 tooimplement 搜尋結果的分頁。</span><span class="sxs-lookup"><span data-stu-id="65a02-137">Azure Search makes it easy tooimplement paging of search results.</span></span> <span data-ttu-id="65a02-138">使用 hello`top`和`skip`參數，您可以順暢地發出搜尋要求，可讓您 tooreceive hello 一整組搜尋結果中輕鬆地啟用良好搜尋 UI 作法的可管理、 已排序的子集。</span><span class="sxs-lookup"><span data-stu-id="65a02-138">By using hello `top` and `skip` parameters, you can smoothly issue search requests that allow you tooreceive hello total set of search results in manageable, ordered subsets that easily enable good search UI practices.</span></span> <span data-ttu-id="65a02-139">當接收這些結果的較小的子集，也可以在收到 hello 的文件計數的搜尋結果的 hello 總集合中。</span><span class="sxs-lookup"><span data-stu-id="65a02-139">When receiving these smaller subsets of results, you can also receive hello count of documents in hello total set of search results.</span></span>

<span data-ttu-id="65a02-140">您可以進一步了解分頁 hello 文件中的搜尋結果[toopage 搜尋在 Azure 搜尋的結果如何](search-pagination-page-layout.md)。</span><span class="sxs-lookup"><span data-stu-id="65a02-140">You can learn more about paging search results in hello article [How toopage search results in Azure Search](search-pagination-page-layout.md).</span></span>

## <a name="hit-highlighting"></a><span data-ttu-id="65a02-141">搜尋結果醒目提示</span><span class="sxs-lookup"><span data-stu-id="65a02-141">Hit highlighting</span></span>
<span data-ttu-id="65a02-142">在 Azure 搜尋中，強調 hello 確切部分符合 hello 搜尋查詢的搜尋結果更容易使用 hello `highlight`， `highlightPreTag`，和`highlightPostTag`參數。</span><span class="sxs-lookup"><span data-stu-id="65a02-142">In Azure Search, emphasizing hello exact portion of search results that match hello search query is made easy by using hello `highlight`, `highlightPreTag`, and `highlightPostTag` parameters.</span></span> <span data-ttu-id="65a02-143">您可以指定哪些*可搜尋*欄位應該有其相符的文字，以及指定傳回正確字串標記 tooappend toohello 開始及結尾 hello 比對文字 Azure 搜尋的 hello 反白。</span><span class="sxs-lookup"><span data-stu-id="65a02-143">You can specify which *searchable* fields should have their matched text emphasized as well as specifying hello exact string tags tooappend toohello start and end of hello matched text that Azure Search returns.</span></span>

## <a name="try-out-query-syntax"></a><span data-ttu-id="65a02-144">嘗試執行查詢語法</span><span class="sxs-lookup"><span data-stu-id="65a02-144">Try out query syntax</span></span>

<span data-ttu-id="65a02-145">hello 最佳方式 toounderstand 語法差異是所送出查詢並檢視結果。</span><span class="sxs-lookup"><span data-stu-id="65a02-145">hello best way toounderstand syntax differences is by submitting queries and reviewing results.</span></span>

+ <span data-ttu-id="65a02-146">使用[搜尋總管](search-explorer.md)hello Azure 入口網站中。</span><span class="sxs-lookup"><span data-stu-id="65a02-146">Use [Search Explorer](search-explorer.md) in hello Azure portal.</span></span> <span data-ttu-id="65a02-147">藉由部署[hello 範例索引](search-get-started-portal.md)，您可以查詢 hello 索引以分鐘為單位使用 hello 入口網站中的工具。</span><span class="sxs-lookup"><span data-stu-id="65a02-147">By deploying [hello sample index](search-get-started-portal.md), you can query hello index in minutes using tools in hello portal.</span></span>

+ <span data-ttu-id="65a02-148">使用[Fiddler](search-fiddler.md)或 Chrome 郵差 toosubmit 查詢 tooan 索引已上傳 tooyour 搜尋服務。</span><span class="sxs-lookup"><span data-stu-id="65a02-148">Use [Fiddler](search-fiddler.md) or Chrome Postman toosubmit queries tooan index that you have uploaded tooyour search service.</span></span> <span data-ttu-id="65a02-149">這兩個工具支援 REST 呼叫 tooan HTTP 端點。</span><span class="sxs-lookup"><span data-stu-id="65a02-149">Both tools support REST calls tooan HTTP endpoint.</span></span> 
