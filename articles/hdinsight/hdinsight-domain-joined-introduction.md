---
title: "aaaHadoop 安全性-已加入網域的 HDInsight 叢集-Azure |Microsoft 文件"
description: "了解 ..."
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 5a9469402a61bcba4017e1ff4bd06dfba23ac963
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="an-introduction-toohadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="3d1fe-103">與已加入網域的 HDInsight 叢集 （預覽） 簡介 tooHadoop 安全性</span><span class="sxs-lookup"><span data-stu-id="3d1fe-103">An introduction tooHadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="3d1fe-104">到目前為止，Azure HDInsight 僅支援單一使用者本機系統管理員。這很適合用於比較小型的應用程式團隊或部門。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="3d1fe-105">為獲得更多的人氣指數 hello 企業磁區，在 hello 根據工作負載需要企業的 Hadoop 等級功能，例如 active directory 型驗證、 多使用者支援和角色型存取控制變得越來越重要。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-105">As Hadoop based workloads gained more popularity in hello enterprise sector, hello need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="3d1fe-106">您可以使用已加入網域的 HDInsight 叢集，來建立 HDInsight 叢集已加入 tooan Active Directory 網域、 設定從 hello 企業可以透過 Azure Active Directory toolog tooHDInsight 叢集上進行驗證的員工的清單項目。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined tooan Active Directory domain, configure a list of employees from hello enterprise who can authenticate through Azure Active Directory toolog on tooHDInsight cluster.</span></span> <span data-ttu-id="3d1fe-107">Hello 企業之外的任何人都無法登入或存取 hello HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-107">Anyone outside hello enterprise cannot log on or access hello HDInsight cluster.</span></span> <span data-ttu-id="3d1fe-108">hello 企業系統管理員可以設定角色型存取控制的 Hive 安全性使用[Apache Ranger](http://hortonworks.com/apache/ranger/)，因此如往常般需要限制存取 toodata tooonly。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-108">hello enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access toodata tooonly as much as needed.</span></span> <span data-ttu-id="3d1fe-109">最後，hello 系統管理員可以稽核 hello 員工的資料存取，任何執行變更 tooaccess 控制原則，因此可達到較高程度的控管其公司資源。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-109">Finally, hello admin can audit hello data access by employees, and any changes done tooaccess control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="3d1fe-110">hello 這個預覽中所述的新功能是僅適用於以 Linux 為基礎的 HDInsight 叢集的 Hive 工作負載。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-110">hello new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="3d1fe-111">hello 的其他工作負載，例如將在未來啟用 HBase、 Spark、 Storm 和 Kafka，會釋出。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-111">hello other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3d1fe-112">Oozie 未在已加入網域的 HDInsight 上啟用。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="3d1fe-113">優點</span><span class="sxs-lookup"><span data-stu-id="3d1fe-113">Benefits</span></span>
<span data-ttu-id="3d1fe-114">企業安全性包含四大要件 – 周邊安全性、驗證、授權和加密。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![已加入網域的 HDInsight 叢集優點要件](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="3d1fe-116">。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="3d1fe-117">周邊安全性</span><span class="sxs-lookup"><span data-stu-id="3d1fe-117">Perimeter Security</span></span>
<span data-ttu-id="3d1fe-118">使用虛擬網路和閘道服務可達成 HDInsight 中的周邊安全性。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="3d1fe-119">現在，企業系統管理員可以建立虛擬網路內的 HDInsight 叢集，並且使用網路安全性群組 （輸入或輸出防火牆規則） toorestrict 存取 toohello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) toorestrict access toohello virtual network.</span></span> <span data-ttu-id="3d1fe-120">只有 hello hello 中定義的 IP 位址輸入防火牆規則將會是能 toocommunicate 與 hello HDInsight 叢集，因此能提供周邊安全性。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-120">Only hello IP addresses defined in hello inbound firewall rules will be able toocommunicate with hello HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="3d1fe-121">使用閘道服務可以達成另一層的周邊安全性。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="3d1fe-122">hello 閘道是 hello 服務可做為的第一線，它有任何內送要求 toohello HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-122">hello Gateway is hello service which acts as first line of defense for any incoming request toohello HDInsight cluster.</span></span> <span data-ttu-id="3d1fe-123">它接受 hello 要求，進行驗證並只允許 hello 要求 toopass toohello 其他節點在叢集中，因此能提供周邊安全性 tooother hello 叢集中的名稱和資料節點。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-123">It accepts hello request, validates it and only then allows hello request toopass toohello other nodes in cluster, thus providing perimeter security tooother name and data nodes in hello cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="3d1fe-124">驗證</span><span class="sxs-lookup"><span data-stu-id="3d1fe-124">Authentication</span></span>
<span data-ttu-id="3d1fe-125">利用此公開預覽，企業系統管理員可以在[虛擬網路](https://azure.microsoft.com/services/virtual-network/)中佈建已加入網域的 HDInsight 叢集。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="3d1fe-126">hello hello HDInsight 叢集節點將會聯結的 toohello hello 企業所受的網域。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-126">hello nodes of hello HDInsight cluster will be joined toohello domain managed by hello enterprise.</span></span> <span data-ttu-id="3d1fe-127">透過使用 [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md) 即可達成此目的。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="3d1fe-128">Hello 叢集中的所有 hello 節點都是聯結的 tooa hello 企業管理的網域。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-128">All hello nodes in hello cluster are joined tooa domain that hello enterprise manages.</span></span> <span data-ttu-id="3d1fe-129">使用這個設定，hello 企業員工可以登入 toohello 叢集節點使用其網域認證。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-129">With this setup, hello enterprise employees can log on toohello cluster nodes using their domain credentials.</span></span> <span data-ttu-id="3d1fe-130">他們也可以使用其網域認證 tooauthenticate 與色調、 Ambari 檢視、 ODBC、 JDBC、 PowerShell 和 REST Api 與 hello 叢集 toointeract 像其他核准端點。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-130">They can also use their domain credentials tooauthenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs toointeract with hello cluster.</span></span> <span data-ttu-id="3d1fe-131">hello 管理員有完全控制權限制 hello 與 hello 叢集中，透過這些端點互動的使用者數目。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-131">hello admin has full control over limiting hello number of users interacting with hello cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="3d1fe-132">Authorization</span><span class="sxs-lookup"><span data-stu-id="3d1fe-132">Authorization</span></span>
<span data-ttu-id="3d1fe-133">後面接著大多數的企業的最佳作法是不是每一位員工具有存取 tooall 企業資源。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-133">A best practice followed by most enterprises is that not every employee has access tooall enterprise resources.</span></span> <span data-ttu-id="3d1fe-134">同樣地，此版本中，與 hello 系統管理員可以定義 hello 叢集資源的角色型存取控制原則。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-134">Likewise, with this release, hello admin can define role based access control policies for hello cluster resources.</span></span> <span data-ttu-id="3d1fe-135">Hello 系統管理員可以設定，例如[Apache Ranger](http://hortonworks.com/apache/ranger/) tooset 登錄區的存取控制原則。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-135">For example, hello admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) tooset access control policies for Hive.</span></span> <span data-ttu-id="3d1fe-136">這項功能可確保員工將會無法 tooaccess 只需要 toobe 工作成功的資料量。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-136">This functionality ensures that employees will be able tooaccess only as much data as they need toobe successful in their jobs.</span></span> <span data-ttu-id="3d1fe-137">SSH 存取 toohello 叢集也是限制只有 toohello 系統管理員。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-137">SSH access toohello cluster is also restricted only toohello administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="3d1fe-138">稽核</span><span class="sxs-lookup"><span data-stu-id="3d1fe-138">Auditing</span></span>
<span data-ttu-id="3d1fe-139">以及保護的 hello HDInsight 叢集資源從未經授權的使用者，與設定安全性稽核的 hello 資料的所有存取 toohello 叢集資源，和 hello 資料是必要的 tootrack 未經授權或無意的 hello 資源的存取權。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-139">Along with protecting hello HDInsight cluster resources from unauthorized users, and securing hello data, auditing of all access toohello cluster resources, and hello data is necessary tootrack unauthorized or unintentional access of hello resources.</span></span> <span data-ttu-id="3d1fe-140">此預覽中，與 hello 系統管理員可以檢視，並報告所有存取 toohello HDInsight 叢集資源和資料。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-140">With this preview, hello admin can view and report all access toohello HDInsight cluster resources and data.</span></span> <span data-ttu-id="3d1fe-141">hello 系統管理員也可以檢視和報表的所有變更完成 Apache Ranger toohello 存取控制原則支援端點。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-141">hello admin can also view and report all changes toohello access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="3d1fe-142">已加入網域的 HDInsight 叢集會使用 hello 熟悉 Apache Ranger UI toosearch 稽核記錄。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-142">A Domain-joined HDInsight cluster uses hello familiar Apache Ranger UI toosearch audit logs.</span></span> <span data-ttu-id="3d1fe-143">Hello 後端，使用廣[Apache Solr](http://hortonworks.com/apache/solr/)來儲存及搜尋 hello 記錄檔。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-143">On hello backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching hello logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="3d1fe-144">加密</span><span class="sxs-lookup"><span data-stu-id="3d1fe-144">Encryption</span></span>
<span data-ttu-id="3d1fe-145">保護資料很重要的會議組織的安全性和法規遵循需求，以及來自未經授權的員工限制存取 toodata，它應該也受到保護的加密。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access toodata from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="3d1fe-146">同時 hello HDInsight 叢集，Azure 儲存體 Blob 的資料存放區及 Azure 資料湖存放區支援透明的伺服器端[資料加密](../storage/common/storage-service-encryption.md)靜止。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-146">Both hello data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="3d1fe-147">安全的 HDInsight 叢集會完美地與此伺服器端待用資料加密功能配合運作。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3d1fe-148">後續步驟</span><span class="sxs-lookup"><span data-stu-id="3d1fe-148">Next steps</span></span>
* <span data-ttu-id="3d1fe-149">如需設定已加入網域的 HDInsight 叢集，請參閱[設定已加入網域的 HDInisight 叢集](hdinsight-domain-joined-configure.md)。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="3d1fe-150">如需管理已加入網域的 HDInsight 叢集，請參閱[管理已加入網域的 HDInisight 叢集](hdinsight-domain-joined-manage.md)。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="3d1fe-151">如需設定 Hive 原則和執行 Hive 查詢，請參閱[針對已加入網域的 HDInisight 叢集設定 Hive 原則](hdinsight-domain-joined-run-hive.md)。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="3d1fe-152">若要在已加入網域的 HDInsight 叢集上使用 SSH 執行 Hive 查詢，請參閱[搭配 HDInsight 使用 SSH](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined)。</span><span class="sxs-lookup"><span data-stu-id="3d1fe-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
