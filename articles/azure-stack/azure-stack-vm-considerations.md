---
title: "aaaDifferences 和 Azure 堆疊中的虛擬機器的考量 |Microsoft 文件"
description: "了解使用 Azure Stack 中虛擬機器時的差異與考量。"
services: azure-stack
documentationcenter: 
author: SnehaGunda
manager: byronr
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 8/4/2017
ms.author: sngun
ms.openlocfilehash: cee03e3e83b54efabaecd2647ec7defe371ee870
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="considerations-for-virtual-machines-in-azure-stack"></a><span data-ttu-id="73daf-103">Azure Stack 中虛擬機器的考量</span><span class="sxs-lookup"><span data-stu-id="73daf-103">Considerations for Virtual Machines in Azure Stack</span></span>

<span data-ttu-id="73daf-104">虛擬機器是 Azure Stack 所提供的隨選、可調整計算資源。</span><span class="sxs-lookup"><span data-stu-id="73daf-104">Virtual machines are an on-demand, scalable computing resources offered by Azure Stack.</span></span> <span data-ttu-id="73daf-105">當您使用虛擬機器時，您必須了解有可用在 Azure 中的 hello 功能與 Azure 堆疊之間的差異。</span><span class="sxs-lookup"><span data-stu-id="73daf-105">When you use Virtual Machines, you must understand that there are differences between hello features that are available in Azure and Azure Stack.</span></span> <span data-ttu-id="73daf-106">本文提供 hello 虛擬機器和其功能在 Azure 堆疊中的唯一考量事項的概觀。</span><span class="sxs-lookup"><span data-stu-id="73daf-106">This article provides an overview of hello unique considerations for Virtual Machines and its features in Azure Stack.</span></span> <span data-ttu-id="73daf-107">toolearn 高階 Azure 堆疊與 Azure 之間的差異，請參閱 「 hello[金鑰考量](azure-stack-considerations.md)主題。</span><span class="sxs-lookup"><span data-stu-id="73daf-107">toolearn about high-level differences between Azure Stack and Azure, see hello [Key considerations](azure-stack-considerations.md) topic.</span></span>

## <a name="cheat-sheet-virtual-machine-differences"></a><span data-ttu-id="73daf-108">速查表：虛擬機器差異</span><span class="sxs-lookup"><span data-stu-id="73daf-108">Cheat sheet: Virtual machine differences</span></span>

| <span data-ttu-id="73daf-109">功能</span><span class="sxs-lookup"><span data-stu-id="73daf-109">Feature</span></span> | <span data-ttu-id="73daf-110">Azure (全域)</span><span class="sxs-lookup"><span data-stu-id="73daf-110">Azure (global)</span></span> | <span data-ttu-id="73daf-111">Azure Stack</span><span class="sxs-lookup"><span data-stu-id="73daf-111">Azure Stack</span></span> |
| --- | --- | --- |
| <span data-ttu-id="73daf-112">虛擬機器映像</span><span class="sxs-lookup"><span data-stu-id="73daf-112">Virtual machine images</span></span> | <span data-ttu-id="73daf-113">hello Azure Marketplace 包含您可以使用 toocreate 虛擬機器的映像。</span><span class="sxs-lookup"><span data-stu-id="73daf-113">hello Azure Marketplace contains images that you can use toocreate a virtual machine.</span></span> <span data-ttu-id="73daf-114">請參閱 hello [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/compute?subcategories=virtual-machine-images&page=1) hello Azure Marketplace 中可用的映像頁面 tooview hello 清單。</span><span class="sxs-lookup"><span data-stu-id="73daf-114">See hello [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/compute?subcategories=virtual-machine-images&page=1) page tooview hello list of images that are available in hello Azure Marketplace.</span></span> | <span data-ttu-id="73daf-115">根據預設，沒有任何映像 hello Azure 堆疊 marketplace 中。</span><span class="sxs-lookup"><span data-stu-id="73daf-115">By default, there aren’t any images available in hello Azure Stack marketplace.</span></span> <span data-ttu-id="73daf-116">hello Azure 堆疊雲端系統管理員應該[發行](azure-stack-add-default-image.md)或[下載映像](azure-stack-download-azure-marketplace-item.md)toohello 堆疊 Azure marketplace 的使用者才能使用它們。</span><span class="sxs-lookup"><span data-stu-id="73daf-116">hello Azure Stack cloud administrator should [publish](azure-stack-add-default-image.md) or [download images](azure-stack-download-azure-marketplace-item.md) toohello Azure Stack marketplace before users can use them.</span></span> |
| <span data-ttu-id="73daf-117">虛擬機器大小</span><span class="sxs-lookup"><span data-stu-id="73daf-117">Virtual machine sizes</span></span> | <span data-ttu-id="73daf-118">Azure 支援各種不同的虛擬機器大小。</span><span class="sxs-lookup"><span data-stu-id="73daf-118">Azure supports a wide variety of sizes for virtual machines.</span></span> <span data-ttu-id="73daf-119">toolearn 有關 hello 可用大小和選項，請參閱 toohello [Windows 虛擬機器大小](../virtual-machines/virtual-machines-windows-sizes.md)和[Linux 虛擬機器大小](../virtual-machines/linux/sizes.md)主題。</span><span class="sxs-lookup"><span data-stu-id="73daf-119">toolearn about hello available sizes and options, refer toohello [Windows virtual machines sizes](../virtual-machines/virtual-machines-windows-sizes.md) and [Linux virtual machine sizes](../virtual-machines/linux/sizes.md) topics.</span></span> | <span data-ttu-id="73daf-120">Azure Stack 支援 Azure 中一部分可用的虛擬機器大小。</span><span class="sxs-lookup"><span data-stu-id="73daf-120">Azure Stack supports a subset of Virtual Machine sizes that are available in Azure.</span></span> <span data-ttu-id="73daf-121">tooview hello 清單支援的大小，請參閱 toohello[虛擬機器大小](#virtual-machine-sizes)本文一節。</span><span class="sxs-lookup"><span data-stu-id="73daf-121">tooview hello list of supported sizes, refer toohello [virtual machine sizes](#virtual-machine-sizes) section of this article.</span></span> |
| <span data-ttu-id="73daf-122">虛擬機器配額</span><span class="sxs-lookup"><span data-stu-id="73daf-122">Virtual machine quotas</span></span> | <span data-ttu-id="73daf-123">[配額限制](../azure-subscription-service-limits.md#service-specific-limits)由 Microsoft 設定</span><span class="sxs-lookup"><span data-stu-id="73daf-123">[Quota limits](../azure-subscription-service-limits.md#service-specific-limits) are set by Microsoft</span></span> | <span data-ttu-id="73daf-124">hello Azure 堆疊雲端系統管理員必須[指派配額](azure-stack-setting-quotas.md)提供了虛擬機器 tootheir 使用者之前。</span><span class="sxs-lookup"><span data-stu-id="73daf-124">hello Azure Stack cloud administrator must [assign quotas](azure-stack-setting-quotas.md) before they offer virtual machines tootheir users.</span></span> |
| <span data-ttu-id="73daf-125">虛擬機器擴充功能</span><span class="sxs-lookup"><span data-stu-id="73daf-125">Virtual machine extensions</span></span> |<span data-ttu-id="73daf-126">Azure 支援各種不同的虛擬機器擴充功能。</span><span class="sxs-lookup"><span data-stu-id="73daf-126">Azure supports a wide variety of virtual machine extensions.</span></span> <span data-ttu-id="73daf-127">toolearn hello 可用擴充功能，請參閱 toohello[虛擬機器擴充功能和功能](../virtual-machines/windows/extensions-features.md)主題。</span><span class="sxs-lookup"><span data-stu-id="73daf-127">toolearn about hello available extensions, refer toohello [virtual machine extensions and features](../virtual-machines/windows/extensions-features.md) topic.</span></span>| <span data-ttu-id="73daf-128">Azure 堆疊支援在 Azure 中可用擴充功能的子集，且 hello 延伸模組的每個有特定的版本。</span><span class="sxs-lookup"><span data-stu-id="73daf-128">Azure Stack supports a subset of extensions that are available in Azure and each of hello extension have specific versions.</span></span> <span data-ttu-id="73daf-129">hello Azure 堆疊雲端系統管理員可以選擇哪些擴充功能 toobe 進行可用 toofor 他們的使用者。</span><span class="sxs-lookup"><span data-stu-id="73daf-129">hello Azure Stack cloud administrator can choose which extensions toobe made available toofor their users.</span></span> <span data-ttu-id="73daf-130">tooview hello 清單支援的延伸模組，請參閱 toohello[虛擬機器擴充功能](#virtual-machine-extensions)本文一節。</span><span class="sxs-lookup"><span data-stu-id="73daf-130">tooview hello list of supported extensions, refer toohello [virtual machine extensions](#virtual-machine-extensions) section of this article.</span></span> |
| <span data-ttu-id="73daf-131">虛擬機器網路</span><span class="sxs-lookup"><span data-stu-id="73daf-131">Virtual machine network</span></span> | <span data-ttu-id="73daf-132">透過網際網路 hello 指派 tootenant 虛擬機器的公用 IP 位址都可存取的。</span><span class="sxs-lookup"><span data-stu-id="73daf-132">Public IP addresses assigned tootenant virtual machine are accessible over hello Internet.</span></span><br><br><br><span data-ttu-id="73daf-133">Azure 虛擬機器有固定的 DNS 名稱</span><span class="sxs-lookup"><span data-stu-id="73daf-133">Azure Virtual Machines has a fixed DNS name</span></span> | <span data-ttu-id="73daf-134">指派 tooa 租用戶虛擬機器的公用 IP 位址是只 hello Azure 堆疊開發套件的環境中存取。</span><span class="sxs-lookup"><span data-stu-id="73daf-134">Public IP addresses assigned tooa tenant virtual machine are accessible within hello Azure Stack Development Kit environment only.</span></span> <span data-ttu-id="73daf-135">使用者必須擁有存取 toohello Azure 堆疊 Development Kit 透過[RDP](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-remote-desktop)或[VPN](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-vpn)建立 Azure 堆疊中的 tooconnect tooa 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="73daf-135">A user must have access toohello Azure Stack Development Kit via [RDP](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-remote-desktop) or [VPN](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-vpn) tooconnect tooa virtual machine that is created in Azure Stack.</span></span><br><br><span data-ttu-id="73daf-136">特定的 Azure 堆疊執行個體內建立的虛擬機器有根據 hello 值 hello 雲端系統管理員所設定的 DNS 名稱。</span><span class="sxs-lookup"><span data-stu-id="73daf-136">Virtual machines created within a specific Azure Stack instance have a DNS name based on hello value that is configured by hello cloud administrator.</span></span> |
| <span data-ttu-id="73daf-137">虛擬機器儲存體</span><span class="sxs-lookup"><span data-stu-id="73daf-137">Virtual machine storage</span></span> | <span data-ttu-id="73daf-138">支援[受控磁碟](../virtual-machines/windows/managed-disks-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="73daf-138">Supports [managed disks.](../virtual-machines/windows/managed-disks-overview.md)</span></span> | <span data-ttu-id="73daf-139">Azure Stack 尚未支援受控磁碟。</span><span class="sxs-lookup"><span data-stu-id="73daf-139">Managed disks are not yet supported in Azure Stack.</span></span> |
| <span data-ttu-id="73daf-140">API 版本</span><span class="sxs-lookup"><span data-stu-id="73daf-140">API versions</span></span> | <span data-ttu-id="73daf-141">Azure 一律會有所有的 hello 虛擬機器功能的 hello 最新 API 版本。</span><span class="sxs-lookup"><span data-stu-id="73daf-141">Azure always has hello latest API versions for all hello virtual machine features.</span></span> | <span data-ttu-id="73daf-142">Azure Stack 支援特定的 Azure 服務及這些服務的特定 API 版本。</span><span class="sxs-lookup"><span data-stu-id="73daf-142">Azure Stack supports specific Azure services and specific API versions for these services.</span></span> <span data-ttu-id="73daf-143">tooview hello 清單支援的 API 版本，請參閱 toohello [API 版本](#api-versions)本文一節。</span><span class="sxs-lookup"><span data-stu-id="73daf-143">tooview hello list of supported API versions, refer toohello [API versions](#api-versions) section of this article.</span></span> |
|<span data-ttu-id="73daf-144">虛擬機器可用性設定組</span><span class="sxs-lookup"><span data-stu-id="73daf-144">Virtual machine availability sets</span></span>|<span data-ttu-id="73daf-145">多個容錯網域 (每一區域 2 或 3 個)</span><span class="sxs-lookup"><span data-stu-id="73daf-145">Multiple fault domains (2 or 3 per region)</span></span><br><span data-ttu-id="73daf-146">多個更新網域</span><span class="sxs-lookup"><span data-stu-id="73daf-146">Multiple update domains</span></span><br><span data-ttu-id="73daf-147">受控磁碟支援</span><span class="sxs-lookup"><span data-stu-id="73daf-147">Managed disk support</span></span>|<span data-ttu-id="73daf-148">單一容錯網域</span><span class="sxs-lookup"><span data-stu-id="73daf-148">Single fault domain</span></span><br><span data-ttu-id="73daf-149">單一更新網域</span><span class="sxs-lookup"><span data-stu-id="73daf-149">Single update domain</span></span><br><span data-ttu-id="73daf-150">無受控磁碟支援</span><span class="sxs-lookup"><span data-stu-id="73daf-150">No managed disk support</span></span>|
|<span data-ttu-id="73daf-151">虛擬機器擴展集</span><span class="sxs-lookup"><span data-stu-id="73daf-151">Virtual machine scale sets</span></span>|<span data-ttu-id="73daf-152">支援自動調整</span><span class="sxs-lookup"><span data-stu-id="73daf-152">Auto-scale supported</span></span>|<span data-ttu-id="73daf-153">不支援自動調整。</span><span class="sxs-lookup"><span data-stu-id="73daf-153">Auto-scale not supported.</span></span><br><span data-ttu-id="73daf-154">新增執行個體 tooa 小數位數組使用 hello 入口網站中，資源管理員範本或 PowerShell。</span><span class="sxs-lookup"><span data-stu-id="73daf-154">Add more instances tooa scale set using hello portal, Resource Manager templates, or PowerShell.</span></span>

## <a name="virtual-machine-sizes"></a><span data-ttu-id="73daf-155">虛擬機器大小</span><span class="sxs-lookup"><span data-stu-id="73daf-155">Virtual machine sizes</span></span> 

<span data-ttu-id="73daf-156">hello Azure 堆疊開發套件支援下列大小 hello:</span><span class="sxs-lookup"><span data-stu-id="73daf-156">hello Azure Stack Development Kit supports hello following sizes:</span></span> 

| <span data-ttu-id="73daf-157">類型</span><span class="sxs-lookup"><span data-stu-id="73daf-157">Type</span></span> | <span data-ttu-id="73daf-158">大小</span><span class="sxs-lookup"><span data-stu-id="73daf-158">Size</span></span> | <span data-ttu-id="73daf-159">支援的大小範圍</span><span class="sxs-lookup"><span data-stu-id="73daf-159">Range of supported sizes</span></span> |
| --- | --- | --- |
|<span data-ttu-id="73daf-160">一般用途</span><span class="sxs-lookup"><span data-stu-id="73daf-160">General purpose</span></span> |<span data-ttu-id="73daf-161">基本 A</span><span class="sxs-lookup"><span data-stu-id="73daf-161">Basic A</span></span>|<span data-ttu-id="73daf-162">A0-A4</span><span class="sxs-lookup"><span data-stu-id="73daf-162">A0-A4</span></span>|
|<span data-ttu-id="73daf-163">一般用途</span><span class="sxs-lookup"><span data-stu-id="73daf-163">General purpose</span></span> |<span data-ttu-id="73daf-164">標準 A</span><span class="sxs-lookup"><span data-stu-id="73daf-164">Standard A</span></span>|<span data-ttu-id="73daf-165">A0-A7</span><span class="sxs-lookup"><span data-stu-id="73daf-165">A0-A7</span></span>|
|<span data-ttu-id="73daf-166">一般用途</span><span class="sxs-lookup"><span data-stu-id="73daf-166">General purpose</span></span> |<span data-ttu-id="73daf-167">標準 D</span><span class="sxs-lookup"><span data-stu-id="73daf-167">Standard D</span></span>|<span data-ttu-id="73daf-168">D1-D4</span><span class="sxs-lookup"><span data-stu-id="73daf-168">D1-D4</span></span>|
|<span data-ttu-id="73daf-169">一般用途</span><span class="sxs-lookup"><span data-stu-id="73daf-169">General purpose</span></span> |<span data-ttu-id="73daf-170">標準 Dv2</span><span class="sxs-lookup"><span data-stu-id="73daf-170">Standard Dv2</span></span>|<span data-ttu-id="73daf-171">D1v2-D5v2</span><span class="sxs-lookup"><span data-stu-id="73daf-171">D1v2-D5v2</span></span>|
|<span data-ttu-id="73daf-172">記憶體最佳化</span><span class="sxs-lookup"><span data-stu-id="73daf-172">Memory optimized</span></span>|<span data-ttu-id="73daf-173">D 系列</span><span class="sxs-lookup"><span data-stu-id="73daf-173">D-series</span></span>|<span data-ttu-id="73daf-174">D11-D14</span><span class="sxs-lookup"><span data-stu-id="73daf-174">D11-D14</span></span>|
|<span data-ttu-id="73daf-175">記憶體最佳化</span><span class="sxs-lookup"><span data-stu-id="73daf-175">Memory optimized</span></span> |<span data-ttu-id="73daf-176">Dv2 系列</span><span class="sxs-lookup"><span data-stu-id="73daf-176">Dv2-series</span></span>|<span data-ttu-id="73daf-177">D11v2-D14v2</span><span class="sxs-lookup"><span data-stu-id="73daf-177">D11v2-D14v2</span></span>|

<span data-ttu-id="73daf-178">Azure 堆疊和 Azure 中的虛擬機器大小會一致 hello 記憶體、 CPU 核心數、 網路頻寬、 磁碟效能，以及定義 hello 大小的其他因素方面。</span><span class="sxs-lookup"><span data-stu-id="73daf-178">Virtual machine sizes in Azure Stack and Azure are consistent in terms of hello memory, CPU cores, network bandwidth, disk performance, and other factors that define hello size.</span></span> <span data-ttu-id="73daf-179">例如，hello 標準 D 大小在 Azure 和 Azure 堆疊中的虛擬機器是一致的。</span><span class="sxs-lookup"><span data-stu-id="73daf-179">For example, hello Standard D size virtual machine in Azure and Azure Stack is consistent.</span></span> 

## <a name="virtual-machine-extensions"></a><span data-ttu-id="73daf-180">虛擬機器擴充功能</span><span class="sxs-lookup"><span data-stu-id="73daf-180">Virtual machine extensions</span></span> 

 <span data-ttu-id="73daf-181">hello Azure 堆疊開發套件支援下列虛擬機器擴充功能版本 hello:</span><span class="sxs-lookup"><span data-stu-id="73daf-181">hello Azure Stack Development Kit supports hello following virtual machine extension versions:</span></span>

![VM 擴充功能](media/azure-stack-vm-considerations/vm-extensions.png)

<span data-ttu-id="73daf-183">使用下列 PowerShell 指令碼 tooget hello 清單中的 Azure 堆疊環境中的虛擬機器擴充功能的 hello:</span><span class="sxs-lookup"><span data-stu-id="73daf-183">Use hello following PowerShell script tooget hello list of virtual machine extensions that are available in your Azure Stack environment:</span></span>

```powershell 
Get-AzureRmVmImagePublisher -Location local | `
  Get-AzureRmVMExtensionImageType | `
  Get-AzureRmVMExtensionImage | `
  Select Type, Version | `
  Format-Table -Property * -AutoSize 
```

## <a name="api-versions"></a><span data-ttu-id="73daf-184">API 版本</span><span class="sxs-lookup"><span data-stu-id="73daf-184">API versions</span></span> 

<span data-ttu-id="73daf-185">Azure 堆疊開發套件中的虛擬機器功能都支援下列 API 版本的 hello:</span><span class="sxs-lookup"><span data-stu-id="73daf-185">Virtual machine features in Azure Stack Development Kit support hello following API versions:</span></span>

![VM 資源類型](media/azure-stack-vm-considerations/vm-resoource-types.png)

<span data-ttu-id="73daf-187">您可以使用下列 PowerShell 指令碼 tooget hello API 版本 hello Azure 堆疊環境中的虛擬機器功能的 hello:</span><span class="sxs-lookup"><span data-stu-id="73daf-187">You can use hello following PowerShell script tooget hello API versions for hello virtual machine features that are available in your Azure Stack environment:</span></span>

```powershell 
Get-AzureRmResourceProvider | `
  Select ProviderNamespace -Expand ResourceTypes | `
  Select * -Expand ApiVersions | `
  Select ProviderNamespace, ResourceTypeName, @{Name="ApiVersion"; Expression={$_}} | `
  where-Object {$_.ProviderNamespace -like “Microsoft.compute”}
```
<span data-ttu-id="73daf-188">支援資源類型的 hello 清單和應用程式開發介面版本可能會不同，如果 hello 雲端運算子會更新您 Azure 堆疊環境 tooa 較新版本。</span><span class="sxs-lookup"><span data-stu-id="73daf-188">hello list of supported resource types and API versions may vary if hello cloud operator updates your Azure Stack environment tooa newer version.</span></span>

## <a name="next-steps"></a><span data-ttu-id="73daf-189">後續步驟</span><span class="sxs-lookup"><span data-stu-id="73daf-189">Next steps</span></span>

[<span data-ttu-id="73daf-190">在 Azure Stack 中使用 PowerShell 來建立 Windows 虛擬機器</span><span class="sxs-lookup"><span data-stu-id="73daf-190">Create a Windows virtual machine with PowerShell in Azure Stack</span></span>](azure-stack-quick-create-vm-powershell.md)
