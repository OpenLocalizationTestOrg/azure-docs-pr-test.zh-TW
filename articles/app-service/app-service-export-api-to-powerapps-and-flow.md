---
title: "aaaExporting Azure 託管應用程式開發介面 tooPowerApps 和 Microsoft Flow |Microsoft 文件"
description: "在應用程式服務 tooPowerApps 和 Microsoft Flow 裝載 tooexpose 應用程式開發介面的方式的概觀"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 285b6efa3af5b0feac1ee2f617c0dc56dc3fd198
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="exporting-an-azure-hosted-api-toopowerapps-and-microsoft-flow"></a><span data-ttu-id="3fc6b-103">匯出 Azure 託管應用程式開發介面 tooPowerApps 和 Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="3fc6b-103">Exporting an Azure-hosted API tooPowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="3fc6b-104">為 PowerApps 和 Microsoft Flow 建立自訂連接器</span><span class="sxs-lookup"><span data-stu-id="3fc6b-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="3fc6b-105">[PowerApps](https://powerapps.com)是用於建立和使用自訂商務應用程式，tooyour 資料連接，以及跨平台運作的服務。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect tooyour data and work across platforms.</span></span> <span data-ttu-id="3fc6b-106">[Microsoft Flow](https://flow.microsoft.com)可讓您輕鬆 tooautomate 工作流程且喜愛的應用程式與服務之間的商務程序。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy tooautomate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="3fc6b-107">PowerApps 與 Microsoft Flow 隨附各種內建連接器 toodata 來源，例如 Office 365、 Dynamics 365、 Salesforce 等等。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors toodata sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="3fc6b-108">不過，使用者也需要 toobe 無法 tooleverage 資料來源和正在其組織建立的應用程式開發介面。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-108">However, users also need toobe able tooleverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="3fc6b-109">同樣地，開發人員想 tooexpose 其廣泛 hello 內組織可能會想 toomake 其應用程式開發介面使用 tooPowerApps 和 Microsoft Flow 使用者更多的 Api。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-109">Similarly, developers that want tooexpose their APIs more broadly within hello organization may want toomake their APIs available tooPowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="3fc6b-110">本主題將告訴您如何 tooexpose 應用程式開發介面建置 Azure 應用程式服務或 Azure 函式 tooPowerApps 與 Microsoft Flow。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-110">This topic will show you how tooexpose an API built with Azure App Service or Azure Functions tooPowerApps and Microsoft Flow.</span></span> <span data-ttu-id="3fc6b-111">[Azure App Service](https://azure.microsoft.com/services/app-service/)是可讓開發人員 tooquickly 和輕鬆地建置企業級 web、 行動裝置，以及 API 應用程式的平台做為服務供應項目。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers tooquickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="3fc6b-112">[Azure 函數](https://azure.microsoft.com/services/functions/)是以事件為基礎的無伺服器計算的解決方案，可讓您可以回應您的系統與隨標尺 tooother 部分 tooquickly 撰寫程式碼。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you tooquickly author code that can react tooother parts of your system and scale based on demand.</span></span>

<span data-ttu-id="3fc6b-113">toolearn 進一步了解這些服務，請參閱：</span><span class="sxs-lookup"><span data-stu-id="3fc6b-113">toolearn more about these services, see:</span></span>
- [<span data-ttu-id="3fc6b-114">PowerApps 引導式學習</span><span class="sxs-lookup"><span data-stu-id="3fc6b-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="3fc6b-115">Microsoft Flow 引導式學習</span><span class="sxs-lookup"><span data-stu-id="3fc6b-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="3fc6b-116">什麼是 App Service？</span><span class="sxs-lookup"><span data-stu-id="3fc6b-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="3fc6b-117">什麼是 Azure Functions？</span><span class="sxs-lookup"><span data-stu-id="3fc6b-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="3fc6b-118">共用 API 定義</span><span class="sxs-lookup"><span data-stu-id="3fc6b-118">Sharing an API definition</span></span>

<span data-ttu-id="3fc6b-119">應用程式開發介面通常使用描述[OpenAPI 文件](https://www.openapis.org/)（有時稱為 tooas"Swagger 」 文件）。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred tooas a "Swagger" document).</span></span> <span data-ttu-id="3fc6b-120">這包含所有的 hello 哪些作業，以及如何 hello 資料應該結構化資訊。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-120">This contains all of hello information about what operations are available and how hello data should be structured.</span></span> <span data-ttu-id="3fc6b-121">PowerApps 和 Microsoft Flow 可以為任何 OpenAPI 2.0 文件建立自訂連接器。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="3fc6b-122">一旦建立自訂連接器，它可以用於完全 hello 相同的方式，做為其中一個 hello 內建的連接器，而且可以快速整合到應用程式。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-122">Once a custom connector is created, it can be used in exactly hello same way as one of hello built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="3fc6b-123">Azure App Service 和 Azure Functions 有[內建支援](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata)，可供建立、裝載及管理 OpenAPI 文件。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="3fc6b-124">在順序 toocreate web、 行動裝置的自訂連接器，應用程式開發介面或函式應用程式，PowerApps 和流程需要 toobe 指定 hello 定義的複本。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-124">In order toocreate a custom connector for a web, mobile, API, or function app, PowerApps and Flow need toobe given a copy of hello definition.</span></span>

> [!NOTE]
> <span data-ttu-id="3fc6b-125">因為正在使用 hello API 定義的複本，PowerApps 與 Microsoft Flow 不會立即知道更新或重大變更 toohello 應用程式。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-125">Because a copy of hello API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes toohello application.</span></span> <span data-ttu-id="3fc6b-126">如果 hello API 的新版本可供使用，這些步驟應重複 hello 新版本。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-126">If a new version of hello API is made available, these steps should be repeated for hello new version.</span></span> 

<span data-ttu-id="3fc6b-127">tooprovide PowerApps 與 Microsoft Flow hello 裝載應用程式開發介面定義您的應用程式，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="3fc6b-127">tooprovide PowerApps and Microsoft Flow with hello hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="3fc6b-128">開啟 hello [Azure 入口網站](https://portal.azure.com)並瀏覽 tooyour 應用程式服務或 Azure 函式的應用程式。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-128">Open hello [Azure Portal](https://portal.azure.com) and navigate tooyour App Service or Azure Functions application.</span></span>

    <span data-ttu-id="3fc6b-129">如果使用 Azure 應用程式服務，請選取**API 定義**hello 設定值清單。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-129">If using Azure App Service, select **API definition** from hello settings list.</span></span> 
    
    <span data-ttu-id="3fc6b-130">如果使用 Azure Functions，請選取您的函數應用程式，然後依序選擇 [平台功能]、[API 定義]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="3fc6b-131">您也可以選擇 tooopen hello **API 定義 （預覽）**改為索引標籤。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-131">You could also choose tooopen hello **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="3fc6b-132">如果已提供 API 定義，則您會看到**匯出 tooPowerApps + Microsoft Flow**  按鈕。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-132">If an API definition has been provided, you will see an **Export tooPowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="3fc6b-133">按一下此按鈕 toobegin hello 匯出程序。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-133">Click this button toobegin hello export process.</span></span>

3. <span data-ttu-id="3fc6b-134">選取 hello**匯出模式**。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-134">Select hello **Export mode**.</span></span> <span data-ttu-id="3fc6b-135">這會決定您需要 toofollow toocreate 連接器 hello 步驟。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-135">This determines hello steps you will need toofollow toocreate a connector.</span></span> <span data-ttu-id="3fc6b-136">App Service 提供兩種選項，供您將 API 定義提供給 PowerApps 和 Microsoft Flow：</span><span class="sxs-lookup"><span data-stu-id="3fc6b-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="3fc6b-137">**Express**可讓您建立 hello 自訂連接器從內 hello Azure 入口網站。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-137">**Express** lets you create hello custom connector from within hello Azure portal.</span></span> <span data-ttu-id="3fc6b-138">它需要該 hello 目前登入的使用者具有使用權限 toocreate 連接器 hello 目標環境中。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-138">It requires that hello curent logged-in user has permission toocreate connectors in hello target environment.</span></span> <span data-ttu-id="3fc6b-139">這是建議的方法，如果滿足該需求，可以 hello。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-139">This is hello recommended approach if that requirement can be met.</span></span> <span data-ttu-id="3fc6b-140">如果使用此模式，請遵循 hello [Express 匯出](#express)下列指示。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-140">If using this mode, follow hello [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="3fc6b-141">**手動**可讓您將匯出的 hello 可匯入使用 hello PowerApps 或 Microsoft Flow 入口網站的應用程式開發介面定義的複本。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-141">**Manual** lets you export a copy of hello API definiton which can be imported using hello PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="3fc6b-142">這是建議的方法如果 hello Azure 使用者和權限 toocreate 連接器 hello 使用者不同的人或 hello 連接器必須在另一個租用戶中建立的 toobe hello。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-142">This is hello recommended approach if hello Azure user and hello user with permission toocreate connectors are different people or if hello connector needs toobe created in another tenant.</span></span> <span data-ttu-id="3fc6b-143">如果使用此模式，請遵循 hello[手動匯出和匯入](#manual)下列指示。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-143">If using this mode, follow hello [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="3fc6b-144">快速匯出</span><span class="sxs-lookup"><span data-stu-id="3fc6b-144">Express export</span></span>

<span data-ttu-id="3fc6b-145">在本節中，您將建立新的自訂連接器從 hello Azure 入口網站中。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-145">In this section, you will create a new custom connector from within hello Azure portal.</span></span> <span data-ttu-id="3fc6b-146">您必須登入 hello 租用戶 toowhich 想 tooexport，而且您必須擁有權限 toocreate 自訂連接器 hello 目標環境中。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-146">You must be logged into hello tenant toowhich you wish tooexport, and you must have permission toocreate a custom connector in hello target environment.</span></span>

1. <span data-ttu-id="3fc6b-147">選取您想在其中要 toocreate hello 連接器 hello 環境。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-147">Select hello environment in which you would like toocreate hello connector.</span></span> <span data-ttu-id="3fc6b-148">然後提供您的自訂連接器名稱。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="3fc6b-149">如果您的 API 定義包含任何安全性定義，則會在步驟 2 中叫出這些定義。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="3fc6b-150">必要時，提供 hello 安全性組態詳細資料所需 toogrant 使用者存取 tooyour API。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-150">If required, provide hello security configuration details needed toogrant users access tooyour API.</span></span> <span data-ttu-id="3fc6b-151">如需詳細資訊，請參閱下面的[驗證](#auth)。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="3fc6b-152">按一下**確定**toocreate 您自訂的連接器。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-152">Click **OK** toocreate your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="3fc6b-153">手動匯出和匯入</span><span class="sxs-lookup"><span data-stu-id="3fc6b-153">Manual export and import</span></span>

<span data-ttu-id="3fc6b-154">在訂單 toocreate 自訂連接器的 web、 行動、 應用程式開發介面或函式應用程式，將需要兩個步驟：</span><span class="sxs-lookup"><span data-stu-id="3fc6b-154">In order toocreate a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="3fc6b-155">從應用程式服務或 Azure 函式擷取 hello 應用程式開發介面定義</span><span class="sxs-lookup"><span data-stu-id="3fc6b-155">Retrieving hello API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="3fc6b-156">匯入 PowerApps 與 Microsoft Flow hello API 定義</span><span class="sxs-lookup"><span data-stu-id="3fc6b-156">Importing hello API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="3fc6b-157">很可能在這兩個步驟將需要 toobe 由組織內的個別人員執行，因為指定的使用者可能沒有權限 tooperform 這兩個動作。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-157">It is possible that these two steps will need toobe carried out by separate individuals within an organization, as a given user may not have permission tooperform both actions.</span></span> <span data-ttu-id="3fc6b-158">在此情況下，具有參與者存取 toohello 應用程式服務或 Azure 函式的應用程式的開發人員需要 tooobtain hello 應用程式開發介面定義 （單一 JSON 檔案） 或連結 tooit。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-158">In this case, a developer who has contributor access toohello App Service or Azure Functions application will need tooobtain hello API definition (a single JSON file) or a link tooit.</span></span> <span data-ttu-id="3fc6b-159">它們必須 tooprovide 該定義 tooa PowerApps 或 Microsoft Flow 擁有者。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-159">They will then need tooprovide that definition tooa PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="3fc6b-160">該擁有者可以使用 hello 中繼資料 toocreate hello 自訂連接器。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-160">That owner can use hello metadata toocreate hello custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-hello-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="3fc6b-161">從應用程式服務或 Azure 函式擷取 hello 應用程式開發介面定義</span><span class="sxs-lookup"><span data-stu-id="3fc6b-161">Retrieving hello API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="3fc6b-162">在本節中，您會匯出您的應用程式服務 api，稍後在 hello PowerApps 或 Microsoft Flow 入口網站中使用的 toobe hello API 定義。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-162">In this section, you will export hello API definition for your App Service API, toobe used later in hello PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="3fc6b-163">您可以選擇 tooeither**下載 hello API 定義**或**取得連結**。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-163">You can choose tooeither **Download hello API definition** or **Get a link**.</span></span> <span data-ttu-id="3fc6b-164">無論您的選擇，hello 下一節中會提供 hello 結果。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-164">Whichever you choose, hello result will be provided in hello next section.</span></span> <span data-ttu-id="3fc6b-165">選取其中一個選項，並遵循 hello 指示。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-165">Select one of these options and follow hello instructions.</span></span>
 
2. <span data-ttu-id="3fc6b-166">如果您的 API 定義包含任何安全性定義，則會在步驟 2 中叫出這些定義。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="3fc6b-167">在匯入期間，PowerApps 和 Microsoft Flow 會偵測這些定義並提示輸入安全性資訊。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="3fc6b-168">收集 hello 認證相關的 tooeach 定義以供使用 hello 下一節。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-168">Gather hello credentials related tooeach definition for use in hello next section.</span></span> <span data-ttu-id="3fc6b-169">如需詳細資訊，請參閱下面的[驗證](#auth)。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-hello-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="3fc6b-170">匯入 PowerApps 與 Microsoft Flow hello API 定義</span><span class="sxs-lookup"><span data-stu-id="3fc6b-170">Importing hello API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="3fc6b-171">在本節中，您將建立自訂連接器 PowerApps 與 Microsoft Flow 使用稍早取得的 hello 應用程式開發介面定義中。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using hello API definition obtained earlier.</span></span> <span data-ttu-id="3fc6b-172">自訂連接器 hello 兩個服務，因此您只需要一次 tooimport hello 定義之間共用。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-172">Custom connectors are shared between hello two services, so you only need tooimport hello definition once.</span></span> <span data-ttu-id="3fc6b-173">如需有關自訂連接器的詳細資訊，請參閱[在 PowerApps 中註冊及使用自訂連接器]和[在 Microsoft Flow 中註冊及使用自訂連接器]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="3fc6b-174">開啟 hello [Powerapps web 入口網站](https://web.powerapps.com)或 hello [Microsoft Flow web 入口網站](https://flow.microsoft.com/)，並登入。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-174">Open hello [Powerapps web portal](https://web.powerapps.com) or hello [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="3fc6b-175">按一下 hello**設定**hello 右上方的 hello 頁面，然後選取按鈕 （hello 齒輪圖示）**自訂連接器**。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-175">Click hello **Settings** button (hello gear icon) at hello upper right of hello page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="3fc6b-176">按一下 [建立自訂連接器]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="3fc6b-177">在 hello**一般**索引標籤上，為您的 API 提供的名稱，然後上傳 hello OpenAPI 定義或貼上 hello 中繼資料 URL 中。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-177">On hello **General** tab, provide a name for your API, and then upload hello OpenAPI definition or paste in hello metadata URL.</span></span> <span data-ttu-id="3fc6b-178">按一下 [繼續]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-178">Click **Continue**.</span></span>

4. <span data-ttu-id="3fc6b-179">在 hello**安全性**索引標籤上，如果您是提示的 tooprovide 驗證詳細資料，輸入 hello hello 上一節中所取得的值。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-179">On hello **Security** tab, if you are prompted tooprovide authentication details, enter hello values obtained in hello previous section.</span></span> <span data-ttu-id="3fc6b-180">如果沒有，請繼續執行 toohello 下一個步驟。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-180">If not, proceed toohello next step.</span></span>

5. <span data-ttu-id="3fc6b-181">在 hello**定義**索引標籤上，所有 OpenAPI 檔案中定義的 hello 作業將都會自動擴展。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-181">On hello **Definitions** tab, all hello operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="3fc6b-182">如果定義了所有所需的作業，您可以移 toohello 下一個步驟。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-182">If all your required operations are defined, you can go toohello next step.</span></span> <span data-ttu-id="3fc6b-183">如果沒有，您可以在此新增與修改作業。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="3fc6b-184">按一下 [建立連接器]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-184">Click **Create connector**.</span></span> <span data-ttu-id="3fc6b-185">如果您想 tootest API 呼叫，請移 toohello 下一個步驟。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-185">If you want tootest API calls, go toohello next step.</span></span>

7. <span data-ttu-id="3fc6b-186">在 hello**測試**索引標籤上，建立連接、 選取作業 tootest，然後輸入 hello 作業所需的任何資料。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-186">On hello **Test** tab, create a connection, select an operation tootest, and enter any data required by hello operation.</span></span>

8. <span data-ttu-id="3fc6b-187">按一下 [測試作業]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="3fc6b-188">驗證</span><span class="sxs-lookup"><span data-stu-id="3fc6b-188">Authentication</span></span>

<span data-ttu-id="3fc6b-189">PowerApps 與 Microsoft Flow 原生支援可使用的 toolog 中您自訂的連接器的使用者身分識別提供者的集合。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used toolog in users of your custom connector.</span></span> <span data-ttu-id="3fc6b-190">如果您的 API 需要驗證，請確保它會依照您 OpenAPI 文件中的_安全性定義_擷取。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="3fc6b-191">在匯出期間，您必須允許 PowerApps Microsoft Flow tooperform 登入動作的 tooprovide 組態值。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-191">During export, you will need tooprovide configuration values that allow PowerApps an Microsoft Flow tooperform login actions.</span></span>

<span data-ttu-id="3fc6b-192">此章節將涵蓋支援的 hello express 流程 hello 驗證類型： API 金鑰、 Azure Active Directory 和一般的 OAuth 2.0。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-192">This section covers hello authentication types which are supported by hello express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="3fc6b-193">提供者和每個需要 hello 認證的完整清單，請參閱[在 PowerApps 中註冊及使用自訂連接器]和[在 Microsoft Flow 中註冊及使用自訂連接器]。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-193">For a complete list of providers and hello credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="3fc6b-194">API 金鑰</span><span class="sxs-lookup"><span data-stu-id="3fc6b-194">API key</span></span>
<span data-ttu-id="3fc6b-195">使用此安全性配置時，您的連接器的 hello 使用者將無法提示的 tooprovide hello 索引鍵，在建立連線時。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-195">When this security scheme is used, hello users of your connector will be prompted tooprovide hello key when they create a connection.</span></span> <span data-ttu-id="3fc6b-196">您可以提供 API 金鑰名稱 toohelp 他們知道需要哪些金鑰。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-196">You can provide an API key name toohelp them know which key is needed.</span></span> <span data-ttu-id="3fc6b-197">對於 Azure 函式，這通常會是 hello 主機金鑰，涵蓋 hello 函式應用程式中的幾個函式的其中之一。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-197">For Azure Functions, this will typically be one of hello host keys, covering several functions within hello function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="3fc6b-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="3fc6b-198">Azure Active Directory</span></span>
<span data-ttu-id="3fc6b-199">當設定需要 AAD 登入的自訂連接器，兩個 AAD 應用程式註冊所需： 一個 toomodel hello 後端 API 和 PowerApps 與流程中的一個 toomodel hello 連接器。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one toomodel hello backend API, and one toomodel hello connector in PowerApps and Flow.</span></span>

<span data-ttu-id="3fc6b-200">您的 API 應該是設定的 toowork 與 hello 第一次註冊，而且這會已經注意如果您使用 hello[應用程式服務驗證/授權](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication)功能。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-200">Your API should be configured toowork with hello first registration, and this will already be taken care of if you used hello [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="3fc6b-201">您將需要建立 hello hello 連接器的第二個註冊 toomanually 使用 hello 步驟涵蓋[加入 AAD 應用程式](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application)。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-201">You will have toomanually create hello second registration for hello connector, using hello steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="3fc6b-202">hello 註冊需要 toohave 委派存取 tooyour API 和回覆 URL `https://msmanaged-na.consent.azure-apim.net/redirect`。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-202">hello registration needs toohave delegated access tooyour API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="3fc6b-203">請參閱[本例](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/)如需詳細資訊，以取代您的 API hello Azure 資源管理員。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for hello Azure Resource Manager.</span></span>

<span data-ttu-id="3fc6b-204">下列組態值的 hello 是必要的：</span><span class="sxs-lookup"><span data-stu-id="3fc6b-204">hello following configuration values are required:</span></span>
- <span data-ttu-id="3fc6b-205">**用戶端識別碼**-hello 您連接器的 AAD 註冊用戶端識別碼</span><span class="sxs-lookup"><span data-stu-id="3fc6b-205">**Client ID** - hello client ID of your connector AAD registration</span></span>
- <span data-ttu-id="3fc6b-206">**用戶端密碼**-hello 的 AAD 註冊您的連接器的用戶端密碼</span><span class="sxs-lookup"><span data-stu-id="3fc6b-206">**Client secret** - hello client secret of your connector AAD registration</span></span>
- <span data-ttu-id="3fc6b-207">**登入 URL** -hello AAD 基底 URL。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-207">**Login URL** - hello base URL for AAD.</span></span> <span data-ttu-id="3fc6b-208">在公用 Azure 中，這通常是 `https://login.windows.net`。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="3fc6b-209">**租用戶識別碼**-hello hello 租用戶 toobe hello 登入使用的識別碼。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-209">**Tenant ID** - hello ID of hello tenant toobe used for hello login.</span></span> <span data-ttu-id="3fc6b-210">這應該是 「 通用 」，或 hello hello 租用戶中的 hello 建立連接器識別碼。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-210">This should be "common" or hello ID of hello tenant in which hello connector is being created.</span></span>
- <span data-ttu-id="3fc6b-211">**資源 URL** -hello 您 API 後端的 AAD 註冊的資源 URL</span><span class="sxs-lookup"><span data-stu-id="3fc6b-211">**Resource URL** - hello resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3fc6b-212">如果其他的個人要匯入 hello API 定義 PowerApps 與 Microsoft Flow 當做 hello 手動流程的一部分，您將需要 tooprovide 其與 hello 用戶端識別碼和用戶端密碼**的 hello el registro del conector**，以及為您的 API hello 資源 URL。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-212">If another individual will be importing hello API definition into PowerApps and Microsoft Flow as part of hello manual flow, you will need tooprovide them with hello client ID and client secret **of hello connector registration**, as well as hello resource URL of your API.</span></span> <span data-ttu-id="3fc6b-213">確定這些密碼都已受到安全地管理。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="3fc6b-214">**不會共用 hello 的 hello API 本身的安全性認證。**</span><span class="sxs-lookup"><span data-stu-id="3fc6b-214">**Do not share hello security credentials of hello API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="3fc6b-215">Generic OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="3fc6b-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="3fc6b-216">hello 泛型的 OAuth 2.0 支援可讓您 toointegrate 任何 OAuth 2.0 提供者。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-216">hello generic OAuth 2.0 support allows you toointegrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="3fc6b-217">這可以讓您 toobring 原生不支援的任何自訂提供者。</span><span class="sxs-lookup"><span data-stu-id="3fc6b-217">This allows you toobring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="3fc6b-218">下列組態值的 hello 是必要的：</span><span class="sxs-lookup"><span data-stu-id="3fc6b-218">hello following configuration values are required:</span></span>
- <span data-ttu-id="3fc6b-219">**用戶端識別碼**-hello OAuth 2.0 用戶端識別碼</span><span class="sxs-lookup"><span data-stu-id="3fc6b-219">**Client ID** - hello OAuth 2.0 client ID</span></span>
- <span data-ttu-id="3fc6b-220">**用戶端密碼**-hello OAuth 2.0 用戶端密碼</span><span class="sxs-lookup"><span data-stu-id="3fc6b-220">**Client secret** - hello OAuth 2.0 client secret</span></span>
- <span data-ttu-id="3fc6b-221">**授權 URL** -hello OAuth 2.0 授權 URL</span><span class="sxs-lookup"><span data-stu-id="3fc6b-221">**Authorization URL** - hello OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="3fc6b-222">**語彙基元 URL** -hello OAuth 2.0 權杖 URL</span><span class="sxs-lookup"><span data-stu-id="3fc6b-222">**Token URL** - hello OAuth 2.0 token URL</span></span>
- <span data-ttu-id="3fc6b-223">**重新整理 URL** -hello OAuth 2.0 重新整理 URL</span><span class="sxs-lookup"><span data-stu-id="3fc6b-223">**Refresh URL** - hello OAuth 2.0 refresh URL</span></span>



[在 PowerApps 中註冊及使用自訂連接器]: https://powerapps.microsoft.com/tutorials/register-custom-api/
[在 Microsoft Flow 中註冊及使用自訂連接器]: https://flow.microsoft.com/documentation/register-custom-api/
