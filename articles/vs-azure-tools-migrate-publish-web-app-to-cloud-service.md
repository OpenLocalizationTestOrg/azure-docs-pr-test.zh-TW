---
title: "如何從 Visual Studio 將 Web 應用程式移轉並發佈至 Azure 雲端服務 | Microsoft Docs"
description: "了解如何使用 Visual Studio 將 Web 應用程式移轉並發佈至 Azure 雲端服務。"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 9394adfd-a645-4664-9354-dd5df08e8c91
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 2599741df42b795738abbacffa17fc0bbbba7348
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/29/2017
---
# <a name="how-to-migrate-and-publish-a-web-application-to-an-azure-cloud-service-from-visual-studio"></a><span data-ttu-id="67cde-103">作法：從 Visual Studio 將 Web 應用程式移轉並發佈至 Azure 雲端服務</span><span class="sxs-lookup"><span data-stu-id="67cde-103">How to: Migrate and Publish a Web Application to an Azure Cloud Service from Visual Studio</span></span>
<span data-ttu-id="67cde-104">若要利用 Azure 的主機服務和延展性，您可以將 Web 應用程式移轉並發佈至 Azure 雲端服務。</span><span class="sxs-lookup"><span data-stu-id="67cde-104">To take advantage of the hosting services and scalability of Azure, you might want to migrate and publish your web application to an Azure cloud service.</span></span> <span data-ttu-id="67cde-105">只要對現有應用程式做少許變更，即可在 Azure 中執行 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="67cde-105">You can run a web application in Azure with minimal changes to your existing application.</span></span>

> [!NOTE]
> <span data-ttu-id="67cde-106">本主題是關於部署到雲端服務，而不是網站。</span><span class="sxs-lookup"><span data-stu-id="67cde-106">This topic is about deploying to cloud services, not to web sites.</span></span> <span data-ttu-id="67cde-107">如需部署至網站的相關資訊，請參閱 [在 Azure App Service 中部署 Web 應用程式](app-service-web/web-sites-deploy.md)。</span><span class="sxs-lookup"><span data-stu-id="67cde-107">For information about deploying to web sites, see [Deploy a web app in Azure App Service](app-service-web/web-sites-deploy.md).</span></span>
>
>

<span data-ttu-id="67cde-108">如需 Visual C# 和 Visual Basic 所支援的特定範本清單，請參閱本主題後面的＜支援的專案範本＞  一節。</span><span class="sxs-lookup"><span data-stu-id="67cde-108">For a list of specific templates that are supported for both Visual C# and Visual Basic, see the section **Supported Project Templates** later in this topic.</span></span>

<span data-ttu-id="67cde-109">您必須先從 Visual Studio 啟用 Azure 的 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="67cde-109">You must first enable your web application for Azure from Visual Studio.</span></span> <span data-ttu-id="67cde-110">下圖顯示藉由新增用於部署的 Azure 專案來發佈現有 Web 應用程式的主要步驟。</span><span class="sxs-lookup"><span data-stu-id="67cde-110">The following illustration shows the key steps to publish your existing web application by adding an Azure project to use for deployment.</span></span> <span data-ttu-id="67cde-111">此程序會將具有必要 Web 角色的 Azure 專案新增至您的方案。</span><span class="sxs-lookup"><span data-stu-id="67cde-111">This process adds an Azure project with the required web role to your solution.</span></span> <span data-ttu-id="67cde-112">根據您所擁有的 Web 專案類型，系統會在服務封裝需要其他組件以用於部署時，一併更新組件的專案屬性。</span><span class="sxs-lookup"><span data-stu-id="67cde-112">Based on the type of web project that you have, the project properties for assemblies are also updated if the service package requires additional assemblies for deployment.</span></span>

![將 Web 應用程式發佈至 Microsoft Azure](./media/vs-azure-tools-migrate-publish-web-app-to-cloud-service/IC748917.png)

> [!NOTE]
> <span data-ttu-id="67cde-114">方案中的 Web 專案才會顯示 [轉換]、[轉換成 Azure 雲端服務專案] 命令。</span><span class="sxs-lookup"><span data-stu-id="67cde-114">The **Convert**, **Convert to Azure Cloud Service Project** command is displayed only for the web project in your solution.</span></span> <span data-ttu-id="67cde-115">例如，方案中的 Silverlight 專案就不會顯示此命令。</span><span class="sxs-lookup"><span data-stu-id="67cde-115">For example, the command is not available for a Silverlight project in your solution.</span></span>
> <span data-ttu-id="67cde-116">當您建立服務封裝或將應用程式發佈至 Azure 時，可能會出現警告或錯誤。</span><span class="sxs-lookup"><span data-stu-id="67cde-116">When you create a service package or publish your application to Azure, warnings or errors might occur.</span></span> <span data-ttu-id="67cde-117">這些警告和錯誤可以幫助您在部署至 Azure 之前先修正問題。</span><span class="sxs-lookup"><span data-stu-id="67cde-117">These warnings and errors can help you fix issues before you deploy to Azure.</span></span> <span data-ttu-id="67cde-118">例如，您可能會收到遺失組件的警告。</span><span class="sxs-lookup"><span data-stu-id="67cde-118">For example, you might receive a warning about a missing assembly.</span></span> <span data-ttu-id="67cde-119">如需如何將警告視為錯誤的詳細資訊，請參閱 [使用 Visual Studio 設定 Azure 雲端服務專案](vs-azure-tools-configuring-an-azure-project.md)。</span><span class="sxs-lookup"><span data-stu-id="67cde-119">For more information about how to treat any warnings as errors, see [Configure an Azure Cloud Service Project with Visual Studio](vs-azure-tools-configuring-an-azure-project.md).</span></span> <span data-ttu-id="67cde-120">在建置應用程式、使用計算模擬器在本機執行應用程式，或將應用程式發佈至 Azure 時，您可能會在 [錯誤清單] 視窗中看到下列錯誤：**「指定的路徑和 (或) 檔案名稱太長」**。</span><span class="sxs-lookup"><span data-stu-id="67cde-120">If you build your application, run it locally using the compute emulator, or publish it to Azure, you might see the following error in the **Error List** window: **The specified path, file name, or both are too long**.</span></span> <span data-ttu-id="67cde-121">如果完整的 Azure 專案名稱長度太長，就會發生此錯誤。</span><span class="sxs-lookup"><span data-stu-id="67cde-121">This error occurs because the length of the fully qualified Azure project name is too long.</span></span> <span data-ttu-id="67cde-122">包括完整路徑在內的專案名稱長度不能超過 146 個字元。</span><span class="sxs-lookup"><span data-stu-id="67cde-122">The length of the project name, including the full path, cannot be more than 146 characters.</span></span> <span data-ttu-id="67cde-123">例如，以下是包括針對 Silverlight 應用程式所建立之 Azure 專案的檔案路徑在內的完整專案名稱：`c:\users\<user name>\documents\visual studio 2015\Projects\SilverlightApplication4\SilverlightApplication4.Web.Azure.ccproj`。</span><span class="sxs-lookup"><span data-stu-id="67cde-123">For example, this is the full project name including file path for an Azure project that is created for a Silverlight application: `c:\users\<user name>\documents\visual studio 2015\Projects\SilverlightApplication4\SilverlightApplication4.Web.Azure.ccproj`.</span></span> <span data-ttu-id="67cde-124">您可能必須將方案移到其他具有較短路徑的目錄，以縮減完整專案名稱的長度。</span><span class="sxs-lookup"><span data-stu-id="67cde-124">You might have to move your solution to a different directory that has a shorter path to reduce the length of the fully qualified project name.</span></span>
>
>

<span data-ttu-id="67cde-125">若要從 Visual Studio 將 Web 應用程式移轉並發佈至 Azure，請遵循下列步驟。</span><span class="sxs-lookup"><span data-stu-id="67cde-125">To migrate and publish a web application to Azure from Visual Studio, follow these steps.</span></span>

## <a name="enable-a-web-application-for-deployment-to-azure"></a><span data-ttu-id="67cde-126">啟用 Web 應用程式以部署至 Azure</span><span class="sxs-lookup"><span data-stu-id="67cde-126">Enable a Web Application for Deployment to Azure</span></span>
### <a name="to-enable-a-web-application-for-deployment-to-azure"></a><span data-ttu-id="67cde-127">啟用 Web 應用程式以部署至 Azure</span><span class="sxs-lookup"><span data-stu-id="67cde-127">To enable a web application for deployment to Azure</span></span>
1. <span data-ttu-id="67cde-128">若要啟用 Web 應用程式以部署至 Azure，請在方案中開啟 Web 專案的捷徑功能表，然後選擇 [新增 Azure 部署專案]。</span><span class="sxs-lookup"><span data-stu-id="67cde-128">To enable your web application for deployment to Azure, open the shortcut menu for a web project in your solution and choose Add Azure Deployment Project.</span></span>

    <span data-ttu-id="67cde-129">此時會發生下列動作：</span><span class="sxs-lookup"><span data-stu-id="67cde-129">The following actions occur:</span></span>

   * <span data-ttu-id="67cde-130">方案中新增了應用程式的 Azure 專案，名稱為 `<name of the web project>.Azure` 。</span><span class="sxs-lookup"><span data-stu-id="67cde-130">An Azure project called `<name of the web project>.Azure` is added to the solution for your application.</span></span>
   * <span data-ttu-id="67cde-131">此 Azure 專案中已新增 Web 專案的 Web 角色。</span><span class="sxs-lookup"><span data-stu-id="67cde-131">A web role for the web project is added to this Azure project.</span></span>
   * <span data-ttu-id="67cde-132">MVC 2、MVC 3、MVC 4 和 Silverlight 商務應用程式所需的組件皆已將 [複製到本機]  屬性設定為 true。</span><span class="sxs-lookup"><span data-stu-id="67cde-132">The **Copy Local** property is set to true for any assemblies that are required for MVC 2, MVC 3, MVC 4, and Silverlight Business Applications.</span></span> <span data-ttu-id="67cde-133">此設定會將這些組件新增到用於部署的服務封裝中。</span><span class="sxs-lookup"><span data-stu-id="67cde-133">This adds these assemblies to the service package that is used for deployment.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="67cde-134">如果此 Web 應用程式有其他必要組件或檔案，您必須手動設定這些檔案的屬性。</span><span class="sxs-lookup"><span data-stu-id="67cde-134">If you have other assemblies or files that are required for this web application, you must manually set the properties for these files.</span></span> <span data-ttu-id="67cde-135">如需如何設定這些屬性的相關資訊，請參閱本文後面的＜將檔案包含在服務封裝內＞  一節。</span><span class="sxs-lookup"><span data-stu-id="67cde-135">For information about how to set these properties, see the section **Include Files in the Service Package** later in this article.</span></span>
   >
   > [!NOTE]
   > <span data-ttu-id="67cde-136">如果方案中的 Azure 專案已有特定 Web 專案的 Web 角色，此 Web 專案的捷徑功能表上就不會顯示 [轉換]、[轉換成 Azure 雲端服務專案]。</span><span class="sxs-lookup"><span data-stu-id="67cde-136">If a web role for a specific web project already exists in an Azure project in the solution, **Convert**, **Convert to Azure Cloud Service Project** is not displayed on the shortcut menu for this web project.</span></span>
   >
   >

   <span data-ttu-id="67cde-137">如果您的 Web 應用程式中有多個 Web 專案，而您想要為每個 Web 專案建立 Web 角色，則必須為每個 Web 專案執行此程序中的步驟。</span><span class="sxs-lookup"><span data-stu-id="67cde-137">If you have multiple web projects in your web application and you want to create web roles for each web project, you must perform the steps in this procedure for each web project.</span></span> <span data-ttu-id="67cde-138">這麼做會為每個 Web 角色建立個別的 Azure 專案。</span><span class="sxs-lookup"><span data-stu-id="67cde-138">This creates separate Azure projects for each web role.</span></span> <span data-ttu-id="67cde-139">您就可以個別發佈每一個 Web 專案。</span><span class="sxs-lookup"><span data-stu-id="67cde-139">Each web project can be published separately.</span></span> <span data-ttu-id="67cde-140">或者，您可以手動對 Web 應用程式中的現有 Azure 專案新增其他 Web 角色。</span><span class="sxs-lookup"><span data-stu-id="67cde-140">Alternatively, you can manually add another web role to an existing Azure project in your web application.</span></span> <span data-ttu-id="67cde-141">若要這麼做，請開啟 Azure 專案中 [角色] 資料夾的捷徑功能表，然後依序選擇 [新增]、[方案中的 Web 角色專案] 和要新增做為 Web 角色的專案，然後選擇 [確定] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="67cde-141">To do this, open the shortcut menu for the **Roles** folder in your Azure project, choose **Add**, then **Web Role Project in solution**, choose the project to add as a web role, and then choose the **OK** button.</span></span>

## <a name="use-an-azure-sql-database-for-your-application"></a><span data-ttu-id="67cde-142">將 Azure SQL Database 用於應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-142">Use an Azure SQL Database for Your Application</span></span>
<span data-ttu-id="67cde-143">如果 Web 應用程式的連接字串使用內部部署的 SQL Server Database ，您必須變更此連接字串，使其改用 Azure 裝載之 SQL Database 的執行個體。</span><span class="sxs-lookup"><span data-stu-id="67cde-143">If you have a connection string for your web application that uses a SQL Server database that's on the premises, you must change this connection string to use an instance of SQL Database that Azure hosts instead.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="67cde-144">您的訂用帳戶必須能讓您使用 SQL Database。</span><span class="sxs-lookup"><span data-stu-id="67cde-144">Your subscription must enable you to use SQL Database.</span></span> <span data-ttu-id="67cde-145">如果您從 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)存取訂用帳戶，您可以確定訂用帳戶所提供的服務。</span><span class="sxs-lookup"><span data-stu-id="67cde-145">If you access your subscription from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), you can determine what services your subscription provides.</span></span> <span data-ttu-id="67cde-146">下列指示適用於已發行的 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="67cde-146">The following instructions apply to the released [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="67cde-147">如果您是使用 [Azure 入口網站](http://portal.microsoft.com)，請跳至下一個程序。</span><span class="sxs-lookup"><span data-stu-id="67cde-147">If you are using the [Azure portal](http://portal.microsoft.com), skip to the next procedure.</span></span>
>
>

### <a name="to-use-a-sql-database-instance-in-your-web-role-for-your-connection-string"></a><span data-ttu-id="67cde-148">對連接字串使用 Web 角色中的 SQL Database 執行個體</span><span class="sxs-lookup"><span data-stu-id="67cde-148">To use a SQL Database instance in your web role for your connection string</span></span>
1. <span data-ttu-id="67cde-149">若要在 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)中建立 SQL Database 的執行個體，請遵循下列文章中的步驟：[建立 SQL Database 伺服器](http://go.microsoft.com/fwlink/?LinkId=225109)。</span><span class="sxs-lookup"><span data-stu-id="67cde-149">To create an instance of SQL Database in the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), follow the steps in the following article: [Create a SQL Database Server](http://go.microsoft.com/fwlink/?LinkId=225109).</span></span>

   > [!NOTE]
   > <span data-ttu-id="67cde-150">在設定 SQL Database 執行個體的防火牆規則時，您必須選取 [允許其他 Azure 服務存取此伺服器] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="67cde-150">When you set up the firewall rules for your instance of SQL Database, you must select the **Allow other Azure services to access this server** check box.</span></span>
   >
   >
2. <span data-ttu-id="67cde-151">若要建立用於連接字串的 SQL Database 執行個體，請遵循下列文章中下一節的步驟： [建立 SQL Database](http://go.microsoft.com/fwlink/?LinkId=225110)。</span><span class="sxs-lookup"><span data-stu-id="67cde-151">To create an instance of SQL Database to use for your connection string, follow the steps in the next section in the following article: [Create a SQL Database](http://go.microsoft.com/fwlink/?LinkId=225110).</span></span>
3. <span data-ttu-id="67cde-152">若要複製 ADO.NET 連接字串以用於您的連接字串，請在 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)中執行下列步驟。</span><span class="sxs-lookup"><span data-stu-id="67cde-152">To copy the ADO.NET connection string to use for your connection string, perform the following steps in the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>  

   1. <span data-ttu-id="67cde-153">選擇 [資料庫]  按鈕，然後開啟您用來建立 SQL Database 執行個體之訂用帳戶的節點。</span><span class="sxs-lookup"><span data-stu-id="67cde-153">Choose the **Database** button, and then open the node for the subscription that you used to create your instance of SQL Database.</span></span>
   2. <span data-ttu-id="67cde-154">若要顯示可用的 SQL Database 執行個體，請選擇 [SQL Database]  節點。</span><span class="sxs-lookup"><span data-stu-id="67cde-154">To display the available instances of SQL Database, choose the **SQL Databases** node.</span></span>
   3. <span data-ttu-id="67cde-155">若要顯示資料庫的屬性，請選擇資料庫。</span><span class="sxs-lookup"><span data-stu-id="67cde-155">To display the properties for the database, choose the database.</span></span> <span data-ttu-id="67cde-156">[屬性]  檢視隨即出現。</span><span class="sxs-lookup"><span data-stu-id="67cde-156">The **Properties** view appears.</span></span>

      > [!NOTE]
      > <span data-ttu-id="67cde-157">如果 [屬性] 檢視未出現，您可能需要使用分隔線來加以開啟。</span><span class="sxs-lookup"><span data-stu-id="67cde-157">If the **Properties** view doesn't appear, you might need to open it by using the divider.</span></span>
      >
      >
   4. <span data-ttu-id="67cde-158">若要顯示連接字串，請選擇 [檢視] 旁的省略符號 (...) 按鈕。</span><span class="sxs-lookup"><span data-stu-id="67cde-158">To display the connection strings, choose the ellipsis (...) button next to View.</span></span>

      <span data-ttu-id="67cde-159">[連接字串]  對話方塊隨即會出現。</span><span class="sxs-lookup"><span data-stu-id="67cde-159">The **Connection Strings** dialog box appears.</span></span>
   5. <span data-ttu-id="67cde-160">若要複製 ADO.NET 連接字串，請醒目提示文字，然後選擇 Ctrl + C 鍵。</span><span class="sxs-lookup"><span data-stu-id="67cde-160">To copy the ADO.NET connection string, highlight the text, and choose the Ctrl+C keys.</span></span>
   6. <span data-ttu-id="67cde-161">若要關閉對話方塊，請選擇 [關閉]  按鈕。</span><span class="sxs-lookup"><span data-stu-id="67cde-161">To close the dialog box, choose the **Close** button.</span></span>
4. <span data-ttu-id="67cde-162">若要取代 web.config 檔中的連接字串以使用此 SQL Database 執行個體，請開啟 web.config 檔、醒目提示現有連接字串項目，然後選擇 Ctrl + V 鍵。</span><span class="sxs-lookup"><span data-stu-id="67cde-162">To replace the connection string in the web.config file to use this instance of SQL Database, open the web.config file, highlight the existing connection string entry, and then choose the Ctrl+V keys.</span></span> <span data-ttu-id="67cde-163">SQL Database 執行個體的 ADO.NET 連接字串即會取代現有連接字串。</span><span class="sxs-lookup"><span data-stu-id="67cde-163">The ADO.NET connection string for the instance of SQL Database replaces the existing connection string.</span></span>
5. <span data-ttu-id="67cde-164">您也必須在連接字串中加入 `MultipleActiveResultSets=True` 參數。</span><span class="sxs-lookup"><span data-stu-id="67cde-164">You must also add the parameter `MultipleActiveResultSets=True` to the connection string.</span></span> <span data-ttu-id="67cde-165">連接字串應有如下格式：</span><span class="sxs-lookup"><span data-stu-id="67cde-165">The connection string should have the following format:</span></span>

    ```
    connectionString=”Server=tcp:<database_server>.database.windows.net,1433;Database=<database_name>;User ID=<user_name>@<database_server>;Password=<myPassword>;Trusted_Connection=False;Encrypt=True;MultipleActiveResultSets=True"
    ```
6. <span data-ttu-id="67cde-166">(選用) 另一種在 web.config 檔中直接變更連接字串的方法是，依據您用來建立服務封裝的建置組態，在其中一個 web.config 轉換檔中加入一個區段。</span><span class="sxs-lookup"><span data-stu-id="67cde-166">(Optional) An alternative method to changing the connection string directly in the web.config file is to add a section into one of the web.config transformation files, depending on the build configuration that you use to create your service package.</span></span> <span data-ttu-id="67cde-167">開啟 Web.Debug.Config 檔案或 Web.Release.Config 檔案。</span><span class="sxs-lookup"><span data-stu-id="67cde-167">Open either the Web.Debug.Config file or the Web.Release.Config file.</span></span> <span data-ttu-id="67cde-168">在此檔案中加入下列區段：</span><span class="sxs-lookup"><span data-stu-id="67cde-168">Add the following section into this file:</span></span>

    ```
    XMLCopy<connectionStrings><addname="DefaultConnection"connectionString="Server=tcp:<database_server>.database.windows.net,1433;Database=<database_name>;User ID=<user_name>@<database_server>;Password=<myPassword>;Trusted_Connection=False;Encrypt=True;MultipleActiveResultSets=True"xdt:Transform="SetAttributes"xdt:Locator="Match(name)"/></connectionStrings>
    ```
7. <span data-ttu-id="67cde-169">儲存修改過的檔案，然後重新發佈應用程式。</span><span class="sxs-lookup"><span data-stu-id="67cde-169">Save the file that you modified and republish your application.</span></span>

### <a name="to-use-an-instance-of-sql-database-by-using-the-azure-classic-portal"></a><span data-ttu-id="67cde-170">透過 Azure 傳統入口網站使用 SQL Database 執行個體</span><span class="sxs-lookup"><span data-stu-id="67cde-170">To use an instance of SQL Database by using the Azure classic portal</span></span>
1. <span data-ttu-id="67cde-171">在 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)中，選擇 [SQL Databases] 節點。</span><span class="sxs-lookup"><span data-stu-id="67cde-171">In the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), choose the SQL Databases node.</span></span>

   * <span data-ttu-id="67cde-172">如果您想要使用的 SQL Database 執行個體出現，請進行選擇來將其開啟。</span><span class="sxs-lookup"><span data-stu-id="67cde-172">If the instance of SQL Database that you want to use appears, choose to open it.</span></span>
   * <span data-ttu-id="67cde-173">如果您尚未建立任何執行個體，請選擇適當連結，然後建立執行個體。</span><span class="sxs-lookup"><span data-stu-id="67cde-173">If you haven't created any instances, choose the appropriate link, and then create an instance.</span></span>
2. <span data-ttu-id="67cde-174">開啟或建立資料庫執行個體後，選擇 [連接字串]  連結。</span><span class="sxs-lookup"><span data-stu-id="67cde-174">After you open or create a database instance, choose the **Connection Strings** link.</span></span>
3. <span data-ttu-id="67cde-175">在頁面底部選擇連結以進行防火牆設定，並接受預設值或設定您需要的值。</span><span class="sxs-lookup"><span data-stu-id="67cde-175">At the bottom of the page, choose the link to configure firewall settings, and accept the default values or configure the values that you need.</span></span>
4. <span data-ttu-id="67cde-176">複製 ADO.NET 連接字串、將它貼到 web.config 檔案，蓋掉舊的內部部署資料庫連接字串，並務必加上 `MultipleActiveResultSets=True`。</span><span class="sxs-lookup"><span data-stu-id="67cde-176">Copy the ADO.NET connection string, paste it into your web.config file over the old connection string for the on-premises database, and be sure to add `MultipleActiveResultSets=True`.</span></span>

## <a name="publish-a-web-application-to-azure"></a><span data-ttu-id="67cde-177">將 Web 應用程式發佈至 Azure</span><span class="sxs-lookup"><span data-stu-id="67cde-177">Publish a Web Application to Azure</span></span>
### <a name="to-publish-a-web-application-to-azure"></a><span data-ttu-id="67cde-178">將 Web 應用程式發佈至 Azure</span><span class="sxs-lookup"><span data-stu-id="67cde-178">To publish a Web application to Azure</span></span>
1. <span data-ttu-id="67cde-179">若要在本機開發環境中使用 Azure 計算模擬器測試應用程式，請開啟 Web 角色的 Azure 專案捷徑功能表，然後選擇 [設定為啟始專案]。</span><span class="sxs-lookup"><span data-stu-id="67cde-179">To test the application in the local development environment using the Azure compute emulator, open the shortcut menu for the Azure project for the web role and choose **Set as Startup Project**.</span></span> <span data-ttu-id="67cde-180">接下來選擇 [偵錯]、[開始偵錯] \(鍵盤：**F5**)。</span><span class="sxs-lookup"><span data-stu-id="67cde-180">Then choose **Debug**, **Start Debugging** (Keyboard: **F5**).</span></span>

    <span data-ttu-id="67cde-181">[啟動 Azure 偵錯環境]  對話方塊隨即開啟，並且會在瀏覽器中啟動應用程式。</span><span class="sxs-lookup"><span data-stu-id="67cde-181">The **Start the Azure Debugging Environment** dialog box opens and the application starts in the browser.</span></span> <span data-ttu-id="67cde-182">如需關於如何在計算模擬器中啟動每一種 Web 應用程式的特定詳細資訊，請參閱本節資料表。</span><span class="sxs-lookup"><span data-stu-id="67cde-182">For specific details about how to start each type of web application in the compute emulator, see the table in this section.</span></span>
2. <span data-ttu-id="67cde-183">若要設定將您的應用程式發佈至 Azure 的服務，您必須擁有 Microsoft 帳戶和 Azure 訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="67cde-183">To set up the services for your application to publish to Azure, you must have a Microsoft account and an Azure subscription.</span></span> <span data-ttu-id="67cde-184">使用下列主題中的步驟來設定服務： [準備從 Visual Studio 發佈或部署 Azure 應用程式](vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="67cde-184">Use the steps in the following topic to set up your services: [Prepare to publish or deploy an Azure application from Visual Studio](vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio.md).</span></span>
3. <span data-ttu-id="67cde-185">若要將 Web 應用程式發佈至 Azure，請開啟 Web 專案的捷徑功能表，然後選擇 [發佈至 Azure] 。</span><span class="sxs-lookup"><span data-stu-id="67cde-185">To publish the web application to Azure, open the shortcut menu for the web project and choose **Publish to Azure**.</span></span>

    <span data-ttu-id="67cde-186">[發佈 Azure 應用程式]  對話方塊隨即開啟，且 Visual Studio 會開始部署程序。</span><span class="sxs-lookup"><span data-stu-id="67cde-186">The **Publish Azure Application** dialog box opens and Visual Studio starts the deployment process.</span></span> <span data-ttu-id="67cde-187">如需如何發佈應用程式的詳細資訊，請參閱[使用 Azure Tools 發佈雲端服務](vs-azure-tools-publishing-a-cloud-service.md)中的＜從 Visual Studio 發佈 Azure 應用程式＞。</span><span class="sxs-lookup"><span data-stu-id="67cde-187">For more information about how to publish the application, see the section **Publish an Azure Application from Visual Studio** in [Publishing a Cloud Service using the Azure Tools](vs-azure-tools-publishing-a-cloud-service.md).</span></span>

   > [!NOTE]
   > <span data-ttu-id="67cde-188">您也可以從 Azure 專案發佈 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="67cde-188">You can also publish the web application from the Azure project.</span></span> <span data-ttu-id="67cde-189">若要這麼做，請開啟 Azure 專案的捷徑功能表，然後選擇 [發佈] 。</span><span class="sxs-lookup"><span data-stu-id="67cde-189">To do this, open the shortcut menu for the Azure project and choose **Publish**.</span></span>
   >
   >
4. <span data-ttu-id="67cde-190">若要查看部署進度，您可以檢視 [Azure 活動記錄檔]  視窗。</span><span class="sxs-lookup"><span data-stu-id="67cde-190">To see the progress of the deployment, you can view the **Azure Activity Log** window.</span></span> <span data-ttu-id="67cde-191">部署程序開始時會自動顯示這個記錄檔。</span><span class="sxs-lookup"><span data-stu-id="67cde-191">This log is automatically displayed when the deployment process starts.</span></span> <span data-ttu-id="67cde-192">您可以展開活動記錄檔中的細目以顯示詳細資訊，如下圖所示：</span><span class="sxs-lookup"><span data-stu-id="67cde-192">You can expand the line item in the activity log to show detailed information, as shown in the following illustration:</span></span>

    ![VST_AzureActivityLog](./media/vs-azure-tools-migrate-publish-web-app-to-cloud-service/IC744149.png)
5. <span data-ttu-id="67cde-194">(選用) 若要取消部署程序，請開啟活動記錄檔中該細目的捷徑功能表，然後選擇 [取消並移除] 。</span><span class="sxs-lookup"><span data-stu-id="67cde-194">(Optional) To cancel the deployment process, open the shortcut menu for the line item in the activity log and choose **Cancel and remove**.</span></span> <span data-ttu-id="67cde-195">這會停止部署程序，並從 Azure 中刪除部署環境。</span><span class="sxs-lookup"><span data-stu-id="67cde-195">This stops the deployment process and deletes the deployment environment from Azure.</span></span>

   > [!NOTE]
   > <span data-ttu-id="67cde-196">若要在部署此部署環境後將其移除，您必須使用 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)。</span><span class="sxs-lookup"><span data-stu-id="67cde-196">To remove this deployment environment after it has been deployed, you must use the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   >
   >
6. <span data-ttu-id="67cde-197">(選用) 角色執行個體啟動後，Visual Studio 會自動在 [雲端總管] 或 [伺服器總管] 的 [Azure 計算] 節點中顯示部署環境。</span><span class="sxs-lookup"><span data-stu-id="67cde-197">(Optional) After your role instances have started, Visual Studio automatically shows the deployment environment in the **Azure Compute** node in **Cloud Explorer** or **Server Explorer**.</span></span> <span data-ttu-id="67cde-198">您可以從這裡檢視個別角色執行個體的狀態。</span><span class="sxs-lookup"><span data-stu-id="67cde-198">From here you can view the status of the individual role instances.</span></span>

    <span data-ttu-id="67cde-199">下圖顯示 [伺服器總管]  中仍處於初始化狀態的角色執行個體：</span><span class="sxs-lookup"><span data-stu-id="67cde-199">The following illustration shows the role instances in **Server Explorer** while they are still in the Initializing state:</span></span>

    ![VST_DeployComputeNode](./media/vs-azure-tools-migrate-publish-web-app-to-cloud-service/IC744134.png)
7. <span data-ttu-id="67cde-201">若要在部署後存取應用程式，請在 [Azure 活動記錄檔] 中出現 [已完成] 狀態時，選擇部署旁邊的箭號。</span><span class="sxs-lookup"><span data-stu-id="67cde-201">To access your application after deployment, choose the arrow next to your deployment when a status of **Completed** appears in the **Azure Activity log**.</span></span> <span data-ttu-id="67cde-202">這會顯示 Web 應用程式在 Azure 中的 URL。</span><span class="sxs-lookup"><span data-stu-id="67cde-202">This displays the URL for your web application in Azure.</span></span> <span data-ttu-id="67cde-203">請參閱下表，以取得如何從 Azure 啟動特定類型的 Web 應用程式的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="67cde-203">See the following table for the details about how to start a specific type of web application from Azure.</span></span>

    <span data-ttu-id="67cde-204">下表所列內容詳述如何從 Azure 啟動特定 Web 應用程式，或如何使用 Azure 計算模擬器在本機執行或偵錯 Web 應用程式：</span><span class="sxs-lookup"><span data-stu-id="67cde-204">The following table lists the details about how to start specific web applications from Azure or to run or debug a web application locally using the Azure Compute Emulator:</span></span>

   | <span data-ttu-id="67cde-205">Web 應用程式類型</span><span class="sxs-lookup"><span data-stu-id="67cde-205">Web Application Type</span></span> | <span data-ttu-id="67cde-206">使用計算模擬器在本機執行/偵錯</span><span class="sxs-lookup"><span data-stu-id="67cde-206">Run/Debug Locally Using the Compute Emulator</span></span> | <span data-ttu-id="67cde-207">在 Azure 中執行</span><span class="sxs-lookup"><span data-stu-id="67cde-207">Running in Azure</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="67cde-208">ASP.NET Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-208">ASP.NET Web Application</span></span> |<span data-ttu-id="67cde-209">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-209">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-210">選擇 [Azure 活動記錄檔] 的 [部署] 索引標籤中顯示的 URL 超連結，以在瀏覽器中載入起始頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-210">Choose the URL hyperlink displayed in the **Deployment** tab for the **Azure Activity log** to load the start page in the browser.</span></span> |
   | <span data-ttu-id="67cde-211">ASP.NET MVC 2 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-211">ASP.NET MVC 2 Web Application</span></span> |<span data-ttu-id="67cde-212">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-212">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-213">選擇 [Azure 活動記錄檔] 的 [部署] 索引標籤中顯示的 URL 超連結，以在瀏覽器中載入起始頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-213">Choose the URL hyperlink displayed in the **Deployment** tab for the **Azure Activity log** to load the start page in the browser.</span></span> |
   | <span data-ttu-id="67cde-214">ASP.NET MVC 3 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-214">ASP.NET MVC 3 Web Application</span></span> |<span data-ttu-id="67cde-215">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-215">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-216">選擇 [Azure 活動記錄檔] 的 [部署] 索引標籤中顯示的 URL 超連結，以在瀏覽器中載入起始頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-216">Choose the URL hyperlink displayed in the **Deployment** tab for the **Azure Activity log** to load the start page in the browser.</span></span> |
   | <span data-ttu-id="67cde-217">ASP.NET MVC 4 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-217">ASP.NET MVC 4 Web Application</span></span> |<span data-ttu-id="67cde-218">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-218">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-219">選擇 [Azure 活動記錄檔] 的 [部署] 索引標籤中顯示的 URL 超連結，以在瀏覽器中載入起始頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-219">Choose the URL hyperlink displayed in the **Deployment** tab for the **Azure Activity log** to load the start page in the browser.</span></span> |
   | <span data-ttu-id="67cde-220">ASP.NET 空白 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-220">ASP.NET Empty Web Application</span></span> |<span data-ttu-id="67cde-221">您必須在應用程式中加入設定做為 Web 專案起始頁的 .aspx 網頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-221">You must add an .aspx page in your application that you set as the start page for your web project.</span></span> <span data-ttu-id="67cde-222">然後在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-222">Then on the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-223">如果應用程式中有預設的 .aspx 網頁，請選擇 [Azure 活動記錄檔] 的 [部署] 索引標籤中顯示的 URL 超連結，瀏覽器就會載入此網頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-223">If you have a default .aspx page in your application, choose the URL hyperlink displayed in the **Deployment** tab for the **Azure Activity log** and this page is loaded in the browser.</span></span> <span data-ttu-id="67cde-224">如果您有不同的 .aspx 網頁，則必須使用下列格式的 URL 來瀏覽到此特定網頁： `<url for deployment>/<name of page>.aspx`</span><span class="sxs-lookup"><span data-stu-id="67cde-224">If you have a different .aspx page, you need to navigate to this specific page using the following format for your url: `<url for deployment>/<name of page>.aspx`</span></span> |
   | <span data-ttu-id="67cde-225">Silverlight 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-225">Silverlight Application</span></span> |<span data-ttu-id="67cde-226">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-226">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-227">您必須使用下列格式的 URL 來瀏覽到應用程式的特定網頁： `<url for deployment>/<name of page>.aspx`</span><span class="sxs-lookup"><span data-stu-id="67cde-227">You need to navigate to the specific page for your application using the following format for your url: `<url for deployment>/<name of page>.aspx`</span></span> |
   | <span data-ttu-id="67cde-228">Silverlight 商務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-228">Silverlight Business Application</span></span> |<span data-ttu-id="67cde-229">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-229">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-230">您必須使用下列格式的 URL 來瀏覽到應用程式的特定網頁： `<url for deployment>/<name of page>.aspx`</span><span class="sxs-lookup"><span data-stu-id="67cde-230">You need to navigate to the specific page for your application using the following format for your url: `<url for deployment>/<name of page>.aspx`</span></span> |
   | <span data-ttu-id="67cde-231">Silverlight 瀏覽應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-231">Silverlight Navigation Application</span></span> |<span data-ttu-id="67cde-232">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-232">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-233">您必須使用下列格式的 URL 來瀏覽到應用程式的特定網頁：`<url for deployment>/<name of page>.aspx`</span><span class="sxs-lookup"><span data-stu-id="67cde-233">You need to navigate to the specific page for your application using the following format for your url:`<url for deployment>/<name of page>.aspx`</span></span> |
   | <span data-ttu-id="67cde-234">WCF 服務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-234">WCF Service Application</span></span> |<span data-ttu-id="67cde-235">您必須將 .svc 檔案設定做為 WCF 服務專案的起始頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-235">You must set the .svc file as the start page for your WCF Service project.</span></span> <span data-ttu-id="67cde-236">然後在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-236">Then on the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-237">您必須使用下列格式的 URL 來瀏覽到應用程式的 svc 檔案： `<url for deployment>/<name of service file>.svc`</span><span class="sxs-lookup"><span data-stu-id="67cde-237">You need to navigate to the svc file for your application using the following format for your url: `<url for deployment>/<name of service file>.svc`</span></span> |
   | <span data-ttu-id="67cde-238">WCF 工作流程服務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-238">WCF Workflow Service Application</span></span> |<span data-ttu-id="67cde-239">您必須將 .svc 檔案設定做為 WCF 服務專案的起始頁。</span><span class="sxs-lookup"><span data-stu-id="67cde-239">You must set the .svc file as the start page for your WCF Service project.</span></span> <span data-ttu-id="67cde-240">然後在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-240">Then on the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-241">您必須使用下列格式的 URL 來瀏覽到應用程式的 svc 檔案： `<url for deployment>/<name of service file>.svc`</span><span class="sxs-lookup"><span data-stu-id="67cde-241">You need to navigate to the svc file for your application using the following format for your url: `<url for deployment>/<name of service file>.svc`</span></span> |
   | <span data-ttu-id="67cde-242">ASP.NET 動態實體</span><span class="sxs-lookup"><span data-stu-id="67cde-242">ASP.NET Dynamic Entities</span></span> |<span data-ttu-id="67cde-243">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-243">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-244">您必須更新連接字串 (請參閱下一節)。</span><span class="sxs-lookup"><span data-stu-id="67cde-244">You must update the connection string (see next section).</span></span> <span data-ttu-id="67cde-245">您還必須使用下列格式的 URL 來瀏覽到應用程式的特定網頁： `<url for deployment>/<name of page>.aspx`</span><span class="sxs-lookup"><span data-stu-id="67cde-245">You also need to navigate to the specific page for your application using the following format for your url: `<url for deployment>/<name of page>.aspx`</span></span> |
   | <span data-ttu-id="67cde-246">ASP.NET 動態資料 Linq to SQL</span><span class="sxs-lookup"><span data-stu-id="67cde-246">ASP.NET Dynamic Data Linq to SQL</span></span> |<span data-ttu-id="67cde-247">在功能表列上，選擇 [偵錯]、[開始偵錯] \(鍵盤：選擇 **F5** 鍵)。</span><span class="sxs-lookup"><span data-stu-id="67cde-247">On the menu bar, choose **Debug**, **Start Debugging** (Keyboard: Choose the **F5** key.).</span></span> |<span data-ttu-id="67cde-248">您必須遵循以下程序中的步驟：將 SQL Azure 資料庫用於應用程式 (請參閱本主題前面的章節)。</span><span class="sxs-lookup"><span data-stu-id="67cde-248">You must follow the steps in this procedure: Use a SQL Azure database for your application (see earlier section in this topic).</span></span> <span data-ttu-id="67cde-249">您還必須使用下列格式的 URL 來瀏覽到應用程式的特定網頁： `<url for deployment>/<name of page>.aspx`</span><span class="sxs-lookup"><span data-stu-id="67cde-249">You also need to navigate to the specific page for your application using the following format for your url: `<url for deployment>/<name of page>.aspx`</span></span> |

## <a name="update-a-connection-string-for-aspnet-dynamic-entities"></a><span data-ttu-id="67cde-250">更新 ASP.NET 動態實體的連接字串</span><span class="sxs-lookup"><span data-stu-id="67cde-250">Update a Connection String for ASP.NET Dynamic Entities</span></span>
### <a name="to-update-a-connection-string-for-aspnet-dynamic-entities"></a><span data-ttu-id="67cde-251">更新 ASP.NET 動態實體的連接字串</span><span class="sxs-lookup"><span data-stu-id="67cde-251">To Update a Connection String for ASP.NET Dynamic Entities</span></span>
1. <span data-ttu-id="67cde-252">若要建立可用於 ASP.NET 動態實體 Web 應用程式的 SQL Azure 資料庫，請遵循本主題前面的＜將 SQL Azure 資料庫用於應用程式＞  程序的步驟。</span><span class="sxs-lookup"><span data-stu-id="67cde-252">To create a SQL Azure database that can be used for a ASP.NET Dynamic Entities web application, follow the steps in the procedure **Use a SQL Azure database for your application** earlier in this topic.</span></span>
2. <span data-ttu-id="67cde-253">從 [Azure 傳統入口網站](http://go.microsoft.com/fwlink/?LinkID=213885)新增此資料庫所需的資料表和欄位。</span><span class="sxs-lookup"><span data-stu-id="67cde-253">Add the tables and fields that you need for this database from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
3. <span data-ttu-id="67cde-254">在 web.config 檔案中，此類型應用程式的連接字串具有下列格式：</span><span class="sxs-lookup"><span data-stu-id="67cde-254">The connection string for this type of application has the following format in the web.config file:</span></span>  

    ```
    <addname="tempdbEntities"connectionString="metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=<server name>\SQLEXPRESS;initial catalog=<database name>;integrated security=True;multipleactiveresultsets=True;App=EntityFramework&quot;"providerName="System.Data.EntityClient"/>
    ```

    <span data-ttu-id="67cde-255">使用 SQL Azure 資料庫的 ADO.NET 連接字串更新 *connectionString* 值，如下所示：</span><span class="sxs-lookup"><span data-stu-id="67cde-255">Update the *connectionString* value with the ADO.NET connection string for your SQL Azure database as follows:</span></span>

    ```
    XMLCopy<addname="tempdbEntities"connectionString="metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SqlClient;provider connection string=&quot;Server=tcp:<SQL Azure server name>.database.windows.net,1433;Database=<database name>;User ID=<user name>;Password=<password>;Trusted_Connection=False;Encrypt=True;multipleactiveresultsets=True;App=EntityFramework&quot;"providerName="System.Data.EntityClient"/>
    ```
4. <span data-ttu-id="67cde-256">若要在 web.config 檔案中儲存您對連接字串所做的變更，請在功能表列上選擇 [檔案]、[儲存 web.config]。</span><span class="sxs-lookup"><span data-stu-id="67cde-256">To save the web.config file with the changes that you have made to the connection string, on the menu bar choose **File**, **Save web.config**.</span></span>

## <a name="supported-project-templates"></a><span data-ttu-id="67cde-257">支援的專案範本</span><span class="sxs-lookup"><span data-stu-id="67cde-257">Supported Project Templates</span></span>
<span data-ttu-id="67cde-258">若要將 Web 應用程式發佈至 Azure，應用程式必須使用下表所列 C# 或 Visual Basic 的其中一個專案範本。</span><span class="sxs-lookup"><span data-stu-id="67cde-258">To publish a web application to Azure, the application must use one of the project templates for C# or Visual Basic that is listed in the table below.</span></span>

| <span data-ttu-id="67cde-259">專案範本群組</span><span class="sxs-lookup"><span data-stu-id="67cde-259">Project Template Group</span></span> | <span data-ttu-id="67cde-260">專案範本</span><span class="sxs-lookup"><span data-stu-id="67cde-260">Project Template</span></span> |
| --- | --- |
| <span data-ttu-id="67cde-261">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-261">Web</span></span> |<span data-ttu-id="67cde-262">ASP.NET Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-262">ASP.NET Web Application</span></span> |
| <span data-ttu-id="67cde-263">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-263">Web</span></span> |<span data-ttu-id="67cde-264">ASP.NET MVC 2 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-264">ASP.NET MVC 2 Web Application</span></span> |
| <span data-ttu-id="67cde-265">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-265">Web</span></span> |<span data-ttu-id="67cde-266">ASP.NET MVC 3 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-266">ASP.NET MVC 3 Web Application</span></span> |
| <span data-ttu-id="67cde-267">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-267">Web</span></span> |<span data-ttu-id="67cde-268">ASP.NET MVC4 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-268">ASP.NET MVC4 Web Application</span></span> |
| <span data-ttu-id="67cde-269">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-269">Web</span></span> |<span data-ttu-id="67cde-270">ASP.NET 空白 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-270">ASP.NET Empty Web Application</span></span> |
| <span data-ttu-id="67cde-271">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-271">Web</span></span> |<span data-ttu-id="67cde-272">ASP.NET MVC 2 空白 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-272">ASP.NET MVC 2 Empty Web Application</span></span> |
| <span data-ttu-id="67cde-273">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-273">Web</span></span> |<span data-ttu-id="67cde-274">ASP.NET 動態資料實體 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-274">ASP.NET Dynamic Data Entities Web Application</span></span> |
| <span data-ttu-id="67cde-275">Web</span><span class="sxs-lookup"><span data-stu-id="67cde-275">Web</span></span> |<span data-ttu-id="67cde-276">ASP.NET 動態資料 Linq to SQL Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-276">ASP.NET Dynamic Data Linq to SQL Web Application</span></span> |
| <span data-ttu-id="67cde-277">Silverlight</span><span class="sxs-lookup"><span data-stu-id="67cde-277">Silverlight</span></span> |<span data-ttu-id="67cde-278">Silverlight 應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-278">Silverlight Application</span></span> |
| <span data-ttu-id="67cde-279">Silverlight</span><span class="sxs-lookup"><span data-stu-id="67cde-279">Silverlight</span></span> |<span data-ttu-id="67cde-280">Silverlight 商務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-280">Silverlight Business Application</span></span> |
| <span data-ttu-id="67cde-281">Silverlight</span><span class="sxs-lookup"><span data-stu-id="67cde-281">Silverlight</span></span> |<span data-ttu-id="67cde-282">Silverlight 瀏覽應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-282">Silverlight Navigation Application</span></span> |
| <span data-ttu-id="67cde-283">WCF</span><span class="sxs-lookup"><span data-stu-id="67cde-283">WCF</span></span> |<span data-ttu-id="67cde-284">WCF 服務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-284">WCF Service Application</span></span> |
| <span data-ttu-id="67cde-285">WCF</span><span class="sxs-lookup"><span data-stu-id="67cde-285">WCF</span></span> |<span data-ttu-id="67cde-286">WCF 工作流程服務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-286">WCF Workflow Service Application</span></span> |
| <span data-ttu-id="67cde-287">工作流程</span><span class="sxs-lookup"><span data-stu-id="67cde-287">Workflow</span></span> |<span data-ttu-id="67cde-288">WCF 工作流程服務應用程式</span><span class="sxs-lookup"><span data-stu-id="67cde-288">WCF Workflow Service Application</span></span> |

## <a name="next-steps"></a><span data-ttu-id="67cde-289">後續步驟</span><span class="sxs-lookup"><span data-stu-id="67cde-289">Next Steps</span></span>
<span data-ttu-id="67cde-290">如需有關發佈的詳細資訊，請參閱 [準備從 Visual Studio 發佈或部署 Azure 應用程式](vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="67cde-290">For more information on publishing, see [Prepare to Publish or Deploy an Azure Application from Visual Studio](vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio.md).</span></span> <span data-ttu-id="67cde-291">另請參閱 [設定具名的驗證認證](vs-azure-tools-setting-up-named-authentication-credentials.md)。</span><span class="sxs-lookup"><span data-stu-id="67cde-291">Also check out [Setting Up Named Authentication Credentials](vs-azure-tools-setting-up-named-authentication-credentials.md).</span></span>
