---
title: "aaaAzure Storage queues 和 Service Bus 佇列-比較和對比 |Microsoft 文件"
description: "分析 Azure 所提供之兩種佇列類型之間的差異和相似性。"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: tysonn
ms.assetid: f07301dc-ca9b-465c-bd5b-a0f99bab606b
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/07/2017
ms.author: sethm
ms.openlocfilehash: f8b915e73ea3c82d823a96bf23c8c9e24c96aa42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="storage-queues-and-service-bus-queues---compared-and-contrasted"></a><span data-ttu-id="6ab81-103">儲存體佇列和服務匯流排佇列 - 異同比較</span><span class="sxs-lookup"><span data-stu-id="6ab81-103">Storage queues and Service Bus queues - compared and contrasted</span></span>
<span data-ttu-id="6ab81-104">本文將分析 hello 兩個 Microsoft Azure 目前所提供的佇列類型之間 hello 差異和相似性： 儲存體佇列和服務匯流排佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-104">This article analyzes hello differences and similarities between hello two types of queues offered by Microsoft Azure today: Storage queues and Service Bus queues.</span></span> <span data-ttu-id="6ab81-105">使用這項資訊，您可以比較和對比 hello 各項技術，是無法 toomake 更明智的決定哪一種最佳的解決方案需符合您的需求。</span><span class="sxs-lookup"><span data-stu-id="6ab81-105">By using this information, you can compare and contrast hello respective technologies and be able toomake a more informed decision about which solution best meets your needs.</span></span>

## <a name="introduction"></a><span data-ttu-id="6ab81-106">簡介</span><span class="sxs-lookup"><span data-stu-id="6ab81-106">Introduction</span></span>
<span data-ttu-id="6ab81-107">Azure 支援兩種佇列機制：**儲存體佇列**和**服務匯流排佇列**。</span><span class="sxs-lookup"><span data-stu-id="6ab81-107">Azure supports two types of queue mechanisms: **Storage queues** and **Service Bus queues**.</span></span>

<span data-ttu-id="6ab81-108">**儲存體佇列**，這屬於 hello [Azure 儲存體](https://azure.microsoft.com/services/storage/)基礎結構功能的簡單的 REST 架構 GET/PUT/PEEK 介面，提供可靠且持續的傳訊內部及服務之間。</span><span class="sxs-lookup"><span data-stu-id="6ab81-108">**Storage queues**, which are part of hello [Azure storage](https://azure.microsoft.com/services/storage/) infrastructure, feature a simple REST-based GET/PUT/PEEK interface, providing reliable, persistent messaging within and between services.</span></span>

<span data-ttu-id="6ab81-109">**服務匯流排佇列**是較廣泛 [Azure 傳訊](https://azure.microsoft.com/services/service-bus/)基礎結構的一部分，支援佇列處理和發佈/訂閱，以及更進階的整合模式。</span><span class="sxs-lookup"><span data-stu-id="6ab81-109">**Service Bus queues** are part of a broader [Azure messaging](https://azure.microsoft.com/services/service-bus/) infrastructure that supports queuing as well as publish/subscribe, and more advanced integration patterns.</span></span> <span data-ttu-id="6ab81-110">如需有關 Service Bus 佇列/主題/訂閱的詳細資訊，請參閱 hello[的服務匯流排概觀](service-bus-messaging-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-110">For more information about Service Bus queues/topics/subscriptions, see hello [overview of Service Bus](service-bus-messaging-overview.md).</span></span>

<span data-ttu-id="6ab81-111">雖然這兩種佇列技術同時存在，不過儲存體佇列較早引進，作為建置在 Azure 儲存體服務之上的專用佇列儲存體機制。</span><span class="sxs-lookup"><span data-stu-id="6ab81-111">While both queuing technologies exist concurrently, Storage queues were introduced first, as a dedicated queue storage mechanism built on top of Azure Storage services.</span></span> <span data-ttu-id="6ab81-112">服務匯流排佇列建立在更廣泛的 「 訊息 」 基礎結構設計 toointegrate 應用程式或應用程式元件，可能會跨越多個通訊協定、 資料合約、 信任網域及/或網路環境的 hello 之上。</span><span class="sxs-lookup"><span data-stu-id="6ab81-112">Service Bus queues are built on top of hello broader "messaging" infrastructure designed toointegrate applications or application components that may span multiple communication protocols, data contracts, trust domains, and/or network environments.</span></span>

## <a name="technology-selection-considerations"></a><span data-ttu-id="6ab81-113">技術選擇考量</span><span class="sxs-lookup"><span data-stu-id="6ab81-113">Technology selection considerations</span></span>
<span data-ttu-id="6ab81-114">儲存體佇列和服務匯流排佇列是 hello 訊息佇列服務目前在 Microsoft Azure 提供的實作。</span><span class="sxs-lookup"><span data-stu-id="6ab81-114">Both Storage queues and Service Bus queues are implementations of hello message queuing service currently offered on Microsoft Azure.</span></span> <span data-ttu-id="6ab81-115">每個具有稍有不同的功能集，這表示您可以選擇其中一個或 hello，或兩者都使用，根據特定的方案或解決您的商務/技術問題的 hello 需求而定。</span><span class="sxs-lookup"><span data-stu-id="6ab81-115">Each has a slightly different feature set, which means you can choose one or hello other, or use both, depending on hello needs of your particular solution or business/technical problem you are solving.</span></span>

<span data-ttu-id="6ab81-116">在決定哪一種佇列技術適合給定方案的 hello 目的時，方案架構設計人員和開發人員應該考慮下列 hello 建議。</span><span class="sxs-lookup"><span data-stu-id="6ab81-116">When determining which queuing technology fits hello purpose for a given solution, solution architects and developers should consider hello recommendations below.</span></span> <span data-ttu-id="6ab81-117">如需詳細資訊，請參閱 hello 下一節。</span><span class="sxs-lookup"><span data-stu-id="6ab81-117">For more details, see hello next section.</span></span>

<span data-ttu-id="6ab81-118">身為方案架構設計人員/開發人員，您應該在下列情況下**考慮使用儲存體佇列**：</span><span class="sxs-lookup"><span data-stu-id="6ab81-118">As a solution architect/developer, **you should consider using Storage queues** when:</span></span>

* <span data-ttu-id="6ab81-119">您的應用程式必須儲存超過 80 GB 的訊息在佇列中，其中 hello 訊息的存留期短於 7 天。</span><span class="sxs-lookup"><span data-stu-id="6ab81-119">Your application must store over 80 GB of messages in a queue, where hello messages have a lifetime shorter than 7 days.</span></span>
* <span data-ttu-id="6ab81-120">您的應用程式處理 hello 佇列內訊息想 tootrack 進度。</span><span class="sxs-lookup"><span data-stu-id="6ab81-120">Your application wants tootrack progress for processing a message inside of hello queue.</span></span> <span data-ttu-id="6ab81-121">這是適用於處理訊息的 hello 工作者當機。</span><span class="sxs-lookup"><span data-stu-id="6ab81-121">This is useful if hello worker processing a message crashes.</span></span> <span data-ttu-id="6ab81-122">後續工作者可以接著會使用該資訊 toocontinue，從 hello 先前工作者停止的地方。</span><span class="sxs-lookup"><span data-stu-id="6ab81-122">A subsequent worker can then use that information toocontinue from where hello prior worker left off.</span></span>
* <span data-ttu-id="6ab81-123">您需要伺服器端記錄所有 hello 針對佇列執行的交易。</span><span class="sxs-lookup"><span data-stu-id="6ab81-123">You require server side logs of all of hello transactions executed against your queues.</span></span>

<span data-ttu-id="6ab81-124">身為方案架構設計人員/開發人員，您應該在下列情況下**考慮使用服務匯流排佇列**：</span><span class="sxs-lookup"><span data-stu-id="6ab81-124">As a solution architect/developer, **you should consider using Service Bus queues** when:</span></span>

* <span data-ttu-id="6ab81-125">您的方案必須能夠 tooreceive 而不需要 toopoll hello 佇列的訊息。</span><span class="sxs-lookup"><span data-stu-id="6ab81-125">Your solution must be able tooreceive messages without having toopoll hello queue.</span></span> <span data-ttu-id="6ab81-126">使用服務匯流排，這可以透過 hello 使用 hello 長時間輪詢接收作業使用 hello 以 TCP 為基礎的通訊協定服務匯流排支援。</span><span class="sxs-lookup"><span data-stu-id="6ab81-126">With Service Bus, this can be achieved through hello use of hello long-polling receive operation using hello TCP-based protocols that Service Bus supports.</span></span>
* <span data-ttu-id="6ab81-127">您的方案需要 hello 佇列 tooprovide 保證第一個在-後進先出 (FIFO) 排序的傳遞。</span><span class="sxs-lookup"><span data-stu-id="6ab81-127">Your solution requires hello queue tooprovide a guaranteed first-in-first-out (FIFO) ordered delivery.</span></span>
* <span data-ttu-id="6ab81-128">您想要在 Azure 中和在 Windows Server (私人雲端) 上有相稱體驗。</span><span class="sxs-lookup"><span data-stu-id="6ab81-128">You want a symmetric experience in Azure and on Windows Server (private cloud).</span></span> <span data-ttu-id="6ab81-129">如需詳細資訊，請參閱 [Windows Server 的服務匯流排](https://msdn.microsoft.com/library/dn282144.aspx)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-129">For more information, see [Service Bus for Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span></span>
* <span data-ttu-id="6ab81-130">您的方案必須能夠 toosupport 自動重複偵測。</span><span class="sxs-lookup"><span data-stu-id="6ab81-130">Your solution must be able toosupport automatic duplicate detection.</span></span>
* <span data-ttu-id="6ab81-131">您想要以平行的長時間執行資料流您應用程式 tooprocess 訊息 (訊息會與使用 hello 以資料流相關聯[SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) hello 訊息上的屬性)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-131">You want your application tooprocess messages as parallel long-running streams (messages are associated with a stream using hello [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on hello message).</span></span> <span data-ttu-id="6ab81-132">在此模型中，hello 取用應用程式的每個節點競爭資料流，做為相對於 toomessages。</span><span class="sxs-lookup"><span data-stu-id="6ab81-132">In this model, each node in hello consuming application competes for streams, as opposed toomessages.</span></span> <span data-ttu-id="6ab81-133">當資料流提供 tooa 耗用節點時，hello 節點可以檢查 hello hello 使用交易的應用程式資料流狀態的狀態。</span><span class="sxs-lookup"><span data-stu-id="6ab81-133">When a stream is given tooa consuming node, hello node can examine hello state of hello application stream state using transactions.</span></span>
* <span data-ttu-id="6ab81-134">從佇列傳送或接收多個訊息時，您的方案需要交易行為和不可部分完成性。</span><span class="sxs-lookup"><span data-stu-id="6ab81-134">Your solution requires transactional behavior and atomicity when sending or receiving multiple messages from a queue.</span></span>
* <span data-ttu-id="6ab81-135">hello 應用程式特定工作負載的 hello 存留時間 (TTL) 特性可能會超過 hello 7 天的期限。</span><span class="sxs-lookup"><span data-stu-id="6ab81-135">hello time-to-live (TTL) characteristic of hello application-specific workload can exceed hello 7-day period.</span></span>
* <span data-ttu-id="6ab81-136">您的應用程式會處理訊息可能會超過 64 KB，但將不太可能會接近 hello 256 KB 的限制。</span><span class="sxs-lookup"><span data-stu-id="6ab81-136">Your application handles messages that can exceed 64 KB but will not likely approach hello 256 KB limit.</span></span>
* <span data-ttu-id="6ab81-137">在處理需求 tooprovide 角色型存取模型 toohello 佇列，以及不同的權限的傳送者和接收者。</span><span class="sxs-lookup"><span data-stu-id="6ab81-137">You deal with a requirement tooprovide a role-based access model toohello queues, and different rights/permissions for senders and receivers.</span></span>
* <span data-ttu-id="6ab81-138">您的佇列大小不會成長超過 80 GB。</span><span class="sxs-lookup"><span data-stu-id="6ab81-138">Your queue size will not grow larger than 80 GB.</span></span>
* <span data-ttu-id="6ab81-139">您想 toouse hello AMQP 1.0 標準型訊息通訊協定。</span><span class="sxs-lookup"><span data-stu-id="6ab81-139">You want toouse hello AMQP 1.0 standards-based messaging protocol.</span></span> <span data-ttu-id="6ab81-140">如需 AMQP 的詳細資訊，請參閱[服務匯流排 AMQP 概觀](service-bus-amqp-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-140">For more information about AMQP, see [Service Bus AMQP Overview](service-bus-amqp-overview.md).</span></span>
* <span data-ttu-id="6ab81-141">您可以想像方式與從佇列架構的點對點通訊 tooa 訊息交換模式，可讓緊密整合其他接收者 （訂戶），其中每個收到的部分或所有的獨立複本最終移轉toohello 佇列傳送訊息。</span><span class="sxs-lookup"><span data-stu-id="6ab81-141">You can envision an eventual migration from queue-based point-to-point communication tooa message exchange pattern that enables seamless integration of additional receivers (subscribers), each of which receives independent copies of either some or all messages sent toohello queue.</span></span> <span data-ttu-id="6ab81-142">hello 後者是指 Service Bus 原本提供的 toohello 發佈/訂閱功能。</span><span class="sxs-lookup"><span data-stu-id="6ab81-142">hello latter refers toohello publish/subscribe capability natively provided by Service Bus.</span></span>
* <span data-ttu-id="6ab81-143">您的訊息方案必須能夠 toosupport hello 」 在大部分-一次 」 傳遞保證，而 hello 需要在您 toobuild hello 其他基礎結構元件。</span><span class="sxs-lookup"><span data-stu-id="6ab81-143">Your messaging solution must be able toosupport hello "At-Most-Once" delivery guarantee without hello need for you toobuild hello additional infrastructure components.</span></span>
* <span data-ttu-id="6ab81-144">您可以像是 toobe 無法 toopublish 和取用訊息批次。</span><span class="sxs-lookup"><span data-stu-id="6ab81-144">You would like toobe able toopublish and consume batches of messages.</span></span>

## <a name="comparing-storage-queues-and-service-bus-queues"></a><span data-ttu-id="6ab81-145">比較儲存體佇列和服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-145">Comparing Storage queues and Service Bus queues</span></span>
<span data-ttu-id="6ab81-146">hello 下列各節中的 hello 資料表提供佇列功能的邏輯群組，並可讓您一眼比較可用的儲存體佇列和服務匯流排佇列的 hello 功能。</span><span class="sxs-lookup"><span data-stu-id="6ab81-146">hello tables in hello following sections provide a logical grouping of queue features and let you compare, at a glance, hello capabilities available in both Storage queues and Service Bus queues.</span></span>

## <a name="foundational-capabilities"></a><span data-ttu-id="6ab81-147">基本功能</span><span class="sxs-lookup"><span data-stu-id="6ab81-147">Foundational capabilities</span></span>
<span data-ttu-id="6ab81-148">本節將比較的一些基本 hello 提供儲存體佇列和服務匯流排佇列的佇列功能。</span><span class="sxs-lookup"><span data-stu-id="6ab81-148">This section compares some of hello fundamental queuing capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6ab81-149">比較準則</span><span class="sxs-lookup"><span data-stu-id="6ab81-149">Comparison Criteria</span></span> | <span data-ttu-id="6ab81-150">儲存體佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-150">Storage queues</span></span> | <span data-ttu-id="6ab81-151">服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-151">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6ab81-152">排序保證</span><span class="sxs-lookup"><span data-stu-id="6ab81-152">Ordering guarantee</span></span> |<span data-ttu-id="6ab81-153">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-153">**No**</span></span> <br/><br><span data-ttu-id="6ab81-154">如需詳細資訊，請參閱 hello hello < 其他資訊 > 一節中的第一個附註。</span><span class="sxs-lookup"><span data-stu-id="6ab81-154">For more information, see hello first note in hello “Additional Information” section.</span></span></br> |<span data-ttu-id="6ab81-155">**是 - 先進先出 (FIFO)**</span><span class="sxs-lookup"><span data-stu-id="6ab81-155">**Yes - First-In-First-Out (FIFO)**</span></span><br/><br><span data-ttu-id="6ab81-156">（透過使用 hello 訊息工作階段）</span><span class="sxs-lookup"><span data-stu-id="6ab81-156">(through hello use of messaging sessions)</span></span> |
| <span data-ttu-id="6ab81-157">傳遞保證</span><span class="sxs-lookup"><span data-stu-id="6ab81-157">Delivery guarantee</span></span> |<span data-ttu-id="6ab81-158">**至少一次**</span><span class="sxs-lookup"><span data-stu-id="6ab81-158">**At-Least-Once**</span></span> |<span data-ttu-id="6ab81-159">**至少一次**</span><span class="sxs-lookup"><span data-stu-id="6ab81-159">**At-Least-Once**</span></span><br/><br/><span data-ttu-id="6ab81-160">**最多一次**</span><span class="sxs-lookup"><span data-stu-id="6ab81-160">**At-Most-Once**</span></span> |
| <span data-ttu-id="6ab81-161">不可部分完成作業支援</span><span class="sxs-lookup"><span data-stu-id="6ab81-161">Atomic operation support</span></span> |<span data-ttu-id="6ab81-162">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-162">**No**</span></span> |<span data-ttu-id="6ab81-163">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-163">**Yes**</span></span><br/><br/> |
| <span data-ttu-id="6ab81-164">接收行為</span><span class="sxs-lookup"><span data-stu-id="6ab81-164">Receive behavior</span></span> |<span data-ttu-id="6ab81-165">**非封鎖**</span><span class="sxs-lookup"><span data-stu-id="6ab81-165">**Non-blocking**</span></span><br/><br/><span data-ttu-id="6ab81-166">(如果找不到新的訊息，便立即完成)</span><span class="sxs-lookup"><span data-stu-id="6ab81-166">(completes immediately if no new message is found)</span></span> |<span data-ttu-id="6ab81-167">**含/不含逾時的封鎖**</span><span class="sxs-lookup"><span data-stu-id="6ab81-167">**Blocking with/without timeout**</span></span><br/><br/><span data-ttu-id="6ab81-168">(提供長期輪詢，或使用 hello ["Comet 技術"](http://go.microsoft.com/fwlink/?LinkId=613759))</span><span class="sxs-lookup"><span data-stu-id="6ab81-168">(offers long polling, or hello ["Comet technique"](http://go.microsoft.com/fwlink/?LinkId=613759))</span></span><br/><br/><span data-ttu-id="6ab81-169">**非封鎖**</span><span class="sxs-lookup"><span data-stu-id="6ab81-169">**Non-blocking**</span></span><br/><br/><span data-ttu-id="6ab81-170">(透過 hello 使用.NET API 僅限 managed)</span><span class="sxs-lookup"><span data-stu-id="6ab81-170">(through hello use of .NET managed API only)</span></span> |
| <span data-ttu-id="6ab81-171">推送型 API</span><span class="sxs-lookup"><span data-stu-id="6ab81-171">Push-style API</span></span> |<span data-ttu-id="6ab81-172">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-172">**No**</span></span> |<span data-ttu-id="6ab81-173">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-173">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-174">[OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) 和 **OnMessage** 工作階段的 .NET API。</span><span class="sxs-lookup"><span data-stu-id="6ab81-174">[OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) and **OnMessage** sessions .NET API.</span></span> |
| <span data-ttu-id="6ab81-175">接收模式</span><span class="sxs-lookup"><span data-stu-id="6ab81-175">Receive mode</span></span> |<span data-ttu-id="6ab81-176">**查看與租用**</span><span class="sxs-lookup"><span data-stu-id="6ab81-176">**Peek & Lease**</span></span> |<span data-ttu-id="6ab81-177">**查看與鎖定**</span><span class="sxs-lookup"><span data-stu-id="6ab81-177">**Peek & Lock**</span></span><br/><br/><span data-ttu-id="6ab81-178">**接收與刪除**</span><span class="sxs-lookup"><span data-stu-id="6ab81-178">**Receive & Delete**</span></span> |
| <span data-ttu-id="6ab81-179">獨佔存取模式</span><span class="sxs-lookup"><span data-stu-id="6ab81-179">Exclusive access mode</span></span> |<span data-ttu-id="6ab81-180">**以租用為基礎**</span><span class="sxs-lookup"><span data-stu-id="6ab81-180">**Lease-based**</span></span> |<span data-ttu-id="6ab81-181">**以鎖定為基礎**</span><span class="sxs-lookup"><span data-stu-id="6ab81-181">**Lock-based**</span></span> |
| <span data-ttu-id="6ab81-182">租用/鎖定持續時間</span><span class="sxs-lookup"><span data-stu-id="6ab81-182">Lease/Lock duration</span></span> |<span data-ttu-id="6ab81-183">**30 秒 (預設值)**</span><span class="sxs-lookup"><span data-stu-id="6ab81-183">**30 seconds (default)**</span></span><br/><br/><span data-ttu-id="6ab81-184">**7 天 （上限）** (您可以更新或釋放訊息租用使用 hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API。)</span><span class="sxs-lookup"><span data-stu-id="6ab81-184">**7 days (maximum)** (You can renew or release a message lease using hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span></span> |<span data-ttu-id="6ab81-185">**60 秒 (預設值)**</span><span class="sxs-lookup"><span data-stu-id="6ab81-185">**60 seconds (default)**</span></span><br/><br/><span data-ttu-id="6ab81-186">您可以更新訊息鎖定使用 hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock)應用程式開發介面。</span><span class="sxs-lookup"><span data-stu-id="6ab81-186">You can renew a message lock using hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.</span></span> |
| <span data-ttu-id="6ab81-187">租用/鎖定精確度</span><span class="sxs-lookup"><span data-stu-id="6ab81-187">Lease/Lock precision</span></span> |<span data-ttu-id="6ab81-188">**訊息層級**</span><span class="sxs-lookup"><span data-stu-id="6ab81-188">**Message level**</span></span><br/><br/><span data-ttu-id="6ab81-189">(每個訊息可以有不同的逾時值，然後您可以更新視處理 hello 訊息時，使用 hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx)應用程式開發介面)</span><span class="sxs-lookup"><span data-stu-id="6ab81-189">(each message can have a different timeout value, which you can then update as needed while processing hello message, by using hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span></span> |<span data-ttu-id="6ab81-190">**佇列層級**</span><span class="sxs-lookup"><span data-stu-id="6ab81-190">**Queue level**</span></span><br/><br/><span data-ttu-id="6ab81-191">(每個佇列有鎖定套用的有效位數 tooall 的訊息，但您可以更新使用 hello hello 鎖定[RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API。)</span><span class="sxs-lookup"><span data-stu-id="6ab81-191">(each queue has a lock precision applied tooall of its messages, but you can renew hello lock using hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.)</span></span> |
| <span data-ttu-id="6ab81-192">批次接收</span><span class="sxs-lookup"><span data-stu-id="6ab81-192">Batched receive</span></span> |<span data-ttu-id="6ab81-193">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-193">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-194">（明確指定訊息計數擷取訊息，向上 tooa 最多 32 個訊息時）</span><span class="sxs-lookup"><span data-stu-id="6ab81-194">(explicitly specifying message count when retrieving messages, up tooa maximum of 32 messages)</span></span> |<span data-ttu-id="6ab81-195">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-195">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-196">（隱含啟用預先提取屬性或明確地透過 hello 使用的交易）</span><span class="sxs-lookup"><span data-stu-id="6ab81-196">(implicitly enabling a pre-fetch property or explicitly through hello use of transactions)</span></span> |
| <span data-ttu-id="6ab81-197">批次傳送</span><span class="sxs-lookup"><span data-stu-id="6ab81-197">Batched send</span></span> |<span data-ttu-id="6ab81-198">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-198">**No**</span></span> |<span data-ttu-id="6ab81-199">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-199">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-200">（透過 hello 使用的交易或用戶端批次處理）</span><span class="sxs-lookup"><span data-stu-id="6ab81-200">(through hello use of transactions or client-side batching)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6ab81-201">其他資訊</span><span class="sxs-lookup"><span data-stu-id="6ab81-201">Additional information</span></span>
* <span data-ttu-id="6ab81-202">儲存體佇列中的訊息通常是先進先出，但有時也不按順序；舉例來說，訊息的可視性逾時期限到期時 (例如，由於處理期間用戶端應用程式損毀所致)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-202">Messages in Storage queues are typically first-in-first-out, but sometimes they can be out of order; for example, when a message's visibility timeout duration expires (for example, as a result of a client application crashing during processing).</span></span> <span data-ttu-id="6ab81-203">Hello 訊息 hello 可見度逾時過期時，隨即顯示在另一個工作者 toodequeue hello 佇列上再次它。</span><span class="sxs-lookup"><span data-stu-id="6ab81-203">When hello visibility timeout expires, hello message becomes visible again on hello queue for another worker toodequeue it.</span></span> <span data-ttu-id="6ab81-204">此時，hello 最新出現的訊息可能會由於置放 hello 佇列中 （toobe 再度） 之後原本之後加入佇列的訊息。</span><span class="sxs-lookup"><span data-stu-id="6ab81-204">At that point, hello newly visible message might be placed in hello queue (toobe dequeued again) after a message that was originally enqueued after it.</span></span>
* <span data-ttu-id="6ab81-205">hello 保證服務匯流排佇列中的 FIFO 模式需要 hello 傳訊工作階段使用。</span><span class="sxs-lookup"><span data-stu-id="6ab81-205">hello guaranteed FIFO pattern in Service Bus queues requires hello use of messaging sessions.</span></span> <span data-ttu-id="6ab81-206">在 hello hello 應用程式的事件損毀時處理 hello 中接收的訊息**查看 （& s) 鎖定**模式、 hello 下一次佇列接收者接受訊息工作階段時，它會開始與 hello 失敗訊息之後其存留時間 (TTL) 期限到期。</span><span class="sxs-lookup"><span data-stu-id="6ab81-206">In hello event that hello application crashes while processing a message received in hello **Peek & Lock** mode, hello next time a queue receiver accepts a messaging session, it will start with hello failed message after its time-to-live (TTL) period expires.</span></span>
* <span data-ttu-id="6ab81-207">儲存體佇列是設計的 toosupport 標準佇列案例，例如分離應用程式元件 tooincrease 延展性及容錯能力、 進行負載均衡，以及建置程序工作流程。</span><span class="sxs-lookup"><span data-stu-id="6ab81-207">Storage queues are designed toosupport standard queuing scenarios, such as decoupling application components tooincrease scalability and tolerance for failures, load leveling, and building process workflows.</span></span>
* <span data-ttu-id="6ab81-208">服務匯流排佇列支援 hello*在-至少一次*傳遞保證。</span><span class="sxs-lookup"><span data-stu-id="6ab81-208">Service Bus queues support hello *At-Least-Once* delivery guarantee.</span></span> <span data-ttu-id="6ab81-209">此外，hello*大部分-次*語意可支援使用工作階段狀態 toostore hello 應用程式狀態和使用交易 tooatomically 接收訊息並更新 hello 工作階段狀態。</span><span class="sxs-lookup"><span data-stu-id="6ab81-209">In addition, hello *At-Most-Once* semantic can be supported by using session state toostore hello application state and by using transactions tooatomically receive messages and update hello session state.</span></span>
* <span data-ttu-id="6ab81-210">儲存體佇列提供跨佇列、資料表和 BLOB 之統一且一致的程式設計模型，適合開發人員和營運團隊使用。</span><span class="sxs-lookup"><span data-stu-id="6ab81-210">Storage queues provide a uniform and consistent programming model across queues, tables, and BLOBs – both for developers and for operations teams.</span></span>
* <span data-ttu-id="6ab81-211">服務匯流排佇列 hello 內容中的單一佇列的本機交易提供支援。</span><span class="sxs-lookup"><span data-stu-id="6ab81-211">Service Bus queues provide support for local transactions in hello context of a single queue.</span></span>
* <span data-ttu-id="6ab81-212">hello**接收和刪除**Service Bus 所支援的模式提供 hello 能力 tooreduce hello 訊息作業計數 （以及相關聯的成本），但是也會降低的傳遞保證。</span><span class="sxs-lookup"><span data-stu-id="6ab81-212">hello **Receive and Delete** mode supported by Service Bus provides hello ability tooreduce hello messaging operation count (and associated cost) in exchange for lowered delivery assurance.</span></span>
* <span data-ttu-id="6ab81-213">儲存體佇列訊息提供 hello 能力 tooextend hello 租用的租用。</span><span class="sxs-lookup"><span data-stu-id="6ab81-213">Storage queues provide leases with hello ability tooextend hello leases for messages.</span></span> <span data-ttu-id="6ab81-214">這可讓 hello 工作者 toomaintain 簡短租用在訊息上。</span><span class="sxs-lookup"><span data-stu-id="6ab81-214">This allows hello workers toomaintain short leases on messages.</span></span> <span data-ttu-id="6ab81-215">因此，如果某個工作者當機，hello 訊息就可以快速處理一次由另一個工作者。</span><span class="sxs-lookup"><span data-stu-id="6ab81-215">Thus, if a worker crashes, hello message can be quickly processed again by another worker.</span></span> <span data-ttu-id="6ab81-216">此外，背景工作可以擴充 hello 訊息租用，如果需要的 tooprocess 它超過 hello 目前租用的時間。</span><span class="sxs-lookup"><span data-stu-id="6ab81-216">In addition, a worker can extend hello lease on a message if it needs tooprocess it longer than hello current lease time.</span></span>
* <span data-ttu-id="6ab81-217">儲存體佇列提供可見性逾時，您可以設定或取消佇列訊息的 hello 佇列時設定。</span><span class="sxs-lookup"><span data-stu-id="6ab81-217">Storage queues offer a visibility timeout that you can set upon hello enqueueing or dequeuing of a message.</span></span> <span data-ttu-id="6ab81-218">此外，您可以在執行階段使用不同的租用值來更新訊息和不同的更新值在訊息中 hello 相同佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-218">In addition, you can update a message with different lease values at run-time, and update different values across messages in hello same queue.</span></span> <span data-ttu-id="6ab81-219">服務匯流排鎖定逾時定義在 hello 佇列中繼資料。不過，您可以更新 hello 鎖定呼叫 hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock)方法。</span><span class="sxs-lookup"><span data-stu-id="6ab81-219">Service Bus lock timeouts are defined in hello queue metadata; however, you can renew hello lock by calling hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) method.</span></span>
* <span data-ttu-id="6ab81-220">封鎖接收作業在服務匯流排佇列 hello 最大逾時值是 24 天。</span><span class="sxs-lookup"><span data-stu-id="6ab81-220">hello maximum timeout for a blocking receive operation in Service Bus queues is 24 days.</span></span> <span data-ttu-id="6ab81-221">但是，REST 架構的最大逾時值為 55 秒。</span><span class="sxs-lookup"><span data-stu-id="6ab81-221">However, REST-based timeouts have a maximum value of 55 seconds.</span></span>
* <span data-ttu-id="6ab81-222">用戶端批次處理由提供服務匯流排可讓佇列用戶端 toobatch 多個訊息成單一傳送作業。</span><span class="sxs-lookup"><span data-stu-id="6ab81-222">Client-side batching provided by Service Bus enables a queue client toobatch multiple messages into a single send operation.</span></span> <span data-ttu-id="6ab81-223">批次處理僅適用於非同步傳送作業。</span><span class="sxs-lookup"><span data-stu-id="6ab81-223">Batching is only available for asynchronous send operations.</span></span>
* <span data-ttu-id="6ab81-224">Hello 200TB 上限的儲存體佇列 （當虛擬化帳戶時，此項會更多） 和無限的佇列等功能使得的理想平台 SaaS 提供者。</span><span class="sxs-lookup"><span data-stu-id="6ab81-224">Features such as hello 200 TB ceiling of Storage queues (more when you virtualize accounts) and unlimited queues make it an ideal platform for SaaS providers.</span></span>
* <span data-ttu-id="6ab81-225">儲存體佇列提供彈性、高效能的委派存取控制機制。</span><span class="sxs-lookup"><span data-stu-id="6ab81-225">Storage queues provide a flexible and performant delegated access control mechanism.</span></span>

## <a name="advanced-capabilities"></a><span data-ttu-id="6ab81-226">進階功能</span><span class="sxs-lookup"><span data-stu-id="6ab81-226">Advanced capabilities</span></span>
<span data-ttu-id="6ab81-227">本節將比較儲存體佇列和服務匯流排佇列所提供的進階功能。</span><span class="sxs-lookup"><span data-stu-id="6ab81-227">This section compares advanced capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6ab81-228">比較準則</span><span class="sxs-lookup"><span data-stu-id="6ab81-228">Comparison Criteria</span></span> | <span data-ttu-id="6ab81-229">儲存體佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-229">Storage queues</span></span> | <span data-ttu-id="6ab81-230">服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-230">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6ab81-231">排程傳遞</span><span class="sxs-lookup"><span data-stu-id="6ab81-231">Scheduled delivery</span></span> |<span data-ttu-id="6ab81-232">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-232">**Yes**</span></span> |<span data-ttu-id="6ab81-233">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-233">**Yes**</span></span> |
| <span data-ttu-id="6ab81-234">自動處理無效信件</span><span class="sxs-lookup"><span data-stu-id="6ab81-234">Automatic dead lettering</span></span> |<span data-ttu-id="6ab81-235">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-235">**No**</span></span> |<span data-ttu-id="6ab81-236">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-236">**Yes**</span></span> |
| <span data-ttu-id="6ab81-237">增加佇列存留時間值</span><span class="sxs-lookup"><span data-stu-id="6ab81-237">Increasing queue time-to-live value</span></span> |<span data-ttu-id="6ab81-238">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-238">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-239">(經由可視性逾時的就地更新)</span><span class="sxs-lookup"><span data-stu-id="6ab81-239">(via in-place update of visibility timeout)</span></span> |<span data-ttu-id="6ab81-240">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-240">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-241">(由專用 API 函式提供)</span><span class="sxs-lookup"><span data-stu-id="6ab81-241">(provided via a dedicated API function)</span></span> |
| <span data-ttu-id="6ab81-242">有害訊息支援</span><span class="sxs-lookup"><span data-stu-id="6ab81-242">Poison message support</span></span> |<span data-ttu-id="6ab81-243">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-243">**Yes**</span></span> |<span data-ttu-id="6ab81-244">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-244">**Yes**</span></span> |
| <span data-ttu-id="6ab81-245">就地更新</span><span class="sxs-lookup"><span data-stu-id="6ab81-245">In-place update</span></span> |<span data-ttu-id="6ab81-246">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-246">**Yes**</span></span> |<span data-ttu-id="6ab81-247">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-247">**Yes**</span></span> |
| <span data-ttu-id="6ab81-248">伺服器端交易記錄</span><span class="sxs-lookup"><span data-stu-id="6ab81-248">Server-side transaction log</span></span> |<span data-ttu-id="6ab81-249">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-249">**Yes**</span></span> |<span data-ttu-id="6ab81-250">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-250">**No**</span></span> |
| <span data-ttu-id="6ab81-251">儲存體度量</span><span class="sxs-lookup"><span data-stu-id="6ab81-251">Storage metrics</span></span> |<span data-ttu-id="6ab81-252">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-252">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-253">**分鐘度量**：提供可用性、TPS、API 呼叫計數、錯誤計數等即時度量，全都即時 (每分鐘彙總一次並在生產環境中發生狀況的短短數分鐘內回報)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-253">**Minute Metrics**: provides real-time metrics for availability, TPS, API call counts, error counts, and more, all in real time (aggregated per minute and reported within a few minutes from what just happened in production.</span></span> <span data-ttu-id="6ab81-254">如需詳細資訊，請參閱[關於儲存體分析度量](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-254">For more information, see [About Storage Analytics Metrics](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics).</span></span> |<span data-ttu-id="6ab81-255">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-255">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-256">(透過呼叫 [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues) 來進行大量查詢)</span><span class="sxs-lookup"><span data-stu-id="6ab81-256">(bulk queries by calling [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span></span> |
| <span data-ttu-id="6ab81-257">狀態管理</span><span class="sxs-lookup"><span data-stu-id="6ab81-257">State management</span></span> |<span data-ttu-id="6ab81-258">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-258">**No**</span></span> |<span data-ttu-id="6ab81-259">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-259">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active)、[Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled)、[Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled)、[Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span><span class="sxs-lookup"><span data-stu-id="6ab81-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span></span> |
| <span data-ttu-id="6ab81-261">訊息自動轉送</span><span class="sxs-lookup"><span data-stu-id="6ab81-261">Message auto-forwarding</span></span> |<span data-ttu-id="6ab81-262">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-262">**No**</span></span> |<span data-ttu-id="6ab81-263">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-263">**Yes**</span></span> |
| <span data-ttu-id="6ab81-264">清除佇列函式</span><span class="sxs-lookup"><span data-stu-id="6ab81-264">Purge queue function</span></span> |<span data-ttu-id="6ab81-265">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-265">**Yes**</span></span> |<span data-ttu-id="6ab81-266">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-266">**No**</span></span> |
| <span data-ttu-id="6ab81-267">訊息群組</span><span class="sxs-lookup"><span data-stu-id="6ab81-267">Message groups</span></span> |<span data-ttu-id="6ab81-268">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-268">**No**</span></span> |<span data-ttu-id="6ab81-269">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-269">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-270">（透過使用 hello 訊息工作階段）</span><span class="sxs-lookup"><span data-stu-id="6ab81-270">(through hello use of messaging sessions)</span></span> |
| <span data-ttu-id="6ab81-271">每個訊息群組的應用程式狀態</span><span class="sxs-lookup"><span data-stu-id="6ab81-271">Application state per message group</span></span> |<span data-ttu-id="6ab81-272">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-272">**No**</span></span> |<span data-ttu-id="6ab81-273">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-273">**Yes**</span></span> |
| <span data-ttu-id="6ab81-274">重複偵測</span><span class="sxs-lookup"><span data-stu-id="6ab81-274">Duplicate detection</span></span> |<span data-ttu-id="6ab81-275">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-275">**No**</span></span> |<span data-ttu-id="6ab81-276">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-276">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-277">（可在 hello 寄件者端設定）</span><span class="sxs-lookup"><span data-stu-id="6ab81-277">(configurable on hello sender side)</span></span> |
| <span data-ttu-id="6ab81-278">瀏覽訊息群組</span><span class="sxs-lookup"><span data-stu-id="6ab81-278">Browsing message groups</span></span> |<span data-ttu-id="6ab81-279">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-279">**No**</span></span> |<span data-ttu-id="6ab81-280">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-280">**Yes**</span></span> |
| <span data-ttu-id="6ab81-281">依 ID 擷取訊息工作階段</span><span class="sxs-lookup"><span data-stu-id="6ab81-281">Fetching message sessions by ID</span></span> |<span data-ttu-id="6ab81-282">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-282">**No**</span></span> |<span data-ttu-id="6ab81-283">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-283">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6ab81-284">其他資訊</span><span class="sxs-lookup"><span data-stu-id="6ab81-284">Additional information</span></span>
* <span data-ttu-id="6ab81-285">這兩種佇列技術可讓排程在稍後傳遞訊息 toobe。</span><span class="sxs-lookup"><span data-stu-id="6ab81-285">Both queuing technologies enable a message toobe scheduled for delivery at a later time.</span></span>
* <span data-ttu-id="6ab81-286">佇列自動轉送可讓數以千計的佇列 tooauto 轉送其訊息 tooa 單一佇列，從哪一個 hello 接收應用程式會使用 hello 訊息。</span><span class="sxs-lookup"><span data-stu-id="6ab81-286">Queue auto-forwarding enables thousands of queues tooauto-forward their messages tooa single queue, from which hello receiving application consumes hello message.</span></span> <span data-ttu-id="6ab81-287">您可以使用這個機制 tooachieve 安全性、 控制流程和每個訊息發行者之間隔離儲存區。</span><span class="sxs-lookup"><span data-stu-id="6ab81-287">You can use this mechanism tooachieve security, control flow, and isolate storage between each message publisher.</span></span>
* <span data-ttu-id="6ab81-288">儲存體佇列支援更新訊息內容。</span><span class="sxs-lookup"><span data-stu-id="6ab81-288">Storage queues provide support for updating message content.</span></span> <span data-ttu-id="6ab81-289">您可以使用這項功能的狀態資訊和累加進度更新保存至 hello 訊息，以便它可以從 hello 最後一個已知的檢查點，而不用從頭開始處理。</span><span class="sxs-lookup"><span data-stu-id="6ab81-289">You can use this functionality for persisting state information and incremental progress updates into hello message so that it can be processed from hello last known checkpoint, instead of starting from scratch.</span></span> <span data-ttu-id="6ab81-290">您可以使用服務匯流排佇列啟用 hello 透過 hello 訊息工作階段使用的相同案例。</span><span class="sxs-lookup"><span data-stu-id="6ab81-290">With Service Bus queues, you can enable hello same scenario through hello use of message sessions.</span></span> <span data-ttu-id="6ab81-291">工作階段 toosave 可讓您和擷取 hello 應用程式處理狀態 (使用[SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_)和[GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState))。</span><span class="sxs-lookup"><span data-stu-id="6ab81-291">Sessions enable you toosave and retrieve hello application processing state (by using [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) and [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).</span></span>
* <span data-ttu-id="6ab81-292">[無作用 lettering](service-bus-dead-letter-queues.md)，這是唯一支援的服務匯流排佇列，可用於隔離 hello 接收應用程式無法順利處理的訊息或 tooan 時無法送達目的地到期的訊息已過期存留時間 (TTL) 屬性。</span><span class="sxs-lookup"><span data-stu-id="6ab81-292">[Dead lettering](service-bus-dead-letter-queues.md), which is only supported by Service Bus queues, can be useful for isolating messages that cannot be processed successfully by hello receiving application or when messages cannot reach their destination due tooan expired time-to-live (TTL) property.</span></span> <span data-ttu-id="6ab81-293">hello TTL 值會指定訊息保留的時間長度 hello 佇列中。</span><span class="sxs-lookup"><span data-stu-id="6ab81-293">hello TTL value specifies how long a message remains in hello queue.</span></span> <span data-ttu-id="6ab81-294">使用服務匯流排 hello 訊息將會移動的 tooa hello TTL 期限到期時，呼叫 $DeadLetterQueue 的特殊佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-294">With Service Bus, hello message will be moved tooa special queue called $DeadLetterQueue when hello TTL period expires.</span></span>
* <span data-ttu-id="6ab81-295">在儲存體佇列，當取消佇列訊息 hello 應用程式會檢查 hello toofind 「 有害 」 訊息 **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)**  hello 訊息屬性。</span><span class="sxs-lookup"><span data-stu-id="6ab81-295">toofind "poison" messages in Storage queues, when dequeuing a message hello application examines hello **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)** property of hello message.</span></span> <span data-ttu-id="6ab81-296">如果**DequeueCount**大於給定的臨界值，hello 應用程式藉移動 hello 訊息 tooan 應用程式定義信件 」 佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-296">If **DequeueCount** is greater than a given threshold, hello application moves hello message tooan application-defined "dead letter" queue.</span></span>
* <span data-ttu-id="6ab81-297">儲存體佇列可讓您 tooobtain 所有 hello 交易的詳細資訊記錄 hello 佇列中，針對執行，以及彙總度量資訊。</span><span class="sxs-lookup"><span data-stu-id="6ab81-297">Storage queues enable you tooobtain a detailed log of all of hello transactions executed against hello queue, as well as aggregated metrics.</span></span> <span data-ttu-id="6ab81-298">這兩個選項有助於偵錯和了解應用程式的儲存體佇列使用狀況。</span><span class="sxs-lookup"><span data-stu-id="6ab81-298">Both of these options are useful for debugging and understanding how your application uses Storage queues.</span></span> <span data-ttu-id="6ab81-299">它們也是適用於效能微調您的應用程式，並降低使用佇列的 hello 成本。</span><span class="sxs-lookup"><span data-stu-id="6ab81-299">They are also useful for performance-tuning your application and reducing hello costs of using queues.</span></span>
* <span data-ttu-id="6ab81-300">「 訊息工作階段 」 支援的服務匯流排 hello 概念可讓屬於 tooa 訊息與給定的接收者，接著會建立訊息與其個別的接收者之間的類似工作階段親和性相關聯的特定邏輯群組 toobe。</span><span class="sxs-lookup"><span data-stu-id="6ab81-300">hello concept of "message sessions" supported by Service Bus enables messages that belong tooa certain logical group toobe associated with a given receiver, which in turn creates a session-like affinity between messages and their respective receivers.</span></span> <span data-ttu-id="6ab81-301">您可以啟用這項進階功能的服務匯流排所設定的 hello [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId)訊息上的屬性。</span><span class="sxs-lookup"><span data-stu-id="6ab81-301">You can enable this advanced functionality in Service Bus by setting hello [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on a message.</span></span> <span data-ttu-id="6ab81-302">接收者可以接聽特定的工作階段識別碼並接收共用指定的 hello 訊息工作階段識別項。</span><span class="sxs-lookup"><span data-stu-id="6ab81-302">Receivers can then listen on a specific session ID and receive messages that share hello specified session identifier.</span></span>
* <span data-ttu-id="6ab81-303">hello 重複偵測功能會自動支援的服務匯流排佇列中移除重複的訊息傳送 tooa 佇列或主題，根據 hello hello 值[MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId)屬性。</span><span class="sxs-lookup"><span data-stu-id="6ab81-303">hello duplication detection functionality supported by Service Bus queues automatically removes duplicate messages sent tooa queue or topic, based on hello value of hello [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) property.</span></span>

## <a name="capacity-and-quotas"></a><span data-ttu-id="6ab81-304">容量和配額</span><span class="sxs-lookup"><span data-stu-id="6ab81-304">Capacity and quotas</span></span>
<span data-ttu-id="6ab81-305">本節將比較 Storage queues 和 Service Bus 佇列的 hello 觀點[容量和配額](service-bus-quotas.md)，可能會套用。</span><span class="sxs-lookup"><span data-stu-id="6ab81-305">This section compares Storage queues and Service Bus queues from hello perspective of [capacity and quotas](service-bus-quotas.md) that may apply.</span></span>

| <span data-ttu-id="6ab81-306">比較準則</span><span class="sxs-lookup"><span data-stu-id="6ab81-306">Comparison Criteria</span></span> | <span data-ttu-id="6ab81-307">儲存體佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-307">Storage queues</span></span> | <span data-ttu-id="6ab81-308">服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-308">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6ab81-309">佇列大小上限</span><span class="sxs-lookup"><span data-stu-id="6ab81-309">Maximum queue size</span></span> |<span data-ttu-id="6ab81-310">**500 TB**</span><span class="sxs-lookup"><span data-stu-id="6ab81-310">**500 TB**</span></span><br/><br/><span data-ttu-id="6ab81-311">(有限的 tooa[單一儲存體帳戶容量](../storage/common/storage-introduction.md#queue-storage))</span><span class="sxs-lookup"><span data-stu-id="6ab81-311">(limited tooa [single storage account capacity](../storage/common/storage-introduction.md#queue-storage))</span></span> |<span data-ttu-id="6ab81-312">**1 GB too80 GB**</span><span class="sxs-lookup"><span data-stu-id="6ab81-312">**1 GB too80 GB**</span></span><br/><br/><span data-ttu-id="6ab81-313">(在建立佇列時定義和[啟用分割](service-bus-partitioning.md)– 請參閱 < 其他資訊 > 一節 hello)</span><span class="sxs-lookup"><span data-stu-id="6ab81-313">(defined upon creation of a queue and [enabling partitioning](service-bus-partitioning.md) – see hello “Additional Information” section)</span></span> |
| <span data-ttu-id="6ab81-314">訊息大小上限</span><span class="sxs-lookup"><span data-stu-id="6ab81-314">Maximum message size</span></span> |<span data-ttu-id="6ab81-315">**64 KB**</span><span class="sxs-lookup"><span data-stu-id="6ab81-315">**64 KB**</span></span><br/><br/><span data-ttu-id="6ab81-316">(使用 **Base64** 編碼時則為 48 KB)</span><span class="sxs-lookup"><span data-stu-id="6ab81-316">(48 KB when using **Base64** encoding)</span></span><br/><br/><span data-ttu-id="6ab81-317">Azure 支援大型訊息，藉由結合佇列和 blob – 此時，您可以向上 too200GB 單一項目加入佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-317">Azure supports large messages by combining queues and blobs – at which point you can enqueue up too200GB for a single item.</span></span> |<span data-ttu-id="6ab81-318">**256 KB** 或 **1 MB**</span><span class="sxs-lookup"><span data-stu-id="6ab81-318">**256 KB** or **1 MB**</span></span><br/><br/><span data-ttu-id="6ab81-319">(包括標頭和主體，標頭大小上限：64 KB)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-319">(including both header and body, maximum header size: 64 KB).</span></span><br/><br/><span data-ttu-id="6ab81-320">取決於 hello[服務層](service-bus-premium-messaging.md)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-320">Depends on hello [service tier](service-bus-premium-messaging.md).</span></span> |
| <span data-ttu-id="6ab81-321">訊息 TTL 上限</span><span class="sxs-lookup"><span data-stu-id="6ab81-321">Maximum message TTL</span></span> |<span data-ttu-id="6ab81-322">**7 天**</span><span class="sxs-lookup"><span data-stu-id="6ab81-322">**7 days**</span></span> |**`TimeSpan.Max`** |
| <span data-ttu-id="6ab81-323">佇列數目上限</span><span class="sxs-lookup"><span data-stu-id="6ab81-323">Maximum number of queues</span></span> |<span data-ttu-id="6ab81-324">**無限制**</span><span class="sxs-lookup"><span data-stu-id="6ab81-324">**Unlimited**</span></span> |<span data-ttu-id="6ab81-325">**10,000**</span><span class="sxs-lookup"><span data-stu-id="6ab81-325">**10,000**</span></span><br/><br/><span data-ttu-id="6ab81-326">(每個服務命名空間，可以增加)</span><span class="sxs-lookup"><span data-stu-id="6ab81-326">(per service namespace, can be increased)</span></span> |
| <span data-ttu-id="6ab81-327">並行用戶端數目上限</span><span class="sxs-lookup"><span data-stu-id="6ab81-327">Maximum number of concurrent clients</span></span> |<span data-ttu-id="6ab81-328">**無限制**</span><span class="sxs-lookup"><span data-stu-id="6ab81-328">**Unlimited**</span></span> |<span data-ttu-id="6ab81-329">**無限制**</span><span class="sxs-lookup"><span data-stu-id="6ab81-329">**Unlimited**</span></span><br/><br/><span data-ttu-id="6ab81-330">（100 的並行連線限制僅適用於 tooTCP 通訊協定為基礎的通訊）</span><span class="sxs-lookup"><span data-stu-id="6ab81-330">(100 concurrent connection limit only applies tooTCP protocol-based communication)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6ab81-331">其他資訊</span><span class="sxs-lookup"><span data-stu-id="6ab81-331">Additional information</span></span>
* <span data-ttu-id="6ab81-332">服務匯流排會強制執行佇列大小限制。</span><span class="sxs-lookup"><span data-stu-id="6ab81-332">Service Bus enforces queue size limits.</span></span> <span data-ttu-id="6ab81-333">hello 佇列大小上限在建立 hello 佇列時指定，且可以介於 1 到 80 GB 之間的值。</span><span class="sxs-lookup"><span data-stu-id="6ab81-333">hello maximum queue size is specified upon creation of hello queue and can have a value between 1 and 80 GB.</span></span> <span data-ttu-id="6ab81-334">如果達到 hello 設定在建立 hello 佇列的佇列大小值時，其他內送訊息將會遭到拒絕，hello 呼叫程式碼程式會收到例外狀況。</span><span class="sxs-lookup"><span data-stu-id="6ab81-334">If hello queue size value set on creation of hello queue is reached, additional incoming messages will be rejected and an exception will be received by hello calling code.</span></span> <span data-ttu-id="6ab81-335">如需服務匯流排中配額的詳細資訊，請參閱[服務匯流排配額](service-bus-quotas.md)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-335">For more information about quotas in Service Bus, see [Service Bus Quotas](service-bus-quotas.md).</span></span>
* <span data-ttu-id="6ab81-336">在 hello[標準層](service-bus-premium-messaging.md)，您可以建立服務匯流排佇列 1、 2、 3、 4 或 5 GB 大小 （hello 預設為 1 GB）。</span><span class="sxs-lookup"><span data-stu-id="6ab81-336">In hello [Standard tier](service-bus-premium-messaging.md), you can create Service Bus queues in 1, 2, 3, 4, or 5 GB sizes (hello default is 1 GB).</span></span> <span data-ttu-id="6ab81-337">在 hello 優質層次中，您可以建立註冊 too80 GB 大小的佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-337">In hello Premium tier, you can create queues up too80 GB in size.</span></span> <span data-ttu-id="6ab81-338">在標準層中的資料分割啟用 （此為 hello 預設）、 服務匯流排會為您指定每 GB 建立 16 個資料分割。</span><span class="sxs-lookup"><span data-stu-id="6ab81-338">In Standard tier, with partitioning enabled (which is hello default), Service Bus creates 16 partitions for each GB you specify.</span></span> <span data-ttu-id="6ab81-339">因此，如果您建立大小為 5 GB 的佇列時，16 個磁碟分割與 hello 佇列大小上限會變成 (5 * 16) = 80 GB。</span><span class="sxs-lookup"><span data-stu-id="6ab81-339">As such, if you create a queue that is 5 GB in size, with 16 partitions hello maximum queue size becomes (5 * 16) = 80 GB.</span></span> <span data-ttu-id="6ab81-340">您可以看到 hello 磁碟分割的佇列或主題的大小上限藉由查看其項目上 hello [Azure 入口網站][Azure portal]。</span><span class="sxs-lookup"><span data-stu-id="6ab81-340">You can see hello maximum size of your partitioned queue or topic by looking at its entry on hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="6ab81-341">在 hello Premium 層，只有 2 個資料分割會建立每個佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-341">In hello Premium tier, only 2 partitions are created per queue.</span></span>
* <span data-ttu-id="6ab81-342">與儲存體佇列，如果 hello hello 訊息的內容不是 XML 安全的則它必須是**Base64**編碼。</span><span class="sxs-lookup"><span data-stu-id="6ab81-342">With Storage queues, if hello content of hello message is not XML-safe, then it must be **Base64** encoded.</span></span> <span data-ttu-id="6ab81-343">如果您**Base64**-編碼 hello 訊息、 hello 使用者裝載可以是 up too48 KB，而不是 64 KB。</span><span class="sxs-lookup"><span data-stu-id="6ab81-343">If you **Base64**-encode hello message, hello user payload can be up too48 KB, instead of 64 KB.</span></span>
* <span data-ttu-id="6ab81-344">使用服務匯流排佇列時，儲存在佇列中的每個訊息都包含兩個部分：標頭和主體。</span><span class="sxs-lookup"><span data-stu-id="6ab81-344">With Service Bus queues, each message stored in a queue is composed of two parts: a header and a body.</span></span> <span data-ttu-id="6ab81-345">hello hello 訊息的大小總計不得超過 hello hello 服務層所支援的大小上限的訊息。</span><span class="sxs-lookup"><span data-stu-id="6ab81-345">hello total size of hello message cannot exceed hello maximum message size supported by hello service tier.</span></span>
* <span data-ttu-id="6ab81-346">當用戶端與服務匯流排佇列通訊透過 hello TCP 通訊協定時，hello 的並行連線 tooa 單一服務匯流排佇列數目上限是有限的 too100。</span><span class="sxs-lookup"><span data-stu-id="6ab81-346">When clients communicate with Service Bus queues over hello TCP protocol, hello maximum number of concurrent connections tooa single Service Bus queue is limited too100.</span></span> <span data-ttu-id="6ab81-347">這個數目是在傳送者和接收者之間共用的。</span><span class="sxs-lookup"><span data-stu-id="6ab81-347">This number is shared between senders and receivers.</span></span> <span data-ttu-id="6ab81-348">如果到達此配額，將會拒絕其他連線的後續要求，程式 hello 呼叫程式碼會收到例外狀況。</span><span class="sxs-lookup"><span data-stu-id="6ab81-348">If this quota is reached, subsequent requests for additional connections will be rejected and an exception will be received by hello calling code.</span></span> <span data-ttu-id="6ab81-349">這項限制不會加諸連接 toohello 佇列使用 REST API 的用戶端上。</span><span class="sxs-lookup"><span data-stu-id="6ab81-349">This limit is not imposed on clients connecting toohello queues using REST-based API.</span></span>
* <span data-ttu-id="6ab81-350">如果您需要超過 10,000 個佇列，單一的服務匯流排命名空間中，您可以連絡 hello Azure 支援小組，並要求增加。</span><span class="sxs-lookup"><span data-stu-id="6ab81-350">If you require more than 10,000 queues in a single Service Bus namespace, you can contact hello Azure support team and request an increase.</span></span> <span data-ttu-id="6ab81-351">超過 10,000 個佇列與服務匯流排 tooscale，您可以建立其他命名空間使用 hello [Azure 入口網站][Azure portal]。</span><span class="sxs-lookup"><span data-stu-id="6ab81-351">tooscale beyond 10,000 queues with Service Bus, you can also create additional namespaces using hello [Azure portal][Azure portal].</span></span>

## <a name="management-and-operations"></a><span data-ttu-id="6ab81-352">管理和作業</span><span class="sxs-lookup"><span data-stu-id="6ab81-352">Management and operations</span></span>
<span data-ttu-id="6ab81-353">本節將比較儲存體佇列和服務匯流排佇列所提供的 hello 管理功能。</span><span class="sxs-lookup"><span data-stu-id="6ab81-353">This section compares hello management features provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6ab81-354">比較準則</span><span class="sxs-lookup"><span data-stu-id="6ab81-354">Comparison Criteria</span></span> | <span data-ttu-id="6ab81-355">儲存體佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-355">Storage queues</span></span> | <span data-ttu-id="6ab81-356">服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-356">Service Bus queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6ab81-357">管理通訊協定</span><span class="sxs-lookup"><span data-stu-id="6ab81-357">Management protocol</span></span> |<span data-ttu-id="6ab81-358">**REST 透過 HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6ab81-358">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="6ab81-359">**REST 透過 HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6ab81-359">**REST over HTTPS**</span></span> |
| <span data-ttu-id="6ab81-360">執行階段通訊協定</span><span class="sxs-lookup"><span data-stu-id="6ab81-360">Runtime protocol</span></span> |<span data-ttu-id="6ab81-361">**REST 透過 HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6ab81-361">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="6ab81-362">**REST 透過 HTTPS**</span><span class="sxs-lookup"><span data-stu-id="6ab81-362">**REST over HTTPS**</span></span><br/><br/><span data-ttu-id="6ab81-363">**AMQP 1.0 標準 (具 TLS 的 TCP)**</span><span class="sxs-lookup"><span data-stu-id="6ab81-363">**AMQP 1.0 Standard (TCP with TLS)**</span></span> |
| <span data-ttu-id="6ab81-364">.NET API</span><span class="sxs-lookup"><span data-stu-id="6ab81-364">.NET API</span></span> |<span data-ttu-id="6ab81-365">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-365">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-366">(.NET 儲存體用戶端 API)</span><span class="sxs-lookup"><span data-stu-id="6ab81-366">(.NET Storage Client API)</span></span> |<span data-ttu-id="6ab81-367">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-367">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-368">(.NET 服務匯流排 API)</span><span class="sxs-lookup"><span data-stu-id="6ab81-368">(.NET Service Bus API)</span></span> |
| <span data-ttu-id="6ab81-369">Native C++</span><span class="sxs-lookup"><span data-stu-id="6ab81-369">Native C++</span></span> |<span data-ttu-id="6ab81-370">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-370">**Yes**</span></span> |<span data-ttu-id="6ab81-371">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-371">**Yes**</span></span> |
| <span data-ttu-id="6ab81-372">Java API</span><span class="sxs-lookup"><span data-stu-id="6ab81-372">Java API</span></span> |<span data-ttu-id="6ab81-373">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-373">**Yes**</span></span> |<span data-ttu-id="6ab81-374">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-374">**Yes**</span></span> |
| <span data-ttu-id="6ab81-375">PHP API</span><span class="sxs-lookup"><span data-stu-id="6ab81-375">PHP API</span></span> |<span data-ttu-id="6ab81-376">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-376">**Yes**</span></span> |<span data-ttu-id="6ab81-377">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-377">**Yes**</span></span> |
| <span data-ttu-id="6ab81-378">Node.js API</span><span class="sxs-lookup"><span data-stu-id="6ab81-378">Node.js API</span></span> |<span data-ttu-id="6ab81-379">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-379">**Yes**</span></span> |<span data-ttu-id="6ab81-380">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-380">**Yes**</span></span> |
| <span data-ttu-id="6ab81-381">任意中繼資料支援</span><span class="sxs-lookup"><span data-stu-id="6ab81-381">Arbitrary metadata support</span></span> |<span data-ttu-id="6ab81-382">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-382">**Yes**</span></span> |<span data-ttu-id="6ab81-383">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-383">**No**</span></span> |
| <span data-ttu-id="6ab81-384">佇列命名規則</span><span class="sxs-lookup"><span data-stu-id="6ab81-384">Queue naming rules</span></span> |<span data-ttu-id="6ab81-385">**向上 too63 字元**</span><span class="sxs-lookup"><span data-stu-id="6ab81-385">**Up too63 characters long**</span></span><br/><br/><span data-ttu-id="6ab81-386">(佇列名稱的字母必須是小寫。)</span><span class="sxs-lookup"><span data-stu-id="6ab81-386">(Letters in a queue name must be lowercase.)</span></span> |<span data-ttu-id="6ab81-387">**向上 too260 字元**</span><span class="sxs-lookup"><span data-stu-id="6ab81-387">**Up too260 characters long**</span></span><br/><br/><span data-ttu-id="6ab81-388">(佇列路徑和名稱不區分大小寫。)</span><span class="sxs-lookup"><span data-stu-id="6ab81-388">(Queue paths and names are case-insensitive.)</span></span> |
| <span data-ttu-id="6ab81-389">取得佇列長度函式</span><span class="sxs-lookup"><span data-stu-id="6ab81-389">Get queue length function</span></span> |<span data-ttu-id="6ab81-390">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-390">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-391">（近似值如果訊息超出 hello TTL 過期而不被刪除。）</span><span class="sxs-lookup"><span data-stu-id="6ab81-391">(Approximate value if messages expire beyond hello TTL without being deleted.)</span></span> |<span data-ttu-id="6ab81-392">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-392">**Yes**</span></span><br/><br/><span data-ttu-id="6ab81-393">(精確的時間點值。)</span><span class="sxs-lookup"><span data-stu-id="6ab81-393">(Exact, point-in-time value.)</span></span> |
| <span data-ttu-id="6ab81-394">查看函式</span><span class="sxs-lookup"><span data-stu-id="6ab81-394">Peek function</span></span> |<span data-ttu-id="6ab81-395">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-395">**Yes**</span></span> |<span data-ttu-id="6ab81-396">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-396">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6ab81-397">其他資訊</span><span class="sxs-lookup"><span data-stu-id="6ab81-397">Additional information</span></span>
* <span data-ttu-id="6ab81-398">儲存體佇列可以套用的 toohello 佇列描述的名稱/值組的 hello 表單中的任意屬性提供支援。</span><span class="sxs-lookup"><span data-stu-id="6ab81-398">Storage queues provide support for arbitrary attributes that can be applied toohello queue description, in hello form of name/value pairs.</span></span>
* <span data-ttu-id="6ab81-399">這兩種佇列技術提供 hello 能力 toopeek 訊息而不需要 toolock it 實作佇列總管/瀏覽器工具時很有用。</span><span class="sxs-lookup"><span data-stu-id="6ab81-399">Both queue technologies offer hello ability toopeek a message without having toolock it, which can be useful when implementing a queue explorer/browser tool.</span></span>
* <span data-ttu-id="6ab81-400">服務匯流排.NET hello 代理訊息 Api 運用全雙工 TCP 連接來改善效能時比較 tooREST over HTTP，並支援 hello AMQP 1.0 標準通訊協定。</span><span class="sxs-lookup"><span data-stu-id="6ab81-400">hello Service Bus .NET brokered messaging APIs leverage full-duplex TCP connections for improved performance when compared tooREST over HTTP, and they support hello AMQP 1.0 standard protocol.</span></span>
* <span data-ttu-id="6ab81-401">儲存體佇列名稱長度可以是 3-63 個字元，而且可以包含小寫字母、數字和連字號。</span><span class="sxs-lookup"><span data-stu-id="6ab81-401">Names of Storage queues can be 3-63 characters long, can contain lowercase letters, numbers, and hyphens.</span></span> <span data-ttu-id="6ab81-402">如需詳細資訊，請參閱[為佇列和中繼資料命名](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-402">For more information, see [Naming Queues and Metadata](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).</span></span>
* <span data-ttu-id="6ab81-403">服務匯流排佇列名稱可以是 up too260 字元，並具有較不嚴格的命名規則。</span><span class="sxs-lookup"><span data-stu-id="6ab81-403">Service Bus queue names can be up too260 characters long and have less restrictive naming rules.</span></span> <span data-ttu-id="6ab81-404">服務匯流排佇列名稱可以包含字母、數字、句號、連字號和底線。</span><span class="sxs-lookup"><span data-stu-id="6ab81-404">Service Bus queue names can contain letters, numbers, periods, hyphens, and underscores.</span></span>

## <a name="authentication-and-authorization"></a><span data-ttu-id="6ab81-405">驗證和授權</span><span class="sxs-lookup"><span data-stu-id="6ab81-405">Authentication and authorization</span></span>
<span data-ttu-id="6ab81-406">本章節討論 hello 驗證和授權功能支援的儲存體佇列和服務匯流排佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-406">This section discusses hello authentication and authorization features supported by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="6ab81-407">比較準則</span><span class="sxs-lookup"><span data-stu-id="6ab81-407">Comparison Criteria</span></span> | <span data-ttu-id="6ab81-408">儲存體佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-408">Storage queues</span></span> | <span data-ttu-id="6ab81-409">服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-409">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6ab81-410">驗證</span><span class="sxs-lookup"><span data-stu-id="6ab81-410">Authentication</span></span> |<span data-ttu-id="6ab81-411">**對稱金鑰**</span><span class="sxs-lookup"><span data-stu-id="6ab81-411">**Symmetric key**</span></span> |<span data-ttu-id="6ab81-412">**對稱金鑰**</span><span class="sxs-lookup"><span data-stu-id="6ab81-412">**Symmetric key**</span></span> |
| <span data-ttu-id="6ab81-413">安全性模型</span><span class="sxs-lookup"><span data-stu-id="6ab81-413">Security model</span></span> |<span data-ttu-id="6ab81-414">透過 SAS 權杖進行委派存取。</span><span class="sxs-lookup"><span data-stu-id="6ab81-414">Delegated access via SAS tokens.</span></span> |<span data-ttu-id="6ab81-415">SAS</span><span class="sxs-lookup"><span data-stu-id="6ab81-415">SAS</span></span> |
| <span data-ttu-id="6ab81-416">識別提供者同盟</span><span class="sxs-lookup"><span data-stu-id="6ab81-416">Identity provider federation</span></span> |<span data-ttu-id="6ab81-417">**否**</span><span class="sxs-lookup"><span data-stu-id="6ab81-417">**No**</span></span> |<span data-ttu-id="6ab81-418">**是**</span><span class="sxs-lookup"><span data-stu-id="6ab81-418">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="6ab81-419">其他資訊</span><span class="sxs-lookup"><span data-stu-id="6ab81-419">Additional information</span></span>
* <span data-ttu-id="6ab81-420">Hello 佇列技術的每個要求 tooeither 必須進行驗證。</span><span class="sxs-lookup"><span data-stu-id="6ab81-420">Every request tooeither of hello queuing technologies must be authenticated.</span></span> <span data-ttu-id="6ab81-421">不支援具有匿名存取的公用佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-421">Public queues with anonymous access are not supported.</span></span> <span data-ttu-id="6ab81-422">使用 [SAS](service-bus-sas.md) 時，您可以發佈唯寫 SAS、唯讀 SAS 或甚至是完整存取 SAS 來解決這種情況。</span><span class="sxs-lookup"><span data-stu-id="6ab81-422">Using [SAS](service-bus-sas.md), you can address this scenario by publishing a write-only SAS, read-only SAS, or even a full-access SAS.</span></span>
* <span data-ttu-id="6ab81-423">hello 驗證配置儲存體佇列牽涉到 hello 使用對稱金鑰，這是雜湊式訊息驗證碼 (HMAC)，提供與 hello sha-256 演算法計算並且編碼為**Base64**字串。</span><span class="sxs-lookup"><span data-stu-id="6ab81-423">hello authentication scheme provided by Storage queues involves hello use of a symmetric key, which is a hash-based Message Authentication Code (HMAC), computed with hello SHA-256 algorithm and encoded as a **Base64** string.</span></span> <span data-ttu-id="6ab81-424">如需 hello 個別通訊協定的詳細資訊，請參閱[hello Azure 儲存體服務驗證](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-424">For more information about hello respective protocol, see [Authentication for hello Azure Storage Services](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services).</span></span> <span data-ttu-id="6ab81-425">服務匯流排佇列支援使用對稱金鑰的類似模型。</span><span class="sxs-lookup"><span data-stu-id="6ab81-425">Service Bus queues support a similar model using symmetric keys.</span></span> <span data-ttu-id="6ab81-426">如需詳細資訊，請參閱[使用服務匯流排的共用存取簽章驗證](service-bus-sas.md)。</span><span class="sxs-lookup"><span data-stu-id="6ab81-426">For more information, see [Shared Access Signature Authentication with Service Bus](service-bus-sas.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="6ab81-427">結論</span><span class="sxs-lookup"><span data-stu-id="6ab81-427">Conclusion</span></span>
<span data-ttu-id="6ab81-428">透過更深入了解 hello 兩項技術，您將會是較明智的佇列技術 toouse 無法 toomake 和時。</span><span class="sxs-lookup"><span data-stu-id="6ab81-428">By gaining a deeper understanding of hello two technologies, you will be able toomake a more informed decision on which queue technology toouse, and when.</span></span> <span data-ttu-id="6ab81-429">hello 當 toouse 儲存體佇列或服務匯流排清楚的佇列的決定取決於許多因素。</span><span class="sxs-lookup"><span data-stu-id="6ab81-429">hello decision on when toouse Storage queues or Service Bus queues clearly depends on a number of factors.</span></span> <span data-ttu-id="6ab81-430">這些因素可能主要取決於您的應用程式和其架構 hello 個別需求。</span><span class="sxs-lookup"><span data-stu-id="6ab81-430">These factors may depend heavily on hello individual needs of your application and its architecture.</span></span> <span data-ttu-id="6ab81-431">如果您的應用程式已經使用 Microsoft Azure 的 hello 核心功能，您可能會想 toochoose 儲存體佇列，特別是當您需要的基本通訊和傳訊服務或可超過 80 GB 的大小需要佇列之間。</span><span class="sxs-lookup"><span data-stu-id="6ab81-431">If your application already uses hello core capabilities of Microsoft Azure, you may prefer toochoose Storage queues, especially if you require basic communication and messaging between services or need queues that can be larger than 80 GB in size.</span></span>

<span data-ttu-id="6ab81-432">由於服務匯流排佇列提供許多進階功能 (例如工作階段、交易、重複偵測、自動處理無效信件和持久的發佈/訂閱功能)，如果您要建置混合應用程式或您的應用程式額外需要這些功能，則比較適合選擇這種佇列。</span><span class="sxs-lookup"><span data-stu-id="6ab81-432">Because Service Bus queues provide a number of advanced features, such as sessions, transactions, duplicate detection, automatic dead-lettering, and durable publish/subscribe capabilities, they may be a preferred choice if you are building a hybrid application or if your application otherwise requires these features.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6ab81-433">後續步驟</span><span class="sxs-lookup"><span data-stu-id="6ab81-433">Next steps</span></span>
<span data-ttu-id="6ab81-434">hello 下列文章提供詳細指引和使用儲存體佇列或服務匯流排佇列的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="6ab81-434">hello following articles provide more guidance and information about using Storage queues or Service Bus queues.</span></span>

* [<span data-ttu-id="6ab81-435">開始使用服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="6ab81-435">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="6ab81-436">如何 tooUse hello 佇列儲存體服務</span><span class="sxs-lookup"><span data-stu-id="6ab81-436">How tooUse hello Queue Storage Service</span></span>](../storage/queues/storage-dotnet-how-to-use-queues.md)
* [<span data-ttu-id="6ab81-437">使用服務匯流排代理傳訊的效能改進最佳作法</span><span class="sxs-lookup"><span data-stu-id="6ab81-437">Best practices for performance improvements using Service Bus brokered messaging</span></span>](service-bus-performance-improvements.md)
* [<span data-ttu-id="6ab81-438">Azure 服務匯流排的佇列和主題簡介 (部落格文章)</span><span class="sxs-lookup"><span data-stu-id="6ab81-438">Introducing Queues and Topics in Azure Service Bus (blog post)</span></span>](http://www.code-magazine.com/article.aspx?quickid=1112041)
* [<span data-ttu-id="6ab81-439">hello 開發人員指南 tooService 匯流排</span><span class="sxs-lookup"><span data-stu-id="6ab81-439">hello Developer's Guide tooService Bus</span></span>](http://www.cloudcasts.net/devguide/Default.aspx?id=11030)
* [<span data-ttu-id="6ab81-440">在 Azure 中使用 hello 佇列服務</span><span class="sxs-lookup"><span data-stu-id="6ab81-440">Using hello Queuing Service in Azure</span></span>](http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/)

[Azure portal]: https://portal.azure.com

