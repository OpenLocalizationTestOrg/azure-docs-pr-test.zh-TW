---
title: "服務匯流排定價與計費 | Microsoft Docs"
description: "服務匯流排定價結構的概觀。"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 7c45b112-e911-45ab-9203-a2e5abccd6e0
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 12/21/2017
ms.author: sethm
ms.openlocfilehash: 8ccb44b5009588c28bc79bb45e1a7640ead6c817
ms.sourcegitcommit: 6f33adc568931edf91bfa96abbccf3719aa32041
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/22/2017
---
# <a name="service-bus-pricing-and-billing"></a>服務匯流排定價與計費

Azure 服務匯流排提供標準和[Premium](service-bus-premium-messaging.md)層。 您可以針對建立的每個服務匯流排服務命名空間選擇一個服務層，此選取層會套用至該命名空間內建立的所有實體。

> [!NOTE]
> 如需目前服務匯流排的價格詳細資訊，請參閱 [Azure 服務匯流排價格頁面](https://azure.microsoft.com/pricing/details/service-bus/)和[服務匯流排常見問題集](service-bus-faq.md#pricing)。
>
>

服務匯流排會在佇列和主題/訂用帳戶中使用下列 2 種計量：

1. **傳訊作業**：定義為針對佇列或主題/訂用帳戶服務端點的 API 呼叫。 這個計量會取代送出或收到的訊息數，成為佇列和主題/訂用帳戶中可計費使用量的主要單位。
2. **代理連線**：定義為在指定的一小時取樣期間，針對佇列、主題或訂用帳戶開啟的持續連線尖峰數量。 這個計量只會套用至標準層，您可以在其中開啟其他連線 (之前的連線限制為每個佇列/主題/訂用帳戶 100 個)，支付每個連線的額定費用。

**標準** 層為搭配佇列和主題/訂用帳戶執行的作業引進了漸進式定價，使得以量計價型折扣在最高使用量層級上可高達 80%。 另外還有每個月 $10 美元的標準層基本費用，讓您每個月執行最多 1,250 萬個作業，且不需額外費用。

**高階** 層可讓您在 CPU 和記憶體層隔離資源，讓每個客戶工作負載能獨立執行。 此資源容器稱為「傳訊單位」 。 每個進階命名空間都會被配置至少一個傳訊單位。 您可以為每個服務匯流排進階命名空間購買 1、2 或 4 個傳訊單位。 單一工作負載或實體可以跨越多個傳訊單位，而傳訊單位數目可以隨意變更，雖然計費是依 24 小時或每日費率收費。 結果是您的服務匯流排方案的效能可預測並可重複。 此效能不僅更可預測並可取得，而且還更快速。

請注意，對於每個 Azure 訂用帳戶，每個月只收取一次標準層基本費用。 這表示建立單一標準層服務匯流排命名空間之後，您就可以在同一個 Azure 訂用帳戶下，依需要建立更多標準層命名空間，而不必支付額外的基本費用。

[服務匯流排價格](https://azure.microsoft.com/pricing/details/service-bus/)表格摘要說明標準層和進階層之間的功能差異。

## <a name="messaging-operations"></a>傳訊作業

不在每個訊息，會將佇列和主題/訂閱計費每個 「 作業 」。 作業是指對佇列或主題/訂閱服務端點所做的任何 API 呼叫。 這包括管理、傳送/接收和工作階段狀態的作業。

| 作業類型 | 說明 |
| --- | --- |
| 管理 |對佇列或主題/訂用帳戶執行的建立、讀取、更新、刪除 (CRUD)。 |
| 訊息 |傳送和接收佇列或主題/訂閱訊息。 |
| 工作階段狀態 |取得或設定佇列或主題/訂閱的工作階段狀態。 |

如需成本的詳細資訊，請參閱[服務匯流排價格](https://azure.microsoft.com/pricing/details/service-bus/)頁面列出的價格。

## <a name="brokered-connections"></a>代理連線

*代理連線*容納涉及大量 「 持續連線 」 傳送者/接收者針對佇列、 主題或訂用帳戶的使用模式。 持續連線的傳送者/接收者是指使用 AMQP 或 HTTP 進行連線，且接收逾時為非零值 (例如 HTTP 長時間輪詢) 的對象。 具有立即逾時的 HTTP 傳送者和接收者並不會產生代理連線。

關於連線配額和其他服務限制，請參閱[服務匯流排配額](service-bus-quotas.md)一文。 如需關於代理連線的詳細資訊，請參閱本文稍後的[常見問題集](#faq)一節。

標準層會移除每個命名空間的代理連線限制，並計算 Azure 訂用帳戶上彙總的代理連線使用量。 如需詳細資訊，請參閱[代理連線](https://azure.microsoft.com/pricing/details/service-bus/)表格。

> [!NOTE]
> 標準傳訊層隨附 1,000 個代理連線 (包含在基本費用內)，而且可以在相關聯的 Azure 訂用帳戶內，讓所有佇列、主題和訂用帳戶共用。
>
>

<br />

> [!NOTE]
> 計費會依據並行連線的尖峰數量，並以每個月 744 小時為基礎，按照每小時的比例計算。
>
>

### <a name="premium-tier"></a>高階層

在高階層中，不對代理連線收費。

## <a name="faq"></a>常見問題集

### <a name="what-are-brokered-connections-and-how-do-i-get-charged-for-them"></a>什麼是代理連線，以及如何支付它們的費用？

代理連線可定義為下列其中一個動作：

1. 從用戶端到服務匯流排佇列或主題/訂用帳戶的 AMQP 連線。
2. 從服務匯流排主題或佇列接收訊息的 HTTP 呼叫，且接收的逾時值大於零。

服務匯流排的並行代理連線尖峰數量，如果超過隨附數量 (標準層中為 1,000 個)，就會收取費用。 尖峰的測量方式會以每小時為基礎，除以每個月的 744 小時來依比例計算，並依據每個月的計費期間來加總。 隨附的數量 (每個月 1,000 個代理連線) 會根據依比例計算的每小時尖峰的總和，在計費期間快結束時加以套用。

例如︰

1. 10,000 台裝置均透過單一 AMQP 連線進行連線，並接收來自服務匯流排主題的命令。 裝置將遙測事件傳送到事件中樞。 如果所有裝置每天都連線 12 小時，則除了其他服務匯流排的任何主題費用外，還會有以下連線費用：10,000 個連線 * 12 小時 * 31 天 / 744 = 5,000 個代理連線。 超過每月 1,000 個代理連線的額度後，就會以每個代理連線 $0.03 美元的費率，對 4,000 個代理連線收費，總共 $120 美元。
2. 10,000 台裝置透過 HTTP 從服務匯流排佇列接收訊息，並指定非零的逾時值。 如果所有裝置每天都連線 12 小時，則除了其他服務匯流排的任何費用外，您還會看到以下連線費用：10,000 個 HTTP 接收連線 * 每天 12 小時 * 31 天 / 744 = 5,000 個代理連線。

### <a name="do-brokered-connection-charges-apply-to-queues-and-topicssubscriptions"></a>佇列和主題/訂用帳戶需要代理連線費用嗎？

可以。 不論傳送系統或裝置的數目多寡，使用 HTTP 來傳送事件不需要支付連線費用。 使用逾時大於零的 HTTP 來接收事件，有時也稱為「長時間輪詢」，會產生代理連線的費用。 AMQP 連線均會產生代理連線費用，不論連線是用於傳送或接收皆然。 在 Azure 訂用帳戶中，所有標準層命名空間內的前 1,000 個代理連線，除了基本費用外，均不需額外費用。 因為這些額度便足以涵蓋許多服務對服務的傳訊案例，通常只在您打算使用 AMQP 或 HTTP 的長時間輪詢加上大量用戶端時，才可能會有相應的代理連線費用。例如，想要達到更有效率的事件資料流，或啟用與許多裝置或應用程式執行個體間的雙向通訊。

## <a name="next-steps"></a>後續步驟

* 如需服務匯流排價格的完整詳細資訊，請參閱[服務匯流排價格頁面](https://azure.microsoft.com/pricing/details/service-bus/)。
* 關於服務匯流排價格與計費的一些常見問題集，請參閱[服務匯流排常見問題集](service-bus-faq.md#pricing)。

[Azure portal]: https://portal.azure.com
