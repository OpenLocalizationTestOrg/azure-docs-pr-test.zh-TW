---
title: "Azure 服務匯流排傳訊概觀 | Microsoft Docs"
description: "描述服務匯流排傳訊與 Azure 轉送"
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: f99766cb-8f4b-4baf-b061-4b1e2ae570e4
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: get-started-article
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 3a4382979dd6e18c0e94b4a989bb8289882eeb89
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/11/2017
---
# <a name="service-bus-messaging-flexible-data-delivery-in-the-cloud"></a><span data-ttu-id="659f9-103">服務匯流排傳訊：雲端彈性資料傳遞</span><span class="sxs-lookup"><span data-stu-id="659f9-103">Service Bus messaging: flexible data delivery in the cloud</span></span>
<span data-ttu-id="659f9-104">Microsoft Azure 服務匯流排是一項可靠的資訊傳遞服務。</span><span class="sxs-lookup"><span data-stu-id="659f9-104">Microsoft Azure Service Bus is a reliable information delivery service.</span></span> <span data-ttu-id="659f9-105">此服務的目的是簡化通訊。</span><span class="sxs-lookup"><span data-stu-id="659f9-105">The purpose of this service is to make communication easier.</span></span> <span data-ttu-id="659f9-106">若有兩個以上的對象想要交換資訊，他們就需要一個通訊協調者。</span><span class="sxs-lookup"><span data-stu-id="659f9-106">When two or more parties want to exchange information, they need a communication facilitator.</span></span> <span data-ttu-id="659f9-107">服務匯流排是一項代理通訊機制或第三方通訊機制。</span><span class="sxs-lookup"><span data-stu-id="659f9-107">Service Bus is a brokered, or third-party communication mechanism.</span></span> <span data-ttu-id="659f9-108">這類似於實體世界的郵遞服務。</span><span class="sxs-lookup"><span data-stu-id="659f9-108">This is similar to a postal service in the physical world.</span></span> <span data-ttu-id="659f9-109">郵遞服務讓您能夠很容易地將不同種類的信件與包裹寄送至世界上的任何地方，且提供各種不同的傳遞保證。</span><span class="sxs-lookup"><span data-stu-id="659f9-109">Postal services make it very easy to send different kinds of letters and packages with a variety of delivery guarantees, anywhere in the world.</span></span>

<span data-ttu-id="659f9-110">服務匯流排類似於郵遞服務，可在傳送者與接收者之間靈活地傳遞資訊。</span><span class="sxs-lookup"><span data-stu-id="659f9-110">Similar to the postal service delivering letters, Service Bus is flexible information delivery from both the sender and the recipient.</span></span> <span data-ttu-id="659f9-111">即使雙方從未同時上線，或從未在同一時間有空，此傳訊服務也能傳遞資訊。</span><span class="sxs-lookup"><span data-stu-id="659f9-111">The messaging service ensures that the information is delivered even if the two parties are never both online at the same time, or if they aren't available at the exact same time.</span></span> <span data-ttu-id="659f9-112">在這種方式下，訊息類似於寄送信件，而非代理式通訊則類似於撥打電話 (在有通話插播與來電顯示功能之前的舊式撥打電話方式則比較類似於代理式訊息)。</span><span class="sxs-lookup"><span data-stu-id="659f9-112">In this way, messaging is similar to sending a letter, while non-brokered communication is similar to placing a phone call (or how a phone call used to be - before call waiting and caller ID, which are much more like brokered messaging).</span></span>

<span data-ttu-id="659f9-113">訊息傳送者也可能需要各種傳遞特性，包括交易、重複資料檢測、以時間為基礎的到期，以及批次處理特性。</span><span class="sxs-lookup"><span data-stu-id="659f9-113">The message sender can also require a variety of delivery characteristics including transactions, duplicate detection, time-based expiration, and batching.</span></span> <span data-ttu-id="659f9-114">這些模式也具備類似郵遞服務的特性：重複傳遞、需要簽名、地址變更或回收。</span><span class="sxs-lookup"><span data-stu-id="659f9-114">These patterns have postal analogies as well: repeat delivery, required signature, address change, or recall.</span></span>

<span data-ttu-id="659f9-115">服務匯流排支援兩種不同的傳訊模式：「Azure 轉送」和「服務匯流排傳訊」。</span><span class="sxs-lookup"><span data-stu-id="659f9-115">Service Bus supports two distinct messaging patterns: *Azure Relay* and *Service Bus Messaging*.</span></span>

## <a name="azure-relay"></a><span data-ttu-id="659f9-116">Azure 轉送</span><span class="sxs-lookup"><span data-stu-id="659f9-116">Azure Relay</span></span>
<span data-ttu-id="659f9-117">Azure 轉送的 [WCF 轉送](../service-bus-relay/relay-what-is-it.md)元件是集中式 (但高度負載平衡) 服務，可支援各種不同的傳輸通訊協定及 Web 服務標準。</span><span class="sxs-lookup"><span data-stu-id="659f9-117">The [WCF Relay](../service-bus-relay/relay-what-is-it.md) component of Azure Relay is a centralized (but highly load-balanced) service that supports a variety of different transport protocols and Web services standards.</span></span> <span data-ttu-id="659f9-118">這包括 SOAP、WS-*，甚至是 REST。</span><span class="sxs-lookup"><span data-stu-id="659f9-118">This includes SOAP, WS-*, and even REST.</span></span> <span data-ttu-id="659f9-119">[轉送](../service-bus-relay/service-bus-dotnet-how-to-use-relay.md)服務提供各種不同的轉送連接選項，會在可行的狀況下，協助交涉直接的對等連接。</span><span class="sxs-lookup"><span data-stu-id="659f9-119">The [relay service](../service-bus-relay/service-bus-dotnet-how-to-use-relay.md) provides a variety of different relay connectivity options and can help negotiate direct peer-to-peer connections when it is possible.</span></span> <span data-ttu-id="659f9-120">服務匯流排已針對使用 Windows Communication Foundation (WCF) 的 .NET 開發人員最佳化，包括效能和可用性兩方面，並且可讓您透過 SOAP 和 REST 介面完整存取其轉送服務。</span><span class="sxs-lookup"><span data-stu-id="659f9-120">Service Bus is optimized for .NET developers who use the Windows Communication Foundation (WCF), both with regard to performance and usability, and provides full access to its relay service through SOAP and REST interfaces.</span></span> <span data-ttu-id="659f9-121">這可讓所有的 SOAP 或 REST 程式設計環境與服務匯流排整合。</span><span class="sxs-lookup"><span data-stu-id="659f9-121">This makes it possible for any SOAP or REST programming environment to integrate with Service Bus.</span></span>

<span data-ttu-id="659f9-122">轉送服務支援傳統的單向訊息、要求/回應訊息，以及對等式訊息。</span><span class="sxs-lookup"><span data-stu-id="659f9-122">The relay service supports traditional one-way messaging, request/response messaging, and peer-to-peer messaging.</span></span> <span data-ttu-id="659f9-123">它也支援網際網路範圍內的事件散發，以啟用發佈/訂閱案例和雙向通訊端通訊來提高點對點效率。</span><span class="sxs-lookup"><span data-stu-id="659f9-123">It also supports event distribution at Internet-scope to enable publish-subscribe scenarios and bi-directional socket communication for increased point-to-point efficiency.</span></span> <span data-ttu-id="659f9-124">在轉送傳訊模式中，內部部署服務會透過輸出連接埠連接到轉送服務，並且針對繫結至特定聚合位址的通訊建立雙向通訊端。</span><span class="sxs-lookup"><span data-stu-id="659f9-124">In the relayed messaging pattern, an on-premises service connects to the relay service through an outbound port and creates a bi-directional socket for communication tied to a particular rendezvous address.</span></span> <span data-ttu-id="659f9-125">用戶端接著可將訊息傳送至以會合位址為目標的轉送服務，藉此與內部部署服務通訊。</span><span class="sxs-lookup"><span data-stu-id="659f9-125">The client can then communicate with the on-premises service by sending messages to the relay service targeting the rendezvous address.</span></span> <span data-ttu-id="659f9-126">轉送服務接著會透過已就緒的雙向通訊端，將訊息「轉送」至內部部署服務。</span><span class="sxs-lookup"><span data-stu-id="659f9-126">The relay service will then "relay" messages to the on-premises service through the bi-directional socket already in place.</span></span> <span data-ttu-id="659f9-127">用戶端無須直接連接到內部部署服務，也無須知道服務的所在位置，而且內部部署服務也不需要在防火牆上開啟任何連入連接埠。</span><span class="sxs-lookup"><span data-stu-id="659f9-127">The client does not need a direct connection to the on-premises service, nor is it required to know where the service resides, and the on-premises service does not need any inbound ports open on the firewall.</span></span>

<span data-ttu-id="659f9-128">您在內部部署服務與使用一組 WCF「轉送」繫結的轉送服務之間起始連線。</span><span class="sxs-lookup"><span data-stu-id="659f9-128">You initiate the connection between your on-premises service and the relay service, using a suite of WCF "relay" bindings.</span></span> <span data-ttu-id="659f9-129">實際上轉送繫結會對應到傳輸繫結項目，這些項目的設計用途在建立與雲端中之服務匯流排整合的 WCF 通道元件。</span><span class="sxs-lookup"><span data-stu-id="659f9-129">Behind the scenes, the relay bindings map to transport binding elements designed to create WCF channel components that integrate with Service Bus in the cloud.</span></span>

<span data-ttu-id="659f9-130">WCF 轉送提供許多優點，但需要伺服器和用戶端同時在線上，以便傳送和接收訊息。</span><span class="sxs-lookup"><span data-stu-id="659f9-130">WCF Relay provides many benefits, but requires the server and client to both be online at the same time in order to send and receive messages.</span></span> <span data-ttu-id="659f9-131">這對於 HTTP 通訊並非最好的方式，因為其中的要求可能無法一直留存，對於偶爾才連線的用戶端 (例如瀏覽器、行動應用程式等等) 也是。</span><span class="sxs-lookup"><span data-stu-id="659f9-131">This is not optimal for HTTP-style communication, in which the requests may not be typically long-lived, nor for clients that connect only occasionally, such as browsers, mobile applications, and so on.</span></span> <span data-ttu-id="659f9-132">代理傳訊支援解耦合通訊，而且有其優勢。用戶端和伺服器可以在需要時連線，並且以非同步方式執行其作業。</span><span class="sxs-lookup"><span data-stu-id="659f9-132">Brokered messaging supports decoupled communication, and has its own advantages; clients and servers can connect when needed and perform their operations in an asynchronous manner.</span></span>

## <a name="brokered-messaging"></a><span data-ttu-id="659f9-133">代理傳訊</span><span class="sxs-lookup"><span data-stu-id="659f9-133">Brokered messaging</span></span>
<span data-ttu-id="659f9-134">與轉送配置相反，您可以將服務匯流排傳訊或[代理傳訊](service-bus-queues-topics-subscriptions.md)視為非同步或「暫時性解耦」。</span><span class="sxs-lookup"><span data-stu-id="659f9-134">In contrast to the relay scheme, Service Bus messaging, or [brokered messaging](service-bus-queues-topics-subscriptions.md) can be thought of as asynchronous, or "temporally decoupled."</span></span> <span data-ttu-id="659f9-135">產生者 (傳送者) 和消費者 (接收者) 不需要同時在線上。</span><span class="sxs-lookup"><span data-stu-id="659f9-135">Producers (senders) and consumers (receivers) do not have to be online at the same time.</span></span> <span data-ttu-id="659f9-136">其傳訊基礎結構可確實將訊息儲存在「代理者」(如佇列) 當中，直到取用方準備接收這些訊息為止。</span><span class="sxs-lookup"><span data-stu-id="659f9-136">The messaging infrastructure reliably stores messages in a "broker" (such as a queue) until the consuming party is ready to receive them.</span></span> <span data-ttu-id="659f9-137">如此一來，分散式應用程式的元件即使主動中斷連線 (例如基於維護理由) 或由於元件損毀而意外中斷，也不會影響整體系統。</span><span class="sxs-lookup"><span data-stu-id="659f9-137">This allows the components of the distributed application to be disconnected, either voluntarily; for example, for maintenance, or due to a component crash, without affecting the entire system.</span></span> <span data-ttu-id="659f9-138">此外，接收應用程式可能只需要在當日的某個時段上線即可，就好比庫存管理系統只需要在營業日結束時執行一樣。</span><span class="sxs-lookup"><span data-stu-id="659f9-138">Furthermore, the receiving application may only have to come online during certain times of the day, such as an inventory management system that only is required to run at the end of the business day.</span></span>

<span data-ttu-id="659f9-139">服務匯流排代理傳訊基礎結構的核心元件，就是佇列、主題和訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="659f9-139">The core components of the Service Bus brokered messaging infrastructure are queues, topics, and subscriptions.</span></span>  <span data-ttu-id="659f9-140">主要差異在於主題支援發佈/訂閱功能，可用於複雜並以內容為基礎的路由和傳遞邏輯，包括傳送給多個接收者。</span><span class="sxs-lookup"><span data-stu-id="659f9-140">The primary difference is that topics support publish/subscribe capabilities that can be used for sophisticated content-based routing and delivery logic, including sending to multiple recipients.</span></span> <span data-ttu-id="659f9-141">這些元件能夠執行新的非同步傳訊案例，例如暫時解耦合、發佈/訂閱，以及負載平衡。</span><span class="sxs-lookup"><span data-stu-id="659f9-141">These components enable new asynchronous messaging scenarios, such as temporal decoupling, publish/subscribe, and load balancing.</span></span> <span data-ttu-id="659f9-142">如需這些傳訊實體的詳細資訊，請參閱[服務匯流排佇列、主題及訂閱](service-bus-queues-topics-subscriptions.md)。</span><span class="sxs-lookup"><span data-stu-id="659f9-142">For more information about these messaging entities, see [Service Bus queues, topics, and subscriptions](service-bus-queues-topics-subscriptions.md).</span></span>

<span data-ttu-id="659f9-143">如同 WCF 轉送基礎結構一樣，也提供 WCF 和 .NET Framework 程式設計人員代理傳訊的功能，而且也可以透過 REST 進行。</span><span class="sxs-lookup"><span data-stu-id="659f9-143">As with the WCF Relay infrastructure, the brokered messaging capability is provided for WCF and .NET Framework programmers, and also via REST.</span></span>

## <a name="next-steps"></a><span data-ttu-id="659f9-144">後續步驟</span><span class="sxs-lookup"><span data-stu-id="659f9-144">Next steps</span></span>
<span data-ttu-id="659f9-145">若要深入了解服務匯流排訊息，請參閱下列主題。</span><span class="sxs-lookup"><span data-stu-id="659f9-145">To learn more about Service Bus messaging, see the following topics.</span></span>

* [<span data-ttu-id="659f9-146">服務匯流排基本概念</span><span class="sxs-lookup"><span data-stu-id="659f9-146">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="659f9-147">服務匯流排佇列、主題和訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="659f9-147">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="659f9-148">如何使用服務匯流排佇列</span><span class="sxs-lookup"><span data-stu-id="659f9-148">How to use Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="659f9-149">如何使用服務匯流排主題和訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="659f9-149">How to use Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

