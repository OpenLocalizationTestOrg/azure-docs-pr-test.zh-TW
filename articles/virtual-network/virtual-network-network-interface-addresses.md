---
title: "aaaConfigure Azure 網路介面的 IP 位址 |Microsoft 文件"
description: "了解如何 tooadd、 變更及移除網路介面的私人和公用 IP 位址。"
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/24/2017
ms.author: jdial
ms.openlocfilehash: 1e5ea6c65d93be9b1fda5d807500a0823c94c89c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="add-change-or-remove-ip-addresses-for-an-azure-network-interface"></a><span data-ttu-id="f3e33-103">新增、變更或移除 Azure 網路介面的 IP 位址</span><span class="sxs-lookup"><span data-stu-id="f3e33-103">Add, change, or remove IP addresses for an Azure network interface</span></span>

<span data-ttu-id="f3e33-104">了解如何 tooadd、 變更及移除網路介面的公用和私用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-104">Learn how tooadd, change, and remove public and private IP addresses for a network interface.</span></span> <span data-ttu-id="f3e33-105">私用 IP 位址指派 tooa 網路介面啟用虛擬機器 toocommunicate 與 Azure 虛擬網路和連線的網路中的其他資源。</span><span class="sxs-lookup"><span data-stu-id="f3e33-105">Private IP addresses assigned tooa network interface enable a virtual machine toocommunicate with other resources in an Azure virtual network and connected networks.</span></span> <span data-ttu-id="f3e33-106">私人 IP 位址也可讓連出通訊 toohello 網際網路使用無法預期的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-106">A private IP address also enables outbound communication toohello Internet using an unpredictable IP address.</span></span> <span data-ttu-id="f3e33-107">A[公用 IP 位址](virtual-network-public-ip-address.md)指派 tooa 網路介面可讓從 hello 網際網路輸入的通訊 tooa 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-107">A [Public IP address](virtual-network-public-ip-address.md) assigned tooa network interface enables inbound communication tooa virtual machine from hello Internet.</span></span> <span data-ttu-id="f3e33-108">hello 位址也可讓從 hello 虛擬機器 toohello 網際網路使用可預測的 IP 位址的連出通訊。</span><span class="sxs-lookup"><span data-stu-id="f3e33-108">hello address also enables outbound communication from hello virtual machine toohello Internet using a predictable IP address.</span></span> <span data-ttu-id="f3e33-109">如需詳細資訊，請參閱[了解 Azure 中的輸出連線](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-109">For details, see [Understanding outbound connections in Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> 

<span data-ttu-id="f3e33-110">如果您需要 toocreate，變更或刪除網路介面，讀取 hello[管理網路介面](virtual-network-network-interface.md)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-110">If you need toocreate, change, or delete a network interface, read hello [Manage a network interface](virtual-network-network-interface.md) article.</span></span> <span data-ttu-id="f3e33-111">如果您需要 tooadd 網路介面 tooor 移除網路介面，從虛擬機器，請閱讀 hello[新增或移除網路介面](virtual-network-network-interface-vm.md)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-111">If you need tooadd network interfaces tooor remove network interfaces from a virtual machine, read hello [Add or remove network interfaces](virtual-network-network-interface-vm.md) article.</span></span> 


## <a name="before-you-begin"></a><span data-ttu-id="f3e33-112">開始之前</span><span class="sxs-lookup"><span data-stu-id="f3e33-112">Before you begin</span></span>

<span data-ttu-id="f3e33-113">這份文件的任何部分中的步驟完成 hello 之前完成任何下列工作：</span><span class="sxs-lookup"><span data-stu-id="f3e33-113">Complete hello following tasks before completing any steps in any section of this article:</span></span>

- <span data-ttu-id="f3e33-114">檢閱 hello [Azure 限制](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)文章 toolearn 有關公用與私人 IP 位址的限制。</span><span class="sxs-lookup"><span data-stu-id="f3e33-114">Review hello [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article toolearn about limits for public and private IP addresses.</span></span>
- <span data-ttu-id="f3e33-115">登入 toohello Azure[入口網站](https://portal.azure.com)，Azure 命令列介面 (CLI) 或 Azure PowerShell 的 Azure 帳戶。</span><span class="sxs-lookup"><span data-stu-id="f3e33-115">Log in toohello Azure [portal](https://portal.azure.com), Azure command-line interface (CLI), or Azure PowerShell with an Azure account.</span></span> <span data-ttu-id="f3e33-116">如果您還沒有 Azure 帳戶，請註冊[免費試用帳戶](https://azure.microsoft.com/free)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-116">If you don't already have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="f3e33-117">如果使用 PowerShell 命令在本文中 toocomplete 工作[安裝和設定 Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-117">If using PowerShell commands toocomplete tasks in this article, [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="f3e33-118">確定您擁有 hello hello Azure PowerShell 指令程式，安裝最新版本。</span><span class="sxs-lookup"><span data-stu-id="f3e33-118">Ensure you have hello most recent version of hello Azure PowerShell commandlets installed.</span></span> <span data-ttu-id="f3e33-119">tooget 說明的 PowerShell 命令，與範例中，輸入`get-help <command> -full`。</span><span class="sxs-lookup"><span data-stu-id="f3e33-119">tooget help for PowerShell commands, with examples, type `get-help <command> -full`.</span></span>
- <span data-ttu-id="f3e33-120">如果使用 Azure 命令列介面 (CLI) 命令 toocomplete 工作，在本文中[安裝及設定 hello Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-120">If using Azure command-line interface (CLI) commands toocomplete tasks in this article, [install and configure hello Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="f3e33-121">確定您擁有 hello hello Azure CLI 安裝最新版本。</span><span class="sxs-lookup"><span data-stu-id="f3e33-121">Ensure you have hello most recent version of hello Azure CLI installed.</span></span> <span data-ttu-id="f3e33-122">CLI 命令的 tooget 說明輸入`az <command> --help`。</span><span class="sxs-lookup"><span data-stu-id="f3e33-122">tooget help for CLI commands, type `az <command> --help`.</span></span> <span data-ttu-id="f3e33-123">而不是安裝 hello CLI 和其必要元件，您可以使用 hello Azure 雲端殼層。</span><span class="sxs-lookup"><span data-stu-id="f3e33-123">Rather than installing hello CLI and its pre-requisites, you can use hello Azure Cloud Shell.</span></span> <span data-ttu-id="f3e33-124">hello Azure 雲端殼層是免費的 Bash 殼層，您可以直接在 hello Azure 入口網站中執行。</span><span class="sxs-lookup"><span data-stu-id="f3e33-124">hello Azure Cloud Shell is a free Bash shell that you can run directly within hello Azure portal.</span></span> <span data-ttu-id="f3e33-125">它有的 hello Azure CLI 預先安裝和設定 toouse 與您的帳戶。</span><span class="sxs-lookup"><span data-stu-id="f3e33-125">It has hello Azure CLI preinstalled and configured toouse with your account.</span></span> <span data-ttu-id="f3e33-126">toouse hello 雲端 Shell 中，按一下 hello 雲端殼層**> _**按鈕上方的 hello hello[入口網站](https://portal.azure.com)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-126">toouse hello Cloud Shell, click hello Cloud Shell **>_** button at hello top of hello [portal](https://portal.azure.com).</span></span>

## <a name="add-ip-addresses"></a><span data-ttu-id="f3e33-127">新增 IP 位址</span><span class="sxs-lookup"><span data-stu-id="f3e33-127">Add IP addresses</span></span>

<span data-ttu-id="f3e33-128">您可以將它新增為許多[私人](#private)和[公用](#public) [IPv4](#ipv4)為必要 tooa 網路介面，hello 的限制範圍內的位址列在 hello [Azure 的限制](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-128">You can add as many [private](#private) and [public](#public) [IPv4](#ipv4) addresses as necessary tooa network interface, within hello limits listed in hello [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span> <span data-ttu-id="f3e33-129">（雖然您可以使用 hello 入口 tooadd 私用的 IPv6 位址 tooa 網路介面，當您建立 hello 網路介面），您無法使用 hello 入口 tooadd IPv6 位址 tooan 現有網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-129">You cannot use hello portal tooadd an IPv6 address tooan existing network interface (though you can use hello portal tooadd a private IPv6 address tooa network interface when you create hello network interface).</span></span> <span data-ttu-id="f3e33-130">您可以使用 PowerShell 或 hello CLI tooadd 私用的 IPv6 位址 tooone[次要 IP 設定](#secondary)（只要有任何現有的次要 ipconfiguration） 現有的網路介面不是連結 tooa 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-130">You can use PowerShell or hello CLI tooadd a private IPv6 address tooone [secondary IP configuration](#secondary) (as long as there are no existing secondary IP configurations) for an existing network interface that is not attached tooa virtual machine.</span></span> <span data-ttu-id="f3e33-131">您無法使用任何工具 tooadd 公用的 IPv6 位址 tooa 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-131">You cannot use any tool tooadd a public IPv6 address tooa network interface.</span></span> <span data-ttu-id="f3e33-132">如需使用 IPv6 位址的詳細資訊，請參閱 [IPv6](#ipv6)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-132">See [IPv6](#ipv6) for details about using IPv6 addresses.</span></span> 

1. <span data-ttu-id="f3e33-133">登入 toohello [Azure 入口網站](https://portal.azure.com)帳戶也就是指派 （至少） 角色的權限 hello 網路參與者訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="f3e33-133">Log in toohello [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for hello Network Contributor role for your subscription.</span></span> <span data-ttu-id="f3e33-134">讀取 hello [Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)文章 toolearn 更多關於指派 tooaccounts 角色和權限。</span><span class="sxs-lookup"><span data-stu-id="f3e33-134">Read hello [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article toolearn more about assigning roles and permissions tooaccounts.</span></span>
2. <span data-ttu-id="f3e33-135">在 hello 方塊包含的 hello 文字*搜尋資源*hello hello Azure 入口網站頂端，在輸入*網路介面*。</span><span class="sxs-lookup"><span data-stu-id="f3e33-135">In hello box that contains hello text *Search resources* at hello top of hello Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="f3e33-136">當**網路介面**會出現在 hello 搜尋結果中，按一下它。</span><span class="sxs-lookup"><span data-stu-id="f3e33-136">When **network interfaces** appears in hello search results, click it.</span></span>
3. <span data-ttu-id="f3e33-137">在 hello**網路介面**刀鋒視窗中，按一下您想要針對 tooadd IPv4 位址的 hello 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-137">In hello **Network interfaces** blade that appears, click hello network interface you want tooadd an IPv4 address for.</span></span>
4. <span data-ttu-id="f3e33-138">按一下**IP 組態**在 hello**設定**hello 您選取的網路介面的 hello 刀鋒視窗的區段。</span><span class="sxs-lookup"><span data-stu-id="f3e33-138">Click **IP configurations** in hello **SETTINGS** section of hello blade for hello network interface you selected.</span></span>
5. <span data-ttu-id="f3e33-139">按一下**+ 加**hello 刀鋒視窗中開啟的 IP 組態。</span><span class="sxs-lookup"><span data-stu-id="f3e33-139">Click **+ Add** in hello blade that opens for IP configurations.</span></span>
6. <span data-ttu-id="f3e33-140">指定 hello 下列項目，然後按一下**確定**tooclose hello**新增 IP 組態**刀鋒視窗中：</span><span class="sxs-lookup"><span data-stu-id="f3e33-140">Specify hello following, then click **OK** tooclose hello **Add IP configuration** blade:</span></span>

    |<span data-ttu-id="f3e33-141">設定</span><span class="sxs-lookup"><span data-stu-id="f3e33-141">Setting</span></span>|<span data-ttu-id="f3e33-142">必要？</span><span class="sxs-lookup"><span data-stu-id="f3e33-142">Required?</span></span>|<span data-ttu-id="f3e33-143">詳細資料</span><span class="sxs-lookup"><span data-stu-id="f3e33-143">Details</span></span>|
    |---|---|---|
    |<span data-ttu-id="f3e33-144">名稱</span><span class="sxs-lookup"><span data-stu-id="f3e33-144">Name</span></span>|<span data-ttu-id="f3e33-145">是</span><span class="sxs-lookup"><span data-stu-id="f3e33-145">Yes</span></span>|<span data-ttu-id="f3e33-146">必須是唯一的 hello 網路介面</span><span class="sxs-lookup"><span data-stu-id="f3e33-146">Must be unique for hello network interface</span></span>|
    |<span data-ttu-id="f3e33-147">類型</span><span class="sxs-lookup"><span data-stu-id="f3e33-147">Type</span></span>|<span data-ttu-id="f3e33-148">是</span><span class="sxs-lookup"><span data-stu-id="f3e33-148">Yes</span></span>|<span data-ttu-id="f3e33-149">因為您要新增的 IP 組態 tooan 現有網路介面，而且每個網路介面必須有[主要](#primary)IP 設定，唯一的選擇是**次要**。</span><span class="sxs-lookup"><span data-stu-id="f3e33-149">Since you're adding an IP configuration tooan existing network interface, and each network interface must have a [primary](#primary) IP configuration, your only option is **Secondary**.</span></span>|
    |<span data-ttu-id="f3e33-150">私人 IP 位址指派方法</span><span class="sxs-lookup"><span data-stu-id="f3e33-150">Private IP address assignment method</span></span>|<span data-ttu-id="f3e33-151">是</span><span class="sxs-lookup"><span data-stu-id="f3e33-151">Yes</span></span>|<span data-ttu-id="f3e33-152">[**動態**](#dynamic)位址可能變更，如果已經在 hello 停止 （取消配置） 的狀態之後，重新啟動 hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-152">[**Dynamic**](#dynamic) addresses can change if hello virtual machine is restarted after having been in hello stopped (deallocated) state.</span></span> <span data-ttu-id="f3e33-153">Hello hello 子網路 hello 網路介面的位址空間的可用位址連接到 azure 的指派。</span><span class="sxs-lookup"><span data-stu-id="f3e33-153">Azure assigns an available address from hello address space of hello subnet hello network interface is connected to.</span></span> <span data-ttu-id="f3e33-154">[**靜態**](#static)位址不釋放，直到刪除為止 hello 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-154">[**Static**](#static) addresses aren't released until hello network interface is deleted.</span></span> <span data-ttu-id="f3e33-155">指定 hello 子網路位址空間範圍內，目前不使用另一個 IP 組態的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-155">Specify an IP address from hello subnet address space range that is not currently in use by another IP configuration.</span></span>|
    |<span data-ttu-id="f3e33-156">公用 IP 位址</span><span class="sxs-lookup"><span data-stu-id="f3e33-156">Public IP address</span></span>|<span data-ttu-id="f3e33-157">否</span><span class="sxs-lookup"><span data-stu-id="f3e33-157">No</span></span>|<span data-ttu-id="f3e33-158">**已停用：**沒有公用 IP 位址資源是目前相關聯的 toohello IP 組態。</span><span class="sxs-lookup"><span data-stu-id="f3e33-158">**Disabled:** No public IP address resource is currently associated toohello IP configuration.</span></span> <span data-ttu-id="f3e33-159">**已啟用：**選取現有的 IPv4 公用 IP 位址，或建立一個新的。</span><span class="sxs-lookup"><span data-stu-id="f3e33-159">**Enabled:** Select an existing IPv4 Public IP address, or create a new one.</span></span> <span data-ttu-id="f3e33-160">toolearn toocreate 公用 IP 位址，如何讀取 hello[公用 IP 位址](virtual-network-public-ip-address.md#create-a-public-ip-address)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-160">toolearn how toocreate a public IP address, read hello [Public IP addresses](virtual-network-public-ip-address.md#create-a-public-ip-address) article.</span></span>|
7. <span data-ttu-id="f3e33-161">完成在 hello hello 指示，手動將次要私用 IP 位址 toohello 虛擬機器作業系統[指派多個 IP 位址的電腦作業系統 toovirtual](virtual-network-multiple-ip-addresses-portal.md#os-config)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-161">Manually add secondary private IP addresses toohello virtual machine operating system by completing hello instructions in hello [Assign multiple IP addresses toovirtual machine operating systems](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span></span> <span data-ttu-id="f3e33-162">請參閱[私人](#private)手動新增 IP 位址 tooa 虛擬機器作業系統之前的特殊考量的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-162">See [private](#private) IP addresses for special considerations before manually adding IP addresses tooa virtual machine operating system.</span></span> <span data-ttu-id="f3e33-163">請勿將任何公用 IP 位址 toohello 虛擬機器的作業系統。</span><span class="sxs-lookup"><span data-stu-id="f3e33-163">Do not add any public IP addresses toohello virtual machine operating system.</span></span>

<span data-ttu-id="f3e33-164">**命令**</span><span class="sxs-lookup"><span data-stu-id="f3e33-164">**Commands**</span></span>

|<span data-ttu-id="f3e33-165">工具</span><span class="sxs-lookup"><span data-stu-id="f3e33-165">Tool</span></span>|<span data-ttu-id="f3e33-166">命令</span><span class="sxs-lookup"><span data-stu-id="f3e33-166">Command</span></span>|
|---|---|
|<span data-ttu-id="f3e33-167">CLI</span><span class="sxs-lookup"><span data-stu-id="f3e33-167">CLI</span></span>|[<span data-ttu-id="f3e33-168">az network nic ip-config create</span><span class="sxs-lookup"><span data-stu-id="f3e33-168">az network nic ip-config create</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="f3e33-169">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f3e33-169">PowerShell</span></span>|[<span data-ttu-id="f3e33-170">Add-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="f3e33-170">Add-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/add-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="change-ip-address-settings"></a><span data-ttu-id="f3e33-171">變更 IP 位址設定</span><span class="sxs-lookup"><span data-stu-id="f3e33-171">Change IP address settings</span></span>

<span data-ttu-id="f3e33-172">您可能需要 toochange hello 分派方法的 IPv4 位址，變更 hello 靜態 IPv4 位址，或變更 hello 公用 IP 位址指派 tooa 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-172">You may need toochange hello assignment method of an IPv4 address, change hello static IPv4 address, or change hello public IP address assigned tooa network interface.</span></span> <span data-ttu-id="f3e33-173">如果您要變更虛擬機器中的次要網路介面相關聯的次要 ipconfiguration 的 hello 私人 IPv4 位址 (深入了解[主要和次要網路介面](virtual-network-network-interface-vm.md#about))，虛擬位置 hello機器進入 hello 完成下列步驟的 hello 之前停止 （取消配置） 的狀態：</span><span class="sxs-lookup"><span data-stu-id="f3e33-173">If you're changing hello private IPv4 address of a secondary IP configuration associated with a secondary network interface in a virtual machine (learn more about [primary and secondary network interfaces](virtual-network-network-interface-vm.md#about)), place hello virtual machine into hello stopped (deallocated) state before completing hello following steps:</span></span> 

1. <span data-ttu-id="f3e33-174">登入 toohello [Azure 入口網站](https://portal.azure.com)帳戶也就是指派 （至少） 角色的權限 hello 網路參與者訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="f3e33-174">Log in toohello [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for hello Network Contributor role for your subscription.</span></span> <span data-ttu-id="f3e33-175">讀取 hello [Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)文章 toolearn 更多關於指派 tooaccounts 角色和權限。</span><span class="sxs-lookup"><span data-stu-id="f3e33-175">Read hello [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article toolearn more about assigning roles and permissions tooaccounts.</span></span>
2. <span data-ttu-id="f3e33-176">在 hello 方塊包含的 hello 文字*搜尋資源*hello hello Azure 入口網站頂端，在輸入*網路介面*。</span><span class="sxs-lookup"><span data-stu-id="f3e33-176">In hello box that contains hello text *Search resources* at hello top of hello Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="f3e33-177">當**網路介面**會出現在 hello 搜尋結果中，按一下它。</span><span class="sxs-lookup"><span data-stu-id="f3e33-177">When **network interfaces** appears in hello search results, click it.</span></span>
3. <span data-ttu-id="f3e33-178">在 hello**網路介面**刀鋒視窗中，按一下您想要 tooview 或變更 IP 位址設定的 hello 的網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-178">In hello **Network interfaces** blade that appears, click hello network interface you want tooview or change IP address settings for.</span></span>
4. <span data-ttu-id="f3e33-179">按一下**IP 組態**在 hello**設定**hello 您選取的網路介面的 hello 刀鋒視窗的區段。</span><span class="sxs-lookup"><span data-stu-id="f3e33-179">Click **IP configurations** in hello **SETTINGS** section of hello blade for hello network interface you selected.</span></span>
5. <span data-ttu-id="f3e33-180">按一下您想從 hello 刀鋒視窗中開啟的 IP 組態中的 hello 清單 toomodify hello IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-180">Click hello IP configuration you want toomodify from hello list in hello blade that opens for IP configurations.</span></span>
6. <span data-ttu-id="f3e33-181">變更 hello，所需的設定，使用在步驟 6 中的 hello hello 設定的 hello 資訊[新增的 IP 組態](#create-ip-config)本文一節。</span><span class="sxs-lookup"><span data-stu-id="f3e33-181">Change hello settings, as desired, using hello information about hello settings in step 6 of hello [Add an IP configuration](#create-ip-config) section of this article.</span></span> <span data-ttu-id="f3e33-182">按一下**儲存**tooclose hello IP 組態，您已變更的 hello 刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="f3e33-182">Click **Save** tooclose hello blade for hello IP configuration you changed.</span></span>

>[!NOTE]
><span data-ttu-id="f3e33-183">如果 hello 主要網路介面具有多個 IP 組態，而且您變更的主要 IP 設定 hello hello 私人 IP 位址，您必須以手動方式重新指派 hello 主要和次要 IP 位址 toohello 網路介面在 Windows (notfor Linux 必要）。</span><span class="sxs-lookup"><span data-stu-id="f3e33-183">If hello primary network interface has multiple IP configurations and you change hello private IP address of hello primary IP configuration, you must manually reassign hello primary and secondary IP addresses toohello network interface within Windows (not required for Linux).</span></span> <span data-ttu-id="f3e33-184">toomanually 指派 IP 位址 tooa 網路介面在作業系統中，讀取 hello[指派多個 IP 位址 toovirtual 機器](virtual-network-multiple-ip-addresses-portal.md#os-config)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-184">toomanually assign IP addresses tooa network interface within an operating system, read hello [Assign multiple IP addresses toovirtual machines](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span></span> <span data-ttu-id="f3e33-185">請參閱[私人](#private)手動新增 IP 位址 tooa 虛擬機器作業系統之前的特殊考量的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-185">See [private](#private) IP addresses for special considerations before manually adding IP addresses tooa virtual machine operating system.</span></span> <span data-ttu-id="f3e33-186">請勿將任何公用 IP 位址 toohello 虛擬機器的作業系統。</span><span class="sxs-lookup"><span data-stu-id="f3e33-186">Do not add any public IP addresses toohello virtual machine operating system.</span></span>

<span data-ttu-id="f3e33-187">**命令**</span><span class="sxs-lookup"><span data-stu-id="f3e33-187">**Commands**</span></span>

|<span data-ttu-id="f3e33-188">工具</span><span class="sxs-lookup"><span data-stu-id="f3e33-188">Tool</span></span>|<span data-ttu-id="f3e33-189">命令</span><span class="sxs-lookup"><span data-stu-id="f3e33-189">Command</span></span>|
|---|---|
|<span data-ttu-id="f3e33-190">CLI</span><span class="sxs-lookup"><span data-stu-id="f3e33-190">CLI</span></span>|[<span data-ttu-id="f3e33-191">az network nic ip-config update</span><span class="sxs-lookup"><span data-stu-id="f3e33-191">az network nic ip-config update</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="f3e33-192">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f3e33-192">PowerShell</span></span>|[<span data-ttu-id="f3e33-193">Set-AzureRMNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="f3e33-193">Set-AzureRMNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/set-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="remove-ip-addresses"></a><span data-ttu-id="f3e33-194">移除 IP 位址</span><span class="sxs-lookup"><span data-stu-id="f3e33-194">Remove IP addresses</span></span>

<span data-ttu-id="f3e33-195">您可以移除[私人](#private)和[公用](#public)IP 位址從網路介面，但網路介面必須永遠有至少一個私人 IPv4 位址指派 tooit。</span><span class="sxs-lookup"><span data-stu-id="f3e33-195">You can remove [private](#private) and [public](#public) IP addresses from a network interface, but a network interface must always have at least one private IPv4 address assigned tooit.</span></span>

1. <span data-ttu-id="f3e33-196">登入 toohello [Azure 入口網站](https://portal.azure.com)帳戶也就是指派 （至少） 角色的權限 hello 網路參與者訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="f3e33-196">Log in toohello [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for hello Network Contributor role for your subscription.</span></span> <span data-ttu-id="f3e33-197">讀取 hello [Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)文章 toolearn 更多關於指派 tooaccounts 角色和權限。</span><span class="sxs-lookup"><span data-stu-id="f3e33-197">Read hello [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article toolearn more about assigning roles and permissions tooaccounts.</span></span>
2. <span data-ttu-id="f3e33-198">在 hello 方塊包含的 hello 文字*搜尋資源*hello hello Azure 入口網站頂端，在輸入*網路介面*。</span><span class="sxs-lookup"><span data-stu-id="f3e33-198">In hello box that contains hello text *Search resources* at hello top of hello Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="f3e33-199">當**網路介面**會出現在 hello 搜尋結果中，按一下它。</span><span class="sxs-lookup"><span data-stu-id="f3e33-199">When **network interfaces** appears in hello search results, click it.</span></span>
3. <span data-ttu-id="f3e33-200">在 hello**網路介面**刀鋒視窗中，按一下您想要從 tooremove IP 位址的 hello 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-200">In hello **Network interfaces** blade that appears, click hello network interface you want tooremove IP addresses from.</span></span>
4. <span data-ttu-id="f3e33-201">按一下**IP 組態**在 hello**設定**hello 您選取的網路介面的 hello 刀鋒視窗的區段。</span><span class="sxs-lookup"><span data-stu-id="f3e33-201">Click **IP configurations** in hello **SETTINGS** section of hello blade for hello network interface you selected.</span></span>
5. <span data-ttu-id="f3e33-202">以滑鼠右鍵按一下[次要](#secondary)IP 設定 (您無法刪除 hello[主要](#primary)組態) 您想 toodelete，請按一下**刪除**，然後按一下  **[是]** tooconfirm hello 刪除。</span><span class="sxs-lookup"><span data-stu-id="f3e33-202">Right-click a [secondary](#secondary) IP configuration (you cannot delete hello [primary](#primary) configuration) you want toodelete, click **Delete**, then click **Yes** tooconfirm hello deletion.</span></span> <span data-ttu-id="f3e33-203">如果 hello 組態具有公用 IP 位址資源相關聯 tooit、 hello 資源分開 hello IP 設定，但 hello 資源不會刪除。</span><span class="sxs-lookup"><span data-stu-id="f3e33-203">If hello configuration had a public IP address resource associated tooit, hello resource is dissociated from hello IP configuration, but hello resource is not deleted.</span></span>
6. <span data-ttu-id="f3e33-204">關閉 hello **IP 組態**刀鋒視窗。</span><span class="sxs-lookup"><span data-stu-id="f3e33-204">Close hello **IP configurations** blade.</span></span>

<span data-ttu-id="f3e33-205">**命令**</span><span class="sxs-lookup"><span data-stu-id="f3e33-205">**Commands**</span></span>

|<span data-ttu-id="f3e33-206">工具</span><span class="sxs-lookup"><span data-stu-id="f3e33-206">Tool</span></span>|<span data-ttu-id="f3e33-207">命令</span><span class="sxs-lookup"><span data-stu-id="f3e33-207">Command</span></span>|
|---|---|
|<span data-ttu-id="f3e33-208">CLI</span><span class="sxs-lookup"><span data-stu-id="f3e33-208">CLI</span></span>|[<span data-ttu-id="f3e33-209">az network nic ip-config delete</span><span class="sxs-lookup"><span data-stu-id="f3e33-209">az network nic ip-config delete</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="f3e33-210">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f3e33-210">PowerShell</span></span>|[<span data-ttu-id="f3e33-211">Remove-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="f3e33-211">Remove-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/remove-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="ip-configurations"></a><span data-ttu-id="f3e33-212">IP 組態</span><span class="sxs-lookup"><span data-stu-id="f3e33-212">IP configurations</span></span>

<span data-ttu-id="f3e33-213">[私用](#private)以及 （選擇性）[公用](#public)tooone 指派 IP 位址或多個 IP 組態指派 tooa 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-213">[Private](#private) and (optionally) [public](#public) IP addresses are assigned tooone or more IP configurations assigned tooa network interface.</span></span> <span data-ttu-id="f3e33-214">IP 組態有兩種：</span><span class="sxs-lookup"><span data-stu-id="f3e33-214">There are two types of IP configurations:</span></span>

### <a name="primary"></a><span data-ttu-id="f3e33-215">主要</span><span class="sxs-lookup"><span data-stu-id="f3e33-215">Primary</span></span>

<span data-ttu-id="f3e33-216">每個網路介面都需指派一個主要 IP 組態。</span><span class="sxs-lookup"><span data-stu-id="f3e33-216">Each network interface is assigned one primary IP configuration.</span></span> <span data-ttu-id="f3e33-217">主要 IP 組態：</span><span class="sxs-lookup"><span data-stu-id="f3e33-217">A primary IP configuration:</span></span>

- <span data-ttu-id="f3e33-218">具有[私人](#private) [IPv4](#ipv4) tooit 指派位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-218">Has a [private](#private) [IPv4](#ipv4) address assigned tooit.</span></span> <span data-ttu-id="f3e33-219">您無法將指定私用[IPv6](#ipv6)位址 tooa 主要 IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-219">You cannot assign a private [IPv6](#ipv6) address tooa primary IP configuration.</span></span>
- <span data-ttu-id="f3e33-220">也可能[公用](#public)IPv4 位址指派 tooit。</span><span class="sxs-lookup"><span data-stu-id="f3e33-220">May also have a [public](#public) IPv4 address assigned tooit.</span></span> <span data-ttu-id="f3e33-221">您無法指派公用 IPv6 位址 tooa 主要或次要 IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-221">You cannot assign a public IPv6 address tooa primary or secondary IP configuration.</span></span> <span data-ttu-id="f3e33-222">不過您可以指派公用的 IPv6 位址 tooan Azure 負載平衡器，這可以負載平衡流量 tooa 虛擬機器的私用的 IPv6 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-222">You can however, assign a public IPv6 address tooan Azure load balancer, which can load balance traffic tooa virtual machine's private IPv6 address.</span></span> <span data-ttu-id="f3e33-223">如需詳細資訊，請參閱 [IPv6 的詳細資訊和限制](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-223">For more information, see [details and limitations for IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations).</span></span>

### <a name="secondary"></a><span data-ttu-id="f3e33-224">次要</span><span class="sxs-lookup"><span data-stu-id="f3e33-224">Secondary</span></span>

<span data-ttu-id="f3e33-225">此外 tooa 主要 IP 設定網路介面可能有零個或多個次要 IP 組態指派 tooit。</span><span class="sxs-lookup"><span data-stu-id="f3e33-225">In addition tooa primary IP configuration, a network interface may have zero or more secondary IP configurations assigned tooit.</span></span> <span data-ttu-id="f3e33-226">次要 IP 組態：</span><span class="sxs-lookup"><span data-stu-id="f3e33-226">A secondary IP configuration:</span></span>

- <span data-ttu-id="f3e33-227">必須有私用的 IPv4 或 IPv6 位址指派 tooit。</span><span class="sxs-lookup"><span data-stu-id="f3e33-227">Must have a private IPv4 or IPv6 address assigned tooit.</span></span> <span data-ttu-id="f3e33-228">如果 hello 位址是 IPv6，hello 網路介面只可以有一個次要 IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-228">If hello address is IPv6, hello network interface can only have one secondary IP configuration.</span></span> <span data-ttu-id="f3e33-229">如果 hello 位址是 IPv4，hello 網路介面可能會有指派 tooit 的多個次要 IP 組態。</span><span class="sxs-lookup"><span data-stu-id="f3e33-229">If hello address is IPv4, hello network interface may have multiple secondary IP configurations assigned tooit.</span></span> <span data-ttu-id="f3e33-230">toolearn 有關 tooa 網路介面，可以指派多少的私人和公用 IPv4 位址的詳細資訊，請參閱 「 hello [Azure 限制](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-230">toolearn more about how many private and public IPv4 addresses can be assigned tooa network interface, see hello [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span>  
- <span data-ttu-id="f3e33-231">可能也有公用的 IPv4 位址指派 tooit，如果 hello 私人 IP 位址是 IPv4。</span><span class="sxs-lookup"><span data-stu-id="f3e33-231">May also have a public IPv4 address assigned tooit, if hello private IP address is IPv4.</span></span> <span data-ttu-id="f3e33-232">如果 hello 私人 IP 位址是 IPv6，您無法指派的公用 IPv4 或 IPv6 位址 toohello IP 組態。</span><span class="sxs-lookup"><span data-stu-id="f3e33-232">If hello private IP address is IPv6, you cannot assign a public IPv4 or IPv6 address toohello IP configuration.</span></span> <span data-ttu-id="f3e33-233">指派多個 IP 位址 tooa 網路介面是在案例中很有幫助例如：</span><span class="sxs-lookup"><span data-stu-id="f3e33-233">Assigning multiple IP addresses tooa network interface is helpful in scenarios such as:</span></span>
    - <span data-ttu-id="f3e33-234">在單一伺服器上，以不同 IP 位址和 SSL 憑證裝載多個網站或服務。</span><span class="sxs-lookup"><span data-stu-id="f3e33-234">Hosting multiple websites or services with different IP addresses and SSL certificates on a single server.</span></span>
    - <span data-ttu-id="f3e33-235">做為網路虛擬設備 (例如防火牆或負載平衡器) 的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-235">A virtual machine serving as a network virtual appliance, such as a firewall or load balancer.</span></span>
    - <span data-ttu-id="f3e33-236">hello 能力 tooadd 任何 hello 私人 IPv4 位址的任何 hello 網路介面 tooan Azure 負載平衡器後端集區。</span><span class="sxs-lookup"><span data-stu-id="f3e33-236">hello ability tooadd any of hello private IPv4 addresses for any of hello network interfaces tooan Azure Load Balancer back-end pool.</span></span> <span data-ttu-id="f3e33-237">在過去的 hello，只有 hello 主要 IPv4 位址 hello 主要網路介面無法新增 tooa 後端集區。</span><span class="sxs-lookup"><span data-stu-id="f3e33-237">In hello past, only hello primary IPv4 address for hello primary network interface could be added tooa back-end pool.</span></span> <span data-ttu-id="f3e33-238">toolearn 深入了解如何 tooload 平衡多個 IPv4 組態，請參閱 hello[負載平衡多個 IP 組態](../load-balancer/load-balancer-multiple-ip.md?toc=%2fazure%2fvirtual-network%2ftoc.json)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-238">toolearn more about how tooload balance multiple IPv4 configurations, see hello [Load balancing multiple IP configurations](../load-balancer/load-balancer-multiple-ip.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> 
    - <span data-ttu-id="f3e33-239">hello 能力 tooload 平衡一個 IPv6 位址指派的 tooa 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-239">hello ability tooload balance one IPv6 address assigned tooa network interface.</span></span> <span data-ttu-id="f3e33-240">toolearn 深入了解如何 tooload 平衡 tooa 私用的 IPv6 位址，請參閱 hello[負載的平衡的 IPv6 位址](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-240">toolearn more about how tooload balance tooa private IPv6 address, see hello [Load balance IPv6 addresses](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span>


## <a name="address-types"></a><span data-ttu-id="f3e33-241">位址類型</span><span class="sxs-lookup"><span data-stu-id="f3e33-241">Address types</span></span>

<span data-ttu-id="f3e33-242">您可以指派下列類型的 IP 位址 tooan hello [IP 組態](#ip-configurations):</span><span class="sxs-lookup"><span data-stu-id="f3e33-242">You can assign hello following types of IP addresses tooan [IP configuration](#ip-configurations):</span></span>

### <a name="private"></a><span data-ttu-id="f3e33-243">私人</span><span class="sxs-lookup"><span data-stu-id="f3e33-243">Private</span></span>

<span data-ttu-id="f3e33-244">私用[IPv4](#ipv4)位址啟用虛擬機器 toocommunicate 與虛擬網路或其他連線的網路中的其他資源。</span><span class="sxs-lookup"><span data-stu-id="f3e33-244">Private [IPv4](#ipv4) addresses enable a virtual machine toocommunicate with other resources in a virtual network or other connected networks.</span></span> <span data-ttu-id="f3e33-245">無法通訊，輸入虛擬機器也不可以 hello 虛擬機器通訊輸出具有私用[IPv6](#ipv6)位址，有一個例外狀況。</span><span class="sxs-lookup"><span data-stu-id="f3e33-245">A virtual machine cannot be communicated inbound to, nor can hello virtual machine communicate outbound with a private [IPv6](#ipv6) address, with one exception.</span></span> <span data-ttu-id="f3e33-246">虛擬機器可以與 hello Azure 負載平衡器使用 IPv6 位址進行通訊。</span><span class="sxs-lookup"><span data-stu-id="f3e33-246">A virtual machine can communicate with hello Azure load balancer using an IPv6 address.</span></span> <span data-ttu-id="f3e33-247">如需詳細資訊，請參閱 [IPv6 的詳細資訊和限制](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-247">For more information, see [details and limitations for IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations).</span></span> 

<span data-ttu-id="f3e33-248">根據預設，hello Azure DHCP 伺服器指派 hello 私人 IPv4 位址[主要 IP 設定](#primary)hello 網路介面 toohello 網路介面的 hello 虛擬機器作業系統內。</span><span class="sxs-lookup"><span data-stu-id="f3e33-248">By default, hello Azure DHCP servers assign hello private IPv4 address for hello [primary IP configuration](#primary) of hello network interface toohello network interface within hello virtual machine operating system.</span></span> <span data-ttu-id="f3e33-249">除非必要，您應該永遠不會手動設定 hello hello 虛擬機器的作業系統內的網路介面的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-249">Unless necessary, you should never manually set hello IP address of a network interface within hello virtual machine's operating system.</span></span> 

> [!WARNING]
> <span data-ttu-id="f3e33-250">如果 hello 做 hello 主要 IP 位址的虛擬機器作業系統內的網路介面，hello 分派 toohello 主要 IP 設定 hello 主要網路介面的私人 IPv4 位址和以往不同設定的 IPv4 位址連接 tooa在 Azure 中的虛擬機器，您會失去連線能力 toohello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-250">If hello IPv4 address set as hello primary IP address of a network interface within a virtual machine's operating system is ever different than hello private IPv4 address assigned toohello primary IP configuration of hello primary network interface attached tooa virtual machine within Azure, you lose connectivity toohello virtual machine.</span></span>

<span data-ttu-id="f3e33-251">有必要 toomanually 設定 hello hello 虛擬機器的作業系統內的網路介面的 IP 位址所在的方案。</span><span class="sxs-lookup"><span data-stu-id="f3e33-251">There are scenarios where it's necessary toomanually set hello IP address of a network interface within hello virtual machine's operating system.</span></span> <span data-ttu-id="f3e33-252">例如，您必須手動設定 Windows 作業系統的 hello 主要和次要 IP 位址加入多個 IP 位址 tooan Azure 虛擬機器時。</span><span class="sxs-lookup"><span data-stu-id="f3e33-252">For example, you must manually set hello primary and secondary IP addresses of a Windows operating system when adding multiple IP addresses tooan Azure virtual machine.</span></span> <span data-ttu-id="f3e33-253">針對 Linux 虛擬機器，您可能只需要 toomanually 組 hello 次要的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-253">For a Linux virtual machine, you may only need toomanually set hello secondary IP addresses.</span></span> <span data-ttu-id="f3e33-254">請參閱[新增 IP 位址 tooa VM 作業系統](virtual-network-multiple-ip-addresses-portal.md#os-config)如需詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="f3e33-254">See [Add IP addresses tooa VM operating system](virtual-network-multiple-ip-addresses-portal.md#os-config) for details.</span></span> <span data-ttu-id="f3e33-255">當您手動設定 hello hello 作業系統內的 IP 位址時，建議您一律指派 hello 位址 toohello IP 網路介面設定使用 hello 靜態 （而非動態） 的分派方法。</span><span class="sxs-lookup"><span data-stu-id="f3e33-255">When you manually set hello IP address within hello operating system, it's recommended that you always assign hello addresses toohello IP configuration for a network interface using hello static (rather than dynamic) assignment method.</span></span> <span data-ttu-id="f3e33-256">指派 hello 位址使用 hello 靜態方法，可確保 hello 位址不會在 Azure 中變更。</span><span class="sxs-lookup"><span data-stu-id="f3e33-256">Assigning hello address using hello static method ensures that hello address does not change within Azure.</span></span> <span data-ttu-id="f3e33-257">如果您需要指派 tooan IP 組態的 toochange hello 位址，建議您：</span><span class="sxs-lookup"><span data-stu-id="f3e33-257">If you ever need toochange hello address assigned tooan IP configuration, it's recommended that you:</span></span>

1. <span data-ttu-id="f3e33-258">tooensure hello 虛擬機器正在接收來自 hello Azure DHCP 伺服器的位址，變更 hello 作業系統和重新啟動 hello 虛擬機器中的 hello IP 位址後 tooDHCP hello 指派。</span><span class="sxs-lookup"><span data-stu-id="f3e33-258">tooensure hello virtual machine is receiving an address from hello Azure DHCP servers, change hello assignment of hello IP address back tooDHCP within hello operating system and restart hello virtual machine.</span></span>
2. <span data-ttu-id="f3e33-259">停止 （取消配置） hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-259">Stop (deallocate) hello virtual machine.</span></span>
3. <span data-ttu-id="f3e33-260">變更在 Azure 中的 hello IP 組態的 hello IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-260">Change hello IP address for hello IP configuration within Azure.</span></span>
4. <span data-ttu-id="f3e33-261">啟動 hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-261">Start hello virtual machine.</span></span>
5. <span data-ttu-id="f3e33-262">[手動設定](virtual-network-multiple-ip-addresses-portal.md#os-config)hello 次要 IP hello 作業系統 （以及在 Windows hello 主要 IP 位址） 內的位址 toomatch 您在 Azure 中的設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-262">[Manually configure](virtual-network-multiple-ip-addresses-portal.md#os-config) hello secondary IP addresses within hello operating system (and also hello primary IP address within Windows) toomatch what you set within Azure.</span></span>
 
<span data-ttu-id="f3e33-263">依照 hello 先前的步驟，hello 私用 IP 位址指派 toohello 網路介面在 Azure 中，並在虛擬機器的作業系統，維持 hello 相同。</span><span class="sxs-lookup"><span data-stu-id="f3e33-263">By following hello previous steps, hello private IP address assigned toohello network interface within Azure, and within a virtual machine's operating system, remain hello same.</span></span> <span data-ttu-id="f3e33-264">其中您手動設定 IP 位址內的作業系統，您訂用帳戶內的虛擬機器，請考慮加入 Azure tookeep 追蹤[標記](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags)toohello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-264">tookeep track of which virtual machines within your subscription that you've manually set IP addresses within an operating system for, consider adding an Azure [tag](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags) toohello virtual machines.</span></span> <span data-ttu-id="f3e33-265">例如，您可以使用「IP 位址指派：靜態」。</span><span class="sxs-lookup"><span data-stu-id="f3e33-265">You might use "IP address assignment: Static", for example.</span></span> <span data-ttu-id="f3e33-266">如此一來，您可以輕鬆地找到 hello 虛擬機器您已經手動設定 hello IP 位址 hello 作業系統內您訂用帳戶內。</span><span class="sxs-lookup"><span data-stu-id="f3e33-266">This way, you can easily find hello virtual machines within your subscription that you've manually set hello IP address for within hello operating system.</span></span>

<span data-ttu-id="f3e33-267">此外 tooenabling 虛擬機器 toocommunicate 與其他資源內 hello 相同，或已連線虛擬網路的私人 IP 位址也可讓虛擬機器 toocommunicate 輸出 toohello 網際網路。</span><span class="sxs-lookup"><span data-stu-id="f3e33-267">In addition tooenabling a virtual machine toocommunicate with other resources within hello same, or connected virtual networks, a private IP address also enables a virtual machine toocommunicate outbound toohello Internet.</span></span> <span data-ttu-id="f3e33-268">輸出連接都是由 Azure tooan 無法預期的公用 IP 位址轉譯的來源網路位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-268">Outbound connections are source network address translated by Azure tooan unpredictable public IP address.</span></span> <span data-ttu-id="f3e33-269">深入了解 Azure 輸出的網際網路連線，讀取 hello toolearn [Azure 輸出的網際網路連線](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-269">toolearn more about Azure outbound Internet connectivity, read hello [Azure outbound Internet connectivity](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> <span data-ttu-id="f3e33-270">您無法將輸入的 tooa 虛擬機器的私人 IP 位址從 hello 網際網路進行通訊。</span><span class="sxs-lookup"><span data-stu-id="f3e33-270">You cannot communicate inbound tooa virtual machine's private IP address from hello Internet.</span></span>

### <a name="public"></a><span data-ttu-id="f3e33-271">公開</span><span class="sxs-lookup"><span data-stu-id="f3e33-271">Public</span></span>

<span data-ttu-id="f3e33-272">公用 IP 位址啟用 hello 網際網路中的輸入的連線 tooa 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-272">Public IP addresses enable inbound connectivity tooa virtual machine from hello Internet.</span></span> <span data-ttu-id="f3e33-273">傳出連接 toohello 網際網路使用可預期的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-273">Outbound connections toohello Internet use a predictable IP address.</span></span> <span data-ttu-id="f3e33-274">如需詳細資訊，請參閱[了解 Azure 中的輸出連線](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="f3e33-274">See [Understanding outbound connections in Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json) for details.</span></span> <span data-ttu-id="f3e33-275">您可能會指派一個公用 IP 位址 tooan IP 設定，但不需要。</span><span class="sxs-lookup"><span data-stu-id="f3e33-275">You may assign a public IP address tooan IP configuration, but aren't required to.</span></span> <span data-ttu-id="f3e33-276">如果您不指派公用 IP 位址 tooa 虛擬機器，它仍然可以進行通訊輸出 toohello 網際網路使用其私人 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-276">If you don't assign a public IP address tooa virtual machine, it can still communicate outbound toohello Internet using its private IP address.</span></span> <span data-ttu-id="f3e33-277">更多關於公用 IP 位址，讀取 hello toolearn[公用 IP 位址](virtual-network-public-ip-address.md)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-277">toolearn more about public IP addresses, read hello [Public IP address](virtual-network-public-ip-address.md) article.</span></span>

<span data-ttu-id="f3e33-278">有限制 toohello 數目私人和公用 IP 位址，您可以指派 tooa 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-278">There are limits toohello number of private and public IP addresses that you can assign tooa network interface.</span></span> <span data-ttu-id="f3e33-279">如需詳細資訊，請閱讀 hello [Azure 限制](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-279">For details, read hello [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span>

> [!NOTE]
> <span data-ttu-id="f3e33-280">Azure 會將轉譯的虛擬機器的私人 IP 位址 tooa 公用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-280">Azure translates a virtual machine's private IP address tooa public IP address.</span></span> <span data-ttu-id="f3e33-281">如此一來，hello 作業系統不會察覺指派 tooit 任何公用 IP 位址，所以不需要 tooever 手動指派 hello 作業系統內的公用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-281">As a result, hello operating system is unaware of any public IP addresses assigned tooit, so there is no need tooever manually assign a public IP address within hello operating system.</span></span>

## <a name="assignment-methods"></a><span data-ttu-id="f3e33-282">指派方法</span><span class="sxs-lookup"><span data-stu-id="f3e33-282">Assignment methods</span></span>

<span data-ttu-id="f3e33-283">使用下列方法指派的 hello 指派公用與私人 IP 位址：</span><span class="sxs-lookup"><span data-stu-id="f3e33-283">Public and private IP addresses are assigned using hello following assignment methods:</span></span>

### <a name="dynamic"></a><span data-ttu-id="f3e33-284">動態</span><span class="sxs-lookup"><span data-stu-id="f3e33-284">Dynamic</span></span>

<span data-ttu-id="f3e33-285">系統預設會指派動態的私人 IPv4 和 IPv6 (選擇性) 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-285">Dynamic private IPv4 and IPv6 (optionally) addresses are assigned by default.</span></span> <span data-ttu-id="f3e33-286">動態位址可能變更，如果 hello 虛擬機器會放入 hello 停止 （取消配置） 的狀態，然後再啟動。</span><span class="sxs-lookup"><span data-stu-id="f3e33-286">Dynamic addresses can change if hello virtual machine is put into hello stopped (deallocated) state, then started.</span></span> <span data-ttu-id="f3e33-287">如果您不想 IPv4 位址 toochange hello hello 虛擬機器的存留期間，指派 hello 位址使用 hello 靜態方法。</span><span class="sxs-lookup"><span data-stu-id="f3e33-287">If you don't want IPv4 addresses toochange for hello life of hello virtual machine, assign hello addresses using hello static method.</span></span> <span data-ttu-id="f3e33-288">您只能指派私用的 IPv6 位址使用 hello 動態指派的方法。</span><span class="sxs-lookup"><span data-stu-id="f3e33-288">You can only assign a private IPv6 address using hello dynamic assignment method.</span></span> <span data-ttu-id="f3e33-289">您無法指派公用 IPv6 位址 tooan IP 設定使用哪一種方法。</span><span class="sxs-lookup"><span data-stu-id="f3e33-289">You cannot assign a public IPv6 address tooan IP configuration using either method.</span></span>

### <a name="static"></a><span data-ttu-id="f3e33-290">靜態</span><span class="sxs-lookup"><span data-stu-id="f3e33-290">Static</span></span>

<span data-ttu-id="f3e33-291">刪除虛擬機器之前，使用 hello 靜態方法指派的位址不會變更。</span><span class="sxs-lookup"><span data-stu-id="f3e33-291">Addresses assigned using hello static method do not change until a virtual machine is deleted.</span></span> <span data-ttu-id="f3e33-292">Hello 子網路 hello 網路介面是在中，手動指派靜態私人 IPv4 位址 tooan IP 組態從 hello 位址空間。</span><span class="sxs-lookup"><span data-stu-id="f3e33-292">You manually assign a static private IPv4 address tooan IP configuration from hello address space for hello subnet hello network interface is in.</span></span> <span data-ttu-id="f3e33-293">（選擇性），您可以指派一個公用或私用靜態 IPv4 位址 tooan IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-293">You can (optionally) assign a public or private static IPv4 address tooan IP configuration.</span></span> <span data-ttu-id="f3e33-294">您無法指定一個靜態公用或私用 IPv6 位址 tooan IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-294">You cannot assign a static public or private IPv6 address tooan IP configuration.</span></span> <span data-ttu-id="f3e33-295">toolearn 深入了解 Azure 如何指派靜態公用 IPv4 位址，請參閱 hello[公用 IP 位址](virtual-network-public-ip-address.md)發行項。</span><span class="sxs-lookup"><span data-stu-id="f3e33-295">toolearn more about how Azure assigns static public IPv4 addresses, see hello [Public IP address](virtual-network-public-ip-address.md) article.</span></span>

## <a name="ip-address-versions"></a><span data-ttu-id="f3e33-296">IP 位址版本</span><span class="sxs-lookup"><span data-stu-id="f3e33-296">IP address versions</span></span>

<span data-ttu-id="f3e33-297">您可以指定 hello 指派位址時，下列版本：</span><span class="sxs-lookup"><span data-stu-id="f3e33-297">You can specify hello following versions when assigning addresses:</span></span>

### <a name="ipv4"></a><span data-ttu-id="f3e33-298">IPv4</span><span class="sxs-lookup"><span data-stu-id="f3e33-298">IPv4</span></span>

<span data-ttu-id="f3e33-299">每個網路介面都必須有一個[主要](#primary) IP 組態具有指派的[私人](#private) [IPv4](#ipv4) 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-299">Each network interface must have one [primary](#primary) IP configuration with an assigned [private](#private) [IPv4](#ipv4) address.</span></span> <span data-ttu-id="f3e33-300">您可以新增一或多個[次要](#secondary) IP 組態，其各擁有一個 IPv4 私人及 (選擇性) 一個 IPv4 [公用](#public) IP 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-300">You can add one or more [secondary](#secondary) IP configurations that each have an IPv4 private and (optionally) an IPv4 [public](#public) IP address.</span></span>

### <a name="ipv6"></a><span data-ttu-id="f3e33-301">IPv6</span><span class="sxs-lookup"><span data-stu-id="f3e33-301">IPv6</span></span>

<span data-ttu-id="f3e33-302">您可以指定零個或一個私用[IPv6](#ipv6)位址 tooone 次要 IP 設定的網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-302">You can assign zero or one private [IPv6](#ipv6) address tooone secondary IP configuration of a network interface.</span></span> <span data-ttu-id="f3e33-303">hello 網路介面不能有任何現有的次要 IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-303">hello network interface cannot have any existing secondary IP configurations.</span></span> <span data-ttu-id="f3e33-304">您無法將 IP 組態使用 hello 入口網站的 IPv6 位址。</span><span class="sxs-lookup"><span data-stu-id="f3e33-304">You cannot add an IP configuration with an IPv6 address using hello portal.</span></span> <span data-ttu-id="f3e33-305">使用 PowerShell 或 CLI tooadd IP 組態的 hello 與私用 IPv6 位址 tooan 現有網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-305">Use PowerShell or hello CLI tooadd an IP configuration with a private IPv6 address tooan existing network interface.</span></span> <span data-ttu-id="f3e33-306">hello 網路介面不能附加的 tooan 現有 VM。</span><span class="sxs-lookup"><span data-stu-id="f3e33-306">hello network interface cannot be attached tooan existing VM.</span></span>

> [!NOTE]
> <span data-ttu-id="f3e33-307">雖然您可以建立網路介面的 IPv6 位址使用 hello 入口網站，您無法加入現有網路介面 tooa 全新或現有的虛擬機器，使用 hello 入口網站。</span><span class="sxs-lookup"><span data-stu-id="f3e33-307">Though you can create a network interface with an IPv6 address using hello portal, you can't add an existing network interface tooa new, or existing virtual machine, using hello portal.</span></span> <span data-ttu-id="f3e33-308">使用 PowerShell 或 hello Azure CLI 2.0 toocreate 網路介面搭配私用的 IPv6 位址，然後在建立虛擬機器時附加 hello 網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-308">Use PowerShell or hello Azure CLI 2.0 toocreate a network interface with a private IPv6 address, then attach hello network interface when creating a virtual machine.</span></span> <span data-ttu-id="f3e33-309">您無法附加指派 tooit tooan 現有虛擬機器的私用的 IPv6 位址的網路介面。</span><span class="sxs-lookup"><span data-stu-id="f3e33-309">You cannot attach a network interface with a private IPv6 address assigned tooit tooan existing virtual machine.</span></span> <span data-ttu-id="f3e33-310">您無法加入私人 IPv6 位址 tooan IP 設定為使用任何工具 （入口網站、 CLI 或 PowerShell） 任何網路介面附加 tooa 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="f3e33-310">You cannot add a private IPv6 address tooan IP configuration for any network interface attached tooa virtual machine using any tools (portal, CLI, or PowerShell).</span></span>

<span data-ttu-id="f3e33-311">您無法指派公用 IPv6 位址 tooa 主要或次要 IP 設定。</span><span class="sxs-lookup"><span data-stu-id="f3e33-311">You can't assign a public IPv6 address tooa primary or secondary IP configuration.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f3e33-312">後續步驟</span><span class="sxs-lookup"><span data-stu-id="f3e33-312">Next steps</span></span>
<span data-ttu-id="f3e33-313">toocreate 虛擬機器使用不同的 IP 組態，讀取 hello 下列文章：</span><span class="sxs-lookup"><span data-stu-id="f3e33-313">toocreate a virtual machine with different IP configurations, read hello following articles:</span></span>

|<span data-ttu-id="f3e33-314">Task</span><span class="sxs-lookup"><span data-stu-id="f3e33-314">Task</span></span>|<span data-ttu-id="f3e33-315">工具</span><span class="sxs-lookup"><span data-stu-id="f3e33-315">Tool</span></span>|
|---|---|
|<span data-ttu-id="f3e33-316">建立具有多個 NIC 的 VM</span><span class="sxs-lookup"><span data-stu-id="f3e33-316">Create a VM with multiple NICs</span></span>|<span data-ttu-id="f3e33-317">[CLI](../virtual-machines/linux/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json)、[PowerShell](../virtual-machines/windows/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="f3e33-317">[CLI](../virtual-machines/linux/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../virtual-machines/windows/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>|
|<span data-ttu-id="f3e33-318">建立具有多個 IPv4 位址的單一 NIC VM</span><span class="sxs-lookup"><span data-stu-id="f3e33-318">Create a single NIC VM with multiple IPv4 addresses</span></span>|<span data-ttu-id="f3e33-319">[CLI](virtual-network-multiple-ip-addresses-cli.md)、[PowerShell](virtual-network-multiple-ip-addresses-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="f3e33-319">[CLI](virtual-network-multiple-ip-addresses-cli.md), [PowerShell](virtual-network-multiple-ip-addresses-powershell.md)</span></span>|
|<span data-ttu-id="f3e33-320">建立具有私人 IPv6 位址的單一 NIC VM (在 Azure Load Balancer 後端)</span><span class="sxs-lookup"><span data-stu-id="f3e33-320">Create a single NIC VM with a private IPv6 address (behind an Azure Load Balancer)</span></span>|<span data-ttu-id="f3e33-321">[CLI](../load-balancer/load-balancer-ipv6-internet-cli.md?toc=%2fazure%2fvirtual-network%2ftoc.json)、[PowerShell](../load-balancer/load-balancer-ipv6-internet-ps.md?toc=%2fazure%2fvirtual-network%2ftoc.json)、[Azure Resource Manager 範本](../load-balancer/load-balancer-ipv6-internet-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="f3e33-321">[CLI](../load-balancer/load-balancer-ipv6-internet-cli.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../load-balancer/load-balancer-ipv6-internet-ps.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [Azure Resource Manager template](../load-balancer/load-balancer-ipv6-internet-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>|
