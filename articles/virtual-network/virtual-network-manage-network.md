---
title: "aaaCreate，變更或刪除 Azure 虛擬網路 |Microsoft 文件"
description: "了解如何 toocreate，變更或刪除虛擬網路在 Azure 中。"
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/10/2017
ms.author: jdial
ms.openlocfilehash: 7dfe6632753182eae2a13bb0327f03f75e03d057
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/06/2017
---
# <a name="create-change-or-delete-a-virtual-network"></a><span data-ttu-id="90d6b-103">建立、變更或刪除虛擬網路</span><span class="sxs-lookup"><span data-stu-id="90d6b-103">Create, change, or delete a virtual network</span></span>

<span data-ttu-id="90d6b-104">了解如何 toocreate 和刪除虛擬網路] 和 [變更設定，例如 DNS 伺服器和 IP 位址空間，現有的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-104">Learn how toocreate and delete a virtual network and change settings, like DNS servers and IP address spaces, for an existing virtual network.</span></span>

<span data-ttu-id="90d6b-105">虛擬網路是網路的您自己 hello 雲端中的表示法。</span><span class="sxs-lookup"><span data-stu-id="90d6b-105">A virtual network is a representation of your own network in hello cloud.</span></span> <span data-ttu-id="90d6b-106">虛擬網路是 hello 的隔離是 hello 的專用的 tooyour Azure 訂用帳戶的 Azure 雲端的邏輯。</span><span class="sxs-lookup"><span data-stu-id="90d6b-106">A virtual network is a logical isolation of hello Azure cloud that is dedicated tooyour Azure subscription.</span></span> <span data-ttu-id="90d6b-107">對於您建立的每個虛擬網路，您可以：</span><span class="sxs-lookup"><span data-stu-id="90d6b-107">For each virtual network that you create, you can:</span></span>
- <span data-ttu-id="90d6b-108">選擇的位址空間 tooassign。</span><span class="sxs-lookup"><span data-stu-id="90d6b-108">Choose an address space tooassign.</span></span> <span data-ttu-id="90d6b-109">位址空間包含使用無類別網域間路由 (CIDR) 表示法所定義的一或多個位址範圍，例如 10.0.0.0/16。</span><span class="sxs-lookup"><span data-stu-id="90d6b-109">An address space consists of one or more address ranges that are defined by using Classless Inter-Domain Routing (CIDR) notation, like 10.0.0.0/16.</span></span>
- <span data-ttu-id="90d6b-110">請選擇 toouse hello Azure 提供的 DNS 伺服器，或使用您自己的 DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-110">Choose toouse hello Azure-provided DNS server, or use your own DNS server.</span></span> <span data-ttu-id="90d6b-111">連接的 toohello 虛擬網路的所有資源都皆 hello 虛擬網路中的此 DNS 伺服器 tooresolve 名稱。</span><span class="sxs-lookup"><span data-stu-id="90d6b-111">All resources that are connected toohello virtual network are assigned this DNS server tooresolve names within hello virtual network.</span></span>
- <span data-ttu-id="90d6b-112">區段 hello 虛擬網路子網路，到每個都有它自己的位址範圍，hello hello 虛擬網路位址空間中。</span><span class="sxs-lookup"><span data-stu-id="90d6b-112">Segment hello virtual network into subnets, each with its own address range, within hello address space of hello virtual network.</span></span> <span data-ttu-id="90d6b-113">如何 toocreate、 變更和刪除子網路，請參閱的 toolearn[新增、 變更或刪除子網路](virtual-network-manage-subnet.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-113">toolearn how toocreate, change, and delete subnets, see [Add, change, or delete subnets](virtual-network-manage-subnet.md).</span></span>

<span data-ttu-id="90d6b-114">本文將說明 toocreate，變更，並刪除虛擬網路使用 hello Azure Resource Manager 部署模型。</span><span class="sxs-lookup"><span data-stu-id="90d6b-114">This article explains how toocreate, change, and delete virtual networks by using hello Azure Resource Manager deployment model.</span></span>

## <span data-ttu-id="90d6b-115"><a name="before"></a>開始之前</span><span class="sxs-lookup"><span data-stu-id="90d6b-115"><a name="before"></a>Before you begin</span></span>

<span data-ttu-id="90d6b-116">開始本文章中所述的 hello 工作之前，請完成下列必要條件 hello:</span><span class="sxs-lookup"><span data-stu-id="90d6b-116">Before you begin hello tasks that are described in this article, complete hello following prerequisites:</span></span>

- <span data-ttu-id="90d6b-117">如果您是新 tooworking 搭配虛擬網路時，我們建議您檢閱中的 hello 練習[建立第一個 Azure 虛擬網路](virtual-network-get-started-vnet-subnet.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-117">If you're new tooworking with virtual networks, we recommend that you review hello exercise in [Create your first Azure virtual network](virtual-network-get-started-vnet-subnet.md).</span></span> <span data-ttu-id="90d6b-118">這個練習有助您更加熟悉虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-118">This exercise can help you become more familiar with virtual networks.</span></span>
- <span data-ttu-id="90d6b-119">有關限制的虛擬網路，檢閱 toolearn [Azure 限制](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-119">toolearn about limits for virtual networks, review [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span></span>
- <span data-ttu-id="90d6b-120">登入 Azure 入口網站 toohello、 hello Azure 命令列工具 (Azure CLI) 或 Azure PowerShell，使用您的 Azure 帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-120">Sign in toohello Azure portal, hello Azure command-line tool (Azure CLI), or Azure PowerShell by using your Azure account.</span></span> <span data-ttu-id="90d6b-121">如果您沒有 Azure 帳戶，請註冊[免費試用帳戶](https://azure.microsoft.com/free)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-121">If you don't have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="90d6b-122">如果您計劃的 toouse PowerShell 命令的這篇文章中所述的 toocomplete hello 工作，您必須先[安裝和設定 Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-122">If you plan toouse PowerShell commands toocomplete hello tasks described in this article, you must first [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="90d6b-123">確定您擁有 hello hello Azure PowerShell cmdlet 安裝最新版本。</span><span class="sxs-lookup"><span data-stu-id="90d6b-123">Ensure that you have hello most recent version of hello Azure PowerShell cmdlets installed.</span></span> <span data-ttu-id="90d6b-124">tooget 說明 hello 範例中的 PowerShell 命令的輸入`get-help <command> -full`。</span><span class="sxs-lookup"><span data-stu-id="90d6b-124">tooget help for PowerShell commands in hello examples, enter `get-help <command> -full`.</span></span>
- <span data-ttu-id="90d6b-125">如果您計劃的 toouse Azure CLI 命令的這篇文章中所述的 toocomplete hello 工作，您必須先[安裝及設定 Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-125">If you plan toouse Azure CLI commands toocomplete hello tasks described in this article, you must first [install and configure Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="90d6b-126">確定您擁有 hello Azure CLI 安裝最新版本。</span><span class="sxs-lookup"><span data-stu-id="90d6b-126">Ensure that you have hello most recent version of Azure CLI installed.</span></span> <span data-ttu-id="90d6b-127">使用 Azure CLI 命令的 tooget 說明輸入`az <command> --help`。</span><span class="sxs-lookup"><span data-stu-id="90d6b-127">tooget help with Azure CLI commands, enter `az <command> --help`.</span></span>


## <span data-ttu-id="90d6b-128"><a name="create-vnet"></a>建立虛擬網路</span><span class="sxs-lookup"><span data-stu-id="90d6b-128"><a name="create-vnet"></a>Create a virtual network</span></span>

<span data-ttu-id="90d6b-129">toocreate 虛擬網路：</span><span class="sxs-lookup"><span data-stu-id="90d6b-129">toocreate a virtual network:</span></span>

1. <span data-ttu-id="90d6b-130">登入 toohello[入口網站](https://portal.azure.com)指派 hello 網路參與者角色 （至少） 訂用帳戶的權限的帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-130">Sign in toohello [portal](https://portal.azure.com) with an account that is assigned permissions for hello Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="90d6b-131">進一步了解指派角色和權限 tooaccounts toolearn 看到[Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-131">toolearn more about assigning roles and permissions tooaccounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="90d6b-132">按一下 [新增]  >  [網路]  >  [虛擬網路]。</span><span class="sxs-lookup"><span data-stu-id="90d6b-132">Click **New** > **Networking** > **Virtual network**.</span></span>
3. <span data-ttu-id="90d6b-133">在 hello**虛擬網路**刀鋒視窗中的，在 hello**選取部署模型**方塊中，保留**資源管理員**選取，然後再按一下**建立**.</span><span class="sxs-lookup"><span data-stu-id="90d6b-133">On hello **Virtual network** blade, in hello **Select a deployment model** box, leave **Resource Manager** selected, and then click **Create**.</span></span>
4. <span data-ttu-id="90d6b-134">在 hello**建立虛擬網路**刀鋒視窗中，輸入或選取值為 hello 下列設定，然後按一下**建立**:</span><span class="sxs-lookup"><span data-stu-id="90d6b-134">On hello **Create virtual network** blade, enter or select values for hello following settings, then click **Create**:</span></span>
    - <span data-ttu-id="90d6b-135">**名稱**: hello 名稱必須是唯一的 hello[資源群組](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#resource-group)您選取 toocreate hello 虛擬網路中的。</span><span class="sxs-lookup"><span data-stu-id="90d6b-135">**Name**: hello name must be unique in hello [resource group](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#resource-group) that you select toocreate hello virtual network in.</span></span> <span data-ttu-id="90d6b-136">建立 hello 虛擬網路之後，您無法變更 hello 名稱。</span><span class="sxs-lookup"><span data-stu-id="90d6b-136">You cannot change hello name after hello virtual network is created.</span></span> <span data-ttu-id="90d6b-137">您可以隨著時間建立多個虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-137">You can create multiple virtual networks over time.</span></span> <span data-ttu-id="90d6b-138">如需命名建議，請參閱[命名慣例](/azure/architecture/best-practices/naming-conventions.md?toc=%2fazure%2fvirtual-network%2ftoc.json#naming-rules-and-restrictions)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-138">For naming suggestions, see [Naming conventions](/azure/architecture/best-practices/naming-conventions.md?toc=%2fazure%2fvirtual-network%2ftoc.json#naming-rules-and-restrictions).</span></span> <span data-ttu-id="90d6b-139">下列命名慣例可協助使用者更容易 toomanage 多個虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-139">Following a naming convention can help make it easier toomanage multiple virtual networks.</span></span>
    - <span data-ttu-id="90d6b-140">**位址空間**： 以 CIDR 標記法指定 hello 位址空間。</span><span class="sxs-lookup"><span data-stu-id="90d6b-140">**Address space**: Specify hello address space in CIDR notation.</span></span> <span data-ttu-id="90d6b-141">您定義的 hello 位址空間可以是公用或私用 (RFC 1918)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-141">hello address space you define can be public or private (RFC 1918).</span></span> <span data-ttu-id="90d6b-142">您定義 hello 位址空間為公用或私用，hello 位址空間只能從 hello 的虛擬網路內，從互連的虛擬網路，以及任何您已連接 toohello 虛擬網路的內部部署網路連線。</span><span class="sxs-lookup"><span data-stu-id="90d6b-142">Whether you define hello address space as public or private, hello address space is reachable only from within hello virtual network, from interconnected virtual networks, and from any on-premises networks that you have connected toohello virtual network.</span></span> <span data-ttu-id="90d6b-143">您無法新增下列位址空間的 hello:</span><span class="sxs-lookup"><span data-stu-id="90d6b-143">You cannot add hello following address spaces:</span></span>
        - <span data-ttu-id="90d6b-144">224.0.0.0/4 (多點傳送)</span><span class="sxs-lookup"><span data-stu-id="90d6b-144">224.0.0.0/4 (Multicast)</span></span>
        - <span data-ttu-id="90d6b-145">255.255.255.255/32 (廣播)</span><span class="sxs-lookup"><span data-stu-id="90d6b-145">255.255.255.255/32 (Broadcast)</span></span>
        - <span data-ttu-id="90d6b-146">127.0.0.0/8 (回送)</span><span class="sxs-lookup"><span data-stu-id="90d6b-146">127.0.0.0/8 (Loopback)</span></span>
        - <span data-ttu-id="90d6b-147">169.254.0.0/16 (連結-本機)</span><span class="sxs-lookup"><span data-stu-id="90d6b-147">169.254.0.0/16 (Link-local)</span></span>
        - <span data-ttu-id="90d6b-148">168.63.129.16/32 (內部 DNS)</span><span class="sxs-lookup"><span data-stu-id="90d6b-148">168.63.129.16/32 (Internal DNS)</span></span>

      <span data-ttu-id="90d6b-149">雖然您可以定義只能有一個位址空間，當您建立 hello 虛擬網路時，您可以在 hello 虛擬網路建立之後加入其他位址空間。</span><span class="sxs-lookup"><span data-stu-id="90d6b-149">Although you can define only one address space when you create hello virtual network, you can add more address spaces after hello virtual network is created.</span></span> <span data-ttu-id="90d6b-150">toolearn 如何 tooadd 位址空間 tooan 現有的虛擬網路，請參閱[新增或移除地址空間](#add-address-spaces)本文中。</span><span class="sxs-lookup"><span data-stu-id="90d6b-150">toolearn how tooadd an address space tooan existing virtual network, see [Add or remove an address space](#add-address-spaces) in this article.</span></span>

      >[!WARNING]
      ><span data-ttu-id="90d6b-151">如果虛擬網路與另一個虛擬網路或內部網路的重疊的位址空間，無法連線 hello 兩個網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-151">If a virtual network has address spaces that overlap with another virtual network or on-premises network, hello two networks cannot be connected.</span></span> <span data-ttu-id="90d6b-152">您定義的位址空間之前，請考慮是否可能會想 tooconnect hello 虛擬網路 tooother 虛擬網路或內部部署網路中 hello 未來。</span><span class="sxs-lookup"><span data-stu-id="90d6b-152">Before you define an address space, consider whether you might want tooconnect hello virtual network tooother virtual networks or on-premises networks in hello future.</span></span>
      >
      >

    - <span data-ttu-id="90d6b-153">**子網路名稱**: hello 子網路名稱必須是唯一 hello 虛擬網路內。</span><span class="sxs-lookup"><span data-stu-id="90d6b-153">**Subnet name**: hello subnet name must be unique within hello virtual network.</span></span> <span data-ttu-id="90d6b-154">Hello 子網路建立之後，您無法變更 hello 子網路名稱。</span><span class="sxs-lookup"><span data-stu-id="90d6b-154">You cannot change hello subnet name after hello subnet is created.</span></span> <span data-ttu-id="90d6b-155">hello 入口網站會要求您定義一個子網路時建立虛擬網路，即使虛擬網路不是必要的 toohave 任何子網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-155">hello portal requires that you define one subnet when you create a virtual network, even though a virtual network isn't required toohave any subnets.</span></span> <span data-ttu-id="90d6b-156">在 hello 入口網站中，您可以定義一個子網路時建立虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-156">In hello portal, you can define only one subnet when you create a virtual network.</span></span> <span data-ttu-id="90d6b-157">更新版本中，建立 hello 虛擬網路之後，您可以加入更多的子網路 toohello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-157">You can add more subnets toohello virtual network later, after hello virtual network is created.</span></span> <span data-ttu-id="90d6b-158">tooadd 子 tooa 虛擬網路，請參閱[建立子網路](virtual-network-manage-subnet.md#create-subnet)中[建立、 變更或刪除子網路](virtual-network-manage-subnet.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-158">tooadd a subnet tooa virtual network, see [Create a subnet](virtual-network-manage-subnet.md#create-subnet) in [Create, change, or delete subnets](virtual-network-manage-subnet.md).</span></span> <span data-ttu-id="90d6b-159">您可以使用 Azure CLI 或 PowerShell，建立具有多個子網路的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-159">You can create a virtual network that has multiple subnets by using Azure CLI or PowerShell.</span></span>

      >[!TIP]
      ><span data-ttu-id="90d6b-160">某些情況下，系統管理員 」 建立不同的子網路 hello 子網路間路由 toofilter 或控制流量。</span><span class="sxs-lookup"><span data-stu-id="90d6b-160">Sometimes, admins create different subnets toofilter or control traffic routing between hello subnets.</span></span> <span data-ttu-id="90d6b-161">定義子網路之前，請考慮如何想 toofilter 和您的子網路之間路由傳送流量。</span><span class="sxs-lookup"><span data-stu-id="90d6b-161">Before you define subnets, consider how you might want toofilter and route traffic between your subnets.</span></span> <span data-ttu-id="90d6b-162">toolearn 進一步了解篩選子網路之間流量，請參閱[網路安全性群組](virtual-networks-nsg.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-162">toolearn more about filtering traffic between subnets, see [Network security groups](virtual-networks-nsg.md).</span></span> <span data-ttu-id="90d6b-163">Azure 會自動路由傳送子網路之間的流量，但您可以覆寫 Azure 預設路由。</span><span class="sxs-lookup"><span data-stu-id="90d6b-163">Azure automatically routes traffic between subnets, but you can override Azure default routes.</span></span> <span data-ttu-id="90d6b-164">toolearn 如何 toooverride Azure 預設子網路流量路由，請參閱[使用者定義的路由](virtual-networks-udr-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-164">toolearn how toooverride Azure default subnet traffic routing, see [User-defined routes](virtual-networks-udr-overview.md).</span></span>
      >

    - <span data-ttu-id="90d6b-165">**子網路位址範圍**: hello 範圍都必須是您所輸入的 hello 虛擬網路的 hello 位址空間內。</span><span class="sxs-lookup"><span data-stu-id="90d6b-165">**Subnet address range**: hello range must be within hello address space you entered for hello virtual network.</span></span> <span data-ttu-id="90d6b-166">hello 最小的範圍，您可以指定為/29，可提供八個 IP 位址 hello 子網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-166">hello smallest range you can specify is /29, which provides eight IP addresses for hello subnet.</span></span> <span data-ttu-id="90d6b-167">Azure 會保留先 hello 和上次中為了符合通訊協定的每個子網路位址。</span><span class="sxs-lookup"><span data-stu-id="90d6b-167">Azure reserves hello first and last address in each subnet for protocol conformance.</span></span> <span data-ttu-id="90d6b-168">Azure 還會保留三個位址供 Azure 服務使用。</span><span class="sxs-lookup"><span data-stu-id="90d6b-168">Three additional addresses are reserved for Azure service usage.</span></span> <span data-ttu-id="90d6b-169">因此，使用 /29 子網路位址範圍的虛擬網路只有三個可用的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="90d6b-169">As a result, a virtual network with a subnet address range of /29 has only three usable IP addresses.</span></span> <span data-ttu-id="90d6b-170">如果您計劃 tooconnect tooa 虛擬網路 VPN 閘道，您必須建立閘道子網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-170">If you plan tooconnect a virtual network tooa VPN gateway, you must create a gateway subnet.</span></span> <span data-ttu-id="90d6b-171">深入了解[閘道子網路位址範圍的具體考量](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-171">Learn more about [specific address range considerations for gateway subnets](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span></span> <span data-ttu-id="90d6b-172">您可以在之後建立 hello 子網路時，在特定情況下，變更 hello 位址範圍。</span><span class="sxs-lookup"><span data-stu-id="90d6b-172">You can change hello address range after hello subnet is created, under specific conditions.</span></span> <span data-ttu-id="90d6b-173">如何 toochange 子網路位址範圍，請參閱的 toolearn[變更子網路設定](#change-subnet)中[新增、 變更或刪除子網路](virtual-network-manage-subnet.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-173">toolearn how toochange a subnet address range, see [Change subnet settings](#change-subnet) in [Add, change, or delete subnets](virtual-network-manage-subnet.md).</span></span>
    - <span data-ttu-id="90d6b-174">**訂用帳戶**︰選取[訂用帳戶](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-174">**Subscription**: Select a [subscription](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription).</span></span> <span data-ttu-id="90d6b-175">您無法使用 hello 多個 Azure 訂用帳戶中的相同虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-175">You cannot use hello same virtual network in more than one Azure subscription.</span></span> <span data-ttu-id="90d6b-176">不過，您可以連接其他訂用帳戶中的一個訂用帳戶 toovirtual 網路中的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-176">However, you can connect a virtual network in one subscription toovirtual networks in other subscriptions.</span></span> <span data-ttu-id="90d6b-177">tooconnect 不同的訂用帳戶中的虛擬網路使用 Azure VPN 閘道或虛擬網路對等互連。</span><span class="sxs-lookup"><span data-stu-id="90d6b-177">tooconnect virtual networks in different subscriptions, use Azure VPN Gateway or virtual network peering.</span></span> <span data-ttu-id="90d6b-178">任何您 toohello 虛擬網路連線的 Azure 資源必須在 hello hello 虛擬網路相同訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-178">Any Azure resource that you connect toohello virtual network must be in hello same subscription as hello virtual network.</span></span>
    - <span data-ttu-id="90d6b-179">**資源群組**：選取現有[資源群組](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#resource-groups)或建立新的資源群組。</span><span class="sxs-lookup"><span data-stu-id="90d6b-179">**Resource group**: Select an existing [resource group](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#resource-groups) or create a new one.</span></span> <span data-ttu-id="90d6b-180">您 toohello 虛擬網路連線的 Azure 資源可以在 hello 與 hello 虛擬網路或不同的資源群組中的相同資源群組。</span><span class="sxs-lookup"><span data-stu-id="90d6b-180">An Azure resource that you connect toohello virtual network can be in hello same resource group as hello virtual network or in a different resource group.</span></span>
    - <span data-ttu-id="90d6b-181">**位置**︰選取 Azure [位置](https://azure.microsoft.com/regions/) (也稱為區域)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-181">**Location**: Select an Azure [location](https://azure.microsoft.com/regions/), also known as a region.</span></span> <span data-ttu-id="90d6b-182">虛擬網路只能位於一個 Azure 位置。</span><span class="sxs-lookup"><span data-stu-id="90d6b-182">A virtual network can be in only one Azure location.</span></span> <span data-ttu-id="90d6b-183">不過，您可以使用的 VPN 閘道連接一個位置 tooa 虛擬網路中其他位置中的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-183">However, you can connect a virtual network in one location tooa virtual network in another location by using a VPN gateway.</span></span> <span data-ttu-id="90d6b-184">任何您 toohello 虛擬網路連線的 Azure 資源必須在 hello 與 hello 虛擬網路相同的位置。</span><span class="sxs-lookup"><span data-stu-id="90d6b-184">Any Azure resource that you connect toohello virtual network must be in hello same location as hello virtual network.</span></span>

<span data-ttu-id="90d6b-185">**命令**</span><span class="sxs-lookup"><span data-stu-id="90d6b-185">**Commands**</span></span>

|<span data-ttu-id="90d6b-186">工具</span><span class="sxs-lookup"><span data-stu-id="90d6b-186">Tool</span></span>|<span data-ttu-id="90d6b-187">命令</span><span class="sxs-lookup"><span data-stu-id="90d6b-187">Command</span></span>|
|---|---|
|<span data-ttu-id="90d6b-188">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="90d6b-188">Azure CLI</span></span>|[<span data-ttu-id="90d6b-189">az network vnet create</span><span class="sxs-lookup"><span data-stu-id="90d6b-189">az network vnet create</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="90d6b-190">PowerShell</span><span class="sxs-lookup"><span data-stu-id="90d6b-190">PowerShell</span></span>|[<span data-ttu-id="90d6b-191">New-AzureRmVirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="90d6b-191">New-AzureRmVirtualNetwork</span></span>](/powershell/module/azurerm.network/new-azurermvirtualnetwork?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <span data-ttu-id="90d6b-192"><a name = "view-vnet"></a>檢視虛擬網路與設定</span><span class="sxs-lookup"><span data-stu-id="90d6b-192"><a name = "view-vnet"></a>View virtual networks and settings</span></span>

<span data-ttu-id="90d6b-193">tooview 虛擬網路和設定：</span><span class="sxs-lookup"><span data-stu-id="90d6b-193">tooview virtual networks and settings:</span></span>

1. <span data-ttu-id="90d6b-194">登入 toohello[入口網站](https://portal.azure.com)指派 hello 網路參與者角色 （至少） 訂用帳戶的權限的帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-194">Sign in toohello [portal](https://portal.azure.com) with an account that is assigned permissions for hello Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="90d6b-195">進一步了解指派角色和權限 tooaccounts toolearn 看到[Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-195">toolearn more about assigning roles and permissions tooaccounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="90d6b-196">在 [hello] 入口網站搜尋方塊中，輸入**虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-196">In hello portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="90d6b-197">在 hello 搜尋結果中，按一下 **虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-197">In hello search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="90d6b-198">在 hello**虛擬網路**刀鋒視窗中，按一下您想要針對 tooview 設定 hello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-198">On hello **Virtual networks** blade, click hello virtual network that you want tooview settings for.</span></span>
4. <span data-ttu-id="90d6b-199">hello 下列設定詳列 hello 您選取的虛擬網路的 hello 刀鋒視窗上：</span><span class="sxs-lookup"><span data-stu-id="90d6b-199">hello following settings are listed on hello blade for hello virtual network you selected:</span></span>
    - <span data-ttu-id="90d6b-200">**概觀**： 提供 hello 虛擬網路，包括位址空間和 DNS 伺服器的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="90d6b-200">**Overview**: Provides information about hello virtual network, including address space and DNS servers.</span></span> <span data-ttu-id="90d6b-201">hello 下列螢幕擷取畫面顯示 hello 概觀設定虛擬網路，名為**MyVNet**:</span><span class="sxs-lookup"><span data-stu-id="90d6b-201">hello following screenshot shows hello overview settings for a virtual network named **MyVNet**:</span></span>

        ![網路介面概觀](./media/virtual-network-manage-network/vnet-overview.png)

      <span data-ttu-id="90d6b-203">在 hello**概觀**刀鋒視窗中，您可以移動的虛擬網路 tooa 不同訂用帳戶或資源群組。</span><span class="sxs-lookup"><span data-stu-id="90d6b-203">On hello **Overview** blade, you can move a virtual network tooa different subscription or resource group.</span></span> <span data-ttu-id="90d6b-204">如何 toomove 虛擬網路，請參閱的 toolearn[移動資源 tooa 不同資源群組或訂用帳戶](../azure-resource-manager/resource-group-move-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-204">toolearn how toomove a virtual network, see [Move resources tooa different resource group or subscription](../azure-resource-manager/resource-group-move-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="90d6b-205">hello 文章列出先決條件及如何使用 toomove 資源 hello Azure 入口網站、 PowerShell 和 Azure CLI。</span><span class="sxs-lookup"><span data-stu-id="90d6b-205">hello article lists prerequisites, and how toomove resources by using hello Azure portal, PowerShell, and Azure CLI.</span></span> <span data-ttu-id="90d6b-206">連接的 toohello 虛擬網路的所有資源必須都移動與 hello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-206">All resources that are connected toohello virtual network must move with hello virtual network.</span></span>
    - <span data-ttu-id="90d6b-207">**位址空間**: hello 分派 toohello 虛擬網路的位址空間會列出。</span><span class="sxs-lookup"><span data-stu-id="90d6b-207">**Address space**: hello address spaces that are assigned toohello virtual network are listed.</span></span> <span data-ttu-id="90d6b-208">toolearn tooadd 移除地址空間中，如何完成 hello 中的步驟[新增或移除地址空間](#address-spaces)本文中。</span><span class="sxs-lookup"><span data-stu-id="90d6b-208">toolearn how tooadd and remove an address space, complete hello steps in [Add or remove an address space](#address-spaces) in this article.</span></span>
    - <span data-ttu-id="90d6b-209">**連接的裝置**： 連接的 toohello 虛擬網路的任何資源都會列出。</span><span class="sxs-lookup"><span data-stu-id="90d6b-209">**Connected devices**: Any resources that are connected toohello virtual network are listed.</span></span> <span data-ttu-id="90d6b-210">在上述螢幕擷取畫面的 hello，三個網路介面和一個負載平衡器是連接的 toohello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-210">In hello preceding screenshot, three network interfaces and one load balancer are connected toohello virtual network.</span></span> <span data-ttu-id="90d6b-211">會列出任何新的資源，您所建立，且 toohello 虛擬網路連線。</span><span class="sxs-lookup"><span data-stu-id="90d6b-211">Any new resources that you create and connect toohello virtual network are listed.</span></span> <span data-ttu-id="90d6b-212">如果您刪除已連接的 toohello 虛擬網路的資源，不會再出現在 [hello] 清單中。</span><span class="sxs-lookup"><span data-stu-id="90d6b-212">If you delete a resource that was connected toohello virtual network, it no longer appears in hello list.</span></span>
    - <span data-ttu-id="90d6b-213">**子網路**: hello 虛擬網路內存在的子網路的清單會顯示。</span><span class="sxs-lookup"><span data-stu-id="90d6b-213">**Subnets**: A list of subnets that exist within hello virtual network is shown.</span></span> <span data-ttu-id="90d6b-214">如何 tooadd 並移除子網路，請參閱的 toolearn[建立子網路](virtual-network-manage-subnet.md#create-subnet)和[刪除該子網路](virtual-network-manage-subnet.md#delete-subnet)中[新增、 變更或刪除子網路](virtual-network-manage-subnet.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-214">toolearn how tooadd and remove a subnet, see [Create a subnet](virtual-network-manage-subnet.md#create-subnet) and [Delete a subnet](virtual-network-manage-subnet.md#delete-subnet) in [Add, change, or delete subnets](virtual-network-manage-subnet.md).</span></span>
    - <span data-ttu-id="90d6b-215">**DNS 伺服器**： 您可以指定是否 hello Azure 內部的 DNS 伺服器或自訂的 DNS 伺服器名稱解析為提供連接的 toohello 虛擬網路的裝置。</span><span class="sxs-lookup"><span data-stu-id="90d6b-215">**DNS servers**: You can specify whether hello Azure internal DNS server or a custom DNS server provides name resolution for devices that are connected toohello virtual network.</span></span> <span data-ttu-id="90d6b-216">當您使用 hello Azure 入口網站建立虛擬網路時，Azure 的 DNS 伺服器用於名稱解析內虛擬網路，根據預設。</span><span class="sxs-lookup"><span data-stu-id="90d6b-216">When you create a virtual network by using hello Azure portal, Azure's DNS servers are used for name resolution within a virtual network, by default.</span></span> <span data-ttu-id="90d6b-217">中的 toomodify hello DNS 伺服器，請完成 hello 步驟[新增、 變更或移除 DNS 伺服器](#dns-servers)本文中。</span><span class="sxs-lookup"><span data-stu-id="90d6b-217">toomodify hello DNS servers, complete hello steps in [Add, change, or remove a DNS server](#dns-servers) in this article.</span></span>
    - <span data-ttu-id="90d6b-218">**對等互連**： 如果 hello 訂用帳戶中有現有的對等互連，此處所列。</span><span class="sxs-lookup"><span data-stu-id="90d6b-218">**Peerings**: If there are existing peerings in hello subscription, they are listed here.</span></span> <span data-ttu-id="90d6b-219">您可以檢視現有對等互連的設定，也可以建立、變更或刪除對等互連。</span><span class="sxs-lookup"><span data-stu-id="90d6b-219">You can view settings for existing peerings, or create, change, or delete peerings.</span></span> <span data-ttu-id="90d6b-220">toolearn 深入了解對等互連，請參閱[虛擬網路對等互連](virtual-network-peering-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-220">toolearn more about peerings, see [Virtual network peering](virtual-network-peering-overview.md).</span></span>
    - <span data-ttu-id="90d6b-221">**屬性**: hello 虛擬網路，其中包括 hello 虛擬網路的資源識別碼和 hello Azure 訂用帳戶處於大約的顯示設定。</span><span class="sxs-lookup"><span data-stu-id="90d6b-221">**Properties**: Displays settings about hello virtual network, including hello virtual network's resource ID and hello Azure subscription it is in.</span></span>
    - <span data-ttu-id="90d6b-222">**圖表**: hello 圖表提供連接的 toohello 虛擬網路的所有裝置的視覺表示法。</span><span class="sxs-lookup"><span data-stu-id="90d6b-222">**Diagram**: hello diagram provides a visual representation of all devices that are connected toohello virtual network.</span></span> <span data-ttu-id="90d6b-223">hello 圖表都有一些重要 hello 裝置資訊。</span><span class="sxs-lookup"><span data-stu-id="90d6b-223">hello diagram has some key information about hello devices.</span></span> <span data-ttu-id="90d6b-224">toomanage hello 圖表中的這個檢視中的裝置按一下 hello 裝置。</span><span class="sxs-lookup"><span data-stu-id="90d6b-224">toomanage a device in this view, in hello diagram, click hello device.</span></span>
    - <span data-ttu-id="90d6b-225">**一般的 Azure 設定**: toolearn 深入了解一般 Azure 的設定，請參閱下列資訊的 hello:</span><span class="sxs-lookup"><span data-stu-id="90d6b-225">**Common Azure settings**: toolearn more about common Azure settings, see hello following information:</span></span>
        *   [<span data-ttu-id="90d6b-226">活動記錄檔</span><span class="sxs-lookup"><span data-stu-id="90d6b-226">Activity log</span></span>](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#activity-logs)
        *   [<span data-ttu-id="90d6b-227">存取控制 (IAM)</span><span class="sxs-lookup"><span data-stu-id="90d6b-227">Access control (IAM)</span></span>](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#access-control)
        *   [<span data-ttu-id="90d6b-228">標記</span><span class="sxs-lookup"><span data-stu-id="90d6b-228">Tags</span></span>](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags)
        *   [<span data-ttu-id="90d6b-229">鎖定</span><span class="sxs-lookup"><span data-stu-id="90d6b-229">Locks</span></span>](../azure-resource-manager/resource-group-lock-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json)
        *   [<span data-ttu-id="90d6b-230">自動化指令碼</span><span class="sxs-lookup"><span data-stu-id="90d6b-230">Automation script</span></span>](../azure-resource-manager/resource-manager-export-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json#export-the-template-from-resource-group)

<span data-ttu-id="90d6b-231">**命令**</span><span class="sxs-lookup"><span data-stu-id="90d6b-231">**Commands**</span></span>

|<span data-ttu-id="90d6b-232">工具</span><span class="sxs-lookup"><span data-stu-id="90d6b-232">Tool</span></span>|<span data-ttu-id="90d6b-233">命令</span><span class="sxs-lookup"><span data-stu-id="90d6b-233">Command</span></span>|
|---|---|
|<span data-ttu-id="90d6b-234">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="90d6b-234">Azure CLI</span></span>|[<span data-ttu-id="90d6b-235">az network vnet show</span><span class="sxs-lookup"><span data-stu-id="90d6b-235">az network vnet show</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#show)|
|<span data-ttu-id="90d6b-236">PowerShell</span><span class="sxs-lookup"><span data-stu-id="90d6b-236">PowerShell</span></span>|[<span data-ttu-id="90d6b-237">Get-AzureRmVirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="90d6b-237">Get-AzureRmVirtualNetwork</span></span>](/powershell/module/azurerm.network/get-azurermvirtualnetwork/?toc=%2fazure%2fvirtual-network%2ftoc.json)|


## <span data-ttu-id="90d6b-238"><a name="add-address-spaces"></a>新增或移除位址空間</span><span class="sxs-lookup"><span data-stu-id="90d6b-238"><a name="add-address-spaces"></a>Add or remove an address space</span></span>

<span data-ttu-id="90d6b-239">您可以新增和移除虛擬網路的位址空間。</span><span class="sxs-lookup"><span data-stu-id="90d6b-239">You can add and remove address spaces for a virtual network.</span></span> <span data-ttu-id="90d6b-240">位址空間，必須指定以 CIDR 標記法，而且不能重疊 hello 內其他位址空間與相同虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-240">An address space must be specified in CIDR notation, and cannot overlap with other address spaces within hello same virtual network.</span></span> <span data-ttu-id="90d6b-241">您定義的 hello 位址空間可以是公用或私用 (RFC 1918)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-241">hello address spaces you define can be public or private (RFC 1918).</span></span> <span data-ttu-id="90d6b-242">您定義 hello 位址空間為公用或私用，hello 位址空間只能從 hello 的虛擬網路內，從互連的虛擬網路，以及任何您已連接 toohello 虛擬網路的內部部署網路連線。</span><span class="sxs-lookup"><span data-stu-id="90d6b-242">Whether you define hello address space as public or private, hello address space is reachable only from within hello virtual network, from interconnected virtual networks, and from any on-premises networks that you have connected toohello virtual network.</span></span> <span data-ttu-id="90d6b-243">您無法新增下列位址空間的 hello:</span><span class="sxs-lookup"><span data-stu-id="90d6b-243">You cannot add hello following address spaces:</span></span>

- <span data-ttu-id="90d6b-244">224.0.0.0/4 (多點傳送)</span><span class="sxs-lookup"><span data-stu-id="90d6b-244">224.0.0.0/4 (Multicast)</span></span>
- <span data-ttu-id="90d6b-245">255.255.255.255/32 (廣播)</span><span class="sxs-lookup"><span data-stu-id="90d6b-245">255.255.255.255/32 (Broadcast)</span></span>
- <span data-ttu-id="90d6b-246">127.0.0.0/8 (回送)</span><span class="sxs-lookup"><span data-stu-id="90d6b-246">127.0.0.0/8 (Loopback)</span></span>
- <span data-ttu-id="90d6b-247">169.254.0.0/16 (連結-本機)</span><span class="sxs-lookup"><span data-stu-id="90d6b-247">169.254.0.0/16 (Link-local)</span></span>
- <span data-ttu-id="90d6b-248">168.63.129.16/32 (內部 DNS)</span><span class="sxs-lookup"><span data-stu-id="90d6b-248">168.63.129.16/32 (Internal DNS)</span></span>

<span data-ttu-id="90d6b-249">tooadd 或移除的位址空間：</span><span class="sxs-lookup"><span data-stu-id="90d6b-249">tooadd or remove an address space:</span></span>

1. <span data-ttu-id="90d6b-250">登入 toohello[入口網站](https://portal.azure.com)指派 hello 網路參與者角色 （至少） 訂用帳戶的權限的帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-250">Sign in toohello [portal](https://portal.azure.com) with an account that is assigned permissions for hello Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="90d6b-251">進一步了解指派角色和權限 tooaccounts toolearn 看到[Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-251">toolearn more about assigning roles and permissions tooaccounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="90d6b-252">在 [hello] 入口網站搜尋方塊中，輸入**虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-252">In hello portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="90d6b-253">在 hello 搜尋結果中，選取 **虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-253">In hello search results, select **Virtual networks**.</span></span>
3. <span data-ttu-id="90d6b-254">在 hello**虛擬網路**刀鋒視窗中，按一下您想 tooadd 或移除地址空間 hello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-254">On hello **Virtual networks** blade, click hello virtual network for which you want tooadd or remove an address space.</span></span>
4. <span data-ttu-id="90d6b-255">在 hello 虛擬網路刀鋒視窗中，在**設定**，按一下 **位址空間**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-255">On hello virtual network blade, under **SETTINGS**, click **Address space**.</span></span>
5. <span data-ttu-id="90d6b-256">Hello 位址空間的 hello 刀鋒視窗，完成其中一種 hello 下列選項：</span><span class="sxs-lookup"><span data-stu-id="90d6b-256">On hello blade for hello address space, complete one of hello following options:</span></span>
    - <span data-ttu-id="90d6b-257">**加入位址空間**： 輸入 hello 新的位址空間。</span><span class="sxs-lookup"><span data-stu-id="90d6b-257">**Add an address space**: Enter hello new address space.</span></span> <span data-ttu-id="90d6b-258">hello 位址空間不得與現有定義 hello 虛擬網路位址空間重疊。</span><span class="sxs-lookup"><span data-stu-id="90d6b-258">hello address space cannot overlap with an existing address space that is defined for hello virtual network.</span></span>
    - <span data-ttu-id="90d6b-259">**移除地址空間**︰以滑鼠右鍵按一下位址空間，然後按一下移除。</span><span class="sxs-lookup"><span data-stu-id="90d6b-259">**Remove an address space**: Right-click an address space, and then click **Remove**.</span></span> <span data-ttu-id="90d6b-260">如果子網路存在 hello 位址空間中，您無法移除 hello 位址空間。</span><span class="sxs-lookup"><span data-stu-id="90d6b-260">If a subnet exists in hello address space, you cannot remove hello address space.</span></span> <span data-ttu-id="90d6b-261">tooremove 位址空間，您必須先刪除任何子網路 （和任何連接的 toohello 子網路的資源） 存在於 hello 位址空間中。</span><span class="sxs-lookup"><span data-stu-id="90d6b-261">tooremove an address space, you must first delete any subnets (and any resources that are connected toohello subnets) that exist in hello address space.</span></span>
6. <span data-ttu-id="90d6b-262">按一下 [儲存] 。</span><span class="sxs-lookup"><span data-stu-id="90d6b-262">Click **Save**.</span></span>

<span data-ttu-id="90d6b-263">**命令**</span><span class="sxs-lookup"><span data-stu-id="90d6b-263">**Commands**</span></span>

|<span data-ttu-id="90d6b-264">工具</span><span class="sxs-lookup"><span data-stu-id="90d6b-264">Tool</span></span>|<span data-ttu-id="90d6b-265">命令</span><span class="sxs-lookup"><span data-stu-id="90d6b-265">Command</span></span>|
|---|---|
|<span data-ttu-id="90d6b-266">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="90d6b-266">Azure CLI</span></span>|<span data-ttu-id="90d6b-267">僅限 Resource Manager</span><span class="sxs-lookup"><span data-stu-id="90d6b-267">Resource Manager only</span></span>|[<span data-ttu-id="90d6b-268">az network vnet update</span><span class="sxs-lookup"><span data-stu-id="90d6b-268">az network vnet update</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="90d6b-269">PowerShell</span><span class="sxs-lookup"><span data-stu-id="90d6b-269">PowerShell</span></span>|[<span data-ttu-id="90d6b-270">Set-AzureRmVirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="90d6b-270">Set-AzureRmVirtualNetwork</span></span>](/powershell/module/azurerm.network/set-azurermvirtualnetwork?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <span data-ttu-id="90d6b-271"><a name="dns-servers"></a>新增、變更或移除 DNS 伺服器</span><span class="sxs-lookup"><span data-stu-id="90d6b-271"><a name="dns-servers"></a>Add, change, or remove a DNS server</span></span>

<span data-ttu-id="90d6b-272">所有連接的 toohello 虛擬網路的 Vm 註冊 hello 您指定 hello 虛擬網路的 DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-272">All VMs that are connected toohello virtual network register with hello DNS servers that you specify for hello virtual network.</span></span> <span data-ttu-id="90d6b-273">他們也使用指定的 hello 進行名稱解析的 DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-273">They also use hello specified DNS server for name resolution.</span></span> <span data-ttu-id="90d6b-274">VM 中的每個網路介面 (NIC) 都可以有自己的 DNS 伺服器設定。</span><span class="sxs-lookup"><span data-stu-id="90d6b-274">Each network interface (NIC) in a VM can have its own DNS server settings.</span></span> <span data-ttu-id="90d6b-275">如果 NIC 有它自己的 DNS 伺服器設定，它們會覆寫 hello hello 虛擬網路的 DNS 伺服器設定。</span><span class="sxs-lookup"><span data-stu-id="90d6b-275">If a NIC has its own DNS server settings, they override hello DNS server settings for hello virtual network.</span></span> <span data-ttu-id="90d6b-276">toolearn 深入了解 NIC 的 DNS 設定，請參閱[網路介面的工作和設定](virtual-network-network-interface.md#change-dns-servers)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-276">toolearn more about NIC DNS settings, see [Network interface tasks and settings](virtual-network-network-interface.md#change-dns-servers).</span></span> <span data-ttu-id="90d6b-277">toolearn 有關 Vm 和 Azure 雲端服務中的角色執行個體的名稱解析的詳細資訊請參閱[Vm 和角色執行個體的名稱解析](virtual-networks-name-resolution-for-vms-and-role-instances.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-277">toolearn more about name resolution for VMs and role instances in Azure Cloud Services, see [Name resolution for VMs and role instances](virtual-networks-name-resolution-for-vms-and-role-instances.md).</span></span> <span data-ttu-id="90d6b-278">tooadd，變更或移除 DNS 伺服器：</span><span class="sxs-lookup"><span data-stu-id="90d6b-278">tooadd, change, or remove a DNS server:</span></span>

1. <span data-ttu-id="90d6b-279">登入 toohello[入口網站](https://portal.azure.com)指派 hello 網路參與者角色 （至少） 訂用帳戶的權限的帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-279">Sign in toohello [portal](https://portal.azure.com) with an account that is assigned permissions for hello Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="90d6b-280">進一步了解指派角色和權限 tooaccounts toolearn 看到[Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-280">toolearn more about assigning roles and permissions tooaccounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="90d6b-281">在 [hello] 入口網站搜尋方塊中，輸入**虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-281">In hello portal search box, type **virtual networks**.</span></span> <span data-ttu-id="90d6b-282">在 hello 搜尋結果中，選取 **虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-282">In hello search results, select **Virtual networks**.</span></span>
3. <span data-ttu-id="90d6b-283">在 hello**虛擬網路**刀鋒視窗中，按一下您想 toochange DNS 設定 hello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-283">On hello **Virtual networks** blade, click hello virtual network you want toochange DNS settings for.</span></span>
4. <span data-ttu-id="90d6b-284">在 hello 虛擬網路刀鋒視窗中，在**設定**，按一下  **DNS 伺服器**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-284">On hello virtual network blade, under **SETTINGS**, click **DNS servers**.</span></span>
5. <span data-ttu-id="90d6b-285">選取其中一個 hello 下列列出 DNS 伺服器的 hello 刀鋒視窗上的選項：</span><span class="sxs-lookup"><span data-stu-id="90d6b-285">Select one of hello following options on hello blade that lists DNS servers:</span></span>
    - <span data-ttu-id="90d6b-286">**預設值 （Azure 提供）**： 所有的資源名稱和私人 IP 位址皆會自動註冊的 toohello Azure DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-286">**Default (Azure-provided)**: All resource names and private IP addresses are automatically registered toohello Azure DNS servers.</span></span> <span data-ttu-id="90d6b-287">您可以解決任何連接的 toohello 資源之間的名稱相同的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-287">You can resolve names between any resources that are connected toohello same virtual network.</span></span> <span data-ttu-id="90d6b-288">您無法使用此選項 tooresolve 名稱多個虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-288">You cannot use this option tooresolve names across virtual networks.</span></span> <span data-ttu-id="90d6b-289">tooresolve 多個虛擬網路的名稱，您必須使用自訂的 DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-289">tooresolve names across virtual networks, you must use a custom DNS server.</span></span>
    - <span data-ttu-id="90d6b-290">**自訂**： 您可以加入一個或多部伺服器，註冊 toohello Azure 虛擬網路的限制。</span><span class="sxs-lookup"><span data-stu-id="90d6b-290">**Custom**: You can add one or more servers, up toohello Azure limit for a virtual network.</span></span> <span data-ttu-id="90d6b-291">toolearn 進一步了解 DNS 伺服器限制，請參閱[Azure 限制](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#virtual-networking-limits-classic)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-291">toolearn more about DNS server limits, see [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#virtual-networking-limits-classic).</span></span> <span data-ttu-id="90d6b-292">您有下列選項的 hello:</span><span class="sxs-lookup"><span data-stu-id="90d6b-292">You have hello following options:</span></span>
        - <span data-ttu-id="90d6b-293">**新增地址**： 新增 hello 伺服器 tooyour 虛擬網路 DNS 伺服器清單。</span><span class="sxs-lookup"><span data-stu-id="90d6b-293">**Add an address**: Adds hello server tooyour virtual network DNS servers list.</span></span> <span data-ttu-id="90d6b-294">此選項也會註冊使用 Azure 的 hello DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-294">This option also registers hello DNS server with Azure.</span></span> <span data-ttu-id="90d6b-295">如果您已經已向 Azure 登錄 DNS 伺服器，您可以在 hello 清單中選取該 DNS 伺服器。</span><span class="sxs-lookup"><span data-stu-id="90d6b-295">If you've already registered a DNS server with Azure, you can select that DNS server in hello list.</span></span>
        - <span data-ttu-id="90d6b-296">**移除地址**： 按一下您想 tooremove 下, 一個 toohello 伺服器**X**。刪除 hello 伺服器 hello 伺服器只能從清單中移除此虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-296">**Remove an address**: Next toohello server that you want tooremove, click **X**. Deleting hello server removes hello server only from this virtual network list.</span></span> <span data-ttu-id="90d6b-297">hello DNS 伺服器仍留在 Azure 中的其他的虛擬網路 toouse 已註冊的。</span><span class="sxs-lookup"><span data-stu-id="90d6b-297">hello DNS server remains registered in Azure for your other virtual networks toouse.</span></span>
        - <span data-ttu-id="90d6b-298">**重新排序 DNS 伺服器位址**： 很重要，您會列出您的 DNS 伺服器在 hello tooverify 正確的順序為您的環境。</span><span class="sxs-lookup"><span data-stu-id="90d6b-298">**Reorder DNS server addresses**: It's important tooverify that you list your DNS servers in hello correct order for your environment.</span></span> <span data-ttu-id="90d6b-299">DNS 伺服器清單用於 hello 順序來指定。</span><span class="sxs-lookup"><span data-stu-id="90d6b-299">DNS server lists are used in hello order that they are specified.</span></span> <span data-ttu-id="90d6b-300">它們不會當作循環配置資源設定運作。</span><span class="sxs-lookup"><span data-stu-id="90d6b-300">They do not work as a round-robin setup.</span></span> <span data-ttu-id="90d6b-301">如果可以達到 hello 第一部 DNS 伺服器 hello 清單中的，hello 用戶端會使用該 DNS 伺服器，而不管是否 hello DNS 伺服器是否正常運作。</span><span class="sxs-lookup"><span data-stu-id="90d6b-301">If hello first DNS server in hello list can be reached, hello client uses that DNS server, regardless of whether hello DNS server is functioning properly.</span></span> <span data-ttu-id="90d6b-302">移除所列的所有 hello DNS 伺服器，然後再重新加入您想要的 hello 排序。</span><span class="sxs-lookup"><span data-stu-id="90d6b-302">Remove all hello DNS servers that are listed, and then add them back in hello order that you want.</span></span>
        - <span data-ttu-id="90d6b-303">**變更位址**： 反白顯示 hello hello 清單中的 DNS 伺服器，然後輸入 hello 新名稱。</span><span class="sxs-lookup"><span data-stu-id="90d6b-303">**Change an address**: Highlight hello DNS server in hello list, and then enter hello new name.</span></span>
6. <span data-ttu-id="90d6b-304">按一下 [儲存] 。</span><span class="sxs-lookup"><span data-stu-id="90d6b-304">Click **Save**.</span></span>
7. <span data-ttu-id="90d6b-305">重新啟動 hello Vm 的連線的 toohello 虛擬網路，因此它們會指派 hello 新的 DNS 伺服器設定。</span><span class="sxs-lookup"><span data-stu-id="90d6b-305">Restart hello VMs that are connected toohello virtual network, so they are assigned hello new DNS server settings.</span></span> <span data-ttu-id="90d6b-306">在重新啟動之前，Vm 將繼續 toouse 其目前的 DNS 設定。</span><span class="sxs-lookup"><span data-stu-id="90d6b-306">VMs continue toouse their current DNS settings until they are restarted.</span></span>

<span data-ttu-id="90d6b-307">**命令**</span><span class="sxs-lookup"><span data-stu-id="90d6b-307">**Commands**</span></span>

|<span data-ttu-id="90d6b-308">工具</span><span class="sxs-lookup"><span data-stu-id="90d6b-308">Tool</span></span>|<span data-ttu-id="90d6b-309">命令</span><span class="sxs-lookup"><span data-stu-id="90d6b-309">Command</span></span>|
|---|---|
|<span data-ttu-id="90d6b-310">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="90d6b-310">Azure CLI</span></span>|[<span data-ttu-id="90d6b-311">az network vnet update</span><span class="sxs-lookup"><span data-stu-id="90d6b-311">az network vnet update</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="90d6b-312">PowerShell</span><span class="sxs-lookup"><span data-stu-id="90d6b-312">PowerShell</span></span>|[<span data-ttu-id="90d6b-313">Set-AzureRmVirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="90d6b-313">Set-AzureRmVirtualNetwork</span></span>](/powershell/module/azurerm.network/set-azurermvirtualnetwork?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <span data-ttu-id="90d6b-314"><a name="delete-vnet"></a>刪除虛擬網路</span><span class="sxs-lookup"><span data-stu-id="90d6b-314"><a name="delete-vnet"></a>Delete a virtual network</span></span>

<span data-ttu-id="90d6b-315">只有在沒有資源連線的 tooit，您可以刪除虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-315">You can delete a virtual network only if there are no resources connected tooit.</span></span> <span data-ttu-id="90d6b-316">如果有 hello 虛擬網路內的資源已連線的 tooany 子網路，您必須先刪除連線的 tooall hello 虛擬網路內的子網路的 hello 資源。</span><span class="sxs-lookup"><span data-stu-id="90d6b-316">If there are resources connected tooany subnet within hello virtual network, you must first delete hello resources that are connected tooall subnets within hello virtual network.</span></span> <span data-ttu-id="90d6b-317">hello 步驟採取 toodelete 資源的 hello 資源有所不同。</span><span class="sxs-lookup"><span data-stu-id="90d6b-317">hello steps you take toodelete a resource vary depending on hello resource.</span></span> <span data-ttu-id="90d6b-318">已連線的 toosubnets toodelete 資源的讀取方式 toolearn hello 文件要 toodelete 為每個資源類型。</span><span class="sxs-lookup"><span data-stu-id="90d6b-318">toolearn how toodelete resources that are connected toosubnets, read hello documentation for each resource type you want toodelete.</span></span> <span data-ttu-id="90d6b-319">toodelete 虛擬網路：</span><span class="sxs-lookup"><span data-stu-id="90d6b-319">toodelete a virtual network:</span></span>

1. <span data-ttu-id="90d6b-320">登入 toohello[入口網站](https://portal.azure.com)帳戶也就是指派 （至少） 角色的權限 hello 網路參與者訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="90d6b-320">Sign in toohello [portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for hello Network Contributor role for your subscription.</span></span> <span data-ttu-id="90d6b-321">進一步了解指派角色和權限 tooaccounts toolearn 看到[Azure 角色型存取控制的內建角色](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-321">toolearn more about assigning roles and permissions tooaccounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="90d6b-322">在 [hello] 入口網站搜尋方塊中，輸入**虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-322">In hello portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="90d6b-323">在 hello 搜尋結果中，按一下 **虛擬網路**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-323">In hello search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="90d6b-324">在 hello**虛擬網路**刀鋒視窗中，選取 hello 想 toodelete 的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-324">On hello **Virtual networks** blade, select hello virtual network you want toodelete.</span></span>
4. <span data-ttu-id="90d6b-325">Hello 虛擬網路] 刀鋒視窗中，沒有任何裝置 tooconfirm 連接 toohello 虛擬網路，底下**設定**，按一下 [**連接的裝置**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-325">On hello virtual network blade, tooconfirm that there are no devices connected toohello virtual network, under **SETTINGS**, click **Connected devices**.</span></span> <span data-ttu-id="90d6b-326">如果沒有連接的裝置，您必須刪除它們，才能刪除 hello 虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="90d6b-326">If there are connected devices, you must delete them before you can delete hello virtual network.</span></span> <span data-ttu-id="90d6b-327">如果沒有已連線的裝置，請按一下 [概觀]。</span><span class="sxs-lookup"><span data-stu-id="90d6b-327">If there are no connected devices, click **Overview**.</span></span>
5. <span data-ttu-id="90d6b-328">在 hello hello 刀鋒視窗頂端，按一下 hello**刪除**圖示。</span><span class="sxs-lookup"><span data-stu-id="90d6b-328">At hello top of hello blade, click hello **Delete** icon.</span></span>
6. <span data-ttu-id="90d6b-329">tooconfirm hello 刪除 hello 虛擬網路中，按一下**是**。</span><span class="sxs-lookup"><span data-stu-id="90d6b-329">tooconfirm hello deletion of hello virtual network, click **Yes**.</span></span>


<span data-ttu-id="90d6b-330">**命令**</span><span class="sxs-lookup"><span data-stu-id="90d6b-330">**Commands**</span></span>

|<span data-ttu-id="90d6b-331">工具</span><span class="sxs-lookup"><span data-stu-id="90d6b-331">Tool</span></span>|<span data-ttu-id="90d6b-332">命令</span><span class="sxs-lookup"><span data-stu-id="90d6b-332">Command</span></span>|
|---|---|
|<span data-ttu-id="90d6b-333">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="90d6b-333">Azure CLI</span></span>|[<span data-ttu-id="90d6b-334">azure network vnet delete</span><span class="sxs-lookup"><span data-stu-id="90d6b-334">azure network vnet delete</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="90d6b-335">PowerShell</span><span class="sxs-lookup"><span data-stu-id="90d6b-335">PowerShell</span></span>|[<span data-ttu-id="90d6b-336">Remove-AzureRmVirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="90d6b-336">Remove-AzureRmVirtualNetwork</span></span>](/powershell/module/azurerm.network/remove-azurermvirtualnetwork?toc=%2fazure%2fvirtual-network%2ftoc.json)|


## <span data-ttu-id="90d6b-337"><a name="next-steps"></a>接續步驟</span><span class="sxs-lookup"><span data-stu-id="90d6b-337"><a name="next-steps"></a>Next steps</span></span>

- <span data-ttu-id="90d6b-338">toocreate VM，然後將它連接 tooa 虛擬網路，請參閱[建立虛擬網路和 Vm 連線](virtual-network-get-started-vnet-subnet.md#create-vms)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-338">toocreate a VM and then connect it tooa virtual network, see [Create a virtual network and connect VMs](virtual-network-get-started-vnet-subnet.md#create-vms).</span></span>
- <span data-ttu-id="90d6b-339">請參閱 toofilter 虛擬網路內的子網路之間的網路流量[建立網路安全性群組](virtual-networks-create-nsg-arm-pportal.md)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-339">toofilter network traffic between subnets within a virtual network, see [Create network security groups](virtual-networks-create-nsg-arm-pportal.md).</span></span>
- <span data-ttu-id="90d6b-340">toopeer 虛擬網路 tooanother 虛擬網路，請參閱[建立虛擬網路對等互連](virtual-network-create-peering.md#portal)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-340">toopeer a virtual network tooanother virtual network, see [Create a virtual network peering](virtual-network-create-peering.md#portal).</span></span>
- <span data-ttu-id="90d6b-341">toolearn 有關選項的連接虛擬網路 tooan 在內部部署網路，請參閱[有關 VPN 閘道](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#diagrams)。</span><span class="sxs-lookup"><span data-stu-id="90d6b-341">toolearn about options for connecting a virtual network tooan on-premises network, see [About VPN Gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#diagrams).</span></span>
