<span data-ttu-id="21a7b-101">每個連線 tooa 的用戶端電腦使用點對站台的 VNet 必須安裝用戶端憑證。</span><span class="sxs-lookup"><span data-stu-id="21a7b-101">Each client computer that connects tooa VNet using Point-to-Site must have a client certificate installed.</span></span> <span data-ttu-id="21a7b-102">hello 用戶端憑證是從 hello 根憑證產生並安裝在每部用戶端電腦上。</span><span class="sxs-lookup"><span data-stu-id="21a7b-102">hello client certificate is generated from hello root certificate and installed on each client computer.</span></span> <span data-ttu-id="21a7b-103">如果未安裝有效的用戶端憑證，而且 hello 用戶端會嘗試 tooconnect toohello VNet，驗證將會失敗。</span><span class="sxs-lookup"><span data-stu-id="21a7b-103">If a valid client certificate is not installed and hello client tries tooconnect toohello VNet, authentication fails.</span></span>

<span data-ttu-id="21a7b-104">您可以針對每個用戶端，產生唯一的憑證，或者您可以使用相同憑證的多個用戶端 hello。</span><span class="sxs-lookup"><span data-stu-id="21a7b-104">You can either generate a unique certificate for each client, or you can use hello same certificate for multiple clients.</span></span> <span data-ttu-id="21a7b-105">hello 利用 toogenerating 唯一用戶端憑證是 hello 能力 toorevoke 單一憑證。</span><span class="sxs-lookup"><span data-stu-id="21a7b-105">hello advantage toogenerating unique client certificates is hello ability toorevoke a single certificate.</span></span> <span data-ttu-id="21a7b-106">否則，如果多個用戶端使用 hello 相同的用戶端憑證，您需要 toorevoke，toogenerate 也可以為所有 hello 使用該憑證 tooauthenticate 的用戶端安裝新的憑證。</span><span class="sxs-lookup"><span data-stu-id="21a7b-106">Otherwise, if multiple clients are using hello same client certificate and you need toorevoke it, you have toogenerate and install new certificates for all hello clients that use that certificate tooauthenticate.</span></span>

<span data-ttu-id="21a7b-107">您可以產生用戶端憑證使用下列方法 hello:</span><span class="sxs-lookup"><span data-stu-id="21a7b-107">You can generate client certificates using hello following methods:</span></span>

- <span data-ttu-id="21a7b-108">**企業憑證︰**</span><span class="sxs-lookup"><span data-stu-id="21a7b-108">**Enterprise certificate:**</span></span>

  - <span data-ttu-id="21a7b-109">如果您使用企業憑證解決方案時，產生用戶端憑證與 hello 通用名稱值格式 'name@yourdomain.com'，而不是 hello '網域名稱 \ 使用者名稱' 格式。</span><span class="sxs-lookup"><span data-stu-id="21a7b-109">If you are using an enterprise certificate solution, generate a client certificate with hello common name value format 'name@yourdomain.com', rather than hello 'domain name\username' format.</span></span>
  - <span data-ttu-id="21a7b-110">請確定 hello 用戶端憑證以與 hello 在 hello 使用清單中，第一個項目具有 「 用戶端驗證 ' hello 'User' 憑證範本為基礎，而不是智慧卡登入等。您可以按兩下 hello 用戶端憑證，並檢視檢查 hello 憑證**詳細資料 > 增強金鑰使用方法**。</span><span class="sxs-lookup"><span data-stu-id="21a7b-110">Make sure hello client certificate is based on hello 'User' certificate template that has 'Client Authentication' as hello first item in hello use list, rather than Smart Card Logon, etc. You can check hello certificate by double-clicking hello client certificate and viewing **Details > Enhanced Key Usage**.</span></span>

- <span data-ttu-id="21a7b-111">**自我簽署的根憑證：**務必遵循其中一種以下 hello P2S 憑證文章 hello 步驟。</span><span class="sxs-lookup"><span data-stu-id="21a7b-111">**Self-signed root certificate:** It's important that you follow hello steps in one of hello P2S certificate articles below.</span></span> <span data-ttu-id="21a7b-112">否則，hello 您建立的用戶端憑證，將無法使用 P2S 連線相容，並嘗試 tooconnect 時，用戶端會收到錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="21a7b-112">Otherwise, hello client certificates you create won't be compatible with P2S connections and clients receive an error when trying tooconnect.</span></span> <span data-ttu-id="21a7b-113">其中一個 hello 下列文章中的 hello 步驟產生相容的用戶端憑證：</span><span class="sxs-lookup"><span data-stu-id="21a7b-113">hello steps in either of hello following articles generate a compatible client certificate:</span></span> 

  * <span data-ttu-id="21a7b-114">[Windows 10 PowerShell 指示](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientcert)： 這些指示需要 Windows 10 和 PowerShell toogenerate 憑證。</span><span class="sxs-lookup"><span data-stu-id="21a7b-114">[Windows 10 PowerShell instructions](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientcert): These instructions require Windows 10 and PowerShell toogenerate certificates.</span></span> <span data-ttu-id="21a7b-115">產生的 hello 憑證可以安裝在任何支援 P2S 用戶端。</span><span class="sxs-lookup"><span data-stu-id="21a7b-115">hello certificates that are generated can be installed on any supported P2S client.</span></span>
  * <span data-ttu-id="21a7b-116">[MakeCert 指示](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site-makecert.md)： 使用 MakeCert，如果您沒有存取 tooa Windows 10 電腦 toouse toogenerate 憑證。</span><span class="sxs-lookup"><span data-stu-id="21a7b-116">[MakeCert instructions](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site-makecert.md): Use MakeCert if you don't have access tooa Windows 10 computer toouse toogenerate certificates.</span></span> <span data-ttu-id="21a7b-117">MakeCert 已被取代，但您仍然可以使用 MakeCert toogenerate 憑證。</span><span class="sxs-lookup"><span data-stu-id="21a7b-117">MakeCert deprecated, but you can still use MakeCert toogenerate certificates.</span></span> <span data-ttu-id="21a7b-118">產生的 hello 憑證可以安裝在任何支援 P2S 用戶端。</span><span class="sxs-lookup"><span data-stu-id="21a7b-118">hello certificates that are generated can be installed on any supported P2S client.</span></span>

  <span data-ttu-id="21a7b-119">當您從使用上述指示 hello 的自我簽署的根憑證產生用戶端憑證時，它具有電腦上自動安裝 hello toogenerate 有使用它。</span><span class="sxs-lookup"><span data-stu-id="21a7b-119">When you generate a client certificate from a self-signed root certificate using hello preceding instructions, it's automatically installed on hello computer that you used toogenerate it.</span></span> <span data-ttu-id="21a7b-120">如果您想 tooinstall 另一部用戶端電腦上的用戶端憑證，您需要 tooexport 成.pfx，連同 hello 整個憑證鏈結。</span><span class="sxs-lookup"><span data-stu-id="21a7b-120">If you want tooinstall a client certificate on another client computer, you need tooexport it as a .pfx, along with hello entire certificate chain.</span></span> <span data-ttu-id="21a7b-121">這會建立.pfx 檔案，其中包含所需 hello 用戶端 toosuccessfully 驗證 hello 根憑證資訊。</span><span class="sxs-lookup"><span data-stu-id="21a7b-121">This creates a .pfx file that contains hello root certificate information that is required for hello client toosuccessfully authenticate.</span></span> <span data-ttu-id="21a7b-122">步驟 tooexport 憑證，請參閱[憑證-匯出用戶端憑證](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientexport)。</span><span class="sxs-lookup"><span data-stu-id="21a7b-122">For steps tooexport a certificate, see [Certificates - export a client certificate](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientexport).</span></span>
