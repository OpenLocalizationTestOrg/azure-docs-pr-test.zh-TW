

<span data-ttu-id="346ba-101">建立 Azure 的 Web 應用程式專案時，您可以在 Azure 中佈建虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="346ba-101">When you create a web application project for Azure, you can provision a virtual machine in Azure.</span></span> <span data-ttu-id="346ba-102">您可以再設定 hello 虛擬機器與其他軟體，或使用 hello 虛擬機器進行診斷或偵錯。</span><span class="sxs-lookup"><span data-stu-id="346ba-102">You can then configure hello virtual machine with additional software, or use hello virtual machine for diagnostic or debugging purposes.</span></span>

<span data-ttu-id="346ba-103">toocreate 虛擬機器，當您建立 web 應用程式，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="346ba-103">toocreate a virtual machine when you create a web application, follow these steps:</span></span>

1. <span data-ttu-id="346ba-104">在 Visual Studio 中，按一下 **檔案** > **新增** > **專案** > **Web**，然後選擇 **ASP.NET Web 應用程式**(下 hello **Visual C#**或**Visual Basic**節點)。</span><span class="sxs-lookup"><span data-stu-id="346ba-104">In Visual Studio, click **File** > **New** > **Project** > **Web**, and then choose **ASP.NET Web Application** (under hello **Visual C#** or **Visual Basic** nodes).</span></span>
2. <span data-ttu-id="346ba-105">在 hello**新增 ASP.NET 專案**對話方塊中，選取 hello 類型 web 應用程式，並在 hello Azure hello 對話方塊 （位於 hello 右下角） 區段，請確定該 hello **hello 雲端中的主機**選取核取方塊 (此核取方塊會標示為**建立遠端資源**某些安裝中)。</span><span class="sxs-lookup"><span data-stu-id="346ba-105">In hello **New ASP.NET Project** dialog box, select hello type of web application you want, and in hello Azure section of hello dialog box (in hello lower-right corner), make sure that hello **Host in hello cloud** check box is selected (this check box is labeled **Create remote resources** in some installations).</span></span>
   
    ![][0]
3. <span data-ttu-id="346ba-106">此範例中，在 Microsoft Azure 的 hello 下拉式清單中選擇 [**虛擬機器 (v1)**，然後按一下hello**確定**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="346ba-106">For this example, in hello drop-down list under Microsoft Azure, choose **Virtual Machine (v1)**, and then click hello **OK** button.</span></span>
4. <span data-ttu-id="346ba-107">登入 tooAzure 如果系統提示您輸入。</span><span class="sxs-lookup"><span data-stu-id="346ba-107">Sign in tooAzure if you're prompted.</span></span> <span data-ttu-id="346ba-108">hello**建立虛擬機器** 對話方塊隨即出現。</span><span class="sxs-lookup"><span data-stu-id="346ba-108">hello **Create Virtual Machine** dialog box appears.</span></span>
   
    ![][2]
5. <span data-ttu-id="346ba-109">在 hello **DNS 名稱**方塊中，輸入 hello 虛擬機器的名稱。</span><span class="sxs-lookup"><span data-stu-id="346ba-109">In hello **DNS name** box, enter a name for hello virtual machine.</span></span> <span data-ttu-id="346ba-110">hello DNS 名稱必須是在 Azure 中是唯一的。</span><span class="sxs-lookup"><span data-stu-id="346ba-110">hello DNS name must be unique in Azure.</span></span> <span data-ttu-id="346ba-111">如果您輸入的 hello 名稱無法使用，則會出現紅色驚嘆號。</span><span class="sxs-lookup"><span data-stu-id="346ba-111">If hello name you entered isn't available, a red exclamation point appears.</span></span>
6. <span data-ttu-id="346ba-112">在 hello**映像**清單中，選擇您想要讓 toobase hello 虛擬機器的 hello 映像。</span><span class="sxs-lookup"><span data-stu-id="346ba-112">In hello **Image** list, choose hello image you want toobase hello virtual machine on.</span></span> <span data-ttu-id="346ba-113">您可以選擇任何 hello 標準 Azure 虛擬機器映像或您已上傳 tooAzure 的映像。</span><span class="sxs-lookup"><span data-stu-id="346ba-113">You can choose any of hello standard Azure virtual machine images or your image that you've uploaded tooAzure.</span></span>
7. <span data-ttu-id="346ba-114">保留 hello**啟用 IIS 和 Web Deploy**選取除非您計劃 tooinstall 不同的網頁伺服器的核取方塊。</span><span class="sxs-lookup"><span data-stu-id="346ba-114">Leave hello **Enable IIS and Web Deploy** check box selected unless you plan tooinstall a different web server.</span></span> <span data-ttu-id="346ba-115">如果您停用 Web Deploy，將無法從 Visual Studio 無法 toopublish。</span><span class="sxs-lookup"><span data-stu-id="346ba-115">You won't be able toopublish from Visual Studio if you disable Web Deploy.</span></span> <span data-ttu-id="346ba-116">您可以新增 IIS 和 Web Deploy tooany hello 封裝 Windows Server 映像，包括您自己的自訂映像。</span><span class="sxs-lookup"><span data-stu-id="346ba-116">You can add IIS and Web Deploy tooany of hello packaged Windows Server images, including your own custom images.</span></span>
8. <span data-ttu-id="346ba-117">在 hello**大小**清單中，選擇 hello hello 虛擬機器大小。</span><span class="sxs-lookup"><span data-stu-id="346ba-117">In hello **Size** list, choose hello size of hello virtual machine.</span></span>
9. <span data-ttu-id="346ba-118">指定 hello 登入此虛擬機器的認證。</span><span class="sxs-lookup"><span data-stu-id="346ba-118">Specify hello sign-in credentials for this virtual machine.</span></span> <span data-ttu-id="346ba-119">請記下它們，因為您需要它們 tooaccess hello 透過遠端桌面的電腦。</span><span class="sxs-lookup"><span data-stu-id="346ba-119">Make a note of them, because you'll need them tooaccess hello machine through Remote Desktop.</span></span>
10. <span data-ttu-id="346ba-120">在 hello**位置**清單中，選擇 hello 區域 toohost hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="346ba-120">In hello **Location** list, choose hello region toohost hello virtual machine.</span></span>
11. <span data-ttu-id="346ba-121">按一下 hello**確定**按鈕 toostart 建立 hello 的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="346ba-121">Click  hello **OK** button toostart creating hello virtual machine.</span></span> <span data-ttu-id="346ba-122">您可以依照 hello 作業進度的 hello 在 hello**輸出**視窗。</span><span class="sxs-lookup"><span data-stu-id="346ba-122">You can follow hello progress of hello operation in hello **Output** window.</span></span>
    
    ![][3]
12. <span data-ttu-id="346ba-123">Hello 虛擬機器已佈建時，會建立已發行的指令碼中**PublishScripts**方案中的節點。</span><span class="sxs-lookup"><span data-stu-id="346ba-123">When hello virtual machine is provisioned, published scripts are created in a **PublishScripts** node in your solution.</span></span> <span data-ttu-id="346ba-124">hello 已發行的指令碼執行和佈建虛擬機器在 Azure 中。</span><span class="sxs-lookup"><span data-stu-id="346ba-124">hello published script runs and provisions a virtual machine in Azure.</span></span> <span data-ttu-id="346ba-125">hello**輸出** 視窗會顯示 hello 狀態。</span><span class="sxs-lookup"><span data-stu-id="346ba-125">hello **Output** window shows hello status.</span></span> <span data-ttu-id="346ba-126">hello 指令碼會執行下列動作 tooset hello 虛擬機器的 hello:</span><span class="sxs-lookup"><span data-stu-id="346ba-126">hello script performs hello following actions tooset up hello virtual machine:</span></span>
    
    * <span data-ttu-id="346ba-127">如果不存在，請建立 hello 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="346ba-127">Creates hello virtual machine if it doesn't already exist.</span></span>
    * <span data-ttu-id="346ba-128">建立儲存體帳戶名稱的開頭與`devtest`，但前提是已經沒有儲存體帳戶 hello 指定區域中。</span><span class="sxs-lookup"><span data-stu-id="346ba-128">Creates a storage account with a name that begins with `devtest`, but only if there isn't already such a storage account in hello specified region.</span></span>
    * <span data-ttu-id="346ba-129">建立雲端服務，為容器的 hello 虛擬機器，並建立 hello web 應用程式的 web 角色。</span><span class="sxs-lookup"><span data-stu-id="346ba-129">Creates a cloud service as a container for hello virtual machine, and creates a web role for hello web application.</span></span>
    * <span data-ttu-id="346ba-130">Hello 虛擬機器上，會設定 Web Deploy。</span><span class="sxs-lookup"><span data-stu-id="346ba-130">Configures Web Deploy on hello virtual machine.</span></span>
    * <span data-ttu-id="346ba-131">設定 IIS 和 ASP.NET hello 虛擬機器上。</span><span class="sxs-lookup"><span data-stu-id="346ba-131">Configures IIS and ASP.NET on hello virtual machine.</span></span>
    
    ![][4]
13. <span data-ttu-id="346ba-132">（選擇性）您可以連接 toohello 新的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="346ba-132">(Optional) You can connect toohello new virtual machine.</span></span> <span data-ttu-id="346ba-133">在**伺服器總管**，依序展開 hello**虛擬機器**節點，選擇 hello 節點 hello 您所建立的虛擬機器和其捷徑功能表上，選擇**使用遠端桌面連線**.</span><span class="sxs-lookup"><span data-stu-id="346ba-133">In **Server Explorer**, expand hello **Virtual Machines** node, choose hello node for hello virtual machine you created, and on its shortcut menu, choose **Connect with Remote Desktop**.</span></span> <span data-ttu-id="346ba-134">或者，在**Cloud Explorer**您可以選擇**在入口網站中開啟**hello 快顯功能表且 toohello 虛擬機器連線。</span><span class="sxs-lookup"><span data-stu-id="346ba-134">Alternatively, in **Cloud Explorer** you can choose **Open in Portal** on hello shortcut menu and connect toohello virtual machine there.</span></span>
    
    ![][5]

## <a name="next-steps"></a><span data-ttu-id="346ba-135">後續步驟</span><span class="sxs-lookup"><span data-stu-id="346ba-135">Next steps</span></span>
<span data-ttu-id="346ba-136">如果您想 toocustomize hello 已發行的指令碼在建立時，讀取在深入資訊[使用 Windows PowerShell 指令碼 tooPublish tooDev 和測試環境](http://msdn.microsoft.com/library/dn642480.aspx)。</span><span class="sxs-lookup"><span data-stu-id="346ba-136">If you want toocustomize hello published scripts you created, read more in-depth information at [Using Windows PowerShell Scripts tooPublish tooDev and Test Environments](http://msdn.microsoft.com/library/dn642480.aspx).</span></span>

[0]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_NewProject.PNG
[1]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_SignIn.PNG
[2]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_CreateVM.PNG
[3]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_Provisioning.png
[4]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_SolutionExplorer.png
[5]: ./media/virtual-machines-common-classic-web-app-visual-studio/VS_Create_VM_Connect.png
