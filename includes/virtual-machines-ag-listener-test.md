<span data-ttu-id="8b166-101">在此步驟中，您必須測試 hello 可用性群組接聽程式使用 hello 執行的用戶端應用程式相同的網路。</span><span class="sxs-lookup"><span data-stu-id="8b166-101">In this step, you test hello availability group listener by using a client application that's running on hello same network.</span></span>

<span data-ttu-id="8b166-102">用戶端連接性具有下列需求的 hello:</span><span class="sxs-lookup"><span data-stu-id="8b166-102">Client connectivity has hello following requirements:</span></span>

* <span data-ttu-id="8b166-103">用戶端連線 toohello 接聽程式必須來自位於不同雲端服務比其中一個 hello 主機 hello Always On 可用性複本的電腦。</span><span class="sxs-lookup"><span data-stu-id="8b166-103">Client connections toohello listener must come from machines that reside in a different cloud service than hello one that hosts hello Always On availability replicas.</span></span>
* <span data-ttu-id="8b166-104">如果 hello Alwayson 複本位於不同子網路中，用戶端必須指定*MultisubnetFailover = True* hello 連接字串中。</span><span class="sxs-lookup"><span data-stu-id="8b166-104">If hello Always On replicas are in different subnets, clients must specify *MultisubnetFailover=True* in hello connection string.</span></span> <span data-ttu-id="8b166-105">這個條件會導致平行連接嘗試中 hello tooreplicas 不同子網路。</span><span class="sxs-lookup"><span data-stu-id="8b166-105">This condition results in parallel connection attempts tooreplicas in hello various subnets.</span></span> <span data-ttu-id="8b166-106">此案例包含跨區域的 Always On 可用性群組部署。</span><span class="sxs-lookup"><span data-stu-id="8b166-106">This scenario includes a cross-region Always On availability group deployment.</span></span>

<span data-ttu-id="8b166-107">其中一個範例是從一個 hello Vm 在 hello tooconnect toohello 接聽程式相同的 Azure 虛擬網路 （但不是其中裝載之複本）。</span><span class="sxs-lookup"><span data-stu-id="8b166-107">One example is tooconnect toohello listener from one of hello VMs in hello same Azure virtual network (but not one that hosts a replica).</span></span> <span data-ttu-id="8b166-108">輕鬆 toocomplete 這項測試很 tootry tooconnect SQL Server Management Studio toohello 可用性群組接聽程式。</span><span class="sxs-lookup"><span data-stu-id="8b166-108">An easy way toocomplete this test is tootry tooconnect SQL Server Management Studio toohello availability group listener.</span></span> <span data-ttu-id="8b166-109">另一個簡單的方法是 toorun [SQLCMD.exe](https://technet.microsoft.com/library/ms162773.aspx)、，如下所示：</span><span class="sxs-lookup"><span data-stu-id="8b166-109">Another simple method is toorun [SQLCMD.exe](https://technet.microsoft.com/library/ms162773.aspx), as follows:</span></span>

    sqlcmd -S "<ListenerName>,<EndpointPort>" -d "<DatabaseName>" -Q "select @@servername, db_name()" -l 15

> [!NOTE]
> <span data-ttu-id="8b166-110">如果 hello EndpointPort 值*1433年*，您不需要的 toospecify hello 呼叫它。</span><span class="sxs-lookup"><span data-stu-id="8b166-110">If hello EndpointPort value is *1433*, you are not required toospecify it in hello call.</span></span> <span data-ttu-id="8b166-111">hello 前一次呼叫也會假設該 hello 用戶端電腦已聯結的 toohello 相同的網域和該 hello 呼叫者已授與權限 hello 資料庫使用 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="8b166-111">hello previous call also assumes that hello client machine is joined toohello same domain and that hello caller has been granted permissions on hello database by using Windows authentication.</span></span>
> 
> 

<span data-ttu-id="8b166-112">當您測試 hello 接聽程式時，透過 hello 確定用戶端可以跨容錯移轉連接 toohello 接聽程式的可用性群組 toomake 確定 toofail。</span><span class="sxs-lookup"><span data-stu-id="8b166-112">When you test hello listener, be sure toofail over hello availability group toomake sure that clients can connect toohello listener across failovers.</span></span>

